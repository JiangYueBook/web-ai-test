/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var Lt=Object.defineProperty;var wo=Object.getOwnPropertyDescriptor;var Oo=Object.getOwnPropertyNames;var _o=Object.prototype.hasOwnProperty;var Z=(o,s)=>()=>(o&&(s=o(o=0)),s);var Dr=(o,s)=>()=>(s||o((s={exports:{}}).exports,s),s.exports),Ur=(o,s)=>{for(var i in s)Lt(o,i,{get:s[i],enumerable:!0})},To=(o,s,i,m)=>{if(s&&typeof s=="object"||typeof s=="function")for(let p of Oo(s))!_o.call(o,p)&&p!==i&&Lt(o,p,{get:()=>s[p],enumerable:!(m=wo(s,p))||m.enumerable});return o};var hr=o=>To(Lt({},"__esModule",{value:!0}),o);var pt,gr,Ke,mt,ht=Z(()=>{"use strict";pt=new Map,gr=[],Ke=(o,s,i)=>{if(s&&typeof s.init=="function"&&typeof s.createInferenceSessionHandler=="function"){let m=pt.get(o);if(m===void 0)pt.set(o,{backend:s,priority:i});else{if(m.priority>i)return;if(m.priority===i&&m.backend!==s)throw new Error(`cannot register backend "${o}" using priority ${i}`)}if(i>=0){let p=gr.indexOf(o);p!==-1&&gr.splice(p,1);for(let O=0;O<gr.length;O++)if(pt.get(gr[O]).priority<=i){gr.splice(O,0,o);return}gr.push(o)}return}throw new TypeError("not a valid backend")},mt=async o=>{let s=o.length===0?gr:o,i=[];for(let m of s){let p=pt.get(m);if(p){if(p.initialized)return p.backend;if(p.aborted)continue;let O=!!p.initPromise;try{return O||(p.initPromise=p.backend.init()),await p.initPromise,p.initialized=!0,p.backend}catch(c){O||i.push({name:m,err:c}),p.aborted=!0}finally{delete p.initPromise}}}throw new Error(`no available backend found. ERR: ${i.map(m=>`[${m.name}] ${m.err}`).join(", ")}`)}});var jn=Z(()=>{"use strict";ht()});var Nn,zn=Z(()=>{"use strict";Nn="1.17.0"});var Yn,$t,Gn=Z(()=>{"use strict";zn();Yn="warning",$t={wasm:{},webgl:{},webgpu:{},versions:{common:Nn},set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);Yn=o}},get logLevel(){return Yn}};Object.defineProperty($t,"logLevel",{enumerable:!0})});var ae,Vn=Z(()=>{"use strict";Gn();ae=$t});var qn,Xn,Jn=Z(()=>{"use strict";qn=(o,s)=>{let i=document.createElement("canvas");i.width=o.dims[3],i.height=o.dims[2];let m=i.getContext("2d");if(m!=null){let p,O;s?.tensorLayout!==void 0&&s.tensorLayout==="NHWC"?(p=o.dims[2],O=o.dims[3]):(p=o.dims[3],O=o.dims[2]);let c=s?.format!==void 0?s.format:"RGB",g=s?.norm,_,f;g===void 0||g.mean===void 0?_=[255,255,255,255]:typeof g.mean=="number"?_=[g.mean,g.mean,g.mean,g.mean]:(_=[g.mean[0],g.mean[1],g.mean[2],0],g.mean[3]!==void 0&&(_[3]=g.mean[3])),g===void 0||g.bias===void 0?f=[0,0,0,0]:typeof g.bias=="number"?f=[g.bias,g.bias,g.bias,g.bias]:(f=[g.bias[0],g.bias[1],g.bias[2],0],g.bias[3]!==void 0&&(f[3]=g.bias[3]));let T=O*p,M=0,E=T,F=T*2,j=-1;c==="RGBA"?(M=0,E=T,F=T*2,j=T*3):c==="RGB"?(M=0,E=T,F=T*2):c==="RBG"&&(M=0,F=T,E=T*2);for(let x=0;x<O;x++)for(let L=0;L<p;L++){let Y=(o.data[M++]-f[0])*_[0],U=(o.data[E++]-f[1])*_[1],K=(o.data[F++]-f[2])*_[2],de=j===-1?255:(o.data[j++]-f[3])*_[3];m.fillStyle="rgba("+Y+","+U+","+K+","+de+")",m.fillRect(L,x,1,1)}return i.toDataURL()}else throw new Error("Can not access image data")},Xn=(o,s)=>{let i=document.createElement("canvas").getContext("2d"),m;if(i!=null){let p,O,c;s?.tensorLayout!==void 0&&s.tensorLayout==="NHWC"?(p=o.dims[2],O=o.dims[1],c=o.dims[3]):(p=o.dims[3],O=o.dims[2],c=o.dims[1]);let g=s!==void 0&&s.format!==void 0?s.format:"RGB",_=s?.norm,f,T;_===void 0||_.mean===void 0?f=[255,255,255,255]:typeof _.mean=="number"?f=[_.mean,_.mean,_.mean,_.mean]:(f=[_.mean[0],_.mean[1],_.mean[2],255],_.mean[3]!==void 0&&(f[3]=_.mean[3])),_===void 0||_.bias===void 0?T=[0,0,0,0]:typeof _.bias=="number"?T=[_.bias,_.bias,_.bias,_.bias]:(T=[_.bias[0],_.bias[1],_.bias[2],0],_.bias[3]!==void 0&&(T[3]=_.bias[3]));let M=O*p;if(s!==void 0&&(s.format!==void 0&&c===4&&s.format!=="RGBA"||c===3&&s.format!=="RGB"&&s.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,F=0,j=1,x=2,L=3,Y=0,U=M,K=M*2,de=-1;g==="RGBA"?(Y=0,U=M,K=M*2,de=M*3):g==="RGB"?(Y=0,U=M,K=M*2):g==="RBG"&&(Y=0,K=M,U=M*2),m=i.createImageData(p,O);for(let J=0;J<O*p;F+=E,j+=E,x+=E,L+=E,J++)m.data[F]=(o.data[Y++]-T[0])*f[0],m.data[j]=(o.data[U++]-T[1])*f[1],m.data[x]=(o.data[K++]-T[2])*f[2],m.data[L]=de===-1?255:(o.data[de++]-T[3])*f[3]}else throw new Error("Can not access image data");return m}});var Ht,Zn,Kn,Qn,ea,ra=Z(()=>{"use strict";gt();Ht=(o,s)=>{if(o===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");if(s.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:i,width:m}=s,p=s.norm??{mean:255,bias:0},O,c;typeof p.mean=="number"?O=[p.mean,p.mean,p.mean,p.mean]:O=[p.mean[0],p.mean[1],p.mean[2],p.mean[3]??255],typeof p.bias=="number"?c=[p.bias,p.bias,p.bias,p.bias]:c=[p.bias[0],p.bias[1],p.bias[2],p.bias[3]??0];let g=s.format!==void 0?s.format:"RGBA",_=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",f=i*m,T=_==="RGBA"?new Float32Array(f*4):new Float32Array(f*3),M=4,E=0,F=1,j=2,x=3,L=0,Y=f,U=f*2,K=-1;g==="RGB"&&(M=3,E=0,F=1,j=2,x=-1),_==="RGBA"?K=f*3:_==="RBG"?(L=0,U=f,Y=f*2):_==="BGR"&&(U=0,Y=f,L=f*2);for(let J=0;J<f;J++,E+=M,j+=M,F+=M,x+=M)T[L++]=(o[E]+c[0])/O[0],T[Y++]=(o[F]+c[1])/O[1],T[U++]=(o[j]+c[2])/O[2],K!==-1&&x!==-1&&(T[K++]=(o[x]+c[3])/O[3]);return _==="RGBA"?new Ae("float32",T,[1,4,i,m]):new Ae("float32",T,[1,3,i,m])},Zn=async(o,s)=>{let i=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,m=typeof ImageData<"u"&&o instanceof ImageData,p=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,O=typeof o=="string",c,g=s??{};if(i){let _=document.createElement("canvas");_.width=o.width,_.height=o.height;let f=_.getContext("2d");if(f!=null){let T=o.height,M=o.width;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(T=s.resizedHeight,M=s.resizedWidth),s!==void 0){if(g=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");g.tensorFormat="RGBA",g.height=T,g.width=M}else g.tensorFormat="RGBA",g.height=T,g.width=M;f.drawImage(o,0,0),c=f.getImageData(0,0,M,T).data}else throw new Error("Can not access image data")}else if(m){let _,f;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(_=s.resizedHeight,f=s.resizedWidth):(_=o.height,f=o.width),s!==void 0&&(g=s),g.format="RGBA",g.height=_,g.width=f,s!==void 0){let T=document.createElement("canvas");T.width=f,T.height=_;let M=T.getContext("2d");if(M!=null)M.putImageData(o,0,0),c=M.getImageData(0,0,f,_).data;else throw new Error("Can not access image data")}else c=o.data}else if(p){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");let _=document.createElement("canvas");_.width=o.width,_.height=o.height;let f=_.getContext("2d");if(f!=null){let T=o.height,M=o.width;return f.drawImage(o,0,0,M,T),c=f.getImageData(0,0,M,T).data,g.height=T,g.width=M,Ht(c,g)}else throw new Error("Can not access image data")}else{if(O)return new Promise((_,f)=>{let T=document.createElement("canvas"),M=T.getContext("2d");if(!o||!M)return f();let E=new Image;E.crossOrigin="Anonymous",E.src=o,E.onload=()=>{T.width=E.width,T.height=E.height,M.drawImage(E,0,0,T.width,T.height);let F=M.getImageData(0,0,T.width,T.height);g.height=T.height,g.width=T.width,_(Ht(F.data,g))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(c!==void 0)return Ht(c,g);throw new Error("Input data provided is not supported - aborted tensor creation")},Kn=(o,s)=>{let{width:i,height:m,download:p,dispose:O}=s,c=[1,m,i,4];return new Ae({location:"texture",type:"float32",texture:o,dims:c,download:p,dispose:O})},Qn=(o,s)=>{let{dataType:i,dims:m,download:p,dispose:O}=s;return new Ae({location:"gpu-buffer",type:i??"float32",gpuBuffer:o,dims:m,download:p,dispose:O})},ea=(o,s,i)=>new Ae({location:"cpu-pinned",type:o,data:s,dims:i??[s.length]})});var Gr,yt,ta,na,aa=Z(()=>{"use strict";Gr=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),yt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),ta=!1,na=()=>{if(!ta){ta=!0;let o=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",s=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";o&&(Gr.set("int64",BigInt64Array),yt.set(BigInt64Array,"int64")),s&&(Gr.set("uint64",BigUint64Array),yt.set(BigUint64Array,"uint64"))}}});var oa,ia,sa=Z(()=>{"use strict";gt();oa=o=>{let s=1;for(let i=0;i<o.length;i++){let m=o[i];if(typeof m!="number"||!Number.isSafeInteger(m))throw new TypeError(`dims[${i}] must be an integer, got: ${m}`);if(m<0)throw new RangeError(`dims[${i}] must be a non-negative integer, got: ${m}`);s*=m}return s},ia=(o,s)=>{switch(o.location){case"cpu":return new Ae(o.type,o.data,s);case"cpu-pinned":return new Ae({location:"cpu-pinned",data:o.data,type:o.type,dims:s});case"texture":return new Ae({location:"texture",texture:o.texture,type:o.type,dims:s});case"gpu-buffer":return new Ae({location:"gpu-buffer",gpuBuffer:o.gpuBuffer,type:o.type,dims:s});default:throw new Error(`tensorReshape: tensor location ${o.location} is not supported`)}}});var Ae,gt=Z(()=>{"use strict";Jn();ra();aa();sa();Ae=class{constructor(s,i,m){na();let p,O;if(typeof s=="object"&&"location"in s)switch(this.dataLocation=s.location,p=s.type,O=s.dims,s.location){case"cpu-pinned":{let g=Gr.get(p);if(!g)throw new TypeError(`unsupported type "${p}" to create tensor from pinned buffer`);if(!(s.data instanceof g))throw new TypeError(`buffer should be of type ${g.name}`);this.cpuData=s.data;break}case"texture":{if(p!=="float32")throw new TypeError(`unsupported type "${p}" to create tensor from texture`);this.gpuTextureData=s.texture,this.downloader=s.download,this.disposer=s.dispose;break}case"gpu-buffer":{if(p!=="float32"&&p!=="float16"&&p!=="int32"&&p!=="int64"&&p!=="uint32"&&p!=="bool")throw new TypeError(`unsupported type "${p}" to create tensor from gpu buffer`);this.gpuBufferData=s.gpuBuffer,this.downloader=s.download,this.disposer=s.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let g,_;if(typeof s=="string")if(p=s,_=m,s==="string"){if(!Array.isArray(i))throw new TypeError("A string tensor's data must be a string array.");g=i}else{let f=Gr.get(s);if(f===void 0)throw new TypeError(`Unsupported tensor type: ${s}.`);if(Array.isArray(i)){if(s==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");s==="uint64"||s==="int64"?g=f.from(i,BigInt):g=f.from(i)}else if(i instanceof f)g=i;else throw new TypeError(`A ${p} tensor's data must be type of ${f}`)}else if(_=i,Array.isArray(s)){if(s.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let f=typeof s[0];if(f==="string")p="string",g=s;else if(f==="boolean")p="bool",g=Uint8Array.from(s);else throw new TypeError(`Invalid element type of data array: ${f}.`)}else{let f=yt.get(s.constructor);if(f===void 0)throw new TypeError(`Unsupported type for tensor data: ${s.constructor}.`);p=f,g=s}if(_===void 0)_=[g.length];else if(!Array.isArray(_))throw new TypeError("A tensor's dims must be a number array");O=_,this.cpuData=g,this.dataLocation="cpu"}let c=oa(O);if(this.cpuData&&c!==this.cpuData.length)throw new Error(`Tensor's size(${c}) does not match data length(${this.cpuData.length}).`);this.type=p,this.dims=O,this.size=c}static async fromImage(s,i){return Zn(s,i)}static fromTexture(s,i){return Kn(s,i)}static fromGpuBuffer(s,i){return Qn(s,i)}static fromPinnedBuffer(s,i,m){return ea(s,i,m)}toDataURL(s){return qn(this,s)}toImageData(s){return Xn(this,s)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(s){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let i=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=i,s&&this.disposer&&(this.disposer(),this.disposer=void 0),i}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(s){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return ia(this,s)}}});var ye,vt=Z(()=>{"use strict";gt();ye=Ae});var bt,ua=Z(()=>{"use strict";ht();vt();bt=class o{constructor(s){this.handler=s}async run(s,i,m){let p={},O={};if(typeof s!="object"||s===null||s instanceof ye||Array.isArray(s))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let c=!0;if(typeof i=="object"){if(i===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(i instanceof ye)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(i)){if(i.length===0)throw new TypeError("'fetches' cannot be an empty array.");c=!1;for(let f of i){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);p[f]=null}if(typeof m=="object"&&m!==null)O=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,T=Object.getOwnPropertyNames(i);for(let M of this.outputNames)if(T.indexOf(M)!==-1){let E=i[M];(E===null||E instanceof ye)&&(f=!0,c=!1,p[M]=E)}if(f){if(typeof m=="object"&&m!==null)O=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else O=i}}else if(typeof i<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of this.inputNames)if(typeof s[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(c)for(let f of this.outputNames)p[f]=null;let g=await this.handler.run(s,p,O),_={};for(let f in g)if(Object.hasOwnProperty.call(g,f)){let T=g[f];T instanceof ye?_[f]=T:_[f]=new ye(T.type,T.data,T.dims)}return _}async release(){return this.handler.dispose()}static async create(s,i,m,p){let O,c={};if(typeof s=="string"){if(O=s,typeof i=="object"&&i!==null)c=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof Uint8Array){if(O=s,typeof i=="object"&&i!==null)c=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer){let M=s,E=0,F=s.byteLength;if(typeof i=="object"&&i!==null)c=i;else if(typeof i=="number"){if(E=i,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=M.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${M.byteLength}).`);if(F=s.byteLength-E,typeof m=="number"){if(F=m,!Number.isSafeInteger(F))throw new RangeError("'byteLength' must be an integer.");if(F<=0||E+F>M.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${M.byteLength-E}].`);if(typeof p=="object"&&p!==null)c=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else if(typeof m<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof i<"u")throw new TypeError("'options' must be an object.");O=new Uint8Array(M,E,F)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let _=(c.executionProviders||[]).map(M=>typeof M=="string"?M:M.name),T=await(await mt(_)).createInferenceSessionHandler(O,c);return new o(T)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var fa,la=Z(()=>{"use strict";ua();fa=bt});var ca=Z(()=>{"use strict"});var Ao,wt,da=Z(()=>{"use strict";ht();vt();Ao="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",wt=class o{constructor(s,i,m){this.handler=s,this.hasOptimizerModel=i,this.hasEvalModel=m}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(s,i){let m=s.evalModel||"",p=s.optimizerModel||"",O=i||{},g=(O.executionProviders||[]).map(f=>typeof f=="string"?f:f.name),_=await mt(g);if(_.createTrainingSessionHandler){let f=await _.createTrainingSessionHandler(s.checkpointState,s.trainModel,m,p,O);return new o(f,!!s.optimizerModel,!!s.evalModel)}else throw new Error(Ao)}typeNarrowingForRunStep(s,i,m,p,O){let c={},g={};if(typeof m!="object"||m===null||m instanceof ye||Array.isArray(m))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let _=!0;if(typeof p=="object"){if(p===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(p instanceof ye)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(p)){if(p.length===0)throw new TypeError("'fetches' cannot be an empty array.");_=!1;for(let f of p){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(i.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);c[f]=null}if(typeof O=="object"&&O!==null)g=O;else if(typeof O<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,T=Object.getOwnPropertyNames(p);for(let M of i)if(T.indexOf(M)!==-1){let E=p[M];(E===null||E instanceof ye)&&(f=!0,_=!1,c[M]=E)}if(f){if(typeof O=="object"&&O!==null)g=O;else if(typeof O<"u")throw new TypeError("'options' must be an object.")}else g=p}}else if(typeof p<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of s)if(typeof m[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(_)for(let f of i)c[f]=null;return[c,g]}convertHandlerReturnTypeToMapOfTensors(s){let i={};for(let m in s)if(Object.hasOwnProperty.call(s,m)){let p=s[m];p instanceof ye?i[m]=p:i[m]=new ye(p.type,p.data,p.dims)}return i}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(s,i,m){let[p,O]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,s,i,m),c=await this.handler.runTrainStep(s,p,O);return this.convertHandlerReturnTypeToMapOfTensors(c)}async runOptimizerStep(s){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(s||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(s,i,m){if(this.hasEvalModel){let[p,O]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,s,i,m),c=await this.handler.runEvalStep(s,p,O);return this.convertHandlerReturnTypeToMapOfTensors(c)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(s=!0){return this.handler.getParametersSize(s)}async loadParametersBuffer(s,i=!0){let m=await this.getParametersSize(i);if(s.length!==4*m)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(s,i)}async getContiguousParameters(s=!0){return this.handler.getContiguousParameters(s)}async release(){return this.handler.dispose()}}});var pa,ma=Z(()=>{"use strict";da();pa=wt});var jt={};Ur(jt,{InferenceSession:()=>fa,Tensor:()=>ye,TrainingSession:()=>pa,env:()=>ae,registerBackend:()=>Ke});var yr=Z(()=>{"use strict";jn();Vn();la();vt();ca();ma()});var Nt={};Ur(Nt,{readFile:()=>Eo});var Eo,zt=Z(()=>{Eo=void 0});var Yt={};Ur(Yt,{join:()=>So});var So,Gt=Z(()=>{So=void 0});var va=Dr((ya,Vt)=>{"use strict";var ga=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(s={}){var i=s,m,p;i.ready=new Promise((t,n)=>{m=t,p=n});var O=Object.assign({},i),c="./this.program",g=typeof window=="object",_=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T="",M,E,F;if(f){var j=(zt(),hr(Nt)),x=(Gt(),hr(Yt));T=_?x.dirname(T)+"/":__dirname+"/",M=(t,n)=>(t=t.startsWith("file://")?new URL(t):x.normalize(t),j.readFileSync(t,n?void 0:"utf8")),F=t=>(t=M(t,!0),t.buffer||(t=new Uint8Array(t)),t),E=(t,n,u,d=!0)=>{t=t.startsWith("file://")?new URL(t):x.normalize(t),j.readFile(t,d?void 0:"utf8",(y,A)=>{y?u(y):n(d?A.buffer:A)})},!i.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),i.inspect=()=>"[Emscripten Module object]"}else(g||_)&&(_?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),o&&(T=o),T.indexOf("blob:")!==0?T=T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):T="",M=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},_&&(F=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),E=(t,n,u)=>{var d=new XMLHttpRequest;d.open("GET",t,!0),d.responseType="arraybuffer",d.onload=()=>{d.status==200||d.status==0&&d.response?n(d.response):u()},d.onerror=u,d.send(null)});var L=console.log.bind(console),Y=console.error.bind(console);Object.assign(i,O),O=null,typeof WebAssembly!="object"&&nr("no native wasm support detected");var U,K=!1,de,J,Ee,De,I,G,er,rr,tr,ce;function V(){var t=U.buffer;i.HEAP8=de=new Int8Array(t),i.HEAP16=Ee=new Int16Array(t),i.HEAPU8=J=new Uint8Array(t),i.HEAPU16=De=new Uint16Array(t),i.HEAP32=I=new Int32Array(t),i.HEAPU32=G=new Uint32Array(t),i.HEAPF32=er=new Float32Array(t),i.HEAPF64=ce=new Float64Array(t),i.HEAP64=rr=new BigInt64Array(t),i.HEAPU64=tr=new BigUint64Array(t)}var Q=[],je=[],be=[],me=0,ee=null,pe=null;function nr(t){throw t="Aborted("+t+")",Y(t),K=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),p(t),t}function $e(t){return t.startsWith("data:application/octet-stream;base64,")}var Re;if(Re="ort-wasm.wasm",!$e(Re)){var Xe=Re;Re=i.locateFile?i.locateFile(Xe,T):T+Xe}function ar(t){if(F)return F(t);throw"both async and sync fetching of the wasm failed"}function we(t){if(g||_){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+t+"'";return n.arrayBuffer()}).catch(()=>ar(t));if(E)return new Promise((n,u)=>{E(t,d=>n(new Uint8Array(d)),u)})}return Promise.resolve().then(()=>ar(t))}function ke(t,n,u){return we(t).then(d=>WebAssembly.instantiate(d,n)).then(d=>d).then(u,d=>{Y(`failed to asynchronously prepare wasm: ${d}`),nr(d)})}function or(t,n){var u=Re;return typeof WebAssembly.instantiateStreaming!="function"||$e(u)||u.startsWith("file://")||f||typeof fetch!="function"?ke(u,t,n):fetch(u,{credentials:"same-origin"}).then(d=>WebAssembly.instantiateStreaming(d,t).then(n,function(y){return Y(`wasm streaming compile failed: ${y}`),Y("falling back to ArrayBuffer instantiation"),ke(u,t,n)}))}function te(t){this.Va=t-24,this.fb=function(n){G[this.Va+4>>>2>>>0]=n},this.eb=function(n){G[this.Va+8>>>2>>>0]=n},this.Za=function(n,u){this.$a(),this.fb(n),this.eb(u)},this.$a=function(){G[this.Va+16>>>2>>>0]=0}}var ue=0,Je=0,Ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,vr=(t,n,u)=>{n>>>=0;var d=n+u;for(u=n;t[u]&&!(u>=d);)++u;if(16<u-n&&t.buffer&&Ne)return Ne.decode(t.subarray(n,u));for(d="";n<u;){var y=t[n++];if(y&128){var A=t[n++]&63;if((y&224)==192)d+=String.fromCharCode((y&31)<<6|A);else{var D=t[n++]&63;y=(y&240)==224?(y&15)<<12|A<<6|D:(y&7)<<18|A<<12|D<<6|t[n++]&63,65536>y?d+=String.fromCharCode(y):(y-=65536,d+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else d+=String.fromCharCode(y)}return d},ir=(t,n)=>(t>>>=0)?vr(J,t,n):"",ze=t=>{for(var n=0,u=0;u<t.length;++u){var d=t.charCodeAt(u);127>=d?n++:2047>=d?n+=2:55296<=d&&57343>=d?(n+=4,++u):n+=3}return n},We=(t,n,u,d)=>{if(u>>>=0,!(0<d))return 0;var y=u;d=u+d-1;for(var A=0;A<t.length;++A){var D=t.charCodeAt(A);if(55296<=D&&57343>=D){var C=t.charCodeAt(++A);D=65536+((D&1023)<<10)|C&1023}if(127>=D){if(u>=d)break;n[u++>>>0]=D}else{if(2047>=D){if(u+1>=d)break;n[u++>>>0]=192|D>>6}else{if(65535>=D){if(u+2>=d)break;n[u++>>>0]=224|D>>12}else{if(u+3>=d)break;n[u++>>>0]=240|D>>18,n[u++>>>0]=128|D>>12&63}n[u++>>>0]=128|D>>6&63}n[u++>>>0]=128|D&63}}return n[u>>>0]=0,u-y},br=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Ze,Se=t=>{for(var n="";J[t>>>0];)n+=Ze[J[t++>>>0]];return n},He={},wr={},sr={},Le;function Ct(t,n,u={}){var d=n.name;if(!t)throw new Le(`type "${d}" must have a positive integer typeid pointer`);if(wr.hasOwnProperty(t)){if(u.gb)return;throw new Le(`Cannot register type '${d}' twice`)}wr[t]=n,delete sr[t],He.hasOwnProperty(t)&&(n=He[t],delete He[t],n.forEach(y=>y()))}function Ue(t,n,u={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ct(t,n,u)}var Xr=(t,n,u)=>{switch(n){case 1:return u?d=>de[d>>>0>>>0]:d=>J[d>>>0>>>0];case 2:return u?d=>Ee[d>>>1>>>0]:d=>De[d>>>1>>>0];case 4:return u?d=>I[d>>>2>>>0]:d=>G[d>>>2>>>0];case 8:return u?d=>rr[d>>>3]:d=>tr[d>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function ur(){this.Sa=[void 0],this.bb=[]}var ve=new ur;function Or(t){t>>>=0,t>=ve.Va&&--ve.get(t).cb===0&&ve.$a(t)}var he=t=>{if(!t)throw new Le("Cannot use deleted val. handle = "+t);return ve.get(t).value},Oe=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.Za({cb:1,value:t})}};function fr(t){return this.fromWireType(I[t>>>2>>>0])}var Jr=(t,n)=>{switch(n){case 4:return function(u){return this.fromWireType(er[u>>>2>>>0])};case 8:return function(u){return this.fromWireType(ce[u>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function Br(t){return this.fromWireType(G[t>>>2>>>0])}var Zr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,k=(t,n)=>{for(var u=t>>1,d=u+n/2;!(u>=d)&&De[u>>>0];)++u;if(u<<=1,32<u-t&&Zr)return Zr.decode(J.subarray(t>>>0,u>>>0));for(u="",d=0;!(d>=n/2);++d){var y=Ee[t+2*d>>>1>>>0];if(y==0)break;u+=String.fromCharCode(y)}return u},_r=(t,n,u)=>{if(u===void 0&&(u=2147483647),2>u)return 0;u-=2;var d=n;u=u<2*t.length?u/2:t.length;for(var y=0;y<u;++y)Ee[n>>>1>>>0]=t.charCodeAt(y),n+=2;return Ee[n>>>1>>>0]=0,n-d},Kr=t=>2*t.length,Tr=(t,n)=>{for(var u=0,d="";!(u>=n/4);){var y=I[t+4*u>>>2>>>0];if(y==0)break;++u,65536<=y?(y-=65536,d+=String.fromCharCode(55296|y>>10,56320|y&1023)):d+=String.fromCharCode(y)}return d},Qr=(t,n,u)=>{if(n>>>=0,u===void 0&&(u=2147483647),4>u)return 0;var d=n;u=d+u-4;for(var y=0;y<t.length;++y){var A=t.charCodeAt(y);if(55296<=A&&57343>=A){var D=t.charCodeAt(++y);A=65536+((A&1023)<<10)|D&1023}if(I[n>>>2>>>0]=A,n+=4,n+4>u)break}return I[n>>>2>>>0]=0,n-d},It=t=>{for(var n=0,u=0;u<t.length;++u){var d=t.charCodeAt(u);55296<=d&&57343>=d&&++u,n+=4}return n},lr=(t,n)=>{var u=wr[t];if(u===void 0)throw t=_e(t),u=Se(t),xe(t),new Le(n+" has unknown type "+u);return u},Ft={},cr=t=>{var n=Ft[t];return n===void 0?Se(t):n},dr=[],Rr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),et=t=>{var n=dr.length;return dr.push(t),n},Ar=(t,n)=>{for(var u=Array(t),d=0;d<t;++d)u[d]=lr(G[n+4*d>>>2>>>0],"parameter "+d);return u},kr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},Er={};function rt(t,n){return t=kr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function tt(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var u=rt(n.name||"unknownFunctionName",function(){});return u.prototype=n.prototype,u=new u,t=n.apply(u,t),t instanceof Object?t:u}var nt=t=>{for(var n="",u=0;u<t;++u)n+=(u!==0?", ":"")+"arg"+u;var d="return function emval_allocator_"+t+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(u=0;u<t;++u)d+="var argType"+u+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+u+`');
var arg`+u+" = argType"+u+`.readValueFromPointer(args);
args += argType`+u+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",d+("var obj = new constructor("+n+`);
return valueToHandle(obj);
}
`))(lr,i,Oe,()=>G)},Wr={},Ye=t=>t%4===0&&(t%100!==0||t%400===0),Lr=[0,31,60,91,121,152,182,213,244,274,305,335],$r=[0,31,59,90,120,151,181,212,243,273,304,334],Hr=t=>{var n=ze(t)+1,u=pr(n);return u&&We(t,J,u,n),u},Sr={},jr=()=>{if(!Mr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},n;for(n in Sr)Sr[n]===void 0?delete t[n]:t[n]=Sr[n];var u=[];for(n in t)u.push(`${n}=${t[n]}`);Mr=u}return Mr},Mr,at=[null,[],[]],Nr=[31,29,31,30,31,30,31,31,30,31,30,31],Me=[31,28,31,30,31,30,31,31,30,31,30,31];function zr(t){var n=Array(ze(t)+1);return We(t,n,0,n.length),n}function Pr(t,n,u,d){function y(b,q,re){for(b=typeof b=="number"?b.toString():b||"";b.length<q;)b=re[0]+b;return b}function A(b,q){return y(b,q,"0")}function D(b,q){function re(Yr){return 0>Yr?-1:0<Yr?1:0}var Be;return(Be=re(b.getFullYear()-q.getFullYear()))===0&&(Be=re(b.getMonth()-q.getMonth()))===0&&(Be=re(b.getDate()-q.getDate())),Be}function C(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function W(b){var q=b.Ta;for(b=new Date(new Date(b.Ua+1900,0,1).getTime());0<q;){var re=b.getMonth(),Be=(Ye(b.getFullYear())?Nr:Me)[re];if(q>Be-b.getDate())q-=Be-b.getDate()+1,b.setDate(1),11>re?b.setMonth(re+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else{b.setDate(b.getDate()+q);break}}return re=new Date(b.getFullYear()+1,0,4),q=C(new Date(b.getFullYear(),0,4)),re=C(re),0>=D(q,b)?0>=D(re,b)?b.getFullYear()+1:b.getFullYear():b.getFullYear()-1}t>>>=0,n>>>=0,u>>>=0,d>>>=0;var H=G[d+40>>>2>>>0];d={kb:I[d>>>2>>>0],jb:I[d+4>>>2>>>0],Xa:I[d+8>>>2>>>0],ab:I[d+12>>>2>>>0],Ya:I[d+16>>>2>>>0],Ua:I[d+20>>>2>>>0],Oa:I[d+24>>>2>>>0],Ta:I[d+28>>>2>>>0],mb:I[d+32>>>2>>>0],ib:I[d+36>>>2>>>0],lb:H?ir(H):""},u=ir(u),H={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in H)u=u.replace(new RegExp(ne,"g"),H[ne]);var z="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ie="January February March April May June July August September October November December".split(" ");H={"%a":b=>z[b.Oa].substring(0,3),"%A":b=>z[b.Oa],"%b":b=>Ie[b.Ya].substring(0,3),"%B":b=>Ie[b.Ya],"%C":b=>A((b.Ua+1900)/100|0,2),"%d":b=>A(b.ab,2),"%e":b=>y(b.ab,2," "),"%g":b=>W(b).toString().substring(2),"%G":b=>W(b),"%H":b=>A(b.Xa,2),"%I":b=>(b=b.Xa,b==0?b=12:12<b&&(b-=12),A(b,2)),"%j":b=>{for(var q=0,re=0;re<=b.Ya-1;q+=(Ye(b.Ua+1900)?Nr:Me)[re++]);return A(b.ab+q,3)},"%m":b=>A(b.Ya+1,2),"%M":b=>A(b.jb,2),"%n":()=>`
`,"%p":b=>0<=b.Xa&&12>b.Xa?"AM":"PM","%S":b=>A(b.kb,2),"%t":()=>"	","%u":b=>b.Oa||7,"%U":b=>A(Math.floor((b.Ta+7-b.Oa)/7),2),"%V":b=>{var q=Math.floor((b.Ta+7-(b.Oa+6)%7)/7);if(2>=(b.Oa+371-b.Ta-2)%7&&q++,q)q==53&&(re=(b.Oa+371-b.Ta)%7,re==4||re==3&&Ye(b.Ua)||(q=1));else{q=52;var re=(b.Oa+7-b.Ta-1)%7;(re==4||re==5&&Ye(b.Ua%400-1))&&q++}return A(q,2)},"%w":b=>b.Oa,"%W":b=>A(Math.floor((b.Ta+7-(b.Oa+6)%7)/7),2),"%y":b=>(b.Ua+1900).toString().substring(2),"%Y":b=>b.Ua+1900,"%z":b=>{b=b.ib;var q=0<=b;return b=Math.abs(b)/60,(q?"+":"-")+("0000"+(b/60*100+b%60)).slice(-4)},"%Z":b=>b.lb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(ne in H)u.includes(ne)&&(u=u.replace(new RegExp(ne,"g"),H[ne](d)));return u=u.replace(/\0\0/g,"%"),ne=zr(u),ne.length>n?0:(de.set(ne,t>>>0),ne.length-1)}for(var ot=Array(256),Ce=0;256>Ce;++Ce)ot[Ce]=String.fromCharCode(Ce);Ze=ot,Le=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(ur.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),ve.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.Va=ve.Sa.length,i.count_emval_handles=()=>{for(var t=0,n=ve.Va;n<ve.Sa.length;++n)ve.Sa[n]!==void 0&&++t;return t};var Dt={a:function(t,n,u){throw t>>>=0,new te(t).Za(n>>>0,u>>>0),ue=t,Je++,ue},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},A:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},D:function(t,n,u,d,y){n>>>=0,n=Se(n);var A=n.indexOf("u")!=-1;A&&(y=(1n<<64n)-1n),Ue(t>>>0,{name:n,fromWireType:D=>D,toWireType:function(D,C){if(typeof C!="bigint"&&typeof C!="number")throw new TypeError(`Cannot convert "${br(C)}" to ${this.name}`);if(C<d||C>y)throw new TypeError(`Passing a number "${br(C)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${d}, ${y}]!`);return C},argPackAdvance:8,readValueFromPointer:Xr(n,u>>>0,!A),Wa:null})},ea:function(t,n,u,d){n=Se(n>>>0),Ue(t>>>0,{name:n,fromWireType:function(y){return!!y},toWireType:function(y,A){return A?u:d},argPackAdvance:8,readValueFromPointer:function(y){return this.fromWireType(J[y>>>0])},Wa:null})},da:function(t,n){n=Se(n>>>0),Ue(t>>>0,{name:n,fromWireType:u=>{var d=he(u);return Or(u),d},toWireType:(u,d)=>Oe(d),argPackAdvance:8,readValueFromPointer:fr,Wa:null})},C:function(t,n,u){n=Se(n>>>0),Ue(t>>>0,{name:n,fromWireType:d=>d,toWireType:(d,y)=>y,argPackAdvance:8,readValueFromPointer:Jr(n,u>>>0),Wa:null})},p:function(t,n,u,d,y){if(t>>>=0,u>>>=0,n=Se(n>>>0),y===-1&&(y=4294967295),y=C=>C,d===0){var A=32-8*u;y=C=>C<<A>>>A}var D=n.includes("unsigned")?function(C,W){return W>>>0}:function(C,W){return W};Ue(t,{name:n,fromWireType:y,toWireType:D,argPackAdvance:8,readValueFromPointer:Xr(n,u,d!==0),Wa:null})},l:function(t,n,u){function d(A){return new y(de.buffer,G[A+4>>>2>>>0],G[A>>>2>>>0])}var y=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];u=Se(u>>>0),Ue(t>>>0,{name:u,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},{gb:!0})},E:function(t,n){n=Se(n>>>0);var u=n==="std::string";Ue(t>>>0,{name:n,fromWireType:function(d){var y=G[d>>>2>>>0],A=d+4;if(u)for(var D=A,C=0;C<=y;++C){var W=A+C;if(C==y||J[W>>>0]==0){if(D=ir(D,W-D),H===void 0)var H=D;else H+=String.fromCharCode(0),H+=D;D=W+1}}else{for(H=Array(y),C=0;C<y;++C)H[C]=String.fromCharCode(J[A+C>>>0]);H=H.join("")}return xe(d),H},toWireType:function(d,y){y instanceof ArrayBuffer&&(y=new Uint8Array(y));var A=typeof y=="string";if(!(A||y instanceof Uint8Array||y instanceof Uint8ClampedArray||y instanceof Int8Array))throw new Le("Cannot pass non-string to std::string");var D=u&&A?ze(y):y.length,C=pr(4+D+1),W=C+4;if(G[C>>>2>>>0]=D,u&&A)We(y,J,W,D+1);else if(A)for(A=0;A<D;++A){var H=y.charCodeAt(A);if(255<H)throw xe(W),new Le("String has UTF-16 code units that do not fit in 8 bits");J[W+A>>>0]=H}else for(A=0;A<D;++A)J[W+A>>>0]=y[A];return d!==null&&d.push(xe,C),C},argPackAdvance:8,readValueFromPointer:Br,Wa(d){xe(d)}})},x:function(t,n,u){if(n>>>=0,u>>>=0,u=Se(u),n===2)var d=k,y=_r,A=Kr,D=()=>De,C=1;else n===4&&(d=Tr,y=Qr,A=It,D=()=>G,C=2);Ue(t>>>0,{name:u,fromWireType:W=>{for(var H=G[W>>>2>>>0],ne=D(),z,Ie=W+4,b=0;b<=H;++b){var q=W+4+b*n;(b==H||ne[q>>>C]==0)&&(Ie=d(Ie,q-Ie),z===void 0?z=Ie:(z+=String.fromCharCode(0),z+=Ie),Ie=q+n)}return xe(W),z},toWireType:(W,H)=>{if(typeof H!="string")throw new Le(`Cannot pass non-string to C++ string type ${u}`);var ne=A(H),z=pr(4+ne+n);return G[z>>>2]=ne>>C,y(H,z+4,ne+n),W!==null&&W.push(xe,z),z},argPackAdvance:8,readValueFromPointer:fr,Wa(W){xe(W)}})},fa:function(t,n){n=Se(n>>>0),Ue(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,u){n>>>=0,u>>>=0,t=he(t>>>0),n=lr(n,"emval::as");var d=[],y=Oe(d);return G[u>>>2>>>0]=y,n.toWireType(d,t)},h:function(t,n,u,d,y){u>>>=0,d>>>=0,y>>>=0,t=dr[t>>>0],n=he(n>>>0),u=cr(u);var A=[];return G[d>>>2>>>0]=Oe(A),t(n,u,A,y)},r:function(t,n,u,d){u>>>=0,d>>>=0,t=dr[t>>>0],n=he(n>>>0),u=cr(u),t(n,u,null,d)},b:Or,F:function(t,n){return n>>>=0,t=he(t>>>0),n=he(n),t==n},u:function(t){return t>>>=0,t===0?Oe(Rr()):(t=cr(t),Oe(Rr()[t]))},g:function(t,n){var u=Ar(t,n>>>0),d=u[0];n=d.name+"_$"+u.slice(1).map(function(ne){return ne.name}).join("_")+"$";var y=Er[n];if(y!==void 0)return y;y=["retType"];for(var A=[d],D="",C=0;C<t-1;++C)D+=(C!==0?", ":"")+"arg"+C,y.push("argType"+C),A.push(u[1+C]);var W="return function "+kr("methodCaller_"+n)+`(handle, name, destructors, args) {
`,H=0;for(C=0;C<t-1;++C)W+="    var arg"+C+" = argType"+C+".readValueFromPointer(args"+(H?"+"+H:"")+`);
`,H+=u[C+1].argPackAdvance;for(W+="    var rv = handle[name]("+D+`);
`,C=0;C<t-1;++C)u[C+1].deleteObject&&(W+="    argType"+C+".deleteObject(arg"+C+`);
`);return d.hb||(W+=`    return retType.toWireType(destructors, rv);
`),y.push(W+`};
`),t=tt(y).apply(null,A),y=et(t),Er[n]=y},q:function(t,n){return n>>>=0,t=he(t>>>0),n=he(n),Oe(t[n])},c:function(t){t>>>=0,4<t&&(ve.get(t).cb+=1)},G:function(t,n,u,d){u>>>=0,d>>>=0,t=he(t>>>0);var y=Wr[n];return y||(y=nt(n),Wr[n]=y),y(t,u,d)},s:function(){return Oe([])},k:function(t){t=he(t>>>0);for(var n=Array(t.length),u=0;u<t.length;u++)n[u]=t[u];return Oe(n)},d:function(t){return Oe(cr(t>>>0))},j:function(){return Oe({})},f:function(t){t>>>=0;for(var n=he(t);n.length;){var u=n.pop();n.pop()(u)}Or(t)},i:function(t,n,u){n>>>=0,u>>>=0,t=he(t>>>0),n=he(n),u=he(u),t[n]=u},e:function(t,n){return n>>>=0,t=lr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),Oe(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),I[n>>>2>>>0]=t.getUTCSeconds(),I[n+4>>>2>>>0]=t.getUTCMinutes(),I[n+8>>>2>>>0]=t.getUTCHours(),I[n+12>>>2>>>0]=t.getUTCDate(),I[n+16>>>2>>>0]=t.getUTCMonth(),I[n+20>>>2>>>0]=t.getUTCFullYear()-1900,I[n+24>>>2>>>0]=t.getUTCDay(),I[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),I[n>>>2>>>0]=t.getSeconds(),I[n+4>>>2>>>0]=t.getMinutes(),I[n+8>>>2>>>0]=t.getHours(),I[n+12>>>2>>>0]=t.getDate(),I[n+16>>>2>>>0]=t.getMonth(),I[n+20>>>2>>>0]=t.getFullYear()-1900,I[n+24>>>2>>>0]=t.getDay(),I[n+28>>>2>>>0]=(Ye(t.getFullYear())?Lr:$r)[t.getMonth()]+t.getDate()-1|0,I[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),d=new Date(t.getFullYear(),0,1).getTimezoneOffset();I[n+32>>>2>>>0]=(u!=d&&t.getTimezoneOffset()==Math.min(d,u))|0},U:function(t){t>>>=0;var n=new Date(I[t+20>>>2>>>0]+1900,I[t+16>>>2>>>0],I[t+12>>>2>>>0],I[t+8>>>2>>>0],I[t+4>>>2>>>0],I[t>>>2>>>0],0),u=I[t+32>>>2>>>0],d=n.getTimezoneOffset(),y=new Date(n.getFullYear(),6,1).getTimezoneOffset(),A=new Date(n.getFullYear(),0,1).getTimezoneOffset(),D=Math.min(A,y);return 0>u?I[t+32>>>2>>>0]=+(y!=A&&D==d):0<u!=(D==d)&&(y=Math.max(A,y),n.setTime(n.getTime()+6e4*((0<u?D:y)-d))),I[t+24>>>2>>>0]=n.getDay(),I[t+28>>>2>>>0]=(Ye(n.getFullYear())?Lr:$r)[n.getMonth()]+n.getDate()-1|0,I[t>>>2>>>0]=n.getSeconds(),I[t+4>>>2>>>0]=n.getMinutes(),I[t+8>>>2>>>0]=n.getHours(),I[t+12>>>2>>>0]=n.getDate(),I[t+16>>>2>>>0]=n.getMonth(),I[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,u){function d(W){return(W=W.toTimeString().match(/\(([A-Za-z ]+)\)$/))?W[1]:"GMT"}u>>>=0;var y=new Date().getFullYear(),A=new Date(y,0,1),D=new Date(y,6,1);y=A.getTimezoneOffset();var C=D.getTimezoneOffset();G[t>>>0>>>2>>>0]=60*Math.max(y,C),I[n>>>0>>>2>>>0]=+(y!=C),t=d(A),n=d(D),t=Hr(t),n=Hr(n),C<y?(G[u>>>2>>>0]=t,G[u+4>>>2>>>0]=n):(G[u>>>2>>>0]=n,G[u+4>>>2>>>0]=t)},t:()=>{nr("")},B:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,u){return n>>>=0,J.copyWithin(t>>>0>>>0,n>>>0,n+(u>>>0)>>>0)},I:function(t){t>>>=0;var n=J.length;if(4294901760<t)return!1;for(var u=1;4>=u;u*=2){var d=n*(1+.2/u);d=Math.min(d,t+100663296);var y=Math;d=Math.max(t,d);e:{y=(y.min.call(y,4294901760,d+(65536-d%65536)%65536)-U.buffer.byteLength+65535)/65536;try{U.grow(y),V();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var u=0;return jr().forEach((d,y)=>{var A=n+u;for(y=G[t+4*y>>>2>>>0]=A,A=0;A<d.length;++A)de[y++>>>0>>>0]=d.charCodeAt(A);de[y>>>0>>>0]=0,u+=d.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var u=jr();G[t>>>2>>>0]=u.length;var d=0;return u.forEach(y=>d+=y.length+1),G[n>>>2>>>0]=d,0},w:()=>52,z:function(){return 52},W:function(){return 70},y:function(t,n,u,d){n>>>=0,u>>>=0,d>>>=0;for(var y=0,A=0;A<u;A++){var D=G[n>>>2>>>0],C=G[n+4>>>2>>>0];n+=8;for(var W=0;W<C;W++){var H=J[D+W>>>0],ne=at[t];H===0||H===10?((t===1?L:Y)(vr(ne,0)),ne.length=0):ne.push(H)}y+=C}return G[d>>>2>>>0]=y,0},ga:Pr,m:function(t,n,u,d){return Pr(t>>>0,n>>>0,u>>>0,d>>>0)}},B=function(){var t={a:Dt};return me++,or(t,function(n){B=n.instance.exports,B=it(),U=B.ha,V(),je.unshift(B.ia),me--,me==0&&(ee!==null&&(clearInterval(ee),ee=null),pe&&(n=pe,pe=null,n()))}).catch(p),{}}();i._OrtInit=(t,n)=>(i._OrtInit=B.ja)(t,n),i._OrtGetLastError=(t,n)=>(i._OrtGetLastError=B.ka)(t,n),i._OrtCreateSessionOptions=(t,n,u,d,y,A,D,C,W,H)=>(i._OrtCreateSessionOptions=B.la)(t,n,u,d,y,A,D,C,W,H),i._OrtAppendExecutionProvider=(t,n)=>(i._OrtAppendExecutionProvider=B.ma)(t,n),i._OrtAddFreeDimensionOverride=(t,n,u)=>(i._OrtAddFreeDimensionOverride=B.na)(t,n,u),i._OrtAddSessionConfigEntry=(t,n,u)=>(i._OrtAddSessionConfigEntry=B.oa)(t,n,u),i._OrtReleaseSessionOptions=t=>(i._OrtReleaseSessionOptions=B.pa)(t),i._OrtCreateSession=(t,n,u)=>(i._OrtCreateSession=B.qa)(t,n,u),i._OrtReleaseSession=t=>(i._OrtReleaseSession=B.ra)(t),i._OrtGetInputOutputCount=(t,n,u)=>(i._OrtGetInputOutputCount=B.sa)(t,n,u),i._OrtGetInputName=(t,n)=>(i._OrtGetInputName=B.ta)(t,n),i._OrtGetOutputName=(t,n)=>(i._OrtGetOutputName=B.ua)(t,n),i._OrtFree=t=>(i._OrtFree=B.va)(t),i._OrtCreateTensor=(t,n,u,d,y,A)=>(i._OrtCreateTensor=B.wa)(t,n,u,d,y,A),i._OrtGetTensorData=(t,n,u,d,y)=>(i._OrtGetTensorData=B.xa)(t,n,u,d,y),i._OrtReleaseTensor=t=>(i._OrtReleaseTensor=B.ya)(t),i._OrtCreateRunOptions=(t,n,u,d)=>(i._OrtCreateRunOptions=B.za)(t,n,u,d),i._OrtAddRunConfigEntry=(t,n,u)=>(i._OrtAddRunConfigEntry=B.Aa)(t,n,u),i._OrtReleaseRunOptions=t=>(i._OrtReleaseRunOptions=B.Ba)(t),i._OrtCreateBinding=t=>(i._OrtCreateBinding=B.Ca)(t),i._OrtBindInput=(t,n,u)=>(i._OrtBindInput=B.Da)(t,n,u),i._OrtBindOutput=(t,n,u,d)=>(i._OrtBindOutput=B.Ea)(t,n,u,d),i._OrtClearBoundOutputs=t=>(i._OrtClearBoundOutputs=B.Fa)(t),i._OrtReleaseBinding=t=>(i._OrtReleaseBinding=B.Ga)(t),i._OrtRunWithBinding=(t,n,u,d,y)=>(i._OrtRunWithBinding=B.Ha)(t,n,u,d,y),i._OrtRun=(t,n,u,d,y,A,D,C)=>(i._OrtRun=B.Ia)(t,n,u,d,y,A,D,C),i._OrtEndProfiling=t=>(i._OrtEndProfiling=B.Ja)(t);var pr=i._malloc=t=>(pr=i._malloc=B.Ka)(t),xe=i._free=t=>(xe=i._free=B.La)(t),_e=t=>(_e=B.Ma)(t);i.__embind_initialize_bindings=()=>(i.__embind_initialize_bindings=B.Na)();var Cr=()=>(Cr=B.Pa)(),ge=t=>(ge=B.Qa)(t),Te=t=>(Te=B.Ra)(t);function it(){var t=B;t=Object.assign({},t);var n=d=>()=>d()>>>0,u=d=>y=>d(y)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=u(t.Ka),t.Ma=u(t.Ma),t.Pa=n(t.Pa),t.Ra=u(t.Ra),t}i.stackAlloc=Te,i.stackSave=Cr,i.stackRestore=ge,i.UTF8ToString=ir,i.stringToUTF8=(t,n,u)=>We(t,J,n,u),i.lengthBytesUTF8=ze;var Ir;pe=function t(){Ir||st(),Ir||(pe=t)};function st(){if(!(0<me)){for(;0<Q.length;)Q.shift()(i);if(!(0<me||Ir||(Ir=!0,i.calledRun=!0,K))){for(;0<je.length;)je.shift()(i);for(m(i);0<be.length;)be.shift()(i)}}}return st(),s.ready}})();typeof ya=="object"&&typeof Vt=="object"?Vt.exports=ga:typeof define=="function"&&define.amd&&define([],()=>ga)});var ba=Dr(()=>{});var wa=Dr(()=>{});var Oa={};Ur(Oa,{cpus:()=>Mo});var Mo,_a=Z(()=>{Mo=void 0});var Ea=Dr((Aa,qt)=>{"use strict";var Ta=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(s={}){function i(){return Q.buffer!=ee.buffer&&te(),ee}function m(){return Q.buffer!=ee.buffer&&te(),pe}function p(){return Q.buffer!=ee.buffer&&te(),nr}function O(){return Q.buffer!=ee.buffer&&te(),$e}function c(){return Q.buffer!=ee.buffer&&te(),Re}function g(){return Q.buffer!=ee.buffer&&te(),Xe}function _(){return Q.buffer!=ee.buffer&&te(),or}var f=s,T,M;f.ready=new Promise((e,r)=>{T=e,M=r});var E=Object.assign({},f),F="./this.program",j=(e,r)=>{throw r},x=typeof window=="object",L=typeof importScripts=="function",Y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U=f.ENVIRONMENT_IS_PTHREAD||!1,K="";function de(e){return f.locateFile?f.locateFile(e,K):K+e}var J,Ee,De;if(Y){var I=(zt(),hr(Nt)),G=(Gt(),hr(Yt));K=L?G.dirname(K)+"/":__dirname+"/",J=(r,a)=>(r=r.startsWith("file://")?new URL(r):G.normalize(r),I.readFileSync(r,a?void 0:"utf8")),De=r=>(r=J(r,!0),r.buffer||(r=new Uint8Array(r)),r),Ee=(r,a,l,h=!0)=>{r=r.startsWith("file://")?new URL(r):G.normalize(r),I.readFile(r,h?void 0:"utf8",(v,S)=>{v?l(v):a(h?S.buffer:S)})},!f.thisProgram&&1<process.argv.length&&(F=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),j=(r,a)=>{throw process.exitCode=r,a},f.inspect=()=>"[Emscripten Module object]";let e;try{e=ba()}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}global.Worker=e.Worker}else(x||L)&&(L?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),typeof o<"u"&&o&&(K=o),K.indexOf("blob:")!==0?K=K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1):K="",Y||(J=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},L&&(De=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Ee=(e,r,a)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):a()},l.onerror=a,l.send(null)}));Y&&typeof performance>"u"&&(global.performance=wa().performance);var er=console.log.bind(console),rr=console.error.bind(console);Y&&(er=(...e)=>I.writeSync(1,e.join(" ")+`
`),rr=(...e)=>I.writeSync(2,e.join(" ")+`
`));var tr=er,ce=rr;Object.assign(f,E),E=null;var V=!0;typeof WebAssembly!="object"&&He("no native wasm support detected");var Q,je,be=!1,me,ee,pe,nr,$e,Re,Xe,ar,we,ke,or;function te(){var e=Q.buffer;f.HEAP8=ee=new Int8Array(e),f.HEAP16=nr=new Int16Array(e),f.HEAPU8=pe=new Uint8Array(e),f.HEAPU16=$e=new Uint16Array(e),f.HEAP32=Re=new Int32Array(e),f.HEAPU32=Xe=new Uint32Array(e),f.HEAPF32=ar=new Float32Array(e),f.HEAPF64=or=new Float64Array(e),f.HEAP64=we=new BigInt64Array(e),f.HEAPU64=ke=new BigUint64Array(e)}var ue=16777216;if(5242880<=ue||He("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ue+"! (STACK_SIZE=5242880)"),U)Q=f.wasmMemory;else if(Q=new WebAssembly.Memory({initial:ue/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Y&&ce("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");te(),ue=Q.buffer.byteLength;var Je=[],Ne=[],vr=[],ir=0;function ze(){return V||0<ir}var We=0,br=null,Ze=null;function Se(){if(We--,We==0&&(br!==null&&(clearInterval(br),br=null),Ze)){var e=Ze;Ze=null,e()}}function He(e){throw e="Aborted("+e+")",ce(e),be=!0,me=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),M(e),e}function wr(e){return e.startsWith("data:application/octet-stream;base64,")}var sr;sr="ort-wasm-threaded.wasm",wr(sr)||(sr=de(sr));function Le(e){if(De)return De(e);throw"both async and sync fetching of the wasm failed"}function Ct(e){if(x||L){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Le(e));if(Ee)return new Promise((r,a)=>{Ee(e,l=>r(new Uint8Array(l)),a)})}return Promise.resolve().then(()=>Le(e))}function Ue(e,r,a){return Ct(e).then(l=>WebAssembly.instantiate(l,r)).then(l=>l).then(a,l=>{ce(`failed to asynchronously prepare wasm: ${l}`),He(l)})}function Xr(e,r){var a=sr;return typeof WebAssembly.instantiateStreaming!="function"||wr(a)||a.startsWith("file://")||Y||typeof fetch!="function"?Ue(a,e,r):fetch(a,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(h){return ce(`wasm streaming compile failed: ${h}`),ce("falling back to ArrayBuffer instantiation"),Ue(a,e,r)}))}function ur(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ve=e=>{e.terminate(),e.onmessage=()=>{}},Or=e=>{if(k.qb.length==0){var r=de("ort-wasm-threaded.worker.js");r=new Worker(r),k.qb.push(r),k.Jb(k.qb[0])}if(r=k.qb.pop(),!r)return 6;k.nb.push(r),k.jb[e.mb]=r,r.mb=e.mb;var a={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return Y&&r.unref(),r.postMessage(a,e.Sb),0},he=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Oe=(e,r,a)=>{r>>>=0;var l=r+a;for(a=r;e[a]&&!(a>=l);)++a;if(16<a-r&&e.buffer&&he)return he.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(l="";r<a;){var h=e[r++];if(h&128){var v=e[r++]&63;if((h&224)==192)l+=String.fromCharCode((h&31)<<6|v);else{var S=e[r++]&63;h=(h&240)==224?(h&15)<<12|v<<6|S:(h&7)<<18|v<<12|S<<6|e[r++]&63,65536>h?l+=String.fromCharCode(h):(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else l+=String.fromCharCode(h)}return l},fr=(e,r)=>(e>>>=0)?Oe(m(),e,r):"";function Jr(e){if(U)return z(0,1,e);me=e,ze()||(k.Nb(),be=!0),j(e,new ur(e))}var Br=e=>{if(me=e,U)throw Kr(e),"unwind";Jr(e)};function Zr(){Je.unshift(()=>{We++,Se()})}var k={qb:[],nb:[],Eb:[],jb:{},vb(){U?(k.receiveObjectTransfer=k.Lb,k.threadInitTLS=k.Db,k.setExitStatus=k.Cb,V=!1):Zr()},Cb:e=>{me=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of k.nb)ve(e);for(e of k.qb)ve(e);k.qb=[],k.nb=[],k.jb=[]},Bb:e=>{var r=e.mb;delete k.jb[r],k.qb.push(e),k.nb.splice(k.nb.indexOf(e),1),e.mb=0,Bt(r)},Lb(){},Db(){k.Eb.forEach(e=>e())},Jb:e=>new Promise(r=>{e.onmessage=v=>{v=v.data;var S=v.cmd;if(v.targetThread&&v.targetThread!=ft()){var P=k.jb[v.targetThread];P?P.postMessage(v,v.transferList):ce(`Internal error! Worker sent a message "${S}" to target pthread ${v.targetThread}, but that thread no longer exists!`)}else S==="checkMailbox"?H():S==="spawnThread"?Or(v):S==="cleanupThread"?((v=k.jb[v.thread])||He(),k.Bb(v)):S==="killThread"?(v=v.thread,S=k.jb[v],delete k.jb[v],ve(S),Bt(v),k.nb.splice(k.nb.indexOf(S),1),S.mb=0):S==="cancelThread"?k.jb[v.thread].postMessage({cmd:"cancel"}):S==="loaded"?(e.loaded=!0,r(e)):S==="alert"?alert(`Thread ${v.threadId}: ${v.text}`):v.target==="setimmediate"?e.postMessage(v):S==="callHandler"?f[v.handler](...v.args):S&&ce(`worker sent an unknown command ${S}`)},e.onerror=v=>{throw ce(`worker sent an error! ${v.filename}:${v.lineno}: ${v.message}`),v},Y&&(e.on("message",v=>e.onmessage({data:v})),e.on("error",v=>e.onerror(v)));var a=[],l=[],h;for(h of l)f.hasOwnProperty(h)&&a.push(h);e.postMessage({cmd:"load",handlers:a,urlOrBlob:f.mainScriptUrlOrBlob||o,wasmMemory:Q,wasmModule:je})})};f.PThread=k;var _r=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=ft(),r=g()[e+52>>>2>>>0];e=g()[e+56>>>2>>>0],Ln(r,r-e),ct(r)};function Kr(e){if(U)return z(1,0,e);Br(e)}var Tr=[],Qr;f.invokeEntryPoint=(e,r)=>{var a=Tr[e];a||(e>=Tr.length&&(Tr.length=e+1),Tr[e]=a=Qr.get(e)),e=a(r),ze()?k.Cb(e):Rt(e)};function It(e){this.sb=e-24,this.Kb=function(r){g()[this.sb+4>>>2>>>0]=r},this.xb=function(r){g()[this.sb+8>>>2>>>0]=r},this.vb=function(r,a){this.wb(),this.Kb(r),this.xb(a)},this.wb=function(){g()[this.sb+16>>>2>>>0]=0}}var lr=0,Ft=0;function cr(e,r,a,l){return U?z(2,1,e,r,a,l):dr(e,r,a,l)}function dr(e,r,a,l){if(e>>>=0,r>>>=0,a>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return U&&h.length===0?cr(e,r,a,l):(e={Mb:a,mb:e,Fb:l,Sb:h},U?(e.Ub="spawnThread",postMessage(e,h),0):Or(e))}function Rr(e,r,a){return U?z(3,1,e,r,a):0}function et(e,r){if(U)return z(4,1,e,r)}var Ar=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++a):r+=3}return r},kr=(e,r,a,l)=>{if(a>>>=0,!(0<l))return 0;var h=a;l=a+l-1;for(var v=0;v<e.length;++v){var S=e.charCodeAt(v);if(55296<=S&&57343>=S){var P=e.charCodeAt(++v);S=65536+((S&1023)<<10)|P&1023}if(127>=S){if(a>=l)break;r[a++>>>0]=S}else{if(2047>=S){if(a+1>=l)break;r[a++>>>0]=192|S>>6}else{if(65535>=S){if(a+2>=l)break;r[a++>>>0]=224|S>>12}else{if(a+3>=l)break;r[a++>>>0]=240|S>>18,r[a++>>>0]=128|S>>12&63}r[a++>>>0]=128|S>>6&63}r[a++>>>0]=128|S&63}}return r[a>>>0]=0,a-h},Er=(e,r,a)=>kr(e,m(),r,a);function rt(e,r){if(U)return z(5,1,e,r)}function tt(e,r,a){if(U)return z(6,1,e,r,a)}function nt(e,r,a){return U?z(7,1,e,r,a):0}function Wr(e,r){if(U)return z(8,1,e,r)}function Ye(e,r,a){if(U)return z(9,1,e,r,a)}function Lr(e,r,a,l){if(U)return z(10,1,e,r,a,l)}function $r(e,r,a,l){if(U)return z(11,1,e,r,a,l)}function Hr(e,r,a,l){if(U)return z(12,1,e,r,a,l)}function Sr(e){if(U)return z(13,1,e)}function jr(e,r){if(U)return z(14,1,e,r)}function Mr(e,r,a){if(U)return z(15,1,e,r,a)}var at=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Nr,Me=e=>{for(var r="";m()[e>>>0];)r+=Nr[m()[e++>>>0]];return r},zr={},Pr={},ot={},Ce;function Dt(e,r,a={}){var l=r.name;if(!e)throw new Ce(`type "${l}" must have a positive integer typeid pointer`);if(Pr.hasOwnProperty(e)){if(a.Hb)return;throw new Ce(`Cannot register type '${l}' twice`)}Pr[e]=r,delete ot[e],zr.hasOwnProperty(e)&&(r=zr[e],delete zr[e],r.forEach(h=>h()))}function B(e,r,a={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");Dt(e,r,a)}var pr=(e,r,a)=>{switch(r){case 1:return a?l=>i()[l>>>0>>>0]:l=>m()[l>>>0>>>0];case 2:return a?l=>p()[l>>>1>>>0]:l=>O()[l>>>1>>>0];case 4:return a?l=>c()[l>>>2>>>0]:l=>g()[l>>>2>>>0];case 8:return a?l=>we[l>>>3]:l=>ke[l>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function xe(){this.lb=[void 0],this.zb=[]}var _e=new xe;function Cr(e){e>>>=0,e>=_e.sb&&--_e.get(e).Ab===0&&_e.xb(e)}var ge=e=>{if(!e)throw new Ce("Cannot use deleted val. handle = "+e);return _e.get(e).value},Te=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return _e.wb({Ab:1,value:e})}};function it(e){return this.fromWireType(c()[e>>>2>>>0])}var Ir=(e,r)=>{switch(r){case 4:return function(a){var l=this.fromWireType;return Q.buffer!=ee.buffer&&te(),l.call(this,ar[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(_()[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function st(e){return this.fromWireType(g()[e>>>2>>>0])}var t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,r)=>{for(var a=e>>1,l=a+r/2;!(a>=l)&&O()[a>>>0];)++a;if(a<<=1,32<a-e&&t)return t.decode(m().slice(e,a));for(a="",l=0;!(l>=r/2);++l){var h=p()[e+2*l>>>1>>>0];if(h==0)break;a+=String.fromCharCode(h)}return a},u=(e,r,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var l=r;a=a<2*e.length?a/2:e.length;for(var h=0;h<a;++h){var v=e.charCodeAt(h);p()[r>>>1>>>0]=v,r+=2}return p()[r>>>1>>>0]=0,r-l},d=e=>2*e.length,y=(e,r)=>{for(var a=0,l="";!(a>=r/4);){var h=c()[e+4*a>>>2>>>0];if(h==0)break;++a,65536<=h?(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023)):l+=String.fromCharCode(h)}return l},A=(e,r,a)=>{if(r>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var l=r;a=l+a-4;for(var h=0;h<e.length;++h){var v=e.charCodeAt(h);if(55296<=v&&57343>=v){var S=e.charCodeAt(++h);v=65536+((v&1023)<<10)|S&1023}if(c()[r>>>2>>>0]=v,r+=4,r+4>a)break}return c()[r>>>2>>>0]=0,r-l},D=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);55296<=l&&57343>=l&&++a,r+=4}return r},C=e=>{if(!be)try{if(e(),!ze())try{U?Rt(me):Br(me)}catch(r){r instanceof ur||r=="unwind"||j(1,r)}}catch(r){r instanceof ur||r=="unwind"||j(1,r)}};function W(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(c(),e>>>2,e).value.then(H),e+=128,Atomics.store(c(),e>>>2,1))}f.__emscripten_thread_mailbox_await=W;var H=()=>{var e=ft();e&&(W(e),C(()=>Wn()))};f.checkMailbox=H;var ne=e=>{var r=kt();return e=e(),ct(r),e};function z(e,r){var a=arguments.length-2,l=arguments;return ne(()=>{for(var h=2*a,v=Wt(8*h),S=v>>>3,P=0;P<a;P++){var $=l[2+P];typeof $=="bigint"?(we[S+2*P]=1n,we[S+2*P+1]=$):(we[S+2*P]=0n,_()[S+2*P+1>>>0]=$)}return kn(e,h,v,r)})}var Ie=[],b=(e,r)=>{var a=Pr[e];if(a===void 0)throw e=Bn(e),a=Me(e),Ge(e),new Ce(r+" has unknown type "+a);return a},q={},re=e=>{var r=q[e];return r===void 0?Me(e):r},Be=[],Yr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),uo=e=>{var r=Be.length;return Be.push(e),r},fo=(e,r)=>{for(var a=Array(e),l=0;l<e;++l)a[l]=b(g()[r+4*l>>>2>>>0],"parameter "+l);return a},gn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},yn={};function lo(e,r){return e=gn(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function co(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var a=lo(r.name||"unknownFunctionName",function(){});return a.prototype=r.prototype,a=new a,e=r.apply(a,e),e instanceof Object?e:a}var po=e=>{for(var r="",a=0;a<e;++a)r+=(a!==0?", ":"")+"arg"+a;var l="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(a=0;a<e;++a)l+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+a+`');
var arg`+a+" = argType"+a+`.readValueFromPointer(args);
args += argType`+a+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",l+("var obj = new constructor("+r+`);
return valueToHandle(obj);
}
`))(b,f,Te,()=>g())},vn={},Fr=e=>e%4===0&&(e%100!==0||e%400===0),bn=[0,31,60,91,121,152,182,213,244,274,305,335],wn=[0,31,59,90,120,151,181,212,243,273,304,334];function On(e,r,a,l,h,v,S){return U?z(16,1,e,r,a,l,h,v,S):-52}function _n(e,r,a,l,h,v){if(U)return z(17,1,e,r,a,l,h,v)}var Tn=e=>{var r=Ar(e)+1,a=lt(r);return a&&Er(e,a,r),a},Ut={},An=()=>{if(!xt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"},r;for(r in Ut)Ut[r]===void 0?delete e[r]:e[r]=Ut[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);xt=a}return xt},xt;function En(e,r){if(U)return z(18,1,e,r);e>>>=0,r>>>=0;var a=0;return An().forEach((l,h)=>{var v=r+a;for(h=g()[e+4*h>>>2>>>0]=v,v=0;v<l.length;++v)i()[h++>>>0>>>0]=l.charCodeAt(v);i()[h>>>0>>>0]=0,a+=l.length+1}),0}function Sn(e,r){if(U)return z(19,1,e,r);e>>>=0,r>>>=0;var a=An();g()[e>>>2>>>0]=a.length;var l=0;return a.forEach(h=>l+=h.length+1),g()[r>>>2>>>0]=l,0}function Mn(e){return U?z(20,1,e):52}function Pn(e,r,a,l){return U?z(21,1,e,r,a,l):52}function Cn(e,r,a,l){return U?z(22,1,e,r,a,l):70}var mo=[null,[],[]];function In(e,r,a,l){if(U)return z(23,1,e,r,a,l);r>>>=0,a>>>=0,l>>>=0;for(var h=0,v=0;v<a;v++){var S=g()[r>>>2>>>0],P=g()[r+4>>>2>>>0];r+=8;for(var $=0;$<P;$++){var N=m()[S+$>>>0],oe=mo[e];N===0||N===10?((e===1?tr:ce)(Oe(oe,0)),oe.length=0):oe.push(N)}h+=P}return g()[l>>>2>>>0]=h,0}var Fn=[31,29,31,30,31,30,31,31,30,31,30,31],Dn=[31,28,31,30,31,30,31,31,30,31,30,31];function ho(e){var r=Array(Ar(e)+1);return kr(e,r,0,r.length),r}var go=(e,r)=>{i().set(e,r>>>0)};function Un(e,r,a,l){function h(w,X,ie){for(w=typeof w=="number"?w.toString():w||"";w.length<X;)w=ie[0]+w;return w}function v(w,X){return h(w,X,"0")}function S(w,X){function ie(Hn){return 0>Hn?-1:0<Hn?1:0}var mr;return(mr=ie(w.getFullYear()-X.getFullYear()))===0&&(mr=ie(w.getMonth()-X.getMonth()))===0&&(mr=ie(w.getDate()-X.getDate())),mr}function P(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function $(w){var X=w.ob;for(w=new Date(new Date(w.pb+1900,0,1).getTime());0<X;){var ie=w.getMonth(),mr=(Fr(w.getFullYear())?Fn:Dn)[ie];if(X>mr-w.getDate())X-=mr-w.getDate()+1,w.setDate(1),11>ie?w.setMonth(ie+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+X);break}}return ie=new Date(w.getFullYear()+1,0,4),X=P(new Date(w.getFullYear(),0,4)),ie=P(ie),0>=S(X,w)?0>=S(ie,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,l>>>=0;var N=g()[l+40>>>2>>>0];l={Qb:c()[l>>>2>>>0],Pb:c()[l+4>>>2>>>0],tb:c()[l+8>>>2>>>0],yb:c()[l+12>>>2>>>0],ub:c()[l+16>>>2>>>0],pb:c()[l+20>>>2>>>0],kb:c()[l+24>>>2>>>0],ob:c()[l+28>>>2>>>0],Wb:c()[l+32>>>2>>>0],Ob:c()[l+36>>>2>>>0],Rb:N?fr(N):""},a=fr(a),N={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var oe in N)a=a.replace(new RegExp(oe,"g"),N[oe]);var Fe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ve="January February March April May June July August September October November December".split(" ");N={"%a":w=>Fe[w.kb].substring(0,3),"%A":w=>Fe[w.kb],"%b":w=>Ve[w.ub].substring(0,3),"%B":w=>Ve[w.ub],"%C":w=>v((w.pb+1900)/100|0,2),"%d":w=>v(w.yb,2),"%e":w=>h(w.yb,2," "),"%g":w=>$(w).toString().substring(2),"%G":w=>$(w),"%H":w=>v(w.tb,2),"%I":w=>(w=w.tb,w==0?w=12:12<w&&(w-=12),v(w,2)),"%j":w=>{for(var X=0,ie=0;ie<=w.ub-1;X+=(Fr(w.pb+1900)?Fn:Dn)[ie++]);return v(w.yb+X,3)},"%m":w=>v(w.ub+1,2),"%M":w=>v(w.Pb,2),"%n":()=>`
`,"%p":w=>0<=w.tb&&12>w.tb?"AM":"PM","%S":w=>v(w.Qb,2),"%t":()=>"	","%u":w=>w.kb||7,"%U":w=>v(Math.floor((w.ob+7-w.kb)/7),2),"%V":w=>{var X=Math.floor((w.ob+7-(w.kb+6)%7)/7);if(2>=(w.kb+371-w.ob-2)%7&&X++,X)X==53&&(ie=(w.kb+371-w.ob)%7,ie==4||ie==3&&Fr(w.pb)||(X=1));else{X=52;var ie=(w.kb+7-w.ob-1)%7;(ie==4||ie==5&&Fr(w.pb%400-1))&&X++}return v(X,2)},"%w":w=>w.kb,"%W":w=>v(Math.floor((w.ob+7-(w.kb+6)%7)/7),2),"%y":w=>(w.pb+1900).toString().substring(2),"%Y":w=>w.pb+1900,"%z":w=>{w=w.Ob;var X=0<=w;return w=Math.abs(w)/60,(X?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.Rb,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(oe in N)a.includes(oe)&&(a=a.replace(new RegExp(oe,"g"),N[oe](l)));return a=a.replace(/\0\0/g,"%"),oe=ho(a),oe.length>r?0:(go(oe,e),oe.length-1)}k.vb();for(var xn=Array(256),ut=0;256>ut;++ut)xn[ut]=String.fromCharCode(ut);Nr=xn,Ce=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(xe.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),_e.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),_e.sb=_e.lb.length,f.count_emval_handles=()=>{for(var e=0,r=_e.sb;r<_e.lb.length;++r)_e.lb[r]!==void 0&&++e;return e};var yo=[Jr,Kr,cr,Rr,et,rt,tt,nt,Wr,Ye,Lr,$r,Hr,Sr,jr,Mr,On,_n,En,Sn,Mn,Pn,Cn,In],vo={b:function(e,r,a){throw e>>>=0,new It(e).vb(r>>>0,a>>>0),lr=e,Ft++,lr},ea:function(e){Rn(e>>>0,!L,1,!x,131072,!1),k.Db()},D:function(e){e>>>=0,U?postMessage({cmd:"cleanupThread",thread:e}):((e=k.jb[e])||He(),k.Bb(e))},W:dr,y:Rr,ka:et,S:rt,U:tt,L:nt,ia:Wr,ba:Ye,ha:Lr,F:$r,T:Hr,Q:Sr,ja:jr,R:Mr,I:function(e,r,a,l,h){e>>>=0,r>>>=0,a>>>=0,r=Me(r);var v=r.indexOf("u")!=-1;v&&(h=(1n<<64n)-1n),B(e,{name:r,fromWireType:S=>S,toWireType:function(S,P){if(typeof P!="bigint"&&typeof P!="number")throw new TypeError(`Cannot convert "${at(P)}" to ${this.name}`);if(P<l||P>h)throw new TypeError(`Passing a number "${at(P)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${l}, ${h}]!`);return P},argPackAdvance:8,readValueFromPointer:pr(r,a,!v),rb:null})},qa:function(e,r,a,l){e>>>=0,r=Me(r>>>0),B(e,{name:r,fromWireType:function(h){return!!h},toWireType:function(h,v){return v?a:l},argPackAdvance:8,readValueFromPointer:function(h){return this.fromWireType(m()[h>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=Me(r>>>0),B(e,{name:r,fromWireType:a=>{var l=ge(a);return Cr(a),l},toWireType:(a,l)=>Te(l),argPackAdvance:8,readValueFromPointer:it,rb:null})},H:function(e,r,a){e>>>=0,a>>>=0,r=Me(r>>>0),B(e,{name:r,fromWireType:l=>l,toWireType:(l,h)=>h,argPackAdvance:8,readValueFromPointer:Ir(r,a),rb:null})},t:function(e,r,a,l,h){if(e>>>=0,a>>>=0,r=Me(r>>>0),h===-1&&(h=4294967295),h=P=>P,l===0){var v=32-8*a;h=P=>P<<v>>>v}var S=r.includes("unsigned")?function(P,$){return $>>>0}:function(P,$){return $};B(e,{name:r,fromWireType:h,toWireType:S,argPackAdvance:8,readValueFromPointer:pr(r,a,l!==0),rb:null})},m:function(e,r,a){function l(v){var S=g()[v>>>2>>>0];return v=g()[v+4>>>2>>>0],new h(i().buffer,v,S)}e>>>=0;var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];a=Me(a>>>0),B(e,{name:a,fromWireType:l,argPackAdvance:8,readValueFromPointer:l},{Hb:!0})},J:function(e,r){e>>>=0,r=Me(r>>>0);var a=r==="std::string";B(e,{name:r,fromWireType:function(l){var h=g()[l>>>2>>>0],v=l+4;if(a)for(var S=v,P=0;P<=h;++P){var $=v+P;if(P==h||m()[$>>>0]==0){if(S=fr(S,$-S),N===void 0)var N=S;else N+=String.fromCharCode(0),N+=S;S=$+1}}else{for(N=Array(h),P=0;P<h;++P)N[P]=String.fromCharCode(m()[v+P>>>0]);N=N.join("")}return Ge(l),N},toWireType:function(l,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var v=typeof h=="string";if(!(v||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array))throw new Ce("Cannot pass non-string to std::string");var S=a&&v?Ar(h):h.length,P=lt(4+S+1),$=P+4;if(g()[P>>>2>>>0]=S,a&&v)Er(h,$,S+1);else if(v)for(v=0;v<S;++v){var N=h.charCodeAt(v);if(255<N)throw Ge($),new Ce("String has UTF-16 code units that do not fit in 8 bits");m()[$+v>>>0]=N}else for(v=0;v<S;++v)m()[$+v>>>0]=h[v];return l!==null&&l.push(Ge,P),P},argPackAdvance:8,readValueFromPointer:st,rb(l){Ge(l)}})},A:function(e,r,a){if(e>>>=0,r>>>=0,a>>>=0,a=Me(a),r===2)var l=n,h=u,v=d,S=()=>O(),P=1;else r===4&&(l=y,h=A,v=D,S=()=>g(),P=2);B(e,{name:a,fromWireType:$=>{for(var N=g()[$>>>2>>>0],oe=S(),Fe,Ve=$+4,w=0;w<=N;++w){var X=$+4+w*r;(w==N||oe[X>>>P]==0)&&(Ve=l(Ve,X-Ve),Fe===void 0?Fe=Ve:(Fe+=String.fromCharCode(0),Fe+=Ve),Ve=X+r)}return Ge($),Fe},toWireType:($,N)=>{if(typeof N!="string")throw new Ce(`Cannot pass non-string to C++ string type ${a}`);var oe=v(N),Fe=lt(4+oe+r);return g()[Fe>>>2]=oe>>P,h(N,Fe+4,oe+r),$!==null&&$.push(Ge,Fe),Fe},argPackAdvance:8,readValueFromPointer:it,rb($){Ge($)}})},ra:function(e,r){e>>>=0,r=Me(r>>>0),B(e,{Ib:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>H()):U?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=k.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,a,l){r>>>=0,a/=2,Ie.length=a,l=l>>>0>>>3;for(var h=0;h<a;h++)Ie[h]=we[l+2*h]?we[l+2*h+1]:_()[l+2*h+1>>>0];return e=yo[e],k.Gb=r,r=e.apply(null,Ie),k.Gb=0,r},da:W,ma:function(e){Y&&k.jb[e>>>0].ref()},r:function(e,r,a){r>>>=0,a>>>=0,e=ge(e>>>0),r=b(r,"emval::as");var l=[],h=Te(l);return g()[a>>>2>>>0]=h,r.toWireType(l,e)},i:function(e,r,a,l,h){a>>>=0,l>>>=0,h>>>=0,e=Be[e>>>0],r=ge(r>>>0),a=re(a);var v=[];return g()[l>>>2>>>0]=Te(v),e(r,a,v,h)},u:function(e,r,a,l){a>>>=0,l>>>=0,e=Be[e>>>0],r=ge(r>>>0),a=re(a),e(r,a,null,l)},c:Cr,K:function(e,r){return r>>>=0,e=ge(e>>>0),r=ge(r),e==r},o:function(e){return e>>>=0,e===0?Te(Yr()):(e=re(e),Te(Yr()[e]))},h:function(e,r){var a=fo(e,r>>>0),l=a[0];r=l.name+"_$"+a.slice(1).map(function(oe){return oe.name}).join("_")+"$";var h=yn[r];if(h!==void 0)return h;h=["retType"];for(var v=[l],S="",P=0;P<e-1;++P)S+=(P!==0?", ":"")+"arg"+P,h.push("argType"+P),v.push(a[1+P]);var $="return function "+gn("methodCaller_"+r)+`(handle, name, destructors, args) {
`,N=0;for(P=0;P<e-1;++P)$+="    var arg"+P+" = argType"+P+".readValueFromPointer(args"+(N?"+"+N:"")+`);
`,N+=a[P+1].argPackAdvance;for($+="    var rv = handle[name]("+S+`);
`,P=0;P<e-1;++P)a[P+1].deleteObject&&($+="    argType"+P+".deleteObject(arg"+P+`);
`);return l.Ib||($+=`    return retType.toWireType(destructors, rv);
`),h.push($+`};
`),e=co(h).apply(null,v),h=uo(e),yn[r]=h},q:function(e,r){return r>>>=0,e=ge(e>>>0),r=ge(r),Te(e[r])},d:function(e){e>>>=0,4<e&&(_e.get(e).Ab+=1)},x:function(e,r,a,l){a>>>=0,l>>>=0,e=ge(e>>>0);var h=vn[r];return h||(h=po(r),vn[r]=h),h(e,a,l)},v:function(){return Te([])},l:function(e){e=ge(e>>>0);for(var r=Array(e.length),a=0;a<e.length;a++)r[a]=e[a];return Te(r)},e:function(e){return Te(re(e>>>0))},k:function(){return Te({})},g:function(e){e>>>=0;for(var r=ge(e);r.length;){var a=r.pop();r.pop()(a)}Cr(e)},j:function(e,r,a){r>>>=0,a>>>=0,e=ge(e>>>0),r=ge(r),a=ge(a),e[r]=a},f:function(e,r){return r>>>=0,e=b(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),Te(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),c()[r>>>2>>>0]=e.getUTCSeconds(),c()[r+4>>>2>>>0]=e.getUTCMinutes(),c()[r+8>>>2>>>0]=e.getUTCHours(),c()[r+12>>>2>>>0]=e.getUTCDate(),c()[r+16>>>2>>>0]=e.getUTCMonth(),c()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,c()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),c()[r>>>2>>>0]=e.getSeconds(),c()[r+4>>>2>>>0]=e.getMinutes(),c()[r+8>>>2>>>0]=e.getHours(),c()[r+12>>>2>>>0]=e.getDate(),c()[r+16>>>2>>>0]=e.getMonth(),c()[r+20>>>2>>>0]=e.getFullYear()-1900,c()[r+24>>>2>>>0]=e.getDay();var a=(Fr(e.getFullYear())?bn:wn)[e.getMonth()]+e.getDate()-1|0;c()[r+28>>>2>>>0]=a,c()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=l&&e.getTimezoneOffset()==Math.min(l,a))|0,c()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(c()[e+20>>>2>>>0]+1900,c()[e+16>>>2>>>0],c()[e+12>>>2>>>0],c()[e+8>>>2>>>0],c()[e+4>>>2>>>0],c()[e>>>2>>>0],0),a=c()[e+32>>>2>>>0],l=r.getTimezoneOffset(),h=new Date(r.getFullYear(),6,1).getTimezoneOffset(),v=new Date(r.getFullYear(),0,1).getTimezoneOffset(),S=Math.min(v,h);return 0>a?c()[e+32>>>2>>>0]=+(h!=v&&S==l):0<a!=(S==l)&&(h=Math.max(v,h),r.setTime(r.getTime()+6e4*((0<a?S:h)-l))),c()[e+24>>>2>>>0]=r.getDay(),a=(Fr(r.getFullYear())?bn:wn)[r.getMonth()]+r.getDate()-1|0,c()[e+28>>>2>>>0]=a,c()[e>>>2>>>0]=r.getSeconds(),c()[e+4>>>2>>>0]=r.getMinutes(),c()[e+8>>>2>>>0]=r.getHours(),c()[e+12>>>2>>>0]=r.getDate(),c()[e+16>>>2>>>0]=r.getMonth(),c()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:On,Z:_n,N:function(e,r,a){function l(N){return(N=N.toTimeString().match(/\(([A-Za-z ]+)\)$/))?N[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var h=new Date().getFullYear(),v=new Date(h,0,1),S=new Date(h,6,1);h=v.getTimezoneOffset();var P=S.getTimezoneOffset(),$=Math.max(h,P);g()[e>>>2>>>0]=60*$,c()[r>>>2>>>0]=+(h!=P),e=l(v),r=l(S),e=Tn(e),r=Tn(r),P<h?(g()[a>>>2>>>0]=e,g()[a+4>>>2>>>0]=r):(g()[a>>>2>>>0]=r,g()[a+4>>>2>>>0]=e)},n:()=>{He("")},E:()=>{},G:()=>Date.now(),la:()=>{throw ir+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>Y?(_a(),hr(Oa)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=m().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var l=r*(1+.2/a);l=Math.min(l,e+100663296);var h=Math;l=Math.max(e,l);e:{h=(h.min.call(h,4294901760,l+(65536-l%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(h),te();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},fa:En,ga:Sn,V:Br,z:Mn,C:Pn,ca:Cn,B:In,a:Q||f.wasmMemory,oa:Un,p:function(e,r,a,l){return Un(e>>>0,r>>>0,a>>>0,l>>>0)}},R=function(){var e={a:vo};return We++,Xr(e,function(r){var a=r.module;R=r.instance.exports,R=bo(),k.Eb.push(R.Xa),Qr=R._a,Ne.unshift(R.sa),je=a,Se()}).catch(M),{}}();f._OrtInit=(e,r)=>(f._OrtInit=R.ta)(e,r),f._OrtGetLastError=(e,r)=>(f._OrtGetLastError=R.ua)(e,r),f._OrtCreateSessionOptions=(e,r,a,l,h,v,S,P,$,N)=>(f._OrtCreateSessionOptions=R.va)(e,r,a,l,h,v,S,P,$,N),f._OrtAppendExecutionProvider=(e,r)=>(f._OrtAppendExecutionProvider=R.wa)(e,r),f._OrtAddFreeDimensionOverride=(e,r,a)=>(f._OrtAddFreeDimensionOverride=R.xa)(e,r,a),f._OrtAddSessionConfigEntry=(e,r,a)=>(f._OrtAddSessionConfigEntry=R.ya)(e,r,a),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=R.za)(e),f._OrtCreateSession=(e,r,a)=>(f._OrtCreateSession=R.Aa)(e,r,a),f._OrtReleaseSession=e=>(f._OrtReleaseSession=R.Ba)(e),f._OrtGetInputOutputCount=(e,r,a)=>(f._OrtGetInputOutputCount=R.Ca)(e,r,a),f._OrtGetInputName=(e,r)=>(f._OrtGetInputName=R.Da)(e,r),f._OrtGetOutputName=(e,r)=>(f._OrtGetOutputName=R.Ea)(e,r),f._OrtFree=e=>(f._OrtFree=R.Fa)(e),f._OrtCreateTensor=(e,r,a,l,h,v)=>(f._OrtCreateTensor=R.Ga)(e,r,a,l,h,v),f._OrtGetTensorData=(e,r,a,l,h)=>(f._OrtGetTensorData=R.Ha)(e,r,a,l,h),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=R.Ia)(e),f._OrtCreateRunOptions=(e,r,a,l)=>(f._OrtCreateRunOptions=R.Ja)(e,r,a,l),f._OrtAddRunConfigEntry=(e,r,a)=>(f._OrtAddRunConfigEntry=R.Ka)(e,r,a),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=R.La)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=R.Ma)(e),f._OrtBindInput=(e,r,a)=>(f._OrtBindInput=R.Na)(e,r,a),f._OrtBindOutput=(e,r,a,l)=>(f._OrtBindOutput=R.Oa)(e,r,a,l),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=R.Pa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=R.Qa)(e),f._OrtRunWithBinding=(e,r,a,l,h)=>(f._OrtRunWithBinding=R.Ra)(e,r,a,l,h),f._OrtRun=(e,r,a,l,h,v,S,P)=>(f._OrtRun=R.Sa)(e,r,a,l,h,v,S,P),f._OrtEndProfiling=e=>(f._OrtEndProfiling=R.Ta)(e);var ft=f._pthread_self=()=>(ft=f._pthread_self=R.Ua)(),lt=f._malloc=e=>(lt=f._malloc=R.Va)(e),Ge=f._free=e=>(Ge=f._free=R.Wa)(e);f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=R.Xa)();var Bn=e=>(Bn=R.Ya)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=R.Za)();var Rn=f.__emscripten_thread_init=(e,r,a,l,h,v)=>(Rn=f.__emscripten_thread_init=R.$a)(e,r,a,l,h,v);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=R.ab)();var kn=(e,r,a,l)=>(kn=R.bb)(e,r,a,l),Bt=e=>(Bt=R.cb)(e),Rt=f.__emscripten_thread_exit=e=>(Rt=f.__emscripten_thread_exit=R.db)(e),Wn=f.__emscripten_check_mailbox=()=>(Wn=f.__emscripten_check_mailbox=R.eb)(),Ln=(e,r)=>(Ln=R.fb)(e,r),kt=()=>(kt=R.gb)(),ct=e=>(ct=R.hb)(e),Wt=e=>(Wt=R.ib)(e);function bo(){var e=R;e=Object.assign({},e);var r=l=>()=>l()>>>0,a=l=>h=>l(h)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=a(e.Va),e.Ya=a(e.Ya),e.gb=r(e.gb),e.ib=a(e.ib),e}f.keepRuntimeAlive=ze,f.wasmMemory=Q,f.stackAlloc=Wt,f.stackSave=kt,f.stackRestore=ct,f.UTF8ToString=fr,f.stringToUTF8=Er,f.lengthBytesUTF8=Ar,f.ExitStatus=ur,f.PThread=k;var dt;Ze=function e(){dt||$n(),dt||(Ze=e)};function $n(){0<We||(U?(T(f),U||_r(Ne),startWorker(f)):(_r(Je),0<We||dt||(dt=!0,f.calledRun=!0,be||(U||_r(Ne),T(f),U||_r(vr)))))}return $n(),s.ready}})();typeof Aa=="object"&&typeof qt=="object"?qt.exports=Ta:typeof define=="function"&&define.amd&&define([],()=>Ta)});var Sa=Dr(($i,Po)=>{Po.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Pa,Co,Xt,Jt,Ot,Ma,Io,Fo,Do,Ca,fe,xr=Z(()=>{"use strict";Pa=va();Co=Ea(),Jt=!1,Ot=!1,Ma=!1,Io=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Fo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Do=(o,s)=>o?s?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":s?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ca=async o=>{if(Jt)return Promise.resolve();if(Ot)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Ma)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ot=!0;let s=o.initTimeout,i=o.numThreads,m=o.simd,p=i>1&&Io(),O=m&&Fo(),c=o.wasmPaths,g=typeof c=="string"?c:void 0,_=Do(O,p),f=typeof c=="object"?c[_]:void 0,T=!1,M=[];if(s>0&&M.push(new Promise(E=>{setTimeout(()=>{T=!0,E()},s)})),M.push(new Promise((E,F)=>{let j=p?Co:Pa,x={locateFile:(L,Y)=>p&&L.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Sa()],{type:"text/javascript"})):L.endsWith(".wasm")?f||(g??Y)+_:Y+L};if(p)if(typeof Blob>"u")x.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let L=`var ortWasmThreaded=${j.toString()};`;x.mainScriptUrlOrBlob=new Blob([L],{type:"text/javascript"})}j(x).then(L=>{Ot=!1,Jt=!0,Xt=L,E()},L=>{Ot=!1,Ma=!0,F(L)})})),await Promise.race(M),T)throw new Error(`WebAssembly backend initializing failed due to timeout: ${s}ms`)},fe=()=>{if(Jt&&Xt)return Xt;throw new Error("WebAssembly is not initialized yet.")}});var le,Vr,se,_t=Z(()=>{"use strict";xr();le=(o,s)=>{let i=fe(),m=i.lengthBytesUTF8(o)+1,p=i._malloc(m);return i.stringToUTF8(o,p,m),s.push(p),p},Vr=(o,s,i,m)=>{if(typeof o=="object"&&o!==null){if(i.has(o))throw new Error("Circular reference in options");i.add(o)}Object.entries(o).forEach(([p,O])=>{let c=s?s+p:p;if(typeof O=="object")Vr(O,c+".",i,m);else if(typeof O=="string"||typeof O=="number")m(c,O.toString());else if(typeof O=="boolean")m(c,O?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof O}`)})},se=o=>{let s=fe(),i=s.stackSave();try{let m=s.stackAlloc(8);s._OrtGetLastError(m,m+4);let p=s.HEAP32[m/4],O=s.HEAPU32[m/4+1],c=O?s.UTF8ToString(O):"";throw new Error(`${o} ERROR_CODE: ${p}, ERROR_MESSAGE: ${c}`)}finally{s.stackRestore(i)}}});var Ia,Fa=Z(()=>{"use strict";xr();_t();Ia=o=>{let s=fe(),i=0,m=[],p=o||{};try{if(o?.logSeverityLevel===void 0)p.logSeverityLevel=2;else if(typeof o.logSeverityLevel!="number"||!Number.isInteger(o.logSeverityLevel)||o.logSeverityLevel<0||o.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${o.logSeverityLevel}`);if(o?.logVerbosityLevel===void 0)p.logVerbosityLevel=0;else if(typeof o.logVerbosityLevel!="number"||!Number.isInteger(o.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${o.logVerbosityLevel}`);o?.terminate===void 0&&(p.terminate=!1);let O=0;return o?.tag!==void 0&&(O=le(o.tag,m)),i=s._OrtCreateRunOptions(p.logSeverityLevel,p.logVerbosityLevel,!!p.terminate,O),i===0&&se("Can't create run options."),o?.extra!==void 0&&Vr(o.extra,"",new WeakSet,(c,g)=>{let _=le(c,m),f=le(g,m);s._OrtAddRunConfigEntry(i,_,f)!==0&&se(`Can't set a run config entry: ${c} - ${g}.`)}),[i,m]}catch(O){throw i!==0&&s._OrtReleaseRunOptions(i),m.forEach(c=>s._free(c)),O}}});var Uo,xo,Bo,Ro,Da,Ua=Z(()=>{"use strict";xr();_t();Uo=o=>{switch(o){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${o}`)}},xo=o=>{switch(o){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${o}`)}},Bo=o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});let s=o.extra.session;s.use_ort_model_bytes_directly||(s.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(i=>(typeof i=="string"?i:i.name)==="webgpu")&&(o.enableMemPattern=!1)},Ro=(o,s,i)=>{for(let m of s){let p=typeof m=="string"?m:m.name;switch(p){case"xnnpack":p="XNNPACK";break;case"webnn":if(p="WEBNN",typeof m!="string"){let c=m;if(c?.deviceType){let g=le("deviceType",i),_=le(c.deviceType,i);fe()._OrtAddSessionConfigEntry(o,g,_)!==0&&se(`Can't set a session config entry: 'deviceType' - ${c.deviceType}.`)}if(c?.numThreads){let g=c.numThreads;(typeof g!="number"||!Number.isInteger(g)||g<0)&&(g=0);let _=le("numThreads",i),f=le(g.toString(),i);fe()._OrtAddSessionConfigEntry(o,_,f)!==0&&se(`Can't set a session config entry: 'numThreads' - ${c.numThreads}.`)}if(c?.powerPreference){let g=le("powerPreference",i),_=le(c.powerPreference,i);fe()._OrtAddSessionConfigEntry(o,g,_)!==0&&se(`Can't set a session config entry: 'powerPreference' - ${c.powerPreference}.`)}}break;case"webgpu":if(p="JS",typeof m!="string"){let c=m;if(c?.preferredLayout){if(c.preferredLayout!=="NCHW"&&c.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${c.preferredLayout}`);let g=le("preferredLayout",i),_=le(c.preferredLayout,i);fe()._OrtAddSessionConfigEntry(o,g,_)!==0&&se(`Can't set a session config entry: 'preferredLayout' - ${c.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${p}`)}let O=le(p,i);fe()._OrtAppendExecutionProvider(o,O)!==0&&se(`Can't append execution provider: ${p}.`)}},Da=o=>{let s=fe(),i=0,m=[],p=o||{};Bo(p);try{let O=Uo(p.graphOptimizationLevel??"all"),c=xo(p.executionMode??"sequential"),g=typeof p.logId=="string"?le(p.logId,m):0,_=p.logSeverityLevel??2;if(!Number.isInteger(_)||_<0||_>4)throw new Error(`log serverity level is not valid: ${_}`);let f=p.logVerbosityLevel??0;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log verbosity level is not valid: ${f}`);let T=typeof p.optimizedModelFilePath=="string"?le(p.optimizedModelFilePath,m):0;if(i=s._OrtCreateSessionOptions(O,!!p.enableCpuMemArena,!!p.enableMemPattern,c,!!p.enableProfiling,0,g,_,f,T),i===0&&se("Can't create session options."),p.executionProviders&&Ro(i,p.executionProviders,m),p.freeDimensionOverrides)for(let[M,E]of Object.entries(p.freeDimensionOverrides)){if(typeof M!="string")throw new Error(`free dimension override name must be a string: ${M}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let F=le(M,m);s._OrtAddFreeDimensionOverride(i,F,E)!==0&&se(`Can't set a free dimension override: ${M} - ${E}.`)}return p.extra!==void 0&&Vr(p.extra,"",new WeakSet,(M,E)=>{let F=le(M,m),j=le(E,m);s._OrtAddSessionConfigEntry(i,F,j)!==0&&se(`Can't set a session config entry: ${M} - ${E}.`)}),[i,m]}catch(O){throw i!==0&&s._OrtReleaseSessionOptions(i),m.forEach(c=>s._free(c)),O}}});var Zt,xa,Kt,Ba,Ra,Tt,ka,Qt=Z(()=>{"use strict";Zt=o=>{switch(o){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${o}`)}},xa=o=>{switch(o){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${o}`)}},Kt=o=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][o],Ba=o=>{switch(o){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${o}`)}},Ra=o=>{switch(o){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${o}`)}},Tt=o=>o==="float32"||o==="int32"||o==="int64"||o==="bool"||o==="float16"||o==="uint32",ka=o=>{switch(o){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${o}`)}}});var La,ko,Wo,$a,qr,Ha,en,rn,ja,Na,Wa,za,Ya,Ga,Va=Z(()=>{"use strict";Fa();Ua();Qt();xr();_t();La=!1,ko=o=>{let s=fe(),i=s.stackSave();try{let m=s.stackAlloc(8);return s._OrtGetInputOutputCount(o,m,m+4)!==0&&se("Can't get session input/output count."),[s.HEAP32[m/4],s.HEAP32[m/4+1]]}finally{s.stackRestore(i)}},Wo=(o,s)=>{fe()._OrtInit(o,s)!==0&&se("Can't initialize onnxruntime.")},$a=async o=>{Wo(o.wasm.numThreads,Ra(o.logLevel)),La=!0},qr=new Map,Ha=()=>La,en=o=>{let s=fe(),i=s._malloc(o.byteLength);if(i===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${o.byteLength}.`);return s.HEAPU8.set(o,i),[i,o.byteLength]},rn=(o,s)=>{let i=fe(),m=0,p=0,O=0,c=[],g=[],_=[];try{[p,c]=Da(s),m=i._OrtCreateSession(o[0],o[1],p),m===0&&se("Can't create a session.");let[f,T]=ko(m),M=[],E=[],F=[];for(let x=0;x<f;x++){let L=i._OrtGetInputName(m,x);L===0&&se("Can't get an input name."),g.push(L),M.push(i.UTF8ToString(L))}for(let x=0;x<T;x++){let L=i._OrtGetOutputName(m,x);L===0&&se("Can't get an output name."),_.push(L);let Y=i.UTF8ToString(L);E.push(Y)}let j=null;return qr.set(m,[m,g,_,j]),[m,M,E]}catch(f){throw g.forEach(T=>i._OrtFree(T)),_.forEach(T=>i._OrtFree(T)),O!==0&&i._OrtReleaseBinding(O),m!==0&&i._OrtReleaseSession(m),f}finally{i._free(o[0]),p!==0&&i._OrtReleaseSessionOptions(p),c.forEach(f=>i._free(f))}},ja=(o,s)=>{let i=en(o);return rn(i,s)},Na=o=>{let s=fe(),i=qr.get(o);if(!i)throw new Error(`cannot release session. invalid session id: ${o}`);let[m,p,O,c]=i;c&&s._OrtReleaseBinding(c.handle),s.jsepUnregisterBuffers?.(o),p.forEach(g=>s._OrtFree(g)),O.forEach(g=>s._OrtFree(g)),s._OrtReleaseSession(m),qr.delete(o)},Wa=(o,s,i,m,p)=>{if(!o){s.push(0);return}let O=fe(),c=o[0],g=o[1],_=o[3],f,T;if(c==="string"&&_==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(_==="gpu-buffer"){let F=o[2].gpuBuffer,j=Kt(Zt(c));T=g.reduce((x,L)=>x*L,1)*j,f=O.jsepRegisterBuffer(m,p,F,T)}else{let F=o[2];if(Array.isArray(F)){T=4*F.length,f=O._malloc(T),i.push(f);let j=f/4;for(let x=0;x<F.length;x++){if(typeof F[x]!="string")throw new TypeError(`tensor data at index ${x} is not a string`);O.HEAPU32[j++]=le(F[x],i)}}else T=F.byteLength,f=O._malloc(T),i.push(f),O.HEAPU8.set(new Uint8Array(F.buffer,F.byteOffset,T),f)}let M=O.stackSave(),E=O.stackAlloc(4*g.length);try{let F=E/4;g.forEach(x=>O.HEAP32[F++]=x);let j=O._OrtCreateTensor(Zt(c),f,T,E,g.length,ka(_));j===0&&se(`Can't create tensor for input/output. session=${m}, index=${p}.`),s.push(j)}finally{O.stackRestore(M)}},za=async(o,s,i,m,p,O)=>{let c=fe(),g=qr.get(o);if(!g)throw new Error(`cannot run inference. invalid session id: ${o}`);let[_,f,T,M]=g,E=s.length,F=m.length,j=0,x=[],L=[],Y=[],U=[],K=c.stackSave(),de=c.stackAlloc(E*4),J=c.stackAlloc(E*4),Ee=c.stackAlloc(F*4),De=c.stackAlloc(F*4);try{[j,x]=Ia(O);for(let V=0;V<E;V++)Wa(i[V],L,U,o,s[V]);for(let V=0;V<F;V++)Wa(p[V],Y,U,o,E+m[V]);let I=de/4,G=J/4,er=Ee/4,rr=De/4;for(let V=0;V<E;V++)c.HEAPU32[I++]=L[V],c.HEAPU32[G++]=f[s[V]];for(let V=0;V<F;V++)c.HEAPU32[er++]=Y[V],c.HEAPU32[rr++]=T[m[V]];let tr;tr=await c._OrtRun(_,J,de,E,De,F,Ee,j),tr!==0&&se("failed to call OrtRun().");let ce=[];for(let V=0;V<F;V++){let Q=c.HEAPU32[Ee/4+V];if(Q===Y[V]){ce.push(p[V]);continue}let je=c.stackSave(),be=c.stackAlloc(4*4),me=!1,ee,pe=0;try{c._OrtGetTensorData(Q,be,be+4,be+8,be+12)!==0&&se(`Can't access output tensor data on index ${V}.`);let $e=be/4,Re=c.HEAPU32[$e++];pe=c.HEAPU32[$e++];let Xe=c.HEAPU32[$e++],ar=c.HEAPU32[$e++],we=[];for(let te=0;te<ar;te++)we.push(c.HEAPU32[Xe/4+te]);c._OrtFree(Xe);let ke=we.reduce((te,ue)=>te*ue,1);ee=xa(Re);let or=M?.outputPreferredLocations[m[V]];if(ee==="string"){if(or==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let te=[],ue=pe/4;for(let Je=0;Je<ke;Je++){let Ne=c.HEAPU32[ue++],vr=Je===ke-1?void 0:c.HEAPU32[ue]-Ne;te.push(c.UTF8ToString(Ne,vr))}ce.push([ee,we,te,"cpu"])}else if(or==="gpu-buffer"&&ke>0){let te=c.jsepGetBuffer(pe),ue=Kt(Re);if(ue===void 0||!Tt(ee))throw new Error(`Unsupported data type: ${ee}`);me=!0,ce.push([ee,we,{gpuBuffer:te,download:c.jsepCreateDownloader(te,ke*ue,ee),dispose:()=>{c._OrtReleaseTensor(Q)}},"gpu-buffer"])}else{let te=Ba(ee),ue=new te(ke);new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength).set(c.HEAPU8.subarray(pe,pe+ue.byteLength)),ce.push([ee,we,ue,"cpu"])}}finally{c.stackRestore(je),ee==="string"&&pe&&c._free(pe),me||c._OrtReleaseTensor(Q)}}return M&&c._OrtClearBoundOutputs(M.handle),ce}finally{c.stackRestore(K),L.forEach(I=>c._OrtReleaseTensor(I)),Y.forEach(I=>c._OrtReleaseTensor(I)),U.forEach(I=>c._free(I)),j!==0&&c._OrtReleaseRunOptions(j),x.forEach(I=>c._free(I))}},Ya=o=>{let s=fe(),i=qr.get(o);if(!i)throw new Error("invalid session id");let m=i[0],p=s._OrtEndProfiling(m);p===0&&se("Can't get an profile file name."),s._OrtFree(p)},Ga=o=>{let s=[];for(let i of o){let m=i[2];!Array.isArray(m)&&"buffer"in m&&s.push(m.buffer)}return s}});var qa=Dr((ns,$o)=>{$o.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var ct=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var $n=Object.getOwnPropertyNames;var Nn=Object.prototype.hasOwnProperty;var dt=(l,h)=>()=>(l&&(h=l(l=0)),h);var Dr=(l,h)=>()=>(h||l((h={exports:{}}).exports,h),h.exports),pt=(l,h)=>{for(var u in h)ct(l,u,{get:h[u],enumerable:!0})},jn=(l,h,u,w)=>{if(h&&typeof h=="object"||typeof h=="function")for(let O of $n(h))!Nn.call(l,O)&&O!==u&&ct(l,O,{get:()=>h[O],enumerable:!(w=Hn(h,O))||w.enumerable});return l};var Ur=l=>jn(ct({},"__esModule",{value:!0}),l);var mt={};pt(mt,{readFile:()=>zn});var zn,gt=dt(()=>{zn=void 0});var ht={};pt(ht,{join:()=>Yn});var Yn,yt=dt(()=>{Yn=void 0});var en=Dr((Qt,vt)=>{"use strict";var Kt=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(h={}){var u=h,w,O;u.ready=new Promise((t,n)=>{w=t,O=n});var M=Object.assign({},u),d="./this.program",T=typeof window=="object",B=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R="",V,H,$;if(c){var Z=(gt(),Ur(mt)),N=(yt(),Ur(ht));R=B?N.dirname(R)+"/":__dirname+"/",V=(t,n)=>(t=t.startsWith("file://")?new URL(t):N.normalize(t),Z.readFileSync(t,n?void 0:"utf8")),$=t=>(t=V(t,!0),t.buffer||(t=new Uint8Array(t)),t),H=(t,n,a,s=!0)=>{t=t.startsWith("file://")?new URL(t):N.normalize(t),Z.readFile(t,s?void 0:"utf8",(p,v)=>{p?a(p):n(s?v.buffer:v)})},!u.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),u.inspect=()=>"[Emscripten Module object]"}else(T||B)&&(B?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),l&&(R=l),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",V=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},B&&($=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),H=(t,n,a)=>{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=()=>{s.status==200||s.status==0&&s.response?n(s.response):a()},s.onerror=a,s.send(null)});var Y=console.log.bind(console),K=console.error.bind(console);Object.assign(u,M),M=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var F,le=!1,Se,ee,be,Me,E,k,Ge,Ve,qe,ue;function j(){var t=F.buffer;u.HEAP8=Se=new Int8Array(t),u.HEAP16=be=new Int16Array(t),u.HEAPU8=ee=new Uint8Array(t),u.HEAPU16=Me=new Uint16Array(t),u.HEAP32=E=new Int32Array(t),u.HEAPU32=k=new Uint32Array(t),u.HEAPF32=Ge=new Float32Array(t),u.HEAPF64=ue=new Float64Array(t),u.HEAP64=Ve=new BigInt64Array(t),u.HEAPU64=qe=new BigUint64Array(t)}var q=[],Re=[],ge=[],ce=0,J=null,fe=null;function Je(t){throw t="Aborted("+t+")",K(t),le=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),O(t),t}function xe(t){return t.startsWith("data:application/octet-stream;base64,")}var We;if(We="ort-wasm.wasm",!xe(We)){var je=We;We=u.locateFile?u.locateFile(je,R):R+je}function Xe(t){if($)return $(t);throw"both async and sync fetching of the wasm failed"}function he(t){if(T||B){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+t+"\'";return n.arrayBuffer()}).catch(()=>Xe(t));if(H)return new Promise((n,a)=>{H(t,s=>n(new Uint8Array(s)),a)})}return Promise.resolve().then(()=>Xe(t))}function De(t,n,a){return he(t).then(s=>WebAssembly.instantiate(s,n)).then(s=>s).then(a,s=>{K(`failed to asynchronously prepare wasm: ${s}`),Je(s)})}function Ze(t,n){var a=We;return typeof WebAssembly.instantiateStreaming!="function"||xe(a)||a.startsWith("file://")||c||typeof fetch!="function"?De(a,t,n):fetch(a,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,t).then(n,function(p){return K(`wasm streaming compile failed: ${p}`),K("falling back to ArrayBuffer instantiation"),De(a,t,n)}))}function Q(t){this.Va=t-24,this.fb=function(n){k[this.Va+4>>>2>>>0]=n},this.eb=function(n){k[this.Va+8>>>2>>>0]=n},this.Za=function(n,a){this.$a(),this.fb(n),this.eb(a)},this.$a=function(){k[this.Va+16>>>2>>>0]=0}}var ae=0,ze=0,Le=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sr=(t,n,a)=>{n>>>=0;var s=n+a;for(a=n;t[a]&&!(a>=s);)++a;if(16<a-n&&t.buffer&&Le)return Le.decode(t.subarray(n,a));for(s="";n<a;){var p=t[n++];if(p&128){var v=t[n++]&63;if((p&224)==192)s+=String.fromCharCode((p&31)<<6|v);else{var S=t[n++]&63;p=(p&240)==224?(p&15)<<12|v<<6|S:(p&7)<<18|v<<12|S<<6|t[n++]&63,65536>p?s+=String.fromCharCode(p):(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023))}}else s+=String.fromCharCode(p)}return s},Ke=(t,n)=>(t>>>=0)?sr(ee,t,n):"",ke=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);127>=s?n++:2047>=s?n+=2:55296<=s&&57343>=s?(n+=4,++a):n+=3}return n},Ue=(t,n,a,s)=>{if(a>>>=0,!(0<s))return 0;var p=a;s=a+s-1;for(var v=0;v<t.length;++v){var S=t.charCodeAt(v);if(55296<=S&&57343>=S){var A=t.charCodeAt(++v);S=65536+((S&1023)<<10)|A&1023}if(127>=S){if(a>=s)break;n[a++>>>0]=S}else{if(2047>=S){if(a+1>=s)break;n[a++>>>0]=192|S>>6}else{if(65535>=S){if(a+2>=s)break;n[a++>>>0]=224|S>>12}else{if(a+3>=s)break;n[a++>>>0]=240|S>>18,n[a++>>>0]=128|S>>12&63}n[a++>>>0]=128|S>>6&63}n[a++>>>0]=128|S&63}}return n[a>>>0]=0,a-p},ur=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Ye,Oe=t=>{for(var n="";ee[t>>>0];)n+=Ye[ee[t++>>>0]];return n},Be={},fr={},Qe={},Ie;function rt(t,n,a={}){var s=n.name;if(!t)throw new Ie(`type "${s}" must have a positive integer typeid pointer`);if(fr.hasOwnProperty(t)){if(a.gb)return;throw new Ie(`Cannot register type \'${s}\' twice`)}fr[t]=n,delete Qe[t],Be.hasOwnProperty(t)&&(n=Be[t],delete Be[t],n.forEach(p=>p()))}function Ce(t,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");rt(t,n,a)}var Br=(t,n,a)=>{switch(n){case 1:return a?s=>Se[s>>>0>>>0]:s=>ee[s>>>0>>>0];case 2:return a?s=>be[s>>>1>>>0]:s=>Me[s>>>1>>>0];case 4:return a?s=>E[s>>>2>>>0]:s=>k[s>>>2>>>0];case 8:return a?s=>Ve[s>>>3]:s=>qe[s>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function er(){this.Sa=[void 0],this.bb=[]}var me=new er;function lr(t){t>>>=0,t>=me.Va&&--me.get(t).cb===0&&me.$a(t)}var de=t=>{if(!t)throw new Ie("Cannot use deleted val. handle = "+t);return me.get(t).value},ye=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return me.Za({cb:1,value:t})}};function rr(t){return this.fromWireType(E[t>>>2>>>0])}var Rr=(t,n)=>{switch(n){case 4:return function(a){return this.fromWireType(Ge[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(ue[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function Or(t){return this.fromWireType(k[t>>>2>>>0])}var Lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,W=(t,n)=>{for(var a=t>>1,s=a+n/2;!(a>=s)&&Me[a>>>0];)++a;if(a<<=1,32<a-t&&Lr)return Lr.decode(ee.subarray(t>>>0,a>>>0));for(a="",s=0;!(s>=n/2);++s){var p=be[t+2*s>>>1>>>0];if(p==0)break;a+=String.fromCharCode(p)}return a},cr=(t,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var s=n;a=a<2*t.length?a/2:t.length;for(var p=0;p<a;++p)be[n>>>1>>>0]=t.charCodeAt(p),n+=2;return be[n>>>1>>>0]=0,n-s},kr=t=>2*t.length,dr=(t,n)=>{for(var a=0,s="";!(a>=n/4);){var p=E[t+4*a>>>2>>>0];if(p==0)break;++a,65536<=p?(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023)):s+=String.fromCharCode(p)}return s},Hr=(t,n,a)=>{if(n>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var s=n;a=s+a-4;for(var p=0;p<t.length;++p){var v=t.charCodeAt(p);if(55296<=v&&57343>=v){var S=t.charCodeAt(++p);v=65536+((v&1023)<<10)|S&1023}if(E[n>>>2>>>0]=v,n+=4,n+4>a)break}return E[n>>>2>>>0]=0,n-s},tt=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);55296<=s&&57343>=s&&++a,n+=4}return n},tr=(t,n)=>{var a=fr[t];if(a===void 0)throw t=ve(t),a=Oe(t),Pe(t),new Ie(n+" has unknown type "+a);return a},nt={},nr=t=>{var n=nt[t];return n===void 0?Oe(t):n},or=[],_r=()=>typeof globalThis=="object"?globalThis:Function("return this")(),$r=t=>{var n=or.length;return or.push(t),n},pr=(t,n)=>{for(var a=Array(t),s=0;s<t;++s)a[s]=tr(k[n+4*s>>>2>>>0],"parameter "+s);return a},Tr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},mr={};function Nr(t,n){return t=Tr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function jr(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=Nr(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,t=n.apply(a,t),t instanceof Object?t:a}var zr=t=>{for(var n="",a=0;a<t;++a)n+=(a!==0?", ":"")+"arg"+a;var s="return function emval_allocator_"+t+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<t;++a)s+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",s+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(tr,u,ye,()=>k)},Ar={},He=t=>t%4===0&&(t%100!==0||t%400===0),Er=[0,31,60,91,121,152,182,213,244,274,305,335],Sr=[0,31,59,90,120,151,181,212,243,273,304,334],Mr=t=>{var n=ke(t)+1,a=ar(n);return a&&Ue(t,ee,a,n),a},gr={},Cr=()=>{if(!hr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in gr)gr[n]===void 0?delete t[n]:t[n]=gr[n];var a=[];for(n in t)a.push(`${n}=${t[n]}`);hr=a}return hr},hr,Yr=[null,[],[]],Pr=[31,29,31,30,31,30,31,31,30,31,30,31],_e=[31,28,31,30,31,30,31,31,30,31,30,31];function Fr(t){var n=Array(ke(t)+1);return Ue(t,n,0,n.length),n}function yr(t,n,a,s){function p(g,z,X){for(g=typeof g=="number"?g.toString():g||"";g.length<z;)g=X[0]+g;return g}function v(g,z){return p(g,z,"0")}function S(g,z){function X(Wr){return 0>Wr?-1:0<Wr?1:0}var Fe;return(Fe=X(g.getFullYear()-z.getFullYear()))===0&&(Fe=X(g.getMonth()-z.getMonth()))===0&&(Fe=X(g.getDate()-z.getDate())),Fe}function A(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function D(g){var z=g.Ta;for(g=new Date(new Date(g.Ua+1900,0,1).getTime());0<z;){var X=g.getMonth(),Fe=(He(g.getFullYear())?Pr:_e)[X];if(z>Fe-g.getDate())z-=Fe-g.getDate()+1,g.setDate(1),11>X?g.setMonth(X+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+z);break}}return X=new Date(g.getFullYear()+1,0,4),z=A(new Date(g.getFullYear(),0,4)),X=A(X),0>=S(z,g)?0>=S(X,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}t>>>=0,n>>>=0,a>>>=0,s>>>=0;var I=k[s+40>>>2>>>0];s={kb:E[s>>>2>>>0],jb:E[s+4>>>2>>>0],Xa:E[s+8>>>2>>>0],ab:E[s+12>>>2>>>0],Ya:E[s+16>>>2>>>0],Ua:E[s+20>>>2>>>0],Oa:E[s+24>>>2>>>0],Ta:E[s+28>>>2>>>0],mb:E[s+32>>>2>>>0],ib:E[s+36>>>2>>>0],lb:I?Ke(I):""},a=Ke(a),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var re in I)a=a.replace(new RegExp(re,"g"),I[re]);var L="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ae="January February March April May June July August September October November December".split(" ");I={"%a":g=>L[g.Oa].substring(0,3),"%A":g=>L[g.Oa],"%b":g=>Ae[g.Ya].substring(0,3),"%B":g=>Ae[g.Ya],"%C":g=>v((g.Ua+1900)/100|0,2),"%d":g=>v(g.ab,2),"%e":g=>p(g.ab,2," "),"%g":g=>D(g).toString().substring(2),"%G":g=>D(g),"%H":g=>v(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),v(g,2)),"%j":g=>{for(var z=0,X=0;X<=g.Ya-1;z+=(He(g.Ua+1900)?Pr:_e)[X++]);return v(g.ab+z,3)},"%m":g=>v(g.Ya+1,2),"%M":g=>v(g.jb,2),"%n":()=>`\n`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>v(g.kb,2),"%t":()=>"	","%u":g=>g.Oa||7,"%U":g=>v(Math.floor((g.Ta+7-g.Oa)/7),2),"%V":g=>{var z=Math.floor((g.Ta+7-(g.Oa+6)%7)/7);if(2>=(g.Oa+371-g.Ta-2)%7&&z++,z)z==53&&(X=(g.Oa+371-g.Ta)%7,X==4||X==3&&He(g.Ua)||(z=1));else{z=52;var X=(g.Oa+7-g.Ta-1)%7;(X==4||X==5&&He(g.Ua%400-1))&&z++}return v(z,2)},"%w":g=>g.Oa,"%W":g=>v(Math.floor((g.Ta+7-(g.Oa+6)%7)/7),2),"%y":g=>(g.Ua+1900).toString().substring(2),"%Y":g=>g.Ua+1900,"%z":g=>{g=g.ib;var z=0<=g;return g=Math.abs(g)/60,(z?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(re in I)a.includes(re)&&(a=a.replace(new RegExp(re,"g"),I[re](s)));return a=a.replace(/\\0\\0/g,"%"),re=Fr(a),re.length>n?0:(Se.set(re,t>>>0),re.length-1)}for(var Gr=Array(256),Te=0;256>Te;++Te)Gr[Te]=String.fromCharCode(Te);Ye=Gr,Ie=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(er.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),me.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),me.Va=me.Sa.length,u.count_emval_handles=()=>{for(var t=0,n=me.Va;n<me.Sa.length;++n)me.Sa[n]!==void 0&&++t;return t};var ot={a:function(t,n,a){throw t>>>=0,new Q(t).Za(n>>>0,a>>>0),ae=t,ze++,ae},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},A:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},D:function(t,n,a,s,p){n>>>=0,n=Oe(n);var v=n.indexOf("u")!=-1;v&&(p=(1n<<64n)-1n),Ce(t>>>0,{name:n,fromWireType:S=>S,toWireType:function(S,A){if(typeof A!="bigint"&&typeof A!="number")throw new TypeError(`Cannot convert "${ur(A)}" to ${this.name}`);if(A<s||A>p)throw new TypeError(`Passing a number "${ur(A)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${s}, ${p}]!`);return A},argPackAdvance:8,readValueFromPointer:Br(n,a>>>0,!v),Wa:null})},ea:function(t,n,a,s){n=Oe(n>>>0),Ce(t>>>0,{name:n,fromWireType:function(p){return!!p},toWireType:function(p,v){return v?a:s},argPackAdvance:8,readValueFromPointer:function(p){return this.fromWireType(ee[p>>>0])},Wa:null})},da:function(t,n){n=Oe(n>>>0),Ce(t>>>0,{name:n,fromWireType:a=>{var s=de(a);return lr(a),s},toWireType:(a,s)=>ye(s),argPackAdvance:8,readValueFromPointer:rr,Wa:null})},C:function(t,n,a){n=Oe(n>>>0),Ce(t>>>0,{name:n,fromWireType:s=>s,toWireType:(s,p)=>p,argPackAdvance:8,readValueFromPointer:Rr(n,a>>>0),Wa:null})},p:function(t,n,a,s,p){if(t>>>=0,a>>>=0,n=Oe(n>>>0),p===-1&&(p=4294967295),p=A=>A,s===0){var v=32-8*a;p=A=>A<<v>>>v}var S=n.includes("unsigned")?function(A,D){return D>>>0}:function(A,D){return D};Ce(t,{name:n,fromWireType:p,toWireType:S,argPackAdvance:8,readValueFromPointer:Br(n,a,s!==0),Wa:null})},l:function(t,n,a){function s(v){return new p(Se.buffer,k[v+4>>>2>>>0],k[v>>>2>>>0])}var p=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Oe(a>>>0),Ce(t>>>0,{name:a,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{gb:!0})},E:function(t,n){n=Oe(n>>>0);var a=n==="std::string";Ce(t>>>0,{name:n,fromWireType:function(s){var p=k[s>>>2>>>0],v=s+4;if(a)for(var S=v,A=0;A<=p;++A){var D=v+A;if(A==p||ee[D>>>0]==0){if(S=Ke(S,D-S),I===void 0)var I=S;else I+=String.fromCharCode(0),I+=S;S=D+1}}else{for(I=Array(p),A=0;A<p;++A)I[A]=String.fromCharCode(ee[v+A>>>0]);I=I.join("")}return Pe(s),I},toWireType:function(s,p){p instanceof ArrayBuffer&&(p=new Uint8Array(p));var v=typeof p=="string";if(!(v||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int8Array))throw new Ie("Cannot pass non-string to std::string");var S=a&&v?ke(p):p.length,A=ar(4+S+1),D=A+4;if(k[A>>>2>>>0]=S,a&&v)Ue(p,ee,D,S+1);else if(v)for(v=0;v<S;++v){var I=p.charCodeAt(v);if(255<I)throw Pe(D),new Ie("String has UTF-16 code units that do not fit in 8 bits");ee[D+v>>>0]=I}else for(v=0;v<S;++v)ee[D+v>>>0]=p[v];return s!==null&&s.push(Pe,A),A},argPackAdvance:8,readValueFromPointer:Or,Wa(s){Pe(s)}})},x:function(t,n,a){if(n>>>=0,a>>>=0,a=Oe(a),n===2)var s=W,p=cr,v=kr,S=()=>Me,A=1;else n===4&&(s=dr,p=Hr,v=tt,S=()=>k,A=2);Ce(t>>>0,{name:a,fromWireType:D=>{for(var I=k[D>>>2>>>0],re=S(),L,Ae=D+4,g=0;g<=I;++g){var z=D+4+g*n;(g==I||re[z>>>A]==0)&&(Ae=s(Ae,z-Ae),L===void 0?L=Ae:(L+=String.fromCharCode(0),L+=Ae),Ae=z+n)}return Pe(D),L},toWireType:(D,I)=>{if(typeof I!="string")throw new Ie(`Cannot pass non-string to C++ string type ${a}`);var re=v(I),L=ar(4+re+n);return k[L>>>2]=re>>A,p(I,L+4,re+n),D!==null&&D.push(Pe,L),L},argPackAdvance:8,readValueFromPointer:rr,Wa(D){Pe(D)}})},fa:function(t,n){n=Oe(n>>>0),Ce(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,a){n>>>=0,a>>>=0,t=de(t>>>0),n=tr(n,"emval::as");var s=[],p=ye(s);return k[a>>>2>>>0]=p,n.toWireType(s,t)},h:function(t,n,a,s,p){a>>>=0,s>>>=0,p>>>=0,t=or[t>>>0],n=de(n>>>0),a=nr(a);var v=[];return k[s>>>2>>>0]=ye(v),t(n,a,v,p)},r:function(t,n,a,s){a>>>=0,s>>>=0,t=or[t>>>0],n=de(n>>>0),a=nr(a),t(n,a,null,s)},b:lr,F:function(t,n){return n>>>=0,t=de(t>>>0),n=de(n),t==n},u:function(t){return t>>>=0,t===0?ye(_r()):(t=nr(t),ye(_r()[t]))},g:function(t,n){var a=pr(t,n>>>0),s=a[0];n=s.name+"_$"+a.slice(1).map(function(re){return re.name}).join("_")+"$";var p=mr[n];if(p!==void 0)return p;p=["retType"];for(var v=[s],S="",A=0;A<t-1;++A)S+=(A!==0?", ":"")+"arg"+A,p.push("argType"+A),v.push(a[1+A]);var D="return function "+Tr("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,I=0;for(A=0;A<t-1;++A)D+="    var arg"+A+" = argType"+A+".readValueFromPointer(args"+(I?"+"+I:"")+`);\n`,I+=a[A+1].argPackAdvance;for(D+="    var rv = handle[name]("+S+`);\n`,A=0;A<t-1;++A)a[A+1].deleteObject&&(D+="    argType"+A+".deleteObject(arg"+A+`);\n`);return s.hb||(D+=`    return retType.toWireType(destructors, rv);\n`),p.push(D+`};\n`),t=jr(p).apply(null,v),p=$r(t),mr[n]=p},q:function(t,n){return n>>>=0,t=de(t>>>0),n=de(n),ye(t[n])},c:function(t){t>>>=0,4<t&&(me.get(t).cb+=1)},G:function(t,n,a,s){a>>>=0,s>>>=0,t=de(t>>>0);var p=Ar[n];return p||(p=zr(n),Ar[n]=p),p(t,a,s)},s:function(){return ye([])},k:function(t){t=de(t>>>0);for(var n=Array(t.length),a=0;a<t.length;a++)n[a]=t[a];return ye(n)},d:function(t){return ye(nr(t>>>0))},j:function(){return ye({})},f:function(t){t>>>=0;for(var n=de(t);n.length;){var a=n.pop();n.pop()(a)}lr(t)},i:function(t,n,a){n>>>=0,a>>>=0,t=de(t>>>0),n=de(n),a=de(a),t[n]=a},e:function(t,n){return n>>>=0,t=tr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),ye(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),E[n>>>2>>>0]=t.getUTCSeconds(),E[n+4>>>2>>>0]=t.getUTCMinutes(),E[n+8>>>2>>>0]=t.getUTCHours(),E[n+12>>>2>>>0]=t.getUTCDate(),E[n+16>>>2>>>0]=t.getUTCMonth(),E[n+20>>>2>>>0]=t.getUTCFullYear()-1900,E[n+24>>>2>>>0]=t.getUTCDay(),E[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),E[n>>>2>>>0]=t.getSeconds(),E[n+4>>>2>>>0]=t.getMinutes(),E[n+8>>>2>>>0]=t.getHours(),E[n+12>>>2>>>0]=t.getDate(),E[n+16>>>2>>>0]=t.getMonth(),E[n+20>>>2>>>0]=t.getFullYear()-1900,E[n+24>>>2>>>0]=t.getDay(),E[n+28>>>2>>>0]=(He(t.getFullYear())?Er:Sr)[t.getMonth()]+t.getDate()-1|0,E[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=new Date(t.getFullYear(),0,1).getTimezoneOffset();E[n+32>>>2>>>0]=(a!=s&&t.getTimezoneOffset()==Math.min(s,a))|0},U:function(t){t>>>=0;var n=new Date(E[t+20>>>2>>>0]+1900,E[t+16>>>2>>>0],E[t+12>>>2>>>0],E[t+8>>>2>>>0],E[t+4>>>2>>>0],E[t>>>2>>>0],0),a=E[t+32>>>2>>>0],s=n.getTimezoneOffset(),p=new Date(n.getFullYear(),6,1).getTimezoneOffset(),v=new Date(n.getFullYear(),0,1).getTimezoneOffset(),S=Math.min(v,p);return 0>a?E[t+32>>>2>>>0]=+(p!=v&&S==s):0<a!=(S==s)&&(p=Math.max(v,p),n.setTime(n.getTime()+6e4*((0<a?S:p)-s))),E[t+24>>>2>>>0]=n.getDay(),E[t+28>>>2>>>0]=(He(n.getFullYear())?Er:Sr)[n.getMonth()]+n.getDate()-1|0,E[t>>>2>>>0]=n.getSeconds(),E[t+4>>>2>>>0]=n.getMinutes(),E[t+8>>>2>>>0]=n.getHours(),E[t+12>>>2>>>0]=n.getDate(),E[t+16>>>2>>>0]=n.getMonth(),E[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,a){function s(D){return(D=D.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?D[1]:"GMT"}a>>>=0;var p=new Date().getFullYear(),v=new Date(p,0,1),S=new Date(p,6,1);p=v.getTimezoneOffset();var A=S.getTimezoneOffset();k[t>>>0>>>2>>>0]=60*Math.max(p,A),E[n>>>0>>>2>>>0]=+(p!=A),t=s(v),n=s(S),t=Mr(t),n=Mr(n),A<p?(k[a>>>2>>>0]=t,k[a+4>>>2>>>0]=n):(k[a>>>2>>>0]=n,k[a+4>>>2>>>0]=t)},t:()=>{Je("")},B:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,a){return n>>>=0,ee.copyWithin(t>>>0>>>0,n>>>0,n+(a>>>0)>>>0)},I:function(t){t>>>=0;var n=ee.length;if(4294901760<t)return!1;for(var a=1;4>=a;a*=2){var s=n*(1+.2/a);s=Math.min(s,t+100663296);var p=Math;s=Math.max(t,s);e:{p=(p.min.call(p,4294901760,s+(65536-s%65536)%65536)-F.buffer.byteLength+65535)/65536;try{F.grow(p),j();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var a=0;return Cr().forEach((s,p)=>{var v=n+a;for(p=k[t+4*p>>>2>>>0]=v,v=0;v<s.length;++v)Se[p++>>>0>>>0]=s.charCodeAt(v);Se[p>>>0>>>0]=0,a+=s.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var a=Cr();k[t>>>2>>>0]=a.length;var s=0;return a.forEach(p=>s+=p.length+1),k[n>>>2>>>0]=s,0},w:()=>52,z:function(){return 52},W:function(){return 70},y:function(t,n,a,s){n>>>=0,a>>>=0,s>>>=0;for(var p=0,v=0;v<a;v++){var S=k[n>>>2>>>0],A=k[n+4>>>2>>>0];n+=8;for(var D=0;D<A;D++){var I=ee[S+D>>>0],re=Yr[t];I===0||I===10?((t===1?Y:K)(sr(re,0)),re.length=0):re.push(I)}p+=A}return k[s>>>2>>>0]=p,0},ga:yr,m:function(t,n,a,s){return yr(t>>>0,n>>>0,a>>>0,s>>>0)}},C=function(){var t={a:ot};return ce++,Ze(t,function(n){C=n.instance.exports,C=Vr(),F=C.ha,j(),Re.unshift(C.ia),ce--,ce==0&&(J!==null&&(clearInterval(J),J=null),fe&&(n=fe,fe=null,n()))}).catch(O),{}}();u._OrtInit=(t,n)=>(u._OrtInit=C.ja)(t,n),u._OrtGetLastError=(t,n)=>(u._OrtGetLastError=C.ka)(t,n),u._OrtCreateSessionOptions=(t,n,a,s,p,v,S,A,D,I)=>(u._OrtCreateSessionOptions=C.la)(t,n,a,s,p,v,S,A,D,I),u._OrtAppendExecutionProvider=(t,n)=>(u._OrtAppendExecutionProvider=C.ma)(t,n),u._OrtAddFreeDimensionOverride=(t,n,a)=>(u._OrtAddFreeDimensionOverride=C.na)(t,n,a),u._OrtAddSessionConfigEntry=(t,n,a)=>(u._OrtAddSessionConfigEntry=C.oa)(t,n,a),u._OrtReleaseSessionOptions=t=>(u._OrtReleaseSessionOptions=C.pa)(t),u._OrtCreateSession=(t,n,a)=>(u._OrtCreateSession=C.qa)(t,n,a),u._OrtReleaseSession=t=>(u._OrtReleaseSession=C.ra)(t),u._OrtGetInputOutputCount=(t,n,a)=>(u._OrtGetInputOutputCount=C.sa)(t,n,a),u._OrtGetInputName=(t,n)=>(u._OrtGetInputName=C.ta)(t,n),u._OrtGetOutputName=(t,n)=>(u._OrtGetOutputName=C.ua)(t,n),u._OrtFree=t=>(u._OrtFree=C.va)(t),u._OrtCreateTensor=(t,n,a,s,p,v)=>(u._OrtCreateTensor=C.wa)(t,n,a,s,p,v),u._OrtGetTensorData=(t,n,a,s,p)=>(u._OrtGetTensorData=C.xa)(t,n,a,s,p),u._OrtReleaseTensor=t=>(u._OrtReleaseTensor=C.ya)(t),u._OrtCreateRunOptions=(t,n,a,s)=>(u._OrtCreateRunOptions=C.za)(t,n,a,s),u._OrtAddRunConfigEntry=(t,n,a)=>(u._OrtAddRunConfigEntry=C.Aa)(t,n,a),u._OrtReleaseRunOptions=t=>(u._OrtReleaseRunOptions=C.Ba)(t),u._OrtCreateBinding=t=>(u._OrtCreateBinding=C.Ca)(t),u._OrtBindInput=(t,n,a)=>(u._OrtBindInput=C.Da)(t,n,a),u._OrtBindOutput=(t,n,a,s)=>(u._OrtBindOutput=C.Ea)(t,n,a,s),u._OrtClearBoundOutputs=t=>(u._OrtClearBoundOutputs=C.Fa)(t),u._OrtReleaseBinding=t=>(u._OrtReleaseBinding=C.Ga)(t),u._OrtRunWithBinding=(t,n,a,s,p)=>(u._OrtRunWithBinding=C.Ha)(t,n,a,s,p),u._OrtRun=(t,n,a,s,p,v,S,A)=>(u._OrtRun=C.Ia)(t,n,a,s,p,v,S,A),u._OrtEndProfiling=t=>(u._OrtEndProfiling=C.Ja)(t);var ar=u._malloc=t=>(ar=u._malloc=C.Ka)(t),Pe=u._free=t=>(Pe=u._free=C.La)(t),ve=t=>(ve=C.Ma)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=C.Na)();var vr=()=>(vr=C.Pa)(),pe=t=>(pe=C.Qa)(t),we=t=>(we=C.Ra)(t);function Vr(){var t=C;t=Object.assign({},t);var n=s=>()=>s()>>>0,a=s=>p=>s(p)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=a(t.Ka),t.Ma=a(t.Ma),t.Pa=n(t.Pa),t.Ra=a(t.Ra),t}u.stackAlloc=we,u.stackSave=vr,u.stackRestore=pe,u.UTF8ToString=Ke,u.stringToUTF8=(t,n,a)=>Ue(t,ee,n,a),u.lengthBytesUTF8=ke;var wr;fe=function t(){wr||qr(),wr||(fe=t)};function qr(){if(!(0<ce)){for(;0<q.length;)q.shift()(u);if(!(0<ce||wr||(wr=!0,u.calledRun=!0,le))){for(;0<Re.length;)Re.shift()(u);for(w(u);0<ge.length;)ge.shift()(u)}}}return qr(),h.ready}})();typeof Qt=="object"&&typeof vt=="object"?vt.exports=Kt:typeof define=="function"&&define.amd&&define([],()=>Kt)});var rn=Dr(()=>{});var tn=Dr(()=>{});var nn={};pt(nn,{cpus:()=>Gn});var Gn,on=dt(()=>{Gn=void 0});var un=Dr((sn,wt)=>{"use strict";var an=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(h={}){function u(){return q.buffer!=J.buffer&&Q(),J}function w(){return q.buffer!=J.buffer&&Q(),fe}function O(){return q.buffer!=J.buffer&&Q(),Je}function M(){return q.buffer!=J.buffer&&Q(),xe}function d(){return q.buffer!=J.buffer&&Q(),We}function T(){return q.buffer!=J.buffer&&Q(),je}function B(){return q.buffer!=J.buffer&&Q(),Ze}var c=h,R,V;c.ready=new Promise((e,r)=>{R=e,V=r});var H=Object.assign({},c),$="./this.program",Z=(e,r)=>{throw r},N=typeof window=="object",Y=typeof importScripts=="function",K=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",F=c.ENVIRONMENT_IS_PTHREAD||!1,le="";function Se(e){return c.locateFile?c.locateFile(e,le):le+e}var ee,be,Me;if(K){var E=(gt(),Ur(mt)),k=(yt(),Ur(ht));le=Y?k.dirname(le)+"/":__dirname+"/",ee=(r,o)=>(r=r.startsWith("file://")?new URL(r):k.normalize(r),E.readFileSync(r,o?void 0:"utf8")),Me=r=>(r=ee(r,!0),r.buffer||(r=new Uint8Array(r)),r),be=(r,o,i,f=!0)=>{r=r.startsWith("file://")?new URL(r):k.normalize(r),E.readFile(r,f?void 0:"utf8",(m,b)=>{m?i(m):o(f?b.buffer:b)})},!c.thisProgram&&1<process.argv.length&&($=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),Z=(r,o)=>{throw process.exitCode=r,o},c.inspect=()=>"[Emscripten Module object]";let e;try{e=rn()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(N||Y)&&(Y?le=self.location.href:typeof document<"u"&&document.currentScript&&(le=document.currentScript.src),typeof l<"u"&&l&&(le=l),le.indexOf("blob:")!==0?le=le.substr(0,le.replace(/[?#].*/,"").lastIndexOf("/")+1):le="",K||(ee=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Y&&(Me=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),be=(e,r,o)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):o()},i.onerror=o,i.send(null)}));K&&typeof performance>"u"&&(global.performance=tn().performance);var Ge=console.log.bind(console),Ve=console.error.bind(console);K&&(Ge=(...e)=>E.writeSync(1,e.join(" ")+`\n`),Ve=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var qe=Ge,ue=Ve;Object.assign(c,H),H=null;var j=!0;typeof WebAssembly!="object"&&Be("no native wasm support detected");var q,Re,ge=!1,ce,J,fe,Je,xe,We,je,Xe,he,De,Ze;function Q(){var e=q.buffer;c.HEAP8=J=new Int8Array(e),c.HEAP16=Je=new Int16Array(e),c.HEAPU8=fe=new Uint8Array(e),c.HEAPU16=xe=new Uint16Array(e),c.HEAP32=We=new Int32Array(e),c.HEAPU32=je=new Uint32Array(e),c.HEAPF32=Xe=new Float32Array(e),c.HEAPF64=Ze=new Float64Array(e),c.HEAP64=he=new BigInt64Array(e),c.HEAPU64=De=new BigUint64Array(e)}var ae=16777216;if(5242880<=ae||Be("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ae+"! (STACK_SIZE=5242880)"),F)q=c.wasmMemory;else if(q=new WebAssembly.Memory({initial:ae/65536,maximum:65536,shared:!0}),!(q.buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),K&&ue("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Q(),ae=q.buffer.byteLength;var ze=[],Le=[],sr=[],Ke=0;function ke(){return j||0<Ke}var Ue=0,ur=null,Ye=null;function Oe(){if(Ue--,Ue==0&&(ur!==null&&(clearInterval(ur),ur=null),Ye)){var e=Ye;Ye=null,e()}}function Be(e){throw e="Aborted("+e+")",ue(e),ge=!0,ce=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),V(e),e}function fr(e){return e.startsWith("data:application/octet-stream;base64,")}var Qe;Qe="ort-wasm-threaded.wasm",fr(Qe)||(Qe=Se(Qe));function Ie(e){if(Me)return Me(e);throw"both async and sync fetching of the wasm failed"}function rt(e){if(N||Y){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>Ie(e));if(be)return new Promise((r,o)=>{be(e,i=>r(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Ie(e))}function Ce(e,r,o){return rt(e).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(o,i=>{ue(`failed to asynchronously prepare wasm: ${i}`),Be(i)})}function Br(e,r){var o=Qe;return typeof WebAssembly.instantiateStreaming!="function"||fr(o)||o.startsWith("file://")||K||typeof fetch!="function"?Ce(o,e,r):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(r,function(f){return ue(`wasm streaming compile failed: ${f}`),ue("falling back to ArrayBuffer instantiation"),Ce(o,e,r)}))}function er(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var me=e=>{e.terminate(),e.onmessage=()=>{}},lr=e=>{if(W.qb.length==0){var r=Se("ort-wasm-threaded.worker.js");r=new Worker(r),W.qb.push(r),W.Jb(W.qb[0])}if(r=W.qb.pop(),!r)return 6;W.nb.push(r),W.jb[e.mb]=r,r.mb=e.mb;var o={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return K&&r.unref(),r.postMessage(o,e.Sb),0},de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ye=(e,r,o)=>{r>>>=0;var i=r+o;for(o=r;e[o]&&!(o>=i);)++o;if(16<o-r&&e.buffer&&de)return de.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,o):e.subarray(r,o));for(i="";r<o;){var f=e[r++];if(f&128){var m=e[r++]&63;if((f&224)==192)i+=String.fromCharCode((f&31)<<6|m);else{var b=e[r++]&63;f=(f&240)==224?(f&15)<<12|m<<6|b:(f&7)<<18|m<<12|b<<6|e[r++]&63,65536>f?i+=String.fromCharCode(f):(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else i+=String.fromCharCode(f)}return i},rr=(e,r)=>(e>>>=0)?ye(w(),e,r):"";function Rr(e){if(F)return L(0,1,e);ce=e,ke()||(W.Nb(),ge=!0),Z(e,new er(e))}var Or=e=>{if(ce=e,F)throw kr(e),"unwind";Rr(e)};function Lr(){ze.unshift(()=>{Ue++,Oe()})}var W={qb:[],nb:[],Eb:[],jb:{},vb(){F?(W.receiveObjectTransfer=W.Lb,W.threadInitTLS=W.Db,W.setExitStatus=W.Cb,j=!1):Lr()},Cb:e=>{ce=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of W.nb)me(e);for(e of W.qb)me(e);W.qb=[],W.nb=[],W.jb=[]},Bb:e=>{var r=e.mb;delete W.jb[r],W.qb.push(e),W.nb.splice(W.nb.indexOf(e),1),e.mb=0,st(r)},Lb(){},Db(){W.Eb.forEach(e=>e())},Jb:e=>new Promise(r=>{e.onmessage=m=>{m=m.data;var b=m.cmd;if(m.targetThread&&m.targetThread!=Xr()){var _=W.jb[m.targetThread];_?_.postMessage(m,m.transferList):ue(`Internal error! Worker sent a message "${b}" to target pthread ${m.targetThread}, but that thread no longer exists!`)}else b==="checkMailbox"?I():b==="spawnThread"?lr(m):b==="cleanupThread"?((m=W.jb[m.thread])||Be(),W.Bb(m)):b==="killThread"?(m=m.thread,b=W.jb[m],delete W.jb[m],me(b),st(m),W.nb.splice(W.nb.indexOf(b),1),b.mb=0):b==="cancelThread"?W.jb[m.thread].postMessage({cmd:"cancel"}):b==="loaded"?(e.loaded=!0,r(e)):b==="alert"?alert(`Thread ${m.threadId}: ${m.text}`):m.target==="setimmediate"?e.postMessage(m):b==="callHandler"?c[m.handler](...m.args):b&&ue(`worker sent an unknown command ${b}`)},e.onerror=m=>{throw ue(`worker sent an error! ${m.filename}:${m.lineno}: ${m.message}`),m},K&&(e.on("message",m=>e.onmessage({data:m})),e.on("error",m=>e.onerror(m)));var o=[],i=[],f;for(f of i)c.hasOwnProperty(f)&&o.push(f);e.postMessage({cmd:"load",handlers:o,urlOrBlob:c.mainScriptUrlOrBlob||l,wasmMemory:q,wasmModule:Re})})};c.PThread=W;var cr=e=>{for(;0<e.length;)e.shift()(c)};c.establishStackSpace=()=>{var e=Xr(),r=T()[e+52>>>2>>>0];e=T()[e+56>>>2>>>0],Jt(r,r-e),Kr(r)};function kr(e){if(F)return L(1,0,e);Or(e)}var dr=[],Hr;c.invokeEntryPoint=(e,r)=>{var o=dr[e];o||(e>=dr.length&&(dr.length=e+1),dr[e]=o=Hr.get(e)),e=o(r),ke()?W.Cb(e):ut(e)};function tt(e){this.sb=e-24,this.Kb=function(r){T()[this.sb+4>>>2>>>0]=r},this.xb=function(r){T()[this.sb+8>>>2>>>0]=r},this.vb=function(r,o){this.wb(),this.Kb(r),this.xb(o)},this.wb=function(){T()[this.sb+16>>>2>>>0]=0}}var tr=0,nt=0;function nr(e,r,o,i){return F?L(2,1,e,r,o,i):or(e,r,o,i)}function or(e,r,o,i){if(e>>>=0,r>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var f=[];return F&&f.length===0?nr(e,r,o,i):(e={Mb:o,mb:e,Fb:i,Sb:f},F?(e.Ub="spawnThread",postMessage(e,f),0):lr(e))}function _r(e,r,o){return F?L(3,1,e,r,o):0}function $r(e,r){if(F)return L(4,1,e,r)}var pr=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++o):r+=3}return r},Tr=(e,r,o,i)=>{if(o>>>=0,!(0<i))return 0;var f=o;i=o+i-1;for(var m=0;m<e.length;++m){var b=e.charCodeAt(m);if(55296<=b&&57343>=b){var _=e.charCodeAt(++m);b=65536+((b&1023)<<10)|_&1023}if(127>=b){if(o>=i)break;r[o++>>>0]=b}else{if(2047>=b){if(o+1>=i)break;r[o++>>>0]=192|b>>6}else{if(65535>=b){if(o+2>=i)break;r[o++>>>0]=224|b>>12}else{if(o+3>=i)break;r[o++>>>0]=240|b>>18,r[o++>>>0]=128|b>>12&63}r[o++>>>0]=128|b>>6&63}r[o++>>>0]=128|b&63}}return r[o>>>0]=0,o-f},mr=(e,r,o)=>Tr(e,w(),r,o);function Nr(e,r){if(F)return L(5,1,e,r)}function jr(e,r,o){if(F)return L(6,1,e,r,o)}function zr(e,r,o){return F?L(7,1,e,r,o):0}function Ar(e,r){if(F)return L(8,1,e,r)}function He(e,r,o){if(F)return L(9,1,e,r,o)}function Er(e,r,o,i){if(F)return L(10,1,e,r,o,i)}function Sr(e,r,o,i){if(F)return L(11,1,e,r,o,i)}function Mr(e,r,o,i){if(F)return L(12,1,e,r,o,i)}function gr(e){if(F)return L(13,1,e)}function Cr(e,r){if(F)return L(14,1,e,r)}function hr(e,r,o){if(F)return L(15,1,e,r,o)}var Yr=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Pr,_e=e=>{for(var r="";w()[e>>>0];)r+=Pr[w()[e++>>>0]];return r},Fr={},yr={},Gr={},Te;function ot(e,r,o={}){var i=r.name;if(!e)throw new Te(`type "${i}" must have a positive integer typeid pointer`);if(yr.hasOwnProperty(e)){if(o.Hb)return;throw new Te(`Cannot register type \'${i}\' twice`)}yr[e]=r,delete Gr[e],Fr.hasOwnProperty(e)&&(r=Fr[e],delete Fr[e],r.forEach(f=>f()))}function C(e,r,o={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");ot(e,r,o)}var ar=(e,r,o)=>{switch(r){case 1:return o?i=>u()[i>>>0>>>0]:i=>w()[i>>>0>>>0];case 2:return o?i=>O()[i>>>1>>>0]:i=>M()[i>>>1>>>0];case 4:return o?i=>d()[i>>>2>>>0]:i=>T()[i>>>2>>>0];case 8:return o?i=>he[i>>>3]:i=>De[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Pe(){this.lb=[void 0],this.zb=[]}var ve=new Pe;function vr(e){e>>>=0,e>=ve.sb&&--ve.get(e).Ab===0&&ve.xb(e)}var pe=e=>{if(!e)throw new Te("Cannot use deleted val. handle = "+e);return ve.get(e).value},we=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.wb({Ab:1,value:e})}};function Vr(e){return this.fromWireType(d()[e>>>2>>>0])}var wr=(e,r)=>{switch(r){case 4:return function(o){var i=this.fromWireType;return q.buffer!=J.buffer&&Q(),i.call(this,Xe[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(B()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function qr(e){return this.fromWireType(T()[e>>>2>>>0])}var t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,r)=>{for(var o=e>>1,i=o+r/2;!(o>=i)&&M()[o>>>0];)++o;if(o<<=1,32<o-e&&t)return t.decode(w().slice(e,o));for(o="",i=0;!(i>=r/2);++i){var f=O()[e+2*i>>>1>>>0];if(f==0)break;o+=String.fromCharCode(f)}return o},a=(e,r,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=r;o=o<2*e.length?o/2:e.length;for(var f=0;f<o;++f){var m=e.charCodeAt(f);O()[r>>>1>>>0]=m,r+=2}return O()[r>>>1>>>0]=0,r-i},s=e=>2*e.length,p=(e,r)=>{for(var o=0,i="";!(o>=r/4);){var f=d()[e+4*o>>>2>>>0];if(f==0)break;++o,65536<=f?(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023)):i+=String.fromCharCode(f)}return i},v=(e,r,o)=>{if(r>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var i=r;o=i+o-4;for(var f=0;f<e.length;++f){var m=e.charCodeAt(f);if(55296<=m&&57343>=m){var b=e.charCodeAt(++f);m=65536+((m&1023)<<10)|b&1023}if(d()[r>>>2>>>0]=m,r+=4,r+4>o)break}return d()[r>>>2>>>0]=0,r-i},S=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);55296<=i&&57343>=i&&++o,r+=4}return r},A=e=>{if(!ge)try{if(e(),!ke())try{F?ut(ce):Or(ce)}catch(r){r instanceof er||r=="unwind"||Z(1,r)}}catch(r){r instanceof er||r=="unwind"||Z(1,r)}};function D(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(d(),e>>>2,e).value.then(I),e+=128,Atomics.store(d(),e>>>2,1))}c.__emscripten_thread_mailbox_await=D;var I=()=>{var e=Xr();e&&(D(e),A(()=>qt()))};c.checkMailbox=I;var re=e=>{var r=ft();return e=e(),Kr(r),e};function L(e,r){var o=arguments.length-2,i=arguments;return re(()=>{for(var f=2*o,m=lt(8*f),b=m>>>3,_=0;_<o;_++){var U=i[2+_];typeof U=="bigint"?(he[b+2*_]=1n,he[b+2*_+1]=U):(he[b+2*_]=0n,B()[b+2*_+1>>>0]=U)}return Vt(e,f,m,r)})}var Ae=[],g=(e,r)=>{var o=yr[e];if(o===void 0)throw e=Yt(e),o=_e(e),$e(e),new Te(r+" has unknown type "+o);return o},z={},X=e=>{var r=z[e];return r===void 0?_e(e):r},Fe=[],Wr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Pn=e=>{var r=Fe.length;return Fe.push(e),r},Fn=(e,r)=>{for(var o=Array(e),i=0;i<e;++i)o[i]=g(T()[r+4*i>>>2>>>0],"parameter "+i);return o},St=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},Mt={};function Wn(e,r){return e=St(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function Dn(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var o=Wn(r.name||"unknownFunctionName",function(){});return o.prototype=r.prototype,o=new o,e=r.apply(o,e),e instanceof Object?e:o}var Un=e=>{for(var r="",o=0;o<e;++o)r+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<e;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+r+`);\nreturn valueToHandle(obj);\n}\n`))(g,c,we,()=>T())},Ct={},br=e=>e%4===0&&(e%100!==0||e%400===0),Pt=[0,31,60,91,121,152,182,213,244,274,305,335],Ft=[0,31,59,90,120,151,181,212,243,273,304,334];function Wt(e,r,o,i,f,m,b){return F?L(16,1,e,r,o,i,f,m,b):-52}function Dt(e,r,o,i,f,m){if(F)return L(17,1,e,r,o,i,f,m)}var Ut=e=>{var r=pr(e)+1,o=Zr(r);return o&&mr(e,o,r),o},at={},It=()=>{if(!it){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:$||"./this.program"},r;for(r in at)at[r]===void 0?delete e[r]:e[r]=at[r];var o=[];for(r in e)o.push(`${r}=${e[r]}`);it=o}return it},it;function xt(e,r){if(F)return L(18,1,e,r);e>>>=0,r>>>=0;var o=0;return It().forEach((i,f)=>{var m=r+o;for(f=T()[e+4*f>>>2>>>0]=m,m=0;m<i.length;++m)u()[f++>>>0>>>0]=i.charCodeAt(m);u()[f>>>0>>>0]=0,o+=i.length+1}),0}function Bt(e,r){if(F)return L(19,1,e,r);e>>>=0,r>>>=0;var o=It();T()[e>>>2>>>0]=o.length;var i=0;return o.forEach(f=>i+=f.length+1),T()[r>>>2>>>0]=i,0}function Rt(e){return F?L(20,1,e):52}function Lt(e,r,o,i){return F?L(21,1,e,r,o,i):52}function kt(e,r,o,i){return F?L(22,1,e,r,o,i):70}var In=[null,[],[]];function Ht(e,r,o,i){if(F)return L(23,1,e,r,o,i);r>>>=0,o>>>=0,i>>>=0;for(var f=0,m=0;m<o;m++){var b=T()[r>>>2>>>0],_=T()[r+4>>>2>>>0];r+=8;for(var U=0;U<_;U++){var x=w()[b+U>>>0],te=In[e];x===0||x===10?((e===1?qe:ue)(ye(te,0)),te.length=0):te.push(x)}f+=_}return T()[i>>>2>>>0]=f,0}var $t=[31,29,31,30,31,30,31,31,30,31,30,31],Nt=[31,28,31,30,31,30,31,31,30,31,30,31];function xn(e){var r=Array(pr(e)+1);return Tr(e,r,0,r.length),r}var Bn=(e,r)=>{u().set(e,r>>>0)};function jt(e,r,o,i){function f(y,G,ne){for(y=typeof y=="number"?y.toString():y||"";y.length<G;)y=ne[0]+y;return y}function m(y,G){return f(y,G,"0")}function b(y,G){function ne(Zt){return 0>Zt?-1:0<Zt?1:0}var ir;return(ir=ne(y.getFullYear()-G.getFullYear()))===0&&(ir=ne(y.getMonth()-G.getMonth()))===0&&(ir=ne(y.getDate()-G.getDate())),ir}function _(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function U(y){var G=y.ob;for(y=new Date(new Date(y.pb+1900,0,1).getTime());0<G;){var ne=y.getMonth(),ir=(br(y.getFullYear())?$t:Nt)[ne];if(G>ir-y.getDate())G-=ir-y.getDate()+1,y.setDate(1),11>ne?y.setMonth(ne+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+G);break}}return ne=new Date(y.getFullYear()+1,0,4),G=_(new Date(y.getFullYear(),0,4)),ne=_(ne),0>=b(G,y)?0>=b(ne,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,r>>>=0,o>>>=0,i>>>=0;var x=T()[i+40>>>2>>>0];i={Qb:d()[i>>>2>>>0],Pb:d()[i+4>>>2>>>0],tb:d()[i+8>>>2>>>0],yb:d()[i+12>>>2>>>0],ub:d()[i+16>>>2>>>0],pb:d()[i+20>>>2>>>0],kb:d()[i+24>>>2>>>0],ob:d()[i+28>>>2>>>0],Wb:d()[i+32>>>2>>>0],Ob:d()[i+36>>>2>>>0],Rb:x?rr(x):""},o=rr(o),x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var te in x)o=o.replace(new RegExp(te,"g"),x[te]);var Ee="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ne="January February March April May June July August September October November December".split(" ");x={"%a":y=>Ee[y.kb].substring(0,3),"%A":y=>Ee[y.kb],"%b":y=>Ne[y.ub].substring(0,3),"%B":y=>Ne[y.ub],"%C":y=>m((y.pb+1900)/100|0,2),"%d":y=>m(y.yb,2),"%e":y=>f(y.yb,2," "),"%g":y=>U(y).toString().substring(2),"%G":y=>U(y),"%H":y=>m(y.tb,2),"%I":y=>(y=y.tb,y==0?y=12:12<y&&(y-=12),m(y,2)),"%j":y=>{for(var G=0,ne=0;ne<=y.ub-1;G+=(br(y.pb+1900)?$t:Nt)[ne++]);return m(y.yb+G,3)},"%m":y=>m(y.ub+1,2),"%M":y=>m(y.Pb,2),"%n":()=>`\n`,"%p":y=>0<=y.tb&&12>y.tb?"AM":"PM","%S":y=>m(y.Qb,2),"%t":()=>"	","%u":y=>y.kb||7,"%U":y=>m(Math.floor((y.ob+7-y.kb)/7),2),"%V":y=>{var G=Math.floor((y.ob+7-(y.kb+6)%7)/7);if(2>=(y.kb+371-y.ob-2)%7&&G++,G)G==53&&(ne=(y.kb+371-y.ob)%7,ne==4||ne==3&&br(y.pb)||(G=1));else{G=52;var ne=(y.kb+7-y.ob-1)%7;(ne==4||ne==5&&br(y.pb%400-1))&&G++}return m(G,2)},"%w":y=>y.kb,"%W":y=>m(Math.floor((y.ob+7-(y.kb+6)%7)/7),2),"%y":y=>(y.pb+1900).toString().substring(2),"%Y":y=>y.pb+1900,"%z":y=>{y=y.Ob;var G=0<=y;return y=Math.abs(y)/60,(G?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Rb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(te in x)o.includes(te)&&(o=o.replace(new RegExp(te,"g"),x[te](i)));return o=o.replace(/\\0\\0/g,"%"),te=xn(o),te.length>r?0:(Bn(te,e),te.length-1)}W.vb();for(var zt=Array(256),Jr=0;256>Jr;++Jr)zt[Jr]=String.fromCharCode(Jr);Pr=zt,Te=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Pe.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),ve.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.sb=ve.lb.length,c.count_emval_handles=()=>{for(var e=0,r=ve.sb;r<ve.lb.length;++r)ve.lb[r]!==void 0&&++e;return e};var Rn=[Rr,kr,nr,_r,$r,Nr,jr,zr,Ar,He,Er,Sr,Mr,gr,Cr,hr,Wt,Dt,xt,Bt,Rt,Lt,kt,Ht],Ln={b:function(e,r,o){throw e>>>=0,new tt(e).vb(r>>>0,o>>>0),tr=e,nt++,tr},ea:function(e){Gt(e>>>0,!Y,1,!N,131072,!1),W.Db()},D:function(e){e>>>=0,F?postMessage({cmd:"cleanupThread",thread:e}):((e=W.jb[e])||Be(),W.Bb(e))},W:or,y:_r,ka:$r,S:Nr,U:jr,L:zr,ia:Ar,ba:He,ha:Er,F:Sr,T:Mr,Q:gr,ja:Cr,R:hr,I:function(e,r,o,i,f){e>>>=0,r>>>=0,o>>>=0,r=_e(r);var m=r.indexOf("u")!=-1;m&&(f=(1n<<64n)-1n),C(e,{name:r,fromWireType:b=>b,toWireType:function(b,_){if(typeof _!="bigint"&&typeof _!="number")throw new TypeError(`Cannot convert "${Yr(_)}" to ${this.name}`);if(_<i||_>f)throw new TypeError(`Passing a number "${Yr(_)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${f}]!`);return _},argPackAdvance:8,readValueFromPointer:ar(r,o,!m),rb:null})},qa:function(e,r,o,i){e>>>=0,r=_e(r>>>0),C(e,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,m){return m?o:i},argPackAdvance:8,readValueFromPointer:function(f){return this.fromWireType(w()[f>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=_e(r>>>0),C(e,{name:r,fromWireType:o=>{var i=pe(o);return vr(o),i},toWireType:(o,i)=>we(i),argPackAdvance:8,readValueFromPointer:Vr,rb:null})},H:function(e,r,o){e>>>=0,o>>>=0,r=_e(r>>>0),C(e,{name:r,fromWireType:i=>i,toWireType:(i,f)=>f,argPackAdvance:8,readValueFromPointer:wr(r,o),rb:null})},t:function(e,r,o,i,f){if(e>>>=0,o>>>=0,r=_e(r>>>0),f===-1&&(f=4294967295),f=_=>_,i===0){var m=32-8*o;f=_=>_<<m>>>m}var b=r.includes("unsigned")?function(_,U){return U>>>0}:function(_,U){return U};C(e,{name:r,fromWireType:f,toWireType:b,argPackAdvance:8,readValueFromPointer:ar(r,o,i!==0),rb:null})},m:function(e,r,o){function i(m){var b=T()[m>>>2>>>0];return m=T()[m+4>>>2>>>0],new f(u().buffer,m,b)}e>>>=0;var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];o=_e(o>>>0),C(e,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Hb:!0})},J:function(e,r){e>>>=0,r=_e(r>>>0);var o=r==="std::string";C(e,{name:r,fromWireType:function(i){var f=T()[i>>>2>>>0],m=i+4;if(o)for(var b=m,_=0;_<=f;++_){var U=m+_;if(_==f||w()[U>>>0]==0){if(b=rr(b,U-b),x===void 0)var x=b;else x+=String.fromCharCode(0),x+=b;b=U+1}}else{for(x=Array(f),_=0;_<f;++_)x[_]=String.fromCharCode(w()[m+_>>>0]);x=x.join("")}return $e(i),x},toWireType:function(i,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var m=typeof f=="string";if(!(m||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array))throw new Te("Cannot pass non-string to std::string");var b=o&&m?pr(f):f.length,_=Zr(4+b+1),U=_+4;if(T()[_>>>2>>>0]=b,o&&m)mr(f,U,b+1);else if(m)for(m=0;m<b;++m){var x=f.charCodeAt(m);if(255<x)throw $e(U),new Te("String has UTF-16 code units that do not fit in 8 bits");w()[U+m>>>0]=x}else for(m=0;m<b;++m)w()[U+m>>>0]=f[m];return i!==null&&i.push($e,_),_},argPackAdvance:8,readValueFromPointer:qr,rb(i){$e(i)}})},A:function(e,r,o){if(e>>>=0,r>>>=0,o>>>=0,o=_e(o),r===2)var i=n,f=a,m=s,b=()=>M(),_=1;else r===4&&(i=p,f=v,m=S,b=()=>T(),_=2);C(e,{name:o,fromWireType:U=>{for(var x=T()[U>>>2>>>0],te=b(),Ee,Ne=U+4,y=0;y<=x;++y){var G=U+4+y*r;(y==x||te[G>>>_]==0)&&(Ne=i(Ne,G-Ne),Ee===void 0?Ee=Ne:(Ee+=String.fromCharCode(0),Ee+=Ne),Ne=G+r)}return $e(U),Ee},toWireType:(U,x)=>{if(typeof x!="string")throw new Te(`Cannot pass non-string to C++ string type ${o}`);var te=m(x),Ee=Zr(4+te+r);return T()[Ee>>>2]=te>>_,f(x,Ee+4,te+r),U!==null&&U.push($e,Ee),Ee},argPackAdvance:8,readValueFromPointer:Vr,rb(U){$e(U)}})},ra:function(e,r){e>>>=0,r=_e(r>>>0),C(e,{Ib:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>I()):F?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=W.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,o,i){r>>>=0,o/=2,Ae.length=o,i=i>>>0>>>3;for(var f=0;f<o;f++)Ae[f]=he[i+2*f]?he[i+2*f+1]:B()[i+2*f+1>>>0];return e=Rn[e],W.Gb=r,r=e.apply(null,Ae),W.Gb=0,r},da:D,ma:function(e){K&&W.jb[e>>>0].ref()},r:function(e,r,o){r>>>=0,o>>>=0,e=pe(e>>>0),r=g(r,"emval::as");var i=[],f=we(i);return T()[o>>>2>>>0]=f,r.toWireType(i,e)},i:function(e,r,o,i,f){o>>>=0,i>>>=0,f>>>=0,e=Fe[e>>>0],r=pe(r>>>0),o=X(o);var m=[];return T()[i>>>2>>>0]=we(m),e(r,o,m,f)},u:function(e,r,o,i){o>>>=0,i>>>=0,e=Fe[e>>>0],r=pe(r>>>0),o=X(o),e(r,o,null,i)},c:vr,K:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),e==r},o:function(e){return e>>>=0,e===0?we(Wr()):(e=X(e),we(Wr()[e]))},h:function(e,r){var o=Fn(e,r>>>0),i=o[0];r=i.name+"_$"+o.slice(1).map(function(te){return te.name}).join("_")+"$";var f=Mt[r];if(f!==void 0)return f;f=["retType"];for(var m=[i],b="",_=0;_<e-1;++_)b+=(_!==0?", ":"")+"arg"+_,f.push("argType"+_),m.push(o[1+_]);var U="return function "+St("methodCaller_"+r)+`(handle, name, destructors, args) {\n`,x=0;for(_=0;_<e-1;++_)U+="    var arg"+_+" = argType"+_+".readValueFromPointer(args"+(x?"+"+x:"")+`);\n`,x+=o[_+1].argPackAdvance;for(U+="    var rv = handle[name]("+b+`);\n`,_=0;_<e-1;++_)o[_+1].deleteObject&&(U+="    argType"+_+".deleteObject(arg"+_+`);\n`);return i.Ib||(U+=`    return retType.toWireType(destructors, rv);\n`),f.push(U+`};\n`),e=Dn(f).apply(null,m),f=Pn(e),Mt[r]=f},q:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),we(e[r])},d:function(e){e>>>=0,4<e&&(ve.get(e).Ab+=1)},x:function(e,r,o,i){o>>>=0,i>>>=0,e=pe(e>>>0);var f=Ct[r];return f||(f=Un(r),Ct[r]=f),f(e,o,i)},v:function(){return we([])},l:function(e){e=pe(e>>>0);for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=e[o];return we(r)},e:function(e){return we(X(e>>>0))},k:function(){return we({})},g:function(e){e>>>=0;for(var r=pe(e);r.length;){var o=r.pop();r.pop()(o)}vr(e)},j:function(e,r,o){r>>>=0,o>>>=0,e=pe(e>>>0),r=pe(r),o=pe(o),e[r]=o},f:function(e,r){return r>>>=0,e=g(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),we(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getUTCSeconds(),d()[r+4>>>2>>>0]=e.getUTCMinutes(),d()[r+8>>>2>>>0]=e.getUTCHours(),d()[r+12>>>2>>>0]=e.getUTCDate(),d()[r+16>>>2>>>0]=e.getUTCMonth(),d()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getSeconds(),d()[r+4>>>2>>>0]=e.getMinutes(),d()[r+8>>>2>>>0]=e.getHours(),d()[r+12>>>2>>>0]=e.getDate(),d()[r+16>>>2>>>0]=e.getMonth(),d()[r+20>>>2>>>0]=e.getFullYear()-1900,d()[r+24>>>2>>>0]=e.getDay();var o=(br(e.getFullYear())?Pt:Ft)[e.getMonth()]+e.getDate()-1|0;d()[r+28>>>2>>>0]=o,d()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=i&&e.getTimezoneOffset()==Math.min(i,o))|0,d()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),o=d()[e+32>>>2>>>0],i=r.getTimezoneOffset(),f=new Date(r.getFullYear(),6,1).getTimezoneOffset(),m=new Date(r.getFullYear(),0,1).getTimezoneOffset(),b=Math.min(m,f);return 0>o?d()[e+32>>>2>>>0]=+(f!=m&&b==i):0<o!=(b==i)&&(f=Math.max(m,f),r.setTime(r.getTime()+6e4*((0<o?b:f)-i))),d()[e+24>>>2>>>0]=r.getDay(),o=(br(r.getFullYear())?Pt:Ft)[r.getMonth()]+r.getDate()-1|0,d()[e+28>>>2>>>0]=o,d()[e>>>2>>>0]=r.getSeconds(),d()[e+4>>>2>>>0]=r.getMinutes(),d()[e+8>>>2>>>0]=r.getHours(),d()[e+12>>>2>>>0]=r.getDate(),d()[e+16>>>2>>>0]=r.getMonth(),d()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:Wt,Z:Dt,N:function(e,r,o){function i(x){return(x=x.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?x[1]:"GMT"}e>>>=0,r>>>=0,o>>>=0;var f=new Date().getFullYear(),m=new Date(f,0,1),b=new Date(f,6,1);f=m.getTimezoneOffset();var _=b.getTimezoneOffset(),U=Math.max(f,_);T()[e>>>2>>>0]=60*U,d()[r>>>2>>>0]=+(f!=_),e=i(m),r=i(b),e=Ut(e),r=Ut(r),_<f?(T()[o>>>2>>>0]=e,T()[o+4>>>2>>>0]=r):(T()[o>>>2>>>0]=r,T()[o+4>>>2>>>0]=e)},n:()=>{Be("")},E:()=>{},G:()=>Date.now(),la:()=>{throw Ke+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>K?(on(),Ur(nn)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=w().length;if(e<=r||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var i=r*(1+.2/o);i=Math.min(i,e+100663296);var f=Math;i=Math.max(e,i);e:{f=(f.min.call(f,4294901760,i+(65536-i%65536)%65536)-q.buffer.byteLength+65535)/65536;try{q.grow(f),Q();var m=1;break e}catch{}m=void 0}if(m)return!0}return!1},fa:xt,ga:Bt,V:Or,z:Rt,C:Lt,ca:kt,B:Ht,a:q||c.wasmMemory,oa:jt,p:function(e,r,o,i){return jt(e>>>0,r>>>0,o>>>0,i>>>0)}},P=function(){var e={a:Ln};return Ue++,Br(e,function(r){var o=r.module;P=r.instance.exports,P=kn(),W.Eb.push(P.Xa),Hr=P._a,Le.unshift(P.sa),Re=o,Oe()}).catch(V),{}}();c._OrtInit=(e,r)=>(c._OrtInit=P.ta)(e,r),c._OrtGetLastError=(e,r)=>(c._OrtGetLastError=P.ua)(e,r),c._OrtCreateSessionOptions=(e,r,o,i,f,m,b,_,U,x)=>(c._OrtCreateSessionOptions=P.va)(e,r,o,i,f,m,b,_,U,x),c._OrtAppendExecutionProvider=(e,r)=>(c._OrtAppendExecutionProvider=P.wa)(e,r),c._OrtAddFreeDimensionOverride=(e,r,o)=>(c._OrtAddFreeDimensionOverride=P.xa)(e,r,o),c._OrtAddSessionConfigEntry=(e,r,o)=>(c._OrtAddSessionConfigEntry=P.ya)(e,r,o),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=P.za)(e),c._OrtCreateSession=(e,r,o)=>(c._OrtCreateSession=P.Aa)(e,r,o),c._OrtReleaseSession=e=>(c._OrtReleaseSession=P.Ba)(e),c._OrtGetInputOutputCount=(e,r,o)=>(c._OrtGetInputOutputCount=P.Ca)(e,r,o),c._OrtGetInputName=(e,r)=>(c._OrtGetInputName=P.Da)(e,r),c._OrtGetOutputName=(e,r)=>(c._OrtGetOutputName=P.Ea)(e,r),c._OrtFree=e=>(c._OrtFree=P.Fa)(e),c._OrtCreateTensor=(e,r,o,i,f,m)=>(c._OrtCreateTensor=P.Ga)(e,r,o,i,f,m),c._OrtGetTensorData=(e,r,o,i,f)=>(c._OrtGetTensorData=P.Ha)(e,r,o,i,f),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=P.Ia)(e),c._OrtCreateRunOptions=(e,r,o,i)=>(c._OrtCreateRunOptions=P.Ja)(e,r,o,i),c._OrtAddRunConfigEntry=(e,r,o)=>(c._OrtAddRunConfigEntry=P.Ka)(e,r,o),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=P.La)(e),c._OrtCreateBinding=e=>(c._OrtCreateBinding=P.Ma)(e),c._OrtBindInput=(e,r,o)=>(c._OrtBindInput=P.Na)(e,r,o),c._OrtBindOutput=(e,r,o,i)=>(c._OrtBindOutput=P.Oa)(e,r,o,i),c._OrtClearBoundOutputs=e=>(c._OrtClearBoundOutputs=P.Pa)(e),c._OrtReleaseBinding=e=>(c._OrtReleaseBinding=P.Qa)(e),c._OrtRunWithBinding=(e,r,o,i,f)=>(c._OrtRunWithBinding=P.Ra)(e,r,o,i,f),c._OrtRun=(e,r,o,i,f,m,b,_)=>(c._OrtRun=P.Sa)(e,r,o,i,f,m,b,_),c._OrtEndProfiling=e=>(c._OrtEndProfiling=P.Ta)(e);var Xr=c._pthread_self=()=>(Xr=c._pthread_self=P.Ua)(),Zr=c._malloc=e=>(Zr=c._malloc=P.Va)(e),$e=c._free=e=>($e=c._free=P.Wa)(e);c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=P.Xa)();var Yt=e=>(Yt=P.Ya)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=P.Za)();var Gt=c.__emscripten_thread_init=(e,r,o,i,f,m)=>(Gt=c.__emscripten_thread_init=P.$a)(e,r,o,i,f,m);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=P.ab)();var Vt=(e,r,o,i)=>(Vt=P.bb)(e,r,o,i),st=e=>(st=P.cb)(e),ut=c.__emscripten_thread_exit=e=>(ut=c.__emscripten_thread_exit=P.db)(e),qt=c.__emscripten_check_mailbox=()=>(qt=c.__emscripten_check_mailbox=P.eb)(),Jt=(e,r)=>(Jt=P.fb)(e,r),ft=()=>(ft=P.gb)(),Kr=e=>(Kr=P.hb)(e),lt=e=>(lt=P.ib)(e);function kn(){var e=P;e=Object.assign({},e);var r=i=>()=>i()>>>0,o=i=>f=>i(f)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=o(e.Va),e.Ya=o(e.Ya),e.gb=r(e.gb),e.ib=o(e.ib),e}c.keepRuntimeAlive=ke,c.wasmMemory=q,c.stackAlloc=lt,c.stackSave=ft,c.stackRestore=Kr,c.UTF8ToString=rr,c.stringToUTF8=mr,c.lengthBytesUTF8=pr,c.ExitStatus=er,c.PThread=W;var Qr;Ye=function e(){Qr||Xt(),Qr||(Ye=e)};function Xt(){0<Ue||(F?(R(c),F||cr(Le),startWorker(c)):(cr(ze),0<Ue||Qr||(Qr=!0,c.calledRun=!0,ge||(F||cr(Le),R(c),F||cr(sr)))))}return Xt(),h.ready}})();typeof sn=="object"&&typeof wt=="object"?wt.exports=an:typeof define=="function"&&define.amd&&define([],()=>an)});var fn=Dr((mo,Vn)=>{Vn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var cn;cn=en();var qn=un(),bt,Ot=!1,et=!1,ln=!1,Jn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Xn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Zn=(l,h)=>l?h?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":h?"ort-wasm-threaded.wasm":"ort-wasm.wasm",dn=async l=>{if(Ot)return Promise.resolve();if(et)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(ln)throw new Error("previous call to \'initializeWebAssembly()\' failed.");et=!0;let h=l.initTimeout,u=l.numThreads,w=l.simd,O=u>1&&Jn(),M=w&&Xn(),d=l.wasmPaths,T=typeof d=="string"?d:void 0,B=Zn(M,O),c=typeof d=="object"?d[B]:void 0,R=!1,V=[];if(h>0&&V.push(new Promise(H=>{setTimeout(()=>{R=!0,H()},h)})),V.push(new Promise((H,$)=>{let Z=O?qn:cn,N={locateFile:(Y,K)=>O&&Y.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([fn()],{type:"text/javascript"})):Y.endsWith(".wasm")?c||(T??K)+B:K+Y};if(O)if(typeof Blob>"u")N.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Y=`var ortWasmThreaded=${Z.toString()};`;N.mainScriptUrlOrBlob=new Blob([Y],{type:"text/javascript"})}Z(N).then(Y=>{et=!1,Ot=!0,bt=Y,H()},Y=>{et=!1,ln=!0,$(Y)})})),await Promise.race(V),R)throw new Error(`WebAssembly backend initializing failed due to timeout: ${h}ms`)},ie=()=>{if(Ot&&bt)return bt;throw new Error("WebAssembly is not initialized yet.")};var se=(l,h)=>{let u=ie(),w=u.lengthBytesUTF8(l)+1,O=u._malloc(w);return u.stringToUTF8(l,O,w),h.push(O),O},Ir=(l,h,u,w)=>{if(typeof l=="object"&&l!==null){if(u.has(l))throw new Error("Circular reference in options");u.add(l)}Object.entries(l).forEach(([O,M])=>{let d=h?h+O:O;if(typeof M=="object")Ir(M,d+".",u,w);else if(typeof M=="string"||typeof M=="number")w(d,M.toString());else if(typeof M=="boolean")w(d,M?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof M}`)})},oe=l=>{let h=ie(),u=h.stackSave();try{let w=h.stackAlloc(8);h._OrtGetLastError(w,w+4);let O=h.HEAP32[w/4],M=h.HEAPU32[w/4+1],d=M?h.UTF8ToString(M):"";throw new Error(`${l} ERROR_CODE: ${O}, ERROR_MESSAGE: ${d}`)}finally{h.stackRestore(u)}};var pn=l=>{let h=ie(),u=0,w=[],O=l||{};try{if(l?.logSeverityLevel===void 0)O.logSeverityLevel=2;else if(typeof l.logSeverityLevel!="number"||!Number.isInteger(l.logSeverityLevel)||l.logSeverityLevel<0||l.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${l.logSeverityLevel}`);if(l?.logVerbosityLevel===void 0)O.logVerbosityLevel=0;else if(typeof l.logVerbosityLevel!="number"||!Number.isInteger(l.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${l.logVerbosityLevel}`);l?.terminate===void 0&&(O.terminate=!1);let M=0;return l?.tag!==void 0&&(M=se(l.tag,w)),u=h._OrtCreateRunOptions(O.logSeverityLevel,O.logVerbosityLevel,!!O.terminate,M),u===0&&oe("Can\'t create run options."),l?.extra!==void 0&&Ir(l.extra,"",new WeakSet,(d,T)=>{let B=se(d,w),c=se(T,w);h._OrtAddRunConfigEntry(u,B,c)!==0&&oe(`Can\'t set a run config entry: ${d} - ${T}.`)}),[u,w]}catch(M){throw u!==0&&h._OrtReleaseRunOptions(u),w.forEach(d=>h._free(d)),M}};var Kn=l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}},Qn=l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}},eo=l=>{l.extra||(l.extra={}),l.extra.session||(l.extra.session={});let h=l.extra.session;h.use_ort_model_bytes_directly||(h.use_ort_model_bytes_directly="1"),l.executionProviders&&l.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(l.enableMemPattern=!1)},ro=(l,h,u)=>{for(let w of h){let O=typeof w=="string"?w:w.name;switch(O){case"xnnpack":O="XNNPACK";break;case"webnn":if(O="WEBNN",typeof w!="string"){let d=w;if(d?.deviceType){let T=se("deviceType",u),B=se(d.deviceType,u);ie()._OrtAddSessionConfigEntry(l,T,B)!==0&&oe(`Can\'t set a session config entry: \'deviceType\' - ${d.deviceType}.`)}if(d?.numThreads){let T=d.numThreads;(typeof T!="number"||!Number.isInteger(T)||T<0)&&(T=0);let B=se("numThreads",u),c=se(T.toString(),u);ie()._OrtAddSessionConfigEntry(l,B,c)!==0&&oe(`Can\'t set a session config entry: \'numThreads\' - ${d.numThreads}.`)}if(d?.powerPreference){let T=se("powerPreference",u),B=se(d.powerPreference,u);ie()._OrtAddSessionConfigEntry(l,T,B)!==0&&oe(`Can\'t set a session config entry: \'powerPreference\' - ${d.powerPreference}.`)}}break;case"webgpu":if(O="JS",typeof w!="string"){let d=w;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${d.preferredLayout}`);let T=se("preferredLayout",u),B=se(d.preferredLayout,u);ie()._OrtAddSessionConfigEntry(l,T,B)!==0&&oe(`Can\'t set a session config entry: \'preferredLayout\' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${O}`)}let M=se(O,u);ie()._OrtAppendExecutionProvider(l,M)!==0&&oe(`Can\'t append execution provider: ${O}.`)}},mn=l=>{let h=ie(),u=0,w=[],O=l||{};eo(O);try{let M=Kn(O.graphOptimizationLevel??"all"),d=Qn(O.executionMode??"sequential"),T=typeof O.logId=="string"?se(O.logId,w):0,B=O.logSeverityLevel??2;if(!Number.isInteger(B)||B<0||B>4)throw new Error(`log serverity level is not valid: ${B}`);let c=O.logVerbosityLevel??0;if(!Number.isInteger(c)||c<0||c>4)throw new Error(`log verbosity level is not valid: ${c}`);let R=typeof O.optimizedModelFilePath=="string"?se(O.optimizedModelFilePath,w):0;if(u=h._OrtCreateSessionOptions(M,!!O.enableCpuMemArena,!!O.enableMemPattern,d,!!O.enableProfiling,0,T,B,c,R),u===0&&oe("Can\'t create session options."),O.executionProviders&&ro(u,O.executionProviders,w),O.freeDimensionOverrides)for(let[V,H]of Object.entries(O.freeDimensionOverrides)){if(typeof V!="string")throw new Error(`free dimension override name must be a string: ${V}`);if(typeof H!="number"||!Number.isInteger(H)||H<0)throw new Error(`free dimension override value must be a non-negative integer: ${H}`);let $=se(V,w);h._OrtAddFreeDimensionOverride(u,$,H)!==0&&oe(`Can\'t set a free dimension override: ${V} - ${H}.`)}return O.extra!==void 0&&Ir(O.extra,"",new WeakSet,(V,H)=>{let $=se(V,w),Z=se(H,w);h._OrtAddSessionConfigEntry(u,$,Z)!==0&&oe(`Can\'t set a session config entry: ${V} - ${H}.`)}),[u,w]}catch(M){throw u!==0&&h._OrtReleaseSessionOptions(u),w.forEach(d=>h._free(d)),M}};var _t=l=>{switch(l){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${l}`)}},gn=l=>{switch(l){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${l}`)}},Tt=l=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][l],hn=l=>{switch(l){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${l}`)}},yn=l=>{switch(l){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${l}`)}},vn=l=>l==="float32"||l==="int32"||l==="int64"||l==="bool"||l==="float16"||l==="uint32",wn=l=>{switch(l){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${l}`)}};var On=!1,to=l=>{let h=ie(),u=h.stackSave();try{let w=h.stackAlloc(8);return h._OrtGetInputOutputCount(l,w,w+4)!==0&&oe("Can\'t get session input/output count."),[h.HEAP32[w/4],h.HEAP32[w/4+1]]}finally{h.stackRestore(u)}},no=(l,h)=>{ie()._OrtInit(l,h)!==0&&oe("Can\'t initialize onnxruntime.")},_n=async l=>{no(l.wasm.numThreads,yn(l.logLevel)),On=!0},xr=new Map,Tn=()=>On,At=l=>{let h=ie(),u=h._malloc(l.byteLength);if(u===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${l.byteLength}.`);return h.HEAPU8.set(l,u),[u,l.byteLength]},Et=(l,h)=>{let u=ie(),w=0,O=0,M=0,d=[],T=[],B=[];try{[O,d]=mn(h),w=u._OrtCreateSession(l[0],l[1],O),w===0&&oe("Can\'t create a session.");let[c,R]=to(w),V=[],H=[],$=[];for(let N=0;N<c;N++){let Y=u._OrtGetInputName(w,N);Y===0&&oe("Can\'t get an input name."),T.push(Y),V.push(u.UTF8ToString(Y))}for(let N=0;N<R;N++){let Y=u._OrtGetOutputName(w,N);Y===0&&oe("Can\'t get an output name."),B.push(Y);let K=u.UTF8ToString(Y);H.push(K)}let Z=null;return xr.set(w,[w,T,B,Z]),[w,V,H]}catch(c){throw T.forEach(R=>u._OrtFree(R)),B.forEach(R=>u._OrtFree(R)),M!==0&&u._OrtReleaseBinding(M),w!==0&&u._OrtReleaseSession(w),c}finally{u._free(l[0]),O!==0&&u._OrtReleaseSessionOptions(O),d.forEach(c=>u._free(c))}},An=(l,h)=>{let u=At(l);return Et(u,h)},En=l=>{let h=ie(),u=xr.get(l);if(!u)throw new Error(`cannot release session. invalid session id: ${l}`);let[w,O,M,d]=u;d&&h._OrtReleaseBinding(d.handle),h.jsepUnregisterBuffers?.(l),O.forEach(T=>h._OrtFree(T)),M.forEach(T=>h._OrtFree(T)),h._OrtReleaseSession(w),xr.delete(l)},bn=(l,h,u,w,O)=>{if(!l){h.push(0);return}let M=ie(),d=l[0],T=l[1],B=l[3],c,R;if(d==="string"&&B==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(B==="gpu-buffer"){let $=l[2].gpuBuffer,Z=Tt(_t(d));R=T.reduce((N,Y)=>N*Y,1)*Z,c=M.jsepRegisterBuffer(w,O,$,R)}else{let $=l[2];if(Array.isArray($)){R=4*$.length,c=M._malloc(R),u.push(c);let Z=c/4;for(let N=0;N<$.length;N++){if(typeof $[N]!="string")throw new TypeError(`tensor data at index ${N} is not a string`);M.HEAPU32[Z++]=se($[N],u)}}else R=$.byteLength,c=M._malloc(R),u.push(c),M.HEAPU8.set(new Uint8Array($.buffer,$.byteOffset,R),c)}let V=M.stackSave(),H=M.stackAlloc(4*T.length);try{let $=H/4;T.forEach(N=>M.HEAP32[$++]=N);let Z=M._OrtCreateTensor(_t(d),c,R,H,T.length,wn(B));Z===0&&oe(`Can\'t create tensor for input/output. session=${w}, index=${O}.`),h.push(Z)}finally{M.stackRestore(V)}},Sn=async(l,h,u,w,O,M)=>{let d=ie(),T=xr.get(l);if(!T)throw new Error(`cannot run inference. invalid session id: ${l}`);let[B,c,R,V]=T,H=h.length,$=w.length,Z=0,N=[],Y=[],K=[],F=[],le=d.stackSave(),Se=d.stackAlloc(H*4),ee=d.stackAlloc(H*4),be=d.stackAlloc($*4),Me=d.stackAlloc($*4);try{[Z,N]=pn(M);for(let j=0;j<H;j++)bn(u[j],Y,F,l,h[j]);for(let j=0;j<$;j++)bn(O[j],K,F,l,H+w[j]);let E=Se/4,k=ee/4,Ge=be/4,Ve=Me/4;for(let j=0;j<H;j++)d.HEAPU32[E++]=Y[j],d.HEAPU32[k++]=c[h[j]];for(let j=0;j<$;j++)d.HEAPU32[Ge++]=K[j],d.HEAPU32[Ve++]=R[w[j]];let qe;qe=await d._OrtRun(B,ee,Se,H,Me,$,be,Z),qe!==0&&oe("failed to call OrtRun().");let ue=[];for(let j=0;j<$;j++){let q=d.HEAPU32[be/4+j];if(q===K[j]){ue.push(O[j]);continue}let Re=d.stackSave(),ge=d.stackAlloc(4*4),ce=!1,J,fe=0;try{d._OrtGetTensorData(q,ge,ge+4,ge+8,ge+12)!==0&&oe(`Can\'t access output tensor data on index ${j}.`);let xe=ge/4,We=d.HEAPU32[xe++];fe=d.HEAPU32[xe++];let je=d.HEAPU32[xe++],Xe=d.HEAPU32[xe++],he=[];for(let Q=0;Q<Xe;Q++)he.push(d.HEAPU32[je/4+Q]);d._OrtFree(je);let De=he.reduce((Q,ae)=>Q*ae,1);J=gn(We);let Ze=V?.outputPreferredLocations[w[j]];if(J==="string"){if(Ze==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Q=[],ae=fe/4;for(let ze=0;ze<De;ze++){let Le=d.HEAPU32[ae++],sr=ze===De-1?void 0:d.HEAPU32[ae]-Le;Q.push(d.UTF8ToString(Le,sr))}ue.push([J,he,Q,"cpu"])}else if(Ze==="gpu-buffer"&&De>0){let Q=d.jsepGetBuffer(fe),ae=Tt(We);if(ae===void 0||!vn(J))throw new Error(`Unsupported data type: ${J}`);ce=!0,ue.push([J,he,{gpuBuffer:Q,download:d.jsepCreateDownloader(Q,De*ae,J),dispose:()=>{d._OrtReleaseTensor(q)}},"gpu-buffer"])}else{let Q=hn(J),ae=new Q(De);new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength).set(d.HEAPU8.subarray(fe,fe+ae.byteLength)),ue.push([J,he,ae,"cpu"])}}finally{d.stackRestore(Re),J==="string"&&fe&&d._free(fe),ce||d._OrtReleaseTensor(q)}}return V&&d._OrtClearBoundOutputs(V.handle),ue}finally{d.stackRestore(le),Y.forEach(E=>d._OrtReleaseTensor(E)),K.forEach(E=>d._OrtReleaseTensor(E)),F.forEach(E=>d._free(E)),Z!==0&&d._OrtReleaseRunOptions(Z),N.forEach(E=>d._free(E))}},Mn=l=>{let h=ie(),u=xr.get(l);if(!u)throw new Error("invalid session id");let w=u[0],O=h._OrtEndProfiling(w);O===0&&oe("Can\'t get an profile file name."),h._OrtFree(O)},Cn=l=>{let h=[];for(let u of l){let w=u[2];!Array.isArray(w)&&"buffer"in w&&h.push(w.buffer)}return h};self.onmessage=l=>{switch(l.data.type){case"init-wasm":try{dn(l.data.in).then(()=>postMessage({type:"init-wasm"}),h=>postMessage({type:"init-wasm",err:h}))}catch(h){postMessage({type:"init-wasm",err:h})}break;case"init-ort":try{_n(l.data.in).then(()=>postMessage({type:"init-ort"}),h=>postMessage({type:"init-ort",err:h}))}catch(h){postMessage({type:"init-ort",err:h})}break;case"create_allocate":try{let{model:h}=l.data.in,u=At(h);postMessage({type:"create_allocate",out:u})}catch(h){postMessage({type:"create_allocate",err:h})}break;case"create_finalize":try{let{modeldata:h,options:u}=l.data.in,w=Et(h,u);postMessage({type:"create_finalize",out:w})}catch(h){postMessage({type:"create_finalize",err:h})}break;case"create":try{let{model:h,options:u}=l.data.in,w=An(h,u);postMessage({type:"create",out:w})}catch(h){postMessage({type:"create",err:h})}break;case"release":try{En(l.data.in),postMessage({type:"release"})}catch(h){postMessage({type:"release",err:h})}break;case"run":try{let{sessionId:h,inputIndices:u,inputs:w,outputIndices:O,options:M}=l.data.in;Sn(h,u,w,O,new Array(O.length).fill(null),M).then(d=>{d.some(T=>T[3]!=="cpu")?postMessage({type:"run",err:"Proxy does not support non-cpu tensor location."}):postMessage({type:"run",out:d},Cn(d))},d=>{postMessage({type:"run",err:d})})}catch(h){postMessage({type:"run",err:h})}break;case"end-profiling":try{let h=l.data.in;Mn(h),postMessage({type:"end-profiling"})}catch(h){postMessage({type:"end-profiling",err:h})}break;case"is-ort-env-initialized":try{let h=Tn();postMessage({type:"is-ort-env-initialized",out:h})}catch(h){postMessage({type:"is-ort-env-initialized",err:h})}break;default:}};})();\n'});var qe,Pe,Et,dn,pn,tn,nn,an,on,sn,un,fn,ln,cn,Qe,Ho,At,Xa,Ja,Za,Ka,mn,Qa,eo,ro,to,hn=Z(()=>{"use strict";yr();Va();xr();qe=()=>!!ae.wasm.proxy&&typeof document<"u",Et=!1,dn=!1,pn=!1,an=[],on=[],sn=[],un=[],fn=[],ln=[],cn=[],Qe=()=>{if(Et||!dn||pn||!Pe)throw new Error("worker not ready")},Ho=o=>{switch(o.data.type){case"init-wasm":Et=!1,o.data.err?(pn=!0,tn[1](o.data.err)):(dn=!0,tn[0]());break;case"init-ort":o.data.err?nn[1](o.data.err):nn[0]();break;case"create_allocate":o.data.err?an.shift()[1](o.data.err):an.shift()[0](o.data.out);break;case"create_finalize":o.data.err?on.shift()[1](o.data.err):on.shift()[0](o.data.out);break;case"create":o.data.err?sn.shift()[1](o.data.err):sn.shift()[0](o.data.out);break;case"release":o.data.err?un.shift()[1](o.data.err):un.shift()[0]();break;case"run":o.data.err?fn.shift()[1](o.data.err):fn.shift()[0](o.data.out);break;case"end-profiling":o.data.err?ln.shift()[1](o.data.err):ln.shift()[0]();break;case"is-ort-env-initialized":o.data.err?cn.shift()[1](o.data.err):cn.shift()[0](o.data.out);break;default:}},At=typeof document<"u"?document?.currentScript?.src:void 0,Xa=async()=>{if(qe()){if(dn)return;if(Et)throw new Error("multiple calls to 'initWasm()' detected.");if(pn)throw new Error("previous call to 'initWasm()' failed.");return Et=!0,ae.wasm.wasmPaths===void 0&&At&&At.indexOf("blob:")!==0&&(ae.wasm.wasmPaths=At.substr(0,+At.lastIndexOf("/")+1)),new Promise((o,s)=>{Pe?.terminate();let i=URL.createObjectURL(new Blob([qa()],{type:"text/javascript"}));Pe=new Worker(i,{name:"ort-wasm-proxy-worker"}),Pe.onerror=p=>s(p),Pe.onmessage=Ho,URL.revokeObjectURL(i),tn=[o,s];let m={type:"init-wasm",in:ae.wasm};Pe.postMessage(m)})}else return Ca(ae.wasm)},Ja=async o=>{if(qe())return Qe(),new Promise((s,i)=>{nn=[s,i];let m={type:"init-ort",in:o};Pe.postMessage(m)});await $a(o)},Za=async o=>qe()?(Qe(),new Promise((s,i)=>{an.push([s,i]);let m={type:"create_allocate",in:{model:o}};Pe.postMessage(m,[o.buffer])})):en(o),Ka=async(o,s)=>qe()?(Qe(),new Promise((i,m)=>{on.push([i,m]);let p={type:"create_finalize",in:{modeldata:o,options:s}};Pe.postMessage(p)})):rn(o,s),mn=async(o,s)=>{if(qe()){if(s?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Qe(),new Promise((i,m)=>{sn.push([i,m]);let p={type:"create",in:{model:o,options:s}};Pe.postMessage(p,[o.buffer])})}else return ja(o,s)},Qa=async o=>{if(qe())return Qe(),new Promise((s,i)=>{un.push([s,i]);let m={type:"release",in:o};Pe.postMessage(m)});Na(o)},eo=async(o,s,i,m,p,O)=>{if(qe()){if(i.some(c=>c[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(p.some(c=>c))throw new Error("pre-allocated output tensor is not supported for proxy.");return Qe(),new Promise((c,g)=>{fn.push([c,g]);let _=i,f={type:"run",in:{sessionId:o,inputIndices:s,inputs:_,outputIndices:m,options:O}};Pe.postMessage(f,Ga(_))})}else return za(o,s,i,m,p,O)},ro=async o=>{if(qe())return Qe(),new Promise((s,i)=>{ln.push([s,i]);let m={type:"end-profiling",in:o};Pe.postMessage(m)});Ya(o)},to=async()=>qe()?(Qe(),new Promise((o,s)=>{cn.push([o,s]);let i={type:"is-ort-env-initialized"};Pe.postMessage(i)})):Ha()});var St,no,jo,Mt,ao=Z(()=>{"use strict";yr();hn();Qt();no=(o,s)=>{switch(o.location){case"cpu":return[o.type,o.dims,o.data,"cpu"];case"gpu-buffer":return[o.type,o.dims,{gpuBuffer:o.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${o.location} for ${s()}`)}},jo=o=>{switch(o[3]){case"cpu":return new ye(o[0],o[2],o[1]);case"gpu-buffer":{let s=o[0];if(!Tt(s))throw new Error(`not supported data type: ${s} for deserializing GPU tensor`);let{gpuBuffer:i,download:m,dispose:p}=o[2];return ye.fromGpuBuffer(i,{dataType:s,dims:o[1],download:m,dispose:p})}default:throw new Error(`invalid data location: ${o[3]}`)}},Mt=class{async createSessionAllocate(s){let i=await fetch(s);if(i.status!==200)throw new Error(`failed to load model: ${s}`);let m=await i.arrayBuffer();return Za(new Uint8Array(m))}async loadModel(s,i){if(await to()||(St||(St=Ja(ae)),await St,St=void 0),typeof s=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let m=await(void 0)(s);[this.sessionId,this.inputNames,this.outputNames]=await mn(m,i)}else{let m=await this.createSessionAllocate(s);[this.sessionId,this.inputNames,this.outputNames]=await Ka(m,i)}else[this.sessionId,this.inputNames,this.outputNames]=await mn(s,i)}async dispose(){return Qa(this.sessionId)}async run(s,i,m){let p=[],O=[];Object.entries(s).forEach(E=>{let F=E[0],j=E[1],x=this.inputNames.indexOf(F);if(x===-1)throw new Error(`invalid input '${F}'`);p.push(j),O.push(x)});let c=[],g=[];Object.entries(i).forEach(E=>{let F=E[0],j=E[1],x=this.outputNames.indexOf(F);if(x===-1)throw new Error(`invalid output '${F}'`);c.push(j),g.push(x)});let _=p.map((E,F)=>no(E,()=>`input "${this.inputNames[O[F]]}"`)),f=c.map((E,F)=>E?no(E,()=>`output "${this.outputNames[g[F]]}"`):null),T=await eo(this.sessionId,O,_,g,f,m),M={};for(let E=0;E<T.length;E++)M[this.outputNames[g[E]]]=c[E]??jo(T[E]);return M}startProfiling(){}endProfiling(){ro(this.sessionId)}}});var No,Pt,oo=Z(()=>{"use strict";yr();hn();ao();No=()=>{if((typeof ae.wasm.initTimeout!="number"||ae.wasm.initTimeout<0)&&(ae.wasm.initTimeout=0),typeof ae.wasm.simd!="boolean"&&(ae.wasm.simd=!0),typeof ae.wasm.proxy!="boolean"&&(ae.wasm.proxy=!1),typeof ae.wasm.numThreads!="number"||!Number.isInteger(ae.wasm.numThreads)||ae.wasm.numThreads<=0){let o=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ae.wasm.numThreads=Math.min(4,Math.ceil((o||1)/2))}},Pt=class{async init(){No(),await Xa()}async createInferenceSessionHandler(s,i){let m=new Mt;return await m.loadModel(s,i),Promise.resolve(m)}}});var io={};Ur(io,{wasmBackend:()=>zo});var zo,so=Z(()=>{"use strict";oo();zo=new Pt});var Go={};Ur(Go,{InferenceSession:()=>fa,Tensor:()=>ye,TrainingSession:()=>pa,default:()=>Yo,env:()=>ae,registerBackend:()=>Ke});yr();yr();yr();var ha="1.17.0";var Yo=jt;{let o=(so(),hr(io)).wasmBackend;Ke("cpu",o,10),Ke("wasm",o,10),Ke("xnnpack",o,9),Ke("webnn",o,9)}Object.defineProperty(ae.versions,"web",{value:ha,enumerable:!0});return hr(Go);})();
//# sourceMappingURL=ort.wasm.min.js.map
