/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var er=Object.defineProperty;var Ua=Object.getOwnPropertyDescriptor;var Ba=Object.getOwnPropertyNames;var ka=Object.prototype.hasOwnProperty;var N=(r,n)=>()=>(r&&(n=r(r=0)),n);var tt=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),mt=(r,n)=>{for(var t in n)er(r,t,{get:n[t],enumerable:!0})},La=(r,n,t,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of Ba(n))!ka.call(r,s)&&s!==t&&er(r,s,{get:()=>n[s],enumerable:!(f=Ua(n,s))||f.enumerable});return r};var rt=r=>La(er({},"__esModule",{value:!0}),r);var Mt,$e,ht,Rt,It=N(()=>{Mt=new Map,$e=[],ht=(r,n,t)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){let f=Mt.get(r);if(f===void 0)Mt.set(r,{backend:n,priority:t});else{if(f.priority>t)return;if(f.priority===t&&f.backend!==n)throw new Error(`cannot register backend "${r}" using priority ${t}`)}if(t>=0){let s=$e.indexOf(r);s!==-1&&$e.splice(s,1);for(let p=0;p<$e.length;p++)if(Mt.get($e[p]).priority<=t){$e.splice(p,0,r);return}$e.push(r)}return}throw new TypeError("not a valid backend")},Rt=async r=>{let n=r.length===0?$e:r,t=[];for(let f of n){let s=Mt.get(f);if(s){if(s.initialized)return s.backend;if(s.aborted)continue;let p=!!s.initPromise;try{return p||(s.initPromise=s.backend.init()),await s.initPromise,s.initialized=!0,s.backend}catch(d){p||t.push({name:f,err:d}),s.aborted=!0}finally{delete s.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var un=N(()=>{It()});var ln,fn=N(()=>{ln="1.17.0"});var cn,tr,dn=N(()=>{fn();cn="warning",tr={wasm:{},webgl:{},webgpu:{},versions:{common:ln},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);cn=r}},get logLevel(){return cn}};Object.defineProperty(tr,"logLevel",{enumerable:!0})});var $,pn=N(()=>{dn();$=tr});var mn,hn,gn=N(()=>{mn=(r,n)=>{let t=document.createElement("canvas");t.width=r.dims[3],t.height=r.dims[2];let f=t.getContext("2d");if(f!=null){let s,p;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(s=r.dims[2],p=r.dims[3]):(s=r.dims[3],p=r.dims[2]);let d=n?.format!==void 0?n.format:"RGB",i=n?.norm,b,h;i===void 0||i.mean===void 0?b=[255,255,255,255]:typeof i.mean=="number"?b=[i.mean,i.mean,i.mean,i.mean]:(b=[i.mean[0],i.mean[1],i.mean[2],0],i.mean[3]!==void 0&&(b[3]=i.mean[3])),i===void 0||i.bias===void 0?h=[0,0,0,0]:typeof i.bias=="number"?h=[i.bias,i.bias,i.bias,i.bias]:(h=[i.bias[0],i.bias[1],i.bias[2],0],i.bias[3]!==void 0&&(h[3]=i.bias[3]));let O=p*s,S=0,_=O,T=O*2,B=-1;d==="RGBA"?(S=0,_=O,T=O*2,B=O*3):d==="RGB"?(S=0,_=O,T=O*2):d==="RBG"&&(S=0,T=O,_=O*2);for(let C=0;C<p;C++)for(let A=0;A<s;A++){let k=(r.data[S++]-h[0])*b[0],j=(r.data[_++]-h[1])*b[1],oe=(r.data[T++]-h[2])*b[2],K=B===-1?255:(r.data[B++]-h[3])*b[3];f.fillStyle="rgba("+k+","+j+","+oe+","+K+")",f.fillRect(A,C,1,1)}return t.toDataURL()}else throw new Error("Can not access image data")},hn=(r,n)=>{let t=document.createElement("canvas").getContext("2d"),f;if(t!=null){let s,p,d;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(s=r.dims[2],p=r.dims[1],d=r.dims[3]):(s=r.dims[3],p=r.dims[2],d=r.dims[1]);let i=n!==void 0&&n.format!==void 0?n.format:"RGB",b=n?.norm,h,O;b===void 0||b.mean===void 0?h=[255,255,255,255]:typeof b.mean=="number"?h=[b.mean,b.mean,b.mean,b.mean]:(h=[b.mean[0],b.mean[1],b.mean[2],255],b.mean[3]!==void 0&&(h[3]=b.mean[3])),b===void 0||b.bias===void 0?O=[0,0,0,0]:typeof b.bias=="number"?O=[b.bias,b.bias,b.bias,b.bias]:(O=[b.bias[0],b.bias[1],b.bias[2],0],b.bias[3]!==void 0&&(O[3]=b.bias[3]));let S=p*s;if(n!==void 0&&(n.format!==void 0&&d===4&&n.format!=="RGBA"||d===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let _=4,T=0,B=1,C=2,A=3,k=0,j=S,oe=S*2,K=-1;i==="RGBA"?(k=0,j=S,oe=S*2,K=S*3):i==="RGB"?(k=0,j=S,oe=S*2):i==="RBG"&&(k=0,oe=S,j=S*2),f=t.createImageData(s,p);for(let R=0;R<p*s;T+=_,B+=_,C+=_,A+=_,R++)f.data[T]=(r.data[k++]-O[0])*h[0],f.data[B]=(r.data[j++]-O[1])*h[1],f.data[C]=(r.data[oe++]-O[2])*h[2],f.data[A]=K===-1?255:(r.data[K++]-O[3])*h[3]}else throw new Error("Can not access image data");return f}});var rr,yn,bn,wn,On,_n=N(()=>{Ct();rr=(r,n)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:f}=n,s=n.norm??{mean:255,bias:0},p,d;typeof s.mean=="number"?p=[s.mean,s.mean,s.mean,s.mean]:p=[s.mean[0],s.mean[1],s.mean[2],s.mean[3]??255],typeof s.bias=="number"?d=[s.bias,s.bias,s.bias,s.bias]:d=[s.bias[0],s.bias[1],s.bias[2],s.bias[3]??0];let i=n.format!==void 0?n.format:"RGBA",b=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",h=t*f,O=b==="RGBA"?new Float32Array(h*4):new Float32Array(h*3),S=4,_=0,T=1,B=2,C=3,A=0,k=h,j=h*2,oe=-1;i==="RGB"&&(S=3,_=0,T=1,B=2,C=-1),b==="RGBA"?oe=h*3:b==="RBG"?(A=0,j=h,k=h*2):b==="BGR"&&(j=0,k=h,A=h*2);for(let R=0;R<h;R++,_+=S,B+=S,T+=S,C+=S)O[A++]=(r[_]+d[0])/p[0],O[k++]=(r[T]+d[1])/p[1],O[j++]=(r[B]+d[2])/p[2],oe!==-1&&C!==-1&&(O[oe++]=(r[C]+d[3])/p[3]);return b==="RGBA"?new me("float32",O,[1,4,t,f]):new me("float32",O,[1,3,t,f])},yn=async(r,n)=>{let t=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,f=typeof ImageData<"u"&&r instanceof ImageData,s=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,p=typeof r=="string",d,i=n??{};if(t){let b=document.createElement("canvas");b.width=r.width,b.height=r.height;let h=b.getContext("2d");if(h!=null){let O=r.height,S=r.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(O=n.resizedHeight,S=n.resizedWidth),n!==void 0){if(i=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");i.tensorFormat="RGBA",i.height=O,i.width=S}else i.tensorFormat="RGBA",i.height=O,i.width=S;h.drawImage(r,0,0),d=h.getImageData(0,0,S,O).data}else throw new Error("Can not access image data")}else if(f){let b,h;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(b=n.resizedHeight,h=n.resizedWidth):(b=r.height,h=r.width),n!==void 0&&(i=n),i.format="RGBA",i.height=b,i.width=h,n!==void 0){let O=document.createElement("canvas");O.width=h,O.height=b;let S=O.getContext("2d");if(S!=null)S.putImageData(r,0,0),d=S.getImageData(0,0,h,b).data;else throw new Error("Can not access image data")}else d=r.data}else if(s){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");let b=document.createElement("canvas");b.width=r.width,b.height=r.height;let h=b.getContext("2d");if(h!=null){let O=r.height,S=r.width;return h.drawImage(r,0,0,S,O),d=h.getImageData(0,0,S,O).data,i.height=O,i.width=S,rr(d,i)}else throw new Error("Can not access image data")}else{if(p)return new Promise((b,h)=>{let O=document.createElement("canvas"),S=O.getContext("2d");if(!r||!S)return h();let _=new Image;_.crossOrigin="Anonymous",_.src=r,_.onload=()=>{O.width=_.width,O.height=_.height,S.drawImage(_,0,0,O.width,O.height);let T=S.getImageData(0,0,O.width,O.height);i.height=O.height,i.width=O.width,b(rr(T.data,i))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return rr(d,i);throw new Error("Input data provided is not supported - aborted tensor creation")},bn=(r,n)=>{let{width:t,height:f,download:s,dispose:p}=n,d=[1,f,t,4];return new me({location:"texture",type:"float32",texture:r,dims:d,download:s,dispose:p})},wn=(r,n)=>{let{dataType:t,dims:f,download:s,dispose:p}=n;return new me({location:"gpu-buffer",type:t??"float32",gpuBuffer:r,dims:f,download:s,dispose:p})},On=(r,n,t)=>new me({location:"cpu-pinned",type:r,data:n,dims:t??[n.length]})});var gt,Pt,vn,Sn,En=N(()=>{gt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Pt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),vn=!1,Sn=()=>{if(!vn){vn=!0;let r=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",n=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";r&&(gt.set("int64",BigInt64Array),Pt.set(BigInt64Array,"int64")),n&&(gt.set("uint64",BigUint64Array),Pt.set(BigUint64Array,"uint64"))}}});var Tn,An,Mn=N(()=>{Ct();Tn=r=>{let n=1;for(let t=0;t<r.length;t++){let f=r[t];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${t}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${f}`);n*=f}return n},An=(r,n)=>{switch(r.location){case"cpu":return new me(r.type,r.data,n);case"cpu-pinned":return new me({location:"cpu-pinned",data:r.data,type:r.type,dims:n});case"texture":return new me({location:"texture",texture:r.texture,type:r.type,dims:n});case"gpu-buffer":return new me({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var me,Ct=N(()=>{gn();_n();En();Mn();me=class{constructor(n,t,f){Sn();let s,p;if(typeof n=="object"&&"location"in n)switch(this.dataLocation=n.location,s=n.type,p=n.dims,n.location){case"cpu-pinned":{let i=gt.get(s);if(!i)throw new TypeError(`unsupported type "${s}" to create tensor from pinned buffer`);if(!(n.data instanceof i))throw new TypeError(`buffer should be of type ${i.name}`);this.cpuData=n.data;break}case"texture":{if(s!=="float32")throw new TypeError(`unsupported type "${s}" to create tensor from texture`);this.gpuTextureData=n.texture,this.downloader=n.download,this.disposer=n.dispose;break}case"gpu-buffer":{if(s!=="float32"&&s!=="float16"&&s!=="int32"&&s!=="int64"&&s!=="uint32"&&s!=="bool")throw new TypeError(`unsupported type "${s}" to create tensor from gpu buffer`);this.gpuBufferData=n.gpuBuffer,this.downloader=n.download,this.disposer=n.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let i,b;if(typeof n=="string")if(s=n,b=f,n==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{let h=gt.get(n);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(t)){if(n==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");n==="uint64"||n==="int64"?i=h.from(t,BigInt):i=h.from(t)}else if(t instanceof h)i=t;else throw new TypeError(`A ${s} tensor's data must be type of ${h}`)}else if(b=t,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let h=typeof n[0];if(h==="string")s="string",i=n;else if(h==="boolean")s="bool",i=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${h}.`)}else{let h=Pt.get(n.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);s=h,i=n}if(b===void 0)b=[i.length];else if(!Array.isArray(b))throw new TypeError("A tensor's dims must be a number array");p=b,this.cpuData=i,this.dataLocation="cpu"}let d=Tn(p);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=s,this.dims=p,this.size=d}static async fromImage(n,t){return yn(n,t)}static fromTexture(n,t){return bn(n,t)}static fromGpuBuffer(n,t){return wn(n,t)}static fromPinnedBuffer(n,t,f){return On(n,t,f)}toDataURL(n){return mn(this,n)}toImageData(n){return hn(this,n)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(n){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,n&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(n){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return An(this,n)}}});var De,nr=N(()=>{Ct();De=me});var Dt,Rn=N(()=>{It();nr();Dt=class r{constructor(n){this.handler=n}async run(n,t,f){let s={},p={};if(typeof n!="object"||n===null||n instanceof De||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof De)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let h of t){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);s[h]=null}if(typeof f=="object"&&f!==null)p=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,O=Object.getOwnPropertyNames(t);for(let S of this.outputNames)if(O.indexOf(S)!==-1){let _=t[S];(_===null||_ instanceof De)&&(h=!0,d=!1,s[S]=_)}if(h){if(typeof f=="object"&&f!==null)p=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else p=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of this.inputNames)if(typeof n[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(d)for(let h of this.outputNames)s[h]=null;let i=await this.handler.run(n,s,p),b={};for(let h in i)if(Object.hasOwnProperty.call(i,h)){let O=i[h];O instanceof De?b[h]=O:b[h]=new De(O.type,O.data,O.dims)}return b}async release(){return this.handler.dispose()}static async create(n,t,f,s){let p,d={};if(typeof n=="string"){if(p=n,typeof t=="object"&&t!==null)d=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(p=n,typeof t=="object"&&t!==null)d=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){let S=n,_=0,T=n.byteLength;if(typeof t=="object"&&t!==null)d=t;else if(typeof t=="number"){if(_=t,!Number.isSafeInteger(_))throw new RangeError("'byteOffset' must be an integer.");if(_<0||_>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(T=n.byteLength-_,typeof f=="number"){if(T=f,!Number.isSafeInteger(T))throw new RangeError("'byteLength' must be an integer.");if(T<=0||_+T>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-_}].`);if(typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");p=new Uint8Array(S,_,T)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let b=(d.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),O=await(await Rt(b)).createInferenceSessionHandler(p,d);return new r(O)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Na,In=N(()=>{Rn();Na=Dt});var Cn=N(()=>{});var Ha,xt,Pn=N(()=>{It();Ha="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",xt=class r{constructor(n){this.handler=n}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(n,t){let f=n.evalModel||"",s=n.optimizerModel||"",p=t||{},i=(p.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),b=await Rt(i);if(b.createTrainingSessionHandler){let h=await b.createTrainingSessionHandler(n.checkpointState,n.trainModel,f,s,p);return new r(h)}else throw new Error(Ha)}async loadParametersBuffer(n,t){throw new Error("Method not implemented.")}async getContiguousParameters(n){throw new Error("Method not implemented.")}async runTrainStep(n,t,f){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var Wa,Dn=N(()=>{Pn();Wa=xt});var ar={};mt(ar,{InferenceSession:()=>Na,Tensor:()=>De,TrainingSession:()=>Wa,env:()=>$,registerBackend:()=>ht});var He=N(()=>{un();pn();In();nr();Cn();Dn()});var or={};mt(or,{readFile:()=>za});var za,ir=N(()=>{za=void 0});var sr={};mt(sr,{join:()=>Ga});var Ga,ur=N(()=>{Ga=void 0});var Bn=tt((Un,lr)=>{"use strict";var Fn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(n={}){var t=n,f,s;t.ready=new Promise((a,l)=>{f=a,s=l});var p=Object.assign({},t),d="./this.program",i=typeof window=="object",b=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="",S,_,T;if(h){var B=(ir(),rt(or)),C=(ur(),rt(sr));O=b?C.dirname(O)+"/":__dirname+"/",S=(a,l)=>(a=a.startsWith("file://")?new URL(a):C.normalize(a),B.readFileSync(a,l?void 0:"utf8")),T=a=>(a=S(a,!0),a.buffer||(a=new Uint8Array(a)),a),_=(a,l,c,g=!0)=>{a=a.startsWith("file://")?new URL(a):C.normalize(a),B.readFile(a,g?void 0:"utf8",(M,P)=>{M?c(M):l(g?P.buffer:P)})},!t.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||b)&&(b?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),r&&(O=r),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",S=a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.send(null),l.responseText},b&&(T=a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),_=(a,l,c)=>{var g=new XMLHttpRequest;g.open("GET",a,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?l(g.response):c()},g.onerror=c,g.send(null)});var A=t.print||console.log.bind(console),k=t.printErr||console.error.bind(console);Object.assign(t,p),p=null,t.thisProgram&&(d=t.thisProgram);var j;t.wasmBinary&&(j=t.wasmBinary);var oe=t.noExitRuntime||!0;typeof WebAssembly!="object"&&V("no native wasm support detected");var K,R,_e=!1,ve,Z,x,ee;function ie(){var a=K.buffer;t.HEAP8=ve=new Int8Array(a),t.HEAP16=new Int16Array(a),t.HEAP32=x=new Int32Array(a),t.HEAPU8=Z=new Uint8Array(a),t.HEAPU16=new Uint16Array(a),t.HEAPU32=ee=new Uint32Array(a),t.HEAPF32=new Float32Array(a),t.HEAPF64=new Float64Array(a)}var Se=[],Ee=[],U=[];function D(){var a=t.preRun.shift();Se.unshift(a)}var ye=0,fe=null,se=null;function V(a){throw t.onAbort&&t.onAbort(a),a="Aborted("+a+")",k(a),_e=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),s(a),a}function de(a){return a.startsWith("data:application/octet-stream;base64,")}var Te;if(Te="ort-training-wasm-simd.wasm",!de(Te)){var Ae=Te;Te=t.locateFile?t.locateFile(Ae,O):O+Ae}function ke(a){if(a==Te&&j)return new Uint8Array(j);if(T)return T(a);throw"both async and sync fetching of the wasm failed"}function we(a){if(!j&&(i||b)){if(typeof fetch=="function"&&!a.startsWith("file://"))return fetch(a,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+a+"'";return l.arrayBuffer()}).catch(()=>ke(a));if(_)return new Promise((l,c)=>{_(a,g=>l(new Uint8Array(g)),c)})}return Promise.resolve().then(()=>ke(a))}function xe(a,l,c){return we(a).then(g=>WebAssembly.instantiate(g,l)).then(g=>g).then(c,g=>{k("failed to asynchronously prepare wasm: "+g),V(g)})}function Me(a,l){var c=Te;return j||typeof WebAssembly.instantiateStreaming!="function"||de(c)||c.startsWith("file://")||h||typeof fetch!="function"?xe(c,a,l):fetch(c,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,a).then(l,function(M){return k("wasm streaming compile failed: "+M),k("falling back to ArrayBuffer instantiation"),xe(c,a,l)}))}var ce,Re=a=>{for(;0<a.length;)a.shift()(t)};function ne(a){this.Ja=a-24,this.Na=function(l){ee[this.Ja+4>>2>>>0]=l},this.Ma=function(l){ee[this.Ja+8>>2>>>0]=l},this.Ka=function(l,c){this.La(),this.Na(l),this.Ma(c)},this.La=function(){ee[this.Ja+16>>2>>>0]=0}}var te=0,Ie=0,be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Le=(a,l,c)=>{l>>>=0;var g=l+c;for(c=l;a[c]&&!(c>=g);)++c;if(16<c-l&&a.buffer&&be)return be.decode(a.subarray(l,c));for(g="";l<c;){var M=a[l++];if(M&128){var P=a[l++]&63;if((M&224)==192)g+=String.fromCharCode((M&31)<<6|P);else{var L=a[l++]&63;M=(M&240)==224?(M&15)<<12|P<<6|L:(M&7)<<18|P<<12|L<<6|a[l++]&63,65536>M?g+=String.fromCharCode(M):(M-=65536,g+=String.fromCharCode(55296|M>>10,56320|M&1023))}}else g+=String.fromCharCode(M)}return g},Fe=(a,l)=>(a>>>=0)?Le(Z,a,l):"",qe=a=>{for(var l=0,c=0;c<a.length;++c){var g=a.charCodeAt(c);127>=g?l++:2047>=g?l+=2:55296<=g&&57343>=g?(l+=4,++c):l+=3}return l},Xe=(a,l,c,g)=>{if(c>>>=0,!(0<g))return 0;var M=c;g=c+g-1;for(var P=0;P<a.length;++P){var L=a.charCodeAt(P);if(55296<=L&&57343>=L){var Q=a.charCodeAt(++P);L=65536+((L&1023)<<10)|Q&1023}if(127>=L){if(c>=g)break;l[c++>>>0]=L}else{if(2047>=L){if(c+1>=g)break;l[c++>>>0]=192|L>>6}else{if(65535>=L){if(c+2>=g)break;l[c++>>>0]=224|L>>12}else{if(c+3>=g)break;l[c++>>>0]=240|L>>18,l[c++>>>0]=128|L>>12&63}l[c++>>>0]=128|L>>6&63}l[c++>>>0]=128|L&63}}return l[c>>>0]=0,c-M},Oe=a=>a%4===0&&(a%100!==0||a%400===0),nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ue=[0,31,59,90,120,151,181,212,243,273,304,334],at=a=>{var l=qe(a)+1,c=lt(l);return c&&Xe(a,Z,c,l),c},ot={},it=()=>{if(!st){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},l;for(l in ot)ot[l]===void 0?delete a[l]:a[l]=ot[l];var c=[];for(l in a)c.push(`${l}=${a[l]}`);st=c}return st},st,Ne=[null,[],[]],ze=[31,29,31,30,31,30,31,31,30,31,30,31],Je=[31,28,31,30,31,30,31,31,30,31,30,31];function _t(a){var l=Array(qe(a)+1);return Xe(a,l,0,l.length),l}function ut(a,l,c,g){function M(y,H,Y){for(y=typeof y=="number"?y.toString():y||"";y.length<H;)y=Y[0]+y;return y}function P(y,H){return M(y,H,"0")}function L(y,H){function Y(pt){return 0>pt?-1:0<pt?1:0}var Ce;return(Ce=Y(y.getFullYear()-H.getFullYear()))===0&&(Ce=Y(y.getMonth()-H.getMonth()))===0&&(Ce=Y(y.getDate()-H.getDate())),Ce}function Q(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function pe(y){var H=y.Ea;for(y=new Date(new Date(y.Fa+1900,0,1).getTime());0<H;){var Y=y.getMonth(),Ce=(Oe(y.getFullYear())?ze:Je)[Y];if(H>Ce-y.getDate())H-=Ce-y.getDate()+1,y.setDate(1),11>Y?y.setMonth(Y+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+H);break}}return Y=new Date(y.getFullYear()+1,0,4),H=Q(new Date(y.getFullYear(),0,4)),Y=Q(Y),0>=L(H,y)?0>=L(Y,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}a>>>=0,l>>>=0,c>>>=0,g>>>=0;var ue=x[g+40>>2>>>0];g={Qa:x[g>>2>>>0],Pa:x[g+4>>2>>>0],Ga:x[g+8>>2>>>0],Ia:x[g+12>>2>>>0],Ha:x[g+16>>2>>>0],Fa:x[g+20>>2>>>0],za:x[g+24>>2>>>0],Ea:x[g+28>>2>>>0],Sa:x[g+32>>2>>>0],Oa:x[g+36>>2>>>0],Ra:ue?Fe(ue):""},c=Fe(c),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in ue)c=c.replace(new RegExp(le,"g"),ue[le]);var ct="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dt="January February March April May June July August September October November December".split(" ");ue={"%a":y=>ct[y.za].substring(0,3),"%A":y=>ct[y.za],"%b":y=>dt[y.Ha].substring(0,3),"%B":y=>dt[y.Ha],"%C":y=>P((y.Fa+1900)/100|0,2),"%d":y=>P(y.Ia,2),"%e":y=>M(y.Ia,2," "),"%g":y=>pe(y).toString().substring(2),"%G":y=>pe(y),"%H":y=>P(y.Ga,2),"%I":y=>(y=y.Ga,y==0?y=12:12<y&&(y-=12),P(y,2)),"%j":y=>{for(var H=0,Y=0;Y<=y.Ha-1;H+=(Oe(y.Fa+1900)?ze:Je)[Y++]);return P(y.Ia+H,3)},"%m":y=>P(y.Ha+1,2),"%M":y=>P(y.Pa,2),"%n":()=>`
`,"%p":y=>0<=y.Ga&&12>y.Ga?"AM":"PM","%S":y=>P(y.Qa,2),"%t":()=>"	","%u":y=>y.za||7,"%U":y=>P(Math.floor((y.Ea+7-y.za)/7),2),"%V":y=>{var H=Math.floor((y.Ea+7-(y.za+6)%7)/7);if(2>=(y.za+371-y.Ea-2)%7&&H++,H)H==53&&(Y=(y.za+371-y.Ea)%7,Y==4||Y==3&&Oe(y.Fa)||(H=1));else{H=52;var Y=(y.za+7-y.Ea-1)%7;(Y==4||Y==5&&Oe(y.Fa%400-1))&&H++}return P(H,2)},"%w":y=>y.za,"%W":y=>P(Math.floor((y.Ea+7-(y.za+6)%7)/7),2),"%y":y=>(y.Fa+1900).toString().substring(2),"%Y":y=>y.Fa+1900,"%z":y=>{y=y.Oa;var H=0<=y;return y=Math.abs(y)/60,(H?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Ra,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(le in ue)c.includes(le)&&(c=c.replace(new RegExp(le,"g"),ue[le](g)));return c=c.replace(/\0\0/g,"%"),le=_t(c),le.length>l?0:(ve.set(le,a>>>0),le.length-1)}var vt={a:function(a,l,c){throw a>>>=0,new ne(a).Ka(l>>>0,c>>>0),te=a,Ie++,te},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(a,l,c){a=l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN,c>>>=0,a=new Date(1e3*a),x[c>>2>>>0]=a.getUTCSeconds(),x[c+4>>2>>>0]=a.getUTCMinutes(),x[c+8>>2>>>0]=a.getUTCHours(),x[c+12>>2>>>0]=a.getUTCDate(),x[c+16>>2>>>0]=a.getUTCMonth(),x[c+20>>2>>>0]=a.getUTCFullYear()-1900,x[c+24>>2>>>0]=a.getUTCDay(),x[c+28>>2>>>0]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(a,l,c){a=l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN,c>>>=0,a=new Date(1e3*a),x[c>>2>>>0]=a.getSeconds(),x[c+4>>2>>>0]=a.getMinutes(),x[c+8>>2>>>0]=a.getHours(),x[c+12>>2>>>0]=a.getDate(),x[c+16>>2>>>0]=a.getMonth(),x[c+20>>2>>>0]=a.getFullYear()-1900,x[c+24>>2>>>0]=a.getDay(),x[c+28>>2>>>0]=(Oe(a.getFullYear())?nt:Ue)[a.getMonth()]+a.getDate()-1|0,x[c+36>>2>>>0]=-(60*a.getTimezoneOffset()),l=new Date(a.getFullYear(),6,1).getTimezoneOffset();var g=new Date(a.getFullYear(),0,1).getTimezoneOffset();x[c+32>>2>>>0]=(l!=g&&a.getTimezoneOffset()==Math.min(g,l))|0},q:function(a){a>>>=0;var l=new Date(x[a+20>>2>>>0]+1900,x[a+16>>2>>>0],x[a+12>>2>>>0],x[a+8>>2>>>0],x[a+4>>2>>>0],x[a>>2>>>0],0),c=x[a+32>>2>>>0],g=l.getTimezoneOffset(),M=new Date(l.getFullYear(),6,1).getTimezoneOffset(),P=new Date(l.getFullYear(),0,1).getTimezoneOffset(),L=Math.min(P,M);return 0>c?x[a+32>>2>>>0]=+(M!=P&&L==g):0<c!=(L==g)&&(M=Math.max(P,M),l.setTime(l.getTime()+6e4*((0<c?L:M)-g))),x[a+24>>2>>>0]=l.getDay(),x[a+28>>2>>>0]=(Oe(l.getFullYear())?nt:Ue)[l.getMonth()]+l.getDate()-1|0,x[a>>2>>>0]=l.getSeconds(),x[a+4>>2>>>0]=l.getMinutes(),x[a+8>>2>>>0]=l.getHours(),x[a+12>>2>>>0]=l.getDate(),x[a+16>>2>>>0]=l.getMonth(),x[a+20>>2>>>0]=l.getYear(),a=l.getTime()/1e3,Qe((ce=a,1<=+Math.abs(ce)?0<ce?+Math.floor(ce/4294967296)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)),a>>>0},m:function(){return-52},n:function(){},t:function(a,l,c){function g(pe){return(pe=pe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?pe[1]:"GMT"}c>>>=0;var M=new Date().getFullYear(),P=new Date(M,0,1),L=new Date(M,6,1);M=P.getTimezoneOffset();var Q=L.getTimezoneOffset();ee[a>>>0>>2>>>0]=60*Math.max(M,Q),x[l>>>0>>2>>>0]=+(M!=Q),a=g(P),l=g(L),a=at(a),l=at(l),Q<M?(ee[c>>2>>>0]=a,ee[c+4>>2>>>0]=l):(ee[c>>2>>>0]=l,ee[c+4>>2>>>0]=a)},d:()=>{V("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(a,l,c){return l>>>=0,Z.copyWithin(a>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},s:function(a){a>>>=0;var l=Z.length;if(4294901760<a)return!1;for(var c=1;4>=c;c*=2){var g=l*(1+.2/c);g=Math.min(g,a+100663296);var M=Math;g=Math.max(a,g);e:{M=M.min.call(M,4294901760,g+(65536-g%65536)%65536)-K.buffer.byteLength+65535>>>16;try{K.grow(M),ie();var P=1;break e}catch{}P=void 0}if(P)return!0}return!1},C:function(a,l){a>>>=0,l>>>=0;var c=0;return it().forEach(function(g,M){var P=l+c;for(M=ee[a+4*M>>2>>>0]=P,P=0;P<g.length;++P)ve[M++>>0>>>0]=g.charCodeAt(P);ve[M>>0>>>0]=0,c+=g.length+1}),0},D:function(a,l){a>>>=0,l>>>=0;var c=it();ee[a>>2>>>0]=c.length;var g=0;return c.forEach(function(M){g+=M.length+1}),ee[l>>2>>>0]=g,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(a,l,c,g){l>>>=0,c>>>=0,g>>>=0;for(var M=0,P=0;P<c;P++){var L=ee[l>>2>>>0],Q=ee[l+4>>2>>>0];l+=8;for(var pe=0;pe<Q;pe++){var ue=Z[L+pe>>>0],le=Ne[a];ue===0||ue===10?((a===1?A:k)(Le(le,0)),le.length=0):le.push(ue)}M+=Q}return ee[g>>2>>>0]=M,0},A:ut,c:function(a,l,c,g){return ut(a>>>0,l>>>0,c>>>0,g>>>0)}};(function(){function a(c){if(c=c.exports,R=c=Ke(c),K=R.J,ie(),Ee.unshift(R.K),ye--,t.monitorRunDependencies&&t.monitorRunDependencies(ye),ye==0&&(fe!==null&&(clearInterval(fe),fe=null),se)){var g=se;se=null,g()}return c}var l={a:vt};if(ye++,t.monitorRunDependencies&&t.monitorRunDependencies(ye),t.instantiateWasm)try{return t.instantiateWasm(l,a)}catch(c){k("Module.instantiateWasm callback failed with error: "+c),s(c)}return Me(l,function(c){a(c.instance)}).catch(s),{}})(),t._OrtInit=(a,l)=>(t._OrtInit=R.L)(a,l),t._OrtGetLastError=(a,l)=>(t._OrtGetLastError=R.M)(a,l),t._OrtCreateSessionOptions=(a,l,c,g,M,P,L,Q,pe,ue)=>(t._OrtCreateSessionOptions=R.N)(a,l,c,g,M,P,L,Q,pe,ue),t._OrtAppendExecutionProvider=(a,l)=>(t._OrtAppendExecutionProvider=R.O)(a,l),t._OrtAddFreeDimensionOverride=(a,l,c)=>(t._OrtAddFreeDimensionOverride=R.P)(a,l,c),t._OrtAddSessionConfigEntry=(a,l,c)=>(t._OrtAddSessionConfigEntry=R.Q)(a,l,c),t._OrtReleaseSessionOptions=a=>(t._OrtReleaseSessionOptions=R.R)(a),t._OrtCreateSession=(a,l,c)=>(t._OrtCreateSession=R.S)(a,l,c),t._OrtReleaseSession=a=>(t._OrtReleaseSession=R.T)(a),t._OrtGetInputOutputCount=(a,l,c)=>(t._OrtGetInputOutputCount=R.U)(a,l,c),t._OrtGetInputName=(a,l)=>(t._OrtGetInputName=R.V)(a,l),t._OrtGetOutputName=(a,l)=>(t._OrtGetOutputName=R.W)(a,l),t._OrtFree=a=>(t._OrtFree=R.X)(a),t._OrtCreateTensor=(a,l,c,g,M,P)=>(t._OrtCreateTensor=R.Y)(a,l,c,g,M,P),t._OrtGetTensorData=(a,l,c,g,M)=>(t._OrtGetTensorData=R.Z)(a,l,c,g,M),t._OrtReleaseTensor=a=>(t._OrtReleaseTensor=R._)(a),t._OrtCreateRunOptions=(a,l,c,g)=>(t._OrtCreateRunOptions=R.$)(a,l,c,g),t._OrtAddRunConfigEntry=(a,l,c)=>(t._OrtAddRunConfigEntry=R.aa)(a,l,c),t._OrtReleaseRunOptions=a=>(t._OrtReleaseRunOptions=R.ba)(a),t._OrtCreateBinding=a=>(t._OrtCreateBinding=R.ca)(a),t._OrtBindInput=(a,l,c)=>(t._OrtBindInput=R.da)(a,l,c),t._OrtBindOutput=(a,l,c,g)=>(t._OrtBindOutput=R.ea)(a,l,c,g),t._OrtClearBoundOutputs=a=>(t._OrtClearBoundOutputs=R.fa)(a),t._OrtReleaseBinding=a=>(t._OrtReleaseBinding=R.ga)(a),t._OrtRunWithBinding=(a,l,c,g,M)=>(t._OrtRunWithBinding=R.ha)(a,l,c,g,M),t._OrtRun=(a,l,c,g,M,P,L,Q)=>(t._OrtRun=R.ia)(a,l,c,g,M,P,L,Q),t._OrtEndProfiling=a=>(t._OrtEndProfiling=R.ja)(a),t._OrtTrainingLoadCheckpoint=(a,l)=>(t._OrtTrainingLoadCheckpoint=R.ka)(a,l),t._OrtTrainingReleaseCheckpoint=a=>(t._OrtTrainingReleaseCheckpoint=R.la)(a),t._OrtTrainingCreateSession=(a,l,c,g,M,P,L,Q)=>(t._OrtTrainingCreateSession=R.ma)(a,l,c,g,M,P,L,Q),t._OrtTrainingLazyResetGrad=a=>(t._OrtTrainingLazyResetGrad=R.na)(a),t._OrtTrainingRunTrainStep=(a,l,c,g,M,P)=>(t._OrtTrainingRunTrainStep=R.oa)(a,l,c,g,M,P),t._OrtTrainingOptimizerStep=(a,l)=>(t._OrtTrainingOptimizerStep=R.pa)(a,l),t._OrtTrainingEvalStep=(a,l,c,g,M,P)=>(t._OrtTrainingEvalStep=R.qa)(a,l,c,g,M,P),t._OrtTrainingGetParametersSize=(a,l,c)=>(t._OrtTrainingGetParametersSize=R.ra)(a,l,c),t._OrtTrainingCopyParametersToBuffer=(a,l,c,g)=>(t._OrtTrainingCopyParametersToBuffer=R.sa)(a,l,c,g),t._OrtTrainingCopyParametersFromBuffer=(a,l,c,g)=>(t._OrtTrainingCopyParametersFromBuffer=R.ta)(a,l,c,g),t._OrtTrainingGetModelInputOutputCount=(a,l,c,g)=>(t._OrtTrainingGetModelInputOutputCount=R.ua)(a,l,c,g),t._OrtTrainingGetModelInputOutputName=(a,l,c,g)=>(t._OrtTrainingGetModelInputOutputName=R.va)(a,l,c,g),t._OrtTrainingReleaseSession=a=>(t._OrtTrainingReleaseSession=R.wa)(a);var lt=t._malloc=a=>(lt=t._malloc=R.xa)(a);t._free=a=>(t._free=R.ya)(a);var Qe=a=>(Qe=R.Aa)(a),ft=()=>(ft=R.Ba)(),Ze=a=>(Ze=R.Ca)(a),F=a=>(F=R.Da)(a);function Ke(a){a=Object.assign({},a);var l=g=>()=>g()>>>0,c=g=>M=>g(M)>>>0;return a.__errno_location=l(a.__errno_location),a.malloc=c(a.malloc),a.stackSave=l(a.stackSave),a.stackAlloc=c(a.stackAlloc),a}t.stackAlloc=F,t.stackSave=ft,t.stackRestore=Ze,t.UTF8ToString=Fe,t.stringToUTF8=(a,l,c)=>Xe(a,Z,l,c),t.lengthBytesUTF8=qe;var Ge;se=function a(){Ge||je(),Ge||(se=a)};function je(){function a(){if(!Ge&&(Ge=!0,t.calledRun=!0,!_e)){if(Re(Ee),f(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var l=t.postRun.shift();U.unshift(l)}Re(U)}}if(!(0<ye)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)D();Re(Se),0<ye||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),a()},1)):a())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return je(),n.ready}})();typeof Un=="object"&&typeof lr=="object"?lr.exports=Fn:typeof define=="function"&&define.amd&&define([],()=>Fn)});var kn=tt(()=>{});var Ln=tt(()=>{});var Nn={};mt(Nn,{cpus:()=>ja});var ja,Hn=N(()=>{ja=void 0});var Gn=tt((zn,fr)=>{"use strict";var Wn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(n={}){function t(){return U.buffer!=V.buffer&&we(),V}function f(){return U.buffer!=V.buffer&&we(),de}function s(){return U.buffer!=V.buffer&&we(),Te}function p(){return U.buffer!=V.buffer&&we(),Ae}function d(){return U.buffer!=V.buffer&&we(),ke}var i=n,b,h;i.ready=new Promise((e,o)=>{b=e,h=o});var O=Object.assign({},i),S="./this.program",_=(e,o)=>{throw o},T=typeof window=="object",B=typeof importScripts=="function",C=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A=i.ENVIRONMENT_IS_PTHREAD||!1,k="";function j(e){return i.locateFile?i.locateFile(e,k):k+e}var oe,K,R;if(C){var _e=(ir(),rt(or)),ve=(ur(),rt(sr));k=B?ve.dirname(k)+"/":__dirname+"/",oe=(o,u)=>(o=o.startsWith("file://")?new URL(o):ve.normalize(o),_e.readFileSync(o,u?void 0:"utf8")),R=o=>(o=oe(o,!0),o.buffer||(o=new Uint8Array(o)),o),K=(o,u,m,E=!0)=>{o=o.startsWith("file://")?new URL(o):ve.normalize(o),_e.readFile(o,E?void 0:"utf8",(v,I)=>{v?m(v):u(E?I.buffer:I)})},!i.thisProgram&&1<process.argv.length&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),_=(o,u)=>{throw process.exitCode=o,u},i.inspect=()=>"[Emscripten Module object]";let e;try{e=kn()}catch(o){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),o}global.Worker=e.Worker}else(T||B)&&(B?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),typeof r<"u"&&r&&(k=r),k.indexOf("blob:")!==0?k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):k="",C||(oe=e=>{var o=new XMLHttpRequest;return o.open("GET",e,!1),o.send(null),o.responseText},B&&(R=e=>{var o=new XMLHttpRequest;return o.open("GET",e,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),K=(e,o,u)=>{var m=new XMLHttpRequest;m.open("GET",e,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):u()},m.onerror=u,m.send(null)}));C&&typeof performance>"u"&&(global.performance=Ln().performance);var Z=console.log.bind(console),x=console.error.bind(console);C&&(Z=(...e)=>_e.writeSync(1,e.join(" ")+`
`),x=(...e)=>_e.writeSync(2,e.join(" ")+`
`));var ee=i.print||Z,ie=i.printErr||x;Object.assign(i,O),O=null,i.thisProgram&&(S=i.thisProgram),i.quit&&(_=i.quit);var Se;i.wasmBinary&&(Se=i.wasmBinary);var Ee=i.noExitRuntime||!0;typeof WebAssembly!="object"&&Oe("no native wasm support detected");var U,D,ye,fe=!1,se,V,de,Te,Ae,ke;function we(){var e=U.buffer;i.HEAP8=V=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=Te=new Int32Array(e),i.HEAPU8=de=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=Ae=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=ke=new Float64Array(e)}var xe=i.INITIAL_MEMORY||16777216;if(5242880<=xe||Oe("INITIAL_MEMORY should be larger than STACK_SIZE, was "+xe+"! (STACK_SIZE=5242880)"),A)U=i.wasmMemory;else if(i.wasmMemory)U=i.wasmMemory;else if(U=new WebAssembly.Memory({initial:xe/65536,maximum:65536,shared:!0}),!(U.buffer instanceof SharedArrayBuffer))throw ie("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),C&&ie("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");we(),xe=U.buffer.byteLength;var Me,ce=[],Re=[],ne=[],te=0;function Ie(){return Ee||0<te}var be=0,Le=null,Fe=null;function qe(){be++,i.monitorRunDependencies&&i.monitorRunDependencies(be)}function Xe(){if(be--,i.monitorRunDependencies&&i.monitorRunDependencies(be),be==0&&(Le!==null&&(clearInterval(Le),Le=null),Fe)){var e=Fe;Fe=null,e()}}function Oe(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",ie(e),fe=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),h(e),e}function nt(e){return e.startsWith("data:application/octet-stream;base64,")}var Ue;Ue="ort-wasm-threaded.wasm",nt(Ue)||(Ue=j(Ue));function at(e){if(e==Ue&&Se)return new Uint8Array(Se);if(R)return R(e);throw"both async and sync fetching of the wasm failed"}function ot(e){if(!Se&&(T||B)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at '"+e+"'";return o.arrayBuffer()}).catch(()=>at(e));if(K)return new Promise((o,u)=>{K(e,m=>o(new Uint8Array(m)),u)})}return Promise.resolve().then(()=>at(e))}function it(e,o,u){return ot(e).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(u,m=>{ie("failed to asynchronously prepare wasm: "+m),Oe(m)})}function st(e,o){var u=Ue;return Se||typeof WebAssembly.instantiateStreaming!="function"||nt(u)||u.startsWith("file://")||C||typeof fetch!="function"?it(u,e,o):fetch(u,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,e).then(o,function(E){return ie("wasm streaming compile failed: "+E),ie("falling back to ArrayBuffer instantiation"),it(u,e,o)}))}var Ne;function ze(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Je(e){e.terminate(),e.onmessage=()=>{}}function _t(e){(e=F.La[e])||Oe(),F.lb(e)}function ut(e){var o=F.fb();if(!o)return 6;F.Oa.push(o),F.La[e.Na]=o,o.Na=e.Na;var u={cmd:"run",start_routine:e.mb,arg:e.eb,pthread_ptr:e.Na};return C&&o.unref(),o.postMessage(u,e.sb),0}var vt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,lt=(e,o,u)=>{o>>>=0;var m=o+u;for(u=o;e[u]&&!(u>=m);)++u;if(16<u-o&&e.buffer&&vt)return vt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(o,u):e.subarray(o,u));for(m="";o<u;){var E=e[o++];if(E&128){var v=e[o++]&63;if((E&224)==192)m+=String.fromCharCode((E&31)<<6|v);else{var I=e[o++]&63;E=(E&240)==224?(E&15)<<12|v<<6|I:(E&7)<<18|v<<12|I<<6|e[o++]&63,65536>E?m+=String.fromCharCode(E):(E-=65536,m+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else m+=String.fromCharCode(E)}return m},Qe=(e,o)=>(e>>>=0)?lt(f(),e,o):"";function ft(e){if(A)return q(1,1,e);se=e,Ie()||(F.nb(),i.onExit&&i.onExit(e),fe=!0),_(e,new ze(e))}var Ze=e=>{if(se=e,A)throw Ge(e),"unwind";ft(e)},F={Ra:[],Oa:[],Za:[],La:{},Va:function(){A?F.hb():F.gb()},gb:function(){ce.unshift(()=>{qe(),F.ib(()=>Xe())})},hb:function(){F.receiveObjectTransfer=F.kb,F.threadInitTLS=F.Ya,F.setExitStatus=F.Xa,Ee=!1},Xa:function(e){se=e},xb:["$terminateWorker"],nb:function(){for(var e of F.Oa)Je(e);for(e of F.Ra)Je(e);F.Ra=[],F.Oa=[],F.La=[]},lb:function(e){var o=e.Na;delete F.La[o],F.Ra.push(e),F.Oa.splice(F.Oa.indexOf(e),1),e.Na=0,Jt(o)},kb:function(){},Ya:function(){F.Za.forEach(e=>e())},jb:e=>new Promise(o=>{e.onmessage=v=>{v=v.data;var I=v.cmd;if(v.targetThread&&v.targetThread!=Et()){var X=F.La[v.wb];X?X.postMessage(v,v.transferList):ie('Internal error! Worker sent a message "'+I+'" to target pthread '+v.targetThread+", but that thread no longer exists!")}else I==="checkMailbox"?St():I==="spawnThread"?ut(v):I==="cleanupThread"?_t(v.thread):I==="killThread"?(v=v.thread,I=F.La[v],delete F.La[v],Je(I),Jt(v),F.Oa.splice(F.Oa.indexOf(I),1),I.Na=0):I==="cancelThread"?F.La[v.thread].postMessage({cmd:"cancel"}):I==="loaded"?(e.loaded=!0,o(e)):I==="alert"?alert("Thread "+v.threadId+": "+v.text):v.target==="setimmediate"?e.postMessage(v):I==="callHandler"?i[v.handler](...v.args):I&&ie("worker sent an unknown command "+I)},e.onerror=v=>{throw ie("worker sent an error! "+v.filename+":"+v.lineno+": "+v.message),v},C&&(e.on("message",function(v){e.onmessage({data:v})}),e.on("error",function(v){e.onerror(v)}));var u=[],m=["onExit","onAbort","print","printErr"],E;for(E of m)i.hasOwnProperty(E)&&u.push(E);e.postMessage({cmd:"load",handlers:u,urlOrBlob:i.mainScriptUrlOrBlob||r,wasmMemory:U,wasmModule:ye})}),ib:function(e){e()},cb:function(){var e=j("ort-wasm-threaded.worker.js");e=new Worker(e),F.Ra.push(e)},fb:function(){return F.Ra.length==0&&(F.cb(),F.jb(F.Ra[0])),F.Ra.pop()}};i.PThread=F;var Ke=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=Et(),o=s()[e+52>>2>>>0];e=s()[e+56>>2>>>0],rn(o,o-e),Tt(o)};function Ge(e){if(A)return q(2,0,e);Ze(e)}var je=[];i.invokeEntryPoint=function(e,o){var u=je[e];u||(e>=je.length&&(je.length=e+1),je[e]=u=Me.get(e)),e=u(o),Ie()?F.Xa(e):Qt(e)};function a(e){this.Ua=e-24,this.bb=function(o){p()[this.Ua+4>>2>>>0]=o},this.ab=function(o){p()[this.Ua+8>>2>>>0]=o},this.Va=function(o,u){this.$a(),this.bb(o),this.ab(u)},this.$a=function(){p()[this.Ua+16>>2>>>0]=0}}var l=0,c=0;function g(e,o,u,m){return A?q(3,1,e,o,u,m):M(e,o,u,m)}function M(e,o,u,m){if(e>>>=0,o>>>=0,u>>>=0,m>>>=0,typeof SharedArrayBuffer>"u")return ie("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var E=[];return A&&E.length===0?g(e,o,u,m):(e={mb:u,Na:e,eb:m,sb:E},A?(e.ub="spawnThread",postMessage(e,E),0):ut(e))}function P(e,o,u){return A?q(4,1,e,o,u):0}function L(e,o){if(A)return q(5,1,e,o)}var Q=e=>{for(var o=0,u=0;u<e.length;++u){var m=e.charCodeAt(u);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++u):o+=3}return o},pe=(e,o,u,m)=>{if(u>>>=0,!(0<m))return 0;var E=u;m=u+m-1;for(var v=0;v<e.length;++v){var I=e.charCodeAt(v);if(55296<=I&&57343>=I){var X=e.charCodeAt(++v);I=65536+((I&1023)<<10)|X&1023}if(127>=I){if(u>=m)break;o[u++>>>0]=I}else{if(2047>=I){if(u+1>=m)break;o[u++>>>0]=192|I>>6}else{if(65535>=I){if(u+2>=m)break;o[u++>>>0]=224|I>>12}else{if(u+3>=m)break;o[u++>>>0]=240|I>>18,o[u++>>>0]=128|I>>12&63}o[u++>>>0]=128|I>>6&63}o[u++>>>0]=128|I&63}}return o[u>>>0]=0,u-E},ue=(e,o,u)=>pe(e,f(),o,u);function le(e,o){if(A)return q(6,1,e,o)}function ct(e,o,u){if(A)return q(7,1,e,o,u)}function dt(e,o,u){return A?q(8,1,e,o,u):0}function y(e,o){if(A)return q(9,1,e,o)}function H(e,o,u){if(A)return q(10,1,e,o,u)}function Y(e,o,u,m){if(A)return q(11,1,e,o,u,m)}function Ce(e,o,u,m){if(A)return q(12,1,e,o,u,m)}function pt(e,o,u,m){if(A)return q(13,1,e,o,u,m)}function xr(e){if(A)return q(14,1,e)}function Fr(e,o){if(A)return q(15,1,e,o)}function Ur(e,o,u){if(A)return q(16,1,e,o,u)}var Ma=e=>{if(!fe)try{if(e(),!Ie())try{A?Qt(se):Ze(se)}catch(o){o instanceof ze||o=="unwind"||_(1,o)}}catch(o){o instanceof ze||o=="unwind"||_(1,o)}};function $t(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(s(),e>>2,e).value.then(St),e+=128,Atomics.store(s(),e>>2,1))}i.__emscripten_thread_mailbox_await=$t;function St(){var e=Et();e&&($t(e),Ma(()=>en()))}i.checkMailbox=St;var et=e=>e%4===0&&(e%100!==0||e%400===0),Br=[0,31,60,91,121,152,182,213,244,274,305,335],kr=[0,31,59,90,120,151,181,212,243,273,304,334];function Lr(e,o,u,m,E,v,I,X){return A?q(17,1,e,o,u,m,E,v,I,X):-52}function Nr(e,o,u,m,E,v,I){if(A)return q(18,1,e,o,u,m,E,v,I)}var Hr=e=>{var o=Q(e)+1,u=Qr(o);return u&&ue(e,u,o),u},Ra=e=>{var o=Zt();return e=e(),Tt(o),e};function q(e,o){var u=arguments.length-2,m=arguments;return Ra(()=>{for(var E=Kt(8*u),v=E>>3,I=0;I<u;I++){var X=m[2+I];d()[v+I>>>0]=X}return Kr(e,u,E,o)})}var Vt=[],qt={},Wr=()=>{if(!Xt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:S||"./this.program"},o;for(o in qt)qt[o]===void 0?delete e[o]:e[o]=qt[o];var u=[];for(o in e)u.push(`${o}=${e[o]}`);Xt=u}return Xt},Xt;function zr(e,o){if(A)return q(19,1,e,o);e>>>=0,o>>>=0;var u=0;return Wr().forEach(function(m,E){var v=o+u;for(E=p()[e+4*E>>2>>>0]=v,v=0;v<m.length;++v)t()[E++>>0>>>0]=m.charCodeAt(v);t()[E>>0>>>0]=0,u+=m.length+1}),0}function Gr(e,o){if(A)return q(20,1,e,o);e>>>=0,o>>>=0;var u=Wr();p()[e>>2>>>0]=u.length;var m=0;return u.forEach(function(E){m+=E.length+1}),p()[o>>2>>>0]=m,0}function jr(e){return A?q(21,1,e):52}function Yr(e,o,u,m){return A?q(22,1,e,o,u,m):52}function $r(e,o,u,m,E){return A?q(23,1,e,o,u,m,E):70}var Ia=[null,[],[]];function Vr(e,o,u,m){if(A)return q(24,1,e,o,u,m);o>>>=0,u>>>=0,m>>>=0;for(var E=0,v=0;v<u;v++){var I=p()[o>>2>>>0],X=p()[o+4>>2>>>0];o+=8;for(var Pe=0;Pe<X;Pe++){var ae=f()[I+Pe>>>0],he=Ia[e];ae===0||ae===10?((e===1?ee:ie)(lt(he,0)),he.length=0):he.push(ae)}E+=X}return p()[m>>2>>>0]=E,0}var qr=[31,29,31,30,31,30,31,31,30,31,30,31],Xr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ca(e){var o=Array(Q(e)+1);return pe(e,o,0,o.length),o}var Pa=(e,o)=>{t().set(e,o>>>0)};function Jr(e,o,u,m){function E(w,W,J){for(w=typeof w=="number"?w.toString():w||"";w.length<W;)w=J[0]+w;return w}function v(w,W){return E(w,W,"0")}function I(w,W){function J(sn){return 0>sn?-1:0<sn?1:0}var Ye;return(Ye=J(w.getFullYear()-W.getFullYear()))===0&&(Ye=J(w.getMonth()-W.getMonth()))===0&&(Ye=J(w.getDate()-W.getDate())),Ye}function X(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function Pe(w){var W=w.Pa;for(w=new Date(new Date(w.Qa+1900,0,1).getTime());0<W;){var J=w.getMonth(),Ye=(et(w.getFullYear())?qr:Xr)[J];if(W>Ye-w.getDate())W-=Ye-w.getDate()+1,w.setDate(1),11>J?w.setMonth(J+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+W);break}}return J=new Date(w.getFullYear()+1,0,4),W=X(new Date(w.getFullYear(),0,4)),J=X(J),0>=I(W,w)?0>=I(J,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,o>>>=0,u>>>=0,m>>>=0;var ae=s()[m+40>>2>>>0];m={qb:s()[m>>2>>>0],pb:s()[m+4>>2>>>0],Sa:s()[m+8>>2>>>0],Wa:s()[m+12>>2>>>0],Ta:s()[m+16>>2>>>0],Qa:s()[m+20>>2>>>0],Ma:s()[m+24>>2>>>0],Pa:s()[m+28>>2>>>0],yb:s()[m+32>>2>>>0],ob:s()[m+36>>2>>>0],rb:ae?Qe(ae):""},u=Qe(u),ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var he in ae)u=u.replace(new RegExp(he,"g"),ae[he]);var an="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),on="January February March April May June July August September October November December".split(" ");ae={"%a":w=>an[w.Ma].substring(0,3),"%A":w=>an[w.Ma],"%b":w=>on[w.Ta].substring(0,3),"%B":w=>on[w.Ta],"%C":w=>v((w.Qa+1900)/100|0,2),"%d":w=>v(w.Wa,2),"%e":w=>E(w.Wa,2," "),"%g":w=>Pe(w).toString().substring(2),"%G":w=>Pe(w),"%H":w=>v(w.Sa,2),"%I":w=>(w=w.Sa,w==0?w=12:12<w&&(w-=12),v(w,2)),"%j":w=>{for(var W=0,J=0;J<=w.Ta-1;W+=(et(w.Qa+1900)?qr:Xr)[J++]);return v(w.Wa+W,3)},"%m":w=>v(w.Ta+1,2),"%M":w=>v(w.pb,2),"%n":()=>`
`,"%p":w=>0<=w.Sa&&12>w.Sa?"AM":"PM","%S":w=>v(w.qb,2),"%t":()=>"	","%u":w=>w.Ma||7,"%U":w=>v(Math.floor((w.Pa+7-w.Ma)/7),2),"%V":w=>{var W=Math.floor((w.Pa+7-(w.Ma+6)%7)/7);if(2>=(w.Ma+371-w.Pa-2)%7&&W++,W)W==53&&(J=(w.Ma+371-w.Pa)%7,J==4||J==3&&et(w.Qa)||(W=1));else{W=52;var J=(w.Ma+7-w.Pa-1)%7;(J==4||J==5&&et(w.Qa%400-1))&&W++}return v(W,2)},"%w":w=>w.Ma,"%W":w=>v(Math.floor((w.Pa+7-(w.Ma+6)%7)/7),2),"%y":w=>(w.Qa+1900).toString().substring(2),"%Y":w=>w.Qa+1900,"%z":w=>{w=w.ob;var W=0<=w;return w=Math.abs(w)/60,(W?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.rb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(he in ae)u.includes(he)&&(u=u.replace(new RegExp(he,"g"),ae[he](m)));return u=u.replace(/\0\0/g,"%"),he=Ca(u),he.length>o?0:(Pa(he,e),he.length-1)}F.Va();var Da=[null,ft,Ge,g,P,L,le,ct,dt,y,H,Y,Ce,pt,xr,Fr,Ur,Lr,Nr,zr,Gr,jr,Yr,$r,Vr],xa={b:function(e,o,u){throw e>>>=0,new a(e).Va(o>>>0,u>>>0),l=e,c++,l},N:function(e){Zr(e>>>0,!B,1,!T,131072,!1),F.Ya()},j:function(e){e>>>=0,A?postMessage({cmd:"cleanupThread",thread:e}):_t(e)},I:M,h:P,T:L,D:le,F:ct,U:dt,R:y,J:H,Q:Y,n:Ce,E:pt,B:xr,S:Fr,C:Ur,q:()=>!0,z:function(e,o){e>>>=0,e==o>>>0?setTimeout(()=>St()):A?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:$t,p:function(e){C&&F.La[e>>>0].ref()},t:function(e,o,u){e=o+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*o:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getUTCSeconds(),s()[u+4>>2>>>0]=e.getUTCMinutes(),s()[u+8>>2>>>0]=e.getUTCHours(),s()[u+12>>2>>>0]=e.getUTCDate(),s()[u+16>>2>>>0]=e.getUTCMonth(),s()[u+20>>2>>>0]=e.getUTCFullYear()-1900,s()[u+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[u+28>>2>>>0]=e},u:function(e,o,u){e=o+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*o:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getSeconds(),s()[u+4>>2>>>0]=e.getMinutes(),s()[u+8>>2>>>0]=e.getHours(),s()[u+12>>2>>>0]=e.getDate(),s()[u+16>>2>>>0]=e.getMonth(),s()[u+20>>2>>>0]=e.getFullYear()-1900,s()[u+24>>2>>>0]=e.getDay(),o=(et(e.getFullYear())?Br:kr)[e.getMonth()]+e.getDate()-1|0,s()[u+28>>2>>>0]=o,s()[u+36>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var m=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=m&&e.getTimezoneOffset()==Math.min(m,o))|0,s()[u+32>>2>>>0]=e},v:function(e){e>>>=0;var o=new Date(s()[e+20>>2>>>0]+1900,s()[e+16>>2>>>0],s()[e+12>>2>>>0],s()[e+8>>2>>>0],s()[e+4>>2>>>0],s()[e>>2>>>0],0),u=s()[e+32>>2>>>0],m=o.getTimezoneOffset(),E=new Date(o.getFullYear(),6,1).getTimezoneOffset(),v=new Date(o.getFullYear(),0,1).getTimezoneOffset(),I=Math.min(v,E);return 0>u?s()[e+32>>2>>>0]=+(E!=v&&I==m):0<u!=(I==m)&&(E=Math.max(v,E),o.setTime(o.getTime()+6e4*((0<u?I:E)-m))),s()[e+24>>2>>>0]=o.getDay(),u=(et(o.getFullYear())?Br:kr)[o.getMonth()]+o.getDate()-1|0,s()[e+28>>2>>>0]=u,s()[e>>2>>>0]=o.getSeconds(),s()[e+4>>2>>>0]=o.getMinutes(),s()[e+8>>2>>>0]=o.getHours(),s()[e+12>>2>>>0]=o.getDate(),s()[e+16>>2>>>0]=o.getMonth(),s()[e+20>>2>>>0]=o.getYear(),e=o.getTime()/1e3,tn((Ne=e,1<=+Math.abs(Ne)?0<Ne?+Math.floor(Ne/4294967296)>>>0:~~+Math.ceil((Ne-+(~~Ne>>>0))/4294967296)>>>0:0)),e>>>0},r:Lr,s:Nr,y:function(e,o,u){function m(ae){return(ae=ae.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ae[1]:"GMT"}e>>>=0,o>>>=0,u>>>=0;var E=new Date().getFullYear(),v=new Date(E,0,1),I=new Date(E,6,1);E=v.getTimezoneOffset();var X=I.getTimezoneOffset(),Pe=Math.max(E,X);p()[e>>2>>>0]=60*Pe,s()[o>>2>>>0]=+(E!=X),e=m(v),o=m(I),e=Hr(e),o=Hr(o),X<E?(p()[u>>2>>>0]=e,p()[u+4>>2>>>0]=o):(p()[u>>2>>>0]=o,p()[u+4>>2>>>0]=e)},c:()=>{Oe("")},k:function(){},i:function(){return Date.now()},o:()=>{throw te+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return C?(Hn(),rt(Nn)).cpus().length:navigator.hardwareConcurrency},K:function(e,o,u,m){for(F.vb=o>>>0,Vt.length=u,o=m>>>0>>3,m=0;m<u;m++)Vt[m]=d()[o+m>>>0];return Da[e].apply(null,Vt)},x:function(e){e>>>=0;var o=f().length;if(e<=o||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var m=o*(1+.2/u);m=Math.min(m,e+100663296);var E=Math;m=Math.max(e,m);e:{E=E.min.call(E,4294901760,m+(65536-m%65536)%65536)-U.buffer.byteLength+65535>>>16;try{U.grow(E),we();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},O:zr,P:Gr,H:Ze,g:jr,m:Yr,w:$r,l:Vr,a:U||i.wasmMemory,G:Jr,d:function(e,o,u,m){return Jr(e>>>0,o>>>0,u>>>0,m>>>0)}};(function(){function e(u,m){return u=u.exports,D=u=Fa(u),F.Za.push(D.ya),Me=D.za,Re.unshift(D.V),ye=m,Xe(),u}var o={a:xa};if(qe(),i.instantiateWasm)try{return i.instantiateWasm(o,e)}catch(u){ie("Module.instantiateWasm callback failed with error: "+u),h(u)}return st(o,function(u){e(u.instance,u.module)}).catch(h),{}})(),i._OrtInit=(e,o)=>(i._OrtInit=D.W)(e,o),i._OrtGetLastError=(e,o)=>(i._OrtGetLastError=D.X)(e,o),i._OrtCreateSessionOptions=(e,o,u,m,E,v,I,X,Pe,ae)=>(i._OrtCreateSessionOptions=D.Y)(e,o,u,m,E,v,I,X,Pe,ae),i._OrtAppendExecutionProvider=(e,o)=>(i._OrtAppendExecutionProvider=D.Z)(e,o),i._OrtAddFreeDimensionOverride=(e,o,u)=>(i._OrtAddFreeDimensionOverride=D._)(e,o,u),i._OrtAddSessionConfigEntry=(e,o,u)=>(i._OrtAddSessionConfigEntry=D.$)(e,o,u),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=D.aa)(e),i._OrtCreateSession=(e,o,u)=>(i._OrtCreateSession=D.ba)(e,o,u),i._OrtReleaseSession=e=>(i._OrtReleaseSession=D.ca)(e),i._OrtGetInputOutputCount=(e,o,u)=>(i._OrtGetInputOutputCount=D.da)(e,o,u),i._OrtGetInputName=(e,o)=>(i._OrtGetInputName=D.ea)(e,o),i._OrtGetOutputName=(e,o)=>(i._OrtGetOutputName=D.fa)(e,o),i._OrtFree=e=>(i._OrtFree=D.ga)(e),i._OrtCreateTensor=(e,o,u,m,E,v)=>(i._OrtCreateTensor=D.ha)(e,o,u,m,E,v),i._OrtGetTensorData=(e,o,u,m,E)=>(i._OrtGetTensorData=D.ia)(e,o,u,m,E),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=D.ja)(e),i._OrtCreateRunOptions=(e,o,u,m)=>(i._OrtCreateRunOptions=D.ka)(e,o,u,m),i._OrtAddRunConfigEntry=(e,o,u)=>(i._OrtAddRunConfigEntry=D.la)(e,o,u),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=D.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=D.na)(e),i._OrtBindInput=(e,o,u)=>(i._OrtBindInput=D.oa)(e,o,u),i._OrtBindOutput=(e,o,u,m)=>(i._OrtBindOutput=D.pa)(e,o,u,m),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=D.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=D.ra)(e),i._OrtRunWithBinding=(e,o,u,m,E)=>(i._OrtRunWithBinding=D.sa)(e,o,u,m,E),i._OrtRun=(e,o,u,m,E,v,I,X)=>(i._OrtRun=D.ta)(e,o,u,m,E,v,I,X),i._OrtEndProfiling=e=>(i._OrtEndProfiling=D.ua)(e);var Et=i._pthread_self=()=>(Et=i._pthread_self=D.va)(),Qr=i._malloc=e=>(Qr=i._malloc=D.wa)(e);i._free=e=>(i._free=D.xa)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=D.ya)();var Zr=i.__emscripten_thread_init=(e,o,u,m,E,v)=>(Zr=i.__emscripten_thread_init=D.Aa)(e,o,u,m,E,v);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=D.Ba)();var Kr=(e,o,u,m)=>(Kr=D.Ca)(e,o,u,m),Jt=e=>(Jt=D.Da)(e),Qt=i.__emscripten_thread_exit=e=>(Qt=i.__emscripten_thread_exit=D.Ea)(e),en=i.__emscripten_check_mailbox=()=>(en=i.__emscripten_check_mailbox=D.Fa)(),tn=e=>(tn=D.Ga)(e),rn=(e,o)=>(rn=D.Ha)(e,o),Zt=()=>(Zt=D.Ia)(),Tt=e=>(Tt=D.Ja)(e),Kt=e=>(Kt=D.Ka)(e);function Fa(e){e=Object.assign({},e);var o=m=>()=>m()>>>0,u=m=>E=>m(E)>>>0;return e.__errno_location=o(e.__errno_location),e.pthread_self=o(e.pthread_self),e.malloc=u(e.malloc),e.stackSave=o(e.stackSave),e.stackAlloc=u(e.stackAlloc),e}i.keepRuntimeAlive=Ie,i.wasmMemory=U,i.stackAlloc=Kt,i.stackSave=Zt,i.stackRestore=Tt,i.UTF8ToString=Qe,i.stringToUTF8=ue,i.lengthBytesUTF8=Q,i.ExitStatus=ze,i.PThread=F;var At;Fe=function e(){At||nn(),At||(Fe=e)};function nn(){function e(){if(!At&&(At=!0,i.calledRun=!0,!fe)&&(A||Ke(Re),b(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!A)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var o=i.postRun.shift();ne.unshift(o)}Ke(ne)}}if(!(0<be))if(A)b(i),A||Ke(Re),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ce.unshift(i.preRun.shift());Ke(ce),0<be||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return nn(),n.ready}})();typeof zn=="object"&&typeof fr=="object"?fr.exports=Wn:typeof define=="function"&&define.amd&&define([],()=>Wn)});var jn=tt((Ko,Ya)=>{Ya.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var $n,$a,cr,dr,Ft,Yn,Va,qa,Xa,Vn,z,Ve=N(()=>{"use strict";$n=Bn();$a=Gn(),dr=!1,Ft=!1,Yn=!1,Va=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},qa=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Xa=(r,n)=>r?"ort-training-wasm-simd.wasm":n?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Vn=async r=>{if(dr)return Promise.resolve();if(Ft)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Yn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ft=!0;let n=r.initTimeout,t=r.numThreads,f=r.simd,s=t>1&&Va(),p=f&&qa(),d=r.wasmPaths,i=typeof d=="string"?d:void 0,b=Xa(p,s),h=typeof d=="object"?d[b]:void 0,O=!1,S=[];if(n>0&&S.push(new Promise(_=>{setTimeout(()=>{O=!0,_()},n)})),S.push(new Promise((_,T)=>{let B=s?$a:$n,C={locateFile:(A,k)=>s&&A.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([jn()],{type:"text/javascript"})):A.endsWith(".wasm")?h||(i??k)+b:k+A};if(s)if(typeof Blob>"u")C.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let A=`var ortWasmThreaded=${B.toString()};`;C.mainScriptUrlOrBlob=new Blob([A],{type:"text/javascript"})}B(C).then(A=>{Ft=!1,dr=!0,cr=A,_()},A=>{Ft=!1,Yn=!0,T(A)})})),await Promise.race(S),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},z=()=>{if(dr&&cr)return cr;throw new Error("WebAssembly is not initialized yet.")}});var re,yt,G,bt=N(()=>{"use strict";Ve();re=(r,n)=>{let t=z(),f=t.lengthBytesUTF8(r)+1,s=t._malloc(f);return t.stringToUTF8(r,s,f),n.push(s),s},yt=(r,n,t,f)=>{if(typeof r=="object"&&r!==null){if(t.has(r))throw new Error("Circular reference in options");t.add(r)}Object.entries(r).forEach(([s,p])=>{let d=n?n+s:s;if(typeof p=="object")yt(p,d+".",t,f);else if(typeof p=="string"||typeof p=="number")f(d,p.toString());else if(typeof p=="boolean")f(d,p?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof p}`)})},G=r=>{let n=z(),t=n.stackSave();try{let f=n.stackAlloc(8);n._OrtGetLastError(f,f+4);let s=n.HEAP32[f/4],p=n.HEAPU32[f/4+1],d=p?n.UTF8ToString(p):"";throw new Error(`${r} ERROR_CODE: ${s}, ERROR_MESSAGE: ${d}`)}finally{n.stackRestore(t)}}});var qn,Xn=N(()=>{"use strict";Ve();bt();qn=r=>{let n=z(),t=0,f=[],s=r||{};try{if(r?.logSeverityLevel===void 0)s.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)s.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(s.terminate=!1);let p=0;return r?.tag!==void 0&&(p=re(r.tag,f)),t=n._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,p),t===0&&G("Can't create run options."),r?.extra!==void 0&&yt(r.extra,"",new WeakSet,(d,i)=>{let b=re(d,f),h=re(i,f);n._OrtAddRunConfigEntry(t,b,h)!==0&&G(`Can't set a run config entry: ${d} - ${i}.`)}),[t,f]}catch(p){throw t!==0&&n._OrtReleaseRunOptions(t),f.forEach(d=>n._free(d)),p}}});var Ja,Qa,Za,Ka,Ut,pr=N(()=>{"use strict";Ve();bt();Ja=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},Qa=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},Za=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let n=r.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(r.enableMemPattern=!1)},Ka=(r,n,t)=>{for(let f of n){let s=typeof f=="string"?f:f.name;switch(s){case"xnnpack":s="XNNPACK";break;case"webnn":if(s="WEBNN",typeof f!="string"){let d=f;if(d?.deviceType){let i=re("deviceType",t),b=re(d.deviceType,t);z()._OrtAddSessionConfigEntry(r,i,b)!==0&&G(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.powerPreference){let i=re("powerPreference",t),b=re(d.powerPreference,t);z()._OrtAddSessionConfigEntry(r,i,b)!==0&&G(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(s="JS",typeof f!="string"){let d=f;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let i=re("preferredLayout",t),b=re(d.preferredLayout,t);z()._OrtAddSessionConfigEntry(r,i,b)!==0&&G(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${s}`)}let p=re(s,t);z()._OrtAppendExecutionProvider(r,p)!==0&&G(`Can't append execution provider: ${s}.`)}},Ut=r=>{let n=z(),t=0,f=[],s=r||{};Za(s);try{let p=Ja(s.graphOptimizationLevel??"all"),d=Qa(s.executionMode??"sequential"),i=typeof s.logId=="string"?re(s.logId,f):0,b=s.logSeverityLevel??2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);let h=s.logVerbosityLevel??0;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log verbosity level is not valid: ${h}`);let O=typeof s.optimizedModelFilePath=="string"?re(s.optimizedModelFilePath,f):0;if(t=n._OrtCreateSessionOptions(p,!!s.enableCpuMemArena,!!s.enableMemPattern,d,!!s.enableProfiling,0,i,b,h,O),t===0&&G("Can't create session options."),s.executionProviders&&Ka(t,s.executionProviders,f),s.freeDimensionOverrides)for(let[S,_]of Object.entries(s.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof _!="number"||!Number.isInteger(_)||_<0)throw new Error(`free dimension override value must be a non-negative integer: ${_}`);let T=re(S,f);n._OrtAddFreeDimensionOverride(t,T,_)!==0&&G(`Can't set a free dimension override: ${S} - ${_}.`)}return s.extra!==void 0&&yt(s.extra,"",new WeakSet,(S,_)=>{let T=re(S,f),B=re(_,f);n._OrtAddSessionConfigEntry(t,T,B)!==0&&G(`Can't set a session config entry: ${S} - ${_}.`)}),[t,f]}catch(p){throw t!==0&&n._OrtReleaseSessionOptions(t),f.forEach(d=>n._free(d)),p}}});var mr,Jn,hr,Qn,Zn,Bt,Kn,gr=N(()=>{"use strict";mr=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},Jn=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},hr=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],Qn=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},Zn=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},Bt=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",Kn=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var ta,eo,to,kt,wt,Lt,Ot,yr,ra,na,ea,aa,oa,ia,br=N(()=>{"use strict";Xn();pr();gr();Ve();bt();ta=!1,eo=r=>{let n=z(),t=n.stackSave();try{let f=n.stackAlloc(8);return n._OrtGetInputOutputCount(r,f,f+4)!==0&&G("Can't get session input/output count."),[n.HEAP32[f/4],n.HEAP32[f/4+1]]}finally{n.stackRestore(t)}},to=(r,n)=>{z()._OrtInit(r,n)!==0&&G("Can't initialize onnxruntime.")},kt=async r=>{to(r.wasm.numThreads,Zn(r.logLevel)),ta=!0},wt=new Map,Lt=()=>ta,Ot=r=>{let n=z(),t=n._malloc(r.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return n.HEAPU8.set(r,t),[t,r.byteLength]},yr=(r,n)=>{let t=z(),f=0,s=0,p=0,d=[],i=[],b=[];try{[s,d]=Ut(n),f=t._OrtCreateSession(r[0],r[1],s),f===0&&G("Can't create a session.");let[h,O]=eo(f),S=[],_=[],T=[];for(let C=0;C<h;C++){let A=t._OrtGetInputName(f,C);A===0&&G("Can't get an input name."),i.push(A),S.push(t.UTF8ToString(A))}for(let C=0;C<O;C++){let A=t._OrtGetOutputName(f,C);A===0&&G("Can't get an output name."),b.push(A);let k=t.UTF8ToString(A);_.push(k)}let B=null;return wt.set(f,[f,i,b,B]),[f,S,_]}catch(h){throw i.forEach(O=>t._OrtFree(O)),b.forEach(O=>t._OrtFree(O)),p!==0&&t._OrtReleaseBinding(p),f!==0&&t._OrtReleaseSession(f),h}finally{t._free(r[0]),s!==0&&t._OrtReleaseSessionOptions(s),d.forEach(h=>t._free(h))}},ra=(r,n)=>{let t=Ot(r);return yr(t,n)},na=r=>{let n=z(),t=wt.get(r);if(!t)throw new Error(`cannot release session. invalid session id: ${r}`);let[f,s,p,d]=t;d&&n._OrtReleaseBinding(d.handle),n.jsepUnregisterBuffers?.(r),s.forEach(i=>n._OrtFree(i)),p.forEach(i=>n._OrtFree(i)),n._OrtReleaseSession(f),wt.delete(r)},ea=(r,n,t,f,s)=>{if(!r){n.push(0);return}let p=z(),d=r[0],i=r[1],b=r[3],h,O;if(d==="string"&&b==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b==="gpu-buffer"){let T=r[2].gpuBuffer,B=hr(mr(d));O=i.reduce((C,A)=>C*A,1)*B,h=p.jsepRegisterBuffer(f,s,T,O)}else{let T=r[2];if(Array.isArray(T)){O=4*T.length,h=p._malloc(O),t.push(h);let B=h/4;for(let C=0;C<T.length;C++){if(typeof T[C]!="string")throw new TypeError(`tensor data at index ${C} is not a string`);p.HEAPU32[B++]=re(T[C],t)}}else O=T.byteLength,h=p._malloc(O),t.push(h),p.HEAPU8.set(new Uint8Array(T.buffer,T.byteOffset,O),h)}let S=p.stackSave(),_=p.stackAlloc(4*i.length);try{let T=_/4;i.forEach(C=>p.HEAP32[T++]=C);let B=p._OrtCreateTensor(mr(d),h,O,_,i.length,Kn(b));B===0&&G(`Can't create tensor for input/output. session=${f}, index=${s}.`),n.push(B)}finally{p.stackRestore(S)}},aa=async(r,n,t,f,s,p)=>{let d=z(),i=wt.get(r);if(!i)throw new Error(`cannot run inference. invalid session id: ${r}`);let[b,h,O,S]=i,_=n.length,T=f.length,B=0,C=[],A=[],k=[],j=[],oe=d.stackSave(),K=d.stackAlloc(_*4),R=d.stackAlloc(_*4),_e=d.stackAlloc(T*4),ve=d.stackAlloc(T*4);try{[B,C]=qn(p);for(let U=0;U<_;U++)ea(t[U],A,j,r,n[U]);for(let U=0;U<T;U++)ea(s[U],k,j,r,_+f[U]);let Z=K/4,x=R/4,ee=_e/4,ie=ve/4;for(let U=0;U<_;U++)d.HEAPU32[Z++]=A[U],d.HEAPU32[x++]=h[n[U]];for(let U=0;U<T;U++)d.HEAPU32[ee++]=k[U],d.HEAPU32[ie++]=O[f[U]];let Se;Se=await d._OrtRun(b,R,K,_,ve,T,_e,B),Se!==0&&G("failed to call OrtRun().");let Ee=[];for(let U=0;U<T;U++){let D=d.HEAPU32[_e/4+U];if(D===k[U]){Ee.push(s[U]);continue}let ye=d.stackSave(),fe=d.stackAlloc(4*4),se=!1,V,de=0;try{d._OrtGetTensorData(D,fe,fe+4,fe+8,fe+12)!==0&&G(`Can't access output tensor data on index ${U}.`);let Ae=fe/4,ke=d.HEAPU32[Ae++];de=d.HEAPU32[Ae++];let we=d.HEAPU32[Ae++],xe=d.HEAPU32[Ae++],Me=[];for(let ne=0;ne<xe;ne++)Me.push(d.HEAPU32[we/4+ne]);d._OrtFree(we);let ce=Me.reduce((ne,te)=>ne*te,1);V=Jn(ke);let Re=S?.outputPreferredLocations[f[U]];if(V==="string"){if(Re==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ne=[],te=de/4;for(let Ie=0;Ie<ce;Ie++){let be=d.HEAPU32[te++],Le=Ie===ce-1?void 0:d.HEAPU32[te]-be;ne.push(d.UTF8ToString(be,Le))}Ee.push([V,Me,ne,"cpu"])}else if(Re==="gpu-buffer"&&ce>0){let ne=d.jsepGetBuffer(de),te=hr(ke);if(te===void 0||!Bt(V))throw new Error(`Unsupported data type: ${V}`);se=!0,Ee.push([V,Me,{gpuBuffer:ne,download:d.jsepCreateDownloader(ne,ce*te,V),dispose:()=>{d._OrtReleaseTensor(D)}},"gpu-buffer"])}else{let ne=Qn(V),te=new ne(ce);new Uint8Array(te.buffer,te.byteOffset,te.byteLength).set(d.HEAPU8.subarray(de,de+te.byteLength)),Ee.push([V,Me,te,"cpu"])}}finally{d.stackRestore(ye),V==="string"&&de&&d._free(de),se||d._OrtReleaseTensor(D)}}return S&&d._OrtClearBoundOutputs(S.handle),Ee}finally{d.stackRestore(oe),A.forEach(Z=>d._OrtReleaseTensor(Z)),k.forEach(Z=>d._OrtReleaseTensor(Z)),j.forEach(Z=>d._free(Z)),B!==0&&d._OrtReleaseRunOptions(B),C.forEach(Z=>d._free(Z))}},oa=r=>{let n=z(),t=wt.get(r);if(!t)throw new Error("invalid session id");let f=t[0],s=n._OrtEndProfiling(f);s===0&&G("Can't get an profile file name."),n._OrtFree(s)},ia=r=>{let n=[];for(let t of r){let f=t[2];!Array.isArray(f)&&"buffer"in f&&n.push(f.buffer)}return n}});var sa=tt((gi,no)=>{no.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var _t=Object.defineProperty;var Vr=Object.getOwnPropertyDescriptor;var Jr=Object.getOwnPropertyNames;var Xr=Object.prototype.hasOwnProperty;var vt=(u,f)=>()=>(u&&(f=u(u=0)),f);var rt=(u,f)=>()=>(f||u((f={exports:{}}).exports,f),f.exports),St=(u,f)=>{for(var n in f)_t(u,n,{get:f[n],enumerable:!0})},Qr=(u,f,n,y)=>{if(f&&typeof f=="object"||typeof f=="function")for(let c of Jr(f))!Xr.call(u,c)&&c!==n&&_t(u,c,{get:()=>f[c],enumerable:!(y=Vr(f,c))||y.enumerable});return u};var nt=u=>Qr(_t({},"__esModule",{value:!0}),u);var Et={};St(Et,{readFile:()=>Zr});var Zr,Tt=vt(()=>{Zr=void 0});var Mt={};St(Mt,{join:()=>Kr});var Kr,At=vt(()=>{Kr=void 0});var dr=rt((cr,Rt)=>{"use strict";var fr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(f={}){var n=f,y,c;n.ready=new Promise((t,o)=>{y=t,c=o});var w=Object.assign({},n),g="./this.program",i=typeof window=="object",x=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="",W,F,L;if(P){var k=(Tt(),nt(Et)),C=(At(),nt(Mt));I=x?C.dirname(I)+"/":__dirname+"/",W=(t,o)=>(t=t.startsWith("file://")?new URL(t):C.normalize(t),k.readFileSync(t,o?void 0:"utf8")),L=t=>(t=W(t,!0),t.buffer||(t=new Uint8Array(t)),t),F=(t,o,s,d=!0)=>{t=t.startsWith("file://")?new URL(t):C.normalize(t),k.readFile(t,d?void 0:"utf8",(b,E)=>{b?s(b):o(d?E.buffer:E)})},!n.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(i||x)&&(x?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),u&&(I=u),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",W=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},x&&(L=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),F=(t,o,s)=>{var d=new XMLHttpRequest;d.open("GET",t,!0),d.responseType="arraybuffer",d.onload=()=>{d.status==200||d.status==0&&d.response?o(d.response):s()},d.onerror=s,d.send(null)});var _=n.print||console.log.bind(console),B=n.printErr||console.error.bind(console);Object.assign(n,w),w=null,n.thisProgram&&(g=n.thisProgram);var le;n.wasmBinary&&(le=n.wasmBinary);var Be=n.noExitRuntime||!0;typeof WebAssembly!="object"&&z("no native wasm support detected");var pe,S,he=!1,ye,V,M,X;function te(){var t=pe.buffer;n.HEAP8=ye=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAP32=M=new Int32Array(t),n.HEAPU8=V=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=X=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t)}var Oe=[],be=[],R=[];function T(){var t=n.preRun.shift();Oe.unshift(t)}var ce=0,oe=null,re=null;function z(t){throw n.onAbort&&n.onAbort(t),t="Aborted("+t+")",B(t),he=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),c(t),t}function se(t){return t.startsWith("data:application/octet-stream;base64,")}var we;if(we="ort-training-wasm-simd.wasm",!se(we)){var _e=we;we=n.locateFile?n.locateFile(_e,I):I+_e}function De(t){if(t==we&&le)return new Uint8Array(le);if(L)return L(t);throw"both async and sync fetching of the wasm failed"}function me(t){if(!le&&(i||x)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>De(t));if(F)return new Promise((o,s)=>{F(t,d=>o(new Uint8Array(d)),s)})}return Promise.resolve().then(()=>De(t))}function Ae(t,o,s){return me(t).then(d=>WebAssembly.instantiate(d,o)).then(d=>d).then(s,d=>{B("failed to asynchronously prepare wasm: "+d),z(d)})}function ve(t,o){var s=we;return le||typeof WebAssembly.instantiateStreaming!="function"||se(s)||s.startsWith("file://")||P||typeof fetch!="function"?Ae(s,t,o):fetch(s,{credentials:"same-origin"}).then(d=>WebAssembly.instantiateStreaming(d,t).then(o,function(b){return B("wasm streaming compile failed: "+b),B("falling back to ArrayBuffer instantiation"),Ae(s,t,o)}))}var ie,Se=t=>{for(;0<t.length;)t.shift()(n)};function K(t){this.Ja=t-24,this.Na=function(o){X[this.Ja+4>>2>>>0]=o},this.Ma=function(o){X[this.Ja+8>>2>>>0]=o},this.Ka=function(o,s){this.La(),this.Na(o),this.Ma(s)},this.La=function(){X[this.Ja+16>>2>>>0]=0}}var Q=0,Ee=0,de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ie=(t,o,s)=>{o>>>=0;var d=o+s;for(s=o;t[s]&&!(s>=d);)++s;if(16<s-o&&t.buffer&&de)return de.decode(t.subarray(o,s));for(d="";o<s;){var b=t[o++];if(b&128){var E=t[o++]&63;if((b&224)==192)d+=String.fromCharCode((b&31)<<6|E);else{var D=t[o++]&63;b=(b&240)==224?(b&15)<<12|E<<6|D:(b&7)<<18|E<<12|D<<6|t[o++]&63,65536>b?d+=String.fromCharCode(b):(b-=65536,d+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else d+=String.fromCharCode(b)}return d},Re=(t,o)=>(t>>>=0)?Ie(V,t,o):"",We=t=>{for(var o=0,s=0;s<t.length;++s){var d=t.charCodeAt(s);127>=d?o++:2047>=d?o+=2:55296<=d&&57343>=d?(o+=4,++s):o+=3}return o},ke=(t,o,s,d)=>{if(s>>>=0,!(0<d))return 0;var b=s;d=s+d-1;for(var E=0;E<t.length;++E){var D=t.charCodeAt(E);if(55296<=D&&57343>=D){var $=t.charCodeAt(++E);D=65536+((D&1023)<<10)|$&1023}if(127>=D){if(s>=d)break;o[s++>>>0]=D}else{if(2047>=D){if(s+1>=d)break;o[s++>>>0]=192|D>>6}else{if(65535>=D){if(s+2>=d)break;o[s++>>>0]=224|D>>12}else{if(s+3>=d)break;o[s++>>>0]=240|D>>18,o[s++>>>0]=128|D>>12&63}o[s++>>>0]=128|D>>6&63}o[s++>>>0]=128|D&63}}return o[s>>>0]=0,s-b},ge=t=>t%4===0&&(t%100!==0||t%400===0),je=[0,31,60,91,121,152,182,213,244,274,305,335],Ce=[0,31,59,90,120,151,181,212,243,273,304,334],$e=t=>{var o=We(t)+1,s=Qe(o);return s&&ke(t,V,s,o),s},qe={},Ve=()=>{if(!Je){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in qe)qe[o]===void 0?delete t[o]:t[o]=qe[o];var s=[];for(o in t)s.push(`${o}=${t[o]}`);Je=s}return Je},Je,Fe=[null,[],[]],xe=[31,29,31,30,31,30,31,31,30,31,30,31],Ne=[31,28,31,30,31,30,31,31,30,31,30,31];function it(t){var o=Array(We(t)+1);return ke(t,o,0,o.length),o}function Xe(t,o,s,d){function b(p,U,H){for(p=typeof p=="number"?p.toString():p||"";p.length<U;)p=H[0]+p;return p}function E(p,U){return b(p,U,"0")}function D(p,U){function H(tt){return 0>tt?-1:0<tt?1:0}var Te;return(Te=H(p.getFullYear()-U.getFullYear()))===0&&(Te=H(p.getMonth()-U.getMonth()))===0&&(Te=H(p.getDate()-U.getDate())),Te}function $(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function ue(p){var U=p.Ea;for(p=new Date(new Date(p.Fa+1900,0,1).getTime());0<U;){var H=p.getMonth(),Te=(ge(p.getFullYear())?xe:Ne)[H];if(U>Te-p.getDate())U-=Te-p.getDate()+1,p.setDate(1),11>H?p.setMonth(H+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+U);break}}return H=new Date(p.getFullYear()+1,0,4),U=$(new Date(p.getFullYear(),0,4)),H=$(H),0>=D(U,p)?0>=D(H,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}t>>>=0,o>>>=0,s>>>=0,d>>>=0;var ne=M[d+40>>2>>>0];d={Qa:M[d>>2>>>0],Pa:M[d+4>>2>>>0],Ga:M[d+8>>2>>>0],Ia:M[d+12>>2>>>0],Ha:M[d+16>>2>>>0],Fa:M[d+20>>2>>>0],za:M[d+24>>2>>>0],Ea:M[d+28>>2>>>0],Sa:M[d+32>>2>>>0],Oa:M[d+36>>2>>>0],Ra:ne?Re(ne):""},s=Re(s),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ae in ne)s=s.replace(new RegExp(ae,"g"),ne[ae]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),et="January February March April May June July August September October November December".split(" ");ne={"%a":p=>Ke[p.za].substring(0,3),"%A":p=>Ke[p.za],"%b":p=>et[p.Ha].substring(0,3),"%B":p=>et[p.Ha],"%C":p=>E((p.Fa+1900)/100|0,2),"%d":p=>E(p.Ia,2),"%e":p=>b(p.Ia,2," "),"%g":p=>ue(p).toString().substring(2),"%G":p=>ue(p),"%H":p=>E(p.Ga,2),"%I":p=>(p=p.Ga,p==0?p=12:12<p&&(p-=12),E(p,2)),"%j":p=>{for(var U=0,H=0;H<=p.Ha-1;U+=(ge(p.Fa+1900)?xe:Ne)[H++]);return E(p.Ia+U,3)},"%m":p=>E(p.Ha+1,2),"%M":p=>E(p.Pa,2),"%n":()=>`\n`,"%p":p=>0<=p.Ga&&12>p.Ga?"AM":"PM","%S":p=>E(p.Qa,2),"%t":()=>"	","%u":p=>p.za||7,"%U":p=>E(Math.floor((p.Ea+7-p.za)/7),2),"%V":p=>{var U=Math.floor((p.Ea+7-(p.za+6)%7)/7);if(2>=(p.za+371-p.Ea-2)%7&&U++,U)U==53&&(H=(p.za+371-p.Ea)%7,H==4||H==3&&ge(p.Fa)||(U=1));else{U=52;var H=(p.za+7-p.Ea-1)%7;(H==4||H==5&&ge(p.Fa%400-1))&&U++}return E(U,2)},"%w":p=>p.za,"%W":p=>E(Math.floor((p.Ea+7-(p.za+6)%7)/7),2),"%y":p=>(p.Fa+1900).toString().substring(2),"%Y":p=>p.Fa+1900,"%z":p=>{p=p.Oa;var U=0<=p;return p=Math.abs(p)/60,(U?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Ra,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ae in ne)s.includes(ae)&&(s=s.replace(new RegExp(ae,"g"),ne[ae](d)));return s=s.replace(/\\0\\0/g,"%"),ae=it(s),ae.length>o?0:(ye.set(ae,t>>>0),ae.length-1)}var st={a:function(t,o,s){throw t>>>=0,new K(t).Ka(o>>>0,s>>>0),Q=t,Ee++,Q},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),M[s>>2>>>0]=t.getUTCSeconds(),M[s+4>>2>>>0]=t.getUTCMinutes(),M[s+8>>2>>>0]=t.getUTCHours(),M[s+12>>2>>>0]=t.getUTCDate(),M[s+16>>2>>>0]=t.getUTCMonth(),M[s+20>>2>>>0]=t.getUTCFullYear()-1900,M[s+24>>2>>>0]=t.getUTCDay(),M[s+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),M[s>>2>>>0]=t.getSeconds(),M[s+4>>2>>>0]=t.getMinutes(),M[s+8>>2>>>0]=t.getHours(),M[s+12>>2>>>0]=t.getDate(),M[s+16>>2>>>0]=t.getMonth(),M[s+20>>2>>>0]=t.getFullYear()-1900,M[s+24>>2>>>0]=t.getDay(),M[s+28>>2>>>0]=(ge(t.getFullYear())?je:Ce)[t.getMonth()]+t.getDate()-1|0,M[s+36>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var d=new Date(t.getFullYear(),0,1).getTimezoneOffset();M[s+32>>2>>>0]=(o!=d&&t.getTimezoneOffset()==Math.min(d,o))|0},q:function(t){t>>>=0;var o=new Date(M[t+20>>2>>>0]+1900,M[t+16>>2>>>0],M[t+12>>2>>>0],M[t+8>>2>>>0],M[t+4>>2>>>0],M[t>>2>>>0],0),s=M[t+32>>2>>>0],d=o.getTimezoneOffset(),b=new Date(o.getFullYear(),6,1).getTimezoneOffset(),E=new Date(o.getFullYear(),0,1).getTimezoneOffset(),D=Math.min(E,b);return 0>s?M[t+32>>2>>>0]=+(b!=E&&D==d):0<s!=(D==d)&&(b=Math.max(E,b),o.setTime(o.getTime()+6e4*((0<s?D:b)-d))),M[t+24>>2>>>0]=o.getDay(),M[t+28>>2>>>0]=(ge(o.getFullYear())?je:Ce)[o.getMonth()]+o.getDate()-1|0,M[t>>2>>>0]=o.getSeconds(),M[t+4>>2>>>0]=o.getMinutes(),M[t+8>>2>>>0]=o.getHours(),M[t+12>>2>>>0]=o.getDate(),M[t+16>>2>>>0]=o.getMonth(),M[t+20>>2>>>0]=o.getYear(),t=o.getTime()/1e3,He((ie=t,1<=+Math.abs(ie)?0<ie?+Math.floor(ie/4294967296)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)),t>>>0},m:function(){return-52},n:function(){},t:function(t,o,s){function d(ue){return(ue=ue.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ue[1]:"GMT"}s>>>=0;var b=new Date().getFullYear(),E=new Date(b,0,1),D=new Date(b,6,1);b=E.getTimezoneOffset();var $=D.getTimezoneOffset();X[t>>>0>>2>>>0]=60*Math.max(b,$),M[o>>>0>>2>>>0]=+(b!=$),t=d(E),o=d(D),t=$e(t),o=$e(o),$<b?(X[s>>2>>>0]=t,X[s+4>>2>>>0]=o):(X[s>>2>>>0]=o,X[s+4>>2>>>0]=t)},d:()=>{z("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(t,o,s){return o>>>=0,V.copyWithin(t>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(t){t>>>=0;var o=V.length;if(4294901760<t)return!1;for(var s=1;4>=s;s*=2){var d=o*(1+.2/s);d=Math.min(d,t+100663296);var b=Math;d=Math.max(t,d);e:{b=b.min.call(b,4294901760,d+(65536-d%65536)%65536)-pe.buffer.byteLength+65535>>>16;try{pe.grow(b),te();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},C:function(t,o){t>>>=0,o>>>=0;var s=0;return Ve().forEach(function(d,b){var E=o+s;for(b=X[t+4*b>>2>>>0]=E,E=0;E<d.length;++E)ye[b++>>0>>>0]=d.charCodeAt(E);ye[b>>0>>>0]=0,s+=d.length+1}),0},D:function(t,o){t>>>=0,o>>>=0;var s=Ve();X[t>>2>>>0]=s.length;var d=0;return s.forEach(function(b){d+=b.length+1}),X[o>>2>>>0]=d,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(t,o,s,d){o>>>=0,s>>>=0,d>>>=0;for(var b=0,E=0;E<s;E++){var D=X[o>>2>>>0],$=X[o+4>>2>>>0];o+=8;for(var ue=0;ue<$;ue++){var ne=V[D+ue>>>0],ae=Fe[t];ne===0||ne===10?((t===1?_:B)(Ie(ae,0)),ae.length=0):ae.push(ne)}b+=$}return X[d>>2>>>0]=b,0},A:Xe,c:function(t,o,s,d){return Xe(t>>>0,o>>>0,s>>>0,d>>>0)}};(function(){function t(s){if(s=s.exports,S=s=Ge(s),pe=S.J,te(),be.unshift(S.K),ce--,n.monitorRunDependencies&&n.monitorRunDependencies(ce),ce==0&&(oe!==null&&(clearInterval(oe),oe=null),re)){var d=re;re=null,d()}return s}var o={a:st};if(ce++,n.monitorRunDependencies&&n.monitorRunDependencies(ce),n.instantiateWasm)try{return n.instantiateWasm(o,t)}catch(s){B("Module.instantiateWasm callback failed with error: "+s),c(s)}return ve(o,function(s){t(s.instance)}).catch(c),{}})(),n._OrtInit=(t,o)=>(n._OrtInit=S.L)(t,o),n._OrtGetLastError=(t,o)=>(n._OrtGetLastError=S.M)(t,o),n._OrtCreateSessionOptions=(t,o,s,d,b,E,D,$,ue,ne)=>(n._OrtCreateSessionOptions=S.N)(t,o,s,d,b,E,D,$,ue,ne),n._OrtAppendExecutionProvider=(t,o)=>(n._OrtAppendExecutionProvider=S.O)(t,o),n._OrtAddFreeDimensionOverride=(t,o,s)=>(n._OrtAddFreeDimensionOverride=S.P)(t,o,s),n._OrtAddSessionConfigEntry=(t,o,s)=>(n._OrtAddSessionConfigEntry=S.Q)(t,o,s),n._OrtReleaseSessionOptions=t=>(n._OrtReleaseSessionOptions=S.R)(t),n._OrtCreateSession=(t,o,s)=>(n._OrtCreateSession=S.S)(t,o,s),n._OrtReleaseSession=t=>(n._OrtReleaseSession=S.T)(t),n._OrtGetInputOutputCount=(t,o,s)=>(n._OrtGetInputOutputCount=S.U)(t,o,s),n._OrtGetInputName=(t,o)=>(n._OrtGetInputName=S.V)(t,o),n._OrtGetOutputName=(t,o)=>(n._OrtGetOutputName=S.W)(t,o),n._OrtFree=t=>(n._OrtFree=S.X)(t),n._OrtCreateTensor=(t,o,s,d,b,E)=>(n._OrtCreateTensor=S.Y)(t,o,s,d,b,E),n._OrtGetTensorData=(t,o,s,d,b)=>(n._OrtGetTensorData=S.Z)(t,o,s,d,b),n._OrtReleaseTensor=t=>(n._OrtReleaseTensor=S._)(t),n._OrtCreateRunOptions=(t,o,s,d)=>(n._OrtCreateRunOptions=S.$)(t,o,s,d),n._OrtAddRunConfigEntry=(t,o,s)=>(n._OrtAddRunConfigEntry=S.aa)(t,o,s),n._OrtReleaseRunOptions=t=>(n._OrtReleaseRunOptions=S.ba)(t),n._OrtCreateBinding=t=>(n._OrtCreateBinding=S.ca)(t),n._OrtBindInput=(t,o,s)=>(n._OrtBindInput=S.da)(t,o,s),n._OrtBindOutput=(t,o,s,d)=>(n._OrtBindOutput=S.ea)(t,o,s,d),n._OrtClearBoundOutputs=t=>(n._OrtClearBoundOutputs=S.fa)(t),n._OrtReleaseBinding=t=>(n._OrtReleaseBinding=S.ga)(t),n._OrtRunWithBinding=(t,o,s,d,b)=>(n._OrtRunWithBinding=S.ha)(t,o,s,d,b),n._OrtRun=(t,o,s,d,b,E,D,$)=>(n._OrtRun=S.ia)(t,o,s,d,b,E,D,$),n._OrtEndProfiling=t=>(n._OrtEndProfiling=S.ja)(t),n._OrtTrainingLoadCheckpoint=(t,o)=>(n._OrtTrainingLoadCheckpoint=S.ka)(t,o),n._OrtTrainingReleaseCheckpoint=t=>(n._OrtTrainingReleaseCheckpoint=S.la)(t),n._OrtTrainingCreateSession=(t,o,s,d,b,E,D,$)=>(n._OrtTrainingCreateSession=S.ma)(t,o,s,d,b,E,D,$),n._OrtTrainingLazyResetGrad=t=>(n._OrtTrainingLazyResetGrad=S.na)(t),n._OrtTrainingRunTrainStep=(t,o,s,d,b,E)=>(n._OrtTrainingRunTrainStep=S.oa)(t,o,s,d,b,E),n._OrtTrainingOptimizerStep=(t,o)=>(n._OrtTrainingOptimizerStep=S.pa)(t,o),n._OrtTrainingEvalStep=(t,o,s,d,b,E)=>(n._OrtTrainingEvalStep=S.qa)(t,o,s,d,b,E),n._OrtTrainingGetParametersSize=(t,o,s)=>(n._OrtTrainingGetParametersSize=S.ra)(t,o,s),n._OrtTrainingCopyParametersToBuffer=(t,o,s,d)=>(n._OrtTrainingCopyParametersToBuffer=S.sa)(t,o,s,d),n._OrtTrainingCopyParametersFromBuffer=(t,o,s,d)=>(n._OrtTrainingCopyParametersFromBuffer=S.ta)(t,o,s,d),n._OrtTrainingGetModelInputOutputCount=(t,o,s,d)=>(n._OrtTrainingGetModelInputOutputCount=S.ua)(t,o,s,d),n._OrtTrainingGetModelInputOutputName=(t,o,s,d)=>(n._OrtTrainingGetModelInputOutputName=S.va)(t,o,s,d),n._OrtTrainingReleaseSession=t=>(n._OrtTrainingReleaseSession=S.wa)(t);var Qe=n._malloc=t=>(Qe=n._malloc=S.xa)(t);n._free=t=>(n._free=S.ya)(t);var He=t=>(He=S.Aa)(t),Ze=()=>(Ze=S.Ba)(),ze=t=>(ze=S.Ca)(t),A=t=>(A=S.Da)(t);function Ge(t){t=Object.assign({},t);var o=d=>()=>d()>>>0,s=d=>b=>d(b)>>>0;return t.__errno_location=o(t.__errno_location),t.malloc=s(t.malloc),t.stackSave=o(t.stackSave),t.stackAlloc=s(t.stackAlloc),t}n.stackAlloc=A,n.stackSave=Ze,n.stackRestore=ze,n.UTF8ToString=Re,n.stringToUTF8=(t,o,s)=>ke(t,V,o,s),n.lengthBytesUTF8=We;var Pe;re=function t(){Pe||Le(),Pe||(re=t)};function Le(){function t(){if(!Pe&&(Pe=!0,n.calledRun=!0,!he)){if(Se(be),y(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var o=n.postRun.shift();R.unshift(o)}Se(R)}}if(!(0<ce)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)T();Se(Oe),0<ce||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Le(),f.ready}})();typeof cr=="object"&&typeof Rt=="object"?Rt.exports=fr:typeof define=="function"&&define.amd&&define([],()=>fr)});var pr=rt(()=>{});var mr=rt(()=>{});var gr={};St(gr,{cpus:()=>en});var en,hr=vt(()=>{en=void 0});var br=rt((Or,Ct)=>{"use strict";var yr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(f={}){function n(){return R.buffer!=z.buffer&&me(),z}function y(){return R.buffer!=z.buffer&&me(),se}function c(){return R.buffer!=z.buffer&&me(),we}function w(){return R.buffer!=z.buffer&&me(),_e}function g(){return R.buffer!=z.buffer&&me(),De}var i=f,x,P;i.ready=new Promise((e,r)=>{x=e,P=r});var I=Object.assign({},i),W="./this.program",F=(e,r)=>{throw r},L=typeof window=="object",k=typeof importScripts=="function",C=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=i.ENVIRONMENT_IS_PTHREAD||!1,B="";function le(e){return i.locateFile?i.locateFile(e,B):B+e}var Be,pe,S;if(C){var he=(Tt(),nt(Et)),ye=(At(),nt(Mt));B=k?ye.dirname(B)+"/":__dirname+"/",Be=(r,a)=>(r=r.startsWith("file://")?new URL(r):ye.normalize(r),he.readFileSync(r,a?void 0:"utf8")),S=r=>(r=Be(r,!0),r.buffer||(r=new Uint8Array(r)),r),pe=(r,a,l,O=!0)=>{r=r.startsWith("file://")?new URL(r):ye.normalize(r),he.readFile(r,O?void 0:"utf8",(h,v)=>{h?l(h):a(O?v.buffer:v)})},!i.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(r,a)=>{throw process.exitCode=r,a},i.inspect=()=>"[Emscripten Module object]";let e;try{e=pr()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(L||k)&&(k?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof u<"u"&&u&&(B=u),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",C||(Be=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},k&&(S=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),pe=(e,r,a)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):a()},l.onerror=a,l.send(null)}));C&&typeof performance>"u"&&(global.performance=mr().performance);var V=console.log.bind(console),M=console.error.bind(console);C&&(V=(...e)=>he.writeSync(1,e.join(" ")+`\n`),M=(...e)=>he.writeSync(2,e.join(" ")+`\n`));var X=i.print||V,te=i.printErr||M;Object.assign(i,I),I=null,i.thisProgram&&(W=i.thisProgram),i.quit&&(F=i.quit);var Oe;i.wasmBinary&&(Oe=i.wasmBinary);var be=i.noExitRuntime||!0;typeof WebAssembly!="object"&&ge("no native wasm support detected");var R,T,ce,oe=!1,re,z,se,we,_e,De;function me(){var e=R.buffer;i.HEAP8=z=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=we=new Int32Array(e),i.HEAPU8=se=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=_e=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=De=new Float64Array(e)}var Ae=i.INITIAL_MEMORY||16777216;if(5242880<=Ae||ge("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ae+"! (STACK_SIZE=5242880)"),_)R=i.wasmMemory;else if(i.wasmMemory)R=i.wasmMemory;else if(R=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(R.buffer instanceof SharedArrayBuffer))throw te("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),C&&te("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Ae=R.buffer.byteLength;var ve,ie=[],Se=[],K=[],Q=0;function Ee(){return be||0<Q}var de=0,Ie=null,Re=null;function We(){de++,i.monitorRunDependencies&&i.monitorRunDependencies(de)}function ke(){if(de--,i.monitorRunDependencies&&i.monitorRunDependencies(de),de==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),Re)){var e=Re;Re=null,e()}}function ge(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",te(e),oe=!0,re=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}function je(e){return e.startsWith("data:application/octet-stream;base64,")}var Ce;Ce="ort-wasm-threaded.wasm",je(Ce)||(Ce=le(Ce));function $e(e){if(e==Ce&&Oe)return new Uint8Array(Oe);if(S)return S(e);throw"both async and sync fetching of the wasm failed"}function qe(e){if(!Oe&&(L||k)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>$e(e));if(pe)return new Promise((r,a)=>{pe(e,l=>r(new Uint8Array(l)),a)})}return Promise.resolve().then(()=>$e(e))}function Ve(e,r,a){return qe(e).then(l=>WebAssembly.instantiate(l,r)).then(l=>l).then(a,l=>{te("failed to asynchronously prepare wasm: "+l),ge(l)})}function Je(e,r){var a=Ce;return Oe||typeof WebAssembly.instantiateStreaming!="function"||je(a)||a.startsWith("file://")||C||typeof fetch!="function"?Ve(a,e,r):fetch(a,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(O){return te("wasm streaming compile failed: "+O),te("falling back to ArrayBuffer instantiation"),Ve(a,e,r)}))}var Fe;function xe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ne(e){e.terminate(),e.onmessage=()=>{}}function it(e){(e=A.La[e])||ge(),A.lb(e)}function Xe(e){var r=A.fb();if(!r)return 6;A.Oa.push(r),A.La[e.Na]=r,r.Na=e.Na;var a={cmd:"run",start_routine:e.mb,arg:e.eb,pthread_ptr:e.Na};return C&&r.unref(),r.postMessage(a,e.sb),0}var st=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Qe=(e,r,a)=>{r>>>=0;var l=r+a;for(a=r;e[a]&&!(a>=l);)++a;if(16<a-r&&e.buffer&&st)return st.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(l="";r<a;){var O=e[r++];if(O&128){var h=e[r++]&63;if((O&224)==192)l+=String.fromCharCode((O&31)<<6|h);else{var v=e[r++]&63;O=(O&240)==224?(O&15)<<12|h<<6|v:(O&7)<<18|h<<12|v<<6|e[r++]&63,65536>O?l+=String.fromCharCode(O):(O-=65536,l+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else l+=String.fromCharCode(O)}return l},He=(e,r)=>(e>>>=0)?Qe(y(),e,r):"";function Ze(e){if(_)return G(1,1,e);re=e,Ee()||(A.nb(),i.onExit&&i.onExit(e),oe=!0),F(e,new xe(e))}var ze=e=>{if(re=e,_)throw Pe(e),"unwind";Ze(e)},A={Ra:[],Oa:[],Za:[],La:{},Va:function(){_?A.hb():A.gb()},gb:function(){ie.unshift(()=>{We(),A.ib(()=>ke())})},hb:function(){A.receiveObjectTransfer=A.kb,A.threadInitTLS=A.Ya,A.setExitStatus=A.Xa,be=!1},Xa:function(e){re=e},xb:["$terminateWorker"],nb:function(){for(var e of A.Oa)Ne(e);for(e of A.Ra)Ne(e);A.Ra=[],A.Oa=[],A.La=[]},lb:function(e){var r=e.Na;delete A.La[r],A.Ra.push(e),A.Oa.splice(A.Oa.indexOf(e),1),e.Na=0,yt(r)},kb:function(){},Ya:function(){A.Za.forEach(e=>e())},jb:e=>new Promise(r=>{e.onmessage=h=>{h=h.data;var v=h.cmd;if(h.targetThread&&h.targetThread!=lt()){var Y=A.La[h.wb];Y?Y.postMessage(h,h.transferList):te(\'Internal error! Worker sent a message "\'+v+\'" to target pthread \'+h.targetThread+", but that thread no longer exists!")}else v==="checkMailbox"?ut():v==="spawnThread"?Xe(h):v==="cleanupThread"?it(h.thread):v==="killThread"?(h=h.thread,v=A.La[h],delete A.La[h],Ne(v),yt(h),A.Oa.splice(A.Oa.indexOf(v),1),v.Na=0):v==="cancelThread"?A.La[h.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,r(e)):v==="alert"?alert("Thread "+h.threadId+": "+h.text):h.target==="setimmediate"?e.postMessage(h):v==="callHandler"?i[h.handler](...h.args):v&&te("worker sent an unknown command "+v)},e.onerror=h=>{throw te("worker sent an error! "+h.filename+":"+h.lineno+": "+h.message),h},C&&(e.on("message",function(h){e.onmessage({data:h})}),e.on("error",function(h){e.onerror(h)}));var a=[],l=["onExit","onAbort","print","printErr"],O;for(O of l)i.hasOwnProperty(O)&&a.push(O);e.postMessage({cmd:"load",handlers:a,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:R,wasmModule:ce})}),ib:function(e){e()},cb:function(){var e=le("ort-wasm-threaded.worker.js");e=new Worker(e),A.Ra.push(e)},fb:function(){return A.Ra.length==0&&(A.cb(),A.jb(A.Ra[0])),A.Ra.pop()}};i.PThread=A;var Ge=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=lt(),r=c()[e+52>>2>>>0];e=c()[e+56>>2>>>0],or(r,r-e),ft(r)};function Pe(e){if(_)return G(2,0,e);ze(e)}var Le=[];i.invokeEntryPoint=function(e,r){var a=Le[e];a||(e>=Le.length&&(Le.length=e+1),Le[e]=a=ve.get(e)),e=a(r),Ee()?A.Xa(e):Ot(e)};function t(e){this.Ua=e-24,this.bb=function(r){w()[this.Ua+4>>2>>>0]=r},this.ab=function(r){w()[this.Ua+8>>2>>>0]=r},this.Va=function(r,a){this.$a(),this.bb(r),this.ab(a)},this.$a=function(){w()[this.Ua+16>>2>>>0]=0}}var o=0,s=0;function d(e,r,a,l){return _?G(3,1,e,r,a,l):b(e,r,a,l)}function b(e,r,a,l){if(e>>>=0,r>>>=0,a>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return te("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var O=[];return _&&O.length===0?d(e,r,a,l):(e={mb:a,Na:e,eb:l,sb:O},_?(e.ub="spawnThread",postMessage(e,O),0):Xe(e))}function E(e,r,a){return _?G(4,1,e,r,a):0}function D(e,r){if(_)return G(5,1,e,r)}var $=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++a):r+=3}return r},ue=(e,r,a,l)=>{if(a>>>=0,!(0<l))return 0;var O=a;l=a+l-1;for(var h=0;h<e.length;++h){var v=e.charCodeAt(h);if(55296<=v&&57343>=v){var Y=e.charCodeAt(++h);v=65536+((v&1023)<<10)|Y&1023}if(127>=v){if(a>=l)break;r[a++>>>0]=v}else{if(2047>=v){if(a+1>=l)break;r[a++>>>0]=192|v>>6}else{if(65535>=v){if(a+2>=l)break;r[a++>>>0]=224|v>>12}else{if(a+3>=l)break;r[a++>>>0]=240|v>>18,r[a++>>>0]=128|v>>12&63}r[a++>>>0]=128|v>>6&63}r[a++>>>0]=128|v&63}}return r[a>>>0]=0,a-O},ne=(e,r,a)=>ue(e,y(),r,a);function ae(e,r){if(_)return G(6,1,e,r)}function Ke(e,r,a){if(_)return G(7,1,e,r,a)}function et(e,r,a){return _?G(8,1,e,r,a):0}function p(e,r){if(_)return G(9,1,e,r)}function U(e,r,a){if(_)return G(10,1,e,r,a)}function H(e,r,a,l){if(_)return G(11,1,e,r,a,l)}function Te(e,r,a,l){if(_)return G(12,1,e,r,a,l)}function tt(e,r,a,l){if(_)return G(13,1,e,r,a,l)}function Ut(e){if(_)return G(14,1,e)}function Bt(e,r){if(_)return G(15,1,e,r)}function Wt(e,r,a){if(_)return G(16,1,e,r,a)}var Nr=e=>{if(!oe)try{if(e(),!Ee())try{_?Ot(re):ze(re)}catch(r){r instanceof xe||r=="unwind"||F(1,r)}}catch(r){r instanceof xe||r=="unwind"||F(1,r)}};function pt(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(c(),e>>2,e).value.then(ut),e+=128,Atomics.store(c(),e>>2,1))}i.__emscripten_thread_mailbox_await=pt;function ut(){var e=lt();e&&(pt(e),Nr(()=>nr()))}i.checkMailbox=ut;var Ye=e=>e%4===0&&(e%100!==0||e%400===0),kt=[0,31,60,91,121,152,182,213,244,274,305,335],Nt=[0,31,59,90,120,151,181,212,243,273,304,334];function Ht(e,r,a,l,O,h,v,Y){return _?G(17,1,e,r,a,l,O,h,v,Y):-52}function zt(e,r,a,l,O,h,v){if(_)return G(18,1,e,r,a,l,O,h,v)}var Gt=e=>{var r=$(e)+1,a=er(r);return a&&ne(e,a,r),a},Hr=e=>{var r=bt();return e=e(),ft(r),e};function G(e,r){var a=arguments.length-2,l=arguments;return Hr(()=>{for(var O=wt(8*a),h=O>>3,v=0;v<a;v++){var Y=l[2+v];g()[h+v>>>0]=Y}return rr(e,a,O,r)})}var mt=[],gt={},Yt=()=>{if(!ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},r;for(r in gt)gt[r]===void 0?delete e[r]:e[r]=gt[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);ht=a}return ht},ht;function jt(e,r){if(_)return G(19,1,e,r);e>>>=0,r>>>=0;var a=0;return Yt().forEach(function(l,O){var h=r+a;for(O=w()[e+4*O>>2>>>0]=h,h=0;h<l.length;++h)n()[O++>>0>>>0]=l.charCodeAt(h);n()[O>>0>>>0]=0,a+=l.length+1}),0}function $t(e,r){if(_)return G(20,1,e,r);e>>>=0,r>>>=0;var a=Yt();w()[e>>2>>>0]=a.length;var l=0;return a.forEach(function(O){l+=O.length+1}),w()[r>>2>>>0]=l,0}function qt(e){return _?G(21,1,e):52}function Vt(e,r,a,l){return _?G(22,1,e,r,a,l):52}function Jt(e,r,a,l,O){return _?G(23,1,e,r,a,l,O):70}var zr=[null,[],[]];function Xt(e,r,a,l){if(_)return G(24,1,e,r,a,l);r>>>=0,a>>>=0,l>>>=0;for(var O=0,h=0;h<a;h++){var v=w()[r>>2>>>0],Y=w()[r+4>>2>>>0];r+=8;for(var Me=0;Me<Y;Me++){var ee=y()[v+Me>>>0],fe=zr[e];ee===0||ee===10?((e===1?X:te)(Qe(fe,0)),fe.length=0):fe.push(ee)}O+=Y}return w()[l>>2>>>0]=O,0}var Qt=[31,29,31,30,31,30,31,31,30,31,30,31],Zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Gr(e){var r=Array($(e)+1);return ue(e,r,0,r.length),r}var Yr=(e,r)=>{n().set(e,r>>>0)};function Kt(e,r,a,l){function O(m,N,j){for(m=typeof m=="number"?m.toString():m||"";m.length<N;)m=j[0]+m;return m}function h(m,N){return O(m,N,"0")}function v(m,N){function j(lr){return 0>lr?-1:0<lr?1:0}var Ue;return(Ue=j(m.getFullYear()-N.getFullYear()))===0&&(Ue=j(m.getMonth()-N.getMonth()))===0&&(Ue=j(m.getDate()-N.getDate())),Ue}function Y(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function Me(m){var N=m.Pa;for(m=new Date(new Date(m.Qa+1900,0,1).getTime());0<N;){var j=m.getMonth(),Ue=(Ye(m.getFullYear())?Qt:Zt)[j];if(N>Ue-m.getDate())N-=Ue-m.getDate()+1,m.setDate(1),11>j?m.setMonth(j+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+N);break}}return j=new Date(m.getFullYear()+1,0,4),N=Y(new Date(m.getFullYear(),0,4)),j=Y(j),0>=v(N,m)?0>=v(j,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,l>>>=0;var ee=c()[l+40>>2>>>0];l={qb:c()[l>>2>>>0],pb:c()[l+4>>2>>>0],Sa:c()[l+8>>2>>>0],Wa:c()[l+12>>2>>>0],Ta:c()[l+16>>2>>>0],Qa:c()[l+20>>2>>>0],Ma:c()[l+24>>2>>>0],Pa:c()[l+28>>2>>>0],yb:c()[l+32>>2>>>0],ob:c()[l+36>>2>>>0],rb:ee?He(ee):""},a=He(a),ee={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in ee)a=a.replace(new RegExp(fe,"g"),ee[fe]);var sr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");ee={"%a":m=>sr[m.Ma].substring(0,3),"%A":m=>sr[m.Ma],"%b":m=>ur[m.Ta].substring(0,3),"%B":m=>ur[m.Ta],"%C":m=>h((m.Qa+1900)/100|0,2),"%d":m=>h(m.Wa,2),"%e":m=>O(m.Wa,2," "),"%g":m=>Me(m).toString().substring(2),"%G":m=>Me(m),"%H":m=>h(m.Sa,2),"%I":m=>(m=m.Sa,m==0?m=12:12<m&&(m-=12),h(m,2)),"%j":m=>{for(var N=0,j=0;j<=m.Ta-1;N+=(Ye(m.Qa+1900)?Qt:Zt)[j++]);return h(m.Wa+N,3)},"%m":m=>h(m.Ta+1,2),"%M":m=>h(m.pb,2),"%n":()=>`\n`,"%p":m=>0<=m.Sa&&12>m.Sa?"AM":"PM","%S":m=>h(m.qb,2),"%t":()=>"	","%u":m=>m.Ma||7,"%U":m=>h(Math.floor((m.Pa+7-m.Ma)/7),2),"%V":m=>{var N=Math.floor((m.Pa+7-(m.Ma+6)%7)/7);if(2>=(m.Ma+371-m.Pa-2)%7&&N++,N)N==53&&(j=(m.Ma+371-m.Pa)%7,j==4||j==3&&Ye(m.Qa)||(N=1));else{N=52;var j=(m.Ma+7-m.Pa-1)%7;(j==4||j==5&&Ye(m.Qa%400-1))&&N++}return h(N,2)},"%w":m=>m.Ma,"%W":m=>h(Math.floor((m.Pa+7-(m.Ma+6)%7)/7),2),"%y":m=>(m.Qa+1900).toString().substring(2),"%Y":m=>m.Qa+1900,"%z":m=>{m=m.ob;var N=0<=m;return m=Math.abs(m)/60,(N?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.rb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(fe in ee)a.includes(fe)&&(a=a.replace(new RegExp(fe,"g"),ee[fe](l)));return a=a.replace(/\\0\\0/g,"%"),fe=Gr(a),fe.length>r?0:(Yr(fe,e),fe.length-1)}A.Va();var jr=[null,Ze,Pe,d,E,D,ae,Ke,et,p,U,H,Te,tt,Ut,Bt,Wt,Ht,zt,jt,$t,qt,Vt,Jt,Xt],$r={b:function(e,r,a){throw e>>>=0,new t(e).Va(r>>>0,a>>>0),o=e,s++,o},N:function(e){tr(e>>>0,!k,1,!L,131072,!1),A.Ya()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):it(e)},I:b,h:E,T:D,D:ae,F:Ke,U:et,R:p,J:U,Q:H,n:Te,E:tt,B:Ut,S:Bt,C:Wt,q:()=>!0,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>ut()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=A.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:pt,p:function(e){C&&A.La[e>>>0].ref()},t:function(e,r,a){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,a>>>=0,e=new Date(1e3*e),c()[a>>2>>>0]=e.getUTCSeconds(),c()[a+4>>2>>>0]=e.getUTCMinutes(),c()[a+8>>2>>>0]=e.getUTCHours(),c()[a+12>>2>>>0]=e.getUTCDate(),c()[a+16>>2>>>0]=e.getUTCMonth(),c()[a+20>>2>>>0]=e.getUTCFullYear()-1900,c()[a+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[a+28>>2>>>0]=e},u:function(e,r,a){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,a>>>=0,e=new Date(1e3*e),c()[a>>2>>>0]=e.getSeconds(),c()[a+4>>2>>>0]=e.getMinutes(),c()[a+8>>2>>>0]=e.getHours(),c()[a+12>>2>>>0]=e.getDate(),c()[a+16>>2>>>0]=e.getMonth(),c()[a+20>>2>>>0]=e.getFullYear()-1900,c()[a+24>>2>>>0]=e.getDay(),r=(Ye(e.getFullYear())?kt:Nt)[e.getMonth()]+e.getDate()-1|0,c()[a+28>>2>>>0]=r,c()[a+36>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=l&&e.getTimezoneOffset()==Math.min(l,r))|0,c()[a+32>>2>>>0]=e},v:function(e){e>>>=0;var r=new Date(c()[e+20>>2>>>0]+1900,c()[e+16>>2>>>0],c()[e+12>>2>>>0],c()[e+8>>2>>>0],c()[e+4>>2>>>0],c()[e>>2>>>0],0),a=c()[e+32>>2>>>0],l=r.getTimezoneOffset(),O=new Date(r.getFullYear(),6,1).getTimezoneOffset(),h=new Date(r.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(h,O);return 0>a?c()[e+32>>2>>>0]=+(O!=h&&v==l):0<a!=(v==l)&&(O=Math.max(h,O),r.setTime(r.getTime()+6e4*((0<a?v:O)-l))),c()[e+24>>2>>>0]=r.getDay(),a=(Ye(r.getFullYear())?kt:Nt)[r.getMonth()]+r.getDate()-1|0,c()[e+28>>2>>>0]=a,c()[e>>2>>>0]=r.getSeconds(),c()[e+4>>2>>>0]=r.getMinutes(),c()[e+8>>2>>>0]=r.getHours(),c()[e+12>>2>>>0]=r.getDate(),c()[e+16>>2>>>0]=r.getMonth(),c()[e+20>>2>>>0]=r.getYear(),e=r.getTime()/1e3,ar((Fe=e,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),e>>>0},r:Ht,s:zt,y:function(e,r,a){function l(ee){return(ee=ee.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ee[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var O=new Date().getFullYear(),h=new Date(O,0,1),v=new Date(O,6,1);O=h.getTimezoneOffset();var Y=v.getTimezoneOffset(),Me=Math.max(O,Y);w()[e>>2>>>0]=60*Me,c()[r>>2>>>0]=+(O!=Y),e=l(h),r=l(v),e=Gt(e),r=Gt(r),Y<O?(w()[a>>2>>>0]=e,w()[a+4>>2>>>0]=r):(w()[a>>2>>>0]=r,w()[a+4>>2>>>0]=e)},c:()=>{ge("")},k:function(){},i:function(){return Date.now()},o:()=>{throw Q+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return C?(hr(),nt(gr)).cpus().length:navigator.hardwareConcurrency},K:function(e,r,a,l){for(A.vb=r>>>0,mt.length=a,r=l>>>0>>3,l=0;l<a;l++)mt[l]=g()[r+l>>>0];return jr[e].apply(null,mt)},x:function(e){e>>>=0;var r=y().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var l=r*(1+.2/a);l=Math.min(l,e+100663296);var O=Math;l=Math.max(e,l);e:{O=O.min.call(O,4294901760,l+(65536-l%65536)%65536)-R.buffer.byteLength+65535>>>16;try{R.grow(O),me();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},O:jt,P:$t,H:ze,g:qt,m:Vt,w:Jt,l:Xt,a:R||i.wasmMemory,G:Kt,d:function(e,r,a,l){return Kt(e>>>0,r>>>0,a>>>0,l>>>0)}};(function(){function e(a,l){return a=a.exports,T=a=qr(a),A.Za.push(T.ya),ve=T.za,Se.unshift(T.V),ce=l,ke(),a}var r={a:$r};if(We(),i.instantiateWasm)try{return i.instantiateWasm(r,e)}catch(a){te("Module.instantiateWasm callback failed with error: "+a),P(a)}return Je(r,function(a){e(a.instance,a.module)}).catch(P),{}})(),i._OrtInit=(e,r)=>(i._OrtInit=T.W)(e,r),i._OrtGetLastError=(e,r)=>(i._OrtGetLastError=T.X)(e,r),i._OrtCreateSessionOptions=(e,r,a,l,O,h,v,Y,Me,ee)=>(i._OrtCreateSessionOptions=T.Y)(e,r,a,l,O,h,v,Y,Me,ee),i._OrtAppendExecutionProvider=(e,r)=>(i._OrtAppendExecutionProvider=T.Z)(e,r),i._OrtAddFreeDimensionOverride=(e,r,a)=>(i._OrtAddFreeDimensionOverride=T._)(e,r,a),i._OrtAddSessionConfigEntry=(e,r,a)=>(i._OrtAddSessionConfigEntry=T.$)(e,r,a),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,r,a)=>(i._OrtCreateSession=T.ba)(e,r,a),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,r,a)=>(i._OrtGetInputOutputCount=T.da)(e,r,a),i._OrtGetInputName=(e,r)=>(i._OrtGetInputName=T.ea)(e,r),i._OrtGetOutputName=(e,r)=>(i._OrtGetOutputName=T.fa)(e,r),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,r,a,l,O,h)=>(i._OrtCreateTensor=T.ha)(e,r,a,l,O,h),i._OrtGetTensorData=(e,r,a,l,O)=>(i._OrtGetTensorData=T.ia)(e,r,a,l,O),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,r,a,l)=>(i._OrtCreateRunOptions=T.ka)(e,r,a,l),i._OrtAddRunConfigEntry=(e,r,a)=>(i._OrtAddRunConfigEntry=T.la)(e,r,a),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,r,a)=>(i._OrtBindInput=T.oa)(e,r,a),i._OrtBindOutput=(e,r,a,l)=>(i._OrtBindOutput=T.pa)(e,r,a,l),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,r,a,l,O)=>(i._OrtRunWithBinding=T.sa)(e,r,a,l,O),i._OrtRun=(e,r,a,l,O,h,v,Y)=>(i._OrtRun=T.ta)(e,r,a,l,O,h,v,Y),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var lt=i._pthread_self=()=>(lt=i._pthread_self=T.va)(),er=i._malloc=e=>(er=i._malloc=T.wa)(e);i._free=e=>(i._free=T.xa)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.ya)();var tr=i.__emscripten_thread_init=(e,r,a,l,O,h)=>(tr=i.__emscripten_thread_init=T.Aa)(e,r,a,l,O,h);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ba)();var rr=(e,r,a,l)=>(rr=T.Ca)(e,r,a,l),yt=e=>(yt=T.Da)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Ea)(e),nr=i.__emscripten_check_mailbox=()=>(nr=i.__emscripten_check_mailbox=T.Fa)(),ar=e=>(ar=T.Ga)(e),or=(e,r)=>(or=T.Ha)(e,r),bt=()=>(bt=T.Ia)(),ft=e=>(ft=T.Ja)(e),wt=e=>(wt=T.Ka)(e);function qr(e){e=Object.assign({},e);var r=l=>()=>l()>>>0,a=l=>O=>l(O)>>>0;return e.__errno_location=r(e.__errno_location),e.pthread_self=r(e.pthread_self),e.malloc=a(e.malloc),e.stackSave=r(e.stackSave),e.stackAlloc=a(e.stackAlloc),e}i.keepRuntimeAlive=Ee,i.wasmMemory=R,i.stackAlloc=wt,i.stackSave=bt,i.stackRestore=ft,i.UTF8ToString=He,i.stringToUTF8=ne,i.lengthBytesUTF8=$,i.ExitStatus=xe,i.PThread=A;var ct;Re=function e(){ct||ir(),ct||(Re=e)};function ir(){function e(){if(!ct&&(ct=!0,i.calledRun=!0,!oe)&&(_||Ge(Se),x(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!_)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var r=i.postRun.shift();K.unshift(r)}Ge(K)}}if(!(0<de))if(_)x(i),_||Ge(Se),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ie.unshift(i.preRun.shift());Ge(ie),0<de||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return ir(),f.ready}})();typeof Or=="object"&&typeof Ct=="object"?Ct.exports=yr:typeof define=="function"&&define.amd&&define([],()=>yr)});var wr=rt((On,tn)=>{tn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var vr;vr=dr();var rn=br(),Dt,It=!1,dt=!1,_r=!1,nn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},an=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},on=(u,f)=>u?"ort-training-wasm-simd.wasm":f?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sr=async u=>{if(It)return Promise.resolve();if(dt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(_r)throw new Error("previous call to \'initializeWebAssembly()\' failed.");dt=!0;let f=u.initTimeout,n=u.numThreads,y=u.simd,c=n>1&&nn(),w=y&&an(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,x=on(w,c),P=typeof g=="object"?g[x]:void 0,I=!1,W=[];if(f>0&&W.push(new Promise(F=>{setTimeout(()=>{I=!0,F()},f)})),W.push(new Promise((F,L)=>{let k=c?rn:vr,C={locateFile:(_,B)=>c&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([wr()],{type:"text/javascript"})):_.endsWith(".wasm")?P||(i??B)+x:B+_};if(c)if(typeof Blob>"u")C.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${k.toString()};`;C.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}k(C).then(_=>{dt=!1,It=!0,Dt=_,F()},_=>{dt=!1,_r=!0,L(_)})})),await Promise.race(W),I)throw new Error(`WebAssembly backend initializing failed due to timeout: ${f}ms`)},J=()=>{if(It&&Dt)return Dt;throw new Error("WebAssembly is not initialized yet.")};var Z=(u,f)=>{let n=J(),y=n.lengthBytesUTF8(u)+1,c=n._malloc(y);return n.stringToUTF8(u,c,y),f.push(c),c},at=(u,f,n,y)=>{if(typeof u=="object"&&u!==null){if(n.has(u))throw new Error("Circular reference in options");n.add(u)}Object.entries(u).forEach(([c,w])=>{let g=f?f+c:c;if(typeof w=="object")at(w,g+".",n,y);else if(typeof w=="string"||typeof w=="number")y(g,w.toString());else if(typeof w=="boolean")y(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},q=u=>{let f=J(),n=f.stackSave();try{let y=f.stackAlloc(8);f._OrtGetLastError(y,y+4);let c=f.HEAP32[y/4],w=f.HEAPU32[y/4+1],g=w?f.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${c}, ERROR_MESSAGE: ${g}`)}finally{f.stackRestore(n)}};var Er=u=>{let f=J(),n=0,y=[],c=u||{};try{if(u?.logSeverityLevel===void 0)c.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)c.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(c.terminate=!1);let w=0;return u?.tag!==void 0&&(w=Z(u.tag,y)),n=f._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,w),n===0&&q("Can\'t create run options."),u?.extra!==void 0&&at(u.extra,"",new WeakSet,(g,i)=>{let x=Z(g,y),P=Z(i,y);f._OrtAddRunConfigEntry(n,x,P)!==0&&q(`Can\'t set a run config entry: ${g} - ${i}.`)}),[n,y]}catch(w){throw n!==0&&f._OrtReleaseRunOptions(n),y.forEach(g=>f._free(g)),w}};var sn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},un=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},ln=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let f=u.extra.session;f.use_ort_model_bytes_directly||(f.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(u.enableMemPattern=!1)},fn=(u,f,n)=>{for(let y of f){let c=typeof y=="string"?y:y.name;switch(c){case"xnnpack":c="XNNPACK";break;case"webnn":if(c="WEBNN",typeof y!="string"){let g=y;if(g?.deviceType){let i=Z("deviceType",n),x=Z(g.deviceType,n);J()._OrtAddSessionConfigEntry(u,i,x)!==0&&q(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.powerPreference){let i=Z("powerPreference",n),x=Z(g.powerPreference,n);J()._OrtAddSessionConfigEntry(u,i,x)!==0&&q(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(c="JS",typeof y!="string"){let g=y;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=Z("preferredLayout",n),x=Z(g.preferredLayout,n);J()._OrtAddSessionConfigEntry(u,i,x)!==0&&q(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${c}`)}let w=Z(c,n);J()._OrtAppendExecutionProvider(u,w)!==0&&q(`Can\'t append execution provider: ${c}.`)}},Tr=u=>{let f=J(),n=0,y=[],c=u||{};ln(c);try{let w=sn(c.graphOptimizationLevel??"all"),g=un(c.executionMode??"sequential"),i=typeof c.logId=="string"?Z(c.logId,y):0,x=c.logSeverityLevel??2;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log serverity level is not valid: ${x}`);let P=c.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let I=typeof c.optimizedModelFilePath=="string"?Z(c.optimizedModelFilePath,y):0;if(n=f._OrtCreateSessionOptions(w,!!c.enableCpuMemArena,!!c.enableMemPattern,g,!!c.enableProfiling,0,i,x,P,I),n===0&&q("Can\'t create session options."),c.executionProviders&&fn(n,c.executionProviders,y),c.freeDimensionOverrides)for(let[W,F]of Object.entries(c.freeDimensionOverrides)){if(typeof W!="string")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let L=Z(W,y);f._OrtAddFreeDimensionOverride(n,L,F)!==0&&q(`Can\'t set a free dimension override: ${W} - ${F}.`)}return c.extra!==void 0&&at(c.extra,"",new WeakSet,(W,F)=>{let L=Z(W,y),k=Z(F,y);f._OrtAddSessionConfigEntry(n,L,k)!==0&&q(`Can\'t set a session config entry: ${W} - ${F}.`)}),[n,y]}catch(w){throw n!==0&&f._OrtReleaseSessionOptions(n),y.forEach(g=>f._free(g)),w}};var Ft=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Mr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},xt=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Ar=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Rr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Cr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Dr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Fr=!1,cn=u=>{let f=J(),n=f.stackSave();try{let y=f.stackAlloc(8);return f._OrtGetInputOutputCount(u,y,y+4)!==0&&q("Can\'t get session input/output count."),[f.HEAP32[y/4],f.HEAP32[y/4+1]]}finally{f.stackRestore(n)}},dn=(u,f)=>{J()._OrtInit(u,f)!==0&&q("Can\'t initialize onnxruntime.")},xr=async u=>{dn(u.wasm.numThreads,Rr(u.logLevel)),Fr=!0},ot=new Map,Pr=()=>Fr,Pt=u=>{let f=J(),n=f._malloc(u.byteLength);if(n===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return f.HEAPU8.set(u,n),[n,u.byteLength]},Lt=(u,f)=>{let n=J(),y=0,c=0,w=0,g=[],i=[],x=[];try{[c,g]=Tr(f),y=n._OrtCreateSession(u[0],u[1],c),y===0&&q("Can\'t create a session.");let[P,I]=cn(y),W=[],F=[],L=[];for(let C=0;C<P;C++){let _=n._OrtGetInputName(y,C);_===0&&q("Can\'t get an input name."),i.push(_),W.push(n.UTF8ToString(_))}for(let C=0;C<I;C++){let _=n._OrtGetOutputName(y,C);_===0&&q("Can\'t get an output name."),x.push(_);let B=n.UTF8ToString(_);F.push(B)}let k=null;return ot.set(y,[y,i,x,k]),[y,W,F]}catch(P){throw i.forEach(I=>n._OrtFree(I)),x.forEach(I=>n._OrtFree(I)),w!==0&&n._OrtReleaseBinding(w),y!==0&&n._OrtReleaseSession(y),P}finally{n._free(u[0]),c!==0&&n._OrtReleaseSessionOptions(c),g.forEach(P=>n._free(P))}},Lr=(u,f)=>{let n=Pt(u);return Lt(n,f)},Ur=u=>{let f=J(),n=ot.get(u);if(!n)throw new Error(`cannot release session. invalid session id: ${u}`);let[y,c,w,g]=n;g&&f._OrtReleaseBinding(g.handle),f.jsepUnregisterBuffers?.(u),c.forEach(i=>f._OrtFree(i)),w.forEach(i=>f._OrtFree(i)),f._OrtReleaseSession(y),ot.delete(u)},Ir=(u,f,n,y,c)=>{if(!u){f.push(0);return}let w=J(),g=u[0],i=u[1],x=u[3],P,I;if(g==="string"&&x==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(x==="gpu-buffer"){let L=u[2].gpuBuffer,k=xt(Ft(g));I=i.reduce((C,_)=>C*_,1)*k,P=w.jsepRegisterBuffer(y,c,L,I)}else{let L=u[2];if(Array.isArray(L)){I=4*L.length,P=w._malloc(I),n.push(P);let k=P/4;for(let C=0;C<L.length;C++){if(typeof L[C]!="string")throw new TypeError(`tensor data at index ${C} is not a string`);w.HEAPU32[k++]=Z(L[C],n)}}else I=L.byteLength,P=w._malloc(I),n.push(P),w.HEAPU8.set(new Uint8Array(L.buffer,L.byteOffset,I),P)}let W=w.stackSave(),F=w.stackAlloc(4*i.length);try{let L=F/4;i.forEach(C=>w.HEAP32[L++]=C);let k=w._OrtCreateTensor(Ft(g),P,I,F,i.length,Dr(x));k===0&&q(`Can\'t create tensor for input/output. session=${y}, index=${c}.`),f.push(k)}finally{w.stackRestore(W)}},Br=async(u,f,n,y,c,w)=>{let g=J(),i=ot.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let[x,P,I,W]=i,F=f.length,L=y.length,k=0,C=[],_=[],B=[],le=[],Be=g.stackSave(),pe=g.stackAlloc(F*4),S=g.stackAlloc(F*4),he=g.stackAlloc(L*4),ye=g.stackAlloc(L*4);try{[k,C]=Er(w);for(let R=0;R<F;R++)Ir(n[R],_,le,u,f[R]);for(let R=0;R<L;R++)Ir(c[R],B,le,u,F+y[R]);let V=pe/4,M=S/4,X=he/4,te=ye/4;for(let R=0;R<F;R++)g.HEAPU32[V++]=_[R],g.HEAPU32[M++]=P[f[R]];for(let R=0;R<L;R++)g.HEAPU32[X++]=B[R],g.HEAPU32[te++]=I[y[R]];let Oe;Oe=await g._OrtRun(x,S,pe,F,ye,L,he,k),Oe!==0&&q("failed to call OrtRun().");let be=[];for(let R=0;R<L;R++){let T=g.HEAPU32[he/4+R];if(T===B[R]){be.push(c[R]);continue}let ce=g.stackSave(),oe=g.stackAlloc(4*4),re=!1,z,se=0;try{g._OrtGetTensorData(T,oe,oe+4,oe+8,oe+12)!==0&&q(`Can\'t access output tensor data on index ${R}.`);let _e=oe/4,De=g.HEAPU32[_e++];se=g.HEAPU32[_e++];let me=g.HEAPU32[_e++],Ae=g.HEAPU32[_e++],ve=[];for(let K=0;K<Ae;K++)ve.push(g.HEAPU32[me/4+K]);g._OrtFree(me);let ie=ve.reduce((K,Q)=>K*Q,1);z=Mr(De);let Se=W?.outputPreferredLocations[y[R]];if(z==="string"){if(Se==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],Q=se/4;for(let Ee=0;Ee<ie;Ee++){let de=g.HEAPU32[Q++],Ie=Ee===ie-1?void 0:g.HEAPU32[Q]-de;K.push(g.UTF8ToString(de,Ie))}be.push([z,ve,K,"cpu"])}else if(Se==="gpu-buffer"&&ie>0){let K=g.jsepGetBuffer(se),Q=xt(De);if(Q===void 0||!Cr(z))throw new Error(`Unsupported data type: ${z}`);re=!0,be.push([z,ve,{gpuBuffer:K,download:g.jsepCreateDownloader(K,ie*Q,z),dispose:()=>{g._OrtReleaseTensor(T)}},"gpu-buffer"])}else{let K=Ar(z),Q=new K(ie);new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength).set(g.HEAPU8.subarray(se,se+Q.byteLength)),be.push([z,ve,Q,"cpu"])}}finally{g.stackRestore(ce),z==="string"&&se&&g._free(se),re||g._OrtReleaseTensor(T)}}return W&&g._OrtClearBoundOutputs(W.handle),be}finally{g.stackRestore(Be),_.forEach(V=>g._OrtReleaseTensor(V)),B.forEach(V=>g._OrtReleaseTensor(V)),le.forEach(V=>g._free(V)),k!==0&&g._OrtReleaseRunOptions(k),C.forEach(V=>g._free(V))}},Wr=u=>{let f=J(),n=ot.get(u);if(!n)throw new Error("invalid session id");let y=n[0],c=f._OrtEndProfiling(y);c===0&&q("Can\'t get an profile file name."),f._OrtFree(c)},kr=u=>{let f=[];for(let n of u){let y=n[2];!Array.isArray(y)&&"buffer"in y&&f.push(y.buffer)}return f};self.onmessage=u=>{switch(u.data.type){case"init-wasm":try{Sr(u.data.in).then(()=>postMessage({type:"init-wasm"}),f=>postMessage({type:"init-wasm",err:f}))}catch(f){postMessage({type:"init-wasm",err:f})}break;case"init-ort":try{xr(u.data.in).then(()=>postMessage({type:"init-ort"}),f=>postMessage({type:"init-ort",err:f}))}catch(f){postMessage({type:"init-ort",err:f})}break;case"create_allocate":try{let{model:f}=u.data.in,n=Pt(f);postMessage({type:"create_allocate",out:n})}catch(f){postMessage({type:"create_allocate",err:f})}break;case"create_finalize":try{let{modeldata:f,options:n}=u.data.in,y=Lt(f,n);postMessage({type:"create_finalize",out:y})}catch(f){postMessage({type:"create_finalize",err:f})}break;case"create":try{let{model:f,options:n}=u.data.in,y=Lr(f,n);postMessage({type:"create",out:y})}catch(f){postMessage({type:"create",err:f})}break;case"release":try{let f=u.data.in;Ur(f),postMessage({type:"release"})}catch(f){postMessage({type:"release",err:f})}break;case"run":try{let{sessionId:f,inputIndices:n,inputs:y,outputIndices:c,options:w}=u.data.in;Br(f,n,y,c,w).then(g=>{postMessage({type:"run",out:g},kr(g))},g=>{postMessage({type:"run",err:g})})}catch(f){postMessage({type:"run",err:f})}break;case"end-profiling":try{let f=u.data.in;Wr(f),postMessage({type:"end-profiling"})}catch(f){postMessage({type:"end-profiling",err:f})}break;case"is-ort-env-initialized":try{let f=Pr();postMessage({type:"is-ort-env-initialized",out:f})}catch(f){postMessage({type:"is-ort-env-initialized",err:f})}break;default:}};})();\n'});var Be,ge,Ht,Rr,Ir,wr,Or,_r,vr,Sr,Er,Tr,Ar,Mr,We,ao,Nt,ua,la,fa,ca,Cr,da,pa,ma,ha,Pr=N(()=>{"use strict";He();br();Ve();Be=()=>!!$.wasm.proxy&&typeof document<"u",Ht=!1,Rr=!1,Ir=!1,_r=[],vr=[],Sr=[],Er=[],Tr=[],Ar=[],Mr=[],We=()=>{if(Ht||!Rr||Ir||!ge)throw new Error("worker not ready")},ao=r=>{switch(r.data.type){case"init-wasm":Ht=!1,r.data.err?(Ir=!0,wr[1](r.data.err)):(Rr=!0,wr[0]());break;case"init-ort":r.data.err?Or[1](r.data.err):Or[0]();break;case"create_allocate":r.data.err?_r.shift()[1](r.data.err):_r.shift()[0](r.data.out);break;case"create_finalize":r.data.err?vr.shift()[1](r.data.err):vr.shift()[0](r.data.out);break;case"create":r.data.err?Sr.shift()[1](r.data.err):Sr.shift()[0](r.data.out);break;case"release":r.data.err?Er.shift()[1](r.data.err):Er.shift()[0]();break;case"run":r.data.err?Tr.shift()[1](r.data.err):Tr.shift()[0](r.data.out);break;case"end-profiling":r.data.err?Ar.shift()[1](r.data.err):Ar.shift()[0]();break;case"is-ort-env-initialized":r.data.err?Mr.shift()[1](r.data.err):Mr.shift()[0](r.data.out);break;default:}},Nt=typeof document<"u"?document?.currentScript?.src:void 0,ua=async()=>{if(Be()){if(Rr)return;if(Ht)throw new Error("multiple calls to 'initWasm()' detected.");if(Ir)throw new Error("previous call to 'initWasm()' failed.");return Ht=!0,$.wasm.wasmPaths===void 0&&Nt&&Nt.indexOf("blob:")!==0&&($.wasm.wasmPaths=Nt.substr(0,+Nt.lastIndexOf("/")+1)),new Promise((r,n)=>{ge?.terminate();let t=URL.createObjectURL(new Blob([sa()],{type:"text/javascript"}));ge=new Worker(t,{name:"ort-wasm-proxy-worker"}),ge.onerror=s=>n(s),ge.onmessage=ao,URL.revokeObjectURL(t),wr=[r,n];let f={type:"init-wasm",in:$.wasm};ge.postMessage(f)})}else return Vn($.wasm)},la=async r=>{if(Be())return We(),new Promise((n,t)=>{Or=[n,t];let f={type:"init-ort",in:r};ge.postMessage(f)});await kt(r)},fa=async r=>Be()?(We(),new Promise((n,t)=>{_r.push([n,t]);let f={type:"create_allocate",in:{model:r}};ge.postMessage(f,[r.buffer])})):Ot(r),ca=async(r,n)=>Be()?(We(),new Promise((t,f)=>{vr.push([t,f]);let s={type:"create_finalize",in:{modeldata:r,options:n}};ge.postMessage(s)})):yr(r,n),Cr=async(r,n)=>{if(Be()){if(n?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return We(),new Promise((t,f)=>{Sr.push([t,f]);let s={type:"create",in:{model:r,options:n}};ge.postMessage(s,[r.buffer])})}else return ra(r,n)},da=async r=>{if(Be())return We(),new Promise((n,t)=>{Er.push([n,t]);let f={type:"release",in:r};ge.postMessage(f)});na(r)},pa=async(r,n,t,f,s,p)=>{if(Be()){if(t.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(s.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return We(),new Promise((d,i)=>{Tr.push([d,i]);let b=t,h={type:"run",in:{sessionId:r,inputIndices:n,inputs:b,outputIndices:f,options:p}};ge.postMessage(h,ia(b))})}else return aa(r,n,t,f,s,p)},ma=async r=>{if(Be())return We(),new Promise((n,t)=>{Ar.push([n,t]);let f={type:"end-profiling",in:r};ge.postMessage(f)});oa(r)},ha=async()=>Be()?(We(),new Promise((r,n)=>{Mr.push([r,n]);let t={type:"is-ort-env-initialized"};ge.postMessage(t)})):Lt()});var Wt,ga,oo,zt,ya=N(()=>{"use strict";He();Pr();gr();ga=(r,n)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${n()}`)}},oo=r=>{switch(r[3]){case"cpu":return new De(r[0],r[2],r[1]);case"gpu-buffer":{let n=r[0];if(!Bt(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);let{gpuBuffer:t,download:f,dispose:s}=r[2];return De.fromGpuBuffer(t,{dataType:n,dims:r[1],download:f,dispose:s})}default:throw new Error(`invalid data location: ${r[3]}`)}},zt=class{async createSessionAllocate(n){let t=await fetch(n);if(t.status!==200)throw new Error(`failed to load model: ${n}`);let f=await t.arrayBuffer();return fa(new Uint8Array(f))}async loadModel(n,t){if(await ha()||(Wt||(Wt=la($)),await Wt,Wt=void 0),typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let f=await(void 0)(n);[this.sessionId,this.inputNames,this.outputNames]=await Cr(f,t)}else{let f=await this.createSessionAllocate(n);[this.sessionId,this.inputNames,this.outputNames]=await ca(f,t)}else[this.sessionId,this.inputNames,this.outputNames]=await Cr(n,t)}async dispose(){return da(this.sessionId)}async run(n,t,f){let s=[],p=[];Object.entries(n).forEach(_=>{let T=_[0],B=_[1],C=this.inputNames.indexOf(T);if(C===-1)throw new Error(`invalid input '${T}'`);s.push(B),p.push(C)});let d=[],i=[];Object.entries(t).forEach(_=>{let T=_[0],B=_[1],C=this.outputNames.indexOf(T);if(C===-1)throw new Error(`invalid output '${T}'`);d.push(B),i.push(C)});let b=s.map((_,T)=>ga(_,()=>`input "${this.inputNames[p[T]]}"`)),h=d.map((_,T)=>_?ga(_,()=>`output "${this.outputNames[i[T]]}"`):null),O=await pa(this.sessionId,p,b,i,h,f),S={};for(let _=0;_<O.length;_++)S[this.outputNames[i[_]]]=d[_]??oo(O[_]);return S}startProfiling(){}endProfiling(){ma(this.sessionId)}}});var io,Gt,ba=N(()=>{"use strict";He();Pr();ya();io=()=>{if((typeof $.wasm.initTimeout!="number"||$.wasm.initTimeout<0)&&($.wasm.initTimeout=0),typeof $.wasm.simd!="boolean"&&($.wasm.simd=!0),typeof $.wasm.proxy!="boolean"&&($.wasm.proxy=!1),typeof $.wasm.numThreads!="number"||!Number.isInteger($.wasm.numThreads)||$.wasm.numThreads<=0){let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;$.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},Gt=class{async init(){io(),await ua()}async createInferenceSessionHandler(n,t){let f=new zt;return await f.loadModel(n,t),Promise.resolve(f)}}});var jt,Oa,so,wa,uo,_a,va,Sa=N(()=>{"use strict";pr();Ve();bt();jt="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",Oa=r=>{let n=z(),[t,f]=r,s=0;try{if(n._OrtTrainingLoadCheckpoint)s=n._OrtTrainingLoadCheckpoint(t,f);else throw new Error(jt);return s===0&&G("Error occurred when trying to create a CheckpointState."),s}catch(p){throw n._OrtTrainingReleaseCheckpoint&&s!==0&&n._OrtTrainingReleaseCheckpoint(s),p}finally{n._OrtFree(r[0])}},so=(r,n)=>{let t=z(),f=t.stackSave();try{let s=t.stackAlloc(8);if(t._OrtTrainingGetModelInputOutputCount)return t._OrtTrainingGetModelInputOutputCount(r,s,s+4,n)!==0&&G("Can't get session input/output count."),[t.HEAP32[s/4],t.HEAP32[s/4+1]];throw new Error(jt)}finally{t.stackRestore(f)}},wa=(r,n,t,f)=>{let s=[],p=z(),d=[];for(let i=0;i<n;i++)if(p._OrtTrainingGetModelInputOutputName){let b=p._OrtTrainingGetModelInputOutputName(r,i,t,f);b===0&&G("Can't get input or output name"),d.push(b),s.push(p.UTF8ToString(b))}else throw new Error(jt);return[s,d]},uo=r=>{let[n,t]=so(r,!1),[f,s]=wa(r,n,!0,!1),[p,d]=wa(r,t,!1,!1);return[f,s,p,d]},_a=(r,n,t,f,s)=>{let p=z(),d=0,i=0,b=[],h=[],O=[],S=[],_=[];try{if([i,b]=Ut(s),p._OrtTrainingCreateSession)d=p._OrtTrainingCreateSession(i,r,n[0],n[1],t[0],t[1],f[0],f[1]);else throw new Error(jt);return d===0&&G("Error occurred when trying to create a TrainingSession."),[S,h,_,O]=uo(d),[[d,S,_],h,O]}catch(T){throw p._OrtTrainingReleaseSession&&d!==0&&p._OrtTrainingReleaseSession(d),T}finally{p._free(n[0]),p._free(t[0]),p._free(f[0]),i!==0&&p._OrtReleaseSessionOptions(i),b.forEach(T=>p._free(T)),h.forEach(T=>p._OrtFree(T)),O.forEach(T=>p._OrtFree(T))}},va=(r,n,t,f)=>{let s=z();t.forEach(p=>s._OrtFree(p)),f.forEach(p=>s._OrtFree(p)),s._OrtTrainingReleaseSession&&s._OrtTrainingReleaseSession(n),s._OrtTrainingReleaseCheckpoint&&s._OrtTrainingReleaseCheckpoint(r)}});var Yt,Ea=N(()=>{"use strict";He();br();Sa();Yt=class{async loadParametersBuffer(n,t){throw new Error("Method not implemented.")}async getContiguousParameters(n){throw new Error("Method not implemented.")}async uriOrBufferToHeap(n){let t;if(typeof n=="string"){let s=await(await fetch(n)).arrayBuffer();t=new Uint8Array(s)}else t=n;return Ot(t)}async createTrainingSession(n,t,f,s,p){Lt()||await kt($);let d=await this.uriOrBufferToHeap(n),i=await this.uriOrBufferToHeap(t),b=[0,0],h=[0,0];f!==""&&(b=await this.uriOrBufferToHeap(f)),s!==""&&(h=await this.uriOrBufferToHeap(s)),this.checkpointId=Oa(d),[[this.sessionId,this.inputNames,this.outputNames],this.inputEncodedNames,this.outputEncodedNames]=_a(this.checkpointId,i,b,h,p)}async dispose(){return va(this.checkpointId,this.sessionId,this.inputEncodedNames,this.outputEncodedNames)}async runTrainStep(n,t,f){throw new Error("Method not implemented yet.")}}});var Ta={};mt(Ta,{wasmBackend:()=>lo});var Dr,lo,Aa=N(()=>{"use strict";ba();Ea();Dr=class extends Gt{async createTrainingSessionHandler(n,t,f,s,p){let d=new Yt;return await d.createTrainingSession(n,t,f,s,p),Promise.resolve(d)}},lo=new Dr});He();He();He();var xn="1.17.0";var Qi=ar;{let r=(Aa(),rt(Ta)).wasmBackend;ht("cpu",r,10),ht("wasm",r,10)}Object.defineProperty($.versions,"web",{value:xn,enumerable:!0});export{Na as InferenceSession,De as Tensor,Wa as TrainingSession,Qi as default,$ as env,ht as registerBackend};
//# sourceMappingURL=ort.training.wasm.min.js.map
