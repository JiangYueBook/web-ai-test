/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var $t=Object.defineProperty;var Sa=Object.getOwnPropertyDescriptor;var Ea=Object.getOwnPropertyNames;var Ta=Object.prototype.hasOwnProperty;var N=(r,o)=>()=>(r&&(o=r(r=0)),o);var Ke=(r,o)=>()=>(o||r((o={exports:{}}).exports,o),o.exports),St=(r,o)=>{for(var t in o)$t(r,t,{get:o[t],enumerable:!0})},Aa=(r,o,t,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of Ea(o))!Ta.call(r,s)&&s!==t&&$t(r,s,{get:()=>o[s],enumerable:!(c=Sa(o,s))||c.enumerable});return r};var et=r=>Aa($t({},"__esModule",{value:!0}),r);var Et,je,Tt,Qr,Vt=N(()=>{"use strict";Et=new Map,je=[],Tt=(r,o,t)=>{if(o&&typeof o.init=="function"&&typeof o.createInferenceSessionHandler=="function"){let c=Et.get(r);if(c===void 0)Et.set(r,{backend:o,priority:t});else{if(c.priority>t)return;if(c.priority===t&&c.backend!==o)throw new Error(`cannot register backend "${r}" using priority ${t}`)}if(t>=0){let s=je.indexOf(r);s!==-1&&je.splice(s,1);for(let w=0;w<je.length;w++)if(Et.get(je[w]).priority<=t){je.splice(w,0,r);return}je.push(r)}return}throw new TypeError("not a valid backend")},Qr=async r=>{let o=r.length===0?je:r,t=[];for(let c of o){let s=Et.get(c);if(s){if(s.initialized)return s.backend;if(s.aborted)continue;let w=!!s.initPromise;try{return w||(s.initPromise=s.backend.init()),await s.initPromise,s.initialized=!0,s.backend}catch(p){w||t.push({name:c,err:p}),s.aborted=!0}finally{delete s.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(c=>`[${c.name}] ${c.err}`).join(", ")}`)}});var Zr=N(()=>{"use strict";Vt()});var Kr,en=N(()=>{"use strict";Kr="1.17.0"});var tn,qt,rn=N(()=>{"use strict";en();tn="warning",qt={wasm:{},webgl:{},webgpu:{},versions:{common:Kr},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);tn=r}},get logLevel(){return tn}};Object.defineProperty(qt,"logLevel",{enumerable:!0})});var q,nn=N(()=>{"use strict";rn();q=qt});var an,on,sn=N(()=>{"use strict";an=(r,o)=>{let t=document.createElement("canvas");t.width=r.dims[3],t.height=r.dims[2];let c=t.getContext("2d");if(c!=null){let s,w;o?.tensorLayout!==void 0&&o.tensorLayout==="NHWC"?(s=r.dims[2],w=r.dims[3]):(s=r.dims[3],w=r.dims[2]);let p=o?.format!==void 0?o.format:"RGB",i=o?.norm,b,y;i===void 0||i.mean===void 0?b=[255,255,255,255]:typeof i.mean=="number"?b=[i.mean,i.mean,i.mean,i.mean]:(b=[i.mean[0],i.mean[1],i.mean[2],0],i.mean[3]!==void 0&&(b[3]=i.mean[3])),i===void 0||i.bias===void 0?y=[0,0,0,0]:typeof i.bias=="number"?y=[i.bias,i.bias,i.bias,i.bias]:(y=[i.bias[0],i.bias[1],i.bias[2],0],i.bias[3]!==void 0&&(y[3]=i.bias[3]));let O=w*s,S=0,_=O,M=O*2,F=-1;p==="RGBA"?(S=0,_=O,M=O*2,F=O*3):p==="RGB"?(S=0,_=O,M=O*2):p==="RBG"&&(S=0,M=O,_=O*2);for(let D=0;D<w;D++)for(let T=0;T<s;T++){let L=(r.data[S++]-y[0])*b[0],z=(r.data[_++]-y[1])*b[1],oe=(r.data[M++]-y[2])*b[2],K=F===-1?255:(r.data[F++]-y[3])*b[3];c.fillStyle="rgba("+L+","+z+","+oe+","+K+")",c.fillRect(T,D,1,1)}return t.toDataURL()}else throw new Error("Can not access image data")},on=(r,o)=>{let t=document.createElement("canvas").getContext("2d"),c;if(t!=null){let s,w,p;o?.tensorLayout!==void 0&&o.tensorLayout==="NHWC"?(s=r.dims[2],w=r.dims[1],p=r.dims[3]):(s=r.dims[3],w=r.dims[2],p=r.dims[1]);let i=o!==void 0&&o.format!==void 0?o.format:"RGB",b=o?.norm,y,O;b===void 0||b.mean===void 0?y=[255,255,255,255]:typeof b.mean=="number"?y=[b.mean,b.mean,b.mean,b.mean]:(y=[b.mean[0],b.mean[1],b.mean[2],255],b.mean[3]!==void 0&&(y[3]=b.mean[3])),b===void 0||b.bias===void 0?O=[0,0,0,0]:typeof b.bias=="number"?O=[b.bias,b.bias,b.bias,b.bias]:(O=[b.bias[0],b.bias[1],b.bias[2],0],b.bias[3]!==void 0&&(O[3]=b.bias[3]));let S=w*s;if(o!==void 0&&(o.format!==void 0&&p===4&&o.format!=="RGBA"||p===3&&o.format!=="RGB"&&o.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let _=4,M=0,F=1,D=2,T=3,L=0,z=S,oe=S*2,K=-1;i==="RGBA"?(L=0,z=S,oe=S*2,K=S*3):i==="RGB"?(L=0,z=S,oe=S*2):i==="RBG"&&(L=0,oe=S,z=S*2),c=t.createImageData(s,w);for(let C=0;C<w*s;M+=_,F+=_,D+=_,T+=_,C++)c.data[M]=(r.data[L++]-O[0])*y[0],c.data[F]=(r.data[z++]-O[1])*y[1],c.data[D]=(r.data[oe++]-O[2])*y[2],c.data[T]=K===-1?255:(r.data[K++]-O[3])*y[3]}else throw new Error("Can not access image data");return c}});var Xt,un,fn,ln,cn,dn=N(()=>{"use strict";At();Xt=(r,o)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(o.height===void 0||o.width===void 0)throw new Error("Image height and width must be defined");if(o.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:c}=o,s=o.norm??{mean:255,bias:0},w,p;typeof s.mean=="number"?w=[s.mean,s.mean,s.mean,s.mean]:w=[s.mean[0],s.mean[1],s.mean[2],s.mean[3]??255],typeof s.bias=="number"?p=[s.bias,s.bias,s.bias,s.bias]:p=[s.bias[0],s.bias[1],s.bias[2],s.bias[3]??0];let i=o.format!==void 0?o.format:"RGBA",b=o.tensorFormat!==void 0&&o.tensorFormat!==void 0?o.tensorFormat:"RGB",y=t*c,O=b==="RGBA"?new Float32Array(y*4):new Float32Array(y*3),S=4,_=0,M=1,F=2,D=3,T=0,L=y,z=y*2,oe=-1;i==="RGB"&&(S=3,_=0,M=1,F=2,D=-1),b==="RGBA"?oe=y*3:b==="RBG"?(T=0,z=y,L=y*2):b==="BGR"&&(z=0,L=y,T=y*2);for(let C=0;C<y;C++,_+=S,F+=S,M+=S,D+=S)O[T++]=(r[_]+p[0])/w[0],O[L++]=(r[M]+p[1])/w[1],O[z++]=(r[F]+p[2])/w[2],oe!==-1&&D!==-1&&(O[oe++]=(r[D]+p[3])/w[3]);return b==="RGBA"?new me("float32",O,[1,4,t,c]):new me("float32",O,[1,3,t,c])},un=async(r,o)=>{let t=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,c=typeof ImageData<"u"&&r instanceof ImageData,s=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,w=typeof r=="string",p,i=o??{};if(t){let b=document.createElement("canvas");b.width=r.width,b.height=r.height;let y=b.getContext("2d");if(y!=null){let O=r.height,S=r.width;if(o!==void 0&&o.resizedHeight!==void 0&&o.resizedWidth!==void 0&&(O=o.resizedHeight,S=o.resizedWidth),o!==void 0){if(i=o,o.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");i.tensorFormat="RGBA",i.height=O,i.width=S}else i.tensorFormat="RGBA",i.height=O,i.width=S;y.drawImage(r,0,0),p=y.getImageData(0,0,S,O).data}else throw new Error("Can not access image data")}else if(c){let b,y;if(o!==void 0&&o.resizedWidth!==void 0&&o.resizedHeight!==void 0?(b=o.resizedHeight,y=o.resizedWidth):(b=r.height,y=r.width),o!==void 0&&(i=o),i.format="RGBA",i.height=b,i.width=y,o!==void 0){let O=document.createElement("canvas");O.width=y,O.height=b;let S=O.getContext("2d");if(S!=null)S.putImageData(r,0,0),p=S.getImageData(0,0,y,b).data;else throw new Error("Can not access image data")}else p=r.data}else if(s){if(o===void 0)throw new Error("Please provide image config with format for Imagebitmap");let b=document.createElement("canvas");b.width=r.width,b.height=r.height;let y=b.getContext("2d");if(y!=null){let O=r.height,S=r.width;return y.drawImage(r,0,0,S,O),p=y.getImageData(0,0,S,O).data,i.height=O,i.width=S,Xt(p,i)}else throw new Error("Can not access image data")}else{if(w)return new Promise((b,y)=>{let O=document.createElement("canvas"),S=O.getContext("2d");if(!r||!S)return y();let _=new Image;_.crossOrigin="Anonymous",_.src=r,_.onload=()=>{O.width=_.width,O.height=_.height,S.drawImage(_,0,0,O.width,O.height);let M=S.getImageData(0,0,O.width,O.height);i.height=O.height,i.width=O.width,b(Xt(M.data,i))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(p!==void 0)return Xt(p,i);throw new Error("Input data provided is not supported - aborted tensor creation")},fn=(r,o)=>{let{width:t,height:c,download:s,dispose:w}=o,p=[1,c,t,4];return new me({location:"texture",type:"float32",texture:r,dims:p,download:s,dispose:w})},ln=(r,o)=>{let{dataType:t,dims:c,download:s,dispose:w}=o;return new me({location:"gpu-buffer",type:t??"float32",gpuBuffer:r,dims:c,download:s,dispose:w})},cn=(r,o,t)=>new me({location:"cpu-pinned",type:r,data:o,dims:t??[o.length]})});var mt,Mt,pn,mn,hn=N(()=>{"use strict";mt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Mt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),pn=!1,mn=()=>{if(!pn){pn=!0;let r=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",o=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";r&&(mt.set("int64",BigInt64Array),Mt.set(BigInt64Array,"int64")),o&&(mt.set("uint64",BigUint64Array),Mt.set(BigUint64Array,"uint64"))}}});var gn,yn,wn=N(()=>{"use strict";At();gn=r=>{let o=1;for(let t=0;t<r.length;t++){let c=r[t];if(typeof c!="number"||!Number.isSafeInteger(c))throw new TypeError(`dims[${t}] must be an integer, got: ${c}`);if(c<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${c}`);o*=c}return o},yn=(r,o)=>{switch(r.location){case"cpu":return new me(r.type,r.data,o);case"cpu-pinned":return new me({location:"cpu-pinned",data:r.data,type:r.type,dims:o});case"texture":return new me({location:"texture",texture:r.texture,type:r.type,dims:o});case"gpu-buffer":return new me({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:o});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var me,At=N(()=>{"use strict";sn();dn();hn();wn();me=class{constructor(o,t,c){mn();let s,w;if(typeof o=="object"&&"location"in o)switch(this.dataLocation=o.location,s=o.type,w=o.dims,o.location){case"cpu-pinned":{let i=mt.get(s);if(!i)throw new TypeError(`unsupported type "${s}" to create tensor from pinned buffer`);if(!(o.data instanceof i))throw new TypeError(`buffer should be of type ${i.name}`);this.cpuData=o.data;break}case"texture":{if(s!=="float32")throw new TypeError(`unsupported type "${s}" to create tensor from texture`);this.gpuTextureData=o.texture,this.downloader=o.download,this.disposer=o.dispose;break}case"gpu-buffer":{if(s!=="float32"&&s!=="float16"&&s!=="int32"&&s!=="int64"&&s!=="uint32"&&s!=="bool")throw new TypeError(`unsupported type "${s}" to create tensor from gpu buffer`);this.gpuBufferData=o.gpuBuffer,this.downloader=o.download,this.disposer=o.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let i,b;if(typeof o=="string")if(s=o,b=c,o==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{let y=mt.get(o);if(y===void 0)throw new TypeError(`Unsupported tensor type: ${o}.`);if(Array.isArray(t)){if(o==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o==="uint64"||o==="int64"?i=y.from(t,BigInt):i=y.from(t)}else if(t instanceof y)i=t;else throw new TypeError(`A ${s} tensor's data must be type of ${y}`)}else if(b=t,Array.isArray(o)){if(o.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let y=typeof o[0];if(y==="string")s="string",i=o;else if(y==="boolean")s="bool",i=Uint8Array.from(o);else throw new TypeError(`Invalid element type of data array: ${y}.`)}else{let y=Mt.get(o.constructor);if(y===void 0)throw new TypeError(`Unsupported type for tensor data: ${o.constructor}.`);s=y,i=o}if(b===void 0)b=[i.length];else if(!Array.isArray(b))throw new TypeError("A tensor's dims must be a number array");w=b,this.cpuData=i,this.dataLocation="cpu"}let p=gn(w);if(this.cpuData&&p!==this.cpuData.length)throw new Error(`Tensor's size(${p}) does not match data length(${this.cpuData.length}).`);this.type=s,this.dims=w,this.size=p}static async fromImage(o,t){return un(o,t)}static fromTexture(o,t){return fn(o,t)}static fromGpuBuffer(o,t){return ln(o,t)}static fromPinnedBuffer(o,t,c){return cn(o,t,c)}toDataURL(o){return an(this,o)}toImageData(o){return on(this,o)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(o){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,o&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(o){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return yn(this,o)}}});var Ue,Jt=N(()=>{"use strict";At();Ue=me});var Rt,bn=N(()=>{"use strict";Vt();Jt();Rt=class r{constructor(o){this.handler=o}async run(o,t,c){let s={},w={};if(typeof o!="object"||o===null||o instanceof Ue||Array.isArray(o))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let p=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof Ue)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");p=!1;for(let y of t){if(typeof y!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(y)===-1)throw new RangeError(`'fetches' contains invalid output name: ${y}.`);s[y]=null}if(typeof c=="object"&&c!==null)w=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else{let y=!1,O=Object.getOwnPropertyNames(t);for(let S of this.outputNames)if(O.indexOf(S)!==-1){let _=t[S];(_===null||_ instanceof Ue)&&(y=!0,p=!1,s[S]=_)}if(y){if(typeof c=="object"&&c!==null)w=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else w=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let y of this.inputNames)if(typeof o[y]>"u")throw new Error(`input '${y}' is missing in 'feeds'.`);if(p)for(let y of this.outputNames)s[y]=null;let i=await this.handler.run(o,s,w),b={};for(let y in i)if(Object.hasOwnProperty.call(i,y)){let O=i[y];O instanceof Ue?b[y]=O:b[y]=new Ue(O.type,O.data,O.dims)}return b}async release(){return this.handler.dispose()}static async create(o,t,c,s){let w,p={};if(typeof o=="string"){if(w=o,typeof t=="object"&&t!==null)p=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof Uint8Array){if(w=o,typeof t=="object"&&t!==null)p=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&o instanceof SharedArrayBuffer){let S=o,_=0,M=o.byteLength;if(typeof t=="object"&&t!==null)p=t;else if(typeof t=="number"){if(_=t,!Number.isSafeInteger(_))throw new RangeError("'byteOffset' must be an integer.");if(_<0||_>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(M=o.byteLength-_,typeof c=="number"){if(M=c,!Number.isSafeInteger(M))throw new RangeError("'byteLength' must be an integer.");if(M<=0||_+M>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-_}].`);if(typeof s=="object"&&s!==null)p=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(typeof c<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");w=new Uint8Array(S,_,M)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let b=(p.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),O=await(await Qr(b)).createInferenceSessionHandler(w,p);return new r(O)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Oo,On=N(()=>{"use strict";bn();Oo=Rt});var vn=N(()=>{"use strict"});var Ct,_n=N(()=>{"use strict";Ct=class{constructor(o){this.handler=o}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(o,t){throw new Error("Method not implemented")}async loadParametersBuffer(o,t){throw new Error("Method not implemented.")}async getContiguousParameters(o){throw new Error("Method not implemented.")}async runTrainStep(o,t,c){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var Eo,Sn=N(()=>{"use strict";_n();Eo=Ct});var tt=N(()=>{"use strict";Zr();nn();On();Jt();vn();Sn()});var Qt={};St(Qt,{readFile:()=>Ma});var Ma,Zt=N(()=>{Ma=void 0});var Kt={};St(Kt,{join:()=>Ra});var Ra,er=N(()=>{Ra=void 0});var Mn=Ke((An,tr)=>{"use strict";var Tn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(o={}){var t=o,c,s;t.ready=new Promise((n,f)=>{c=n,s=f});var w=Object.assign({},t),p="./this.program",i=typeof window=="object",b=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="",S,_,M;if(y){var F=(Zt(),et(Qt)),D=(er(),et(Kt));O=b?D.dirname(O)+"/":__dirname+"/",S=(n,f)=>(n=n.startsWith("file://")?new URL(n):D.normalize(n),F.readFileSync(n,f?void 0:"utf8")),M=n=>(n=S(n,!0),n.buffer||(n=new Uint8Array(n)),n),_=(n,f,l,h=!0)=>{n=n.startsWith("file://")?new URL(n):D.normalize(n),F.readFile(n,h?void 0:"utf8",(A,P)=>{A?l(A):f(h?P.buffer:P)})},!t.thisProgram&&1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||b)&&(b?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),r&&(O=r),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",S=n=>{var f=new XMLHttpRequest;return f.open("GET",n,!1),f.send(null),f.responseText},b&&(M=n=>{var f=new XMLHttpRequest;return f.open("GET",n,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),_=(n,f,l)=>{var h=new XMLHttpRequest;h.open("GET",n,!0),h.responseType="arraybuffer",h.onload=()=>{h.status==200||h.status==0&&h.response?f(h.response):l()},h.onerror=l,h.send(null)});var T=t.print||console.log.bind(console),L=t.printErr||console.error.bind(console);Object.assign(t,w),w=null,t.thisProgram&&(p=t.thisProgram);var z;t.wasmBinary&&(z=t.wasmBinary);var oe=t.noExitRuntime||!0;typeof WebAssembly!="object"&&j("no native wasm support detected");var K,C,ve=!1,_e,Q,I,ee;function ie(){var n=K.buffer;t.HEAP8=_e=new Int8Array(n),t.HEAP16=new Int16Array(n),t.HEAP32=I=new Int32Array(n),t.HEAPU8=Q=new Uint8Array(n),t.HEAPU16=new Uint16Array(n),t.HEAPU32=ee=new Uint32Array(n),t.HEAPF32=new Float32Array(n),t.HEAPF64=new Float64Array(n)}var Se=[],Ee=[],U=[];function x(){var n=t.preRun.shift();Se.unshift(n)}var ge=0,le=null,se=null;function j(n){throw t.onAbort&&t.onAbort(n),n="Aborted("+n+")",L(n),ve=!0,n=new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info."),s(n),n}function de(n){return n.startsWith("data:application/octet-stream;base64,")}var Te;if(Te="ort-training-wasm-simd.wasm",!de(Te)){var Ae=Te;Te=t.locateFile?t.locateFile(Ae,O):O+Ae}function Fe(n){if(n==Te&&z)return new Uint8Array(z);if(M)return M(n);throw"both async and sync fetching of the wasm failed"}function be(n){if(!z&&(i||b)){if(typeof fetch=="function"&&!n.startsWith("file://"))return fetch(n,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+n+"'";return f.arrayBuffer()}).catch(()=>Fe(n));if(_)return new Promise((f,l)=>{_(n,h=>f(new Uint8Array(h)),l)})}return Promise.resolve().then(()=>Fe(n))}function xe(n,f,l){return be(n).then(h=>WebAssembly.instantiate(h,f)).then(h=>h).then(l,h=>{L("failed to asynchronously prepare wasm: "+h),j(h)})}function Me(n,f){var l=Te;return z||typeof WebAssembly.instantiateStreaming!="function"||de(l)||l.startsWith("file://")||y||typeof fetch!="function"?xe(l,n,f):fetch(l,{credentials:"same-origin"}).then(h=>WebAssembly.instantiateStreaming(h,n).then(f,function(A){return L("wasm streaming compile failed: "+A),L("falling back to ArrayBuffer instantiation"),xe(l,n,f)}))}var ce,Re=n=>{for(;0<n.length;)n.shift()(t)};function ne(n){this.Ha=n-24,this.La=function(f){ee[this.Ha+4>>2>>>0]=f},this.Ka=function(f){ee[this.Ha+8>>2>>>0]=f},this.Ia=function(f,l){this.Ja(),this.La(f),this.Ka(l)},this.Ja=function(){ee[this.Ha+16>>2>>>0]=0}}var te=0,Ce=0,ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Le=(n,f,l)=>{f>>>=0;var h=f+l;for(l=f;n[l]&&!(l>=h);)++l;if(16<l-f&&n.buffer&&ye)return ye.decode(n.subarray(f,l));for(h="";f<l;){var A=n[f++];if(A&128){var P=n[f++]&63;if((A&224)==192)h+=String.fromCharCode((A&31)<<6|P);else{var k=n[f++]&63;A=(A&240)==224?(A&15)<<12|P<<6|k:(A&7)<<18|P<<12|k<<6|n[f++]&63,65536>A?h+=String.fromCharCode(A):(A-=65536,h+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else h+=String.fromCharCode(A)}return h},Ie=(n,f)=>(n>>>=0)?Le(Q,n,f):"",$e=n=>{for(var f=0,l=0;l<n.length;++l){var h=n.charCodeAt(l);127>=h?f++:2047>=h?f+=2:55296<=h&&57343>=h?(f+=4,++l):f+=3}return f},Ve=(n,f,l,h)=>{if(l>>>=0,!(0<h))return 0;var A=l;h=l+h-1;for(var P=0;P<n.length;++P){var k=n.charCodeAt(P);if(55296<=k&&57343>=k){var X=n.charCodeAt(++P);k=65536+((k&1023)<<10)|X&1023}if(127>=k){if(l>=h)break;f[l++>>>0]=k}else{if(2047>=k){if(l+1>=h)break;f[l++>>>0]=192|k>>6}else{if(65535>=k){if(l+2>=h)break;f[l++>>>0]=224|k>>12}else{if(l+3>=h)break;f[l++>>>0]=240|k>>18,f[l++>>>0]=128|k>>12&63}f[l++>>>0]=128|k>>6&63}f[l++>>>0]=128|k&63}}return f[l>>>0]=0,l-A},Oe=n=>n%4===0&&(n%100!==0||n%400===0),nt=[0,31,60,91,121,152,182,213,244,274,305,335],Be=[0,31,59,90,120,151,181,212,243,273,304,334],at=n=>{var f=$e(n)+1,l=ft(f);return l&&Ve(n,Q,l,f),l},ot={},it=()=>{if(!st){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"},f;for(f in ot)ot[f]===void 0?delete n[f]:n[f]=ot[f];var l=[];for(f in n)l.push(`${f}=${n[f]}`);st=l}return st},st,ke=[null,[],[]],Ne=[31,29,31,30,31,30,31,31,30,31,30,31],qe=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(n){var f=Array($e(n)+1);return Ve(n,f,0,f.length),f}function ut(n,f,l,h){function A(m,W,G){for(m=typeof m=="number"?m.toString():m||"";m.length<W;)m=G[0]+m;return m}function P(m,W){return A(m,W,"0")}function k(m,W){function G(pt){return 0>pt?-1:0<pt?1:0}var De;return(De=G(m.getFullYear()-W.getFullYear()))===0&&(De=G(m.getMonth()-W.getMonth()))===0&&(De=G(m.getDate()-W.getDate())),De}function X(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function pe(m){var W=m.Ca;for(m=new Date(new Date(m.Da+1900,0,1).getTime());0<W;){var G=m.getMonth(),De=(Oe(m.getFullYear())?Ne:qe)[G];if(W>De-m.getDate())W-=De-m.getDate()+1,m.setDate(1),11>G?m.setMonth(G+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+W);break}}return G=new Date(m.getFullYear()+1,0,4),W=X(new Date(m.getFullYear(),0,4)),G=X(G),0>=k(W,m)?0>=k(G,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}n>>>=0,f>>>=0,l>>>=0,h>>>=0;var ue=I[h+40>>2>>>0];h={Oa:I[h>>2>>>0],Na:I[h+4>>2>>>0],Ea:I[h+8>>2>>>0],Ga:I[h+12>>2>>>0],Fa:I[h+16>>2>>>0],Da:I[h+20>>2>>>0],xa:I[h+24>>2>>>0],Ca:I[h+28>>2>>>0],Qa:I[h+32>>2>>>0],Ma:I[h+36>>2>>>0],Pa:ue?Ie(ue):""},l=Ie(l),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in ue)l=l.replace(new RegExp(fe,"g"),ue[fe]);var ct="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dt="January February March April May June July August September October November December".split(" ");ue={"%a":m=>ct[m.xa].substring(0,3),"%A":m=>ct[m.xa],"%b":m=>dt[m.Fa].substring(0,3),"%B":m=>dt[m.Fa],"%C":m=>P((m.Da+1900)/100|0,2),"%d":m=>P(m.Ga,2),"%e":m=>A(m.Ga,2," "),"%g":m=>pe(m).toString().substring(2),"%G":m=>pe(m),"%H":m=>P(m.Ea,2),"%I":m=>(m=m.Ea,m==0?m=12:12<m&&(m-=12),P(m,2)),"%j":m=>{for(var W=0,G=0;G<=m.Fa-1;W+=(Oe(m.Da+1900)?Ne:qe)[G++]);return P(m.Ga+W,3)},"%m":m=>P(m.Fa+1,2),"%M":m=>P(m.Na,2),"%n":()=>`
`,"%p":m=>0<=m.Ea&&12>m.Ea?"AM":"PM","%S":m=>P(m.Oa,2),"%t":()=>"	","%u":m=>m.xa||7,"%U":m=>P(Math.floor((m.Ca+7-m.xa)/7),2),"%V":m=>{var W=Math.floor((m.Ca+7-(m.xa+6)%7)/7);if(2>=(m.xa+371-m.Ca-2)%7&&W++,W)W==53&&(G=(m.xa+371-m.Ca)%7,G==4||G==3&&Oe(m.Da)||(W=1));else{W=52;var G=(m.xa+7-m.Ca-1)%7;(G==4||G==5&&Oe(m.Da%400-1))&&W++}return P(W,2)},"%w":m=>m.xa,"%W":m=>P(Math.floor((m.Ca+7-(m.xa+6)%7)/7),2),"%y":m=>(m.Da+1900).toString().substring(2),"%Y":m=>m.Da+1900,"%z":m=>{m=m.Ma;var W=0<=m;return m=Math.abs(m)/60,(W?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.Pa,"%%":()=>"%"},l=l.replace(/%%/g,"\0\0");for(fe in ue)l.includes(fe)&&(l=l.replace(new RegExp(fe,"g"),ue[fe](h)));return l=l.replace(/\0\0/g,"%"),fe=yt(l),fe.length>f?0:(_e.set(fe,n>>>0),fe.length-1)}var wt={a:function(n,f,l){throw n>>>=0,new ne(n).Ia(f>>>0,l>>>0),te=n,Ce++,te},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(n,f,l){n=f+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*f:NaN,l>>>=0,n=new Date(1e3*n),I[l>>2>>>0]=n.getUTCSeconds(),I[l+4>>2>>>0]=n.getUTCMinutes(),I[l+8>>2>>>0]=n.getUTCHours(),I[l+12>>2>>>0]=n.getUTCDate(),I[l+16>>2>>>0]=n.getUTCMonth(),I[l+20>>2>>>0]=n.getUTCFullYear()-1900,I[l+24>>2>>>0]=n.getUTCDay(),I[l+28>>2>>>0]=(n.getTime()-Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(n,f,l){n=f+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*f:NaN,l>>>=0,n=new Date(1e3*n),I[l>>2>>>0]=n.getSeconds(),I[l+4>>2>>>0]=n.getMinutes(),I[l+8>>2>>>0]=n.getHours(),I[l+12>>2>>>0]=n.getDate(),I[l+16>>2>>>0]=n.getMonth(),I[l+20>>2>>>0]=n.getFullYear()-1900,I[l+24>>2>>>0]=n.getDay(),I[l+28>>2>>>0]=(Oe(n.getFullYear())?nt:Be)[n.getMonth()]+n.getDate()-1|0,I[l+36>>2>>>0]=-(60*n.getTimezoneOffset()),f=new Date(n.getFullYear(),6,1).getTimezoneOffset();var h=new Date(n.getFullYear(),0,1).getTimezoneOffset();I[l+32>>2>>>0]=(f!=h&&n.getTimezoneOffset()==Math.min(h,f))|0},q:function(n){n>>>=0;var f=new Date(I[n+20>>2>>>0]+1900,I[n+16>>2>>>0],I[n+12>>2>>>0],I[n+8>>2>>>0],I[n+4>>2>>>0],I[n>>2>>>0],0),l=I[n+32>>2>>>0],h=f.getTimezoneOffset(),A=new Date(f.getFullYear(),6,1).getTimezoneOffset(),P=new Date(f.getFullYear(),0,1).getTimezoneOffset(),k=Math.min(P,A);return 0>l?I[n+32>>2>>>0]=+(A!=P&&k==h):0<l!=(k==h)&&(A=Math.max(P,A),f.setTime(f.getTime()+6e4*((0<l?k:A)-h))),I[n+24>>2>>>0]=f.getDay(),I[n+28>>2>>>0]=(Oe(f.getFullYear())?nt:Be)[f.getMonth()]+f.getDate()-1|0,I[n>>2>>>0]=f.getSeconds(),I[n+4>>2>>>0]=f.getMinutes(),I[n+8>>2>>>0]=f.getHours(),I[n+12>>2>>>0]=f.getDate(),I[n+16>>2>>>0]=f.getMonth(),I[n+20>>2>>>0]=f.getYear(),n=f.getTime()/1e3,Xe((ce=n,1<=+Math.abs(ce)?0<ce?+Math.floor(ce/4294967296)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)),n>>>0},m:function(){return-52},n:function(){},t:function(n,f,l){function h(pe){return(pe=pe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?pe[1]:"GMT"}l>>>=0;var A=new Date().getFullYear(),P=new Date(A,0,1),k=new Date(A,6,1);A=P.getTimezoneOffset();var X=k.getTimezoneOffset();ee[n>>>0>>2>>>0]=60*Math.max(A,X),I[f>>>0>>2>>>0]=+(A!=X),n=h(P),f=h(k),n=at(n),f=at(f),X<A?(ee[l>>2>>>0]=n,ee[l+4>>2>>>0]=f):(ee[l>>2>>>0]=f,ee[l+4>>2>>>0]=n)},d:()=>{j("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(n,f,l){return f>>>=0,Q.copyWithin(n>>>0>>>0,f>>>0,f+(l>>>0)>>>0)},s:function(n){n>>>=0;var f=Q.length;if(4294901760<n)return!1;for(var l=1;4>=l;l*=2){var h=f*(1+.2/l);h=Math.min(h,n+100663296);var A=Math;h=Math.max(n,h);e:{A=A.min.call(A,4294901760,h+(65536-h%65536)%65536)-K.buffer.byteLength+65535>>>16;try{K.grow(A),ie();var P=1;break e}catch{}P=void 0}if(P)return!0}return!1},C:function(n,f){n>>>=0,f>>>=0;var l=0;return it().forEach(function(h,A){var P=f+l;for(A=ee[n+4*A>>2>>>0]=P,P=0;P<h.length;++P)_e[A++>>0>>>0]=h.charCodeAt(P);_e[A>>0>>>0]=0,l+=h.length+1}),0},D:function(n,f){n>>>=0,f>>>=0;var l=it();ee[n>>2>>>0]=l.length;var h=0;return l.forEach(function(A){h+=A.length+1}),ee[f>>2>>>0]=h,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(n,f,l,h){f>>>=0,l>>>=0,h>>>=0;for(var A=0,P=0;P<l;P++){var k=ee[f>>2>>>0],X=ee[f+4>>2>>>0];f+=8;for(var pe=0;pe<X;pe++){var ue=Q[k+pe>>>0],fe=ke[n];ue===0||ue===10?((n===1?T:L)(Le(fe,0)),fe.length=0):fe.push(ue)}A+=X}return ee[h>>2>>>0]=A,0},A:ut,c:function(n,f,l,h){return ut(n>>>0,f>>>0,l>>>0,h>>>0)}};(function(){function n(l){if(l=l.exports,C=l=Qe(l),K=C.J,ie(),Ee.unshift(C.K),ge--,t.monitorRunDependencies&&t.monitorRunDependencies(ge),ge==0&&(le!==null&&(clearInterval(le),le=null),se)){var h=se;se=null,h()}return l}var f={a:wt};if(ge++,t.monitorRunDependencies&&t.monitorRunDependencies(ge),t.instantiateWasm)try{return t.instantiateWasm(f,n)}catch(l){L("Module.instantiateWasm callback failed with error: "+l),s(l)}return Me(f,function(l){n(l.instance)}).catch(s),{}})(),t._OrtInit=(n,f)=>(t._OrtInit=C.L)(n,f),t._OrtGetLastError=(n,f)=>(t._OrtGetLastError=C.M)(n,f),t._OrtCreateSessionOptions=(n,f,l,h,A,P,k,X,pe,ue)=>(t._OrtCreateSessionOptions=C.N)(n,f,l,h,A,P,k,X,pe,ue),t._OrtAppendExecutionProvider=(n,f)=>(t._OrtAppendExecutionProvider=C.O)(n,f),t._OrtAddFreeDimensionOverride=(n,f,l)=>(t._OrtAddFreeDimensionOverride=C.P)(n,f,l),t._OrtAddSessionConfigEntry=(n,f,l)=>(t._OrtAddSessionConfigEntry=C.Q)(n,f,l),t._OrtReleaseSessionOptions=n=>(t._OrtReleaseSessionOptions=C.R)(n),t._OrtCreateSession=(n,f,l)=>(t._OrtCreateSession=C.S)(n,f,l),t._OrtReleaseSession=n=>(t._OrtReleaseSession=C.T)(n),t._OrtGetInputOutputCount=(n,f,l)=>(t._OrtGetInputOutputCount=C.U)(n,f,l),t._OrtGetInputName=(n,f)=>(t._OrtGetInputName=C.V)(n,f),t._OrtGetOutputName=(n,f)=>(t._OrtGetOutputName=C.W)(n,f),t._OrtFree=n=>(t._OrtFree=C.X)(n),t._OrtCreateTensor=(n,f,l,h,A,P)=>(t._OrtCreateTensor=C.Y)(n,f,l,h,A,P),t._OrtGetTensorData=(n,f,l,h,A)=>(t._OrtGetTensorData=C.Z)(n,f,l,h,A),t._OrtReleaseTensor=n=>(t._OrtReleaseTensor=C._)(n),t._OrtCreateRunOptions=(n,f,l,h)=>(t._OrtCreateRunOptions=C.$)(n,f,l,h),t._OrtAddRunConfigEntry=(n,f,l)=>(t._OrtAddRunConfigEntry=C.aa)(n,f,l),t._OrtReleaseRunOptions=n=>(t._OrtReleaseRunOptions=C.ba)(n),t._OrtCreateBinding=n=>(t._OrtCreateBinding=C.ca)(n),t._OrtBindInput=(n,f,l)=>(t._OrtBindInput=C.da)(n,f,l),t._OrtBindOutput=(n,f,l,h)=>(t._OrtBindOutput=C.ea)(n,f,l,h),t._OrtClearBoundOutputs=n=>(t._OrtClearBoundOutputs=C.fa)(n),t._OrtReleaseBinding=n=>(t._OrtReleaseBinding=C.ga)(n),t._OrtRunWithBinding=(n,f,l,h,A)=>(t._OrtRunWithBinding=C.ha)(n,f,l,h,A),t._OrtRun=(n,f,l,h,A,P,k,X)=>(t._OrtRun=C.ia)(n,f,l,h,A,P,k,X),t._OrtEndProfiling=n=>(t._OrtEndProfiling=C.ja)(n),t._OrtTrainingLoadCheckpoint=(n,f)=>(t._OrtTrainingLoadCheckpoint=C.ka)(n,f),t._OrtTrainingReleaseCheckpoint=n=>(t._OrtTrainingReleaseCheckpoint=C.la)(n),t._OrtTrainingCreateSession=(n,f,l,h,A,P,k,X)=>(t._OrtTrainingCreateSession=C.ma)(n,f,l,h,A,P,k,X),t._OrtTrainingLazyResetGrad=n=>(t._OrtTrainingLazyResetGrad=C.na)(n),t._OrtTrainingRunTrainStep=(n,f,l,h,A,P)=>(t._OrtTrainingRunTrainStep=C.oa)(n,f,l,h,A,P),t._OrtTrainingOptimizerStep=(n,f)=>(t._OrtTrainingOptimizerStep=C.pa)(n,f),t._OrtTrainingEvalStep=(n,f,l,h,A,P)=>(t._OrtTrainingEvalStep=C.qa)(n,f,l,h,A,P),t._OrtTrainingGetParametersSize=(n,f,l)=>(t._OrtTrainingGetParametersSize=C.ra)(n,f,l),t._OrtTrainingCopyParametersToBuffer=(n,f,l,h)=>(t._OrtTrainingCopyParametersToBuffer=C.sa)(n,f,l,h),t._OrtTrainingCopyParametersFromBuffer=(n,f,l,h)=>(t._OrtTrainingCopyParametersFromBuffer=C.ta)(n,f,l,h),t._OrtTrainingReleaseSession=n=>(t._OrtTrainingReleaseSession=C.ua)(n);var ft=t._malloc=n=>(ft=t._malloc=C.va)(n);t._free=n=>(t._free=C.wa)(n);var Xe=n=>(Xe=C.ya)(n),lt=()=>(lt=C.za)(),Je=n=>(Je=C.Aa)(n),B=n=>(B=C.Ba)(n);function Qe(n){n=Object.assign({},n);var f=h=>()=>h()>>>0,l=h=>A=>h(A)>>>0;return n.__errno_location=f(n.__errno_location),n.malloc=l(n.malloc),n.stackSave=f(n.stackSave),n.stackAlloc=l(n.stackAlloc),n}t.stackAlloc=B,t.stackSave=lt,t.stackRestore=Je,t.UTF8ToString=Ie,t.stringToUTF8=(n,f,l)=>Ve(n,Q,f,l),t.lengthBytesUTF8=$e;var He;se=function n(){He||ze(),He||(se=n)};function ze(){function n(){if(!He&&(He=!0,t.calledRun=!0,!ve)){if(Re(Ee),c(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var f=t.postRun.shift();U.unshift(f)}Re(U)}}if(!(0<ge)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)x();Re(Se),0<ge||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ze(),o.ready}})();typeof An=="object"&&typeof tr=="object"?tr.exports=Tn:typeof define=="function"&&define.amd&&define([],()=>Tn)});var Rn=Ke(()=>{});var Cn=Ke(()=>{});var Dn={};St(Dn,{cpus:()=>Ca});var Ca,Pn=N(()=>{Ca=void 0});var Bn=Ke((In,rr)=>{"use strict";var xn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(o={}){function t(){return U.buffer!=j.buffer&&be(),j}function c(){return U.buffer!=j.buffer&&be(),de}function s(){return U.buffer!=j.buffer&&be(),Te}function w(){return U.buffer!=j.buffer&&be(),Ae}function p(){return U.buffer!=j.buffer&&be(),Fe}var i=o,b,y;i.ready=new Promise((e,a)=>{b=e,y=a});var O=Object.assign({},i),S="./this.program",_=(e,a)=>{throw a},M=typeof window=="object",F=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T=i.ENVIRONMENT_IS_PTHREAD||!1,L="";function z(e){return i.locateFile?i.locateFile(e,L):L+e}var oe,K,C;if(D){var ve=(Zt(),et(Qt)),_e=(er(),et(Kt));L=F?_e.dirname(L)+"/":__dirname+"/",oe=(a,u)=>(a=a.startsWith("file://")?new URL(a):_e.normalize(a),ve.readFileSync(a,u?void 0:"utf8")),C=a=>(a=oe(a,!0),a.buffer||(a=new Uint8Array(a)),a),K=(a,u,d,E=!0)=>{a=a.startsWith("file://")?new URL(a):_e.normalize(a),ve.readFile(a,E?void 0:"utf8",(v,R)=>{v?d(v):u(E?R.buffer:R)})},!i.thisProgram&&1<process.argv.length&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),_=(a,u)=>{throw process.exitCode=a,u},i.inspect=()=>"[Emscripten Module object]";let e;try{e=Rn()}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a}global.Worker=e.Worker}else(M||F)&&(F?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),typeof r<"u"&&r&&(L=r),L.indexOf("blob:")!==0?L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):L="",D||(oe=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(null),a.responseText},F&&(C=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),K=(e,a,u)=>{var d=new XMLHttpRequest;d.open("GET",e,!0),d.responseType="arraybuffer",d.onload=()=>{d.status==200||d.status==0&&d.response?a(d.response):u()},d.onerror=u,d.send(null)}));D&&typeof performance>"u"&&(global.performance=Cn().performance);var Q=console.log.bind(console),I=console.error.bind(console);D&&(Q=(...e)=>ve.writeSync(1,e.join(" ")+`
`),I=(...e)=>ve.writeSync(2,e.join(" ")+`
`));var ee=i.print||Q,ie=i.printErr||I;Object.assign(i,O),O=null,i.thisProgram&&(S=i.thisProgram),i.quit&&(_=i.quit);var Se;i.wasmBinary&&(Se=i.wasmBinary);var Ee=i.noExitRuntime||!0;typeof WebAssembly!="object"&&Oe("no native wasm support detected");var U,x,ge,le=!1,se,j,de,Te,Ae,Fe;function be(){var e=U.buffer;i.HEAP8=j=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=Te=new Int32Array(e),i.HEAPU8=de=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=Ae=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=Fe=new Float64Array(e)}var xe=i.INITIAL_MEMORY||16777216;if(5242880<=xe||Oe("INITIAL_MEMORY should be larger than STACK_SIZE, was "+xe+"! (STACK_SIZE=5242880)"),T)U=i.wasmMemory;else if(i.wasmMemory)U=i.wasmMemory;else if(U=new WebAssembly.Memory({initial:xe/65536,maximum:65536,shared:!0}),!(U.buffer instanceof SharedArrayBuffer))throw ie("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),D&&ie("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");be(),xe=U.buffer.byteLength;var Me,ce=[],Re=[],ne=[],te=0;function Ce(){return Ee||0<te}var ye=0,Le=null,Ie=null;function $e(){ye++,i.monitorRunDependencies&&i.monitorRunDependencies(ye)}function Ve(){if(ye--,i.monitorRunDependencies&&i.monitorRunDependencies(ye),ye==0&&(Le!==null&&(clearInterval(Le),Le=null),Ie)){var e=Ie;Ie=null,e()}}function Oe(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",ie(e),le=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),y(e),e}function nt(e){return e.startsWith("data:application/octet-stream;base64,")}var Be;Be="ort-wasm-threaded.wasm",nt(Be)||(Be=z(Be));function at(e){if(e==Be&&Se)return new Uint8Array(Se);if(C)return C(e);throw"both async and sync fetching of the wasm failed"}function ot(e){if(!Se&&(M||F)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+e+"'";return a.arrayBuffer()}).catch(()=>at(e));if(K)return new Promise((a,u)=>{K(e,d=>a(new Uint8Array(d)),u)})}return Promise.resolve().then(()=>at(e))}function it(e,a,u){return ot(e).then(d=>WebAssembly.instantiate(d,a)).then(d=>d).then(u,d=>{ie("failed to asynchronously prepare wasm: "+d),Oe(d)})}function st(e,a){var u=Be;return Se||typeof WebAssembly.instantiateStreaming!="function"||nt(u)||u.startsWith("file://")||D||typeof fetch!="function"?it(u,e,a):fetch(u,{credentials:"same-origin"}).then(d=>WebAssembly.instantiateStreaming(d,e).then(a,function(E){return ie("wasm streaming compile failed: "+E),ie("falling back to ArrayBuffer instantiation"),it(u,e,a)}))}var ke;function Ne(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function qe(e){e.terminate(),e.onmessage=()=>{}}function yt(e){(e=B.La[e])||Oe(),B.lb(e)}function ut(e){var a=B.fb();if(!a)return 6;B.Oa.push(a),B.La[e.Na]=a,a.Na=e.Na;var u={cmd:"run",start_routine:e.mb,arg:e.eb,pthread_ptr:e.Na};return D&&a.unref(),a.postMessage(u,e.sb),0}var wt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ft=(e,a,u)=>{a>>>=0;var d=a+u;for(u=a;e[u]&&!(u>=d);)++u;if(16<u-a&&e.buffer&&wt)return wt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(a,u):e.subarray(a,u));for(d="";a<u;){var E=e[a++];if(E&128){var v=e[a++]&63;if((E&224)==192)d+=String.fromCharCode((E&31)<<6|v);else{var R=e[a++]&63;E=(E&240)==224?(E&15)<<12|v<<6|R:(E&7)<<18|v<<12|R<<6|e[a++]&63,65536>E?d+=String.fromCharCode(E):(E-=65536,d+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else d+=String.fromCharCode(E)}return d},Xe=(e,a)=>(e>>>=0)?ft(c(),e,a):"";function lt(e){if(T)return Y(1,1,e);se=e,Ce()||(B.nb(),i.onExit&&i.onExit(e),le=!0),_(e,new Ne(e))}var Je=e=>{if(se=e,T)throw He(e),"unwind";lt(e)},B={Ra:[],Oa:[],Za:[],La:{},Va:function(){T?B.hb():B.gb()},gb:function(){ce.unshift(()=>{$e(),B.ib(()=>Ve())})},hb:function(){B.receiveObjectTransfer=B.kb,B.threadInitTLS=B.Ya,B.setExitStatus=B.Xa,Ee=!1},Xa:function(e){se=e},xb:["$terminateWorker"],nb:function(){for(var e of B.Oa)qe(e);for(e of B.Ra)qe(e);B.Ra=[],B.Oa=[],B.La=[]},lb:function(e){var a=e.Na;delete B.La[a],B.Ra.push(e),B.Oa.splice(B.Oa.indexOf(e),1),e.Na=0,zt(a)},kb:function(){},Ya:function(){B.Za.forEach(e=>e())},jb:e=>new Promise(a=>{e.onmessage=v=>{v=v.data;var R=v.cmd;if(v.targetThread&&v.targetThread!=Ot()){var $=B.La[v.wb];$?$.postMessage(v,v.transferList):ie('Internal error! Worker sent a message "'+R+'" to target pthread '+v.targetThread+", but that thread no longer exists!")}else R==="checkMailbox"?bt():R==="spawnThread"?ut(v):R==="cleanupThread"?yt(v.thread):R==="killThread"?(v=v.thread,R=B.La[v],delete B.La[v],qe(R),zt(v),B.Oa.splice(B.Oa.indexOf(R),1),R.Na=0):R==="cancelThread"?B.La[v.thread].postMessage({cmd:"cancel"}):R==="loaded"?(e.loaded=!0,a(e)):R==="alert"?alert("Thread "+v.threadId+": "+v.text):v.target==="setimmediate"?e.postMessage(v):R==="callHandler"?i[v.handler](...v.args):R&&ie("worker sent an unknown command "+R)},e.onerror=v=>{throw ie("worker sent an error! "+v.filename+":"+v.lineno+": "+v.message),v},D&&(e.on("message",function(v){e.onmessage({data:v})}),e.on("error",function(v){e.onerror(v)}));var u=[],d=["onExit","onAbort","print","printErr"],E;for(E of d)i.hasOwnProperty(E)&&u.push(E);e.postMessage({cmd:"load",handlers:u,urlOrBlob:i.mainScriptUrlOrBlob||r,wasmMemory:U,wasmModule:ge})}),ib:function(e){e()},cb:function(){var e=z("ort-wasm-threaded.worker.js");e=new Worker(e),B.Ra.push(e)},fb:function(){return B.Ra.length==0&&(B.cb(),B.jb(B.Ra[0])),B.Ra.pop()}};i.PThread=B;var Qe=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=Ot(),a=s()[e+52>>2>>>0];e=s()[e+56>>2>>>0],$r(a,a-e),vt(a)};function He(e){if(T)return Y(2,0,e);Je(e)}var ze=[];i.invokeEntryPoint=function(e,a){var u=ze[e];u||(e>=ze.length&&(ze.length=e+1),ze[e]=u=Me.get(e)),e=u(a),Ce()?B.Xa(e):Gt(e)};function n(e){this.Ua=e-24,this.bb=function(a){w()[this.Ua+4>>2>>>0]=a},this.ab=function(a){w()[this.Ua+8>>2>>>0]=a},this.Va=function(a,u){this.$a(),this.bb(a),this.ab(u)},this.$a=function(){w()[this.Ua+16>>2>>>0]=0}}var f=0,l=0;function h(e,a,u,d){return T?Y(3,1,e,a,u,d):A(e,a,u,d)}function A(e,a,u,d){if(e>>>=0,a>>>=0,u>>>=0,d>>>=0,typeof SharedArrayBuffer>"u")return ie("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var E=[];return T&&E.length===0?h(e,a,u,d):(e={mb:u,Na:e,eb:d,sb:E},T?(e.ub="spawnThread",postMessage(e,E),0):ut(e))}function P(e,a,u){return T?Y(4,1,e,a,u):0}function k(e,a){if(T)return Y(5,1,e,a)}var X=e=>{for(var a=0,u=0;u<e.length;++u){var d=e.charCodeAt(u);127>=d?a++:2047>=d?a+=2:55296<=d&&57343>=d?(a+=4,++u):a+=3}return a},pe=(e,a,u,d)=>{if(u>>>=0,!(0<d))return 0;var E=u;d=u+d-1;for(var v=0;v<e.length;++v){var R=e.charCodeAt(v);if(55296<=R&&57343>=R){var $=e.charCodeAt(++v);R=65536+((R&1023)<<10)|$&1023}if(127>=R){if(u>=d)break;a[u++>>>0]=R}else{if(2047>=R){if(u+1>=d)break;a[u++>>>0]=192|R>>6}else{if(65535>=R){if(u+2>=d)break;a[u++>>>0]=224|R>>12}else{if(u+3>=d)break;a[u++>>>0]=240|R>>18,a[u++>>>0]=128|R>>12&63}a[u++>>>0]=128|R>>6&63}a[u++>>>0]=128|R&63}}return a[u>>>0]=0,u-E},ue=(e,a,u)=>pe(e,c(),a,u);function fe(e,a){if(T)return Y(6,1,e,a)}function ct(e,a,u){if(T)return Y(7,1,e,a,u)}function dt(e,a,u){return T?Y(8,1,e,a,u):0}function m(e,a){if(T)return Y(9,1,e,a)}function W(e,a,u){if(T)return Y(10,1,e,a,u)}function G(e,a,u,d){if(T)return Y(11,1,e,a,u,d)}function De(e,a,u,d){if(T)return Y(12,1,e,a,u,d)}function pt(e,a,u,d){if(T)return Y(13,1,e,a,u,d)}function Sr(e){if(T)return Y(14,1,e)}function Er(e,a){if(T)return Y(15,1,e,a)}function Tr(e,a,u){if(T)return Y(16,1,e,a,u)}var ha=e=>{if(!le)try{if(e(),!Ce())try{T?Gt(se):Je(se)}catch(a){a instanceof Ne||a=="unwind"||_(1,a)}}catch(a){a instanceof Ne||a=="unwind"||_(1,a)}};function kt(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(s(),e>>2,e).value.then(bt),e+=128,Atomics.store(s(),e>>2,1))}i.__emscripten_thread_mailbox_await=kt;function bt(){var e=Ot();e&&(kt(e),ha(()=>jr()))}i.checkMailbox=bt;var Ze=e=>e%4===0&&(e%100!==0||e%400===0),Ar=[0,31,60,91,121,152,182,213,244,274,305,335],Mr=[0,31,59,90,120,151,181,212,243,273,304,334];function Rr(e,a,u,d,E,v,R,$){return T?Y(17,1,e,a,u,d,E,v,R,$):-52}function Cr(e,a,u,d,E,v,R){if(T)return Y(18,1,e,a,u,d,E,v,R)}var Dr=e=>{var a=X(e)+1,u=Hr(a);return u&&ue(e,u,a),u},ga=e=>{var a=jt();return e=e(),vt(a),e};function Y(e,a){var u=arguments.length-2,d=arguments;return ga(()=>{for(var E=Yt(8*u),v=E>>3,R=0;R<u;R++){var $=d[2+R];p()[v+R>>>0]=$}return Gr(e,u,E,a)})}var Wt=[],Nt={},Pr=()=>{if(!Ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:S||"./this.program"},a;for(a in Nt)Nt[a]===void 0?delete e[a]:e[a]=Nt[a];var u=[];for(a in e)u.push(`${a}=${e[a]}`);Ht=u}return Ht},Ht;function xr(e,a){if(T)return Y(19,1,e,a);e>>>=0,a>>>=0;var u=0;return Pr().forEach(function(d,E){var v=a+u;for(E=w()[e+4*E>>2>>>0]=v,v=0;v<d.length;++v)t()[E++>>0>>>0]=d.charCodeAt(v);t()[E>>0>>>0]=0,u+=d.length+1}),0}function Ir(e,a){if(T)return Y(20,1,e,a);e>>>=0,a>>>=0;var u=Pr();w()[e>>2>>>0]=u.length;var d=0;return u.forEach(function(E){d+=E.length+1}),w()[a>>2>>>0]=d,0}function Br(e){return T?Y(21,1,e):52}function Ur(e,a,u,d){return T?Y(22,1,e,a,u,d):52}function Fr(e,a,u,d,E){return T?Y(23,1,e,a,u,d,E):70}var ya=[null,[],[]];function Lr(e,a,u,d){if(T)return Y(24,1,e,a,u,d);a>>>=0,u>>>=0,d>>>=0;for(var E=0,v=0;v<u;v++){var R=w()[a>>2>>>0],$=w()[a+4>>2>>>0];a+=8;for(var Pe=0;Pe<$;Pe++){var ae=c()[R+Pe>>>0],he=ya[e];ae===0||ae===10?((e===1?ee:ie)(ft(he,0)),he.length=0):he.push(ae)}E+=$}return w()[d>>2>>>0]=E,0}var kr=[31,29,31,30,31,30,31,31,30,31,30,31],Wr=[31,28,31,30,31,30,31,31,30,31,30,31];function wa(e){var a=Array(X(e)+1);return pe(e,a,0,a.length),a}var ba=(e,a)=>{t().set(e,a>>>0)};function Nr(e,a,u,d){function E(g,H,V){for(g=typeof g=="number"?g.toString():g||"";g.length<H;)g=V[0]+g;return g}function v(g,H){return E(g,H,"0")}function R(g,H){function V(Jr){return 0>Jr?-1:0<Jr?1:0}var Ge;return(Ge=V(g.getFullYear()-H.getFullYear()))===0&&(Ge=V(g.getMonth()-H.getMonth()))===0&&(Ge=V(g.getDate()-H.getDate())),Ge}function $(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function Pe(g){var H=g.Pa;for(g=new Date(new Date(g.Qa+1900,0,1).getTime());0<H;){var V=g.getMonth(),Ge=(Ze(g.getFullYear())?kr:Wr)[V];if(H>Ge-g.getDate())H-=Ge-g.getDate()+1,g.setDate(1),11>V?g.setMonth(V+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+H);break}}return V=new Date(g.getFullYear()+1,0,4),H=$(new Date(g.getFullYear(),0,4)),V=$(V),0>=R(H,g)?0>=R(V,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}e>>>=0,a>>>=0,u>>>=0,d>>>=0;var ae=s()[d+40>>2>>>0];d={qb:s()[d>>2>>>0],pb:s()[d+4>>2>>>0],Sa:s()[d+8>>2>>>0],Wa:s()[d+12>>2>>>0],Ta:s()[d+16>>2>>>0],Qa:s()[d+20>>2>>>0],Ma:s()[d+24>>2>>>0],Pa:s()[d+28>>2>>>0],yb:s()[d+32>>2>>>0],ob:s()[d+36>>2>>>0],rb:ae?Xe(ae):""},u=Xe(u),ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var he in ae)u=u.replace(new RegExp(he,"g"),ae[he]);var qr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Xr="January February March April May June July August September October November December".split(" ");ae={"%a":g=>qr[g.Ma].substring(0,3),"%A":g=>qr[g.Ma],"%b":g=>Xr[g.Ta].substring(0,3),"%B":g=>Xr[g.Ta],"%C":g=>v((g.Qa+1900)/100|0,2),"%d":g=>v(g.Wa,2),"%e":g=>E(g.Wa,2," "),"%g":g=>Pe(g).toString().substring(2),"%G":g=>Pe(g),"%H":g=>v(g.Sa,2),"%I":g=>(g=g.Sa,g==0?g=12:12<g&&(g-=12),v(g,2)),"%j":g=>{for(var H=0,V=0;V<=g.Ta-1;H+=(Ze(g.Qa+1900)?kr:Wr)[V++]);return v(g.Wa+H,3)},"%m":g=>v(g.Ta+1,2),"%M":g=>v(g.pb,2),"%n":()=>`
`,"%p":g=>0<=g.Sa&&12>g.Sa?"AM":"PM","%S":g=>v(g.qb,2),"%t":()=>"	","%u":g=>g.Ma||7,"%U":g=>v(Math.floor((g.Pa+7-g.Ma)/7),2),"%V":g=>{var H=Math.floor((g.Pa+7-(g.Ma+6)%7)/7);if(2>=(g.Ma+371-g.Pa-2)%7&&H++,H)H==53&&(V=(g.Ma+371-g.Pa)%7,V==4||V==3&&Ze(g.Qa)||(H=1));else{H=52;var V=(g.Ma+7-g.Pa-1)%7;(V==4||V==5&&Ze(g.Qa%400-1))&&H++}return v(H,2)},"%w":g=>g.Ma,"%W":g=>v(Math.floor((g.Pa+7-(g.Ma+6)%7)/7),2),"%y":g=>(g.Qa+1900).toString().substring(2),"%Y":g=>g.Qa+1900,"%z":g=>{g=g.ob;var H=0<=g;return g=Math.abs(g)/60,(H?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.rb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(he in ae)u.includes(he)&&(u=u.replace(new RegExp(he,"g"),ae[he](d)));return u=u.replace(/\0\0/g,"%"),he=wa(u),he.length>a?0:(ba(he,e),he.length-1)}B.Va();var Oa=[null,lt,He,h,P,k,fe,ct,dt,m,W,G,De,pt,Sr,Er,Tr,Rr,Cr,xr,Ir,Br,Ur,Fr,Lr],va={b:function(e,a,u){throw e>>>=0,new n(e).Va(a>>>0,u>>>0),f=e,l++,f},N:function(e){zr(e>>>0,!F,1,!M,131072,!1),B.Ya()},j:function(e){e>>>=0,T?postMessage({cmd:"cleanupThread",thread:e}):yt(e)},I:A,h:P,T:k,D:fe,F:ct,U:dt,R:m,J:W,Q:G,n:De,E:pt,B:Sr,S:Er,C:Tr,q:()=>!0,z:function(e,a){e>>>=0,e==a>>>0?setTimeout(()=>bt()):T?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=B.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:kt,p:function(e){D&&B.La[e>>>0].ref()},t:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getUTCSeconds(),s()[u+4>>2>>>0]=e.getUTCMinutes(),s()[u+8>>2>>>0]=e.getUTCHours(),s()[u+12>>2>>>0]=e.getUTCDate(),s()[u+16>>2>>>0]=e.getUTCMonth(),s()[u+20>>2>>>0]=e.getUTCFullYear()-1900,s()[u+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[u+28>>2>>>0]=e},u:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getSeconds(),s()[u+4>>2>>>0]=e.getMinutes(),s()[u+8>>2>>>0]=e.getHours(),s()[u+12>>2>>>0]=e.getDate(),s()[u+16>>2>>>0]=e.getMonth(),s()[u+20>>2>>>0]=e.getFullYear()-1900,s()[u+24>>2>>>0]=e.getDay(),a=(Ze(e.getFullYear())?Ar:Mr)[e.getMonth()]+e.getDate()-1|0,s()[u+28>>2>>>0]=a,s()[u+36>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var d=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=d&&e.getTimezoneOffset()==Math.min(d,a))|0,s()[u+32>>2>>>0]=e},v:function(e){e>>>=0;var a=new Date(s()[e+20>>2>>>0]+1900,s()[e+16>>2>>>0],s()[e+12>>2>>>0],s()[e+8>>2>>>0],s()[e+4>>2>>>0],s()[e>>2>>>0],0),u=s()[e+32>>2>>>0],d=a.getTimezoneOffset(),E=new Date(a.getFullYear(),6,1).getTimezoneOffset(),v=new Date(a.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(v,E);return 0>u?s()[e+32>>2>>>0]=+(E!=v&&R==d):0<u!=(R==d)&&(E=Math.max(v,E),a.setTime(a.getTime()+6e4*((0<u?R:E)-d))),s()[e+24>>2>>>0]=a.getDay(),u=(Ze(a.getFullYear())?Ar:Mr)[a.getMonth()]+a.getDate()-1|0,s()[e+28>>2>>>0]=u,s()[e>>2>>>0]=a.getSeconds(),s()[e+4>>2>>>0]=a.getMinutes(),s()[e+8>>2>>>0]=a.getHours(),s()[e+12>>2>>>0]=a.getDate(),s()[e+16>>2>>>0]=a.getMonth(),s()[e+20>>2>>>0]=a.getYear(),e=a.getTime()/1e3,Yr((ke=e,1<=+Math.abs(ke)?0<ke?+Math.floor(ke/4294967296)>>>0:~~+Math.ceil((ke-+(~~ke>>>0))/4294967296)>>>0:0)),e>>>0},r:Rr,s:Cr,y:function(e,a,u){function d(ae){return(ae=ae.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ae[1]:"GMT"}e>>>=0,a>>>=0,u>>>=0;var E=new Date().getFullYear(),v=new Date(E,0,1),R=new Date(E,6,1);E=v.getTimezoneOffset();var $=R.getTimezoneOffset(),Pe=Math.max(E,$);w()[e>>2>>>0]=60*Pe,s()[a>>2>>>0]=+(E!=$),e=d(v),a=d(R),e=Dr(e),a=Dr(a),$<E?(w()[u>>2>>>0]=e,w()[u+4>>2>>>0]=a):(w()[u>>2>>>0]=a,w()[u+4>>2>>>0]=e)},c:()=>{Oe("")},k:function(){},i:function(){return Date.now()},o:()=>{throw te+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return D?(Pn(),et(Dn)).cpus().length:navigator.hardwareConcurrency},K:function(e,a,u,d){for(B.vb=a>>>0,Wt.length=u,a=d>>>0>>3,d=0;d<u;d++)Wt[d]=p()[a+d>>>0];return Oa[e].apply(null,Wt)},x:function(e){e>>>=0;var a=c().length;if(e<=a||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var d=a*(1+.2/u);d=Math.min(d,e+100663296);var E=Math;d=Math.max(e,d);e:{E=E.min.call(E,4294901760,d+(65536-d%65536)%65536)-U.buffer.byteLength+65535>>>16;try{U.grow(E),be();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},O:xr,P:Ir,H:Je,g:Br,m:Ur,w:Fr,l:Lr,a:U||i.wasmMemory,G:Nr,d:function(e,a,u,d){return Nr(e>>>0,a>>>0,u>>>0,d>>>0)}};(function(){function e(u,d){return u=u.exports,x=u=_a(u),B.Za.push(x.ya),Me=x.za,Re.unshift(x.V),ge=d,Ve(),u}var a={a:va};if($e(),i.instantiateWasm)try{return i.instantiateWasm(a,e)}catch(u){ie("Module.instantiateWasm callback failed with error: "+u),y(u)}return st(a,function(u){e(u.instance,u.module)}).catch(y),{}})(),i._OrtInit=(e,a)=>(i._OrtInit=x.W)(e,a),i._OrtGetLastError=(e,a)=>(i._OrtGetLastError=x.X)(e,a),i._OrtCreateSessionOptions=(e,a,u,d,E,v,R,$,Pe,ae)=>(i._OrtCreateSessionOptions=x.Y)(e,a,u,d,E,v,R,$,Pe,ae),i._OrtAppendExecutionProvider=(e,a)=>(i._OrtAppendExecutionProvider=x.Z)(e,a),i._OrtAddFreeDimensionOverride=(e,a,u)=>(i._OrtAddFreeDimensionOverride=x._)(e,a,u),i._OrtAddSessionConfigEntry=(e,a,u)=>(i._OrtAddSessionConfigEntry=x.$)(e,a,u),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=x.aa)(e),i._OrtCreateSession=(e,a,u)=>(i._OrtCreateSession=x.ba)(e,a,u),i._OrtReleaseSession=e=>(i._OrtReleaseSession=x.ca)(e),i._OrtGetInputOutputCount=(e,a,u)=>(i._OrtGetInputOutputCount=x.da)(e,a,u),i._OrtGetInputName=(e,a)=>(i._OrtGetInputName=x.ea)(e,a),i._OrtGetOutputName=(e,a)=>(i._OrtGetOutputName=x.fa)(e,a),i._OrtFree=e=>(i._OrtFree=x.ga)(e),i._OrtCreateTensor=(e,a,u,d,E,v)=>(i._OrtCreateTensor=x.ha)(e,a,u,d,E,v),i._OrtGetTensorData=(e,a,u,d,E)=>(i._OrtGetTensorData=x.ia)(e,a,u,d,E),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=x.ja)(e),i._OrtCreateRunOptions=(e,a,u,d)=>(i._OrtCreateRunOptions=x.ka)(e,a,u,d),i._OrtAddRunConfigEntry=(e,a,u)=>(i._OrtAddRunConfigEntry=x.la)(e,a,u),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=x.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=x.na)(e),i._OrtBindInput=(e,a,u)=>(i._OrtBindInput=x.oa)(e,a,u),i._OrtBindOutput=(e,a,u,d)=>(i._OrtBindOutput=x.pa)(e,a,u,d),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=x.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=x.ra)(e),i._OrtRunWithBinding=(e,a,u,d,E)=>(i._OrtRunWithBinding=x.sa)(e,a,u,d,E),i._OrtRun=(e,a,u,d,E,v,R,$)=>(i._OrtRun=x.ta)(e,a,u,d,E,v,R,$),i._OrtEndProfiling=e=>(i._OrtEndProfiling=x.ua)(e);var Ot=i._pthread_self=()=>(Ot=i._pthread_self=x.va)(),Hr=i._malloc=e=>(Hr=i._malloc=x.wa)(e);i._free=e=>(i._free=x.xa)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=x.ya)();var zr=i.__emscripten_thread_init=(e,a,u,d,E,v)=>(zr=i.__emscripten_thread_init=x.Aa)(e,a,u,d,E,v);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=x.Ba)();var Gr=(e,a,u,d)=>(Gr=x.Ca)(e,a,u,d),zt=e=>(zt=x.Da)(e),Gt=i.__emscripten_thread_exit=e=>(Gt=i.__emscripten_thread_exit=x.Ea)(e),jr=i.__emscripten_check_mailbox=()=>(jr=i.__emscripten_check_mailbox=x.Fa)(),Yr=e=>(Yr=x.Ga)(e),$r=(e,a)=>($r=x.Ha)(e,a),jt=()=>(jt=x.Ia)(),vt=e=>(vt=x.Ja)(e),Yt=e=>(Yt=x.Ka)(e);function _a(e){e=Object.assign({},e);var a=d=>()=>d()>>>0,u=d=>E=>d(E)>>>0;return e.__errno_location=a(e.__errno_location),e.pthread_self=a(e.pthread_self),e.malloc=u(e.malloc),e.stackSave=a(e.stackSave),e.stackAlloc=u(e.stackAlloc),e}i.keepRuntimeAlive=Ce,i.wasmMemory=U,i.stackAlloc=Yt,i.stackSave=jt,i.stackRestore=vt,i.UTF8ToString=Xe,i.stringToUTF8=ue,i.lengthBytesUTF8=X,i.ExitStatus=Ne,i.PThread=B;var _t;Ie=function e(){_t||Vr(),_t||(Ie=e)};function Vr(){function e(){if(!_t&&(_t=!0,i.calledRun=!0,!le)&&(T||Qe(Re),b(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!T)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var a=i.postRun.shift();ne.unshift(a)}Qe(ne)}}if(!(0<ye))if(T)b(i),T||Qe(Re),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ce.unshift(i.preRun.shift());Qe(ce),0<ye||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return Vr(),o.ready}})();typeof In=="object"&&typeof rr=="object"?rr.exports=xn:typeof define=="function"&&define.amd&&define([],()=>xn)});var Un=Ke((ko,Da)=>{Da.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Ln,Pa,nr,ar,Dt,Fn,xa,Ia,Ba,kn,Z,rt=N(()=>{"use strict";Ln=Mn();Pa=Bn(),ar=!1,Dt=!1,Fn=!1,xa=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Ia=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Ba=(r,o)=>r?"ort-training-wasm-simd.wasm":o?"ort-wasm-threaded.wasm":"ort-wasm.wasm",kn=async r=>{if(ar)return Promise.resolve();if(Dt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Fn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Dt=!0;let o=r.initTimeout,t=r.numThreads,c=r.simd,s=t>1&&xa(),w=c&&Ia(),p=r.wasmPaths,i=typeof p=="string"?p:void 0,b=Ba(w,s),y=typeof p=="object"?p[b]:void 0,O=!1,S=[];if(o>0&&S.push(new Promise(_=>{setTimeout(()=>{O=!0,_()},o)})),S.push(new Promise((_,M)=>{let F=s?Pa:Ln,D={locateFile:(T,L)=>s&&T.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Un()],{type:"text/javascript"})):T.endsWith(".wasm")?y||(i??L)+b:L+T};if(s)if(typeof Blob>"u")D.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let T=`var ortWasmThreaded=${F.toString()};`;D.mainScriptUrlOrBlob=new Blob([T],{type:"text/javascript"})}F(D).then(T=>{Dt=!1,ar=!0,nr=T,_()},T=>{Dt=!1,Fn=!0,M(T)})})),await Promise.race(S),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${o}ms`)},Z=()=>{if(ar&&nr)return nr;throw new Error("WebAssembly is not initialized yet.")}});var re,ht,J,Pt=N(()=>{"use strict";rt();re=(r,o)=>{let t=Z(),c=t.lengthBytesUTF8(r)+1,s=t._malloc(c);return t.stringToUTF8(r,s,c),o.push(s),s},ht=(r,o,t,c)=>{if(typeof r=="object"&&r!==null){if(t.has(r))throw new Error("Circular reference in options");t.add(r)}Object.entries(r).forEach(([s,w])=>{let p=o?o+s:s;if(typeof w=="object")ht(w,p+".",t,c);else if(typeof w=="string"||typeof w=="number")c(p,w.toString());else if(typeof w=="boolean")c(p,w?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof w}`)})},J=r=>{let o=Z(),t=o.stackSave();try{let c=o.stackAlloc(8);o._OrtGetLastError(c,c+4);let s=o.HEAP32[c/4],w=o.HEAPU32[c/4+1],p=w?o.UTF8ToString(w):"";throw new Error(`${r} ERROR_CODE: ${s}, ERROR_MESSAGE: ${p}`)}finally{o.stackRestore(t)}}});var Wn,Nn=N(()=>{"use strict";rt();Pt();Wn=r=>{let o=Z(),t=0,c=[],s=r||{};try{if(r?.logSeverityLevel===void 0)s.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)s.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(s.terminate=!1);let w=0;return r?.tag!==void 0&&(w=re(r.tag,c)),t=o._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,w),t===0&&J("Can't create run options."),r?.extra!==void 0&&ht(r.extra,"",new WeakSet,(p,i)=>{let b=re(p,c),y=re(i,c);o._OrtAddRunConfigEntry(t,b,y)!==0&&J(`Can't set a run config entry: ${p} - ${i}.`)}),[t,c]}catch(w){throw t!==0&&o._OrtReleaseRunOptions(t),c.forEach(p=>o._free(p)),w}}});var Ua,Fa,La,ka,Hn,zn=N(()=>{"use strict";rt();Pt();Ua=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},Fa=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},La=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let o=r.extra.session;o.use_ort_model_bytes_directly||(o.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(r.enableMemPattern=!1)},ka=(r,o,t)=>{for(let c of o){let s=typeof c=="string"?c:c.name;switch(s){case"xnnpack":s="XNNPACK";break;case"webnn":if(s="WEBNN",typeof c!="string"){let p=c;if(p?.deviceType){let i=re("deviceType",t),b=re(p.deviceType,t);Z()._OrtAddSessionConfigEntry(r,i,b)!==0&&J(`Can't set a session config entry: 'deviceType' - ${p.deviceType}.`)}if(p?.powerPreference){let i=re("powerPreference",t),b=re(p.powerPreference,t);Z()._OrtAddSessionConfigEntry(r,i,b)!==0&&J(`Can't set a session config entry: 'powerPreference' - ${p.powerPreference}.`)}}break;case"webgpu":if(s="JS",typeof c!="string"){let p=c;if(p?.preferredLayout){if(p.preferredLayout!=="NCHW"&&p.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${p.preferredLayout}`);let i=re("preferredLayout",t),b=re(p.preferredLayout,t);Z()._OrtAddSessionConfigEntry(r,i,b)!==0&&J(`Can't set a session config entry: 'preferredLayout' - ${p.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${s}`)}let w=re(s,t);Z()._OrtAppendExecutionProvider(r,w)!==0&&J(`Can't append execution provider: ${s}.`)}},Hn=r=>{let o=Z(),t=0,c=[],s=r||{};La(s);try{let w=Ua(s.graphOptimizationLevel??"all"),p=Fa(s.executionMode??"sequential"),i=typeof s.logId=="string"?re(s.logId,c):0,b=s.logSeverityLevel??2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);let y=s.logVerbosityLevel??0;if(!Number.isInteger(y)||y<0||y>4)throw new Error(`log verbosity level is not valid: ${y}`);let O=typeof s.optimizedModelFilePath=="string"?re(s.optimizedModelFilePath,c):0;if(t=o._OrtCreateSessionOptions(w,!!s.enableCpuMemArena,!!s.enableMemPattern,p,!!s.enableProfiling,0,i,b,y,O),t===0&&J("Can't create session options."),s.executionProviders&&ka(t,s.executionProviders,c),s.freeDimensionOverrides)for(let[S,_]of Object.entries(s.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof _!="number"||!Number.isInteger(_)||_<0)throw new Error(`free dimension override value must be a non-negative integer: ${_}`);let M=re(S,c);o._OrtAddFreeDimensionOverride(t,M,_)!==0&&J(`Can't set a free dimension override: ${S} - ${_}.`)}return s.extra!==void 0&&ht(s.extra,"",new WeakSet,(S,_)=>{let M=re(S,c),F=re(_,c);o._OrtAddSessionConfigEntry(t,M,F)!==0&&J(`Can't set a session config entry: ${S} - ${_}.`)}),[t,c]}catch(w){throw t!==0&&o._OrtReleaseSessionOptions(t),c.forEach(p=>o._free(p)),w}}});var or,Gn,ir,jn,Yn,xt,$n,sr=N(()=>{"use strict";or=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},Gn=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},ir=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],jn=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},Yn=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},xt=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",$n=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var Wa,Na,qn,gt,ur,fr,Xn,Jn,Vn,Qn,Zn,Kn,ea=N(()=>{"use strict";Nn();zn();sr();rt();Pt();Wa=r=>{let o=Z(),t=o.stackSave();try{let c=o.stackAlloc(8);return o._OrtGetInputOutputCount(r,c,c+4)!==0&&J("Can't get session input/output count."),[o.HEAP32[c/4],o.HEAP32[c/4+1]]}finally{o.stackRestore(t)}},Na=(r,o)=>{Z()._OrtInit(r,o)!==0&&J("Can't initialize onnxruntime.")},qn=async r=>{Na(r.wasm.numThreads,Yn(r.logLevel))},gt=new Map,ur=r=>{let o=Z(),t=o._malloc(r.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return o.HEAPU8.set(r,t),[t,r.byteLength]},fr=(r,o)=>{let t=Z(),c=0,s=0,w=0,p=[],i=[],b=[];try{[s,p]=Hn(o),c=t._OrtCreateSession(r[0],r[1],s),c===0&&J("Can't create a session.");let[y,O]=Wa(c),S=[],_=[],M=[];for(let D=0;D<y;D++){let T=t._OrtGetInputName(c,D);T===0&&J("Can't get an input name."),i.push(T),S.push(t.UTF8ToString(T))}for(let D=0;D<O;D++){let T=t._OrtGetOutputName(c,D);T===0&&J("Can't get an output name."),b.push(T);let L=t.UTF8ToString(T);_.push(L)}let F=null;return gt.set(c,[c,i,b,F]),[c,S,_]}catch(y){throw i.forEach(O=>t._OrtFree(O)),b.forEach(O=>t._OrtFree(O)),w!==0&&t._OrtReleaseBinding(w),c!==0&&t._OrtReleaseSession(c),y}finally{t._free(r[0]),s!==0&&t._OrtReleaseSessionOptions(s),p.forEach(y=>t._free(y))}},Xn=(r,o)=>{let t=ur(r);return fr(t,o)},Jn=r=>{let o=Z(),t=gt.get(r);if(!t)throw new Error(`cannot release session. invalid session id: ${r}`);let[c,s,w,p]=t;p&&o._OrtReleaseBinding(p.handle),o.jsepUnregisterBuffers?.(r),s.forEach(i=>o._OrtFree(i)),w.forEach(i=>o._OrtFree(i)),o._OrtReleaseSession(c),gt.delete(r)},Vn=(r,o,t,c,s)=>{if(!r){o.push(0);return}let w=Z(),p=r[0],i=r[1],b=r[3],y,O;if(p==="string"&&b==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b==="gpu-buffer"){let M=r[2].gpuBuffer,F=ir(or(p));O=i.reduce((D,T)=>D*T,1)*F,y=w.jsepRegisterBuffer(c,s,M,O)}else{let M=r[2];if(Array.isArray(M)){O=4*M.length,y=w._malloc(O),t.push(y);let F=y/4;for(let D=0;D<M.length;D++){if(typeof M[D]!="string")throw new TypeError(`tensor data at index ${D} is not a string`);w.HEAPU32[F++]=re(M[D],t)}}else O=M.byteLength,y=w._malloc(O),t.push(y),w.HEAPU8.set(new Uint8Array(M.buffer,M.byteOffset,O),y)}let S=w.stackSave(),_=w.stackAlloc(4*i.length);try{let M=_/4;i.forEach(D=>w.HEAP32[M++]=D);let F=w._OrtCreateTensor(or(p),y,O,_,i.length,$n(b));F===0&&J(`Can't create tensor for input/output. session=${c}, index=${s}.`),o.push(F)}finally{w.stackRestore(S)}},Qn=async(r,o,t,c,s,w)=>{let p=Z(),i=gt.get(r);if(!i)throw new Error(`cannot run inference. invalid session id: ${r}`);let[b,y,O,S]=i,_=o.length,M=c.length,F=0,D=[],T=[],L=[],z=[],oe=p.stackSave(),K=p.stackAlloc(_*4),C=p.stackAlloc(_*4),ve=p.stackAlloc(M*4),_e=p.stackAlloc(M*4);try{[F,D]=Wn(w);for(let U=0;U<_;U++)Vn(t[U],T,z,r,o[U]);for(let U=0;U<M;U++)Vn(s[U],L,z,r,_+c[U]);let Q=K/4,I=C/4,ee=ve/4,ie=_e/4;for(let U=0;U<_;U++)p.HEAPU32[Q++]=T[U],p.HEAPU32[I++]=y[o[U]];for(let U=0;U<M;U++)p.HEAPU32[ee++]=L[U],p.HEAPU32[ie++]=O[c[U]];let Se;Se=await p._OrtRun(b,C,K,_,_e,M,ve,F),Se!==0&&J("failed to call OrtRun().");let Ee=[];for(let U=0;U<M;U++){let x=p.HEAPU32[ve/4+U];if(x===L[U]){Ee.push(s[U]);continue}let ge=p.stackSave(),le=p.stackAlloc(4*4),se=!1,j,de=0;try{p._OrtGetTensorData(x,le,le+4,le+8,le+12)!==0&&J(`Can't access output tensor data on index ${U}.`);let Ae=le/4,Fe=p.HEAPU32[Ae++];de=p.HEAPU32[Ae++];let be=p.HEAPU32[Ae++],xe=p.HEAPU32[Ae++],Me=[];for(let ne=0;ne<xe;ne++)Me.push(p.HEAPU32[be/4+ne]);p._OrtFree(be);let ce=Me.reduce((ne,te)=>ne*te,1);j=Gn(Fe);let Re=S?.outputPreferredLocations[c[U]];if(j==="string"){if(Re==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ne=[],te=de/4;for(let Ce=0;Ce<ce;Ce++){let ye=p.HEAPU32[te++],Le=Ce===ce-1?void 0:p.HEAPU32[te]-ye;ne.push(p.UTF8ToString(ye,Le))}Ee.push([j,Me,ne,"cpu"])}else if(Re==="gpu-buffer"&&ce>0){let ne=p.jsepGetBuffer(de),te=ir(Fe);if(te===void 0||!xt(j))throw new Error(`Unsupported data type: ${j}`);se=!0,Ee.push([j,Me,{gpuBuffer:ne,download:p.jsepCreateDownloader(ne,ce*te,j),dispose:()=>{p._OrtReleaseTensor(x)}},"gpu-buffer"])}else{let ne=jn(j),te=new ne(ce);new Uint8Array(te.buffer,te.byteOffset,te.byteLength).set(p.HEAPU8.subarray(de,de+te.byteLength)),Ee.push([j,Me,te,"cpu"])}}finally{p.stackRestore(ge),j==="string"&&de&&p._free(de),se||p._OrtReleaseTensor(x)}}return S&&p._OrtClearBoundOutputs(S.handle),Ee}finally{p.stackRestore(oe),T.forEach(Q=>p._OrtReleaseTensor(Q)),L.forEach(Q=>p._OrtReleaseTensor(Q)),z.forEach(Q=>p._free(Q)),F!==0&&p._OrtReleaseRunOptions(F),D.forEach(Q=>p._free(Q))}},Zn=r=>{let o=Z(),t=gt.get(r);if(!t)throw new Error("invalid session id");let c=t[0],s=o._OrtEndProfiling(c);s===0&&J("Can't get an profile file name."),o._OrtFree(s)},Kn=r=>{let o=[];for(let t of r){let c=t[2];!Array.isArray(c)&&"buffer"in c&&o.push(c.buffer)}return o}});var ta=Ke((ti,za)=>{za.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var _t=Object.defineProperty;var $r=Object.getOwnPropertyDescriptor;var qr=Object.getOwnPropertyNames;var Vr=Object.prototype.hasOwnProperty;var vt=(u,c)=>()=>(u&&(c=u(u=0)),c);var rt=(u,c)=>()=>(c||u((c={exports:{}}).exports,c),c.exports),St=(u,c)=>{for(var n in c)_t(u,n,{get:c[n],enumerable:!0})},Jr=(u,c,n,y)=>{if(c&&typeof c=="object"||typeof c=="function")for(let l of qr(c))!Vr.call(u,l)&&l!==n&&_t(u,l,{get:()=>c[l],enumerable:!(y=$r(c,l))||y.enumerable});return u};var nt=u=>Jr(_t({},"__esModule",{value:!0}),u);var Et={};St(Et,{readFile:()=>Xr});var Xr,Tt=vt(()=>{Xr=void 0});var Mt={};St(Mt,{join:()=>Qr});var Qr,At=vt(()=>{Qr=void 0});var dr=rt((cr,Ct)=>{"use strict";var lr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(c={}){var n=c,y,l;n.ready=new Promise((t,o)=>{y=t,l=o});var w=Object.assign({},n),g="./this.program",i=typeof window=="object",I=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",W,F,L;if(P){var k=(Tt(),nt(Et)),R=(At(),nt(Mt));x=I?R.dirname(x)+"/":__dirname+"/",W=(t,o)=>(t=t.startsWith("file://")?new URL(t):R.normalize(t),k.readFileSync(t,o?void 0:"utf8")),L=t=>(t=W(t,!0),t.buffer||(t=new Uint8Array(t)),t),F=(t,o,s,p=!0)=>{t=t.startsWith("file://")?new URL(t):R.normalize(t),k.readFile(t,p?void 0:"utf8",(b,S)=>{b?s(b):o(p?S.buffer:S)})},!n.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(i||I)&&(I?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",W=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},I&&(L=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),F=(t,o,s)=>{var p=new XMLHttpRequest;p.open("GET",t,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?o(p.response):s()},p.onerror=s,p.send(null)});var _=n.print||console.log.bind(console),B=n.printErr||console.error.bind(console);Object.assign(n,w),w=null,n.thisProgram&&(g=n.thisProgram);var fe;n.wasmBinary&&(fe=n.wasmBinary);var Be=n.noExitRuntime||!0;typeof WebAssembly!="object"&&z("no native wasm support detected");var pe,E,he=!1,ye,V,M,X;function te(){var t=pe.buffer;n.HEAP8=ye=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAP32=M=new Int32Array(t),n.HEAPU8=V=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=X=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t)}var Oe=[],be=[],C=[];function T(){var t=n.preRun.shift();Oe.unshift(t)}var ce=0,oe=null,re=null;function z(t){throw n.onAbort&&n.onAbort(t),t="Aborted("+t+")",B(t),he=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),l(t),t}function se(t){return t.startsWith("data:application/octet-stream;base64,")}var we;if(we="ort-training-wasm-simd.wasm",!se(we)){var _e=we;we=n.locateFile?n.locateFile(_e,x):x+_e}function De(t){if(t==we&&fe)return new Uint8Array(fe);if(L)return L(t);throw"both async and sync fetching of the wasm failed"}function me(t){if(!fe&&(i||I)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>De(t));if(F)return new Promise((o,s)=>{F(t,p=>o(new Uint8Array(p)),s)})}return Promise.resolve().then(()=>De(t))}function Ae(t,o,s){return me(t).then(p=>WebAssembly.instantiate(p,o)).then(p=>p).then(s,p=>{B("failed to asynchronously prepare wasm: "+p),z(p)})}function ve(t,o){var s=we;return fe||typeof WebAssembly.instantiateStreaming!="function"||se(s)||s.startsWith("file://")||P||typeof fetch!="function"?Ae(s,t,o):fetch(s,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,t).then(o,function(b){return B("wasm streaming compile failed: "+b),B("falling back to ArrayBuffer instantiation"),Ae(s,t,o)}))}var ie,Se=t=>{for(;0<t.length;)t.shift()(n)};function K(t){this.Ha=t-24,this.La=function(o){X[this.Ha+4>>2>>>0]=o},this.Ka=function(o){X[this.Ha+8>>2>>>0]=o},this.Ia=function(o,s){this.Ja(),this.La(o),this.Ka(s)},this.Ja=function(){X[this.Ha+16>>2>>>0]=0}}var Q=0,Ee=0,de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(t,o,s)=>{o>>>=0;var p=o+s;for(s=o;t[s]&&!(s>=p);)++s;if(16<s-o&&t.buffer&&de)return de.decode(t.subarray(o,s));for(p="";o<s;){var b=t[o++];if(b&128){var S=t[o++]&63;if((b&224)==192)p+=String.fromCharCode((b&31)<<6|S);else{var D=t[o++]&63;b=(b&240)==224?(b&15)<<12|S<<6|D:(b&7)<<18|S<<12|D<<6|t[o++]&63,65536>b?p+=String.fromCharCode(b):(b-=65536,p+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else p+=String.fromCharCode(b)}return p},Ce=(t,o)=>(t>>>=0)?xe(V,t,o):"",We=t=>{for(var o=0,s=0;s<t.length;++s){var p=t.charCodeAt(s);127>=p?o++:2047>=p?o+=2:55296<=p&&57343>=p?(o+=4,++s):o+=3}return o},ke=(t,o,s,p)=>{if(s>>>=0,!(0<p))return 0;var b=s;p=s+p-1;for(var S=0;S<t.length;++S){var D=t.charCodeAt(S);if(55296<=D&&57343>=D){var $=t.charCodeAt(++S);D=65536+((D&1023)<<10)|$&1023}if(127>=D){if(s>=p)break;o[s++>>>0]=D}else{if(2047>=D){if(s+1>=p)break;o[s++>>>0]=192|D>>6}else{if(65535>=D){if(s+2>=p)break;o[s++>>>0]=224|D>>12}else{if(s+3>=p)break;o[s++>>>0]=240|D>>18,o[s++>>>0]=128|D>>12&63}o[s++>>>0]=128|D>>6&63}o[s++>>>0]=128|D&63}}return o[s>>>0]=0,s-b},ge=t=>t%4===0&&(t%100!==0||t%400===0),je=[0,31,60,91,121,152,182,213,244,274,305,335],Re=[0,31,59,90,120,151,181,212,243,273,304,334],$e=t=>{var o=We(t)+1,s=Qe(o);return s&&ke(t,V,s,o),s},qe={},Ve=()=>{if(!Je){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in qe)qe[o]===void 0?delete t[o]:t[o]=qe[o];var s=[];for(o in t)s.push(`${o}=${t[o]}`);Je=s}return Je},Je,Fe=[null,[],[]],Ie=[31,29,31,30,31,30,31,31,30,31,30,31],Ne=[31,28,31,30,31,30,31,31,30,31,30,31];function it(t){var o=Array(We(t)+1);return ke(t,o,0,o.length),o}function Xe(t,o,s,p){function b(d,U,H){for(d=typeof d=="number"?d.toString():d||"";d.length<U;)d=H[0]+d;return d}function S(d,U){return b(d,U,"0")}function D(d,U){function H(tt){return 0>tt?-1:0<tt?1:0}var Te;return(Te=H(d.getFullYear()-U.getFullYear()))===0&&(Te=H(d.getMonth()-U.getMonth()))===0&&(Te=H(d.getDate()-U.getDate())),Te}function $(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function ue(d){var U=d.Ca;for(d=new Date(new Date(d.Da+1900,0,1).getTime());0<U;){var H=d.getMonth(),Te=(ge(d.getFullYear())?Ie:Ne)[H];if(U>Te-d.getDate())U-=Te-d.getDate()+1,d.setDate(1),11>H?d.setMonth(H+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+U);break}}return H=new Date(d.getFullYear()+1,0,4),U=$(new Date(d.getFullYear(),0,4)),H=$(H),0>=D(U,d)?0>=D(H,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}t>>>=0,o>>>=0,s>>>=0,p>>>=0;var ne=M[p+40>>2>>>0];p={Oa:M[p>>2>>>0],Na:M[p+4>>2>>>0],Ea:M[p+8>>2>>>0],Ga:M[p+12>>2>>>0],Fa:M[p+16>>2>>>0],Da:M[p+20>>2>>>0],xa:M[p+24>>2>>>0],Ca:M[p+28>>2>>>0],Qa:M[p+32>>2>>>0],Ma:M[p+36>>2>>>0],Pa:ne?Ce(ne):""},s=Ce(s),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ae in ne)s=s.replace(new RegExp(ae,"g"),ne[ae]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),et="January February March April May June July August September October November December".split(" ");ne={"%a":d=>Ke[d.xa].substring(0,3),"%A":d=>Ke[d.xa],"%b":d=>et[d.Fa].substring(0,3),"%B":d=>et[d.Fa],"%C":d=>S((d.Da+1900)/100|0,2),"%d":d=>S(d.Ga,2),"%e":d=>b(d.Ga,2," "),"%g":d=>ue(d).toString().substring(2),"%G":d=>ue(d),"%H":d=>S(d.Ea,2),"%I":d=>(d=d.Ea,d==0?d=12:12<d&&(d-=12),S(d,2)),"%j":d=>{for(var U=0,H=0;H<=d.Fa-1;U+=(ge(d.Da+1900)?Ie:Ne)[H++]);return S(d.Ga+U,3)},"%m":d=>S(d.Fa+1,2),"%M":d=>S(d.Na,2),"%n":()=>`\n`,"%p":d=>0<=d.Ea&&12>d.Ea?"AM":"PM","%S":d=>S(d.Oa,2),"%t":()=>"	","%u":d=>d.xa||7,"%U":d=>S(Math.floor((d.Ca+7-d.xa)/7),2),"%V":d=>{var U=Math.floor((d.Ca+7-(d.xa+6)%7)/7);if(2>=(d.xa+371-d.Ca-2)%7&&U++,U)U==53&&(H=(d.xa+371-d.Ca)%7,H==4||H==3&&ge(d.Da)||(U=1));else{U=52;var H=(d.xa+7-d.Ca-1)%7;(H==4||H==5&&ge(d.Da%400-1))&&U++}return S(U,2)},"%w":d=>d.xa,"%W":d=>S(Math.floor((d.Ca+7-(d.xa+6)%7)/7),2),"%y":d=>(d.Da+1900).toString().substring(2),"%Y":d=>d.Da+1900,"%z":d=>{d=d.Ma;var U=0<=d;return d=Math.abs(d)/60,(U?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.Pa,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ae in ne)s.includes(ae)&&(s=s.replace(new RegExp(ae,"g"),ne[ae](p)));return s=s.replace(/\\0\\0/g,"%"),ae=it(s),ae.length>o?0:(ye.set(ae,t>>>0),ae.length-1)}var st={a:function(t,o,s){throw t>>>=0,new K(t).Ia(o>>>0,s>>>0),Q=t,Ee++,Q},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),M[s>>2>>>0]=t.getUTCSeconds(),M[s+4>>2>>>0]=t.getUTCMinutes(),M[s+8>>2>>>0]=t.getUTCHours(),M[s+12>>2>>>0]=t.getUTCDate(),M[s+16>>2>>>0]=t.getUTCMonth(),M[s+20>>2>>>0]=t.getUTCFullYear()-1900,M[s+24>>2>>>0]=t.getUTCDay(),M[s+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),M[s>>2>>>0]=t.getSeconds(),M[s+4>>2>>>0]=t.getMinutes(),M[s+8>>2>>>0]=t.getHours(),M[s+12>>2>>>0]=t.getDate(),M[s+16>>2>>>0]=t.getMonth(),M[s+20>>2>>>0]=t.getFullYear()-1900,M[s+24>>2>>>0]=t.getDay(),M[s+28>>2>>>0]=(ge(t.getFullYear())?je:Re)[t.getMonth()]+t.getDate()-1|0,M[s+36>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var p=new Date(t.getFullYear(),0,1).getTimezoneOffset();M[s+32>>2>>>0]=(o!=p&&t.getTimezoneOffset()==Math.min(p,o))|0},q:function(t){t>>>=0;var o=new Date(M[t+20>>2>>>0]+1900,M[t+16>>2>>>0],M[t+12>>2>>>0],M[t+8>>2>>>0],M[t+4>>2>>>0],M[t>>2>>>0],0),s=M[t+32>>2>>>0],p=o.getTimezoneOffset(),b=new Date(o.getFullYear(),6,1).getTimezoneOffset(),S=new Date(o.getFullYear(),0,1).getTimezoneOffset(),D=Math.min(S,b);return 0>s?M[t+32>>2>>>0]=+(b!=S&&D==p):0<s!=(D==p)&&(b=Math.max(S,b),o.setTime(o.getTime()+6e4*((0<s?D:b)-p))),M[t+24>>2>>>0]=o.getDay(),M[t+28>>2>>>0]=(ge(o.getFullYear())?je:Re)[o.getMonth()]+o.getDate()-1|0,M[t>>2>>>0]=o.getSeconds(),M[t+4>>2>>>0]=o.getMinutes(),M[t+8>>2>>>0]=o.getHours(),M[t+12>>2>>>0]=o.getDate(),M[t+16>>2>>>0]=o.getMonth(),M[t+20>>2>>>0]=o.getYear(),t=o.getTime()/1e3,He((ie=t,1<=+Math.abs(ie)?0<ie?+Math.floor(ie/4294967296)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)),t>>>0},m:function(){return-52},n:function(){},t:function(t,o,s){function p(ue){return(ue=ue.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ue[1]:"GMT"}s>>>=0;var b=new Date().getFullYear(),S=new Date(b,0,1),D=new Date(b,6,1);b=S.getTimezoneOffset();var $=D.getTimezoneOffset();X[t>>>0>>2>>>0]=60*Math.max(b,$),M[o>>>0>>2>>>0]=+(b!=$),t=p(S),o=p(D),t=$e(t),o=$e(o),$<b?(X[s>>2>>>0]=t,X[s+4>>2>>>0]=o):(X[s>>2>>>0]=o,X[s+4>>2>>>0]=t)},d:()=>{z("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(t,o,s){return o>>>=0,V.copyWithin(t>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(t){t>>>=0;var o=V.length;if(4294901760<t)return!1;for(var s=1;4>=s;s*=2){var p=o*(1+.2/s);p=Math.min(p,t+100663296);var b=Math;p=Math.max(t,p);e:{b=b.min.call(b,4294901760,p+(65536-p%65536)%65536)-pe.buffer.byteLength+65535>>>16;try{pe.grow(b),te();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(t,o){t>>>=0,o>>>=0;var s=0;return Ve().forEach(function(p,b){var S=o+s;for(b=X[t+4*b>>2>>>0]=S,S=0;S<p.length;++S)ye[b++>>0>>>0]=p.charCodeAt(S);ye[b>>0>>>0]=0,s+=p.length+1}),0},D:function(t,o){t>>>=0,o>>>=0;var s=Ve();X[t>>2>>>0]=s.length;var p=0;return s.forEach(function(b){p+=b.length+1}),X[o>>2>>>0]=p,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(t,o,s,p){o>>>=0,s>>>=0,p>>>=0;for(var b=0,S=0;S<s;S++){var D=X[o>>2>>>0],$=X[o+4>>2>>>0];o+=8;for(var ue=0;ue<$;ue++){var ne=V[D+ue>>>0],ae=Fe[t];ne===0||ne===10?((t===1?_:B)(xe(ae,0)),ae.length=0):ae.push(ne)}b+=$}return X[p>>2>>>0]=b,0},A:Xe,c:function(t,o,s,p){return Xe(t>>>0,o>>>0,s>>>0,p>>>0)}};(function(){function t(s){if(s=s.exports,E=s=Ge(s),pe=E.J,te(),be.unshift(E.K),ce--,n.monitorRunDependencies&&n.monitorRunDependencies(ce),ce==0&&(oe!==null&&(clearInterval(oe),oe=null),re)){var p=re;re=null,p()}return s}var o={a:st};if(ce++,n.monitorRunDependencies&&n.monitorRunDependencies(ce),n.instantiateWasm)try{return n.instantiateWasm(o,t)}catch(s){B("Module.instantiateWasm callback failed with error: "+s),l(s)}return ve(o,function(s){t(s.instance)}).catch(l),{}})(),n._OrtInit=(t,o)=>(n._OrtInit=E.L)(t,o),n._OrtGetLastError=(t,o)=>(n._OrtGetLastError=E.M)(t,o),n._OrtCreateSessionOptions=(t,o,s,p,b,S,D,$,ue,ne)=>(n._OrtCreateSessionOptions=E.N)(t,o,s,p,b,S,D,$,ue,ne),n._OrtAppendExecutionProvider=(t,o)=>(n._OrtAppendExecutionProvider=E.O)(t,o),n._OrtAddFreeDimensionOverride=(t,o,s)=>(n._OrtAddFreeDimensionOverride=E.P)(t,o,s),n._OrtAddSessionConfigEntry=(t,o,s)=>(n._OrtAddSessionConfigEntry=E.Q)(t,o,s),n._OrtReleaseSessionOptions=t=>(n._OrtReleaseSessionOptions=E.R)(t),n._OrtCreateSession=(t,o,s)=>(n._OrtCreateSession=E.S)(t,o,s),n._OrtReleaseSession=t=>(n._OrtReleaseSession=E.T)(t),n._OrtGetInputOutputCount=(t,o,s)=>(n._OrtGetInputOutputCount=E.U)(t,o,s),n._OrtGetInputName=(t,o)=>(n._OrtGetInputName=E.V)(t,o),n._OrtGetOutputName=(t,o)=>(n._OrtGetOutputName=E.W)(t,o),n._OrtFree=t=>(n._OrtFree=E.X)(t),n._OrtCreateTensor=(t,o,s,p,b,S)=>(n._OrtCreateTensor=E.Y)(t,o,s,p,b,S),n._OrtGetTensorData=(t,o,s,p,b)=>(n._OrtGetTensorData=E.Z)(t,o,s,p,b),n._OrtReleaseTensor=t=>(n._OrtReleaseTensor=E._)(t),n._OrtCreateRunOptions=(t,o,s,p)=>(n._OrtCreateRunOptions=E.$)(t,o,s,p),n._OrtAddRunConfigEntry=(t,o,s)=>(n._OrtAddRunConfigEntry=E.aa)(t,o,s),n._OrtReleaseRunOptions=t=>(n._OrtReleaseRunOptions=E.ba)(t),n._OrtCreateBinding=t=>(n._OrtCreateBinding=E.ca)(t),n._OrtBindInput=(t,o,s)=>(n._OrtBindInput=E.da)(t,o,s),n._OrtBindOutput=(t,o,s,p)=>(n._OrtBindOutput=E.ea)(t,o,s,p),n._OrtClearBoundOutputs=t=>(n._OrtClearBoundOutputs=E.fa)(t),n._OrtReleaseBinding=t=>(n._OrtReleaseBinding=E.ga)(t),n._OrtRunWithBinding=(t,o,s,p,b)=>(n._OrtRunWithBinding=E.ha)(t,o,s,p,b),n._OrtRun=(t,o,s,p,b,S,D,$)=>(n._OrtRun=E.ia)(t,o,s,p,b,S,D,$),n._OrtEndProfiling=t=>(n._OrtEndProfiling=E.ja)(t),n._OrtTrainingLoadCheckpoint=(t,o)=>(n._OrtTrainingLoadCheckpoint=E.ka)(t,o),n._OrtTrainingReleaseCheckpoint=t=>(n._OrtTrainingReleaseCheckpoint=E.la)(t),n._OrtTrainingCreateSession=(t,o,s,p,b,S,D,$)=>(n._OrtTrainingCreateSession=E.ma)(t,o,s,p,b,S,D,$),n._OrtTrainingLazyResetGrad=t=>(n._OrtTrainingLazyResetGrad=E.na)(t),n._OrtTrainingRunTrainStep=(t,o,s,p,b,S)=>(n._OrtTrainingRunTrainStep=E.oa)(t,o,s,p,b,S),n._OrtTrainingOptimizerStep=(t,o)=>(n._OrtTrainingOptimizerStep=E.pa)(t,o),n._OrtTrainingEvalStep=(t,o,s,p,b,S)=>(n._OrtTrainingEvalStep=E.qa)(t,o,s,p,b,S),n._OrtTrainingGetParametersSize=(t,o,s)=>(n._OrtTrainingGetParametersSize=E.ra)(t,o,s),n._OrtTrainingCopyParametersToBuffer=(t,o,s,p)=>(n._OrtTrainingCopyParametersToBuffer=E.sa)(t,o,s,p),n._OrtTrainingCopyParametersFromBuffer=(t,o,s,p)=>(n._OrtTrainingCopyParametersFromBuffer=E.ta)(t,o,s,p),n._OrtTrainingReleaseSession=t=>(n._OrtTrainingReleaseSession=E.ua)(t);var Qe=n._malloc=t=>(Qe=n._malloc=E.va)(t);n._free=t=>(n._free=E.wa)(t);var He=t=>(He=E.ya)(t),Ze=()=>(Ze=E.za)(),ze=t=>(ze=E.Aa)(t),A=t=>(A=E.Ba)(t);function Ge(t){t=Object.assign({},t);var o=p=>()=>p()>>>0,s=p=>b=>p(b)>>>0;return t.__errno_location=o(t.__errno_location),t.malloc=s(t.malloc),t.stackSave=o(t.stackSave),t.stackAlloc=s(t.stackAlloc),t}n.stackAlloc=A,n.stackSave=Ze,n.stackRestore=ze,n.UTF8ToString=Ce,n.stringToUTF8=(t,o,s)=>ke(t,V,o,s),n.lengthBytesUTF8=We;var Pe;re=function t(){Pe||Le(),Pe||(re=t)};function Le(){function t(){if(!Pe&&(Pe=!0,n.calledRun=!0,!he)){if(Se(be),y(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var o=n.postRun.shift();C.unshift(o)}Se(C)}}if(!(0<ce)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)T();Se(Oe),0<ce||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Le(),c.ready}})();typeof cr=="object"&&typeof Ct=="object"?Ct.exports=lr:typeof define=="function"&&define.amd&&define([],()=>lr)});var pr=rt(()=>{});var mr=rt(()=>{});var gr={};St(gr,{cpus:()=>Zr});var Zr,hr=vt(()=>{Zr=void 0});var br=rt((Or,Rt)=>{"use strict";var yr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(c={}){function n(){return C.buffer!=z.buffer&&me(),z}function y(){return C.buffer!=z.buffer&&me(),se}function l(){return C.buffer!=z.buffer&&me(),we}function w(){return C.buffer!=z.buffer&&me(),_e}function g(){return C.buffer!=z.buffer&&me(),De}var i=c,I,P;i.ready=new Promise((e,r)=>{I=e,P=r});var x=Object.assign({},i),W="./this.program",F=(e,r)=>{throw r},L=typeof window=="object",k=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=i.ENVIRONMENT_IS_PTHREAD||!1,B="";function fe(e){return i.locateFile?i.locateFile(e,B):B+e}var Be,pe,E;if(R){var he=(Tt(),nt(Et)),ye=(At(),nt(Mt));B=k?ye.dirname(B)+"/":__dirname+"/",Be=(r,a)=>(r=r.startsWith("file://")?new URL(r):ye.normalize(r),he.readFileSync(r,a?void 0:"utf8")),E=r=>(r=Be(r,!0),r.buffer||(r=new Uint8Array(r)),r),pe=(r,a,f,O=!0)=>{r=r.startsWith("file://")?new URL(r):ye.normalize(r),he.readFile(r,O?void 0:"utf8",(h,v)=>{h?f(h):a(O?v.buffer:v)})},!i.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(r,a)=>{throw process.exitCode=r,a},i.inspect=()=>"[Emscripten Module object]";let e;try{e=pr()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(L||k)&&(k?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof u<"u"&&u&&(B=u),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",R||(Be=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},k&&(E=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),pe=(e,r,a)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?r(f.response):a()},f.onerror=a,f.send(null)}));R&&typeof performance>"u"&&(global.performance=mr().performance);var V=console.log.bind(console),M=console.error.bind(console);R&&(V=(...e)=>he.writeSync(1,e.join(" ")+`\n`),M=(...e)=>he.writeSync(2,e.join(" ")+`\n`));var X=i.print||V,te=i.printErr||M;Object.assign(i,x),x=null,i.thisProgram&&(W=i.thisProgram),i.quit&&(F=i.quit);var Oe;i.wasmBinary&&(Oe=i.wasmBinary);var be=i.noExitRuntime||!0;typeof WebAssembly!="object"&&ge("no native wasm support detected");var C,T,ce,oe=!1,re,z,se,we,_e,De;function me(){var e=C.buffer;i.HEAP8=z=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=we=new Int32Array(e),i.HEAPU8=se=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=_e=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=De=new Float64Array(e)}var Ae=i.INITIAL_MEMORY||16777216;if(5242880<=Ae||ge("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ae+"! (STACK_SIZE=5242880)"),_)C=i.wasmMemory;else if(i.wasmMemory)C=i.wasmMemory;else if(C=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(C.buffer instanceof SharedArrayBuffer))throw te("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),R&&te("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Ae=C.buffer.byteLength;var ve,ie=[],Se=[],K=[],Q=0;function Ee(){return be||0<Q}var de=0,xe=null,Ce=null;function We(){de++,i.monitorRunDependencies&&i.monitorRunDependencies(de)}function ke(){if(de--,i.monitorRunDependencies&&i.monitorRunDependencies(de),de==0&&(xe!==null&&(clearInterval(xe),xe=null),Ce)){var e=Ce;Ce=null,e()}}function ge(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",te(e),oe=!0,re=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}function je(e){return e.startsWith("data:application/octet-stream;base64,")}var Re;Re="ort-wasm-threaded.wasm",je(Re)||(Re=fe(Re));function $e(e){if(e==Re&&Oe)return new Uint8Array(Oe);if(E)return E(e);throw"both async and sync fetching of the wasm failed"}function qe(e){if(!Oe&&(L||k)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>$e(e));if(pe)return new Promise((r,a)=>{pe(e,f=>r(new Uint8Array(f)),a)})}return Promise.resolve().then(()=>$e(e))}function Ve(e,r,a){return qe(e).then(f=>WebAssembly.instantiate(f,r)).then(f=>f).then(a,f=>{te("failed to asynchronously prepare wasm: "+f),ge(f)})}function Je(e,r){var a=Re;return Oe||typeof WebAssembly.instantiateStreaming!="function"||je(a)||a.startsWith("file://")||R||typeof fetch!="function"?Ve(a,e,r):fetch(a,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(r,function(O){return te("wasm streaming compile failed: "+O),te("falling back to ArrayBuffer instantiation"),Ve(a,e,r)}))}var Fe;function Ie(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ne(e){e.terminate(),e.onmessage=()=>{}}function it(e){(e=A.La[e])||ge(),A.lb(e)}function Xe(e){var r=A.fb();if(!r)return 6;A.Oa.push(r),A.La[e.Na]=r,r.Na=e.Na;var a={cmd:"run",start_routine:e.mb,arg:e.eb,pthread_ptr:e.Na};return R&&r.unref(),r.postMessage(a,e.sb),0}var st=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Qe=(e,r,a)=>{r>>>=0;var f=r+a;for(a=r;e[a]&&!(a>=f);)++a;if(16<a-r&&e.buffer&&st)return st.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(f="";r<a;){var O=e[r++];if(O&128){var h=e[r++]&63;if((O&224)==192)f+=String.fromCharCode((O&31)<<6|h);else{var v=e[r++]&63;O=(O&240)==224?(O&15)<<12|h<<6|v:(O&7)<<18|h<<12|v<<6|e[r++]&63,65536>O?f+=String.fromCharCode(O):(O-=65536,f+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else f+=String.fromCharCode(O)}return f},He=(e,r)=>(e>>>=0)?Qe(y(),e,r):"";function Ze(e){if(_)return G(1,1,e);re=e,Ee()||(A.nb(),i.onExit&&i.onExit(e),oe=!0),F(e,new Ie(e))}var ze=e=>{if(re=e,_)throw Pe(e),"unwind";Ze(e)},A={Ra:[],Oa:[],Za:[],La:{},Va:function(){_?A.hb():A.gb()},gb:function(){ie.unshift(()=>{We(),A.ib(()=>ke())})},hb:function(){A.receiveObjectTransfer=A.kb,A.threadInitTLS=A.Ya,A.setExitStatus=A.Xa,be=!1},Xa:function(e){re=e},xb:["$terminateWorker"],nb:function(){for(var e of A.Oa)Ne(e);for(e of A.Ra)Ne(e);A.Ra=[],A.Oa=[],A.La=[]},lb:function(e){var r=e.Na;delete A.La[r],A.Ra.push(e),A.Oa.splice(A.Oa.indexOf(e),1),e.Na=0,yt(r)},kb:function(){},Ya:function(){A.Za.forEach(e=>e())},jb:e=>new Promise(r=>{e.onmessage=h=>{h=h.data;var v=h.cmd;if(h.targetThread&&h.targetThread!=ft()){var Y=A.La[h.wb];Y?Y.postMessage(h,h.transferList):te(\'Internal error! Worker sent a message "\'+v+\'" to target pthread \'+h.targetThread+", but that thread no longer exists!")}else v==="checkMailbox"?ut():v==="spawnThread"?Xe(h):v==="cleanupThread"?it(h.thread):v==="killThread"?(h=h.thread,v=A.La[h],delete A.La[h],Ne(v),yt(h),A.Oa.splice(A.Oa.indexOf(v),1),v.Na=0):v==="cancelThread"?A.La[h.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,r(e)):v==="alert"?alert("Thread "+h.threadId+": "+h.text):h.target==="setimmediate"?e.postMessage(h):v==="callHandler"?i[h.handler](...h.args):v&&te("worker sent an unknown command "+v)},e.onerror=h=>{throw te("worker sent an error! "+h.filename+":"+h.lineno+": "+h.message),h},R&&(e.on("message",function(h){e.onmessage({data:h})}),e.on("error",function(h){e.onerror(h)}));var a=[],f=["onExit","onAbort","print","printErr"],O;for(O of f)i.hasOwnProperty(O)&&a.push(O);e.postMessage({cmd:"load",handlers:a,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:C,wasmModule:ce})}),ib:function(e){e()},cb:function(){var e=fe("ort-wasm-threaded.worker.js");e=new Worker(e),A.Ra.push(e)},fb:function(){return A.Ra.length==0&&(A.cb(),A.jb(A.Ra[0])),A.Ra.pop()}};i.PThread=A;var Ge=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=ft(),r=l()[e+52>>2>>>0];e=l()[e+56>>2>>>0],or(r,r-e),lt(r)};function Pe(e){if(_)return G(2,0,e);ze(e)}var Le=[];i.invokeEntryPoint=function(e,r){var a=Le[e];a||(e>=Le.length&&(Le.length=e+1),Le[e]=a=ve.get(e)),e=a(r),Ee()?A.Xa(e):Ot(e)};function t(e){this.Ua=e-24,this.bb=function(r){w()[this.Ua+4>>2>>>0]=r},this.ab=function(r){w()[this.Ua+8>>2>>>0]=r},this.Va=function(r,a){this.$a(),this.bb(r),this.ab(a)},this.$a=function(){w()[this.Ua+16>>2>>>0]=0}}var o=0,s=0;function p(e,r,a,f){return _?G(3,1,e,r,a,f):b(e,r,a,f)}function b(e,r,a,f){if(e>>>=0,r>>>=0,a>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return te("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var O=[];return _&&O.length===0?p(e,r,a,f):(e={mb:a,Na:e,eb:f,sb:O},_?(e.ub="spawnThread",postMessage(e,O),0):Xe(e))}function S(e,r,a){return _?G(4,1,e,r,a):0}function D(e,r){if(_)return G(5,1,e,r)}var $=e=>{for(var r=0,a=0;a<e.length;++a){var f=e.charCodeAt(a);127>=f?r++:2047>=f?r+=2:55296<=f&&57343>=f?(r+=4,++a):r+=3}return r},ue=(e,r,a,f)=>{if(a>>>=0,!(0<f))return 0;var O=a;f=a+f-1;for(var h=0;h<e.length;++h){var v=e.charCodeAt(h);if(55296<=v&&57343>=v){var Y=e.charCodeAt(++h);v=65536+((v&1023)<<10)|Y&1023}if(127>=v){if(a>=f)break;r[a++>>>0]=v}else{if(2047>=v){if(a+1>=f)break;r[a++>>>0]=192|v>>6}else{if(65535>=v){if(a+2>=f)break;r[a++>>>0]=224|v>>12}else{if(a+3>=f)break;r[a++>>>0]=240|v>>18,r[a++>>>0]=128|v>>12&63}r[a++>>>0]=128|v>>6&63}r[a++>>>0]=128|v&63}}return r[a>>>0]=0,a-O},ne=(e,r,a)=>ue(e,y(),r,a);function ae(e,r){if(_)return G(6,1,e,r)}function Ke(e,r,a){if(_)return G(7,1,e,r,a)}function et(e,r,a){return _?G(8,1,e,r,a):0}function d(e,r){if(_)return G(9,1,e,r)}function U(e,r,a){if(_)return G(10,1,e,r,a)}function H(e,r,a,f){if(_)return G(11,1,e,r,a,f)}function Te(e,r,a,f){if(_)return G(12,1,e,r,a,f)}function tt(e,r,a,f){if(_)return G(13,1,e,r,a,f)}function Ut(e){if(_)return G(14,1,e)}function Bt(e,r){if(_)return G(15,1,e,r)}function Wt(e,r,a){if(_)return G(16,1,e,r,a)}var Wr=e=>{if(!oe)try{if(e(),!Ee())try{_?Ot(re):ze(re)}catch(r){r instanceof Ie||r=="unwind"||F(1,r)}}catch(r){r instanceof Ie||r=="unwind"||F(1,r)}};function pt(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(l(),e>>2,e).value.then(ut),e+=128,Atomics.store(l(),e>>2,1))}i.__emscripten_thread_mailbox_await=pt;function ut(){var e=ft();e&&(pt(e),Wr(()=>nr()))}i.checkMailbox=ut;var Ye=e=>e%4===0&&(e%100!==0||e%400===0),kt=[0,31,60,91,121,152,182,213,244,274,305,335],Nt=[0,31,59,90,120,151,181,212,243,273,304,334];function Ht(e,r,a,f,O,h,v,Y){return _?G(17,1,e,r,a,f,O,h,v,Y):-52}function zt(e,r,a,f,O,h,v){if(_)return G(18,1,e,r,a,f,O,h,v)}var Gt=e=>{var r=$(e)+1,a=er(r);return a&&ne(e,a,r),a},kr=e=>{var r=bt();return e=e(),lt(r),e};function G(e,r){var a=arguments.length-2,f=arguments;return kr(()=>{for(var O=wt(8*a),h=O>>3,v=0;v<a;v++){var Y=f[2+v];g()[h+v>>>0]=Y}return rr(e,a,O,r)})}var mt=[],gt={},Yt=()=>{if(!ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},r;for(r in gt)gt[r]===void 0?delete e[r]:e[r]=gt[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);ht=a}return ht},ht;function jt(e,r){if(_)return G(19,1,e,r);e>>>=0,r>>>=0;var a=0;return Yt().forEach(function(f,O){var h=r+a;for(O=w()[e+4*O>>2>>>0]=h,h=0;h<f.length;++h)n()[O++>>0>>>0]=f.charCodeAt(h);n()[O>>0>>>0]=0,a+=f.length+1}),0}function $t(e,r){if(_)return G(20,1,e,r);e>>>=0,r>>>=0;var a=Yt();w()[e>>2>>>0]=a.length;var f=0;return a.forEach(function(O){f+=O.length+1}),w()[r>>2>>>0]=f,0}function qt(e){return _?G(21,1,e):52}function Vt(e,r,a,f){return _?G(22,1,e,r,a,f):52}function Jt(e,r,a,f,O){return _?G(23,1,e,r,a,f,O):70}var Nr=[null,[],[]];function Xt(e,r,a,f){if(_)return G(24,1,e,r,a,f);r>>>=0,a>>>=0,f>>>=0;for(var O=0,h=0;h<a;h++){var v=w()[r>>2>>>0],Y=w()[r+4>>2>>>0];r+=8;for(var Me=0;Me<Y;Me++){var ee=y()[v+Me>>>0],le=Nr[e];ee===0||ee===10?((e===1?X:te)(Qe(le,0)),le.length=0):le.push(ee)}O+=Y}return w()[f>>2>>>0]=O,0}var Qt=[31,29,31,30,31,30,31,31,30,31,30,31],Zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Hr(e){var r=Array($(e)+1);return ue(e,r,0,r.length),r}var zr=(e,r)=>{n().set(e,r>>>0)};function Kt(e,r,a,f){function O(m,N,j){for(m=typeof m=="number"?m.toString():m||"";m.length<N;)m=j[0]+m;return m}function h(m,N){return O(m,N,"0")}function v(m,N){function j(fr){return 0>fr?-1:0<fr?1:0}var Ue;return(Ue=j(m.getFullYear()-N.getFullYear()))===0&&(Ue=j(m.getMonth()-N.getMonth()))===0&&(Ue=j(m.getDate()-N.getDate())),Ue}function Y(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function Me(m){var N=m.Pa;for(m=new Date(new Date(m.Qa+1900,0,1).getTime());0<N;){var j=m.getMonth(),Ue=(Ye(m.getFullYear())?Qt:Zt)[j];if(N>Ue-m.getDate())N-=Ue-m.getDate()+1,m.setDate(1),11>j?m.setMonth(j+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+N);break}}return j=new Date(m.getFullYear()+1,0,4),N=Y(new Date(m.getFullYear(),0,4)),j=Y(j),0>=v(N,m)?0>=v(j,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,f>>>=0;var ee=l()[f+40>>2>>>0];f={qb:l()[f>>2>>>0],pb:l()[f+4>>2>>>0],Sa:l()[f+8>>2>>>0],Wa:l()[f+12>>2>>>0],Ta:l()[f+16>>2>>>0],Qa:l()[f+20>>2>>>0],Ma:l()[f+24>>2>>>0],Pa:l()[f+28>>2>>>0],yb:l()[f+32>>2>>>0],ob:l()[f+36>>2>>>0],rb:ee?He(ee):""},a=He(a),ee={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in ee)a=a.replace(new RegExp(le,"g"),ee[le]);var sr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");ee={"%a":m=>sr[m.Ma].substring(0,3),"%A":m=>sr[m.Ma],"%b":m=>ur[m.Ta].substring(0,3),"%B":m=>ur[m.Ta],"%C":m=>h((m.Qa+1900)/100|0,2),"%d":m=>h(m.Wa,2),"%e":m=>O(m.Wa,2," "),"%g":m=>Me(m).toString().substring(2),"%G":m=>Me(m),"%H":m=>h(m.Sa,2),"%I":m=>(m=m.Sa,m==0?m=12:12<m&&(m-=12),h(m,2)),"%j":m=>{for(var N=0,j=0;j<=m.Ta-1;N+=(Ye(m.Qa+1900)?Qt:Zt)[j++]);return h(m.Wa+N,3)},"%m":m=>h(m.Ta+1,2),"%M":m=>h(m.pb,2),"%n":()=>`\n`,"%p":m=>0<=m.Sa&&12>m.Sa?"AM":"PM","%S":m=>h(m.qb,2),"%t":()=>"	","%u":m=>m.Ma||7,"%U":m=>h(Math.floor((m.Pa+7-m.Ma)/7),2),"%V":m=>{var N=Math.floor((m.Pa+7-(m.Ma+6)%7)/7);if(2>=(m.Ma+371-m.Pa-2)%7&&N++,N)N==53&&(j=(m.Ma+371-m.Pa)%7,j==4||j==3&&Ye(m.Qa)||(N=1));else{N=52;var j=(m.Ma+7-m.Pa-1)%7;(j==4||j==5&&Ye(m.Qa%400-1))&&N++}return h(N,2)},"%w":m=>m.Ma,"%W":m=>h(Math.floor((m.Pa+7-(m.Ma+6)%7)/7),2),"%y":m=>(m.Qa+1900).toString().substring(2),"%Y":m=>m.Qa+1900,"%z":m=>{m=m.ob;var N=0<=m;return m=Math.abs(m)/60,(N?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.rb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(le in ee)a.includes(le)&&(a=a.replace(new RegExp(le,"g"),ee[le](f)));return a=a.replace(/\\0\\0/g,"%"),le=Hr(a),le.length>r?0:(zr(le,e),le.length-1)}A.Va();var Gr=[null,Ze,Pe,p,S,D,ae,Ke,et,d,U,H,Te,tt,Ut,Bt,Wt,Ht,zt,jt,$t,qt,Vt,Jt,Xt],Yr={b:function(e,r,a){throw e>>>=0,new t(e).Va(r>>>0,a>>>0),o=e,s++,o},N:function(e){tr(e>>>0,!k,1,!L,131072,!1),A.Ya()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):it(e)},I:b,h:S,T:D,D:ae,F:Ke,U:et,R:d,J:U,Q:H,n:Te,E:tt,B:Ut,S:Bt,C:Wt,q:()=>!0,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>ut()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=A.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:pt,p:function(e){R&&A.La[e>>>0].ref()},t:function(e,r,a){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,a>>>=0,e=new Date(1e3*e),l()[a>>2>>>0]=e.getUTCSeconds(),l()[a+4>>2>>>0]=e.getUTCMinutes(),l()[a+8>>2>>>0]=e.getUTCHours(),l()[a+12>>2>>>0]=e.getUTCDate(),l()[a+16>>2>>>0]=e.getUTCMonth(),l()[a+20>>2>>>0]=e.getUTCFullYear()-1900,l()[a+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[a+28>>2>>>0]=e},u:function(e,r,a){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,a>>>=0,e=new Date(1e3*e),l()[a>>2>>>0]=e.getSeconds(),l()[a+4>>2>>>0]=e.getMinutes(),l()[a+8>>2>>>0]=e.getHours(),l()[a+12>>2>>>0]=e.getDate(),l()[a+16>>2>>>0]=e.getMonth(),l()[a+20>>2>>>0]=e.getFullYear()-1900,l()[a+24>>2>>>0]=e.getDay(),r=(Ye(e.getFullYear())?kt:Nt)[e.getMonth()]+e.getDate()-1|0,l()[a+28>>2>>>0]=r,l()[a+36>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=f&&e.getTimezoneOffset()==Math.min(f,r))|0,l()[a+32>>2>>>0]=e},v:function(e){e>>>=0;var r=new Date(l()[e+20>>2>>>0]+1900,l()[e+16>>2>>>0],l()[e+12>>2>>>0],l()[e+8>>2>>>0],l()[e+4>>2>>>0],l()[e>>2>>>0],0),a=l()[e+32>>2>>>0],f=r.getTimezoneOffset(),O=new Date(r.getFullYear(),6,1).getTimezoneOffset(),h=new Date(r.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(h,O);return 0>a?l()[e+32>>2>>>0]=+(O!=h&&v==f):0<a!=(v==f)&&(O=Math.max(h,O),r.setTime(r.getTime()+6e4*((0<a?v:O)-f))),l()[e+24>>2>>>0]=r.getDay(),a=(Ye(r.getFullYear())?kt:Nt)[r.getMonth()]+r.getDate()-1|0,l()[e+28>>2>>>0]=a,l()[e>>2>>>0]=r.getSeconds(),l()[e+4>>2>>>0]=r.getMinutes(),l()[e+8>>2>>>0]=r.getHours(),l()[e+12>>2>>>0]=r.getDate(),l()[e+16>>2>>>0]=r.getMonth(),l()[e+20>>2>>>0]=r.getYear(),e=r.getTime()/1e3,ar((Fe=e,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),e>>>0},r:Ht,s:zt,y:function(e,r,a){function f(ee){return(ee=ee.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ee[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var O=new Date().getFullYear(),h=new Date(O,0,1),v=new Date(O,6,1);O=h.getTimezoneOffset();var Y=v.getTimezoneOffset(),Me=Math.max(O,Y);w()[e>>2>>>0]=60*Me,l()[r>>2>>>0]=+(O!=Y),e=f(h),r=f(v),e=Gt(e),r=Gt(r),Y<O?(w()[a>>2>>>0]=e,w()[a+4>>2>>>0]=r):(w()[a>>2>>>0]=r,w()[a+4>>2>>>0]=e)},c:()=>{ge("")},k:function(){},i:function(){return Date.now()},o:()=>{throw Q+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return R?(hr(),nt(gr)).cpus().length:navigator.hardwareConcurrency},K:function(e,r,a,f){for(A.vb=r>>>0,mt.length=a,r=f>>>0>>3,f=0;f<a;f++)mt[f]=g()[r+f>>>0];return Gr[e].apply(null,mt)},x:function(e){e>>>=0;var r=y().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var f=r*(1+.2/a);f=Math.min(f,e+100663296);var O=Math;f=Math.max(e,f);e:{O=O.min.call(O,4294901760,f+(65536-f%65536)%65536)-C.buffer.byteLength+65535>>>16;try{C.grow(O),me();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},O:jt,P:$t,H:ze,g:qt,m:Vt,w:Jt,l:Xt,a:C||i.wasmMemory,G:Kt,d:function(e,r,a,f){return Kt(e>>>0,r>>>0,a>>>0,f>>>0)}};(function(){function e(a,f){return a=a.exports,T=a=jr(a),A.Za.push(T.ya),ve=T.za,Se.unshift(T.V),ce=f,ke(),a}var r={a:Yr};if(We(),i.instantiateWasm)try{return i.instantiateWasm(r,e)}catch(a){te("Module.instantiateWasm callback failed with error: "+a),P(a)}return Je(r,function(a){e(a.instance,a.module)}).catch(P),{}})(),i._OrtInit=(e,r)=>(i._OrtInit=T.W)(e,r),i._OrtGetLastError=(e,r)=>(i._OrtGetLastError=T.X)(e,r),i._OrtCreateSessionOptions=(e,r,a,f,O,h,v,Y,Me,ee)=>(i._OrtCreateSessionOptions=T.Y)(e,r,a,f,O,h,v,Y,Me,ee),i._OrtAppendExecutionProvider=(e,r)=>(i._OrtAppendExecutionProvider=T.Z)(e,r),i._OrtAddFreeDimensionOverride=(e,r,a)=>(i._OrtAddFreeDimensionOverride=T._)(e,r,a),i._OrtAddSessionConfigEntry=(e,r,a)=>(i._OrtAddSessionConfigEntry=T.$)(e,r,a),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,r,a)=>(i._OrtCreateSession=T.ba)(e,r,a),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,r,a)=>(i._OrtGetInputOutputCount=T.da)(e,r,a),i._OrtGetInputName=(e,r)=>(i._OrtGetInputName=T.ea)(e,r),i._OrtGetOutputName=(e,r)=>(i._OrtGetOutputName=T.fa)(e,r),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,r,a,f,O,h)=>(i._OrtCreateTensor=T.ha)(e,r,a,f,O,h),i._OrtGetTensorData=(e,r,a,f,O)=>(i._OrtGetTensorData=T.ia)(e,r,a,f,O),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,r,a,f)=>(i._OrtCreateRunOptions=T.ka)(e,r,a,f),i._OrtAddRunConfigEntry=(e,r,a)=>(i._OrtAddRunConfigEntry=T.la)(e,r,a),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,r,a)=>(i._OrtBindInput=T.oa)(e,r,a),i._OrtBindOutput=(e,r,a,f)=>(i._OrtBindOutput=T.pa)(e,r,a,f),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,r,a,f,O)=>(i._OrtRunWithBinding=T.sa)(e,r,a,f,O),i._OrtRun=(e,r,a,f,O,h,v,Y)=>(i._OrtRun=T.ta)(e,r,a,f,O,h,v,Y),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var ft=i._pthread_self=()=>(ft=i._pthread_self=T.va)(),er=i._malloc=e=>(er=i._malloc=T.wa)(e);i._free=e=>(i._free=T.xa)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.ya)();var tr=i.__emscripten_thread_init=(e,r,a,f,O,h)=>(tr=i.__emscripten_thread_init=T.Aa)(e,r,a,f,O,h);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ba)();var rr=(e,r,a,f)=>(rr=T.Ca)(e,r,a,f),yt=e=>(yt=T.Da)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Ea)(e),nr=i.__emscripten_check_mailbox=()=>(nr=i.__emscripten_check_mailbox=T.Fa)(),ar=e=>(ar=T.Ga)(e),or=(e,r)=>(or=T.Ha)(e,r),bt=()=>(bt=T.Ia)(),lt=e=>(lt=T.Ja)(e),wt=e=>(wt=T.Ka)(e);function jr(e){e=Object.assign({},e);var r=f=>()=>f()>>>0,a=f=>O=>f(O)>>>0;return e.__errno_location=r(e.__errno_location),e.pthread_self=r(e.pthread_self),e.malloc=a(e.malloc),e.stackSave=r(e.stackSave),e.stackAlloc=a(e.stackAlloc),e}i.keepRuntimeAlive=Ee,i.wasmMemory=C,i.stackAlloc=wt,i.stackSave=bt,i.stackRestore=lt,i.UTF8ToString=He,i.stringToUTF8=ne,i.lengthBytesUTF8=$,i.ExitStatus=Ie,i.PThread=A;var ct;Ce=function e(){ct||ir(),ct||(Ce=e)};function ir(){function e(){if(!ct&&(ct=!0,i.calledRun=!0,!oe)&&(_||Ge(Se),I(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!_)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var r=i.postRun.shift();K.unshift(r)}Ge(K)}}if(!(0<de))if(_)I(i),_||Ge(Se),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ie.unshift(i.preRun.shift());Ge(ie),0<de||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return ir(),c.ready}})();typeof Or=="object"&&typeof Rt=="object"?Rt.exports=yr:typeof define=="function"&&define.amd&&define([],()=>yr)});var wr=rt((hn,Kr)=>{Kr.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var vr;vr=dr();var en=br(),Dt,xt=!1,dt=!1,_r=!1,tn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},rn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},nn=(u,c)=>u?"ort-training-wasm-simd.wasm":c?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sr=async u=>{if(xt)return Promise.resolve();if(dt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(_r)throw new Error("previous call to \'initializeWebAssembly()\' failed.");dt=!0;let c=u.initTimeout,n=u.numThreads,y=u.simd,l=n>1&&tn(),w=y&&rn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,I=nn(w,l),P=typeof g=="object"?g[I]:void 0,x=!1,W=[];if(c>0&&W.push(new Promise(F=>{setTimeout(()=>{x=!0,F()},c)})),W.push(new Promise((F,L)=>{let k=l?en:vr,R={locateFile:(_,B)=>l&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([wr()],{type:"text/javascript"})):_.endsWith(".wasm")?P||(i??B)+I:B+_};if(l)if(typeof Blob>"u")R.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${k.toString()};`;R.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}k(R).then(_=>{dt=!1,xt=!0,Dt=_,F()},_=>{dt=!1,_r=!0,L(_)})})),await Promise.race(W),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${c}ms`)},J=()=>{if(xt&&Dt)return Dt;throw new Error("WebAssembly is not initialized yet.")};var Z=(u,c)=>{let n=J(),y=n.lengthBytesUTF8(u)+1,l=n._malloc(y);return n.stringToUTF8(u,l,y),c.push(l),l},at=(u,c,n,y)=>{if(typeof u=="object"&&u!==null){if(n.has(u))throw new Error("Circular reference in options");n.add(u)}Object.entries(u).forEach(([l,w])=>{let g=c?c+l:l;if(typeof w=="object")at(w,g+".",n,y);else if(typeof w=="string"||typeof w=="number")y(g,w.toString());else if(typeof w=="boolean")y(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},q=u=>{let c=J(),n=c.stackSave();try{let y=c.stackAlloc(8);c._OrtGetLastError(y,y+4);let l=c.HEAP32[y/4],w=c.HEAPU32[y/4+1],g=w?c.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{c.stackRestore(n)}};var Er=u=>{let c=J(),n=0,y=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let w=0;return u?.tag!==void 0&&(w=Z(u.tag,y)),n=c._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,w),n===0&&q("Can\'t create run options."),u?.extra!==void 0&&at(u.extra,"",new WeakSet,(g,i)=>{let I=Z(g,y),P=Z(i,y);c._OrtAddRunConfigEntry(n,I,P)!==0&&q(`Can\'t set a run config entry: ${g} - ${i}.`)}),[n,y]}catch(w){throw n!==0&&c._OrtReleaseRunOptions(n),y.forEach(g=>c._free(g)),w}};var an=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},on=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},sn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let c=u.extra.session;c.use_ort_model_bytes_directly||(c.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(u.enableMemPattern=!1)},un=(u,c,n)=>{for(let y of c){let l=typeof y=="string"?y:y.name;switch(l){case"xnnpack":l="XNNPACK";break;case"webnn":if(l="WEBNN",typeof y!="string"){let g=y;if(g?.deviceType){let i=Z("deviceType",n),I=Z(g.deviceType,n);J()._OrtAddSessionConfigEntry(u,i,I)!==0&&q(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.powerPreference){let i=Z("powerPreference",n),I=Z(g.powerPreference,n);J()._OrtAddSessionConfigEntry(u,i,I)!==0&&q(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof y!="string"){let g=y;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=Z("preferredLayout",n),I=Z(g.preferredLayout,n);J()._OrtAddSessionConfigEntry(u,i,I)!==0&&q(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let w=Z(l,n);J()._OrtAppendExecutionProvider(u,w)!==0&&q(`Can\'t append execution provider: ${l}.`)}},Tr=u=>{let c=J(),n=0,y=[],l=u||{};sn(l);try{let w=an(l.graphOptimizationLevel??"all"),g=on(l.executionMode??"sequential"),i=typeof l.logId=="string"?Z(l.logId,y):0,I=l.logSeverityLevel??2;if(!Number.isInteger(I)||I<0||I>4)throw new Error(`log serverity level is not valid: ${I}`);let P=l.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let x=typeof l.optimizedModelFilePath=="string"?Z(l.optimizedModelFilePath,y):0;if(n=c._OrtCreateSessionOptions(w,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,i,I,P,x),n===0&&q("Can\'t create session options."),l.executionProviders&&un(n,l.executionProviders,y),l.freeDimensionOverrides)for(let[W,F]of Object.entries(l.freeDimensionOverrides)){if(typeof W!="string")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let L=Z(W,y);c._OrtAddFreeDimensionOverride(n,L,F)!==0&&q(`Can\'t set a free dimension override: ${W} - ${F}.`)}return l.extra!==void 0&&at(l.extra,"",new WeakSet,(W,F)=>{let L=Z(W,y),k=Z(F,y);c._OrtAddSessionConfigEntry(n,L,k)!==0&&q(`Can\'t set a session config entry: ${W} - ${F}.`)}),[n,y]}catch(w){throw n!==0&&c._OrtReleaseSessionOptions(n),y.forEach(g=>c._free(g)),w}};var Ft=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Mr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Ar=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Cr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Rr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Dr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var fn=u=>{let c=J(),n=c.stackSave();try{let y=c.stackAlloc(8);return c._OrtGetInputOutputCount(u,y,y+4)!==0&&q("Can\'t get session input/output count."),[c.HEAP32[y/4],c.HEAP32[y/4+1]]}finally{c.stackRestore(n)}},ln=(u,c)=>{J()._OrtInit(u,c)!==0&&q("Can\'t initialize onnxruntime.")},Fr=async u=>{ln(u.wasm.numThreads,Cr(u.logLevel))},ot=new Map,Pt=u=>{let c=J(),n=c._malloc(u.byteLength);if(n===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return c.HEAPU8.set(u,n),[n,u.byteLength]},Lt=(u,c)=>{let n=J(),y=0,l=0,w=0,g=[],i=[],I=[];try{[l,g]=Tr(c),y=n._OrtCreateSession(u[0],u[1],l),y===0&&q("Can\'t create a session.");let[P,x]=fn(y),W=[],F=[],L=[];for(let R=0;R<P;R++){let _=n._OrtGetInputName(y,R);_===0&&q("Can\'t get an input name."),i.push(_),W.push(n.UTF8ToString(_))}for(let R=0;R<x;R++){let _=n._OrtGetOutputName(y,R);_===0&&q("Can\'t get an output name."),I.push(_);let B=n.UTF8ToString(_);F.push(B)}let k=null;return ot.set(y,[y,i,I,k]),[y,W,F]}catch(P){throw i.forEach(x=>n._OrtFree(x)),I.forEach(x=>n._OrtFree(x)),w!==0&&n._OrtReleaseBinding(w),y!==0&&n._OrtReleaseSession(y),P}finally{n._free(u[0]),l!==0&&n._OrtReleaseSessionOptions(l),g.forEach(P=>n._free(P))}},Ir=(u,c)=>{let n=Pt(u);return Lt(n,c)},Pr=u=>{let c=J(),n=ot.get(u);if(!n)throw new Error(`cannot release session. invalid session id: ${u}`);let[y,l,w,g]=n;g&&c._OrtReleaseBinding(g.handle),c.jsepUnregisterBuffers?.(u),l.forEach(i=>c._OrtFree(i)),w.forEach(i=>c._OrtFree(i)),c._OrtReleaseSession(y),ot.delete(u)},xr=(u,c,n,y,l)=>{if(!u){c.push(0);return}let w=J(),g=u[0],i=u[1],I=u[3],P,x;if(g==="string"&&I==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(I==="gpu-buffer"){let L=u[2].gpuBuffer,k=It(Ft(g));x=i.reduce((R,_)=>R*_,1)*k,P=w.jsepRegisterBuffer(y,l,L,x)}else{let L=u[2];if(Array.isArray(L)){x=4*L.length,P=w._malloc(x),n.push(P);let k=P/4;for(let R=0;R<L.length;R++){if(typeof L[R]!="string")throw new TypeError(`tensor data at index ${R} is not a string`);w.HEAPU32[k++]=Z(L[R],n)}}else x=L.byteLength,P=w._malloc(x),n.push(P),w.HEAPU8.set(new Uint8Array(L.buffer,L.byteOffset,x),P)}let W=w.stackSave(),F=w.stackAlloc(4*i.length);try{let L=F/4;i.forEach(R=>w.HEAP32[L++]=R);let k=w._OrtCreateTensor(Ft(g),P,x,F,i.length,Dr(I));k===0&&q(`Can\'t create tensor for input/output. session=${y}, index=${l}.`),c.push(k)}finally{w.stackRestore(W)}},Lr=async(u,c,n,y,l,w)=>{let g=J(),i=ot.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let[I,P,x,W]=i,F=c.length,L=y.length,k=0,R=[],_=[],B=[],fe=[],Be=g.stackSave(),pe=g.stackAlloc(F*4),E=g.stackAlloc(F*4),he=g.stackAlloc(L*4),ye=g.stackAlloc(L*4);try{[k,R]=Er(w);for(let C=0;C<F;C++)xr(n[C],_,fe,u,c[C]);for(let C=0;C<L;C++)xr(l[C],B,fe,u,F+y[C]);let V=pe/4,M=E/4,X=he/4,te=ye/4;for(let C=0;C<F;C++)g.HEAPU32[V++]=_[C],g.HEAPU32[M++]=P[c[C]];for(let C=0;C<L;C++)g.HEAPU32[X++]=B[C],g.HEAPU32[te++]=x[y[C]];let Oe;Oe=await g._OrtRun(I,E,pe,F,ye,L,he,k),Oe!==0&&q("failed to call OrtRun().");let be=[];for(let C=0;C<L;C++){let T=g.HEAPU32[he/4+C];if(T===B[C]){be.push(l[C]);continue}let ce=g.stackSave(),oe=g.stackAlloc(4*4),re=!1,z,se=0;try{g._OrtGetTensorData(T,oe,oe+4,oe+8,oe+12)!==0&&q(`Can\'t access output tensor data on index ${C}.`);let _e=oe/4,De=g.HEAPU32[_e++];se=g.HEAPU32[_e++];let me=g.HEAPU32[_e++],Ae=g.HEAPU32[_e++],ve=[];for(let K=0;K<Ae;K++)ve.push(g.HEAPU32[me/4+K]);g._OrtFree(me);let ie=ve.reduce((K,Q)=>K*Q,1);z=Mr(De);let Se=W?.outputPreferredLocations[y[C]];if(z==="string"){if(Se==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],Q=se/4;for(let Ee=0;Ee<ie;Ee++){let de=g.HEAPU32[Q++],xe=Ee===ie-1?void 0:g.HEAPU32[Q]-de;K.push(g.UTF8ToString(de,xe))}be.push([z,ve,K,"cpu"])}else if(Se==="gpu-buffer"&&ie>0){let K=g.jsepGetBuffer(se),Q=It(De);if(Q===void 0||!Rr(z))throw new Error(`Unsupported data type: ${z}`);re=!0,be.push([z,ve,{gpuBuffer:K,download:g.jsepCreateDownloader(K,ie*Q,z),dispose:()=>{g._OrtReleaseTensor(T)}},"gpu-buffer"])}else{let K=Ar(z),Q=new K(ie);new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength).set(g.HEAPU8.subarray(se,se+Q.byteLength)),be.push([z,ve,Q,"cpu"])}}finally{g.stackRestore(ce),z==="string"&&se&&g._free(se),re||g._OrtReleaseTensor(T)}}return W&&g._OrtClearBoundOutputs(W.handle),be}finally{g.stackRestore(Be),_.forEach(V=>g._OrtReleaseTensor(V)),B.forEach(V=>g._OrtReleaseTensor(V)),fe.forEach(V=>g._free(V)),k!==0&&g._OrtReleaseRunOptions(k),R.forEach(V=>g._free(V))}},Ur=u=>{let c=J(),n=ot.get(u);if(!n)throw new Error("invalid session id");let y=n[0],l=c._OrtEndProfiling(y);l===0&&q("Can\'t get an profile file name."),c._OrtFree(l)},Br=u=>{let c=[];for(let n of u){let y=n[2];!Array.isArray(y)&&"buffer"in y&&c.push(y.buffer)}return c};self.onmessage=u=>{switch(u.data.type){case"init-wasm":try{Sr(u.data.in).then(()=>postMessage({type:"init-wasm"}),c=>postMessage({type:"init-wasm",err:c}))}catch(c){postMessage({type:"init-wasm",err:c})}break;case"init-ort":try{Fr(u.data.in).then(()=>postMessage({type:"init-ort"}),c=>postMessage({type:"init-ort",err:c}))}catch(c){postMessage({type:"init-ort",err:c})}break;case"create_allocate":try{let{model:c}=u.data.in,n=Pt(c);postMessage({type:"create_allocate",out:n})}catch(c){postMessage({type:"create_allocate",err:c})}break;case"create_finalize":try{let{modeldata:c,options:n}=u.data.in,y=Lt(c,n);postMessage({type:"create_finalize",out:y})}catch(c){postMessage({type:"create_finalize",err:c})}break;case"create":try{let{model:c,options:n}=u.data.in,y=Ir(c,n);postMessage({type:"create",out:y})}catch(c){postMessage({type:"create",err:c})}break;case"release":try{let c=u.data.in;Pr(c),postMessage({type:"release"})}catch(c){postMessage({type:"release",err:c})}break;case"run":try{let{sessionId:c,inputIndices:n,inputs:y,outputIndices:l,options:w}=u.data.in;Lr(c,n,y,l,w).then(g=>{postMessage({type:"run",out:g},Br(g))},g=>{postMessage({type:"run",err:g})})}catch(c){postMessage({type:"run",err:c})}break;case"end-profiling":try{let c=u.data.in;Ur(c),postMessage({type:"end-profiling"})}catch(c){postMessage({type:"end-profiling",err:c})}break;default:}};})();\n'});var We,we,Bt,wr,br,lr,cr,dr,pr,mr,hr,gr,yr,Ye,Ga,It,ra,na,aa,oa,Or,ia,sa,ua,vr=N(()=>{"use strict";tt();ea();rt();We=()=>!!q.wasm.proxy&&typeof document<"u",Bt=!1,wr=!1,br=!1,dr=[],pr=[],mr=[],hr=[],gr=[],yr=[],Ye=()=>{if(Bt||!wr||br||!we)throw new Error("worker not ready")},Ga=r=>{switch(r.data.type){case"init-wasm":Bt=!1,r.data.err?(br=!0,lr[1](r.data.err)):(wr=!0,lr[0]());break;case"init-ort":r.data.err?cr[1](r.data.err):cr[0]();break;case"create_allocate":r.data.err?dr.shift()[1](r.data.err):dr.shift()[0](r.data.out);break;case"create_finalize":r.data.err?pr.shift()[1](r.data.err):pr.shift()[0](r.data.out);break;case"create":r.data.err?mr.shift()[1](r.data.err):mr.shift()[0](r.data.out);break;case"release":r.data.err?hr.shift()[1](r.data.err):hr.shift()[0]();break;case"run":r.data.err?gr.shift()[1](r.data.err):gr.shift()[0](r.data.out);break;case"end-profiling":r.data.err?yr.shift()[1](r.data.err):yr.shift()[0]();break;default:}},It=typeof document<"u"?document?.currentScript?.src:void 0,ra=async()=>{if(We()){if(wr)return;if(Bt)throw new Error("multiple calls to 'initWasm()' detected.");if(br)throw new Error("previous call to 'initWasm()' failed.");return Bt=!0,q.wasm.wasmPaths===void 0&&It&&It.indexOf("blob:")!==0&&(q.wasm.wasmPaths=It.substr(0,+It.lastIndexOf("/")+1)),new Promise((r,o)=>{we?.terminate();let t=URL.createObjectURL(new Blob([ta()],{type:"text/javascript"}));we=new Worker(t,{name:"ort-wasm-proxy-worker"}),we.onerror=s=>o(s),we.onmessage=Ga,URL.revokeObjectURL(t),lr=[r,o];let c={type:"init-wasm",in:q.wasm};we.postMessage(c)})}else return kn(q.wasm)},na=async r=>{if(We())return Ye(),new Promise((o,t)=>{cr=[o,t];let c={type:"init-ort",in:r};we.postMessage(c)});await qn(r)},aa=async r=>We()?(Ye(),new Promise((o,t)=>{dr.push([o,t]);let c={type:"create_allocate",in:{model:r}};we.postMessage(c,[r.buffer])})):ur(r),oa=async(r,o)=>We()?(Ye(),new Promise((t,c)=>{pr.push([t,c]);let s={type:"create_finalize",in:{modeldata:r,options:o}};we.postMessage(s)})):fr(r,o),Or=async(r,o)=>{if(We()){if(o?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Ye(),new Promise((t,c)=>{mr.push([t,c]);let s={type:"create",in:{model:r,options:o}};we.postMessage(s,[r.buffer])})}else return Xn(r,o)},ia=async r=>{if(We())return Ye(),new Promise((o,t)=>{hr.push([o,t]);let c={type:"release",in:r};we.postMessage(c)});Jn(r)},sa=async(r,o,t,c,s,w)=>{if(We()){if(t.some(p=>p[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(s.some(p=>p))throw new Error("pre-allocated output tensor is not supported for proxy.");return Ye(),new Promise((p,i)=>{gr.push([p,i]);let b=t,y={type:"run",in:{sessionId:r,inputIndices:o,inputs:b,outputIndices:c,options:w}};we.postMessage(y,Kn(b))})}else return Qn(r,o,t,c,s,w)},ua=async r=>{if(We())return Ye(),new Promise((o,t)=>{yr.push([o,t]);let c={type:"end-profiling",in:r};we.postMessage(c)});Zn(r)}});var fa,Ut,la,ja,Ft,ca=N(()=>{"use strict";tt();vr();sr();la=(r,o)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${o()}`)}},ja=r=>{switch(r[3]){case"cpu":return new Ue(r[0],r[2],r[1]);case"gpu-buffer":{let o=r[0];if(!xt(o))throw new Error(`not supported data type: ${o} for deserializing GPU tensor`);let{gpuBuffer:t,download:c,dispose:s}=r[2];return Ue.fromGpuBuffer(t,{dataType:o,dims:r[1],download:c,dispose:s})}default:throw new Error(`invalid data location: ${r[3]}`)}},Ft=class{async createSessionAllocate(o){let t=await fetch(o);if(t.status!==200)throw new Error(`failed to load model: ${o}`);let c=await t.arrayBuffer();return aa(new Uint8Array(c))}async loadModel(o,t){if(fa||(Ut||(Ut=na(q)),await Ut,Ut=void 0,fa=!0),typeof o=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let c=await(void 0)(o);[this.sessionId,this.inputNames,this.outputNames]=await Or(c,t)}else{let c=await this.createSessionAllocate(o);[this.sessionId,this.inputNames,this.outputNames]=await oa(c,t)}else[this.sessionId,this.inputNames,this.outputNames]=await Or(o,t)}async dispose(){return ia(this.sessionId)}async run(o,t,c){let s=[],w=[];Object.entries(o).forEach(_=>{let M=_[0],F=_[1],D=this.inputNames.indexOf(M);if(D===-1)throw new Error(`invalid input '${M}'`);s.push(F),w.push(D)});let p=[],i=[];Object.entries(t).forEach(_=>{let M=_[0],F=_[1],D=this.outputNames.indexOf(M);if(D===-1)throw new Error(`invalid output '${M}'`);p.push(F),i.push(D)});let b=s.map((_,M)=>la(_,()=>`input "${this.inputNames[w[M]]}"`)),y=p.map((_,M)=>_?la(_,()=>`output "${this.outputNames[i[M]]}"`):null),O=await sa(this.sessionId,w,b,i,y,c),S={};for(let _=0;_<O.length;_++)S[this.outputNames[i[_]]]=p[_]??ja(O[_]);return S}startProfiling(){}endProfiling(){ua(this.sessionId)}}});var Ya,Lt,da=N(()=>{"use strict";tt();vr();ca();Ya=()=>{if((typeof q.wasm.initTimeout!="number"||q.wasm.initTimeout<0)&&(q.wasm.initTimeout=0),typeof q.wasm.simd!="boolean"&&(q.wasm.simd=!0),typeof q.wasm.proxy!="boolean"&&(q.wasm.proxy=!1),typeof q.wasm.numThreads!="number"||!Number.isInteger(q.wasm.numThreads)||q.wasm.numThreads<=0){let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;q.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},Lt=class{async init(){Ya(),await ra()}async createInferenceSessionHandler(o,t){let c=new Ft;return await c.loadModel(o,t),Promise.resolve(c)}}});var pa={};St(pa,{wasmBackend:()=>$a});var _r,$a,ma=N(()=>{"use strict";da();_r=class extends Lt{async createTrainingSessionHandler(o,t,c,s,w){throw new Error("Method not implemented yet.")}},$a=new _r});tt();tt();var En="1.17.0";{let r=(ma(),et(pa)).wasmBackend;Tt("cpu",r,10),Tt("wasm",r,10)}Object.defineProperty(q.versions,"web",{value:En,enumerable:!0});export{Oo as InferenceSession,Ue as Tensor,Eo as TrainingSession,q as env,Tt as registerBackend};
//# sourceMappingURL=ort.training.wasm.min.js.map
