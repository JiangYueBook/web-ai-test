/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var tr=Object.defineProperty;var Ia=Object.getOwnPropertyDescriptor;var xa=Object.getOwnPropertyNames;var Pa=Object.prototype.hasOwnProperty;var H=(r,a)=>()=>(r&&(a=r(r=0)),a);var ot=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports),yt=(r,a)=>{for(var t in a)tr(r,t,{get:a[t],enumerable:!0})},Ca=(r,a,t,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of xa(a))!Pa.call(r,s)&&s!==t&&tr(r,s,{get:()=>a[s],enumerable:!(f=Ia(a,s))||f.enumerable});return r};var it=r=>Ca(tr({},"__esModule",{value:!0}),r);var xt,$e,Ve,Pt,Ct=H(()=>{xt=new Map,$e=[],Ve=(r,a,t)=>{if(a&&typeof a.init=="function"&&typeof a.createInferenceSessionHandler=="function"){let f=xt.get(r);if(f===void 0)xt.set(r,{backend:a,priority:t});else{if(f.priority>t)return;if(f.priority===t&&f.backend!==a)throw new Error(`cannot register backend "${r}" using priority ${t}`)}if(t>=0){let s=$e.indexOf(r);s!==-1&&$e.splice(s,1);for(let g=0;g<$e.length;g++)if(xt.get($e[g]).priority<=t){$e.splice(g,0,r);return}$e.push(r)}return}throw new TypeError("not a valid backend")},Pt=async r=>{let a=r.length===0?$e:r,t=[];for(let f of a){let s=xt.get(f);if(s){if(s.initialized)return s.backend;if(s.aborted)continue;let g=!!s.initPromise;try{return g||(s.initPromise=s.backend.init()),await s.initPromise,s.initialized=!0,s.backend}catch(p){g||t.push({name:f,err:p}),s.aborted=!0}finally{delete s.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var an=H(()=>{Ct()});var on,sn=H(()=>{on="1.17.0"});var un,rr,ln=H(()=>{sn();un="warning",rr={wasm:{},webgl:{},webgpu:{},versions:{common:on},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);un=r}},get logLevel(){return un}};Object.defineProperty(rr,"logLevel",{enumerable:!0})});var q,fn=H(()=>{ln();q=rr});var cn,dn,pn=H(()=>{cn=(r,a)=>{let t=document.createElement("canvas");t.width=r.dims[3],t.height=r.dims[2];let f=t.getContext("2d");if(f!=null){let s,g;a?.tensorLayout!==void 0&&a.tensorLayout==="NHWC"?(s=r.dims[2],g=r.dims[3]):(s=r.dims[3],g=r.dims[2]);let p=a?.format!==void 0?a.format:"RGB",i=a?.norm,b,h;i===void 0||i.mean===void 0?b=[255,255,255,255]:typeof i.mean=="number"?b=[i.mean,i.mean,i.mean,i.mean]:(b=[i.mean[0],i.mean[1],i.mean[2],0],i.mean[3]!==void 0&&(b[3]=i.mean[3])),i===void 0||i.bias===void 0?h=[0,0,0,0]:typeof i.bias=="number"?h=[i.bias,i.bias,i.bias,i.bias]:(h=[i.bias[0],i.bias[1],i.bias[2],0],i.bias[3]!==void 0&&(h[3]=i.bias[3]));let v=g*s,A=0,E=v,R=v*2,L=-1;p==="RGBA"?(A=0,E=v,R=v*2,L=v*3):p==="RGB"?(A=0,E=v,R=v*2):p==="RBG"&&(A=0,R=v,E=v*2);for(let I=0;I<g;I++)for(let M=0;M<s;M++){let W=(r.data[A++]-h[0])*b[0],G=(r.data[E++]-h[1])*b[1],ue=(r.data[R++]-h[2])*b[2],ee=L===-1?255:(r.data[L++]-h[3])*b[3];f.fillStyle="rgba("+W+","+G+","+ue+","+ee+")",f.fillRect(M,I,1,1)}return t.toDataURL()}else throw new Error("Can not access image data")},dn=(r,a)=>{let t=document.createElement("canvas").getContext("2d"),f;if(t!=null){let s,g,p;a?.tensorLayout!==void 0&&a.tensorLayout==="NHWC"?(s=r.dims[2],g=r.dims[1],p=r.dims[3]):(s=r.dims[3],g=r.dims[2],p=r.dims[1]);let i=a!==void 0&&a.format!==void 0?a.format:"RGB",b=a?.norm,h,v;b===void 0||b.mean===void 0?h=[255,255,255,255]:typeof b.mean=="number"?h=[b.mean,b.mean,b.mean,b.mean]:(h=[b.mean[0],b.mean[1],b.mean[2],255],b.mean[3]!==void 0&&(h[3]=b.mean[3])),b===void 0||b.bias===void 0?v=[0,0,0,0]:typeof b.bias=="number"?v=[b.bias,b.bias,b.bias,b.bias]:(v=[b.bias[0],b.bias[1],b.bias[2],0],b.bias[3]!==void 0&&(v[3]=b.bias[3]));let A=g*s;if(a!==void 0&&(a.format!==void 0&&p===4&&a.format!=="RGBA"||p===3&&a.format!=="RGB"&&a.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,R=0,L=1,I=2,M=3,W=0,G=A,ue=A*2,ee=-1;i==="RGBA"?(W=0,G=A,ue=A*2,ee=A*3):i==="RGB"?(W=0,G=A,ue=A*2):i==="RBG"&&(W=0,ue=A,G=A*2),f=t.createImageData(s,g);for(let U=0;U<g*s;R+=E,L+=E,I+=E,M+=E,U++)f.data[R]=(r.data[W++]-v[0])*h[0],f.data[L]=(r.data[G++]-v[1])*h[1],f.data[I]=(r.data[ue++]-v[2])*h[2],f.data[M]=ee===-1?255:(r.data[ee++]-v[3])*h[3]}else throw new Error("Can not access image data");return f}});var nr,mn,hn,gn,yn,wn=H(()=>{Ut();nr=(r,a)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(a.height===void 0||a.width===void 0)throw new Error("Image height and width must be defined");if(a.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:f}=a,s=a.norm??{mean:255,bias:0},g,p;typeof s.mean=="number"?g=[s.mean,s.mean,s.mean,s.mean]:g=[s.mean[0],s.mean[1],s.mean[2],s.mean[3]??255],typeof s.bias=="number"?p=[s.bias,s.bias,s.bias,s.bias]:p=[s.bias[0],s.bias[1],s.bias[2],s.bias[3]??0];let i=a.format!==void 0?a.format:"RGBA",b=a.tensorFormat!==void 0&&a.tensorFormat!==void 0?a.tensorFormat:"RGB",h=t*f,v=b==="RGBA"?new Float32Array(h*4):new Float32Array(h*3),A=4,E=0,R=1,L=2,I=3,M=0,W=h,G=h*2,ue=-1;i==="RGB"&&(A=3,E=0,R=1,L=2,I=-1),b==="RGBA"?ue=h*3:b==="RBG"?(M=0,G=h,W=h*2):b==="BGR"&&(G=0,W=h,M=h*2);for(let U=0;U<h;U++,E+=A,L+=A,R+=A,I+=A)v[M++]=(r[E]+p[0])/g[0],v[W++]=(r[R]+p[1])/g[1],v[G++]=(r[L]+p[2])/g[2],ue!==-1&&I!==-1&&(v[ue++]=(r[I]+p[3])/g[3]);return b==="RGBA"?new ge("float32",v,[1,4,t,f]):new ge("float32",v,[1,3,t,f])},mn=async(r,a)=>{let t=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,f=typeof ImageData<"u"&&r instanceof ImageData,s=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,g=typeof r=="string",p,i=a??{};if(t){let b=document.createElement("canvas");b.width=r.width,b.height=r.height;let h=b.getContext("2d");if(h!=null){let v=r.height,A=r.width;if(a!==void 0&&a.resizedHeight!==void 0&&a.resizedWidth!==void 0&&(v=a.resizedHeight,A=a.resizedWidth),a!==void 0){if(i=a,a.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");i.tensorFormat="RGBA",i.height=v,i.width=A}else i.tensorFormat="RGBA",i.height=v,i.width=A;h.drawImage(r,0,0),p=h.getImageData(0,0,A,v).data}else throw new Error("Can not access image data")}else if(f){let b,h;if(a!==void 0&&a.resizedWidth!==void 0&&a.resizedHeight!==void 0?(b=a.resizedHeight,h=a.resizedWidth):(b=r.height,h=r.width),a!==void 0&&(i=a),i.format="RGBA",i.height=b,i.width=h,a!==void 0){let v=document.createElement("canvas");v.width=h,v.height=b;let A=v.getContext("2d");if(A!=null)A.putImageData(r,0,0),p=A.getImageData(0,0,h,b).data;else throw new Error("Can not access image data")}else p=r.data}else if(s){if(a===void 0)throw new Error("Please provide image config with format for Imagebitmap");let b=document.createElement("canvas");b.width=r.width,b.height=r.height;let h=b.getContext("2d");if(h!=null){let v=r.height,A=r.width;return h.drawImage(r,0,0,A,v),p=h.getImageData(0,0,A,v).data,i.height=v,i.width=A,nr(p,i)}else throw new Error("Can not access image data")}else{if(g)return new Promise((b,h)=>{let v=document.createElement("canvas"),A=v.getContext("2d");if(!r||!A)return h();let E=new Image;E.crossOrigin="Anonymous",E.src=r,E.onload=()=>{v.width=E.width,v.height=E.height,A.drawImage(E,0,0,v.width,v.height);let R=A.getImageData(0,0,v.width,v.height);i.height=v.height,i.width=v.width,b(nr(R.data,i))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(p!==void 0)return nr(p,i);throw new Error("Input data provided is not supported - aborted tensor creation")},hn=(r,a)=>{let{width:t,height:f,download:s,dispose:g}=a,p=[1,f,t,4];return new ge({location:"texture",type:"float32",texture:r,dims:p,download:s,dispose:g})},gn=(r,a)=>{let{dataType:t,dims:f,download:s,dispose:g}=a;return new ge({location:"gpu-buffer",type:t??"float32",gpuBuffer:r,dims:f,download:s,dispose:g})},yn=(r,a,t)=>new ge({location:"cpu-pinned",type:r,data:a,dims:t??[a.length]})});var wt,Ft,bn,vn,On=H(()=>{wt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Ft=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),bn=!1,vn=()=>{if(!bn){bn=!0;let r=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",a=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";r&&(wt.set("int64",BigInt64Array),Ft.set(BigInt64Array,"int64")),a&&(wt.set("uint64",BigUint64Array),Ft.set(BigUint64Array,"uint64"))}}});var _n,En,Sn=H(()=>{Ut();_n=r=>{let a=1;for(let t=0;t<r.length;t++){let f=r[t];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${t}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${f}`);a*=f}return a},En=(r,a)=>{switch(r.location){case"cpu":return new ge(r.type,r.data,a);case"cpu-pinned":return new ge({location:"cpu-pinned",data:r.data,type:r.type,dims:a});case"texture":return new ge({location:"texture",texture:r.texture,type:r.type,dims:a});case"gpu-buffer":return new ge({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:a});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var ge,Ut=H(()=>{pn();wn();On();Sn();ge=class{constructor(a,t,f){vn();let s,g;if(typeof a=="object"&&"location"in a)switch(this.dataLocation=a.location,s=a.type,g=a.dims,a.location){case"cpu-pinned":{let i=wt.get(s);if(!i)throw new TypeError(`unsupported type "${s}" to create tensor from pinned buffer`);if(!(a.data instanceof i))throw new TypeError(`buffer should be of type ${i.name}`);this.cpuData=a.data;break}case"texture":{if(s!=="float32")throw new TypeError(`unsupported type "${s}" to create tensor from texture`);this.gpuTextureData=a.texture,this.downloader=a.download,this.disposer=a.dispose;break}case"gpu-buffer":{if(s!=="float32"&&s!=="float16"&&s!=="int32"&&s!=="int64"&&s!=="uint32"&&s!=="bool")throw new TypeError(`unsupported type "${s}" to create tensor from gpu buffer`);this.gpuBufferData=a.gpuBuffer,this.downloader=a.download,this.disposer=a.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let i,b;if(typeof a=="string")if(s=a,b=f,a==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{let h=wt.get(a);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${a}.`);if(Array.isArray(t)){if(a==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");a==="uint64"||a==="int64"?i=h.from(t,BigInt):i=h.from(t)}else if(t instanceof h)i=t;else throw new TypeError(`A ${s} tensor's data must be type of ${h}`)}else if(b=t,Array.isArray(a)){if(a.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let h=typeof a[0];if(h==="string")s="string",i=a;else if(h==="boolean")s="bool",i=Uint8Array.from(a);else throw new TypeError(`Invalid element type of data array: ${h}.`)}else{let h=Ft.get(a.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${a.constructor}.`);s=h,i=a}if(b===void 0)b=[i.length];else if(!Array.isArray(b))throw new TypeError("A tensor's dims must be a number array");g=b,this.cpuData=i,this.dataLocation="cpu"}let p=_n(g);if(this.cpuData&&p!==this.cpuData.length)throw new Error(`Tensor's size(${p}) does not match data length(${this.cpuData.length}).`);this.type=s,this.dims=g,this.size=p}static async fromImage(a,t){return mn(a,t)}static fromTexture(a,t){return hn(a,t)}static fromGpuBuffer(a,t){return gn(a,t)}static fromPinnedBuffer(a,t,f){return yn(a,t,f)}toDataURL(a){return cn(this,a)}toImageData(a){return dn(this,a)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(a){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,a&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(a){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return En(this,a)}}});var me,Bt=H(()=>{Ut();me=ge});var Lt,An=H(()=>{Ct();Bt();Lt=class r{constructor(a){this.handler=a}async run(a,t,f){let s={},g={};if(typeof a!="object"||a===null||a instanceof me||Array.isArray(a))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let p=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof me)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");p=!1;for(let h of t){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);s[h]=null}if(typeof f=="object"&&f!==null)g=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,v=Object.getOwnPropertyNames(t);for(let A of this.outputNames)if(v.indexOf(A)!==-1){let E=t[A];(E===null||E instanceof me)&&(h=!0,p=!1,s[A]=E)}if(h){if(typeof f=="object"&&f!==null)g=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else g=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of this.inputNames)if(typeof a[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(p)for(let h of this.outputNames)s[h]=null;let i=await this.handler.run(a,s,g),b={};for(let h in i)if(Object.hasOwnProperty.call(i,h)){let v=i[h];v instanceof me?b[h]=v:b[h]=new me(v.type,v.data,v.dims)}return b}async release(){return this.handler.dispose()}static async create(a,t,f,s){let g,p={};if(typeof a=="string"){if(g=a,typeof t=="object"&&t!==null)p=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(a instanceof Uint8Array){if(g=a,typeof t=="object"&&t!==null)p=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(a instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&a instanceof SharedArrayBuffer){let A=a,E=0,R=a.byteLength;if(typeof t=="object"&&t!==null)p=t;else if(typeof t=="number"){if(E=t,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=A.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${A.byteLength}).`);if(R=a.byteLength-E,typeof f=="number"){if(R=f,!Number.isSafeInteger(R))throw new RangeError("'byteLength' must be an integer.");if(R<=0||E+R>A.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${A.byteLength-E}].`);if(typeof s=="object"&&s!==null)p=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");g=new Uint8Array(A,E,R)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let b=(p.executionProviders||[]).map(A=>typeof A=="string"?A:A.name),v=await(await Pt(b)).createInferenceSessionHandler(g,p);return new r(v)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Ua,Tn=H(()=>{An();Ua=Lt});var Mn=H(()=>{});var Fa,Wt,Rn=H(()=>{Ct();Bt();Fa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Wt=class r{constructor(a){this.handler=a}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(a,t){let f=a.evalModel||"",s=a.optimizerModel||"",g=t||{},i=(g.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),b=await Pt(i);if(b.createTrainingSessionHandler){let h=await b.createTrainingSessionHandler(a.checkpointState,a.trainModel,f,s,g);return new r(h)}else throw new Error(Fa)}typeNarrowingForRunStep(a,t,f){let s={},g={};if(typeof a!="object"||a===null||a instanceof me||Array.isArray(a))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let p=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof me)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");p=!1;for(let i of t){if(typeof i!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(i)===-1)throw new RangeError(`'fetches' contains invalid output name: ${i}.`);s[i]=null}if(typeof f=="object"&&f!==null)g=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let i=!1,b=Object.getOwnPropertyNames(t);for(let h of this.outputNames)if(b.indexOf(h)!==-1){let v=t[h];(v===null||v instanceof me)&&(i=!0,p=!1,s[h]=v)}if(i){if(typeof f=="object"&&f!==null)g=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else g=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let i of this.inputNames)if(typeof a[i]>"u")throw new Error(`input '${i}' is missing in 'feeds'.`);if(p)for(let i of this.outputNames)s[i]=null;return[s,g]}convertHandlerReturnTypeToMapOfTensors(a){let t={};for(let f in a)if(Object.hasOwnProperty.call(a,f)){let s=a[f];s instanceof me?t[f]=s:t[f]=new me(s.type,s.data,s.dims)}return t}async runTrainStep(a,t,f){let[s,g]=this.typeNarrowingForRunStep(a,t,f),p=await this.handler.runTrainStep(a,s,g);return this.convertHandlerReturnTypeToMapOfTensors(p)}async loadParametersBuffer(a,t){throw new Error("Method not implemented.")}async getContiguousParameters(a){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var Ba,Dn=H(()=>{Rn();Ba=Wt});var ar={};yt(ar,{InferenceSession:()=>Ua,Tensor:()=>me,TrainingSession:()=>Ba,env:()=>q,registerBackend:()=>Ve});var qe=H(()=>{an();fn();Tn();Bt();Mn();Dn()});var or={};yt(or,{readFile:()=>La});var La,ir=H(()=>{La=void 0});var sr={};yt(sr,{join:()=>Wa});var Wa,ur=H(()=>{Wa=void 0});var Cn=ot((Pn,lr)=>{"use strict";var xn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a={}){var t=a,f,s;t.ready=new Promise((o,l)=>{f=o,s=l});var g=Object.assign({},t),p="./this.program",i=typeof window=="object",b=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",A,E,R;if(h){var L=(ir(),it(or)),I=(ur(),it(sr));v=b?I.dirname(v)+"/":__dirname+"/",A=(o,l)=>(o=o.startsWith("file://")?new URL(o):I.normalize(o),L.readFileSync(o,l?void 0:"utf8")),R=o=>(o=A(o,!0),o.buffer||(o=new Uint8Array(o)),o),E=(o,l,c,m=!0)=>{o=o.startsWith("file://")?new URL(o):I.normalize(o),L.readFile(o,m?void 0:"utf8",(S,D)=>{S?c(S):l(m?D.buffer:D)})},!t.thisProgram&&1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||b)&&(b?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",A=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.send(null),l.responseText},b&&(R=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),E=(o,l,c)=>{var m=new XMLHttpRequest;m.open("GET",o,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?l(m.response):c()},m.onerror=c,m.send(null)});var M=t.print||console.log.bind(console),W=t.printErr||console.error.bind(console);Object.assign(t,g),g=null,t.thisProgram&&(p=t.thisProgram);var G;t.wasmBinary&&(G=t.wasmBinary);var ue=t.noExitRuntime||!0;typeof WebAssembly!="object"&&pe("no native wasm support detected");var ee,U,Se=!1,Ae,Q,C,oe;function le(){var o=ee.buffer;t.HEAP8=Ae=new Int8Array(o),t.HEAP16=new Int16Array(o),t.HEAP32=C=new Int32Array(o),t.HEAPU8=Q=new Uint8Array(o),t.HEAPU16=new Uint16Array(o),t.HEAPU32=oe=new Uint32Array(o),t.HEAPF32=new Float32Array(o),t.HEAPF64=new Float64Array(o)}var te,Te=[],F=[],x=[];function je(){var o=t.preRun.shift();Te.unshift(o)}var re=0,he=null,Y=null;function pe(o){throw t.onAbort&&t.onAbort(o),o="Aborted("+o+")",W(o),Se=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),s(o),o}function Xe(o){return o.startsWith("data:application/octet-stream;base64,")}var ye;if(ye="ort-wasm.wasm",!Xe(ye)){var We=ye;ye=t.locateFile?t.locateFile(We,v):v+We}function ve(o){if(o==ye&&G)return new Uint8Array(G);if(R)return R(o);throw"both async and sync fetching of the wasm failed"}function ke(o){if(!G&&(i||b)){if(typeof fetch=="function"&&!o.startsWith("file://"))return fetch(o,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+o+"'";return l.arrayBuffer()}).catch(()=>ve(o));if(E)return new Promise((l,c)=>{E(o,m=>l(new Uint8Array(m)),c)})}return Promise.resolve().then(()=>ve(o))}function ne(o,l,c){return ke(o).then(m=>WebAssembly.instantiate(m,l)).then(m=>m).then(c,m=>{W("failed to asynchronously prepare wasm: "+m),pe(m)})}function Me(o,l){var c=ye;return G||typeof WebAssembly.instantiateStreaming!="function"||Xe(c)||c.startsWith("file://")||h||typeof fetch!="function"?ne(c,o,l):fetch(c,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,o).then(l,function(S){return W("wasm streaming compile failed: "+S),W("falling back to ArrayBuffer instantiation"),ne(c,o,l)}))}var Oe,ae=o=>{for(;0<o.length;)o.shift()(t)};function ie(o){this.xa=o-24,this.Ga=function(l){oe[this.xa+4>>2>>>0]=l},this.Fa=function(l){oe[this.xa+8>>2>>>0]=l},this.za=function(l,c){this.Ea(),this.Ga(l),this.Fa(c)},this.Ea=function(){oe[this.xa+16>>2>>>0]=0}}var Re=0,_e=0,Ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,He=(o,l,c)=>{l>>>=0;var m=l+c;for(c=l;o[c]&&!(c>=m);)++c;if(16<c-l&&o.buffer&&Ne)return Ne.decode(o.subarray(l,c));for(m="";l<c;){var S=o[l++];if(S&128){var D=o[l++]&63;if((S&224)==192)m+=String.fromCharCode((S&31)<<6|D);else{var P=o[l++]&63;S=(S&240)==224?(S&15)<<12|D<<6|P:(S&7)<<18|D<<12|P<<6|o[l++]&63,65536>S?m+=String.fromCharCode(S):(S-=65536,m+=String.fromCharCode(55296|S>>10,56320|S&1023))}}else m+=String.fromCharCode(S)}return m},Je=(o,l)=>(o>>>=0)?He(Q,o,l):"",Qe=o=>{for(var l=0,c=0;c<o.length;++c){var m=o.charCodeAt(c);127>=m?l++:2047>=m?l+=2:55296<=m&&57343>=m?(l+=4,++c):l+=3}return l},Pe=(o,l,c,m)=>{if(c>>>=0,!(0<m))return 0;var S=c;m=c+m-1;for(var D=0;D<o.length;++D){var P=o.charCodeAt(D);if(55296<=P&&57343>=P){var z=o.charCodeAt(++D);P=65536+((P&1023)<<10)|z&1023}if(127>=P){if(c>=m)break;l[c++>>>0]=P}else{if(2047>=P){if(c+1>=m)break;l[c++>>>0]=192|P>>6}else{if(65535>=P){if(c+2>=m)break;l[c++>>>0]=224|P>>12}else{if(c+3>=m)break;l[c++>>>0]=240|P>>18,l[c++>>>0]=128|P>>12&63}l[c++>>>0]=128|P>>6&63}l[c++>>>0]=128|P&63}}return l[c>>>0]=0,c-S},Ce=o=>o%4===0&&(o%100!==0||o%400===0),Ue=[0,31,60,91,121,152,182,213,244,274,305,335],ut=[0,31,59,90,120,151,181,212,243,273,304,334],Ot=o=>{var l=Qe(o)+1,c=Ye(l);return c&&Pe(o,Q,c,l),c},Ze={},_t=()=>{if(!De){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"},l;for(l in Ze)Ze[l]===void 0?delete o[l]:o[l]=Ze[l];var c=[];for(l in o)c.push(`${l}=${o[l]}`);De=c}return De},De,Ke=[null,[],[]],et=[31,29,31,30,31,30,31,31,30,31,30,31],lt=[31,28,31,30,31,30,31,31,30,31,30,31];function Et(o){var l=Array(Qe(o)+1);return Pe(o,l,0,l.length),l}function ft(o,l,c,m){function S(y,N,$){for(y=typeof y=="number"?y.toString():y||"";y.length<N;)y=$[0]+y;return y}function D(y,N){return S(y,N,"0")}function P(y,N){function $(Tt){return 0>Tt?-1:0<Tt?1:0}var xe;return(xe=$(y.getFullYear()-N.getFullYear()))===0&&(xe=$(y.getMonth()-N.getMonth()))===0&&(xe=$(y.getDate()-N.getDate())),xe}function z(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function fe(y){var N=y.ta;for(y=new Date(new Date(y.ua+1900,0,1).getTime());0<N;){var $=y.getMonth(),xe=(Ce(y.getFullYear())?et:lt)[$];if(N>xe-y.getDate())N-=xe-y.getDate()+1,y.setDate(1),11>$?y.setMonth($+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+N);break}}return $=new Date(y.getFullYear()+1,0,4),N=z(new Date(y.getFullYear(),0,4)),$=z($),0>=P(N,y)?0>=P($,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}o>>>=0,l>>>=0,c>>>=0,m>>>=0;var ce=C[m+40>>2>>>0];m={Ca:C[m>>2>>>0],Ba:C[m+4>>2>>>0],va:C[m+8>>2>>>0],ya:C[m+12>>2>>>0],wa:C[m+16>>2>>>0],ua:C[m+20>>2>>>0],sa:C[m+24>>2>>>0],ta:C[m+28>>2>>>0],Ha:C[m+32>>2>>>0],Aa:C[m+36>>2>>>0],Da:ce?Je(ce):""},c=Je(c),ce={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var de in ce)c=c.replace(new RegExp(de,"g"),ce[de]);var ht="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),gt="January February March April May June July August September October November December".split(" ");ce={"%a":y=>ht[y.sa].substring(0,3),"%A":y=>ht[y.sa],"%b":y=>gt[y.wa].substring(0,3),"%B":y=>gt[y.wa],"%C":y=>D((y.ua+1900)/100|0,2),"%d":y=>D(y.ya,2),"%e":y=>S(y.ya,2," "),"%g":y=>fe(y).toString().substring(2),"%G":y=>fe(y),"%H":y=>D(y.va,2),"%I":y=>(y=y.va,y==0?y=12:12<y&&(y-=12),D(y,2)),"%j":y=>{for(var N=0,$=0;$<=y.wa-1;N+=(Ce(y.ua+1900)?et:lt)[$++]);return D(y.ya+N,3)},"%m":y=>D(y.wa+1,2),"%M":y=>D(y.Ba,2),"%n":()=>`
`,"%p":y=>0<=y.va&&12>y.va?"AM":"PM","%S":y=>D(y.Ca,2),"%t":()=>"	","%u":y=>y.sa||7,"%U":y=>D(Math.floor((y.ta+7-y.sa)/7),2),"%V":y=>{var N=Math.floor((y.ta+7-(y.sa+6)%7)/7);if(2>=(y.sa+371-y.ta-2)%7&&N++,N)N==53&&($=(y.sa+371-y.ta)%7,$==4||$==3&&Ce(y.ua)||(N=1));else{N=52;var $=(y.sa+7-y.ta-1)%7;($==4||$==5&&Ce(y.ua%400-1))&&N++}return D(N,2)},"%w":y=>y.sa,"%W":y=>D(Math.floor((y.ta+7-(y.sa+6)%7)/7),2),"%y":y=>(y.ua+1900).toString().substring(2),"%Y":y=>y.ua+1900,"%z":y=>{y=y.Aa;var N=0<=y;return y=Math.abs(y)/60,(N?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Da,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(de in ce)c.includes(de)&&(c=c.replace(new RegExp(de,"g"),ce[de](m)));return c=c.replace(/\0\0/g,"%"),de=Et(c),de.length>l?0:(Ae.set(de,o>>>0),de.length-1)}var Fe=[],Ie=void 0,ct=[];function tt(o,l){if(!Ie){Ie=new WeakMap;var c=te.length;if(Ie)for(var m=0;m<0+c;m++){var S=m,D=Fe[S];D||(S>=Fe.length&&(Fe.length=S+1),Fe[S]=D=te.get(S)),(S=D)&&Ie.set(S,m)}}if(c=Ie.get(o)||0)return c;if(ct.length)c=ct.pop();else{try{te.grow(1)}catch(z){throw z instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":z}c=te.length-1}try{m=c,te.set(m,o),Fe[m]=te.get(m)}catch(z){if(!(z instanceof TypeError))throw z;if(typeof WebAssembly.Function=="function"){m=WebAssembly.Function,S={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},D={parameters:[],results:l[0]=="v"?[]:[S[l[0]]]};for(var P=1;P<l.length;++P)D.parameters.push(S[l[P]]);l=new m(D,o)}else{for(m=[1],S=l.slice(0,1),l=l.slice(1),D={i:127,p:127,j:126,f:125,d:124},m.push(96),P=l.length,128>P?m.push(P):m.push(P%128|128,P>>7),P=0;P<l.length;++P)m.push(D[l[P]]);S=="v"?m.push(0):m.push(1,D[S]),l=[0,97,115,109,1,0,0,0,1],S=m.length,128>S?l.push(S):l.push(S%128|128,S>>7),l.push.apply(l,m),l.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),l=new WebAssembly.Module(new Uint8Array(l)),l=new WebAssembly.Instance(l,{e:{f:o}}).exports.f}m=c,te.set(m,l),Fe[m]=te.get(m)}return Ie.set(o,c),c}var B={a:function(o,l,c){throw o>>>=0,new ie(o).za(l>>>0,c>>>0),Re=o,_e++,Re},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),C[c>>2>>>0]=o.getUTCSeconds(),C[c+4>>2>>>0]=o.getUTCMinutes(),C[c+8>>2>>>0]=o.getUTCHours(),C[c+12>>2>>>0]=o.getUTCDate(),C[c+16>>2>>>0]=o.getUTCMonth(),C[c+20>>2>>>0]=o.getUTCFullYear()-1900,C[c+24>>2>>>0]=o.getUTCDay(),C[c+28>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),C[c>>2>>>0]=o.getSeconds(),C[c+4>>2>>>0]=o.getMinutes(),C[c+8>>2>>>0]=o.getHours(),C[c+12>>2>>>0]=o.getDate(),C[c+16>>2>>>0]=o.getMonth(),C[c+20>>2>>>0]=o.getFullYear()-1900,C[c+24>>2>>>0]=o.getDay(),C[c+28>>2>>>0]=(Ce(o.getFullYear())?Ue:ut)[o.getMonth()]+o.getDate()-1|0,C[c+36>>2>>>0]=-(60*o.getTimezoneOffset()),l=new Date(o.getFullYear(),6,1).getTimezoneOffset();var m=new Date(o.getFullYear(),0,1).getTimezoneOffset();C[c+32>>2>>>0]=(l!=m&&o.getTimezoneOffset()==Math.min(m,l))|0},q:function(o){o>>>=0;var l=new Date(C[o+20>>2>>>0]+1900,C[o+16>>2>>>0],C[o+12>>2>>>0],C[o+8>>2>>>0],C[o+4>>2>>>0],C[o>>2>>>0],0),c=C[o+32>>2>>>0],m=l.getTimezoneOffset(),S=new Date(l.getFullYear(),6,1).getTimezoneOffset(),D=new Date(l.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(D,S);return 0>c?C[o+32>>2>>>0]=+(S!=D&&P==m):0<c!=(P==m)&&(S=Math.max(D,S),l.setTime(l.getTime()+6e4*((0<c?P:S)-m))),C[o+24>>2>>>0]=l.getDay(),C[o+28>>2>>>0]=(Ce(l.getFullYear())?Ue:ut)[l.getMonth()]+l.getDate()-1|0,C[o>>2>>>0]=l.getSeconds(),C[o+4>>2>>>0]=l.getMinutes(),C[o+8>>2>>>0]=l.getHours(),C[o+12>>2>>>0]=l.getDate(),C[o+16>>2>>>0]=l.getMonth(),C[o+20>>2>>>0]=l.getYear(),o=l.getTime()/1e3,dt((Oe=o,1<=+Math.abs(Oe)?0<Oe?+Math.floor(Oe/4294967296)>>>0:~~+Math.ceil((Oe-+(~~Oe>>>0))/4294967296)>>>0:0)),o>>>0},m:function(){return-52},n:function(){},t:function(o,l,c){function m(fe){return(fe=fe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?fe[1]:"GMT"}c>>>=0;var S=new Date().getFullYear(),D=new Date(S,0,1),P=new Date(S,6,1);S=D.getTimezoneOffset();var z=P.getTimezoneOffset();oe[o>>>0>>2>>>0]=60*Math.max(S,z),C[l>>>0>>2>>>0]=+(S!=z),o=m(D),l=m(P),o=Ot(o),l=Ot(l),z<S?(oe[c>>2>>>0]=o,oe[c+4>>2>>>0]=l):(oe[c>>2>>>0]=l,oe[c+4>>2>>>0]=o)},d:()=>{pe("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(o,l,c){return l>>>=0,Q.copyWithin(o>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},s:function(o){o>>>=0;var l=Q.length;if(4294901760<o)return!1;for(var c=1;4>=c;c*=2){var m=l*(1+.2/c);m=Math.min(m,o+100663296);var S=Math;m=Math.max(o,m);e:{S=S.min.call(S,4294901760,m+(65536-m%65536)%65536)-ee.buffer.byteLength+65535>>>16;try{ee.grow(S),le();var D=1;break e}catch{}D=void 0}if(D)return!0}return!1},C:function(o,l){o>>>=0,l>>>=0;var c=0;return _t().forEach(function(m,S){var D=l+c;for(S=oe[o+4*S>>2>>>0]=D,D=0;D<m.length;++D)Ae[S++>>0>>>0]=m.charCodeAt(D);Ae[S>>0>>>0]=0,c+=m.length+1}),0},D:function(o,l){o>>>=0,l>>>=0;var c=_t();oe[o>>2>>>0]=c.length;var m=0;return c.forEach(function(S){m+=S.length+1}),oe[l>>2>>>0]=m,0},f:()=>52,k:function(){return 52},r:function(){return 70},j:function(o,l,c,m){l>>>=0,c>>>=0,m>>>=0;for(var S=0,D=0;D<c;D++){var P=oe[l>>2>>>0],z=oe[l+4>>2>>>0];l+=8;for(var fe=0;fe<z;fe++){var ce=Q[P+fe>>>0],de=Ke[o];ce===0||ce===10?((o===1?M:W)(He(de,0)),de.length=0):de.push(ce)}S+=z}return oe[m>>2>>>0]=S,0},B:ft,c:function(o,l,c,m){return ft(o>>>0,l>>>0,c>>>0,m>>>0)},i:function(o,l,c,m){let S=te.length;o=new Uint8Array(Q.slice(o+l,o+c));try{var D=new WebAssembly.Module(o),P=new WebAssembly.Instance(D,{env:{memory:ee}}),z;for(z in P.exports)tt(P.exports[z]);return S<te.length?S:m}catch(fe){return console.log(fe),m}}};(function(){function o(c){if(c=c.exports,U=c=At(c),ee=U.K,le(),te=U.na,F.unshift(U.L),re--,t.monitorRunDependencies&&t.monitorRunDependencies(re),re==0&&(he!==null&&(clearInterval(he),he=null),Y)){var m=Y;Y=null,m()}return c}var l={a:B};if(re++,t.monitorRunDependencies&&t.monitorRunDependencies(re),t.instantiateWasm)try{return t.instantiateWasm(l,o)}catch(c){W("Module.instantiateWasm callback failed with error: "+c),s(c)}return Me(l,function(c){o(c.instance)}).catch(s),{}})(),t._OrtInit=(o,l)=>(t._OrtInit=U.M)(o,l),t._OrtGetLastError=(o,l)=>(t._OrtGetLastError=U.N)(o,l),t._OrtCreateSessionOptions=(o,l,c,m,S,D,P,z,fe,ce)=>(t._OrtCreateSessionOptions=U.O)(o,l,c,m,S,D,P,z,fe,ce),t._OrtAppendExecutionProvider=(o,l)=>(t._OrtAppendExecutionProvider=U.P)(o,l),t._OrtAddFreeDimensionOverride=(o,l,c)=>(t._OrtAddFreeDimensionOverride=U.Q)(o,l,c),t._OrtAddSessionConfigEntry=(o,l,c)=>(t._OrtAddSessionConfigEntry=U.R)(o,l,c),t._OrtReleaseSessionOptions=o=>(t._OrtReleaseSessionOptions=U.S)(o),t._OrtCreateSession=(o,l,c)=>(t._OrtCreateSession=U.T)(o,l,c),t._OrtReleaseSession=o=>(t._OrtReleaseSession=U.U)(o),t._OrtGetInputOutputCount=(o,l,c)=>(t._OrtGetInputOutputCount=U.V)(o,l,c),t._OrtGetInputName=(o,l)=>(t._OrtGetInputName=U.W)(o,l),t._OrtGetOutputName=(o,l)=>(t._OrtGetOutputName=U.X)(o,l),t._OrtFree=o=>(t._OrtFree=U.Y)(o),t._OrtCreateTensor=(o,l,c,m,S,D)=>(t._OrtCreateTensor=U.Z)(o,l,c,m,S,D),t._OrtGetTensorData=(o,l,c,m,S)=>(t._OrtGetTensorData=U._)(o,l,c,m,S),t._OrtReleaseTensor=o=>(t._OrtReleaseTensor=U.$)(o),t._OrtCreateRunOptions=(o,l,c,m)=>(t._OrtCreateRunOptions=U.aa)(o,l,c,m),t._OrtAddRunConfigEntry=(o,l,c)=>(t._OrtAddRunConfigEntry=U.ba)(o,l,c),t._OrtReleaseRunOptions=o=>(t._OrtReleaseRunOptions=U.ca)(o),t._OrtCreateBinding=o=>(t._OrtCreateBinding=U.da)(o),t._OrtBindInput=(o,l,c)=>(t._OrtBindInput=U.ea)(o,l,c),t._OrtBindOutput=(o,l,c,m)=>(t._OrtBindOutput=U.fa)(o,l,c,m),t._OrtClearBoundOutputs=o=>(t._OrtClearBoundOutputs=U.ga)(o),t._OrtReleaseBinding=o=>(t._OrtReleaseBinding=U.ha)(o),t._OrtRunWithBinding=(o,l,c,m,S)=>(t._OrtRunWithBinding=U.ia)(o,l,c,m,S),t._OrtRun=(o,l,c,m,S,D,P,z)=>(t._OrtRun=U.ja)(o,l,c,m,S,D,P,z),t._OrtEndProfiling=o=>(t._OrtEndProfiling=U.ka)(o);var Ye=t._malloc=o=>(Ye=t._malloc=U.la)(o);t._free=o=>(t._free=U.ma)(o);var dt=o=>(dt=U.oa)(o),Be=()=>(Be=U.pa)(),pt=o=>(pt=U.qa)(o),St=o=>(St=U.ra)(o);t.___start_em_js=905600,t.___stop_em_js=906212;function At(o){o=Object.assign({},o);var l=m=>()=>m()>>>0,c=m=>S=>m(S)>>>0;return o.__errno_location=l(o.__errno_location),o.malloc=c(o.malloc),o.stackSave=l(o.stackSave),o.stackAlloc=c(o.stackAlloc),o}t.stackAlloc=St,t.stackSave=Be,t.stackRestore=pt,t.addFunction=tt,t.UTF8ToString=Je,t.stringToUTF8=(o,l,c)=>Pe(o,Q,l,c),t.lengthBytesUTF8=Qe;var rt;Y=function o(){rt||mt(),rt||(Y=o)};function mt(){function o(){if(!rt&&(rt=!0,t.calledRun=!0,!Se)){if(ae(F),f(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var l=t.postRun.shift();x.unshift(l)}ae(x)}}if(!(0<re)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)je();ae(Te),0<re||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),o()},1)):o())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return mt(),a.ready}})();typeof Pn=="object"&&typeof lr=="object"?lr.exports=xn:typeof define=="function"&&define.amd&&define([],()=>xn)});var Un=ot(()=>{});var Fn=ot(()=>{});var Bn={};yt(Bn,{cpus:()=>ka});var ka,Ln=H(()=>{ka=void 0});var Nn=ot((kn,fr)=>{"use strict";var Wn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a={}){function t(){return F.buffer!=Y.buffer&&ve(),Y}function f(){return F.buffer!=Y.buffer&&ve(),pe}function s(){return F.buffer!=Y.buffer&&ve(),Xe}function g(){return F.buffer!=Y.buffer&&ve(),ye}function p(){return F.buffer!=Y.buffer&&ve(),We}var i=a,b,h;i.ready=new Promise((e,n)=>{b=e,h=n});var v=Object.assign({},i),A="./this.program",E=(e,n)=>{throw n},R=typeof window=="object",L=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=i.ENVIRONMENT_IS_PTHREAD||!1,W="";function G(e){return i.locateFile?i.locateFile(e,W):W+e}var ue,ee,U;if(I){var Se=(ir(),it(or)),Ae=(ur(),it(sr));W=L?Ae.dirname(W)+"/":__dirname+"/",ue=(n,u)=>(n=n.startsWith("file://")?new URL(n):Ae.normalize(n),Se.readFileSync(n,u?void 0:"utf8")),U=n=>(n=ue(n,!0),n.buffer||(n=new Uint8Array(n)),n),ee=(n,u,d,O=!0)=>{n=n.startsWith("file://")?new URL(n):Ae.normalize(n),Se.readFile(n,O?void 0:"utf8",(_,T)=>{_?d(_):u(O?T.buffer:T)})},!i.thisProgram&&1<process.argv.length&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),E=(n,u)=>{throw process.exitCode=n,u},i.inspect=()=>"[Emscripten Module object]";let e;try{e=Un()}catch(n){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),n}global.Worker=e.Worker}else(R||L)&&(L?W=self.location.href:typeof document<"u"&&document.currentScript&&(W=document.currentScript.src),typeof r<"u"&&r&&(W=r),W.indexOf("blob:")!==0?W=W.substr(0,W.replace(/[?#].*/,"").lastIndexOf("/")+1):W="",I||(ue=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},L&&(U=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),ee=(e,n,u)=>{var d=new XMLHttpRequest;d.open("GET",e,!0),d.responseType="arraybuffer",d.onload=()=>{d.status==200||d.status==0&&d.response?n(d.response):u()},d.onerror=u,d.send(null)}));I&&typeof performance>"u"&&(global.performance=Fn().performance);var Q=console.log.bind(console),C=console.error.bind(console);I&&(Q=(...e)=>Se.writeSync(1,e.join(" ")+`
`),C=(...e)=>Se.writeSync(2,e.join(" ")+`
`));var oe=i.print||Q,le=i.printErr||C;Object.assign(i,v),v=null,i.thisProgram&&(A=i.thisProgram),i.quit&&(E=i.quit);var te;i.wasmBinary&&(te=i.wasmBinary);var Te=i.noExitRuntime||!0;typeof WebAssembly!="object"&&Pe("no native wasm support detected");var F,x,je,re=!1,he,Y,pe,Xe,ye,We;function ve(){var e=F.buffer;i.HEAP8=Y=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=Xe=new Int32Array(e),i.HEAPU8=pe=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=ye=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=We=new Float64Array(e)}var ke=i.INITIAL_MEMORY||16777216;if(5242880<=ke||Pe("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ke+"! (STACK_SIZE=5242880)"),M)F=i.wasmMemory;else if(i.wasmMemory)F=i.wasmMemory;else if(F=new WebAssembly.Memory({initial:ke/65536,maximum:65536,shared:!0}),!(F.buffer instanceof SharedArrayBuffer))throw le("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&le("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ve(),ke=F.buffer.byteLength;var ne,Me=[],Oe=[],ae=[],ie=0;function Re(){return Te||0<ie}var _e=0,Ne=null,He=null;function Je(){_e++,i.monitorRunDependencies&&i.monitorRunDependencies(_e)}function Qe(){if(_e--,i.monitorRunDependencies&&i.monitorRunDependencies(_e),_e==0&&(Ne!==null&&(clearInterval(Ne),Ne=null),He)){var e=He;He=null,e()}}function Pe(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",le(e),re=!0,he=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),h(e),e}function Ce(e){return e.startsWith("data:application/octet-stream;base64,")}var Ue;Ue="ort-wasm-threaded.wasm",Ce(Ue)||(Ue=G(Ue));function ut(e){if(e==Ue&&te)return new Uint8Array(te);if(U)return U(e);throw"both async and sync fetching of the wasm failed"}function Ot(e){if(!te&&(R||L)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+e+"'";return n.arrayBuffer()}).catch(()=>ut(e));if(ee)return new Promise((n,u)=>{ee(e,d=>n(new Uint8Array(d)),u)})}return Promise.resolve().then(()=>ut(e))}function Ze(e,n,u){return Ot(e).then(d=>WebAssembly.instantiate(d,n)).then(d=>d).then(u,d=>{le("failed to asynchronously prepare wasm: "+d),Pe(d)})}function _t(e,n){var u=Ue;return te||typeof WebAssembly.instantiateStreaming!="function"||Ce(u)||u.startsWith("file://")||I||typeof fetch!="function"?Ze(u,e,n):fetch(u,{credentials:"same-origin"}).then(d=>WebAssembly.instantiateStreaming(d,e).then(n,function(O){return le("wasm streaming compile failed: "+O),le("falling back to ArrayBuffer instantiation"),Ze(u,e,n)}))}var De;function Ke(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function et(e){e.terminate(),e.onmessage=()=>{}}function lt(e){(e=B.Ma[e])||Pe(),B.mb(e)}function Et(e){var n=B.gb();if(!n)return 6;B.Pa.push(n),B.Ma[e.Oa]=n,n.Oa=e.Oa;var u={cmd:"run",start_routine:e.nb,arg:e.fb,pthread_ptr:e.Oa};return I&&n.unref(),n.postMessage(u,e.tb),0}var ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(e,n,u)=>{n>>>=0;var d=n+u;for(u=n;e[u]&&!(u>=d);)++u;if(16<u-n&&e.buffer&&ft)return ft.decode(e.buffer instanceof SharedArrayBuffer?e.slice(n,u):e.subarray(n,u));for(d="";n<u;){var O=e[n++];if(O&128){var _=e[n++]&63;if((O&224)==192)d+=String.fromCharCode((O&31)<<6|_);else{var T=e[n++]&63;O=(O&240)==224?(O&15)<<12|_<<6|T:(O&7)<<18|_<<12|T<<6|e[n++]&63,65536>O?d+=String.fromCharCode(O):(O-=65536,d+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else d+=String.fromCharCode(O)}return d},Ie=(e,n)=>(e>>>=0)?Fe(f(),e,n):"";function ct(e){if(M)return V(1,1,e);he=e,Re()||(B.ob(),i.onExit&&i.onExit(e),re=!0),E(e,new Ke(e))}var tt=e=>{if(he=e,M)throw dt(e),"unwind";ct(e)},B={Sa:[],Pa:[],$a:[],Ma:{},Wa:function(){M?B.ib():B.hb()},hb:function(){Me.unshift(()=>{Je(),B.jb(()=>Qe())})},ib:function(){B.receiveObjectTransfer=B.lb,B.threadInitTLS=B.Za,B.setExitStatus=B.Ya,Te=!1},Ya:function(e){he=e},yb:["$terminateWorker"],ob:function(){for(var e of B.Pa)et(e);for(e of B.Sa)et(e);B.Sa=[],B.Pa=[],B.Ma=[]},mb:function(e){var n=e.Oa;delete B.Ma[n],B.Sa.push(e),B.Pa.splice(B.Pa.indexOf(e),1),e.Oa=0,Qt(n)},lb:function(){},Za:function(){B.$a.forEach(e=>e())},kb:e=>new Promise(n=>{e.onmessage=_=>{_=_.data;var T=_.cmd;if(_.targetThread&&_.targetThread!=Rt()){var k=B.Ma[_.xb];k?k.postMessage(_,_.transferList):le('Internal error! Worker sent a message "'+T+'" to target pthread '+_.targetThread+", but that thread no longer exists!")}else T==="checkMailbox"?Mt():T==="spawnThread"?Et(_):T==="cleanupThread"?lt(_.thread):T==="killThread"?(_=_.thread,T=B.Ma[_],delete B.Ma[_],et(T),Qt(_),B.Pa.splice(B.Pa.indexOf(T),1),T.Oa=0):T==="cancelThread"?B.Ma[_.thread].postMessage({cmd:"cancel"}):T==="loaded"?(e.loaded=!0,n(e)):T==="alert"?alert("Thread "+_.threadId+": "+_.text):_.target==="setimmediate"?e.postMessage(_):T==="callHandler"?i[_.handler](..._.args):T&&le("worker sent an unknown command "+T)},e.onerror=_=>{throw le("worker sent an error! "+_.filename+":"+_.lineno+": "+_.message),_},I&&(e.on("message",function(_){e.onmessage({data:_})}),e.on("error",function(_){e.onerror(_)}));var u=[],d=["onExit","onAbort","print","printErr"],O;for(O of d)i.hasOwnProperty(O)&&u.push(O);e.postMessage({cmd:"load",handlers:u,urlOrBlob:i.mainScriptUrlOrBlob||r,wasmMemory:F,wasmModule:je})}),jb:function(e){e()},eb:function(){var e=G("ort-wasm-threaded.worker.js");e=new Worker(e),B.Sa.push(e)},gb:function(){return B.Sa.length==0&&(B.eb(),B.kb(B.Sa[0])),B.Sa.pop()}};i.PThread=B;var Ye=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=Rt(),n=s()[e+52>>2>>>0];e=s()[e+56>>2>>>0],Kr(n,n-e),Dt(n)};function dt(e){if(M)return V(2,0,e);tt(e)}var Be=[],pt=e=>{var n=Be[e];return n||(e>=Be.length&&(Be.length=e+1),Be[e]=n=ne.get(e)),n};i.invokeEntryPoint=function(e,n){e=pt(e)(n),Re()?B.Ya(e):Zt(e)};function St(e){this.Va=e-24,this.cb=function(n){g()[this.Va+4>>2>>>0]=n},this.bb=function(n){g()[this.Va+8>>2>>>0]=n},this.Wa=function(n,u){this.ab(),this.cb(n),this.bb(u)},this.ab=function(){g()[this.Va+16>>2>>>0]=0}}var At=0,rt=0;function mt(e,n,u,d){return M?V(3,1,e,n,u,d):o(e,n,u,d)}function o(e,n,u,d){if(e>>>=0,n>>>=0,u>>>=0,d>>>=0,typeof SharedArrayBuffer>"u")return le("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var O=[];return M&&O.length===0?mt(e,n,u,d):(e={nb:u,Oa:e,fb:d,tb:O},M?(e.vb="spawnThread",postMessage(e,O),0):Et(e))}function l(e,n,u){return M?V(4,1,e,n,u):0}function c(e,n){if(M)return V(5,1,e,n)}var m=e=>{for(var n=0,u=0;u<e.length;++u){var d=e.charCodeAt(u);127>=d?n++:2047>=d?n+=2:55296<=d&&57343>=d?(n+=4,++u):n+=3}return n},S=(e,n,u,d)=>{if(u>>>=0,!(0<d))return 0;var O=u;d=u+d-1;for(var _=0;_<e.length;++_){var T=e.charCodeAt(_);if(55296<=T&&57343>=T){var k=e.charCodeAt(++_);T=65536+((T&1023)<<10)|k&1023}if(127>=T){if(u>=d)break;n[u++>>>0]=T}else{if(2047>=T){if(u+1>=d)break;n[u++>>>0]=192|T>>6}else{if(65535>=T){if(u+2>=d)break;n[u++>>>0]=224|T>>12}else{if(u+3>=d)break;n[u++>>>0]=240|T>>18,n[u++>>>0]=128|T>>12&63}n[u++>>>0]=128|T>>6&63}n[u++>>>0]=128|T&63}}return n[u>>>0]=0,u-O},D=(e,n,u)=>S(e,f(),n,u);function P(e,n){if(M)return V(6,1,e,n)}function z(e,n,u){if(M)return V(7,1,e,n,u)}function fe(e,n,u){return M?V(8,1,e,n,u):0}function ce(e,n){if(M)return V(9,1,e,n)}function de(e,n,u){if(M)return V(10,1,e,n,u)}function ht(e,n,u,d){if(M)return V(11,1,e,n,u,d)}function gt(e,n,u,d){if(M)return V(12,1,e,n,u,d)}function y(e,n,u,d){if(M)return V(13,1,e,n,u,d)}function N(e){if(M)return V(14,1,e)}function $(e,n){if(M)return V(15,1,e,n)}function xe(e,n,u){if(M)return V(16,1,e,n,u)}var Tt=e=>{if(!re)try{if(e(),!Re())try{M?Zt(he):tt(he)}catch(n){n instanceof Ke||n=="unwind"||E(1,n)}}catch(n){n instanceof Ke||n=="unwind"||E(1,n)}};function Vt(e){e>>>=0,typeof Atomics.ub=="function"&&(Atomics.ub(s(),e>>2,e).value.then(Mt),e+=128,Atomics.store(s(),e>>2,1))}i.__emscripten_thread_mailbox_await=Vt;function Mt(){var e=Rt();e&&(Vt(e),Tt(()=>Qr()))}i.checkMailbox=Mt;var nt=e=>e%4===0&&(e%100!==0||e%400===0),xr=[0,31,60,91,121,152,182,213,244,274,305,335],Pr=[0,31,59,90,120,151,181,212,243,273,304,334];function Cr(e,n,u,d,O,_,T,k){return M?V(17,1,e,n,u,d,O,_,T,k):-52}function Ur(e,n,u,d,O,_,T){if(M)return V(18,1,e,n,u,d,O,_,T)}var Fr=e=>{var n=m(e)+1,u=qr(n);return u&&D(e,u,n),u},Ea=e=>{var n=Kt();return e=e(),Dt(n),e};function V(e,n){var u=arguments.length-2,d=arguments;return Ea(()=>{for(var O=er(8*u),_=O>>3,T=0;T<u;T++){var k=d[2+T];p()[_+T>>>0]=k}return Jr(e,u,O,n)})}var qt=[],Xt={},Br=()=>{if(!Jt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},n;for(n in Xt)Xt[n]===void 0?delete e[n]:e[n]=Xt[n];var u=[];for(n in e)u.push(`${n}=${e[n]}`);Jt=u}return Jt},Jt;function Lr(e,n){if(M)return V(19,1,e,n);e>>>=0,n>>>=0;var u=0;return Br().forEach(function(d,O){var _=n+u;for(O=g()[e+4*O>>2>>>0]=_,_=0;_<d.length;++_)t()[O++>>0>>>0]=d.charCodeAt(_);t()[O>>0>>>0]=0,u+=d.length+1}),0}function Wr(e,n){if(M)return V(20,1,e,n);e>>>=0,n>>>=0;var u=Br();g()[e>>2>>>0]=u.length;var d=0;return u.forEach(function(O){d+=O.length+1}),g()[n>>2>>>0]=d,0}function kr(e){return M?V(21,1,e):52}function Nr(e,n,u,d){return M?V(22,1,e,n,u,d):52}function Hr(e,n,u,d,O){return M?V(23,1,e,n,u,d,O):70}var Sa=[null,[],[]];function zr(e,n,u,d){if(M)return V(24,1,e,n,u,d);n>>>=0,u>>>=0,d>>>=0;for(var O=0,_=0;_<u;_++){var T=g()[n>>2>>>0],k=g()[n+4>>2>>>0];n+=8;for(var Ee=0;Ee<k;Ee++){var se=f()[T+Ee>>>0],we=Sa[e];se===0||se===10?((e===1?oe:le)(Fe(we,0)),we.length=0):we.push(se)}O+=k}return g()[d>>2>>>0]=O,0}var jr=[31,29,31,30,31,30,31,31,30,31,30,31],Yr=[31,28,31,30,31,30,31,31,30,31,30,31];function Aa(e){var n=Array(m(e)+1);return S(e,n,0,n.length),n}var Ta=(e,n)=>{t().set(e,n>>>0)};function Gr(e,n,u,d){function O(w,j,X){for(w=typeof w=="number"?w.toString():w||"";w.length<j;)w=X[0]+w;return w}function _(w,j){return O(w,j,"0")}function T(w,j){function X(nn){return 0>nn?-1:0<nn?1:0}var Ge;return(Ge=X(w.getFullYear()-j.getFullYear()))===0&&(Ge=X(w.getMonth()-j.getMonth()))===0&&(Ge=X(w.getDate()-j.getDate())),Ge}function k(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function Ee(w){var j=w.Qa;for(w=new Date(new Date(w.Ra+1900,0,1).getTime());0<j;){var X=w.getMonth(),Ge=(nt(w.getFullYear())?jr:Yr)[X];if(j>Ge-w.getDate())j-=Ge-w.getDate()+1,w.setDate(1),11>X?w.setMonth(X+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+j);break}}return X=new Date(w.getFullYear()+1,0,4),j=k(new Date(w.getFullYear(),0,4)),X=k(X),0>=T(j,w)?0>=T(X,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,n>>>=0,u>>>=0,d>>>=0;var se=s()[d+40>>2>>>0];d={rb:s()[d>>2>>>0],qb:s()[d+4>>2>>>0],Ta:s()[d+8>>2>>>0],Xa:s()[d+12>>2>>>0],Ua:s()[d+16>>2>>>0],Ra:s()[d+20>>2>>>0],Na:s()[d+24>>2>>>0],Qa:s()[d+28>>2>>>0],zb:s()[d+32>>2>>>0],pb:s()[d+36>>2>>>0],sb:se?Ie(se):""},u=Ie(u),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var we in se)u=u.replace(new RegExp(we,"g"),se[we]);var tn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),rn="January February March April May June July August September October November December".split(" ");se={"%a":w=>tn[w.Na].substring(0,3),"%A":w=>tn[w.Na],"%b":w=>rn[w.Ua].substring(0,3),"%B":w=>rn[w.Ua],"%C":w=>_((w.Ra+1900)/100|0,2),"%d":w=>_(w.Xa,2),"%e":w=>O(w.Xa,2," "),"%g":w=>Ee(w).toString().substring(2),"%G":w=>Ee(w),"%H":w=>_(w.Ta,2),"%I":w=>(w=w.Ta,w==0?w=12:12<w&&(w-=12),_(w,2)),"%j":w=>{for(var j=0,X=0;X<=w.Ua-1;j+=(nt(w.Ra+1900)?jr:Yr)[X++]);return _(w.Xa+j,3)},"%m":w=>_(w.Ua+1,2),"%M":w=>_(w.qb,2),"%n":()=>`
`,"%p":w=>0<=w.Ta&&12>w.Ta?"AM":"PM","%S":w=>_(w.rb,2),"%t":()=>"	","%u":w=>w.Na||7,"%U":w=>_(Math.floor((w.Qa+7-w.Na)/7),2),"%V":w=>{var j=Math.floor((w.Qa+7-(w.Na+6)%7)/7);if(2>=(w.Na+371-w.Qa-2)%7&&j++,j)j==53&&(X=(w.Na+371-w.Qa)%7,X==4||X==3&&nt(w.Ra)||(j=1));else{j=52;var X=(w.Na+7-w.Qa-1)%7;(X==4||X==5&&nt(w.Ra%400-1))&&j++}return _(j,2)},"%w":w=>w.Na,"%W":w=>_(Math.floor((w.Qa+7-(w.Na+6)%7)/7),2),"%y":w=>(w.Ra+1900).toString().substring(2),"%Y":w=>w.Ra+1900,"%z":w=>{w=w.pb;var j=0<=w;return w=Math.abs(w)/60,(j?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.sb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(we in se)u.includes(we)&&(u=u.replace(new RegExp(we,"g"),se[we](d)));return u=u.replace(/\0\0/g,"%"),we=Aa(u),we.length>n?0:(Ta(we,e),we.length-1)}var at=void 0,$r=[];function Vr(e,n){if(!at){at=new WeakMap;var u=ne.length;if(at)for(var d=0;d<0+u;d++){var O=pt(d);O&&at.set(O,d)}}if(u=at.get(e)||0)return u;if($r.length)u=$r.pop();else{try{ne.grow(1)}catch(k){throw k instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":k}u=ne.length-1}try{d=u,ne.set(d,e),Be[d]=ne.get(d)}catch(k){if(!(k instanceof TypeError))throw k;if(typeof WebAssembly.Function=="function"){d=WebAssembly.Function,O={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var _={parameters:[],results:n[0]=="v"?[]:[O[n[0]]]},T=1;T<n.length;++T)_.parameters.push(O[n[T]]);n=new d(_,e)}else{for(d=[1],O=n.slice(0,1),n=n.slice(1),_={i:127,p:127,j:126,f:125,d:124},d.push(96),T=n.length,128>T?d.push(T):d.push(T%128|128,T>>7),T=0;T<n.length;++T)d.push(_[n[T]]);O=="v"?d.push(0):d.push(1,_[O]),n=[0,97,115,109,1,0,0,0,1],O=d.length,128>O?n.push(O):n.push(O%128|128,O>>7),n.push.apply(n,d),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),n=new WebAssembly.Module(new Uint8Array(n)),n=new WebAssembly.Instance(n,{e:{f:e}}).exports.f}d=u,ne.set(d,n),Be[d]=ne.get(d)}return at.set(e,u),u}B.Wa();var Ma=[null,ct,dt,mt,l,c,P,z,fe,ce,de,ht,gt,y,N,$,xe,Cr,Ur,Lr,Wr,kr,Nr,Hr,zr],Ra={b:function(e,n,u){throw e>>>=0,new St(e).Wa(n>>>0,u>>>0),At=e,rt++,At},N:function(e){Xr(e>>>0,!L,1,!R,131072,!1),B.Za()},k:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):lt(e)},I:o,h:l,T:c,D:P,F:z,U:fe,R:ce,J:de,Q:ht,o:gt,E:y,B:N,S:$,C:xe,q:()=>!0,z:function(e,n){e>>>=0,e==n>>>0?setTimeout(()=>Mt()):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=B.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Vt,p:function(e){I&&B.Ma[e>>>0].ref()},t:function(e,n,u){e=n+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*n:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getUTCSeconds(),s()[u+4>>2>>>0]=e.getUTCMinutes(),s()[u+8>>2>>>0]=e.getUTCHours(),s()[u+12>>2>>>0]=e.getUTCDate(),s()[u+16>>2>>>0]=e.getUTCMonth(),s()[u+20>>2>>>0]=e.getUTCFullYear()-1900,s()[u+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[u+28>>2>>>0]=e},u:function(e,n,u){e=n+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*n:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getSeconds(),s()[u+4>>2>>>0]=e.getMinutes(),s()[u+8>>2>>>0]=e.getHours(),s()[u+12>>2>>>0]=e.getDate(),s()[u+16>>2>>>0]=e.getMonth(),s()[u+20>>2>>>0]=e.getFullYear()-1900,s()[u+24>>2>>>0]=e.getDay(),n=(nt(e.getFullYear())?xr:Pr)[e.getMonth()]+e.getDate()-1|0,s()[u+28>>2>>>0]=n,s()[u+36>>2>>>0]=-(60*e.getTimezoneOffset()),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var d=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(n!=d&&e.getTimezoneOffset()==Math.min(d,n))|0,s()[u+32>>2>>>0]=e},v:function(e){e>>>=0;var n=new Date(s()[e+20>>2>>>0]+1900,s()[e+16>>2>>>0],s()[e+12>>2>>>0],s()[e+8>>2>>>0],s()[e+4>>2>>>0],s()[e>>2>>>0],0),u=s()[e+32>>2>>>0],d=n.getTimezoneOffset(),O=new Date(n.getFullYear(),6,1).getTimezoneOffset(),_=new Date(n.getFullYear(),0,1).getTimezoneOffset(),T=Math.min(_,O);return 0>u?s()[e+32>>2>>>0]=+(O!=_&&T==d):0<u!=(T==d)&&(O=Math.max(_,O),n.setTime(n.getTime()+6e4*((0<u?T:O)-d))),s()[e+24>>2>>>0]=n.getDay(),u=(nt(n.getFullYear())?xr:Pr)[n.getMonth()]+n.getDate()-1|0,s()[e+28>>2>>>0]=u,s()[e>>2>>>0]=n.getSeconds(),s()[e+4>>2>>>0]=n.getMinutes(),s()[e+8>>2>>>0]=n.getHours(),s()[e+12>>2>>>0]=n.getDate(),s()[e+16>>2>>>0]=n.getMonth(),s()[e+20>>2>>>0]=n.getYear(),e=n.getTime()/1e3,Zr((De=e,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),e>>>0},r:Cr,s:Ur,y:function(e,n,u){function d(se){return(se=se.toTimeString().match(/\(([A-Za-z ]+)\)$/))?se[1]:"GMT"}e>>>=0,n>>>=0,u>>>=0;var O=new Date().getFullYear(),_=new Date(O,0,1),T=new Date(O,6,1);O=_.getTimezoneOffset();var k=T.getTimezoneOffset(),Ee=Math.max(O,k);g()[e>>2>>>0]=60*Ee,s()[n>>2>>>0]=+(O!=k),e=d(_),n=d(T),e=Fr(e),n=Fr(n),k<O?(g()[u>>2>>>0]=e,g()[u+4>>2>>>0]=n):(g()[u>>2>>>0]=n,g()[u+4>>2>>>0]=e)},c:()=>{Pe("")},l:function(){},i:function(){return Date.now()},V:()=>{throw ie+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return I?(Ln(),it(Bn)).cpus().length:navigator.hardwareConcurrency},K:function(e,n,u,d){for(B.wb=n>>>0,qt.length=u,n=d>>>0>>3,d=0;d<u;d++)qt[d]=p()[n+d>>>0];return Ma[e].apply(null,qt)},x:function(e){e>>>=0;var n=f().length;if(e<=n||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var d=n*(1+.2/u);d=Math.min(d,e+100663296);var O=Math;d=Math.max(e,d);e:{O=O.min.call(O,4294901760,d+(65536-d%65536)%65536)-F.buffer.byteLength+65535>>>16;try{F.grow(O),ve();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},O:Lr,P:Wr,H:tt,g:kr,n:Nr,w:Hr,m:zr,a:F||i.wasmMemory,G:Gr,d:function(e,n,u,d){return Gr(e>>>0,n>>>0,u>>>0,d>>>0)},j:function(e,n,u,d){let O=ne.length;e=new Uint8Array(f().slice(e+n,e+u));try{var _=new WebAssembly.Module(e),T=new WebAssembly.Instance(_,{env:{memory:F}}),k;for(k in T.exports)Vr(T.exports[k]);return O<ne.length?O:d}catch(Ee){return console.log(Ee),d}}};(function(){function e(u,d){return u=u.exports,x=u=Da(u),B.$a.push(x.za),ne=x.Aa,Oe.unshift(x.W),je=d,Qe(),u}var n={a:Ra};if(Je(),i.instantiateWasm)try{return i.instantiateWasm(n,e)}catch(u){le("Module.instantiateWasm callback failed with error: "+u),h(u)}return _t(n,function(u){e(u.instance,u.module)}).catch(h),{}})(),i._OrtInit=(e,n)=>(i._OrtInit=x.X)(e,n),i._OrtGetLastError=(e,n)=>(i._OrtGetLastError=x.Y)(e,n),i._OrtCreateSessionOptions=(e,n,u,d,O,_,T,k,Ee,se)=>(i._OrtCreateSessionOptions=x.Z)(e,n,u,d,O,_,T,k,Ee,se),i._OrtAppendExecutionProvider=(e,n)=>(i._OrtAppendExecutionProvider=x._)(e,n),i._OrtAddFreeDimensionOverride=(e,n,u)=>(i._OrtAddFreeDimensionOverride=x.$)(e,n,u),i._OrtAddSessionConfigEntry=(e,n,u)=>(i._OrtAddSessionConfigEntry=x.aa)(e,n,u),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=x.ba)(e),i._OrtCreateSession=(e,n,u)=>(i._OrtCreateSession=x.ca)(e,n,u),i._OrtReleaseSession=e=>(i._OrtReleaseSession=x.da)(e),i._OrtGetInputOutputCount=(e,n,u)=>(i._OrtGetInputOutputCount=x.ea)(e,n,u),i._OrtGetInputName=(e,n)=>(i._OrtGetInputName=x.fa)(e,n),i._OrtGetOutputName=(e,n)=>(i._OrtGetOutputName=x.ga)(e,n),i._OrtFree=e=>(i._OrtFree=x.ha)(e),i._OrtCreateTensor=(e,n,u,d,O,_)=>(i._OrtCreateTensor=x.ia)(e,n,u,d,O,_),i._OrtGetTensorData=(e,n,u,d,O)=>(i._OrtGetTensorData=x.ja)(e,n,u,d,O),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=x.ka)(e),i._OrtCreateRunOptions=(e,n,u,d)=>(i._OrtCreateRunOptions=x.la)(e,n,u,d),i._OrtAddRunConfigEntry=(e,n,u)=>(i._OrtAddRunConfigEntry=x.ma)(e,n,u),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=x.na)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=x.oa)(e),i._OrtBindInput=(e,n,u)=>(i._OrtBindInput=x.pa)(e,n,u),i._OrtBindOutput=(e,n,u,d)=>(i._OrtBindOutput=x.qa)(e,n,u,d),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=x.ra)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=x.sa)(e),i._OrtRunWithBinding=(e,n,u,d,O)=>(i._OrtRunWithBinding=x.ta)(e,n,u,d,O),i._OrtRun=(e,n,u,d,O,_,T,k)=>(i._OrtRun=x.ua)(e,n,u,d,O,_,T,k),i._OrtEndProfiling=e=>(i._OrtEndProfiling=x.va)(e);var Rt=i._pthread_self=()=>(Rt=i._pthread_self=x.wa)(),qr=i._malloc=e=>(qr=i._malloc=x.xa)(e);i._free=e=>(i._free=x.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=x.za)();var Xr=i.__emscripten_thread_init=(e,n,u,d,O,_)=>(Xr=i.__emscripten_thread_init=x.Ba)(e,n,u,d,O,_);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=x.Ca)();var Jr=(e,n,u,d)=>(Jr=x.Da)(e,n,u,d),Qt=e=>(Qt=x.Ea)(e),Zt=i.__emscripten_thread_exit=e=>(Zt=i.__emscripten_thread_exit=x.Fa)(e),Qr=i.__emscripten_check_mailbox=()=>(Qr=i.__emscripten_check_mailbox=x.Ga)(),Zr=e=>(Zr=x.Ha)(e),Kr=(e,n)=>(Kr=x.Ia)(e,n),Kt=()=>(Kt=x.Ja)(),Dt=e=>(Dt=x.Ka)(e),er=e=>(er=x.La)(e);i.___start_em_js=906844,i.___stop_em_js=907456;function Da(e){e=Object.assign({},e);var n=d=>()=>d()>>>0,u=d=>O=>d(O)>>>0;return e.__errno_location=n(e.__errno_location),e.pthread_self=n(e.pthread_self),e.malloc=u(e.malloc),e.stackSave=n(e.stackSave),e.stackAlloc=u(e.stackAlloc),e}i.keepRuntimeAlive=Re,i.wasmMemory=F,i.stackAlloc=er,i.stackSave=Kt,i.stackRestore=Dt,i.addFunction=Vr,i.UTF8ToString=Ie,i.stringToUTF8=D,i.lengthBytesUTF8=m,i.ExitStatus=Ke,i.PThread=B;var It;He=function e(){It||en(),It||(He=e)};function en(){function e(){if(!It&&(It=!0,i.calledRun=!0,!re)&&(M||Ye(Oe),b(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!M)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var n=i.postRun.shift();ae.unshift(n)}Ye(ae)}}if(!(0<_e))if(M)b(i),M||Ye(Oe),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Me.unshift(i.preRun.shift());Ye(Me),0<_e||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return en(),a.ready}})();typeof kn=="object"&&typeof fr=="object"?fr.exports=Wn:typeof define=="function"&&define.amd&&define([],()=>Wn)});var Hn=ot((Vo,Na)=>{Na.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var jn,Ha,cr,dr,kt,zn,za,ja,Ya,Yn,Z,st=H(()=>{"use strict";jn=Cn();Ha=Nn(),dr=!1,kt=!1,zn=!1,za=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},ja=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Ya=(r,a)=>r?a?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":a?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Yn=async r=>{if(dr)return Promise.resolve();if(kt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(zn)throw new Error("previous call to 'initializeWebAssembly()' failed.");kt=!0;let a=r.initTimeout,t=r.numThreads,f=r.simd,s=t>1&&za(),g=f&&ja(),p=r.wasmPaths,i=typeof p=="string"?p:void 0,b=Ya(g,s),h=typeof p=="object"?p[b]:void 0,v=!1,A=[];if(a>0&&A.push(new Promise(E=>{setTimeout(()=>{v=!0,E()},a)})),A.push(new Promise((E,R)=>{let L=s?Ha:jn,I={locateFile:(M,W)=>s&&M.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Hn()],{type:"text/javascript"})):M.endsWith(".wasm")?h||(i??W)+b:W+M};if(s)if(typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let M=`var ortWasmThreaded=${L.toString()};`;I.mainScriptUrlOrBlob=new Blob([M],{type:"text/javascript"})}L(I).then(M=>{kt=!1,dr=!0,cr=M,E()},M=>{kt=!1,zn=!0,R(M)})})),await Promise.race(A),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${a}ms`)},Z=()=>{if(dr&&cr)return cr;throw new Error("WebAssembly is not initialized yet.")}});var K,bt,J,Nt=H(()=>{"use strict";st();K=(r,a)=>{let t=Z(),f=t.lengthBytesUTF8(r)+1,s=t._malloc(f);return t.stringToUTF8(r,s,f),a.push(s),s},bt=(r,a,t,f)=>{if(typeof r=="object"&&r!==null){if(t.has(r))throw new Error("Circular reference in options");t.add(r)}Object.entries(r).forEach(([s,g])=>{let p=a?a+s:s;if(typeof g=="object")bt(g,p+".",t,f);else if(typeof g=="string"||typeof g=="number")f(p,g.toString());else if(typeof g=="boolean")f(p,g?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof g}`)})},J=r=>{let a=Z(),t=a.stackSave();try{let f=a.stackAlloc(8);a._OrtGetLastError(f,f+4);let s=a.HEAP32[f/4],g=a.HEAPU32[f/4+1],p=g?a.UTF8ToString(g):"";throw new Error(`${r} ERROR_CODE: ${s}, ERROR_MESSAGE: ${p}`)}finally{a.stackRestore(t)}}});var Gn,$n=H(()=>{"use strict";st();Nt();Gn=r=>{let a=Z(),t=0,f=[],s=r||{};try{if(r?.logSeverityLevel===void 0)s.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)s.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(s.terminate=!1);let g=0;return r?.tag!==void 0&&(g=K(r.tag,f)),t=a._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,g),t===0&&J("Can't create run options."),r?.extra!==void 0&&bt(r.extra,"",new WeakSet,(p,i)=>{let b=K(p,f),h=K(i,f);a._OrtAddRunConfigEntry(t,b,h)!==0&&J(`Can't set a run config entry: ${p} - ${i}.`)}),[t,f]}catch(g){throw t!==0&&a._OrtReleaseRunOptions(t),f.forEach(p=>a._free(p)),g}}});var Ga,$a,Va,qa,Vn,qn=H(()=>{"use strict";st();Nt();Ga=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},$a=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},Va=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let a=r.extra.session;a.use_ort_model_bytes_directly||(a.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(r.enableMemPattern=!1)},qa=(r,a,t)=>{for(let f of a){let s=typeof f=="string"?f:f.name;switch(s){case"xnnpack":s="XNNPACK";break;case"webnn":if(s="WEBNN",typeof f!="string"){let p=f;if(p?.deviceType){let i=K("deviceType",t),b=K(p.deviceType,t);Z()._OrtAddSessionConfigEntry(r,i,b)!==0&&J(`Can't set a session config entry: 'deviceType' - ${p.deviceType}.`)}if(p?.numThreads){let i=p.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let b=K("numThreads",t),h=K(i.toString(),t);Z()._OrtAddSessionConfigEntry(r,b,h)!==0&&J(`Can't set a session config entry: 'numThreads' - ${p.numThreads}.`)}if(p?.powerPreference){let i=K("powerPreference",t),b=K(p.powerPreference,t);Z()._OrtAddSessionConfigEntry(r,i,b)!==0&&J(`Can't set a session config entry: 'powerPreference' - ${p.powerPreference}.`)}}break;case"webgpu":if(s="JS",typeof f!="string"){let p=f;if(p?.preferredLayout){if(p.preferredLayout!=="NCHW"&&p.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${p.preferredLayout}`);let i=K("preferredLayout",t),b=K(p.preferredLayout,t);Z()._OrtAddSessionConfigEntry(r,i,b)!==0&&J(`Can't set a session config entry: 'preferredLayout' - ${p.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${s}`)}let g=K(s,t);Z()._OrtAppendExecutionProvider(r,g)!==0&&J(`Can't append execution provider: ${s}.`)}},Vn=r=>{let a=Z(),t=0,f=[],s=r||{};Va(s);try{let g=Ga(s.graphOptimizationLevel??"all"),p=$a(s.executionMode??"sequential"),i=typeof s.logId=="string"?K(s.logId,f):0,b=s.logSeverityLevel??2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);let h=s.logVerbosityLevel??0;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log verbosity level is not valid: ${h}`);let v=typeof s.optimizedModelFilePath=="string"?K(s.optimizedModelFilePath,f):0;if(t=a._OrtCreateSessionOptions(g,!!s.enableCpuMemArena,!!s.enableMemPattern,p,!!s.enableProfiling,0,i,b,h,v),t===0&&J("Can't create session options."),s.executionProviders&&qa(t,s.executionProviders,f),s.freeDimensionOverrides)for(let[A,E]of Object.entries(s.freeDimensionOverrides)){if(typeof A!="string")throw new Error(`free dimension override name must be a string: ${A}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let R=K(A,f);a._OrtAddFreeDimensionOverride(t,R,E)!==0&&J(`Can't set a free dimension override: ${A} - ${E}.`)}return s.extra!==void 0&&bt(s.extra,"",new WeakSet,(A,E)=>{let R=K(A,f),L=K(E,f);a._OrtAddSessionConfigEntry(t,R,L)!==0&&J(`Can't set a session config entry: ${A} - ${E}.`)}),[t,f]}catch(g){throw t!==0&&a._OrtReleaseSessionOptions(t),f.forEach(p=>a._free(p)),g}}});var pr,Xn,mr,Jn,Qn,Ht,Zn,hr=H(()=>{"use strict";pr=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},Xn=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},mr=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],Jn=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},Qn=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},Ht=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",Zn=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var ea,Xa,Ja,ta,vt,ra,gr,yr,na,aa,Kn,oa,ia,sa,ua=H(()=>{"use strict";$n();qn();hr();st();Nt();ea=!1,Xa=r=>{let a=Z(),t=a.stackSave();try{let f=a.stackAlloc(8);return a._OrtGetInputOutputCount(r,f,f+4)!==0&&J("Can't get session input/output count."),[a.HEAP32[f/4],a.HEAP32[f/4+1]]}finally{a.stackRestore(t)}},Ja=(r,a)=>{Z()._OrtInit(r,a)!==0&&J("Can't initialize onnxruntime.")},ta=async r=>{Ja(r.wasm.numThreads,Qn(r.logLevel)),ea=!0},vt=new Map,ra=()=>ea,gr=r=>{let a=Z(),t=a._malloc(r.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return a.HEAPU8.set(r,t),[t,r.byteLength]},yr=(r,a)=>{let t=Z(),f=0,s=0,g=0,p=[],i=[],b=[];try{[s,p]=Vn(a),f=t._OrtCreateSession(r[0],r[1],s),f===0&&J("Can't create a session.");let[h,v]=Xa(f),A=[],E=[],R=[];for(let I=0;I<h;I++){let M=t._OrtGetInputName(f,I);M===0&&J("Can't get an input name."),i.push(M),A.push(t.UTF8ToString(M))}for(let I=0;I<v;I++){let M=t._OrtGetOutputName(f,I);M===0&&J("Can't get an output name."),b.push(M);let W=t.UTF8ToString(M);E.push(W)}let L=null;return vt.set(f,[f,i,b,L]),[f,A,E]}catch(h){throw i.forEach(v=>t._OrtFree(v)),b.forEach(v=>t._OrtFree(v)),g!==0&&t._OrtReleaseBinding(g),f!==0&&t._OrtReleaseSession(f),h}finally{t._free(r[0]),s!==0&&t._OrtReleaseSessionOptions(s),p.forEach(h=>t._free(h))}},na=(r,a)=>{let t=gr(r);return yr(t,a)},aa=r=>{let a=Z(),t=vt.get(r);if(!t)throw new Error(`cannot release session. invalid session id: ${r}`);let[f,s,g,p]=t;p&&a._OrtReleaseBinding(p.handle),a.jsepUnregisterBuffers?.(r),s.forEach(i=>a._OrtFree(i)),g.forEach(i=>a._OrtFree(i)),a._OrtReleaseSession(f),vt.delete(r)},Kn=(r,a,t,f,s)=>{if(!r){a.push(0);return}let g=Z(),p=r[0],i=r[1],b=r[3],h,v;if(p==="string"&&b==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b==="gpu-buffer"){let R=r[2].gpuBuffer,L=mr(pr(p));v=i.reduce((I,M)=>I*M,1)*L,h=g.jsepRegisterBuffer(f,s,R,v)}else{let R=r[2];if(Array.isArray(R)){v=4*R.length,h=g._malloc(v),t.push(h);let L=h/4;for(let I=0;I<R.length;I++){if(typeof R[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);g.HEAPU32[L++]=K(R[I],t)}}else v=R.byteLength,h=g._malloc(v),t.push(h),g.HEAPU8.set(new Uint8Array(R.buffer,R.byteOffset,v),h)}let A=g.stackSave(),E=g.stackAlloc(4*i.length);try{let R=E/4;i.forEach(I=>g.HEAP32[R++]=I);let L=g._OrtCreateTensor(pr(p),h,v,E,i.length,Zn(b));L===0&&J(`Can't create tensor for input/output. session=${f}, index=${s}.`),a.push(L)}finally{g.stackRestore(A)}},oa=async(r,a,t,f,s,g)=>{let p=Z(),i=vt.get(r);if(!i)throw new Error(`cannot run inference. invalid session id: ${r}`);let[b,h,v,A]=i,E=a.length,R=f.length,L=0,I=[],M=[],W=[],G=[],ue=p.stackSave(),ee=p.stackAlloc(E*4),U=p.stackAlloc(E*4),Se=p.stackAlloc(R*4),Ae=p.stackAlloc(R*4);try{[L,I]=Gn(g);for(let F=0;F<E;F++)Kn(t[F],M,G,r,a[F]);for(let F=0;F<R;F++)Kn(s[F],W,G,r,E+f[F]);let Q=ee/4,C=U/4,oe=Se/4,le=Ae/4;for(let F=0;F<E;F++)p.HEAPU32[Q++]=M[F],p.HEAPU32[C++]=h[a[F]];for(let F=0;F<R;F++)p.HEAPU32[oe++]=W[F],p.HEAPU32[le++]=v[f[F]];let te;te=await p._OrtRun(b,U,ee,E,Ae,R,Se,L),te!==0&&J("failed to call OrtRun().");let Te=[];for(let F=0;F<R;F++){let x=p.HEAPU32[Se/4+F];if(x===W[F]){Te.push(s[F]);continue}let je=p.stackSave(),re=p.stackAlloc(4*4),he=!1,Y,pe=0;try{p._OrtGetTensorData(x,re,re+4,re+8,re+12)!==0&&J(`Can't access output tensor data on index ${F}.`);let ye=re/4,We=p.HEAPU32[ye++];pe=p.HEAPU32[ye++];let ve=p.HEAPU32[ye++],ke=p.HEAPU32[ye++],ne=[];for(let ae=0;ae<ke;ae++)ne.push(p.HEAPU32[ve/4+ae]);p._OrtFree(ve);let Me=ne.reduce((ae,ie)=>ae*ie,1);Y=Xn(We);let Oe=A?.outputPreferredLocations[f[F]];if(Y==="string"){if(Oe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ae=[],ie=pe/4;for(let Re=0;Re<Me;Re++){let _e=p.HEAPU32[ie++],Ne=Re===Me-1?void 0:p.HEAPU32[ie]-_e;ae.push(p.UTF8ToString(_e,Ne))}Te.push([Y,ne,ae,"cpu"])}else if(Oe==="gpu-buffer"&&Me>0){let ae=p.jsepGetBuffer(pe),ie=mr(We);if(ie===void 0||!Ht(Y))throw new Error(`Unsupported data type: ${Y}`);he=!0,Te.push([Y,ne,{gpuBuffer:ae,download:p.jsepCreateDownloader(ae,Me*ie,Y),dispose:()=>{p._OrtReleaseTensor(x)}},"gpu-buffer"])}else{let ae=Jn(Y),ie=new ae(Me);new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength).set(p.HEAPU8.subarray(pe,pe+ie.byteLength)),Te.push([Y,ne,ie,"cpu"])}}finally{p.stackRestore(je),Y==="string"&&pe&&p._free(pe),he||p._OrtReleaseTensor(x)}}return A&&p._OrtClearBoundOutputs(A.handle),Te}finally{p.stackRestore(ue),M.forEach(Q=>p._OrtReleaseTensor(Q)),W.forEach(Q=>p._OrtReleaseTensor(Q)),G.forEach(Q=>p._free(Q)),L!==0&&p._OrtReleaseRunOptions(L),I.forEach(Q=>p._free(Q))}},ia=r=>{let a=Z(),t=vt.get(r);if(!t)throw new Error("invalid session id");let f=t[0],s=a._OrtEndProfiling(f);s===0&&J("Can't get an profile file name."),a._OrtFree(s)},sa=r=>{let a=[];for(let t of r){let f=t[2];!Array.isArray(f)&&"buffer"in f&&a.push(f.buffer)}return a}});var la=ot((fi,Za)=>{Za.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Tt=Object.defineProperty;var Zr=Object.getOwnPropertyDescriptor;var Kr=Object.getOwnPropertyNames;var en=Object.prototype.hasOwnProperty;var Rt=(l,c)=>()=>(l&&(c=l(l=0)),c);var at=(l,c)=>()=>(c||l((c={exports:{}}).exports,c),c.exports),Dt=(l,c)=>{for(var a in c)Tt(l,a,{get:c[a],enumerable:!0})},tn=(l,c,a,w)=>{if(c&&typeof c=="object"||typeof c=="function")for(let d of Kr(c))!en.call(l,d)&&d!==a&&Tt(l,d,{get:()=>c[d],enumerable:!(w=Zr(c,d))||w.enumerable});return l};var ot=l=>tn(Tt({},"__esModule",{value:!0}),l);var Ct={};Dt(Ct,{readFile:()=>rn});var rn,xt=Rt(()=>{rn=void 0});var It={};Dt(It,{join:()=>nn});var nn,Ft=Rt(()=>{nn=void 0});var yr=at((hr,Ut)=>{"use strict";var gr=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(c={}){var a=c,w,d;a.ready=new Promise((r,o)=>{w=r,d=o});var v=Object.assign({},a),y="./this.program",s=typeof window=="object",x=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",F="",N,U,W;if(I){var H=(xt(),ot(Ct)),C=(Ft(),ot(It));F=x?C.dirname(F)+"/":__dirname+"/",N=(r,o)=>(r=r.startsWith("file://")?new URL(r):C.normalize(r),H.readFileSync(r,o?void 0:"utf8")),W=r=>(r=N(r,!0),r.buffer||(r=new Uint8Array(r)),r),U=(r,o,i,f=!0)=>{r=r.startsWith("file://")?new URL(r):C.normalize(r),H.readFile(r,f?void 0:"utf8",(O,_)=>{O?i(O):o(f?_.buffer:_)})},!a.thisProgram&&1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(s||x)&&(x?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),l&&(F=l),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",N=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},x&&(W=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),U=(r,o,i)=>{var f=new XMLHttpRequest;f.open("GET",r,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?o(f.response):i()},f.onerror=i,f.send(null)});var S=a.print||console.log.bind(console),B=a.printErr||console.error.bind(console);Object.assign(a,v),v=null,a.thisProgram&&(y=a.thisProgram);var fe;a.wasmBinary&&(fe=a.wasmBinary);var Be=a.noExitRuntime||!0;typeof WebAssembly!="object"&&ue("no native wasm support detected");var pe,D,Oe=!1,we,q,A,te;function ae(){var r=pe.buffer;a.HEAP8=we=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAP32=A=new Int32Array(r),a.HEAPU8=q=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAPU32=te=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=new Float64Array(r)}var Q,be=[],T=[],E=[];function We(){var r=a.preRun.shift();be.unshift(r)}var Z=0,le=null,j=null;function ue(r){throw a.onAbort&&a.onAbort(r),r="Aborted("+r+")",B(r),Oe=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),d(r),r}function Ne(r){return r.startsWith("data:application/octet-stream;base64,")}var ce;if(ce="ort-wasm.wasm",!Ne(ce)){var xe=ce;ce=a.locateFile?a.locateFile(xe,F):F+xe}function me(r){if(r==ce&&fe)return new Uint8Array(fe);if(W)return W(r);throw"both async and sync fetching of the wasm failed"}function Ie(r){if(!fe&&(s||x)){if(typeof fetch=="function"&&!r.startsWith("file://"))return fetch(r,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+r+"\'";return o.arrayBuffer()}).catch(()=>me(r));if(U)return new Promise((o,i)=>{U(r,f=>o(new Uint8Array(f)),i)})}return Promise.resolve().then(()=>me(r))}function K(r,o,i){return Ie(r).then(f=>WebAssembly.instantiate(f,o)).then(f=>f).then(i,f=>{B("failed to asynchronously prepare wasm: "+f),ue(f)})}function _e(r,o){var i=ce;return fe||typeof WebAssembly.instantiateStreaming!="function"||Ne(i)||i.startsWith("file://")||I||typeof fetch!="function"?K(i,r,o):fetch(i,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,r).then(o,function(O){return B("wasm streaming compile failed: "+O),B("falling back to ArrayBuffer instantiation"),K(i,r,o)}))}var ge,ee=r=>{for(;0<r.length;)r.shift()(a)};function re(r){this.xa=r-24,this.Ga=function(o){te[this.xa+4>>2>>>0]=o},this.Fa=function(o){te[this.xa+8>>2>>>0]=o},this.za=function(o,i){this.Ea(),this.Ga(o),this.Fa(i)},this.Ea=function(){te[this.xa+16>>2>>>0]=0}}var ve=0,he=0,Fe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ue=(r,o,i)=>{o>>>=0;var f=o+i;for(i=o;r[i]&&!(i>=f);)++i;if(16<i-o&&r.buffer&&Fe)return Fe.decode(r.subarray(o,i));for(f="";o<i;){var O=r[o++];if(O&128){var _=r[o++]&63;if((O&224)==192)f+=String.fromCharCode((O&31)<<6|_);else{var M=r[o++]&63;O=(O&240)==224?(O&15)<<12|_<<6|M:(O&7)<<18|_<<12|M<<6|r[o++]&63,65536>O?f+=String.fromCharCode(O):(O-=65536,f+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else f+=String.fromCharCode(O)}return f},He=(r,o)=>(r>>>=0)?Ue(q,r,o):"",ke=r=>{for(var o=0,i=0;i<r.length;++i){var f=r.charCodeAt(i);127>=f?o++:2047>=f?o+=2:55296<=f&&57343>=f?(o+=4,++i):o+=3}return o},Ae=(r,o,i,f)=>{if(i>>>=0,!(0<f))return 0;var O=i;f=i+f-1;for(var _=0;_<r.length;++_){var M=r.charCodeAt(_);if(55296<=M&&57343>=M){var k=r.charCodeAt(++_);M=65536+((M&1023)<<10)|k&1023}if(127>=M){if(i>=f)break;o[i++>>>0]=M}else{if(2047>=M){if(i+1>=f)break;o[i++>>>0]=192|M>>6}else{if(65535>=M){if(i+2>=f)break;o[i++>>>0]=224|M>>12}else{if(i+3>=f)break;o[i++>>>0]=240|M>>18,o[i++>>>0]=128|M>>12&63}o[i++>>>0]=128|M>>6&63}o[i++>>>0]=128|M&63}}return o[i>>>0]=0,i-O},Te=r=>r%4===0&&(r%100!==0||r%400===0),Re=[0,31,60,91,121,152,182,213,244,274,305,335],Je=[0,31,59,90,120,151,181,212,243,273,304,334],ut=r=>{var o=ke(r)+1,i=Pe(o);return i&&Ae(r,q,i,o),i},ze={},lt=()=>{if(!Se){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},o;for(o in ze)ze[o]===void 0?delete r[o]:r[o]=ze[o];var i=[];for(o in r)i.push(`${o}=${r[o]}`);Se=i}return Se},Se,je=[null,[],[]],Ye=[31,29,31,30,31,30,31,31,30,31,30,31],Xe=[31,28,31,30,31,30,31,31,30,31,30,31];function ft(r){var o=Array(ke(r)+1);return Ae(r,o,0,o.length),o}function Qe(r,o,i,f){function O(p,L,Y){for(p=typeof p=="number"?p.toString():p||"";p.length<L;)p=Y[0]+p;return p}function _(p,L){return O(p,L,"0")}function M(p,L){function Y(pt){return 0>pt?-1:0<pt?1:0}var Me;return(Me=Y(p.getFullYear()-L.getFullYear()))===0&&(Me=Y(p.getMonth()-L.getMonth()))===0&&(Me=Y(p.getDate()-L.getDate())),Me}function k(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function oe(p){var L=p.ta;for(p=new Date(new Date(p.ua+1900,0,1).getTime());0<L;){var Y=p.getMonth(),Me=(Te(p.getFullYear())?Ye:Xe)[Y];if(L>Me-p.getDate())L-=Me-p.getDate()+1,p.setDate(1),11>Y?p.setMonth(Y+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+L);break}}return Y=new Date(p.getFullYear()+1,0,4),L=k(new Date(p.getFullYear(),0,4)),Y=k(Y),0>=M(L,p)?0>=M(Y,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}r>>>=0,o>>>=0,i>>>=0,f>>>=0;var se=A[f+40>>2>>>0];f={Ca:A[f>>2>>>0],Ba:A[f+4>>2>>>0],va:A[f+8>>2>>>0],ya:A[f+12>>2>>>0],wa:A[f+16>>2>>>0],ua:A[f+20>>2>>>0],sa:A[f+24>>2>>>0],ta:A[f+28>>2>>>0],Ha:A[f+32>>2>>>0],Aa:A[f+36>>2>>>0],Da:se?He(se):""},i=He(i),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in se)i=i.replace(new RegExp(ie,"g"),se[ie]);var rt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),nt="January February March April May June July August September October November December".split(" ");se={"%a":p=>rt[p.sa].substring(0,3),"%A":p=>rt[p.sa],"%b":p=>nt[p.wa].substring(0,3),"%B":p=>nt[p.wa],"%C":p=>_((p.ua+1900)/100|0,2),"%d":p=>_(p.ya,2),"%e":p=>O(p.ya,2," "),"%g":p=>oe(p).toString().substring(2),"%G":p=>oe(p),"%H":p=>_(p.va,2),"%I":p=>(p=p.va,p==0?p=12:12<p&&(p-=12),_(p,2)),"%j":p=>{for(var L=0,Y=0;Y<=p.wa-1;L+=(Te(p.ua+1900)?Ye:Xe)[Y++]);return _(p.ya+L,3)},"%m":p=>_(p.wa+1,2),"%M":p=>_(p.Ba,2),"%n":()=>`\n`,"%p":p=>0<=p.va&&12>p.va?"AM":"PM","%S":p=>_(p.Ca,2),"%t":()=>"	","%u":p=>p.sa||7,"%U":p=>_(Math.floor((p.ta+7-p.sa)/7),2),"%V":p=>{var L=Math.floor((p.ta+7-(p.sa+6)%7)/7);if(2>=(p.sa+371-p.ta-2)%7&&L++,L)L==53&&(Y=(p.sa+371-p.ta)%7,Y==4||Y==3&&Te(p.ua)||(L=1));else{L=52;var Y=(p.sa+7-p.ta-1)%7;(Y==4||Y==5&&Te(p.ua%400-1))&&L++}return _(L,2)},"%w":p=>p.sa,"%W":p=>_(Math.floor((p.ta+7-(p.sa+6)%7)/7),2),"%y":p=>(p.ua+1900).toString().substring(2),"%Y":p=>p.ua+1900,"%z":p=>{p=p.Aa;var L=0<=p;return p=Math.abs(p)/60,(L?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Da,"%%":()=>"%"},i=i.replace(/%%/g,"\\0\\0");for(ie in se)i.includes(ie)&&(i=i.replace(new RegExp(ie,"g"),se[ie](f)));return i=i.replace(/\\0\\0/g,"%"),ie=ft(i),ie.length>o?0:(we.set(ie,r>>>0),ie.length-1)}var De=[],Ee=void 0,Ze=[];function Ge(r,o){if(!Ee){Ee=new WeakMap;var i=Q.length;if(Ee)for(var f=0;f<0+i;f++){var O=f,_=De[O];_||(O>=De.length&&(De.length=O+1),De[O]=_=Q.get(O)),(O=_)&&Ee.set(O,f)}}if(i=Ee.get(r)||0)return i;if(Ze.length)i=Ze.pop();else{try{Q.grow(1)}catch(k){throw k instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":k}i=Q.length-1}try{f=i,Q.set(f,r),De[f]=Q.get(f)}catch(k){if(!(k instanceof TypeError))throw k;if(typeof WebAssembly.Function=="function"){f=WebAssembly.Function,O={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},_={parameters:[],results:o[0]=="v"?[]:[O[o[0]]]};for(var M=1;M<o.length;++M)_.parameters.push(O[o[M]]);o=new f(_,r)}else{for(f=[1],O=o.slice(0,1),o=o.slice(1),_={i:127,p:127,j:126,f:125,d:124},f.push(96),M=o.length,128>M?f.push(M):f.push(M%128|128,M>>7),M=0;M<o.length;++M)f.push(_[o[M]]);O=="v"?f.push(0):f.push(1,_[O]),o=[0,97,115,109,1,0,0,0,1],O=f.length,128>O?o.push(O):o.push(O%128|128,O>>7),o.push.apply(o,f),o.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),o=new WebAssembly.Module(new Uint8Array(o)),o=new WebAssembly.Instance(o,{e:{f:r}}).exports.f}f=i,Q.set(f,o),De[f]=Q.get(f)}return Ee.set(r,i),i}var R={a:function(r,o,i){throw r>>>=0,new re(r).za(o>>>0,i>>>0),ve=r,he++,ve},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(r,o,i){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,i>>>=0,r=new Date(1e3*r),A[i>>2>>>0]=r.getUTCSeconds(),A[i+4>>2>>>0]=r.getUTCMinutes(),A[i+8>>2>>>0]=r.getUTCHours(),A[i+12>>2>>>0]=r.getUTCDate(),A[i+16>>2>>>0]=r.getUTCMonth(),A[i+20>>2>>>0]=r.getUTCFullYear()-1900,A[i+24>>2>>>0]=r.getUTCDay(),A[i+28>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(r,o,i){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,i>>>=0,r=new Date(1e3*r),A[i>>2>>>0]=r.getSeconds(),A[i+4>>2>>>0]=r.getMinutes(),A[i+8>>2>>>0]=r.getHours(),A[i+12>>2>>>0]=r.getDate(),A[i+16>>2>>>0]=r.getMonth(),A[i+20>>2>>>0]=r.getFullYear()-1900,A[i+24>>2>>>0]=r.getDay(),A[i+28>>2>>>0]=(Te(r.getFullYear())?Re:Je)[r.getMonth()]+r.getDate()-1|0,A[i+36>>2>>>0]=-(60*r.getTimezoneOffset()),o=new Date(r.getFullYear(),6,1).getTimezoneOffset();var f=new Date(r.getFullYear(),0,1).getTimezoneOffset();A[i+32>>2>>>0]=(o!=f&&r.getTimezoneOffset()==Math.min(f,o))|0},q:function(r){r>>>=0;var o=new Date(A[r+20>>2>>>0]+1900,A[r+16>>2>>>0],A[r+12>>2>>>0],A[r+8>>2>>>0],A[r+4>>2>>>0],A[r>>2>>>0],0),i=A[r+32>>2>>>0],f=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),_=new Date(o.getFullYear(),0,1).getTimezoneOffset(),M=Math.min(_,O);return 0>i?A[r+32>>2>>>0]=+(O!=_&&M==f):0<i!=(M==f)&&(O=Math.max(_,O),o.setTime(o.getTime()+6e4*((0<i?M:O)-f))),A[r+24>>2>>>0]=o.getDay(),A[r+28>>2>>>0]=(Te(o.getFullYear())?Re:Je)[o.getMonth()]+o.getDate()-1|0,A[r>>2>>>0]=o.getSeconds(),A[r+4>>2>>>0]=o.getMinutes(),A[r+8>>2>>>0]=o.getHours(),A[r+12>>2>>>0]=o.getDate(),A[r+16>>2>>>0]=o.getMonth(),A[r+20>>2>>>0]=o.getYear(),r=o.getTime()/1e3,Ke((ge=r,1<=+Math.abs(ge)?0<ge?+Math.floor(ge/4294967296)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)),r>>>0},m:function(){return-52},n:function(){},t:function(r,o,i){function f(oe){return(oe=oe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?oe[1]:"GMT"}i>>>=0;var O=new Date().getFullYear(),_=new Date(O,0,1),M=new Date(O,6,1);O=_.getTimezoneOffset();var k=M.getTimezoneOffset();te[r>>>0>>2>>>0]=60*Math.max(O,k),A[o>>>0>>2>>>0]=+(O!=k),r=f(_),o=f(M),r=ut(r),o=ut(o),k<O?(te[i>>2>>>0]=r,te[i+4>>2>>>0]=o):(te[i>>2>>>0]=o,te[i+4>>2>>>0]=r)},d:()=>{ue("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(r,o,i){return o>>>=0,q.copyWithin(r>>>0>>>0,o>>>0,o+(i>>>0)>>>0)},s:function(r){r>>>=0;var o=q.length;if(4294901760<r)return!1;for(var i=1;4>=i;i*=2){var f=o*(1+.2/i);f=Math.min(f,r+100663296);var O=Math;f=Math.max(r,f);e:{O=O.min.call(O,4294901760,f+(65536-f%65536)%65536)-pe.buffer.byteLength+65535>>>16;try{pe.grow(O),ae();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},C:function(r,o){r>>>=0,o>>>=0;var i=0;return lt().forEach(function(f,O){var _=o+i;for(O=te[r+4*O>>2>>>0]=_,_=0;_<f.length;++_)we[O++>>0>>>0]=f.charCodeAt(_);we[O>>0>>>0]=0,i+=f.length+1}),0},D:function(r,o){r>>>=0,o>>>=0;var i=lt();te[r>>2>>>0]=i.length;var f=0;return i.forEach(function(O){f+=O.length+1}),te[o>>2>>>0]=f,0},f:()=>52,k:function(){return 52},r:function(){return 70},j:function(r,o,i,f){o>>>=0,i>>>=0,f>>>=0;for(var O=0,_=0;_<i;_++){var M=te[o>>2>>>0],k=te[o+4>>2>>>0];o+=8;for(var oe=0;oe<k;oe++){var se=q[M+oe>>>0],ie=je[r];se===0||se===10?((r===1?S:B)(Ue(ie,0)),ie.length=0):ie.push(se)}O+=k}return te[f>>2>>>0]=O,0},B:Qe,c:function(r,o,i,f){return Qe(r>>>0,o>>>0,i>>>0,f>>>0)},i:function(r,o,i,f){let O=Q.length;r=new Uint8Array(q.slice(r+o,r+i));try{var _=new WebAssembly.Module(r),M=new WebAssembly.Instance(_,{env:{memory:pe}}),k;for(k in M.exports)Ge(M.exports[k]);return O<Q.length?O:f}catch(oe){return console.log(oe),f}}};(function(){function r(i){if(i=i.exports,D=i=dt(i),pe=D.K,ae(),Q=D.na,T.unshift(D.L),Z--,a.monitorRunDependencies&&a.monitorRunDependencies(Z),Z==0&&(le!==null&&(clearInterval(le),le=null),j)){var f=j;j=null,f()}return i}var o={a:R};if(Z++,a.monitorRunDependencies&&a.monitorRunDependencies(Z),a.instantiateWasm)try{return a.instantiateWasm(o,r)}catch(i){B("Module.instantiateWasm callback failed with error: "+i),d(i)}return _e(o,function(i){r(i.instance)}).catch(d),{}})(),a._OrtInit=(r,o)=>(a._OrtInit=D.M)(r,o),a._OrtGetLastError=(r,o)=>(a._OrtGetLastError=D.N)(r,o),a._OrtCreateSessionOptions=(r,o,i,f,O,_,M,k,oe,se)=>(a._OrtCreateSessionOptions=D.O)(r,o,i,f,O,_,M,k,oe,se),a._OrtAppendExecutionProvider=(r,o)=>(a._OrtAppendExecutionProvider=D.P)(r,o),a._OrtAddFreeDimensionOverride=(r,o,i)=>(a._OrtAddFreeDimensionOverride=D.Q)(r,o,i),a._OrtAddSessionConfigEntry=(r,o,i)=>(a._OrtAddSessionConfigEntry=D.R)(r,o,i),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=D.S)(r),a._OrtCreateSession=(r,o,i)=>(a._OrtCreateSession=D.T)(r,o,i),a._OrtReleaseSession=r=>(a._OrtReleaseSession=D.U)(r),a._OrtGetInputOutputCount=(r,o,i)=>(a._OrtGetInputOutputCount=D.V)(r,o,i),a._OrtGetInputName=(r,o)=>(a._OrtGetInputName=D.W)(r,o),a._OrtGetOutputName=(r,o)=>(a._OrtGetOutputName=D.X)(r,o),a._OrtFree=r=>(a._OrtFree=D.Y)(r),a._OrtCreateTensor=(r,o,i,f,O,_)=>(a._OrtCreateTensor=D.Z)(r,o,i,f,O,_),a._OrtGetTensorData=(r,o,i,f,O)=>(a._OrtGetTensorData=D._)(r,o,i,f,O),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=D.$)(r),a._OrtCreateRunOptions=(r,o,i,f)=>(a._OrtCreateRunOptions=D.aa)(r,o,i,f),a._OrtAddRunConfigEntry=(r,o,i)=>(a._OrtAddRunConfigEntry=D.ba)(r,o,i),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=D.ca)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=D.da)(r),a._OrtBindInput=(r,o,i)=>(a._OrtBindInput=D.ea)(r,o,i),a._OrtBindOutput=(r,o,i,f)=>(a._OrtBindOutput=D.fa)(r,o,i,f),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=D.ga)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=D.ha)(r),a._OrtRunWithBinding=(r,o,i,f,O)=>(a._OrtRunWithBinding=D.ia)(r,o,i,f,O),a._OrtRun=(r,o,i,f,O,_,M,k)=>(a._OrtRun=D.ja)(r,o,i,f,O,_,M,k),a._OrtEndProfiling=r=>(a._OrtEndProfiling=D.ka)(r);var Pe=a._malloc=r=>(Pe=a._malloc=D.la)(r);a._free=r=>(a._free=D.ma)(r);var Ke=r=>(Ke=D.oa)(r),Ce=()=>(Ce=D.pa)(),et=r=>(et=D.qa)(r),ct=r=>(ct=D.ra)(r);a.___start_em_js=905600,a.___stop_em_js=906212;function dt(r){r=Object.assign({},r);var o=f=>()=>f()>>>0,i=f=>O=>f(O)>>>0;return r.__errno_location=o(r.__errno_location),r.malloc=i(r.malloc),r.stackSave=o(r.stackSave),r.stackAlloc=i(r.stackAlloc),r}a.stackAlloc=ct,a.stackSave=Ce,a.stackRestore=et,a.addFunction=Ge,a.UTF8ToString=He,a.stringToUTF8=(r,o,i)=>Ae(r,q,o,i),a.lengthBytesUTF8=ke;var $e;j=function r(){$e||tt(),$e||(j=r)};function tt(){function r(){if(!$e&&($e=!0,a.calledRun=!0,!Oe)){if(ee(T),w(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var o=a.postRun.shift();E.unshift(o)}ee(E)}}if(!(0<Z)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)We();ee(be),0<Z||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),r()},1)):r())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return tt(),c.ready}})();typeof hr=="object"&&typeof Ut=="object"?Ut.exports=gr:typeof define=="function"&&define.amd&&define([],()=>gr)});var Or=at(()=>{});var wr=at(()=>{});var br={};Dt(br,{cpus:()=>an});var an,_r=Rt(()=>{an=void 0});var Er=at((Sr,Wt)=>{"use strict";var vr=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(c={}){function a(){return T.buffer!=j.buffer&&me(),j}function w(){return T.buffer!=j.buffer&&me(),ue}function d(){return T.buffer!=j.buffer&&me(),Ne}function v(){return T.buffer!=j.buffer&&me(),ce}function y(){return T.buffer!=j.buffer&&me(),xe}var s=c,x,I;s.ready=new Promise((e,t)=>{x=e,I=t});var F=Object.assign({},s),N="./this.program",U=(e,t)=>{throw t},W=typeof window=="object",H=typeof importScripts=="function",C=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S=s.ENVIRONMENT_IS_PTHREAD||!1,B="";function fe(e){return s.locateFile?s.locateFile(e,B):B+e}var Be,pe,D;if(C){var Oe=(xt(),ot(Ct)),we=(Ft(),ot(It));B=H?we.dirname(B)+"/":__dirname+"/",Be=(t,n)=>(t=t.startsWith("file://")?new URL(t):we.normalize(t),Oe.readFileSync(t,n?void 0:"utf8")),D=t=>(t=Be(t,!0),t.buffer||(t=new Uint8Array(t)),t),pe=(t,n,u,g=!0)=>{t=t.startsWith("file://")?new URL(t):we.normalize(t),Oe.readFile(t,g?void 0:"utf8",(h,b)=>{h?u(h):n(g?b.buffer:b)})},!s.thisProgram&&1<process.argv.length&&(N=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),U=(t,n)=>{throw process.exitCode=t,n},s.inspect=()=>"[Emscripten Module object]";let e;try{e=Or()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(W||H)&&(H?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof l<"u"&&l&&(B=l),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",C||(Be=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},H&&(D=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),pe=(e,t,n)=>{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?t(u.response):n()},u.onerror=n,u.send(null)}));C&&typeof performance>"u"&&(global.performance=wr().performance);var q=console.log.bind(console),A=console.error.bind(console);C&&(q=(...e)=>Oe.writeSync(1,e.join(" ")+`\n`),A=(...e)=>Oe.writeSync(2,e.join(" ")+`\n`));var te=s.print||q,ae=s.printErr||A;Object.assign(s,F),F=null,s.thisProgram&&(N=s.thisProgram),s.quit&&(U=s.quit);var Q;s.wasmBinary&&(Q=s.wasmBinary);var be=s.noExitRuntime||!0;typeof WebAssembly!="object"&&Ae("no native wasm support detected");var T,E,We,Z=!1,le,j,ue,Ne,ce,xe;function me(){var e=T.buffer;s.HEAP8=j=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=Ne=new Int32Array(e),s.HEAPU8=ue=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=ce=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=xe=new Float64Array(e)}var Ie=s.INITIAL_MEMORY||16777216;if(5242880<=Ie||Ae("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ie+"! (STACK_SIZE=5242880)"),S)T=s.wasmMemory;else if(s.wasmMemory)T=s.wasmMemory;else if(T=new WebAssembly.Memory({initial:Ie/65536,maximum:65536,shared:!0}),!(T.buffer instanceof SharedArrayBuffer))throw ae("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),C&&ae("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Ie=T.buffer.byteLength;var K,_e=[],ge=[],ee=[],re=0;function ve(){return be||0<re}var he=0,Fe=null,Ue=null;function He(){he++,s.monitorRunDependencies&&s.monitorRunDependencies(he)}function ke(){if(he--,s.monitorRunDependencies&&s.monitorRunDependencies(he),he==0&&(Fe!==null&&(clearInterval(Fe),Fe=null),Ue)){var e=Ue;Ue=null,e()}}function Ae(e){throw s.onAbort&&s.onAbort(e),e="Aborted("+e+")",ae(e),Z=!0,le=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),I(e),e}function Te(e){return e.startsWith("data:application/octet-stream;base64,")}var Re;Re="ort-wasm-threaded.wasm",Te(Re)||(Re=fe(Re));function Je(e){if(e==Re&&Q)return new Uint8Array(Q);if(D)return D(e);throw"both async and sync fetching of the wasm failed"}function ut(e){if(!Q&&(W||H)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Je(e));if(pe)return new Promise((t,n)=>{pe(e,u=>t(new Uint8Array(u)),n)})}return Promise.resolve().then(()=>Je(e))}function ze(e,t,n){return ut(e).then(u=>WebAssembly.instantiate(u,t)).then(u=>u).then(n,u=>{ae("failed to asynchronously prepare wasm: "+u),Ae(u)})}function lt(e,t){var n=Re;return Q||typeof WebAssembly.instantiateStreaming!="function"||Te(n)||n.startsWith("file://")||C||typeof fetch!="function"?ze(n,e,t):fetch(n,{credentials:"same-origin"}).then(u=>WebAssembly.instantiateStreaming(u,e).then(t,function(g){return ae("wasm streaming compile failed: "+g),ae("falling back to ArrayBuffer instantiation"),ze(n,e,t)}))}var Se;function je(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ye(e){e.terminate(),e.onmessage=()=>{}}function Xe(e){(e=R.Ma[e])||Ae(),R.mb(e)}function ft(e){var t=R.gb();if(!t)return 6;R.Pa.push(t),R.Ma[e.Oa]=t,t.Oa=e.Oa;var n={cmd:"run",start_routine:e.nb,arg:e.fb,pthread_ptr:e.Oa};return C&&t.unref(),t.postMessage(n,e.tb),0}var Qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,De=(e,t,n)=>{t>>>=0;var u=t+n;for(n=t;e[n]&&!(n>=u);)++n;if(16<n-t&&e.buffer&&Qe)return Qe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(u="";t<n;){var g=e[t++];if(g&128){var h=e[t++]&63;if((g&224)==192)u+=String.fromCharCode((g&31)<<6|h);else{var b=e[t++]&63;g=(g&240)==224?(g&15)<<12|h<<6|b:(g&7)<<18|h<<12|b<<6|e[t++]&63,65536>g?u+=String.fromCharCode(g):(g-=65536,u+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else u+=String.fromCharCode(g)}return u},Ee=(e,t)=>(e>>>=0)?De(w(),e,t):"";function Ze(e){if(S)return G(1,1,e);le=e,ve()||(R.ob(),s.onExit&&s.onExit(e),Z=!0),U(e,new je(e))}var Ge=e=>{if(le=e,S)throw Ke(e),"unwind";Ze(e)},R={Sa:[],Pa:[],$a:[],Ma:{},Wa:function(){S?R.ib():R.hb()},hb:function(){_e.unshift(()=>{He(),R.jb(()=>ke())})},ib:function(){R.receiveObjectTransfer=R.lb,R.threadInitTLS=R.Za,R.setExitStatus=R.Ya,be=!1},Ya:function(e){le=e},yb:["$terminateWorker"],ob:function(){for(var e of R.Pa)Ye(e);for(e of R.Sa)Ye(e);R.Sa=[],R.Pa=[],R.Ma=[]},mb:function(e){var t=e.Oa;delete R.Ma[t],R.Sa.push(e),R.Pa.splice(R.Pa.indexOf(e),1),e.Oa=0,St(t)},lb:function(){},Za:function(){R.$a.forEach(e=>e())},kb:e=>new Promise(t=>{e.onmessage=h=>{h=h.data;var b=h.cmd;if(h.targetThread&&h.targetThread!=gt()){var P=R.Ma[h.xb];P?P.postMessage(h,h.transferList):ae(\'Internal error! Worker sent a message "\'+b+\'" to target pthread \'+h.targetThread+", but that thread no longer exists!")}else b==="checkMailbox"?mt():b==="spawnThread"?ft(h):b==="cleanupThread"?Xe(h.thread):b==="killThread"?(h=h.thread,b=R.Ma[h],delete R.Ma[h],Ye(b),St(h),R.Pa.splice(R.Pa.indexOf(b),1),b.Oa=0):b==="cancelThread"?R.Ma[h.thread].postMessage({cmd:"cancel"}):b==="loaded"?(e.loaded=!0,t(e)):b==="alert"?alert("Thread "+h.threadId+": "+h.text):h.target==="setimmediate"?e.postMessage(h):b==="callHandler"?s[h.handler](...h.args):b&&ae("worker sent an unknown command "+b)},e.onerror=h=>{throw ae("worker sent an error! "+h.filename+":"+h.lineno+": "+h.message),h},C&&(e.on("message",function(h){e.onmessage({data:h})}),e.on("error",function(h){e.onerror(h)}));var n=[],u=["onExit","onAbort","print","printErr"],g;for(g of u)s.hasOwnProperty(g)&&n.push(g);e.postMessage({cmd:"load",handlers:n,urlOrBlob:s.mainScriptUrlOrBlob||l,wasmMemory:T,wasmModule:We})}),jb:function(e){e()},eb:function(){var e=fe("ort-wasm-threaded.worker.js");e=new Worker(e),R.Sa.push(e)},gb:function(){return R.Sa.length==0&&(R.eb(),R.kb(R.Sa[0])),R.Sa.pop()}};s.PThread=R;var Pe=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=function(){var e=gt(),t=d()[e+52>>2>>>0];e=d()[e+56>>2>>>0],fr(t,t-e),ht(t)};function Ke(e){if(S)return G(2,0,e);Ge(e)}var Ce=[],et=e=>{var t=Ce[e];return t||(e>=Ce.length&&(Ce.length=e+1),Ce[e]=t=K.get(e)),t};s.invokeEntryPoint=function(e,t){e=et(e)(t),ve()?R.Ya(e):Et(e)};function ct(e){this.Va=e-24,this.cb=function(t){v()[this.Va+4>>2>>>0]=t},this.bb=function(t){v()[this.Va+8>>2>>>0]=t},this.Wa=function(t,n){this.ab(),this.cb(t),this.bb(n)},this.ab=function(){v()[this.Va+16>>2>>>0]=0}}var dt=0,$e=0;function tt(e,t,n,u){return S?G(3,1,e,t,n,u):r(e,t,n,u)}function r(e,t,n,u){if(e>>>=0,t>>>=0,n>>>=0,u>>>=0,typeof SharedArrayBuffer>"u")return ae("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var g=[];return S&&g.length===0?tt(e,t,n,u):(e={nb:n,Oa:e,fb:u,tb:g},S?(e.vb="spawnThread",postMessage(e,g),0):ft(e))}function o(e,t,n){return S?G(4,1,e,t,n):0}function i(e,t){if(S)return G(5,1,e,t)}var f=e=>{for(var t=0,n=0;n<e.length;++n){var u=e.charCodeAt(n);127>=u?t++:2047>=u?t+=2:55296<=u&&57343>=u?(t+=4,++n):t+=3}return t},O=(e,t,n,u)=>{if(n>>>=0,!(0<u))return 0;var g=n;u=n+u-1;for(var h=0;h<e.length;++h){var b=e.charCodeAt(h);if(55296<=b&&57343>=b){var P=e.charCodeAt(++h);b=65536+((b&1023)<<10)|P&1023}if(127>=b){if(n>=u)break;t[n++>>>0]=b}else{if(2047>=b){if(n+1>=u)break;t[n++>>>0]=192|b>>6}else{if(65535>=b){if(n+2>=u)break;t[n++>>>0]=224|b>>12}else{if(n+3>=u)break;t[n++>>>0]=240|b>>18,t[n++>>>0]=128|b>>12&63}t[n++>>>0]=128|b>>6&63}t[n++>>>0]=128|b&63}}return t[n>>>0]=0,n-g},_=(e,t,n)=>O(e,w(),t,n);function M(e,t){if(S)return G(6,1,e,t)}function k(e,t,n){if(S)return G(7,1,e,t,n)}function oe(e,t,n){return S?G(8,1,e,t,n):0}function se(e,t){if(S)return G(9,1,e,t)}function ie(e,t,n){if(S)return G(10,1,e,t,n)}function rt(e,t,n,u){if(S)return G(11,1,e,t,n,u)}function nt(e,t,n,u){if(S)return G(12,1,e,t,n,u)}function p(e,t,n,u){if(S)return G(13,1,e,t,n,u)}function L(e){if(S)return G(14,1,e)}function Y(e,t){if(S)return G(15,1,e,t)}function Me(e,t,n){if(S)return G(16,1,e,t,n)}var pt=e=>{if(!Z)try{if(e(),!ve())try{S?Et(le):Ge(le)}catch(t){t instanceof je||t=="unwind"||U(1,t)}}catch(t){t instanceof je||t=="unwind"||U(1,t)}};function wt(e){e>>>=0,typeof Atomics.ub=="function"&&(Atomics.ub(d(),e>>2,e).value.then(mt),e+=128,Atomics.store(d(),e>>2,1))}s.__emscripten_thread_mailbox_await=wt;function mt(){var e=gt();e&&(wt(e),pt(()=>ur()))}s.checkMailbox=mt;var Ve=e=>e%4===0&&(e%100!==0||e%400===0),zt=[0,31,60,91,121,152,182,213,244,274,305,335],jt=[0,31,59,90,120,151,181,212,243,273,304,334];function Yt(e,t,n,u,g,h,b,P){return S?G(17,1,e,t,n,u,g,h,b,P):-52}function Gt(e,t,n,u,g,h,b){if(S)return G(18,1,e,t,n,u,g,h,b)}var $t=e=>{var t=f(e)+1,n=or(t);return n&&_(e,n,t),n},Gr=e=>{var t=Mt();return e=e(),ht(t),e};function G(e,t){var n=arguments.length-2,u=arguments;return Gr(()=>{for(var g=At(8*n),h=g>>3,b=0;b<n;b++){var P=u[2+b];y()[h+b>>>0]=P}return ir(e,n,g,t)})}var bt=[],_t={},Vt=()=>{if(!vt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"},t;for(t in _t)_t[t]===void 0?delete e[t]:e[t]=_t[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);vt=n}return vt},vt;function qt(e,t){if(S)return G(19,1,e,t);e>>>=0,t>>>=0;var n=0;return Vt().forEach(function(u,g){var h=t+n;for(g=v()[e+4*g>>2>>>0]=h,h=0;h<u.length;++h)a()[g++>>0>>>0]=u.charCodeAt(h);a()[g>>0>>>0]=0,n+=u.length+1}),0}function Jt(e,t){if(S)return G(20,1,e,t);e>>>=0,t>>>=0;var n=Vt();v()[e>>2>>>0]=n.length;var u=0;return n.forEach(function(g){u+=g.length+1}),v()[t>>2>>>0]=u,0}function Xt(e){return S?G(21,1,e):52}function Qt(e,t,n,u){return S?G(22,1,e,t,n,u):52}function Zt(e,t,n,u,g){return S?G(23,1,e,t,n,u,g):70}var $r=[null,[],[]];function Kt(e,t,n,u){if(S)return G(24,1,e,t,n,u);t>>>=0,n>>>=0,u>>>=0;for(var g=0,h=0;h<n;h++){var b=v()[t>>2>>>0],P=v()[t+4>>2>>>0];t+=8;for(var ye=0;ye<P;ye++){var ne=w()[b+ye>>>0],de=$r[e];ne===0||ne===10?((e===1?te:ae)(De(de,0)),de.length=0):de.push(ne)}g+=P}return v()[u>>2>>>0]=g,0}var er=[31,29,31,30,31,30,31,31,30,31,30,31],tr=[31,28,31,30,31,30,31,31,30,31,30,31];function Vr(e){var t=Array(f(e)+1);return O(e,t,0,t.length),t}var qr=(e,t)=>{a().set(e,t>>>0)};function rr(e,t,n,u){function g(m,z,$){for(m=typeof m=="number"?m.toString():m||"";m.length<z;)m=$[0]+m;return m}function h(m,z){return g(m,z,"0")}function b(m,z){function $(mr){return 0>mr?-1:0<mr?1:0}var Le;return(Le=$(m.getFullYear()-z.getFullYear()))===0&&(Le=$(m.getMonth()-z.getMonth()))===0&&(Le=$(m.getDate()-z.getDate())),Le}function P(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function ye(m){var z=m.Qa;for(m=new Date(new Date(m.Ra+1900,0,1).getTime());0<z;){var $=m.getMonth(),Le=(Ve(m.getFullYear())?er:tr)[$];if(z>Le-m.getDate())z-=Le-m.getDate()+1,m.setDate(1),11>$?m.setMonth($+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+z);break}}return $=new Date(m.getFullYear()+1,0,4),z=P(new Date(m.getFullYear(),0,4)),$=P($),0>=b(z,m)?0>=b($,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,u>>>=0;var ne=d()[u+40>>2>>>0];u={rb:d()[u>>2>>>0],qb:d()[u+4>>2>>>0],Ta:d()[u+8>>2>>>0],Xa:d()[u+12>>2>>>0],Ua:d()[u+16>>2>>>0],Ra:d()[u+20>>2>>>0],Na:d()[u+24>>2>>>0],Qa:d()[u+28>>2>>>0],zb:d()[u+32>>2>>>0],pb:d()[u+36>>2>>>0],sb:ne?Ee(ne):""},n=Ee(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var de in ne)n=n.replace(new RegExp(de,"g"),ne[de]);var dr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),pr="January February March April May June July August September October November December".split(" ");ne={"%a":m=>dr[m.Na].substring(0,3),"%A":m=>dr[m.Na],"%b":m=>pr[m.Ua].substring(0,3),"%B":m=>pr[m.Ua],"%C":m=>h((m.Ra+1900)/100|0,2),"%d":m=>h(m.Xa,2),"%e":m=>g(m.Xa,2," "),"%g":m=>ye(m).toString().substring(2),"%G":m=>ye(m),"%H":m=>h(m.Ta,2),"%I":m=>(m=m.Ta,m==0?m=12:12<m&&(m-=12),h(m,2)),"%j":m=>{for(var z=0,$=0;$<=m.Ua-1;z+=(Ve(m.Ra+1900)?er:tr)[$++]);return h(m.Xa+z,3)},"%m":m=>h(m.Ua+1,2),"%M":m=>h(m.qb,2),"%n":()=>`\n`,"%p":m=>0<=m.Ta&&12>m.Ta?"AM":"PM","%S":m=>h(m.rb,2),"%t":()=>"	","%u":m=>m.Na||7,"%U":m=>h(Math.floor((m.Qa+7-m.Na)/7),2),"%V":m=>{var z=Math.floor((m.Qa+7-(m.Na+6)%7)/7);if(2>=(m.Na+371-m.Qa-2)%7&&z++,z)z==53&&($=(m.Na+371-m.Qa)%7,$==4||$==3&&Ve(m.Ra)||(z=1));else{z=52;var $=(m.Na+7-m.Qa-1)%7;($==4||$==5&&Ve(m.Ra%400-1))&&z++}return h(z,2)},"%w":m=>m.Na,"%W":m=>h(Math.floor((m.Qa+7-(m.Na+6)%7)/7),2),"%y":m=>(m.Ra+1900).toString().substring(2),"%Y":m=>m.Ra+1900,"%z":m=>{m=m.pb;var z=0<=m;return m=Math.abs(m)/60,(z?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.sb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(de in ne)n.includes(de)&&(n=n.replace(new RegExp(de,"g"),ne[de](u)));return n=n.replace(/\\0\\0/g,"%"),de=Vr(n),de.length>t?0:(qr(de,e),de.length-1)}var qe=void 0,nr=[];function ar(e,t){if(!qe){qe=new WeakMap;var n=K.length;if(qe)for(var u=0;u<0+n;u++){var g=et(u);g&&qe.set(g,u)}}if(n=qe.get(e)||0)return n;if(nr.length)n=nr.pop();else{try{K.grow(1)}catch(P){throw P instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":P}n=K.length-1}try{u=n,K.set(u,e),Ce[u]=K.get(u)}catch(P){if(!(P instanceof TypeError))throw P;if(typeof WebAssembly.Function=="function"){u=WebAssembly.Function,g={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var h={parameters:[],results:t[0]=="v"?[]:[g[t[0]]]},b=1;b<t.length;++b)h.parameters.push(g[t[b]]);t=new u(h,e)}else{for(u=[1],g=t.slice(0,1),t=t.slice(1),h={i:127,p:127,j:126,f:125,d:124},u.push(96),b=t.length,128>b?u.push(b):u.push(b%128|128,b>>7),b=0;b<t.length;++b)u.push(h[t[b]]);g=="v"?u.push(0):u.push(1,h[g]),t=[0,97,115,109,1,0,0,0,1],g=u.length,128>g?t.push(g):t.push(g%128|128,g>>7),t.push.apply(t,u),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}u=n,K.set(u,t),Ce[u]=K.get(u)}return qe.set(e,n),n}R.Wa();var Jr=[null,Ze,Ke,tt,o,i,M,k,oe,se,ie,rt,nt,p,L,Y,Me,Yt,Gt,qt,Jt,Xt,Qt,Zt,Kt],Xr={b:function(e,t,n){throw e>>>=0,new ct(e).Wa(t>>>0,n>>>0),dt=e,$e++,dt},N:function(e){sr(e>>>0,!H,1,!W,131072,!1),R.Za()},k:function(e){e>>>=0,S?postMessage({cmd:"cleanupThread",thread:e}):Xe(e)},I:r,h:o,T:i,D:M,F:k,U:oe,R:se,J:ie,Q:rt,o:nt,E:p,B:L,S:Y,C:Me,q:()=>!0,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>mt()):S?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=R.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:wt,p:function(e){C&&R.Ma[e>>>0].ref()},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),d()[n>>2>>>0]=e.getUTCSeconds(),d()[n+4>>2>>>0]=e.getUTCMinutes(),d()[n+8>>2>>>0]=e.getUTCHours(),d()[n+12>>2>>>0]=e.getUTCDate(),d()[n+16>>2>>>0]=e.getUTCMonth(),d()[n+20>>2>>>0]=e.getUTCFullYear()-1900,d()[n+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[n+28>>2>>>0]=e},u:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),d()[n>>2>>>0]=e.getSeconds(),d()[n+4>>2>>>0]=e.getMinutes(),d()[n+8>>2>>>0]=e.getHours(),d()[n+12>>2>>>0]=e.getDate(),d()[n+16>>2>>>0]=e.getMonth(),d()[n+20>>2>>>0]=e.getFullYear()-1900,d()[n+24>>2>>>0]=e.getDay(),t=(Ve(e.getFullYear())?zt:jt)[e.getMonth()]+e.getDate()-1|0,d()[n+28>>2>>>0]=t,d()[n+36>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var u=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=u&&e.getTimezoneOffset()==Math.min(u,t))|0,d()[n+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(d()[e+20>>2>>>0]+1900,d()[e+16>>2>>>0],d()[e+12>>2>>>0],d()[e+8>>2>>>0],d()[e+4>>2>>>0],d()[e>>2>>>0],0),n=d()[e+32>>2>>>0],u=t.getTimezoneOffset(),g=new Date(t.getFullYear(),6,1).getTimezoneOffset(),h=new Date(t.getFullYear(),0,1).getTimezoneOffset(),b=Math.min(h,g);return 0>n?d()[e+32>>2>>>0]=+(g!=h&&b==u):0<n!=(b==u)&&(g=Math.max(h,g),t.setTime(t.getTime()+6e4*((0<n?b:g)-u))),d()[e+24>>2>>>0]=t.getDay(),n=(Ve(t.getFullYear())?zt:jt)[t.getMonth()]+t.getDate()-1|0,d()[e+28>>2>>>0]=n,d()[e>>2>>>0]=t.getSeconds(),d()[e+4>>2>>>0]=t.getMinutes(),d()[e+8>>2>>>0]=t.getHours(),d()[e+12>>2>>>0]=t.getDate(),d()[e+16>>2>>>0]=t.getMonth(),d()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,lr((Se=e,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)),e>>>0},r:Yt,s:Gt,y:function(e,t,n){function u(ne){return(ne=ne.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ne[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var g=new Date().getFullYear(),h=new Date(g,0,1),b=new Date(g,6,1);g=h.getTimezoneOffset();var P=b.getTimezoneOffset(),ye=Math.max(g,P);v()[e>>2>>>0]=60*ye,d()[t>>2>>>0]=+(g!=P),e=u(h),t=u(b),e=$t(e),t=$t(t),P<g?(v()[n>>2>>>0]=e,v()[n+4>>2>>>0]=t):(v()[n>>2>>>0]=t,v()[n+4>>2>>>0]=e)},c:()=>{Ae("")},l:function(){},i:function(){return Date.now()},V:()=>{throw re+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return C?(_r(),ot(br)).cpus().length:navigator.hardwareConcurrency},K:function(e,t,n,u){for(R.wb=t>>>0,bt.length=n,t=u>>>0>>3,u=0;u<n;u++)bt[u]=y()[t+u>>>0];return Jr[e].apply(null,bt)},x:function(e){e>>>=0;var t=w().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var u=t*(1+.2/n);u=Math.min(u,e+100663296);var g=Math;u=Math.max(e,u);e:{g=g.min.call(g,4294901760,u+(65536-u%65536)%65536)-T.buffer.byteLength+65535>>>16;try{T.grow(g),me();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},O:qt,P:Jt,H:Ge,g:Xt,n:Qt,w:Zt,m:Kt,a:T||s.wasmMemory,G:rr,d:function(e,t,n,u){return rr(e>>>0,t>>>0,n>>>0,u>>>0)},j:function(e,t,n,u){let g=K.length;e=new Uint8Array(w().slice(e+t,e+n));try{var h=new WebAssembly.Module(e),b=new WebAssembly.Instance(h,{env:{memory:T}}),P;for(P in b.exports)ar(b.exports[P]);return g<K.length?g:u}catch(ye){return console.log(ye),u}}};(function(){function e(n,u){return n=n.exports,E=n=Qr(n),R.$a.push(E.za),K=E.Aa,ge.unshift(E.W),We=u,ke(),n}var t={a:Xr};if(He(),s.instantiateWasm)try{return s.instantiateWasm(t,e)}catch(n){ae("Module.instantiateWasm callback failed with error: "+n),I(n)}return lt(t,function(n){e(n.instance,n.module)}).catch(I),{}})(),s._OrtInit=(e,t)=>(s._OrtInit=E.X)(e,t),s._OrtGetLastError=(e,t)=>(s._OrtGetLastError=E.Y)(e,t),s._OrtCreateSessionOptions=(e,t,n,u,g,h,b,P,ye,ne)=>(s._OrtCreateSessionOptions=E.Z)(e,t,n,u,g,h,b,P,ye,ne),s._OrtAppendExecutionProvider=(e,t)=>(s._OrtAppendExecutionProvider=E._)(e,t),s._OrtAddFreeDimensionOverride=(e,t,n)=>(s._OrtAddFreeDimensionOverride=E.$)(e,t,n),s._OrtAddSessionConfigEntry=(e,t,n)=>(s._OrtAddSessionConfigEntry=E.aa)(e,t,n),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=E.ba)(e),s._OrtCreateSession=(e,t,n)=>(s._OrtCreateSession=E.ca)(e,t,n),s._OrtReleaseSession=e=>(s._OrtReleaseSession=E.da)(e),s._OrtGetInputOutputCount=(e,t,n)=>(s._OrtGetInputOutputCount=E.ea)(e,t,n),s._OrtGetInputName=(e,t)=>(s._OrtGetInputName=E.fa)(e,t),s._OrtGetOutputName=(e,t)=>(s._OrtGetOutputName=E.ga)(e,t),s._OrtFree=e=>(s._OrtFree=E.ha)(e),s._OrtCreateTensor=(e,t,n,u,g,h)=>(s._OrtCreateTensor=E.ia)(e,t,n,u,g,h),s._OrtGetTensorData=(e,t,n,u,g)=>(s._OrtGetTensorData=E.ja)(e,t,n,u,g),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=E.ka)(e),s._OrtCreateRunOptions=(e,t,n,u)=>(s._OrtCreateRunOptions=E.la)(e,t,n,u),s._OrtAddRunConfigEntry=(e,t,n)=>(s._OrtAddRunConfigEntry=E.ma)(e,t,n),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=E.na)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=E.oa)(e),s._OrtBindInput=(e,t,n)=>(s._OrtBindInput=E.pa)(e,t,n),s._OrtBindOutput=(e,t,n,u)=>(s._OrtBindOutput=E.qa)(e,t,n,u),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=E.ra)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=E.sa)(e),s._OrtRunWithBinding=(e,t,n,u,g)=>(s._OrtRunWithBinding=E.ta)(e,t,n,u,g),s._OrtRun=(e,t,n,u,g,h,b,P)=>(s._OrtRun=E.ua)(e,t,n,u,g,h,b,P),s._OrtEndProfiling=e=>(s._OrtEndProfiling=E.va)(e);var gt=s._pthread_self=()=>(gt=s._pthread_self=E.wa)(),or=s._malloc=e=>(or=s._malloc=E.xa)(e);s._free=e=>(s._free=E.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=E.za)();var sr=s.__emscripten_thread_init=(e,t,n,u,g,h)=>(sr=s.__emscripten_thread_init=E.Ba)(e,t,n,u,g,h);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=E.Ca)();var ir=(e,t,n,u)=>(ir=E.Da)(e,t,n,u),St=e=>(St=E.Ea)(e),Et=s.__emscripten_thread_exit=e=>(Et=s.__emscripten_thread_exit=E.Fa)(e),ur=s.__emscripten_check_mailbox=()=>(ur=s.__emscripten_check_mailbox=E.Ga)(),lr=e=>(lr=E.Ha)(e),fr=(e,t)=>(fr=E.Ia)(e,t),Mt=()=>(Mt=E.Ja)(),ht=e=>(ht=E.Ka)(e),At=e=>(At=E.La)(e);s.___start_em_js=906844,s.___stop_em_js=907456;function Qr(e){e=Object.assign({},e);var t=u=>()=>u()>>>0,n=u=>g=>u(g)>>>0;return e.__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=n(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=n(e.stackAlloc),e}s.keepRuntimeAlive=ve,s.wasmMemory=T,s.stackAlloc=At,s.stackSave=Mt,s.stackRestore=ht,s.addFunction=ar,s.UTF8ToString=Ee,s.stringToUTF8=_,s.lengthBytesUTF8=f,s.ExitStatus=je,s.PThread=R;var yt;Ue=function e(){yt||cr(),yt||(Ue=e)};function cr(){function e(){if(!yt&&(yt=!0,s.calledRun=!0,!Z)&&(S||Pe(ge),x(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!S)){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;){var t=s.postRun.shift();ee.unshift(t)}Pe(ee)}}if(!(0<he))if(S)x(s),S||Pe(ge),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)_e.unshift(s.preRun.shift());Pe(_e),0<he||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),e()},1)):e())}}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return cr(),c.ready}})();typeof Sr=="object"&&typeof Wt=="object"?Wt.exports=vr:typeof define=="function"&&define.amd&&define([],()=>vr)});var Mr=at((vn,on)=>{on.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var Tr;Tr=yr();var sn=Er(),Pt,Lt=!1,Ot=!1,Ar=!1,un=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},ln=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},fn=(l,c)=>l?c?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":c?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Rr=async l=>{if(Lt)return Promise.resolve();if(Ot)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Ar)throw new Error("previous call to \'initializeWebAssembly()\' failed.");Ot=!0;let c=l.initTimeout,a=l.numThreads,w=l.simd,d=a>1&&un(),v=w&&ln(),y=l.wasmPaths,s=typeof y=="string"?y:void 0,x=fn(v,d),I=typeof y=="object"?y[x]:void 0,F=!1,N=[];if(c>0&&N.push(new Promise(U=>{setTimeout(()=>{F=!0,U()},c)})),N.push(new Promise((U,W)=>{let H=d?sn:Tr,C={locateFile:(S,B)=>d&&S.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Mr()],{type:"text/javascript"})):S.endsWith(".wasm")?I||(s??B)+x:B+S};if(d)if(typeof Blob>"u")C.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let S=`var ortWasmThreaded=${H.toString()};`;C.mainScriptUrlOrBlob=new Blob([S],{type:"text/javascript"})}H(C).then(S=>{Ot=!1,Lt=!0,Pt=S,U()},S=>{Ot=!1,Ar=!0,W(S)})})),await Promise.race(N),F)throw new Error(`WebAssembly backend initializing failed due to timeout: ${c}ms`)},J=()=>{if(Lt&&Pt)return Pt;throw new Error("WebAssembly is not initialized yet.")};var X=(l,c)=>{let a=J(),w=a.lengthBytesUTF8(l)+1,d=a._malloc(w);return a.stringToUTF8(l,d,w),c.push(d),d},st=(l,c,a,w)=>{if(typeof l=="object"&&l!==null){if(a.has(l))throw new Error("Circular reference in options");a.add(l)}Object.entries(l).forEach(([d,v])=>{let y=c?c+d:d;if(typeof v=="object")st(v,y+".",a,w);else if(typeof v=="string"||typeof v=="number")w(y,v.toString());else if(typeof v=="boolean")w(y,v?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof v}`)})},V=l=>{let c=J(),a=c.stackSave();try{let w=c.stackAlloc(8);c._OrtGetLastError(w,w+4);let d=c.HEAP32[w/4],v=c.HEAPU32[w/4+1],y=v?c.UTF8ToString(v):"";throw new Error(`${l} ERROR_CODE: ${d}, ERROR_MESSAGE: ${y}`)}finally{c.stackRestore(a)}};var Dr=l=>{let c=J(),a=0,w=[],d=l||{};try{if(l?.logSeverityLevel===void 0)d.logSeverityLevel=2;else if(typeof l.logSeverityLevel!="number"||!Number.isInteger(l.logSeverityLevel)||l.logSeverityLevel<0||l.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${l.logSeverityLevel}`);if(l?.logVerbosityLevel===void 0)d.logVerbosityLevel=0;else if(typeof l.logVerbosityLevel!="number"||!Number.isInteger(l.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${l.logVerbosityLevel}`);l?.terminate===void 0&&(d.terminate=!1);let v=0;return l?.tag!==void 0&&(v=X(l.tag,w)),a=c._OrtCreateRunOptions(d.logSeverityLevel,d.logVerbosityLevel,!!d.terminate,v),a===0&&V("Can\'t create run options."),l?.extra!==void 0&&st(l.extra,"",new WeakSet,(y,s)=>{let x=X(y,w),I=X(s,w);c._OrtAddRunConfigEntry(a,x,I)!==0&&V(`Can\'t set a run config entry: ${y} - ${s}.`)}),[a,w]}catch(v){throw a!==0&&c._OrtReleaseRunOptions(a),w.forEach(y=>c._free(y)),v}};var cn=l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}},dn=l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}},pn=l=>{l.extra||(l.extra={}),l.extra.session||(l.extra.session={});let c=l.extra.session;c.use_ort_model_bytes_directly||(c.use_ort_model_bytes_directly="1"),l.executionProviders&&l.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(l.enableMemPattern=!1)},mn=(l,c,a)=>{for(let w of c){let d=typeof w=="string"?w:w.name;switch(d){case"xnnpack":d="XNNPACK";break;case"webnn":if(d="WEBNN",typeof w!="string"){let y=w;if(y?.deviceType){let s=X("deviceType",a),x=X(y.deviceType,a);J()._OrtAddSessionConfigEntry(l,s,x)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${y.deviceType}.`)}if(y?.numThreads){let s=y.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let x=X("numThreads",a),I=X(s.toString(),a);J()._OrtAddSessionConfigEntry(l,x,I)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${y.numThreads}.`)}if(y?.powerPreference){let s=X("powerPreference",a),x=X(y.powerPreference,a);J()._OrtAddSessionConfigEntry(l,s,x)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${y.powerPreference}.`)}}break;case"webgpu":if(d="JS",typeof w!="string"){let y=w;if(y?.preferredLayout){if(y.preferredLayout!=="NCHW"&&y.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${y.preferredLayout}`);let s=X("preferredLayout",a),x=X(y.preferredLayout,a);J()._OrtAddSessionConfigEntry(l,s,x)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${y.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${d}`)}let v=X(d,a);J()._OrtAppendExecutionProvider(l,v)!==0&&V(`Can\'t append execution provider: ${d}.`)}},Cr=l=>{let c=J(),a=0,w=[],d=l||{};pn(d);try{let v=cn(d.graphOptimizationLevel??"all"),y=dn(d.executionMode??"sequential"),s=typeof d.logId=="string"?X(d.logId,w):0,x=d.logSeverityLevel??2;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log serverity level is not valid: ${x}`);let I=d.logVerbosityLevel??0;if(!Number.isInteger(I)||I<0||I>4)throw new Error(`log verbosity level is not valid: ${I}`);let F=typeof d.optimizedModelFilePath=="string"?X(d.optimizedModelFilePath,w):0;if(a=c._OrtCreateSessionOptions(v,!!d.enableCpuMemArena,!!d.enableMemPattern,y,!!d.enableProfiling,0,s,x,I,F),a===0&&V("Can\'t create session options."),d.executionProviders&&mn(a,d.executionProviders,w),d.freeDimensionOverrides)for(let[N,U]of Object.entries(d.freeDimensionOverrides)){if(typeof N!="string")throw new Error(`free dimension override name must be a string: ${N}`);if(typeof U!="number"||!Number.isInteger(U)||U<0)throw new Error(`free dimension override value must be a non-negative integer: ${U}`);let W=X(N,w);c._OrtAddFreeDimensionOverride(a,W,U)!==0&&V(`Can\'t set a free dimension override: ${N} - ${U}.`)}return d.extra!==void 0&&st(d.extra,"",new WeakSet,(N,U)=>{let W=X(N,w),H=X(U,w);c._OrtAddSessionConfigEntry(a,W,H)!==0&&V(`Can\'t set a session config entry: ${N} - ${U}.`)}),[a,w]}catch(v){throw a!==0&&c._OrtReleaseSessionOptions(a),w.forEach(y=>c._free(y)),v}};var Bt=l=>{switch(l){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${l}`)}},xr=l=>{switch(l){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${l}`)}},Nt=l=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][l],Ir=l=>{switch(l){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${l}`)}},Fr=l=>{switch(l){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${l}`)}},Ur=l=>l==="float32"||l==="int32"||l==="int64"||l==="bool"||l==="float16"||l==="uint32",Wr=l=>{switch(l){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${l}`)}};var Lr=!1,gn=l=>{let c=J(),a=c.stackSave();try{let w=c.stackAlloc(8);return c._OrtGetInputOutputCount(l,w,w+4)!==0&&V("Can\'t get session input/output count."),[c.HEAP32[w/4],c.HEAP32[w/4+1]]}finally{c.stackRestore(a)}},hn=(l,c)=>{J()._OrtInit(l,c)!==0&&V("Can\'t initialize onnxruntime.")},Br=async l=>{hn(l.wasm.numThreads,Fr(l.logLevel)),Lr=!0},it=new Map,Nr=()=>Lr,Ht=l=>{let c=J(),a=c._malloc(l.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${l.byteLength}.`);return c.HEAPU8.set(l,a),[a,l.byteLength]},kt=(l,c)=>{let a=J(),w=0,d=0,v=0,y=[],s=[],x=[];try{[d,y]=Cr(c),w=a._OrtCreateSession(l[0],l[1],d),w===0&&V("Can\'t create a session.");let[I,F]=gn(w),N=[],U=[],W=[];for(let C=0;C<I;C++){let S=a._OrtGetInputName(w,C);S===0&&V("Can\'t get an input name."),s.push(S),N.push(a.UTF8ToString(S))}for(let C=0;C<F;C++){let S=a._OrtGetOutputName(w,C);S===0&&V("Can\'t get an output name."),x.push(S);let B=a.UTF8ToString(S);U.push(B)}let H=null;return it.set(w,[w,s,x,H]),[w,N,U]}catch(I){throw s.forEach(F=>a._OrtFree(F)),x.forEach(F=>a._OrtFree(F)),v!==0&&a._OrtReleaseBinding(v),w!==0&&a._OrtReleaseSession(w),I}finally{a._free(l[0]),d!==0&&a._OrtReleaseSessionOptions(d),y.forEach(I=>a._free(I))}},Hr=(l,c)=>{let a=Ht(l);return kt(a,c)},kr=l=>{let c=J(),a=it.get(l);if(!a)throw new Error(`cannot release session. invalid session id: ${l}`);let[w,d,v,y]=a;y&&c._OrtReleaseBinding(y.handle),c.jsepUnregisterBuffers?.(l),d.forEach(s=>c._OrtFree(s)),v.forEach(s=>c._OrtFree(s)),c._OrtReleaseSession(w),it.delete(l)},Pr=(l,c,a,w,d)=>{if(!l){c.push(0);return}let v=J(),y=l[0],s=l[1],x=l[3],I,F;if(y==="string"&&x==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(x==="gpu-buffer"){let W=l[2].gpuBuffer,H=Nt(Bt(y));F=s.reduce((C,S)=>C*S,1)*H,I=v.jsepRegisterBuffer(w,d,W,F)}else{let W=l[2];if(Array.isArray(W)){F=4*W.length,I=v._malloc(F),a.push(I);let H=I/4;for(let C=0;C<W.length;C++){if(typeof W[C]!="string")throw new TypeError(`tensor data at index ${C} is not a string`);v.HEAPU32[H++]=X(W[C],a)}}else F=W.byteLength,I=v._malloc(F),a.push(I),v.HEAPU8.set(new Uint8Array(W.buffer,W.byteOffset,F),I)}let N=v.stackSave(),U=v.stackAlloc(4*s.length);try{let W=U/4;s.forEach(C=>v.HEAP32[W++]=C);let H=v._OrtCreateTensor(Bt(y),I,F,U,s.length,Wr(x));H===0&&V(`Can\'t create tensor for input/output. session=${w}, index=${d}.`),c.push(H)}finally{v.stackRestore(N)}},zr=async(l,c,a,w,d,v)=>{let y=J(),s=it.get(l);if(!s)throw new Error(`cannot run inference. invalid session id: ${l}`);let[x,I,F,N]=s,U=c.length,W=w.length,H=0,C=[],S=[],B=[],fe=[],Be=y.stackSave(),pe=y.stackAlloc(U*4),D=y.stackAlloc(U*4),Oe=y.stackAlloc(W*4),we=y.stackAlloc(W*4);try{[H,C]=Dr(v);for(let T=0;T<U;T++)Pr(a[T],S,fe,l,c[T]);for(let T=0;T<W;T++)Pr(d[T],B,fe,l,U+w[T]);let q=pe/4,A=D/4,te=Oe/4,ae=we/4;for(let T=0;T<U;T++)y.HEAPU32[q++]=S[T],y.HEAPU32[A++]=I[c[T]];for(let T=0;T<W;T++)y.HEAPU32[te++]=B[T],y.HEAPU32[ae++]=F[w[T]];let Q;Q=await y._OrtRun(x,D,pe,U,we,W,Oe,H),Q!==0&&V("failed to call OrtRun().");let be=[];for(let T=0;T<W;T++){let E=y.HEAPU32[Oe/4+T];if(E===B[T]){be.push(d[T]);continue}let We=y.stackSave(),Z=y.stackAlloc(4*4),le=!1,j,ue=0;try{y._OrtGetTensorData(E,Z,Z+4,Z+8,Z+12)!==0&&V(`Can\'t access output tensor data on index ${T}.`);let ce=Z/4,xe=y.HEAPU32[ce++];ue=y.HEAPU32[ce++];let me=y.HEAPU32[ce++],Ie=y.HEAPU32[ce++],K=[];for(let ee=0;ee<Ie;ee++)K.push(y.HEAPU32[me/4+ee]);y._OrtFree(me);let _e=K.reduce((ee,re)=>ee*re,1);j=xr(xe);let ge=N?.outputPreferredLocations[w[T]];if(j==="string"){if(ge==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ee=[],re=ue/4;for(let ve=0;ve<_e;ve++){let he=y.HEAPU32[re++],Fe=ve===_e-1?void 0:y.HEAPU32[re]-he;ee.push(y.UTF8ToString(he,Fe))}be.push([j,K,ee,"cpu"])}else if(ge==="gpu-buffer"&&_e>0){let ee=y.jsepGetBuffer(ue),re=Nt(xe);if(re===void 0||!Ur(j))throw new Error(`Unsupported data type: ${j}`);le=!0,be.push([j,K,{gpuBuffer:ee,download:y.jsepCreateDownloader(ee,_e*re,j),dispose:()=>{y._OrtReleaseTensor(E)}},"gpu-buffer"])}else{let ee=Ir(j),re=new ee(_e);new Uint8Array(re.buffer,re.byteOffset,re.byteLength).set(y.HEAPU8.subarray(ue,ue+re.byteLength)),be.push([j,K,re,"cpu"])}}finally{y.stackRestore(We),j==="string"&&ue&&y._free(ue),le||y._OrtReleaseTensor(E)}}return N&&y._OrtClearBoundOutputs(N.handle),be}finally{y.stackRestore(Be),S.forEach(q=>y._OrtReleaseTensor(q)),B.forEach(q=>y._OrtReleaseTensor(q)),fe.forEach(q=>y._free(q)),H!==0&&y._OrtReleaseRunOptions(H),C.forEach(q=>y._free(q))}},jr=l=>{let c=J(),a=it.get(l);if(!a)throw new Error("invalid session id");let w=a[0],d=c._OrtEndProfiling(w);d===0&&V("Can\'t get an profile file name."),c._OrtFree(d)},Yr=l=>{let c=[];for(let a of l){let w=a[2];!Array.isArray(w)&&"buffer"in w&&c.push(w.buffer)}return c};self.onmessage=l=>{switch(l.data.type){case"init-wasm":try{Rr(l.data.in).then(()=>postMessage({type:"init-wasm"}),c=>postMessage({type:"init-wasm",err:c}))}catch(c){postMessage({type:"init-wasm",err:c})}break;case"init-ort":try{Br(l.data.in).then(()=>postMessage({type:"init-ort"}),c=>postMessage({type:"init-ort",err:c}))}catch(c){postMessage({type:"init-ort",err:c})}break;case"create_allocate":try{let{model:c}=l.data.in,a=Ht(c);postMessage({type:"create_allocate",out:a})}catch(c){postMessage({type:"create_allocate",err:c})}break;case"create_finalize":try{let{modeldata:c,options:a}=l.data.in,w=kt(c,a);postMessage({type:"create_finalize",out:w})}catch(c){postMessage({type:"create_finalize",err:c})}break;case"create":try{let{model:c,options:a}=l.data.in,w=Hr(c,a);postMessage({type:"create",out:w})}catch(c){postMessage({type:"create",err:c})}break;case"release":try{let c=l.data.in;kr(c),postMessage({type:"release"})}catch(c){postMessage({type:"release",err:c})}break;case"run":try{let{sessionId:c,inputIndices:a,inputs:w,outputIndices:d,options:v}=l.data.in;zr(c,a,w,d,v).then(y=>{postMessage({type:"run",out:y},Yr(y))},y=>{postMessage({type:"run",err:y})})}catch(c){postMessage({type:"run",err:c})}break;case"end-profiling":try{let c=l.data.in;jr(c),postMessage({type:"end-profiling"})}catch(c){postMessage({type:"end-profiling",err:c})}break;case"is-ort-env-initialized":try{let c=Nr();postMessage({type:"is-ort-env-initialized",out:c})}catch(c){postMessage({type:"is-ort-env-initialized",err:c})}break;default:}};})();\n'});var Le,be,jt,Mr,Rr,wr,br,vr,Or,_r,Er,Sr,Ar,Tr,ze,Ka,zt,fa,ca,da,pa,Dr,ma,ha,ga,ya,Ir=H(()=>{"use strict";qe();ua();st();Le=()=>!!q.wasm.proxy&&typeof document<"u",jt=!1,Mr=!1,Rr=!1,vr=[],Or=[],_r=[],Er=[],Sr=[],Ar=[],Tr=[],ze=()=>{if(jt||!Mr||Rr||!be)throw new Error("worker not ready")},Ka=r=>{switch(r.data.type){case"init-wasm":jt=!1,r.data.err?(Rr=!0,wr[1](r.data.err)):(Mr=!0,wr[0]());break;case"init-ort":r.data.err?br[1](r.data.err):br[0]();break;case"create_allocate":r.data.err?vr.shift()[1](r.data.err):vr.shift()[0](r.data.out);break;case"create_finalize":r.data.err?Or.shift()[1](r.data.err):Or.shift()[0](r.data.out);break;case"create":r.data.err?_r.shift()[1](r.data.err):_r.shift()[0](r.data.out);break;case"release":r.data.err?Er.shift()[1](r.data.err):Er.shift()[0]();break;case"run":r.data.err?Sr.shift()[1](r.data.err):Sr.shift()[0](r.data.out);break;case"end-profiling":r.data.err?Ar.shift()[1](r.data.err):Ar.shift()[0]();break;case"is-ort-env-initialized":r.data.err?Tr.shift()[1](r.data.err):Tr.shift()[0](r.data.out);break;default:}},zt=typeof document<"u"?document?.currentScript?.src:void 0,fa=async()=>{if(Le()){if(Mr)return;if(jt)throw new Error("multiple calls to 'initWasm()' detected.");if(Rr)throw new Error("previous call to 'initWasm()' failed.");return jt=!0,q.wasm.wasmPaths===void 0&&zt&&zt.indexOf("blob:")!==0&&(q.wasm.wasmPaths=zt.substr(0,+zt.lastIndexOf("/")+1)),new Promise((r,a)=>{be?.terminate();let t=URL.createObjectURL(new Blob([la()],{type:"text/javascript"}));be=new Worker(t,{name:"ort-wasm-proxy-worker"}),be.onerror=s=>a(s),be.onmessage=Ka,URL.revokeObjectURL(t),wr=[r,a];let f={type:"init-wasm",in:q.wasm};be.postMessage(f)})}else return Yn(q.wasm)},ca=async r=>{if(Le())return ze(),new Promise((a,t)=>{br=[a,t];let f={type:"init-ort",in:r};be.postMessage(f)});await ta(r)},da=async r=>Le()?(ze(),new Promise((a,t)=>{vr.push([a,t]);let f={type:"create_allocate",in:{model:r}};be.postMessage(f,[r.buffer])})):gr(r),pa=async(r,a)=>Le()?(ze(),new Promise((t,f)=>{Or.push([t,f]);let s={type:"create_finalize",in:{modeldata:r,options:a}};be.postMessage(s)})):yr(r,a),Dr=async(r,a)=>{if(Le()){if(a?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ze(),new Promise((t,f)=>{_r.push([t,f]);let s={type:"create",in:{model:r,options:a}};be.postMessage(s,[r.buffer])})}else return na(r,a)},ma=async r=>{if(Le())return ze(),new Promise((a,t)=>{Er.push([a,t]);let f={type:"release",in:r};be.postMessage(f)});aa(r)},ha=async(r,a,t,f,s,g)=>{if(Le()){if(t.some(p=>p[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(s.some(p=>p))throw new Error("pre-allocated output tensor is not supported for proxy.");return ze(),new Promise((p,i)=>{Sr.push([p,i]);let b=t,h={type:"run",in:{sessionId:r,inputIndices:a,inputs:b,outputIndices:f,options:g}};be.postMessage(h,sa(b))})}else return oa(r,a,t,f,s,g)},ga=async r=>{if(Le())return ze(),new Promise((a,t)=>{Ar.push([a,t]);let f={type:"end-profiling",in:r};be.postMessage(f)});ia(r)},ya=async()=>Le()?(ze(),new Promise((r,a)=>{Tr.push([r,a]);let t={type:"is-ort-env-initialized"};be.postMessage(t)})):ra()});var Yt,wa,eo,Gt,ba=H(()=>{"use strict";qe();Ir();hr();wa=(r,a)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${a()}`)}},eo=r=>{switch(r[3]){case"cpu":return new me(r[0],r[2],r[1]);case"gpu-buffer":{let a=r[0];if(!Ht(a))throw new Error(`not supported data type: ${a} for deserializing GPU tensor`);let{gpuBuffer:t,download:f,dispose:s}=r[2];return me.fromGpuBuffer(t,{dataType:a,dims:r[1],download:f,dispose:s})}default:throw new Error(`invalid data location: ${r[3]}`)}},Gt=class{async createSessionAllocate(a){let t=await fetch(a);if(t.status!==200)throw new Error(`failed to load model: ${a}`);let f=await t.arrayBuffer();return da(new Uint8Array(f))}async loadModel(a,t){if(await ya()||(Yt||(Yt=ca(q)),await Yt,Yt=void 0),typeof a=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let f=await(void 0)(a);[this.sessionId,this.inputNames,this.outputNames]=await Dr(f,t)}else{let f=await this.createSessionAllocate(a);[this.sessionId,this.inputNames,this.outputNames]=await pa(f,t)}else[this.sessionId,this.inputNames,this.outputNames]=await Dr(a,t)}async dispose(){return ma(this.sessionId)}async run(a,t,f){let s=[],g=[];Object.entries(a).forEach(E=>{let R=E[0],L=E[1],I=this.inputNames.indexOf(R);if(I===-1)throw new Error(`invalid input '${R}'`);s.push(L),g.push(I)});let p=[],i=[];Object.entries(t).forEach(E=>{let R=E[0],L=E[1],I=this.outputNames.indexOf(R);if(I===-1)throw new Error(`invalid output '${R}'`);p.push(L),i.push(I)});let b=s.map((E,R)=>wa(E,()=>`input "${this.inputNames[g[R]]}"`)),h=p.map((E,R)=>E?wa(E,()=>`output "${this.outputNames[i[R]]}"`):null),v=await ha(this.sessionId,g,b,i,h,f),A={};for(let E=0;E<v.length;E++)A[this.outputNames[i[E]]]=p[E]??eo(v[E]);return A}startProfiling(){}endProfiling(){ga(this.sessionId)}}});var to,$t,va=H(()=>{"use strict";qe();Ir();ba();to=()=>{if((typeof q.wasm.initTimeout!="number"||q.wasm.initTimeout<0)&&(q.wasm.initTimeout=0),typeof q.wasm.simd!="boolean"&&(q.wasm.simd=!0),typeof q.wasm.proxy!="boolean"&&(q.wasm.proxy=!1),typeof q.wasm.numThreads!="number"||!Number.isInteger(q.wasm.numThreads)||q.wasm.numThreads<=0){let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;q.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},$t=class{async init(){to(),await fa()}async createInferenceSessionHandler(a,t){let f=new Gt;return await f.loadModel(a,t),Promise.resolve(f)}}});var Oa={};yt(Oa,{wasmBackend:()=>ro});var ro,_a=H(()=>{"use strict";va();ro=new $t});qe();qe();qe();var In="1.17.0";var Ci=ar;{let r=(_a(),it(Oa)).wasmBackend;Ve("cpu",r,10),Ve("wasm",r,10),Ve("xnnpack",r,9),Ve("webnn",r,9)}Object.defineProperty(q.versions,"web",{value:In,enumerable:!0});export{Ua as InferenceSession,me as Tensor,Ba as TrainingSession,Ci as default,q as env,Ve as registerBackend};
//# sourceMappingURL=ort.wasm.min.js.map
