/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var Rr=Object.defineProperty;var Io=Object.getOwnPropertyDescriptor;var Ro=Object.getOwnPropertyNames;var xo=Object.prototype.hasOwnProperty;var G=(a,n)=>()=>(a&&(n=a(a=0)),n);var gt=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),yt=(a,n)=>{for(var r in n)Rr(a,r,{get:n[r],enumerable:!0})},Fo=(a,n,r,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let u of Ro(n))!xo.call(a,u)&&u!==r&&Rr(a,u,{get:()=>n[u],enumerable:!(l=Io(n,u))||l.enumerable});return a};var tt=a=>Fo(Rr({},"__esModule",{value:!0}),a);var Jt,rt,bt,Xt,Kt=G(()=>{"use strict";Jt=new Map,rt=[],bt=(a,n,r)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){let l=Jt.get(a);if(l===void 0)Jt.set(a,{backend:n,priority:r});else{if(l.priority>r)return;if(l.priority===r&&l.backend!==n)throw new Error(`cannot register backend "${a}" using priority ${r}`)}if(r>=0){let u=rt.indexOf(a);u!==-1&&rt.splice(u,1);for(let m=0;m<rt.length;m++)if(Jt.get(rt[m]).priority<=r){rt.splice(m,0,a);return}rt.push(a)}return}throw new TypeError("not a valid backend")},Xt=async a=>{let n=a.length===0?rt:a,r=[];for(let l of n){let u=Jt.get(l);if(u){if(u.initialized)return u.backend;if(u.aborted)continue;let m=!!u.initPromise;try{return m||(u.initPromise=u.backend.init(l)),await u.initPromise,u.initialized=!0,u.backend}catch(f){m||r.push({name:l,err:f}),u.aborted=!0}finally{delete u.initPromise}}}throw new Error(`no available backend found. ERR: ${r.map(l=>`[${l.name}] ${l.err}`).join(", ")}`)}});var Hn=G(()=>{"use strict";Kt()});var Wn,Nn=G(()=>{"use strict";Wn="1.17.0"});var zn,xr,$n=G(()=>{"use strict";Nn();zn="warning",xr={wasm:{},webgl:{},webgpu:{},versions:{common:Wn},set logLevel(a){if(a!==void 0){if(typeof a!="string"||["verbose","info","warning","error","fatal"].indexOf(a)===-1)throw new Error(`Unsupported logging level: ${a}`);zn=a}},get logLevel(){return zn}};Object.defineProperty(xr,"logLevel",{enumerable:!0})});var Q,jn=G(()=>{"use strict";$n();Q=xr});var Gn,Yn,Vn=G(()=>{"use strict";Gn=(a,n)=>{let r=document.createElement("canvas");r.width=a.dims[3],r.height=a.dims[2];let l=r.getContext("2d");if(l!=null){let u,m;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(u=a.dims[2],m=a.dims[3]):(u=a.dims[3],m=a.dims[2]);let f=n?.format!==void 0?n.format:"RGB",p=n?.norm,y,s;p===void 0||p.mean===void 0?y=[255,255,255,255]:typeof p.mean=="number"?y=[p.mean,p.mean,p.mean,p.mean]:(y=[p.mean[0],p.mean[1],p.mean[2],0],p.mean[3]!==void 0&&(y[3]=p.mean[3])),p===void 0||p.bias===void 0?s=[0,0,0,0]:typeof p.bias=="number"?s=[p.bias,p.bias,p.bias,p.bias]:(s=[p.bias[0],p.bias[1],p.bias[2],0],p.bias[3]!==void 0&&(s[3]=p.bias[3]));let b=m*u,_=0,E=b,S=b*2,D=-1;f==="RGBA"?(_=0,E=b,S=b*2,D=b*3):f==="RGB"?(_=0,E=b,S=b*2):f==="RBG"&&(_=0,S=b,E=b*2);for(let P=0;P<m;P++)for(let L=0;L<u;L++){let F=(a.data[_++]-s[0])*y[0],I=(a.data[E++]-s[1])*y[1],N=(a.data[S++]-s[2])*y[2],q=D===-1?255:(a.data[D++]-s[3])*y[3];l.fillStyle="rgba("+F+","+I+","+N+","+q+")",l.fillRect(L,P,1,1)}return r.toDataURL()}else throw new Error("Can not access image data")},Yn=(a,n)=>{let r=document.createElement("canvas").getContext("2d"),l;if(r!=null){let u,m,f;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(u=a.dims[2],m=a.dims[1],f=a.dims[3]):(u=a.dims[3],m=a.dims[2],f=a.dims[1]);let p=n!==void 0&&n.format!==void 0?n.format:"RGB",y=n?.norm,s,b;y===void 0||y.mean===void 0?s=[255,255,255,255]:typeof y.mean=="number"?s=[y.mean,y.mean,y.mean,y.mean]:(s=[y.mean[0],y.mean[1],y.mean[2],255],y.mean[3]!==void 0&&(s[3]=y.mean[3])),y===void 0||y.bias===void 0?b=[0,0,0,0]:typeof y.bias=="number"?b=[y.bias,y.bias,y.bias,y.bias]:(b=[y.bias[0],y.bias[1],y.bias[2],0],y.bias[3]!==void 0&&(b[3]=y.bias[3]));let _=m*u;if(n!==void 0&&(n.format!==void 0&&f===4&&n.format!=="RGBA"||f===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,S=0,D=1,P=2,L=3,F=0,I=_,N=_*2,q=-1;p==="RGBA"?(F=0,I=_,N=_*2,q=_*3):p==="RGB"?(F=0,I=_,N=_*2):p==="RBG"&&(F=0,N=_,I=_*2),l=r.createImageData(u,m);for(let R=0;R<m*u;S+=E,D+=E,P+=E,L+=E,R++)l.data[S]=(a.data[F++]-b[0])*s[0],l.data[D]=(a.data[I++]-b[1])*s[1],l.data[P]=(a.data[N++]-b[2])*s[2],l.data[L]=q===-1?255:(a.data[q++]-b[3])*s[3]}else throw new Error("Can not access image data");return l}});var Fr,qn,Jn,Xn,Kn,Zn=G(()=>{"use strict";Zt();Fr=(a,n)=>{if(a===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:r,width:l}=n,u=n.norm??{mean:255,bias:0},m,f;typeof u.mean=="number"?m=[u.mean,u.mean,u.mean,u.mean]:m=[u.mean[0],u.mean[1],u.mean[2],u.mean[3]??255],typeof u.bias=="number"?f=[u.bias,u.bias,u.bias,u.bias]:f=[u.bias[0],u.bias[1],u.bias[2],u.bias[3]??0];let p=n.format!==void 0?n.format:"RGBA",y=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",s=r*l,b=y==="RGBA"?new Float32Array(s*4):new Float32Array(s*3),_=4,E=0,S=1,D=2,P=3,L=0,F=s,I=s*2,N=-1;p==="RGB"&&(_=3,E=0,S=1,D=2,P=-1),y==="RGBA"?N=s*3:y==="RBG"?(L=0,I=s,F=s*2):y==="BGR"&&(I=0,F=s,L=s*2);for(let R=0;R<s;R++,E+=_,D+=_,S+=_,P+=_)b[L++]=(a[E]+f[0])/m[0],b[F++]=(a[S]+f[1])/m[1],b[I++]=(a[D]+f[2])/m[2],N!==-1&&P!==-1&&(b[N++]=(a[P]+f[3])/m[3]);return y==="RGBA"?new we("float32",b,[1,4,r,l]):new we("float32",b,[1,3,r,l])},qn=async(a,n)=>{let r=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,l=typeof ImageData<"u"&&a instanceof ImageData,u=typeof ImageBitmap<"u"&&a instanceof ImageBitmap,m=typeof a=="string",f,p=n??{};if(r){let y=document.createElement("canvas");y.width=a.width,y.height=a.height;let s=y.getContext("2d");if(s!=null){let b=a.height,_=a.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(b=n.resizedHeight,_=n.resizedWidth),n!==void 0){if(p=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");p.tensorFormat="RGBA",p.height=b,p.width=_}else p.tensorFormat="RGBA",p.height=b,p.width=_;s.drawImage(a,0,0),f=s.getImageData(0,0,_,b).data}else throw new Error("Can not access image data")}else if(l){let y,s;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(y=n.resizedHeight,s=n.resizedWidth):(y=a.height,s=a.width),n!==void 0&&(p=n),p.format="RGBA",p.height=y,p.width=s,n!==void 0){let b=document.createElement("canvas");b.width=s,b.height=y;let _=b.getContext("2d");if(_!=null)_.putImageData(a,0,0),f=_.getImageData(0,0,s,y).data;else throw new Error("Can not access image data")}else f=a.data}else if(u){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");let y=document.createElement("canvas");y.width=a.width,y.height=a.height;let s=y.getContext("2d");if(s!=null){let b=a.height,_=a.width;return s.drawImage(a,0,0,_,b),f=s.getImageData(0,0,_,b).data,p.height=b,p.width=_,Fr(f,p)}else throw new Error("Can not access image data")}else{if(m)return new Promise((y,s)=>{let b=document.createElement("canvas"),_=b.getContext("2d");if(!a||!_)return s();let E=new Image;E.crossOrigin="Anonymous",E.src=a,E.onload=()=>{b.width=E.width,b.height=E.height,_.drawImage(E,0,0,b.width,b.height);let S=_.getImageData(0,0,b.width,b.height);p.height=b.height,p.width=b.width,y(Fr(S.data,p))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(f!==void 0)return Fr(f,p);throw new Error("Input data provided is not supported - aborted tensor creation")},Jn=(a,n)=>{let{width:r,height:l,download:u,dispose:m}=n,f=[1,l,r,4];return new we({location:"texture",type:"float32",texture:a,dims:f,download:u,dispose:m})},Xn=(a,n)=>{let{dataType:r,dims:l,download:u,dispose:m}=n;return new we({location:"gpu-buffer",type:r??"float32",gpuBuffer:a,dims:l,download:u,dispose:m})},Kn=(a,n,r)=>new we({location:"cpu-pinned",type:a,data:n,dims:r??[n.length]})});var It,Qt,Qn,ea,ta=G(()=>{"use strict";It=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Qt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Qn=!1,ea=()=>{if(!Qn){Qn=!0;let a=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",n=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";a&&(It.set("int64",BigInt64Array),Qt.set(BigInt64Array,"int64")),n&&(It.set("uint64",BigUint64Array),Qt.set(BigUint64Array,"uint64"))}}});var ra,na,aa=G(()=>{"use strict";Zt();ra=a=>{let n=1;for(let r=0;r<a.length;r++){let l=a[r];if(typeof l!="number"||!Number.isSafeInteger(l))throw new TypeError(`dims[${r}] must be an integer, got: ${l}`);if(l<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${l}`);n*=l}return n},na=(a,n)=>{switch(a.location){case"cpu":return new we(a.type,a.data,n);case"cpu-pinned":return new we({location:"cpu-pinned",data:a.data,type:a.type,dims:n});case"texture":return new we({location:"texture",texture:a.texture,type:a.type,dims:n});case"gpu-buffer":return new we({location:"gpu-buffer",gpuBuffer:a.gpuBuffer,type:a.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${a.location} is not supported`)}}});var we,Zt=G(()=>{"use strict";Vn();Zn();ta();aa();we=class{constructor(n,r,l){ea();let u,m;if(typeof n=="object"&&"location"in n)switch(this.dataLocation=n.location,u=n.type,m=n.dims,n.location){case"cpu-pinned":{let p=It.get(u);if(!p)throw new TypeError(`unsupported type "${u}" to create tensor from pinned buffer`);if(!(n.data instanceof p))throw new TypeError(`buffer should be of type ${p.name}`);this.cpuData=n.data;break}case"texture":{if(u!=="float32")throw new TypeError(`unsupported type "${u}" to create tensor from texture`);this.gpuTextureData=n.texture,this.downloader=n.download,this.disposer=n.dispose;break}case"gpu-buffer":{if(u!=="float32"&&u!=="float16"&&u!=="int32"&&u!=="int64"&&u!=="uint32"&&u!=="bool")throw new TypeError(`unsupported type "${u}" to create tensor from gpu buffer`);this.gpuBufferData=n.gpuBuffer,this.downloader=n.download,this.disposer=n.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let p,y;if(typeof n=="string")if(u=n,y=l,n==="string"){if(!Array.isArray(r))throw new TypeError("A string tensor's data must be a string array.");p=r}else{let s=It.get(n);if(s===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(r)){if(n==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");n==="uint64"||n==="int64"?p=s.from(r,BigInt):p=s.from(r)}else if(r instanceof s)p=r;else throw new TypeError(`A ${u} tensor's data must be type of ${s}`)}else if(y=r,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let s=typeof n[0];if(s==="string")u="string",p=n;else if(s==="boolean")u="bool",p=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${s}.`)}else{let s=Qt.get(n.constructor);if(s===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);u=s,p=n}if(y===void 0)y=[p.length];else if(!Array.isArray(y))throw new TypeError("A tensor's dims must be a number array");m=y,this.cpuData=p,this.dataLocation="cpu"}let f=ra(m);if(this.cpuData&&f!==this.cpuData.length)throw new Error(`Tensor's size(${f}) does not match data length(${this.cpuData.length}).`);this.type=u,this.dims=m,this.size=f}static async fromImage(n,r){return qn(n,r)}static fromTexture(n,r){return Jn(n,r)}static fromGpuBuffer(n,r){return Xn(n,r)}static fromPinnedBuffer(n,r,l){return Kn(n,r,l)}toDataURL(n){return Gn(this,n)}toImageData(n){return Yn(this,n)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(n){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let r=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=r,n&&this.disposer&&(this.disposer(),this.disposer=void 0),r}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(n){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return na(this,n)}}});var pe,er=G(()=>{"use strict";Zt();pe=we});var tr,oa=G(()=>{"use strict";Kt();er();tr=class a{constructor(n){this.handler=n}async run(n,r,l){let u={},m={};if(typeof n!="object"||n===null||n instanceof pe||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let f=!0;if(typeof r=="object"){if(r===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof pe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(r)){if(r.length===0)throw new TypeError("'fetches' cannot be an empty array.");f=!1;for(let s of r){if(typeof s!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(s)===-1)throw new RangeError(`'fetches' contains invalid output name: ${s}.`);u[s]=null}if(typeof l=="object"&&l!==null)m=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else{let s=!1,b=Object.getOwnPropertyNames(r);for(let _ of this.outputNames)if(b.indexOf(_)!==-1){let E=r[_];(E===null||E instanceof pe)&&(s=!0,f=!1,u[_]=E)}if(s){if(typeof l=="object"&&l!==null)m=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else m=r}}else if(typeof r<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let s of this.inputNames)if(typeof n[s]>"u")throw new Error(`input '${s}' is missing in 'feeds'.`);if(f)for(let s of this.outputNames)u[s]=null;let p=await this.handler.run(n,u,m),y={};for(let s in p)if(Object.hasOwnProperty.call(p,s)){let b=p[s];b instanceof pe?y[s]=b:y[s]=new pe(b.type,b.data,b.dims)}return y}async release(){return this.handler.dispose()}static async create(n,r,l,u){let m,f={};if(typeof n=="string"){if(m=n,typeof r=="object"&&r!==null)f=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(m=n,typeof r=="object"&&r!==null)f=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){let _=n,E=0,S=n.byteLength;if(typeof r=="object"&&r!==null)f=r;else if(typeof r=="number"){if(E=r,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=_.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${_.byteLength}).`);if(S=n.byteLength-E,typeof l=="number"){if(S=l,!Number.isSafeInteger(S))throw new RangeError("'byteLength' must be an integer.");if(S<=0||E+S>_.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${_.byteLength-E}].`);if(typeof u=="object"&&u!==null)f=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(typeof l<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof r<"u")throw new TypeError("'options' must be an object.");m=new Uint8Array(_,E,S)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let y=(f.executionProviders||[]).map(_=>typeof _=="string"?_:_.name),b=await(await Xt(y)).createInferenceSessionHandler(m,f);return new a(b)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var ia,sa=G(()=>{"use strict";oa();ia=tr});var ua=G(()=>{"use strict"});var Do,rr,fa=G(()=>{"use strict";Kt();er();Do="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",rr=class a{constructor(n,r,l){this.handler=n,this.hasOptimizerModel=r,this.hasEvalModel=l}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(n,r){let l=n.evalModel||"",u=n.optimizerModel||"",m=r||{},p=(m.executionProviders||[]).map(s=>typeof s=="string"?s:s.name),y=await Xt(p);if(y.createTrainingSessionHandler){let s=await y.createTrainingSessionHandler(n.checkpointState,n.trainModel,l,u,m);return new a(s,!!n.optimizerModel,!!n.evalModel)}else throw new Error(Do)}typeNarrowingForRunStep(n,r,l,u,m){let f={},p={};if(typeof l!="object"||l===null||l instanceof pe||Array.isArray(l))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let y=!0;if(typeof u=="object"){if(u===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(u instanceof pe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(u)){if(u.length===0)throw new TypeError("'fetches' cannot be an empty array.");y=!1;for(let s of u){if(typeof s!="string")throw new TypeError("'fetches' must be a string array or an object.");if(r.indexOf(s)===-1)throw new RangeError(`'fetches' contains invalid output name: ${s}.`);f[s]=null}if(typeof m=="object"&&m!==null)p=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let s=!1,b=Object.getOwnPropertyNames(u);for(let _ of r)if(b.indexOf(_)!==-1){let E=u[_];(E===null||E instanceof pe)&&(s=!0,y=!1,f[_]=E)}if(s){if(typeof m=="object"&&m!==null)p=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else p=u}}else if(typeof u<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let s of n)if(typeof l[s]>"u")throw new Error(`input '${s}' is missing in 'feeds'.`);if(y)for(let s of r)f[s]=null;return[f,p]}convertHandlerReturnTypeToMapOfTensors(n){let r={};for(let l in n)if(Object.hasOwnProperty.call(n,l)){let u=n[l];u instanceof pe?r[l]=u:r[l]=new pe(u.type,u.data,u.dims)}return r}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(n,r,l){let[u,m]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,n,r,l),f=await this.handler.runTrainStep(n,u,m);return this.convertHandlerReturnTypeToMapOfTensors(f)}async runOptimizerStep(n){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(n||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(n,r,l){if(this.hasEvalModel){let[u,m]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,n,r,l),f=await this.handler.runEvalStep(n,u,m);return this.convertHandlerReturnTypeToMapOfTensors(f)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(n=!0){return this.handler.getParametersSize(n)}async loadParametersBuffer(n,r=!0){let l=await this.getParametersSize(r);if(n.length!==4*l)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(n,r)}async getContiguousParameters(n=!0){return this.handler.getContiguousParameters(n)}async release(){return this.handler.dispose()}}});var la,ca=G(()=>{"use strict";fa();la=rr});var Dr={};yt(Dr,{InferenceSession:()=>ia,Tensor:()=>pe,TrainingSession:()=>la,env:()=>Q,registerBackend:()=>bt});var nt=G(()=>{"use strict";Hn();jn();sa();er();ua();ca()});var Br={};yt(Br,{readFile:()=>Bo});var Bo,Ur=G(()=>{Bo=void 0});var kr={};yt(kr,{join:()=>Uo});var Uo,Lr=G(()=>{Uo=void 0});var ha=gt((ma,Hr)=>{"use strict";var pa=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(n={}){var r=n,l,u;r.ready=new Promise((i,d)=>{l=i,u=d});var m=Object.assign({},r),f="./this.program",p=typeof window=="object",y=typeof importScripts=="function",s=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",_,E,S;if(s){var D=(Ur(),tt(Br)),P=(Lr(),tt(kr));b=y?P.dirname(b)+"/":__dirname+"/",_=(i,d)=>(i=i.startsWith("file://")?new URL(i):P.normalize(i),D.readFileSync(i,d?void 0:"utf8")),S=i=>(i=_(i,!0),i.buffer||(i=new Uint8Array(i)),i),E=(i,d,h,O=!0)=>{i=i.startsWith("file://")?new URL(i):P.normalize(i),D.readFile(i,O?void 0:"utf8",(C,x)=>{C?h(C):d(O?x.buffer:x)})},!r.thisProgram&&1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r.inspect=()=>"[Emscripten Module object]"}else(p||y)&&(y?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),a&&(b=a),b.indexOf("blob:")!==0?b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):b="",_=i=>{var d=new XMLHttpRequest;return d.open("GET",i,!1),d.send(null),d.responseText},y&&(S=i=>{var d=new XMLHttpRequest;return d.open("GET",i,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),E=(i,d,h)=>{var O=new XMLHttpRequest;O.open("GET",i,!0),O.responseType="arraybuffer",O.onload=()=>{O.status==200||O.status==0&&O.response?d(O.response):h()},O.onerror=h,O.send(null)});var L=r.print||console.log.bind(console),F=r.printErr||console.error.bind(console);Object.assign(r,m),m=null,r.thisProgram&&(f=r.thisProgram);var I;r.wasmBinary&&(I=r.wasmBinary);var N=r.noExitRuntime||!0;typeof WebAssembly!="object"&&J("no native wasm support detected");var q,R,ve=!1,Oe,re,B,se;function qe(){var i=q.buffer;r.HEAP8=Oe=new Int8Array(i),r.HEAP16=new Int16Array(i),r.HEAP32=B=new Int32Array(i),r.HEAPU8=re=new Uint8Array(i),r.HEAPU16=new Uint16Array(i),r.HEAPU32=se=new Uint32Array(i),r.HEAPF32=new Float32Array(i),r.HEAPF64=new Float64Array(i)}var Je=[],ue=[],j=[];function X(){var i=r.preRun.shift();Je.unshift(i)}var Ee=0,me=null,ce=null;function J(i){throw r.onAbort&&r.onAbort(i),i="Aborted("+i+")",F(i),ve=!0,i=new WebAssembly.RuntimeError(i+". Build with -sASSERTIONS for more info."),u(i),i}function he(i){return i.startsWith("data:application/octet-stream;base64,")}var Re;if(Re="ort-training-wasm-simd.wasm",!he(Re)){var xe=Re;Re=r.locateFile?r.locateFile(xe,b):b+xe}function ze(i){if(i==Re&&I)return new Uint8Array(I);if(S)return S(i);throw"both async and sync fetching of the wasm failed"}function Xe(i){if(!I&&(p||y)){if(typeof fetch=="function"&&!i.startsWith("file://"))return fetch(i,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+i+"'";return d.arrayBuffer()}).catch(()=>ze(i));if(E)return new Promise((d,h)=>{E(i,O=>d(new Uint8Array(O)),h)})}return Promise.resolve().then(()=>ze(i))}function Ke(i,d,h){return Xe(i).then(O=>WebAssembly.instantiate(O,d)).then(O=>O).then(h,O=>{F("failed to asynchronously prepare wasm: "+O),J(O)})}function ge(i,d){var h=Re;return I||typeof WebAssembly.instantiateStreaming!="function"||he(h)||h.startsWith("file://")||s||typeof fetch!="function"?Ke(h,i,d):fetch(h,{credentials:"same-origin"}).then(O=>WebAssembly.instantiateStreaming(O,i).then(d,function(C){return F("wasm streaming compile failed: "+C),F("falling back to ArrayBuffer instantiation"),Ke(h,i,d)}))}var ye,Ue=i=>{for(;0<i.length;)i.shift()(r)};function K(i){this.Ja=i-24,this.Na=function(d){se[this.Ja+4>>2>>>0]=d},this.Ma=function(d){se[this.Ja+8>>2>>>0]=d},this.Ka=function(d,h){this.La(),this.Na(d),this.Ma(h)},this.La=function(){se[this.Ja+16>>2>>>0]=0}}var oe=0,$e=0,ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,st=(i,d,h)=>{d>>>=0;var O=d+h;for(h=d;i[h]&&!(h>=O);)++h;if(16<h-d&&i.buffer&&ke)return ke.decode(i.subarray(d,h));for(O="";d<h;){var C=i[d++];if(C&128){var x=i[d++]&63;if((C&224)==192)O+=String.fromCharCode((C&31)<<6|x);else{var z=i[d++]&63;C=(C&240)==224?(C&15)<<12|x<<6|z:(C&7)<<18|x<<12|z<<6|i[d++]&63,65536>C?O+=String.fromCharCode(C):(C-=65536,O+=String.fromCharCode(55296|C>>10,56320|C&1023))}}else O+=String.fromCharCode(C)}return O},ut=(i,d)=>(i>>>=0)?st(re,i,d):"",je=i=>{for(var d=0,h=0;h<i.length;++h){var O=i.charCodeAt(h);127>=O?d++:2047>=O?d+=2:55296<=O&&57343>=O?(d+=4,++h):d+=3}return d},Fe=(i,d,h,O)=>{if(h>>>=0,!(0<O))return 0;var C=h;O=h+O-1;for(var x=0;x<i.length;++x){var z=i.charCodeAt(x);if(55296<=z&&57343>=z){var fe=i.charCodeAt(++x);z=65536+((z&1023)<<10)|fe&1023}if(127>=z){if(h>=O)break;d[h++>>>0]=z}else{if(2047>=z){if(h+1>=O)break;d[h++>>>0]=192|z>>6}else{if(65535>=z){if(h+2>=O)break;d[h++>>>0]=224|z>>12}else{if(h+3>=O)break;d[h++>>>0]=240|z>>18,d[h++>>>0]=128|z>>12&63}d[h++>>>0]=128|z>>6&63}d[h++>>>0]=128|z&63}}return d[h>>>0]=0,h-C},De=i=>i%4===0&&(i%100!==0||i%400===0),Ge=[0,31,60,91,121,152,182,213,244,274,305,335],_t=[0,31,59,90,120,151,181,212,243,273,304,334],Le=i=>{var d=je(i)+1,h=At(d);return h&&Fe(i,re,h,d),h},ft={},Ye=()=>{if(!lt){var i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"},d;for(d in ft)ft[d]===void 0?delete i[d]:i[d]=ft[d];var h=[];for(d in i)h.push(`${d}=${i[d]}`);lt=h}return lt},lt,br=[null,[],[]],Et=[31,29,31,30,31,30,31,31,30,31,30,31],Lt=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(i){var d=Array(je(i)+1);return Fe(i,d,0,d.length),d}function dt(i,d,h,O){function C(T,V,Z){for(T=typeof T=="number"?T.toString():T||"";T.length<V;)T=Z[0]+T;return T}function x(T,V){return C(T,V,"0")}function z(T,V){function Z(Pt){return 0>Pt?-1:0<Pt?1:0}var Be;return(Be=Z(T.getFullYear()-V.getFullYear()))===0&&(Be=Z(T.getMonth()-V.getMonth()))===0&&(Be=Z(T.getDate()-V.getDate())),Be}function fe(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function be(T){var V=T.Ea;for(T=new Date(new Date(T.Fa+1900,0,1).getTime());0<V;){var Z=T.getMonth(),Be=(De(T.getFullYear())?Et:Lt)[Z];if(V>Be-T.getDate())V-=Be-T.getDate()+1,T.setDate(1),11>Z?T.setMonth(Z+1):(T.setMonth(0),T.setFullYear(T.getFullYear()+1));else{T.setDate(T.getDate()+V);break}}return Z=new Date(T.getFullYear()+1,0,4),V=fe(new Date(T.getFullYear(),0,4)),Z=fe(Z),0>=z(V,T)?0>=z(Z,T)?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}i>>>=0,d>>>=0,h>>>=0,O>>>=0;var de=B[O+40>>2>>>0];O={Qa:B[O>>2>>>0],Pa:B[O+4>>2>>>0],Ga:B[O+8>>2>>>0],Ia:B[O+12>>2>>>0],Ha:B[O+16>>2>>>0],Fa:B[O+20>>2>>>0],za:B[O+24>>2>>>0],Ea:B[O+28>>2>>>0],Sa:B[O+32>>2>>>0],Oa:B[O+36>>2>>>0],Ra:de?ut(de):""},h=ut(h),de={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in de)h=h.replace(new RegExp(le,"g"),de[le]);var Ct="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),mt="January February March April May June July August September October November December".split(" ");de={"%a":T=>Ct[T.za].substring(0,3),"%A":T=>Ct[T.za],"%b":T=>mt[T.Ha].substring(0,3),"%B":T=>mt[T.Ha],"%C":T=>x((T.Fa+1900)/100|0,2),"%d":T=>x(T.Ia,2),"%e":T=>C(T.Ia,2," "),"%g":T=>be(T).toString().substring(2),"%G":T=>be(T),"%H":T=>x(T.Ga,2),"%I":T=>(T=T.Ga,T==0?T=12:12<T&&(T-=12),x(T,2)),"%j":T=>{for(var V=0,Z=0;Z<=T.Ha-1;V+=(De(T.Fa+1900)?Et:Lt)[Z++]);return x(T.Ia+V,3)},"%m":T=>x(T.Ha+1,2),"%M":T=>x(T.Pa,2),"%n":()=>`
`,"%p":T=>0<=T.Ga&&12>T.Ga?"AM":"PM","%S":T=>x(T.Qa,2),"%t":()=>"	","%u":T=>T.za||7,"%U":T=>x(Math.floor((T.Ea+7-T.za)/7),2),"%V":T=>{var V=Math.floor((T.Ea+7-(T.za+6)%7)/7);if(2>=(T.za+371-T.Ea-2)%7&&V++,V)V==53&&(Z=(T.za+371-T.Ea)%7,Z==4||Z==3&&De(T.Fa)||(V=1));else{V=52;var Z=(T.za+7-T.Ea-1)%7;(Z==4||Z==5&&De(T.Fa%400-1))&&V++}return x(V,2)},"%w":T=>T.za,"%W":T=>x(Math.floor((T.Ea+7-(T.za+6)%7)/7),2),"%y":T=>(T.Fa+1900).toString().substring(2),"%Y":T=>T.Fa+1900,"%z":T=>{T=T.Oa;var V=0<=T;return T=Math.abs(T)/60,(V?"+":"-")+("0000"+(T/60*100+T%60)).slice(-4)},"%Z":T=>T.Ra,"%%":()=>"%"},h=h.replace(/%%/g,"\0\0");for(le in de)h.includes(le)&&(h=h.replace(new RegExp(le,"g"),de[le](O)));return h=h.replace(/\0\0/g,"%"),le=ct(h),le.length>d?0:(Oe.set(le,i>>>0),le.length-1)}var Ht={a:function(i,d,h){throw i>>>=0,new K(i).Ka(d>>>0,h>>>0),oe=i,$e++,oe},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(i,d,h){i=d+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*d:NaN,h>>>=0,i=new Date(1e3*i),B[h>>2>>>0]=i.getUTCSeconds(),B[h+4>>2>>>0]=i.getUTCMinutes(),B[h+8>>2>>>0]=i.getUTCHours(),B[h+12>>2>>>0]=i.getUTCDate(),B[h+16>>2>>>0]=i.getUTCMonth(),B[h+20>>2>>>0]=i.getUTCFullYear()-1900,B[h+24>>2>>>0]=i.getUTCDay(),B[h+28>>2>>>0]=(i.getTime()-Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(i,d,h){i=d+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*d:NaN,h>>>=0,i=new Date(1e3*i),B[h>>2>>>0]=i.getSeconds(),B[h+4>>2>>>0]=i.getMinutes(),B[h+8>>2>>>0]=i.getHours(),B[h+12>>2>>>0]=i.getDate(),B[h+16>>2>>>0]=i.getMonth(),B[h+20>>2>>>0]=i.getFullYear()-1900,B[h+24>>2>>>0]=i.getDay(),B[h+28>>2>>>0]=(De(i.getFullYear())?Ge:_t)[i.getMonth()]+i.getDate()-1|0,B[h+36>>2>>>0]=-(60*i.getTimezoneOffset()),d=new Date(i.getFullYear(),6,1).getTimezoneOffset();var O=new Date(i.getFullYear(),0,1).getTimezoneOffset();B[h+32>>2>>>0]=(d!=O&&i.getTimezoneOffset()==Math.min(O,d))|0},q:function(i){i>>>=0;var d=new Date(B[i+20>>2>>>0]+1900,B[i+16>>2>>>0],B[i+12>>2>>>0],B[i+8>>2>>>0],B[i+4>>2>>>0],B[i>>2>>>0],0),h=B[i+32>>2>>>0],O=d.getTimezoneOffset(),C=new Date(d.getFullYear(),6,1).getTimezoneOffset(),x=new Date(d.getFullYear(),0,1).getTimezoneOffset(),z=Math.min(x,C);return 0>h?B[i+32>>2>>>0]=+(C!=x&&z==O):0<h!=(z==O)&&(C=Math.max(x,C),d.setTime(d.getTime()+6e4*((0<h?z:C)-O))),B[i+24>>2>>>0]=d.getDay(),B[i+28>>2>>>0]=(De(d.getFullYear())?Ge:_t)[d.getMonth()]+d.getDate()-1|0,B[i>>2>>>0]=d.getSeconds(),B[i+4>>2>>>0]=d.getMinutes(),B[i+8>>2>>>0]=d.getHours(),B[i+12>>2>>>0]=d.getDate(),B[i+16>>2>>>0]=d.getMonth(),B[i+20>>2>>>0]=d.getYear(),i=d.getTime()/1e3,St((ye=i,1<=+Math.abs(ye)?0<ye?+Math.floor(ye/4294967296)>>>0:~~+Math.ceil((ye-+(~~ye>>>0))/4294967296)>>>0:0)),i>>>0},m:function(){return-52},n:function(){},t:function(i,d,h){function O(be){return(be=be.toTimeString().match(/\(([A-Za-z ]+)\)$/))?be[1]:"GMT"}h>>>=0;var C=new Date().getFullYear(),x=new Date(C,0,1),z=new Date(C,6,1);C=x.getTimezoneOffset();var fe=z.getTimezoneOffset();se[i>>>0>>2>>>0]=60*Math.max(C,fe),B[d>>>0>>2>>>0]=+(C!=fe),i=O(x),d=O(z),i=Le(i),d=Le(d),fe<C?(se[h>>2>>>0]=i,se[h+4>>2>>>0]=d):(se[h>>2>>>0]=d,se[h+4>>2>>>0]=i)},d:()=>{J("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(i,d,h){return d>>>=0,re.copyWithin(i>>>0>>>0,d>>>0,d+(h>>>0)>>>0)},s:function(i){i>>>=0;var d=re.length;if(4294901760<i)return!1;for(var h=1;4>=h;h*=2){var O=d*(1+.2/h);O=Math.min(O,i+100663296);var C=Math;O=Math.max(i,O);e:{C=C.min.call(C,4294901760,O+(65536-O%65536)%65536)-q.buffer.byteLength+65535>>>16;try{q.grow(C),qe();var x=1;break e}catch{}x=void 0}if(x)return!0}return!1},C:function(i,d){i>>>=0,d>>>=0;var h=0;return Ye().forEach(function(O,C){var x=d+h;for(C=se[i+4*C>>2>>>0]=x,x=0;x<O.length;++x)Oe[C++>>0>>>0]=O.charCodeAt(x);Oe[C>>0>>>0]=0,h+=O.length+1}),0},D:function(i,d){i>>>=0,d>>>=0;var h=Ye();se[i>>2>>>0]=h.length;var O=0;return h.forEach(function(C){O+=C.length+1}),se[d>>2>>>0]=O,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(i,d,h,O){d>>>=0,h>>>=0,O>>>=0;for(var C=0,x=0;x<h;x++){var z=se[d>>2>>>0],fe=se[d+4>>2>>>0];d+=8;for(var be=0;be<fe;be++){var de=re[z+be>>>0],le=br[i];de===0||de===10?((i===1?L:F)(st(le,0)),le.length=0):le.push(de)}C+=fe}return se[O>>2>>>0]=C,0},A:dt,c:function(i,d,h,O){return dt(i>>>0,d>>>0,h>>>0,O>>>0)}};(function(){function i(h){if(h=h.exports,R=h=wr(h),q=R.J,qe(),ue.unshift(R.K),Ee--,r.monitorRunDependencies&&r.monitorRunDependencies(Ee),Ee==0&&(me!==null&&(clearInterval(me),me=null),ce)){var O=ce;ce=null,O()}return h}var d={a:Ht};if(Ee++,r.monitorRunDependencies&&r.monitorRunDependencies(Ee),r.instantiateWasm)try{return r.instantiateWasm(d,i)}catch(h){F("Module.instantiateWasm callback failed with error: "+h),u(h)}return ge(d,function(h){i(h.instance)}).catch(u),{}})(),r._OrtInit=(i,d)=>(r._OrtInit=R.L)(i,d),r._OrtGetLastError=(i,d)=>(r._OrtGetLastError=R.M)(i,d),r._OrtCreateSessionOptions=(i,d,h,O,C,x,z,fe,be,de)=>(r._OrtCreateSessionOptions=R.N)(i,d,h,O,C,x,z,fe,be,de),r._OrtAppendExecutionProvider=(i,d)=>(r._OrtAppendExecutionProvider=R.O)(i,d),r._OrtAddFreeDimensionOverride=(i,d,h)=>(r._OrtAddFreeDimensionOverride=R.P)(i,d,h),r._OrtAddSessionConfigEntry=(i,d,h)=>(r._OrtAddSessionConfigEntry=R.Q)(i,d,h),r._OrtReleaseSessionOptions=i=>(r._OrtReleaseSessionOptions=R.R)(i),r._OrtCreateSession=(i,d,h)=>(r._OrtCreateSession=R.S)(i,d,h),r._OrtReleaseSession=i=>(r._OrtReleaseSession=R.T)(i),r._OrtGetInputOutputCount=(i,d,h)=>(r._OrtGetInputOutputCount=R.U)(i,d,h),r._OrtGetInputName=(i,d)=>(r._OrtGetInputName=R.V)(i,d),r._OrtGetOutputName=(i,d)=>(r._OrtGetOutputName=R.W)(i,d),r._OrtFree=i=>(r._OrtFree=R.X)(i),r._OrtCreateTensor=(i,d,h,O,C,x)=>(r._OrtCreateTensor=R.Y)(i,d,h,O,C,x),r._OrtGetTensorData=(i,d,h,O,C)=>(r._OrtGetTensorData=R.Z)(i,d,h,O,C),r._OrtReleaseTensor=i=>(r._OrtReleaseTensor=R._)(i),r._OrtCreateRunOptions=(i,d,h,O)=>(r._OrtCreateRunOptions=R.$)(i,d,h,O),r._OrtAddRunConfigEntry=(i,d,h)=>(r._OrtAddRunConfigEntry=R.aa)(i,d,h),r._OrtReleaseRunOptions=i=>(r._OrtReleaseRunOptions=R.ba)(i),r._OrtCreateBinding=i=>(r._OrtCreateBinding=R.ca)(i),r._OrtBindInput=(i,d,h)=>(r._OrtBindInput=R.da)(i,d,h),r._OrtBindOutput=(i,d,h,O)=>(r._OrtBindOutput=R.ea)(i,d,h,O),r._OrtClearBoundOutputs=i=>(r._OrtClearBoundOutputs=R.fa)(i),r._OrtReleaseBinding=i=>(r._OrtReleaseBinding=R.ga)(i),r._OrtRunWithBinding=(i,d,h,O,C)=>(r._OrtRunWithBinding=R.ha)(i,d,h,O,C),r._OrtRun=(i,d,h,O,C,x,z,fe)=>(r._OrtRun=R.ia)(i,d,h,O,C,x,z,fe),r._OrtEndProfiling=i=>(r._OrtEndProfiling=R.ja)(i),r._OrtTrainingLoadCheckpoint=(i,d)=>(r._OrtTrainingLoadCheckpoint=R.ka)(i,d),r._OrtTrainingReleaseCheckpoint=i=>(r._OrtTrainingReleaseCheckpoint=R.la)(i),r._OrtTrainingCreateSession=(i,d,h,O,C,x,z,fe)=>(r._OrtTrainingCreateSession=R.ma)(i,d,h,O,C,x,z,fe),r._OrtTrainingLazyResetGrad=i=>(r._OrtTrainingLazyResetGrad=R.na)(i),r._OrtTrainingRunTrainStep=(i,d,h,O,C,x)=>(r._OrtTrainingRunTrainStep=R.oa)(i,d,h,O,C,x),r._OrtTrainingOptimizerStep=(i,d)=>(r._OrtTrainingOptimizerStep=R.pa)(i,d),r._OrtTrainingEvalStep=(i,d,h,O,C,x)=>(r._OrtTrainingEvalStep=R.qa)(i,d,h,O,C,x),r._OrtTrainingGetParametersSize=(i,d,h)=>(r._OrtTrainingGetParametersSize=R.ra)(i,d,h),r._OrtTrainingCopyParametersToBuffer=(i,d,h,O)=>(r._OrtTrainingCopyParametersToBuffer=R.sa)(i,d,h,O),r._OrtTrainingCopyParametersFromBuffer=(i,d,h,O)=>(r._OrtTrainingCopyParametersFromBuffer=R.ta)(i,d,h,O),r._OrtTrainingGetModelInputOutputCount=(i,d,h,O)=>(r._OrtTrainingGetModelInputOutputCount=R.ua)(i,d,h,O),r._OrtTrainingGetModelInputOutputName=(i,d,h,O)=>(r._OrtTrainingGetModelInputOutputName=R.va)(i,d,h,O),r._OrtTrainingReleaseSession=i=>(r._OrtTrainingReleaseSession=R.wa)(i);var At=r._malloc=i=>(At=r._malloc=R.xa)(i);r._free=i=>(r._free=R.ya)(i);var St=i=>(St=R.Aa)(i),Ze=()=>(Ze=R.Ba)(),Mt=i=>(Mt=R.Ca)(i),pt=i=>(pt=R.Da)(i);function wr(i){i=Object.assign({},i);var d=O=>()=>O()>>>0,h=O=>C=>O(C)>>>0;return i.__errno_location=d(i.__errno_location),i.malloc=h(i.malloc),i.stackSave=d(i.stackSave),i.stackAlloc=h(i.stackAlloc),i}r.stackAlloc=pt,r.stackSave=Ze,r.stackRestore=Mt,r.UTF8ToString=ut,r.stringToUTF8=(i,d,h)=>Fe(i,re,d,h),r.lengthBytesUTF8=je;var U;ce=function i(){U||Qe(),U||(ce=i)};function Qe(){function i(){if(!U&&(U=!0,r.calledRun=!0,!ve)){if(Ue(ue),l(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var d=r.postRun.shift();j.unshift(d)}Ue(j)}}if(!(0<Ee)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)X();Ue(Je),0<Ee||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),i()},1)):i())}}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Qe(),n.ready}})();typeof ma=="object"&&typeof Hr=="object"?Hr.exports=pa:typeof define=="function"&&define.amd&&define([],()=>pa)});var ga=gt(()=>{});var ya=gt(()=>{});var ba={};yt(ba,{cpus:()=>ko});var ko,wa=G(()=>{ko=void 0});var Ta=gt((Oa,Wr)=>{"use strict";var va=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(n={}){function r(){return X.buffer!=J.buffer&&K(),J}function l(){return X.buffer!=J.buffer&&K(),he}function u(){return X.buffer!=J.buffer&&K(),Re}function m(){return X.buffer!=J.buffer&&K(),xe}function f(){return X.buffer!=J.buffer&&K(),ze}function p(){return X.buffer!=J.buffer&&K(),Xe}function y(){return X.buffer!=J.buffer&&K(),Ue}var s=n,b,_;s.ready=new Promise((e,t)=>{b=e,_=t});var E=Object.assign({},s),S="./this.program",D=(e,t)=>{throw t},P=typeof window=="object",L=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I=s.ENVIRONMENT_IS_PTHREAD||!1,N="";function q(e){return s.locateFile?s.locateFile(e,N):N+e}var R,ve,Oe;if(F){var re=(Ur(),tt(Br)),B=(Lr(),tt(kr));N=L?B.dirname(N)+"/":__dirname+"/",R=(t,o)=>(t=t.startsWith("file://")?new URL(t):B.normalize(t),re.readFileSync(t,o?void 0:"utf8")),Oe=t=>(t=R(t,!0),t.buffer||(t=new Uint8Array(t)),t),ve=(t,o,c,g=!0)=>{t=t.startsWith("file://")?new URL(t):B.normalize(t),re.readFile(t,g?void 0:"utf8",(w,A)=>{w?c(w):o(g?A.buffer:A)})},!s.thisProgram&&1<process.argv.length&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),D=(t,o)=>{throw process.exitCode=t,o},s.inspect=()=>"[Emscripten Module object]";let e;try{e=ga()}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}global.Worker=e.Worker}else(P||L)&&(L?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),typeof a<"u"&&a&&(N=a),N.indexOf("blob:")!==0?N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1):N="",F||(R=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},L&&(Oe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ve=(e,t,o)=>{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?t(c.response):o()},c.onerror=o,c.send(null)}));F&&typeof performance>"u"&&(global.performance=ya().performance);var se=console.log.bind(console),qe=console.error.bind(console);F&&(se=(...e)=>re.writeSync(1,e.join(" ")+`
`),qe=(...e)=>re.writeSync(2,e.join(" ")+`
`));var Je=se,ue=qe;Object.assign(s,E),E=null;var j=!0;typeof WebAssembly!="object"&&Le("no native wasm support detected");var X,Ee,me=!1,ce,J,he,Re,xe,ze,Xe,Ke,ge,ye,Ue;function K(){var e=X.buffer;s.HEAP8=J=new Int8Array(e),s.HEAP16=Re=new Int16Array(e),s.HEAPU8=he=new Uint8Array(e),s.HEAPU16=xe=new Uint16Array(e),s.HEAP32=ze=new Int32Array(e),s.HEAPU32=Xe=new Uint32Array(e),s.HEAPF32=Ke=new Float32Array(e),s.HEAPF64=Ue=new Float64Array(e),s.HEAP64=ge=new BigInt64Array(e),s.HEAPU64=ye=new BigUint64Array(e)}var oe=16777216;if(5242880<=oe||Le("INITIAL_MEMORY should be larger than STACK_SIZE, was "+oe+"! (STACK_SIZE=5242880)"),I)X=s.wasmMemory;else if(X=new WebAssembly.Memory({initial:oe/65536,maximum:65536,shared:!0}),!(X.buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),F&&ue("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");K(),oe=X.buffer.byteLength;var $e=[],ke=[],st=[],ut=0;function je(){return j||0<ut}var Fe=0,De=null,Ge=null;function _t(){if(Fe--,Fe==0&&(De!==null&&(clearInterval(De),De=null),Ge)){var e=Ge;Ge=null,e()}}function Le(e){throw e="Aborted("+e+")",ue(e),me=!0,ce=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),_(e),e}function ft(e){return e.startsWith("data:application/octet-stream;base64,")}var Ye;Ye="ort-wasm-threaded.wasm",ft(Ye)||(Ye=q(Ye));function lt(e){if(Oe)return Oe(e);throw"both async and sync fetching of the wasm failed"}function br(e){if(P||L){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>lt(e));if(ve)return new Promise((t,o)=>{ve(e,c=>t(new Uint8Array(c)),o)})}return Promise.resolve().then(()=>lt(e))}function Et(e,t,o){return br(e).then(c=>WebAssembly.instantiate(c,t)).then(c=>c).then(o,c=>{ue(`failed to asynchronously prepare wasm: ${c}`),Le(c)})}function Lt(e,t){var o=Ye;return typeof WebAssembly.instantiateStreaming!="function"||ft(o)||o.startsWith("file://")||F||typeof fetch!="function"?Et(o,e,t):fetch(o,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,e).then(t,function(g){return ue(`wasm streaming compile failed: ${g}`),ue("falling back to ArrayBuffer instantiation"),Et(o,e,t)}))}function ct(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var dt=e=>{e.terminate(),e.onmessage=()=>{}},Ht=e=>{if(U.qb.length==0){var t=q("ort-wasm-threaded.worker.js");t=new Worker(t),U.qb.push(t),U.Jb(U.qb[0])}if(t=U.qb.pop(),!t)return 6;U.nb.push(t),U.jb[e.mb]=t,t.mb=e.mb;var o={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return F&&t.unref(),t.postMessage(o,e.Sb),0},At=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,St=(e,t,o)=>{t>>>=0;var c=t+o;for(o=t;e[o]&&!(o>=c);)++o;if(16<o-t&&e.buffer&&At)return At.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,o):e.subarray(t,o));for(c="";t<o;){var g=e[t++];if(g&128){var w=e[t++]&63;if((g&224)==192)c+=String.fromCharCode((g&31)<<6|w);else{var A=e[t++]&63;g=(g&240)==224?(g&15)<<12|w<<6|A:(g&7)<<18|w<<12|A<<6|e[t++]&63,65536>g?c+=String.fromCharCode(g):(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else c+=String.fromCharCode(g)}return c},Ze=(e,t)=>(e>>>=0)?St(l(),e,t):"";function Mt(e){if(I)return te(0,1,e);ce=e,je()||(U.Nb(),me=!0),D(e,new ct(e))}var pt=e=>{if(ce=e,I)throw i(e),"unwind";Mt(e)};function wr(){$e.unshift(()=>{Fe++,_t()})}var U={qb:[],nb:[],Eb:[],jb:{},vb(){I?(U.receiveObjectTransfer=U.Lb,U.threadInitTLS=U.Db,U.setExitStatus=U.Cb,j=!1):wr()},Cb:e=>{ce=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of U.nb)dt(e);for(e of U.qb)dt(e);U.qb=[],U.nb=[],U.jb=[]},Bb:e=>{var t=e.mb;delete U.jb[t],U.qb.push(e),U.nb.splice(U.nb.indexOf(e),1),e.mb=0,Mr(t)},Lb(){},Db(){U.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=w=>{w=w.data;var A=w.cmd;if(w.targetThread&&w.targetThread!=Gt()){var M=U.jb[w.targetThread];M?M.postMessage(w,w.transferList):ue(`Internal error! Worker sent a message "${A}" to target pthread ${w.targetThread}, but that thread no longer exists!`)}else A==="checkMailbox"?Wt():A==="spawnThread"?Ht(w):A==="cleanupThread"?((w=U.jb[w.thread])||Le(),U.Bb(w)):A==="killThread"?(w=w.thread,A=U.jb[w],delete U.jb[w],dt(A),Mr(w),U.nb.splice(U.nb.indexOf(A),1),A.mb=0):A==="cancelThread"?U.jb[w.thread].postMessage({cmd:"cancel"}):A==="loaded"?(e.loaded=!0,t(e)):A==="alert"?alert(`Thread ${w.threadId}: ${w.text}`):w.target==="setimmediate"?e.postMessage(w):A==="callHandler"?s[w.handler](...w.args):A&&ue(`worker sent an unknown command ${A}`)},e.onerror=w=>{throw ue(`worker sent an error! ${w.filename}:${w.lineno}: ${w.message}`),w},F&&(e.on("message",w=>e.onmessage({data:w})),e.on("error",w=>e.onerror(w)));var o=[],c=[],g;for(g of c)s.hasOwnProperty(g)&&o.push(g);e.postMessage({cmd:"load",handlers:o,urlOrBlob:s.mainScriptUrlOrBlob||a,wasmMemory:X,wasmModule:Ee})})};s.PThread=U;var Qe=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=Gt(),t=p()[e+52>>>2>>>0];e=p()[e+56>>>2>>>0],Un(t,t-e),Vt(t)};function i(e){if(I)return te(1,0,e);pt(e)}var d=[],h;s.invokeEntryPoint=(e,t)=>{var o=d[e];o||(e>=d.length&&(d.length=e+1),d[e]=o=h.get(e)),e=o(t),je()?U.Cb(e):Cr(e)};function O(e){this.sb=e-24,this.Kb=function(t){p()[this.sb+4>>>2>>>0]=t},this.xb=function(t){p()[this.sb+8>>>2>>>0]=t},this.vb=function(t,o){this.wb(),this.Kb(t),this.xb(o)},this.wb=function(){p()[this.sb+16>>>2>>>0]=0}}var C=0,x=0;function z(e,t,o,c){return I?te(2,1,e,t,o,c):fe(e,t,o,c)}function fe(e,t,o,c){if(e>>>=0,t>>>=0,o>>>=0,c>>>=0,typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var g=[];return I&&g.length===0?z(e,t,o,c):(e={Mb:o,mb:e,Fb:c,Sb:g},I?(e.Ub="spawnThread",postMessage(e,g),0):Ht(e))}function be(e,t,o){return I?te(3,1,e,t,o):0}function de(e,t){if(I)return te(4,1,e,t)}var le=e=>{for(var t=0,o=0;o<e.length;++o){var c=e.charCodeAt(o);127>=c?t++:2047>=c?t+=2:55296<=c&&57343>=c?(t+=4,++o):t+=3}return t},Ct=(e,t,o,c)=>{if(o>>>=0,!(0<c))return 0;var g=o;c=o+c-1;for(var w=0;w<e.length;++w){var A=e.charCodeAt(w);if(55296<=A&&57343>=A){var M=e.charCodeAt(++w);A=65536+((A&1023)<<10)|M&1023}if(127>=A){if(o>=c)break;t[o++>>>0]=A}else{if(2047>=A){if(o+1>=c)break;t[o++>>>0]=192|A>>6}else{if(65535>=A){if(o+2>=c)break;t[o++>>>0]=224|A>>12}else{if(o+3>=c)break;t[o++>>>0]=240|A>>18,t[o++>>>0]=128|A>>12&63}t[o++>>>0]=128|A>>6&63}t[o++>>>0]=128|A&63}}return t[o>>>0]=0,o-g},mt=(e,t,o)=>Ct(e,l(),t,o);function T(e,t){if(I)return te(5,1,e,t)}function V(e,t,o){if(I)return te(6,1,e,t,o)}function Z(e,t,o){return I?te(7,1,e,t,o):0}function Be(e,t){if(I)return te(8,1,e,t)}function Pt(e,t,o){if(I)return te(9,1,e,t,o)}function Qr(e,t,o,c){if(I)return te(10,1,e,t,o,c)}function en(e,t,o,c){if(I)return te(11,1,e,t,o,c)}function tn(e,t,o,c){if(I)return te(12,1,e,t,o,c)}function rn(e){if(I)return te(13,1,e)}function nn(e,t){if(I)return te(14,1,e,t)}function an(e,t,o){if(I)return te(15,1,e,t,o)}var on=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},sn,Pe=e=>{for(var t="";l()[e>>>0];)t+=sn[l()[e++>>>0]];return t},vr={},Or={},oo={},Ve;function io(e,t,o={}){var c=t.name;if(!e)throw new Ve(`type "${c}" must have a positive integer typeid pointer`);if(Or.hasOwnProperty(e)){if(o.Hb)return;throw new Ve(`Cannot register type '${c}' twice`)}Or[e]=t,delete oo[e],vr.hasOwnProperty(e)&&(t=vr[e],delete vr[e],t.forEach(g=>g()))}function He(e,t,o={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");io(e,t,o)}var un=(e,t,o)=>{switch(t){case 1:return o?c=>r()[c>>>0>>>0]:c=>l()[c>>>0>>>0];case 2:return o?c=>u()[c>>>1>>>0]:c=>m()[c>>>1>>>0];case 4:return o?c=>f()[c>>>2>>>0]:c=>p()[c>>>2>>>0];case 8:return o?c=>ge[c>>>3]:c=>ye[c>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function fn(){this.lb=[void 0],this.zb=[]}var Se=new fn;function Tr(e){e>>>=0,e>=Se.sb&&--Se.get(e).Ab===0&&Se.xb(e)}var Te=e=>{if(!e)throw new Ve("Cannot use deleted val. handle = "+e);return Se.get(e).value},Me=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Se.wb({Ab:1,value:e})}};function ln(e){return this.fromWireType(f()[e>>>2>>>0])}var so=(e,t)=>{switch(t){case 4:return function(o){var c=this.fromWireType;return X.buffer!=J.buffer&&K(),c.call(this,Ke[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(y()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function uo(e){return this.fromWireType(p()[e>>>2>>>0])}var cn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,fo=(e,t)=>{for(var o=e>>1,c=o+t/2;!(o>=c)&&m()[o>>>0];)++o;if(o<<=1,32<o-e&&cn)return cn.decode(l().slice(e,o));for(o="",c=0;!(c>=t/2);++c){var g=u()[e+2*c>>>1>>>0];if(g==0)break;o+=String.fromCharCode(g)}return o},lo=(e,t,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var c=t;o=o<2*e.length?o/2:e.length;for(var g=0;g<o;++g){var w=e.charCodeAt(g);u()[t>>>1>>>0]=w,t+=2}return u()[t>>>1>>>0]=0,t-c},co=e=>2*e.length,po=(e,t)=>{for(var o=0,c="";!(o>=t/4);){var g=f()[e+4*o>>>2>>>0];if(g==0)break;++o,65536<=g?(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023)):c+=String.fromCharCode(g)}return c},mo=(e,t,o)=>{if(t>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var c=t;o=c+o-4;for(var g=0;g<e.length;++g){var w=e.charCodeAt(g);if(55296<=w&&57343>=w){var A=e.charCodeAt(++g);w=65536+((w&1023)<<10)|A&1023}if(f()[t>>>2>>>0]=w,t+=4,t+4>o)break}return f()[t>>>2>>>0]=0,t-c},ho=e=>{for(var t=0,o=0;o<e.length;++o){var c=e.charCodeAt(o);55296<=c&&57343>=c&&++o,t+=4}return t},go=e=>{if(!me)try{if(e(),!je())try{I?Cr(ce):pt(ce)}catch(t){t instanceof ct||t=="unwind"||D(1,t)}}catch(t){t instanceof ct||t=="unwind"||D(1,t)}};function _r(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(f(),e>>>2,e).value.then(Wt),e+=128,Atomics.store(f(),e>>>2,1))}s.__emscripten_thread_mailbox_await=_r;var Wt=()=>{var e=Gt();e&&(_r(e),go(()=>Bn()))};s.checkMailbox=Wt;var yo=e=>{var t=Pr();return e=e(),Vt(t),e};function te(e,t){var o=arguments.length-2,c=arguments;return yo(()=>{for(var g=2*o,w=Ir(8*g),A=w>>>3,M=0;M<o;M++){var H=c[2+M];typeof H=="bigint"?(ge[A+2*M]=1n,ge[A+2*M+1]=H):(ge[A+2*M]=0n,y()[A+2*M+1>>>0]=H)}return Dn(e,g,w,t)})}var Er=[],Nt=(e,t)=>{var o=Or[e];if(o===void 0)throw e=xn(e),o=Pe(e),We(e),new Ve(t+" has unknown type "+o);return o},bo={},zt=e=>{var t=bo[e];return t===void 0?Pe(e):t},$t=[],dn=()=>typeof globalThis=="object"?globalThis:Function("return this")(),wo=e=>{var t=$t.length;return $t.push(e),t},vo=(e,t)=>{for(var o=Array(e),c=0;c<e;++c)o[c]=Nt(p()[t+4*c>>>2>>>0],"parameter "+c);return o},pn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},mn={};function Oo(e,t){return e=pn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function To(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var o=Oo(t.name||"unknownFunctionName",function(){});return o.prototype=t.prototype,o=new o,e=t.apply(o,e),e instanceof Object?e:o}var _o=e=>{for(var t="",o=0;o<e;++o)t+=(o!==0?", ":"")+"arg"+o;var c="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(o=0;o<e;++o)c+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+o+`');
var arg`+o+" = argType"+o+`.readValueFromPointer(args);
args += argType`+o+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",c+("var obj = new constructor("+t+`);
return valueToHandle(obj);
}
`))(Nt,s,Me,()=>p())},hn={},ht=e=>e%4===0&&(e%100!==0||e%400===0),gn=[0,31,60,91,121,152,182,213,244,274,305,335],yn=[0,31,59,90,120,151,181,212,243,273,304,334];function bn(e,t,o,c,g,w,A){return I?te(16,1,e,t,o,c,g,w,A):-52}function wn(e,t,o,c,g,w){if(I)return te(17,1,e,t,o,c,g,w)}var vn=e=>{var t=le(e)+1,o=Yt(t);return o&&mt(e,o,t),o},Ar={},On=()=>{if(!Sr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:S||"./this.program"},t;for(t in Ar)Ar[t]===void 0?delete e[t]:e[t]=Ar[t];var o=[];for(t in e)o.push(`${t}=${e[t]}`);Sr=o}return Sr},Sr;function Tn(e,t){if(I)return te(18,1,e,t);e>>>=0,t>>>=0;var o=0;return On().forEach((c,g)=>{var w=t+o;for(g=p()[e+4*g>>>2>>>0]=w,w=0;w<c.length;++w)r()[g++>>>0>>>0]=c.charCodeAt(w);r()[g>>>0>>>0]=0,o+=c.length+1}),0}function _n(e,t){if(I)return te(19,1,e,t);e>>>=0,t>>>=0;var o=On();p()[e>>>2>>>0]=o.length;var c=0;return o.forEach(g=>c+=g.length+1),p()[t>>>2>>>0]=c,0}function En(e){return I?te(20,1,e):52}function An(e,t,o,c){return I?te(21,1,e,t,o,c):52}function Sn(e,t,o,c){return I?te(22,1,e,t,o,c):70}var Eo=[null,[],[]];function Mn(e,t,o,c){if(I)return te(23,1,e,t,o,c);t>>>=0,o>>>=0,c>>>=0;for(var g=0,w=0;w<o;w++){var A=p()[t>>>2>>>0],M=p()[t+4>>>2>>>0];t+=8;for(var H=0;H<M;H++){var W=l()[A+H>>>0],ne=Eo[e];W===0||W===10?((e===1?Je:ue)(St(ne,0)),ne.length=0):ne.push(W)}g+=M}return p()[c>>>2>>>0]=g,0}var Cn=[31,29,31,30,31,30,31,31,30,31,30,31],Pn=[31,28,31,30,31,30,31,31,30,31,30,31];function Ao(e){var t=Array(le(e)+1);return Ct(e,t,0,t.length),t}var So=(e,t)=>{r().set(e,t>>>0)};function In(e,t,o,c){function g(v,Y,ae){for(v=typeof v=="number"?v.toString():v||"";v.length<Y;)v=ae[0]+v;return v}function w(v,Y){return g(v,Y,"0")}function A(v,Y){function ae(Ln){return 0>Ln?-1:0<Ln?1:0}var et;return(et=ae(v.getFullYear()-Y.getFullYear()))===0&&(et=ae(v.getMonth()-Y.getMonth()))===0&&(et=ae(v.getDate()-Y.getDate())),et}function M(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function H(v){var Y=v.ob;for(v=new Date(new Date(v.pb+1900,0,1).getTime());0<Y;){var ae=v.getMonth(),et=(ht(v.getFullYear())?Cn:Pn)[ae];if(Y>et-v.getDate())Y-=et-v.getDate()+1,v.setDate(1),11>ae?v.setMonth(ae+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+Y);break}}return ae=new Date(v.getFullYear()+1,0,4),Y=M(new Date(v.getFullYear(),0,4)),ae=M(ae),0>=A(Y,v)?0>=A(ae,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}e>>>=0,t>>>=0,o>>>=0,c>>>=0;var W=p()[c+40>>>2>>>0];c={Qb:f()[c>>>2>>>0],Pb:f()[c+4>>>2>>>0],tb:f()[c+8>>>2>>>0],yb:f()[c+12>>>2>>>0],ub:f()[c+16>>>2>>>0],pb:f()[c+20>>>2>>>0],kb:f()[c+24>>>2>>>0],ob:f()[c+28>>>2>>>0],Wb:f()[c+32>>>2>>>0],Ob:f()[c+36>>>2>>>0],Rb:W?Ze(W):""},o=Ze(o),W={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in W)o=o.replace(new RegExp(ne,"g"),W[ne]);var Ae="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ne="January February March April May June July August September October November December".split(" ");W={"%a":v=>Ae[v.kb].substring(0,3),"%A":v=>Ae[v.kb],"%b":v=>Ne[v.ub].substring(0,3),"%B":v=>Ne[v.ub],"%C":v=>w((v.pb+1900)/100|0,2),"%d":v=>w(v.yb,2),"%e":v=>g(v.yb,2," "),"%g":v=>H(v).toString().substring(2),"%G":v=>H(v),"%H":v=>w(v.tb,2),"%I":v=>(v=v.tb,v==0?v=12:12<v&&(v-=12),w(v,2)),"%j":v=>{for(var Y=0,ae=0;ae<=v.ub-1;Y+=(ht(v.pb+1900)?Cn:Pn)[ae++]);return w(v.yb+Y,3)},"%m":v=>w(v.ub+1,2),"%M":v=>w(v.Pb,2),"%n":()=>`
`,"%p":v=>0<=v.tb&&12>v.tb?"AM":"PM","%S":v=>w(v.Qb,2),"%t":()=>"	","%u":v=>v.kb||7,"%U":v=>w(Math.floor((v.ob+7-v.kb)/7),2),"%V":v=>{var Y=Math.floor((v.ob+7-(v.kb+6)%7)/7);if(2>=(v.kb+371-v.ob-2)%7&&Y++,Y)Y==53&&(ae=(v.kb+371-v.ob)%7,ae==4||ae==3&&ht(v.pb)||(Y=1));else{Y=52;var ae=(v.kb+7-v.ob-1)%7;(ae==4||ae==5&&ht(v.pb%400-1))&&Y++}return w(Y,2)},"%w":v=>v.kb,"%W":v=>w(Math.floor((v.ob+7-(v.kb+6)%7)/7),2),"%y":v=>(v.pb+1900).toString().substring(2),"%Y":v=>v.pb+1900,"%z":v=>{v=v.Ob;var Y=0<=v;return v=Math.abs(v)/60,(Y?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.Rb,"%%":()=>"%"},o=o.replace(/%%/g,"\0\0");for(ne in W)o.includes(ne)&&(o=o.replace(new RegExp(ne,"g"),W[ne](c)));return o=o.replace(/\0\0/g,"%"),ne=Ao(o),ne.length>t?0:(So(ne,e),ne.length-1)}U.vb();for(var Rn=Array(256),jt=0;256>jt;++jt)Rn[jt]=String.fromCharCode(jt);sn=Rn,Ve=s.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},s.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(fn.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),Se.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),Se.sb=Se.lb.length,s.count_emval_handles=()=>{for(var e=0,t=Se.sb;t<Se.lb.length;++t)Se.lb[t]!==void 0&&++e;return e};var Mo=[Mt,i,z,be,de,T,V,Z,Be,Pt,Qr,en,tn,rn,nn,an,bn,wn,Tn,_n,En,An,Sn,Mn],Co={b:function(e,t,o){throw e>>>=0,new O(e).vb(t>>>0,o>>>0),C=e,x++,C},ea:function(e){Fn(e>>>0,!L,1,!P,131072,!1),U.Db()},E:function(e){e>>>=0,I?postMessage({cmd:"cleanupThread",thread:e}):((e=U.jb[e])||Le(),U.Bb(e))},W:fe,y:be,ka:de,S:T,U:V,L:Z,ia:Be,ba:Pt,ha:Qr,G:en,T:tn,Q:rn,ja:nn,R:an,J:function(e,t,o,c,g){e>>>=0,t>>>=0,o>>>=0,t=Pe(t);var w=t.indexOf("u")!=-1;w&&(g=(1n<<64n)-1n),He(e,{name:t,fromWireType:A=>A,toWireType:function(A,M){if(typeof M!="bigint"&&typeof M!="number")throw new TypeError(`Cannot convert "${on(M)}" to ${this.name}`);if(M<c||M>g)throw new TypeError(`Passing a number "${on(M)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${c}, ${g}]!`);return M},argPackAdvance:8,readValueFromPointer:un(t,o,!w),rb:null})},qa:function(e,t,o,c){e>>>=0,t=Pe(t>>>0),He(e,{name:t,fromWireType:function(g){return!!g},toWireType:function(g,w){return w?o:c},argPackAdvance:8,readValueFromPointer:function(g){return this.fromWireType(l()[g>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=Pe(t>>>0),He(e,{name:t,fromWireType:o=>{var c=Te(o);return Tr(o),c},toWireType:(o,c)=>Me(c),argPackAdvance:8,readValueFromPointer:ln,rb:null})},I:function(e,t,o){e>>>=0,o>>>=0,t=Pe(t>>>0),He(e,{name:t,fromWireType:c=>c,toWireType:(c,g)=>g,argPackAdvance:8,readValueFromPointer:so(t,o),rb:null})},u:function(e,t,o,c,g){if(e>>>=0,o>>>=0,t=Pe(t>>>0),g===-1&&(g=4294967295),g=M=>M,c===0){var w=32-8*o;g=M=>M<<w>>>w}var A=t.includes("unsigned")?function(M,H){return H>>>0}:function(M,H){return H};He(e,{name:t,fromWireType:g,toWireType:A,argPackAdvance:8,readValueFromPointer:un(t,o,c!==0),rb:null})},m:function(e,t,o){function c(w){var A=p()[w>>>2>>>0];return w=p()[w+4>>>2>>>0],new g(r().buffer,w,A)}e>>>=0;var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];o=Pe(o>>>0),He(e,{name:o,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{Hb:!0})},K:function(e,t){e>>>=0,t=Pe(t>>>0);var o=t==="std::string";He(e,{name:t,fromWireType:function(c){var g=p()[c>>>2>>>0],w=c+4;if(o)for(var A=w,M=0;M<=g;++M){var H=w+M;if(M==g||l()[H>>>0]==0){if(A=Ze(A,H-A),W===void 0)var W=A;else W+=String.fromCharCode(0),W+=A;A=H+1}}else{for(W=Array(g),M=0;M<g;++M)W[M]=String.fromCharCode(l()[w+M>>>0]);W=W.join("")}return We(c),W},toWireType:function(c,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var w=typeof g=="string";if(!(w||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array))throw new Ve("Cannot pass non-string to std::string");var A=o&&w?le(g):g.length,M=Yt(4+A+1),H=M+4;if(p()[M>>>2>>>0]=A,o&&w)mt(g,H,A+1);else if(w)for(w=0;w<A;++w){var W=g.charCodeAt(w);if(255<W)throw We(H),new Ve("String has UTF-16 code units that do not fit in 8 bits");l()[H+w>>>0]=W}else for(w=0;w<A;++w)l()[H+w>>>0]=g[w];return c!==null&&c.push(We,M),M},argPackAdvance:8,readValueFromPointer:uo,rb(c){We(c)}})},A:function(e,t,o){if(e>>>=0,t>>>=0,o>>>=0,o=Pe(o),t===2)var c=fo,g=lo,w=co,A=()=>m(),M=1;else t===4&&(c=po,g=mo,w=ho,A=()=>p(),M=2);He(e,{name:o,fromWireType:H=>{for(var W=p()[H>>>2>>>0],ne=A(),Ae,Ne=H+4,v=0;v<=W;++v){var Y=H+4+v*t;(v==W||ne[Y>>>M]==0)&&(Ne=c(Ne,Y-Ne),Ae===void 0?Ae=Ne:(Ae+=String.fromCharCode(0),Ae+=Ne),Ne=Y+t)}return We(H),Ae},toWireType:(H,W)=>{if(typeof W!="string")throw new Ve(`Cannot pass non-string to C++ string type ${o}`);var ne=w(W),Ae=Yt(4+ne+t);return p()[Ae>>>2]=ne>>M,g(W,Ae+4,ne+t),H!==null&&H.push(We,Ae),Ae},argPackAdvance:8,readValueFromPointer:ln,rb(H){We(H)}})},ra:function(e,t){e>>>=0,t=Pe(t>>>0),He(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>Wt()):I?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=U.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,t,o,c){t>>>=0,o/=2,Er.length=o,c=c>>>0>>>3;for(var g=0;g<o;g++)Er[g]=ge[c+2*g]?ge[c+2*g+1]:y()[c+2*g+1>>>0];return e=Mo[e],U.Gb=t,t=e.apply(null,Er),U.Gb=0,t},da:_r,ma:function(e){F&&U.jb[e>>>0].ref()},r:function(e,t,o){t>>>=0,o>>>=0,e=Te(e>>>0),t=Nt(t,"emval::as");var c=[],g=Me(c);return p()[o>>>2>>>0]=g,t.toWireType(c,e)},i:function(e,t,o,c,g){o>>>=0,c>>>=0,g>>>=0,e=$t[e>>>0],t=Te(t>>>0),o=zt(o);var w=[];return p()[c>>>2>>>0]=Me(w),e(t,o,w,g)},s:function(e,t,o,c){o>>>=0,c>>>=0,e=$t[e>>>0],t=Te(t>>>0),o=zt(o),e(t,o,null,c)},c:Tr,B:function(e,t){return t>>>=0,e=Te(e>>>0),t=Te(t),e==t},o:function(e){return e>>>=0,e===0?Me(dn()):(e=zt(e),Me(dn()[e]))},g:function(e,t){var o=vo(e,t>>>0),c=o[0];t=c.name+"_$"+o.slice(1).map(function(ne){return ne.name}).join("_")+"$";var g=mn[t];if(g!==void 0)return g;g=["retType"];for(var w=[c],A="",M=0;M<e-1;++M)A+=(M!==0?", ":"")+"arg"+M,g.push("argType"+M),w.push(o[1+M]);var H="return function "+pn("methodCaller_"+t)+`(handle, name, destructors, args) {
`,W=0;for(M=0;M<e-1;++M)H+="    var arg"+M+" = argType"+M+".readValueFromPointer(args"+(W?"+"+W:"")+`);
`,W+=o[M+1].argPackAdvance;for(H+="    var rv = handle[name]("+A+`);
`,M=0;M<e-1;++M)o[M+1].deleteObject&&(H+="    argType"+M+".deleteObject(arg"+M+`);
`);return c.Ib||(H+=`    return retType.toWireType(destructors, rv);
`),g.push(H+`};
`),e=To(g).apply(null,w),g=wo(e),mn[t]=g},q:function(e,t){return t>>>=0,e=Te(e>>>0),t=Te(t),Me(e[t])},d:function(e){e>>>=0,4<e&&(Se.get(e).Ab+=1)},x:function(e,t,o,c){o>>>=0,c>>>=0,e=Te(e>>>0);var g=hn[t];return g||(g=_o(t),hn[t]=g),g(e,o,c)},v:function(){return Me([])},l:function(e){e=Te(e>>>0);for(var t=Array(e.length),o=0;o<e.length;o++)t[o]=e[o];return Me(t)},e:function(e){return Me(zt(e>>>0))},k:function(){return Me({})},f:function(e){e>>>=0;for(var t=Te(e);t.length;){var o=t.pop();t.pop()(o)}Tr(e)},j:function(e,t,o){t>>>=0,o>>>=0,e=Te(e>>>0),t=Te(t),o=Te(o),e[t]=o},h:function(e,t){return t>>>=0,e=Nt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Me(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),f()[t>>>2>>>0]=e.getUTCSeconds(),f()[t+4>>>2>>>0]=e.getUTCMinutes(),f()[t+8>>>2>>>0]=e.getUTCHours(),f()[t+12>>>2>>>0]=e.getUTCDate(),f()[t+16>>>2>>>0]=e.getUTCMonth(),f()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),f()[t>>>2>>>0]=e.getSeconds(),f()[t+4>>>2>>>0]=e.getMinutes(),f()[t+8>>>2>>>0]=e.getHours(),f()[t+12>>>2>>>0]=e.getDate(),f()[t+16>>>2>>>0]=e.getMonth(),f()[t+20>>>2>>>0]=e.getFullYear()-1900,f()[t+24>>>2>>>0]=e.getDay();var o=(ht(e.getFullYear())?gn:yn)[e.getMonth()]+e.getDate()-1|0;f()[t+28>>>2>>>0]=o,f()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var c=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=c&&e.getTimezoneOffset()==Math.min(c,o))|0,f()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),o=f()[e+32>>>2>>>0],c=t.getTimezoneOffset(),g=new Date(t.getFullYear(),6,1).getTimezoneOffset(),w=new Date(t.getFullYear(),0,1).getTimezoneOffset(),A=Math.min(w,g);return 0>o?f()[e+32>>>2>>>0]=+(g!=w&&A==c):0<o!=(A==c)&&(g=Math.max(w,g),t.setTime(t.getTime()+6e4*((0<o?A:g)-c))),f()[e+24>>>2>>>0]=t.getDay(),o=(ht(t.getFullYear())?gn:yn)[t.getMonth()]+t.getDate()-1|0,f()[e+28>>>2>>>0]=o,f()[e>>>2>>>0]=t.getSeconds(),f()[e+4>>>2>>>0]=t.getMinutes(),f()[e+8>>>2>>>0]=t.getHours(),f()[e+12>>>2>>>0]=t.getDate(),f()[e+16>>>2>>>0]=t.getMonth(),f()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:bn,Z:wn,N:function(e,t,o){function c(W){return(W=W.toTimeString().match(/\(([A-Za-z ]+)\)$/))?W[1]:"GMT"}e>>>=0,t>>>=0,o>>>=0;var g=new Date().getFullYear(),w=new Date(g,0,1),A=new Date(g,6,1);g=w.getTimezoneOffset();var M=A.getTimezoneOffset(),H=Math.max(g,M);p()[e>>>2>>>0]=60*H,f()[t>>>2>>>0]=+(g!=M),e=c(w),t=c(A),e=vn(e),t=vn(t),M<g?(p()[o>>>2>>>0]=e,p()[o+4>>>2>>>0]=t):(p()[o>>>2>>>0]=t,p()[o+4>>>2>>>0]=e)},n:()=>{Le("")},F:()=>{},H:()=>Date.now(),la:()=>{throw ut+=1,"unwind"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>F?(wa(),tt(ba)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=l().length;if(e<=t||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var c=t*(1+.2/o);c=Math.min(c,e+100663296);var g=Math;c=Math.max(e,c);e:{g=(g.min.call(g,4294901760,c+(65536-c%65536)%65536)-X.buffer.byteLength+65535)/65536;try{X.grow(g),K();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},fa:Tn,ga:_n,V:pt,z:En,D:An,ca:Sn,C:Mn,a:X||s.wasmMemory,oa:In,p:function(e,t,o,c){return In(e>>>0,t>>>0,o>>>0,c>>>0)}},k=function(){var e={a:Co};return Fe++,Lt(e,function(t){var o=t.module;k=t.instance.exports,k=Po(),U.Eb.push(k.Xa),h=k._a,ke.unshift(k.sa),Ee=o,_t()}).catch(_),{}}();s._OrtInit=(e,t)=>(s._OrtInit=k.ta)(e,t),s._OrtGetLastError=(e,t)=>(s._OrtGetLastError=k.ua)(e,t),s._OrtCreateSessionOptions=(e,t,o,c,g,w,A,M,H,W)=>(s._OrtCreateSessionOptions=k.va)(e,t,o,c,g,w,A,M,H,W),s._OrtAppendExecutionProvider=(e,t)=>(s._OrtAppendExecutionProvider=k.wa)(e,t),s._OrtAddFreeDimensionOverride=(e,t,o)=>(s._OrtAddFreeDimensionOverride=k.xa)(e,t,o),s._OrtAddSessionConfigEntry=(e,t,o)=>(s._OrtAddSessionConfigEntry=k.ya)(e,t,o),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=k.za)(e),s._OrtCreateSession=(e,t,o)=>(s._OrtCreateSession=k.Aa)(e,t,o),s._OrtReleaseSession=e=>(s._OrtReleaseSession=k.Ba)(e),s._OrtGetInputOutputCount=(e,t,o)=>(s._OrtGetInputOutputCount=k.Ca)(e,t,o),s._OrtGetInputName=(e,t)=>(s._OrtGetInputName=k.Da)(e,t),s._OrtGetOutputName=(e,t)=>(s._OrtGetOutputName=k.Ea)(e,t),s._OrtFree=e=>(s._OrtFree=k.Fa)(e),s._OrtCreateTensor=(e,t,o,c,g,w)=>(s._OrtCreateTensor=k.Ga)(e,t,o,c,g,w),s._OrtGetTensorData=(e,t,o,c,g)=>(s._OrtGetTensorData=k.Ha)(e,t,o,c,g),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=k.Ia)(e),s._OrtCreateRunOptions=(e,t,o,c)=>(s._OrtCreateRunOptions=k.Ja)(e,t,o,c),s._OrtAddRunConfigEntry=(e,t,o)=>(s._OrtAddRunConfigEntry=k.Ka)(e,t,o),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=k.La)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=k.Ma)(e),s._OrtBindInput=(e,t,o)=>(s._OrtBindInput=k.Na)(e,t,o),s._OrtBindOutput=(e,t,o,c)=>(s._OrtBindOutput=k.Oa)(e,t,o,c),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=k.Pa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=k.Qa)(e),s._OrtRunWithBinding=(e,t,o,c,g)=>(s._OrtRunWithBinding=k.Ra)(e,t,o,c,g),s._OrtRun=(e,t,o,c,g,w,A,M)=>(s._OrtRun=k.Sa)(e,t,o,c,g,w,A,M),s._OrtEndProfiling=e=>(s._OrtEndProfiling=k.Ta)(e);var Gt=s._pthread_self=()=>(Gt=s._pthread_self=k.Ua)(),Yt=s._malloc=e=>(Yt=s._malloc=k.Va)(e),We=s._free=e=>(We=s._free=k.Wa)(e);s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=k.Xa)();var xn=e=>(xn=k.Ya)(e);s.__embind_initialize_bindings=()=>(s.__embind_initialize_bindings=k.Za)();var Fn=s.__emscripten_thread_init=(e,t,o,c,g,w)=>(Fn=s.__emscripten_thread_init=k.$a)(e,t,o,c,g,w);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=k.ab)();var Dn=(e,t,o,c)=>(Dn=k.bb)(e,t,o,c),Mr=e=>(Mr=k.cb)(e),Cr=s.__emscripten_thread_exit=e=>(Cr=s.__emscripten_thread_exit=k.db)(e),Bn=s.__emscripten_check_mailbox=()=>(Bn=s.__emscripten_check_mailbox=k.eb)(),Un=(e,t)=>(Un=k.fb)(e,t),Pr=()=>(Pr=k.gb)(),Vt=e=>(Vt=k.hb)(e),Ir=e=>(Ir=k.ib)(e);function Po(){var e=k;e=Object.assign({},e);var t=c=>()=>c()>>>0,o=c=>g=>c(g)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=o(e.Va),e.Ya=o(e.Ya),e.gb=t(e.gb),e.ib=o(e.ib),e}s.keepRuntimeAlive=je,s.wasmMemory=X,s.stackAlloc=Ir,s.stackSave=Pr,s.stackRestore=Vt,s.UTF8ToString=Ze,s.stringToUTF8=mt,s.lengthBytesUTF8=le,s.ExitStatus=ct,s.PThread=U;var qt;Ge=function e(){qt||kn(),qt||(Ge=e)};function kn(){0<Fe||(I?(b(s),I||Qe(ke),startWorker(s)):(Qe($e),0<Fe||qt||(qt=!0,s.calledRun=!0,me||(I||Qe(ke),b(s),I||Qe(st)))))}return kn(),n.ready}})();typeof Oa=="object"&&typeof Wr=="object"?Wr.exports=va:typeof define=="function"&&define.amd&&define([],()=>va)});var _a=gt((qi,Lo)=>{Lo.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Aa,Ho,Nr,zr,nr,Ea,Wo,No,zo,Sa,$,at=G(()=>{"use strict";Aa=ha();Ho=Ta(),zr=!1,nr=!1,Ea=!1,Wo=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},No=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},zo=(a,n)=>a?"ort-training-wasm-simd.wasm":n?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sa=async a=>{if(zr)return Promise.resolve();if(nr)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Ea)throw new Error("previous call to 'initializeWebAssembly()' failed.");nr=!0;let n=a.initTimeout,r=a.numThreads,l=a.simd,u=r>1&&Wo(),m=l&&No(),f=a.wasmPaths,p=typeof f=="string"?f:void 0,y=zo(m,u),s=typeof f=="object"?f[y]:void 0,b=!1,_=[];if(n>0&&_.push(new Promise(E=>{setTimeout(()=>{b=!0,E()},n)})),_.push(new Promise((E,S)=>{let D=u?Ho:Aa,P={locateFile:(L,F)=>u&&L.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([_a()],{type:"text/javascript"})):L.endsWith(".wasm")?s||(p??F)+y:F+L};if(u)if(typeof Blob>"u")P.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let L=`var ortWasmThreaded=${D.toString()};`;P.mainScriptUrlOrBlob=new Blob([L],{type:"text/javascript"})}D(P).then(L=>{nr=!1,zr=!0,Nr=L,E()},L=>{nr=!1,Ea=!0,S(L)})})),await Promise.race(_),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},$=()=>{if(zr&&Nr)return Nr;throw new Error("WebAssembly is not initialized yet.")}});var ie,Rt,ee,xt=G(()=>{"use strict";at();ie=(a,n)=>{let r=$(),l=r.lengthBytesUTF8(a)+1,u=r._malloc(l);return r.stringToUTF8(a,u,l),n.push(u),u},Rt=(a,n,r,l)=>{if(typeof a=="object"&&a!==null){if(r.has(a))throw new Error("Circular reference in options");r.add(a)}Object.entries(a).forEach(([u,m])=>{let f=n?n+u:u;if(typeof m=="object")Rt(m,f+".",r,l);else if(typeof m=="string"||typeof m=="number")l(f,m.toString());else if(typeof m=="boolean")l(f,m?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof m}`)})},ee=a=>{let n=$(),r=n.stackSave();try{let l=n.stackAlloc(8);n._OrtGetLastError(l,l+4);let u=n.HEAP32[l/4],m=n.HEAPU32[l/4+1],f=m?n.UTF8ToString(m):"";throw new Error(`${a} ERROR_CODE: ${u}, ERROR_MESSAGE: ${f}`)}finally{n.stackRestore(r)}}});var wt,$r=G(()=>{"use strict";at();xt();wt=a=>{let n=$(),r=0,l=[],u=a||{};try{if(a?.logSeverityLevel===void 0)u.logSeverityLevel=2;else if(typeof a.logSeverityLevel!="number"||!Number.isInteger(a.logSeverityLevel)||a.logSeverityLevel<0||a.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${a.logSeverityLevel}`);if(a?.logVerbosityLevel===void 0)u.logVerbosityLevel=0;else if(typeof a.logVerbosityLevel!="number"||!Number.isInteger(a.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${a.logVerbosityLevel}`);a?.terminate===void 0&&(u.terminate=!1);let m=0;return a?.tag!==void 0&&(m=ie(a.tag,l)),r=n._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,m),r===0&&ee("Can't create run options."),a?.extra!==void 0&&Rt(a.extra,"",new WeakSet,(f,p)=>{let y=ie(f,l),s=ie(p,l);n._OrtAddRunConfigEntry(r,y,s)!==0&&ee(`Can't set a run config entry: ${f} - ${p}.`)}),[r,l]}catch(m){throw r!==0&&n._OrtReleaseRunOptions(r),l.forEach(f=>n._free(f)),m}}});var $o,jo,Go,Yo,ar,jr=G(()=>{"use strict";at();xt();$o=a=>{switch(a){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${a}`)}},jo=a=>{switch(a){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${a}`)}},Go=a=>{a.extra||(a.extra={}),a.extra.session||(a.extra.session={});let n=a.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),a.executionProviders&&a.executionProviders.some(r=>(typeof r=="string"?r:r.name)==="webgpu")&&(a.enableMemPattern=!1)},Yo=(a,n,r)=>{for(let l of n){let u=typeof l=="string"?l:l.name;switch(u){case"xnnpack":u="XNNPACK";break;case"webnn":if(u="WEBNN",typeof l!="string"){let f=l;if(f?.deviceType){let p=ie("deviceType",r),y=ie(f.deviceType,r);$()._OrtAddSessionConfigEntry(a,p,y)!==0&&ee(`Can't set a session config entry: 'deviceType' - ${f.deviceType}.`)}if(f?.numThreads){let p=f.numThreads;(typeof p!="number"||!Number.isInteger(p)||p<0)&&(p=0);let y=ie("numThreads",r),s=ie(p.toString(),r);$()._OrtAddSessionConfigEntry(a,y,s)!==0&&ee(`Can't set a session config entry: 'numThreads' - ${f.numThreads}.`)}if(f?.powerPreference){let p=ie("powerPreference",r),y=ie(f.powerPreference,r);$()._OrtAddSessionConfigEntry(a,p,y)!==0&&ee(`Can't set a session config entry: 'powerPreference' - ${f.powerPreference}.`)}}break;case"webgpu":if(u="JS",typeof l!="string"){let f=l;if(f?.preferredLayout){if(f.preferredLayout!=="NCHW"&&f.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${f.preferredLayout}`);let p=ie("preferredLayout",r),y=ie(f.preferredLayout,r);$()._OrtAddSessionConfigEntry(a,p,y)!==0&&ee(`Can't set a session config entry: 'preferredLayout' - ${f.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${u}`)}let m=ie(u,r);$()._OrtAppendExecutionProvider(a,m)!==0&&ee(`Can't append execution provider: ${u}.`)}},ar=a=>{let n=$(),r=0,l=[],u=a||{};Go(u);try{let m=$o(u.graphOptimizationLevel??"all"),f=jo(u.executionMode??"sequential"),p=typeof u.logId=="string"?ie(u.logId,l):0,y=u.logSeverityLevel??2;if(!Number.isInteger(y)||y<0||y>4)throw new Error(`log serverity level is not valid: ${y}`);let s=u.logVerbosityLevel??0;if(!Number.isInteger(s)||s<0||s>4)throw new Error(`log verbosity level is not valid: ${s}`);let b=typeof u.optimizedModelFilePath=="string"?ie(u.optimizedModelFilePath,l):0;if(r=n._OrtCreateSessionOptions(m,!!u.enableCpuMemArena,!!u.enableMemPattern,f,!!u.enableProfiling,0,p,y,s,b),r===0&&ee("Can't create session options."),u.executionProviders&&Yo(r,u.executionProviders,l),u.freeDimensionOverrides)for(let[_,E]of Object.entries(u.freeDimensionOverrides)){if(typeof _!="string")throw new Error(`free dimension override name must be a string: ${_}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let S=ie(_,l);n._OrtAddFreeDimensionOverride(r,S,E)!==0&&ee(`Can't set a free dimension override: ${_} - ${E}.`)}return u.extra!==void 0&&Rt(u.extra,"",new WeakSet,(_,E)=>{let S=ie(_,l),D=ie(E,l);n._OrtAddSessionConfigEntry(r,S,D)!==0&&ee(`Can't set a session config entry: ${_} - ${E}.`)}),[r,l]}catch(m){throw r!==0&&n._OrtReleaseSessionOptions(r),l.forEach(f=>n._free(f)),m}}});var vt,or,Gr,Ft,Ma,ir,Dt,sr=G(()=>{"use strict";vt=a=>{switch(a){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${a}`)}},or=a=>{switch(a){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${a}`)}},Gr=a=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][a],Ft=a=>{switch(a){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${a}`)}},Ma=a=>{switch(a){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${a}`)}},ir=a=>a==="float32"||a==="int32"||a==="int64"||a==="bool"||a==="float16"||a==="uint32",Dt=a=>{switch(a){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${a}`)}}});var Vo,Ca,Pa,Bt,qo,Ut,Ia,Ra,ur,xa,Fa,Da,fr=G(()=>{"use strict";$r();jr();sr();at();xt();Vo=(a,n)=>{$()._OrtInit(a,n)!==0&&ee("Can't initialize onnxruntime.")},Ca=async a=>{Vo(a.wasm.numThreads,Ma(a.logLevel))},Pa=async(a,n)=>{},Bt=new Map,qo=a=>{let n=$(),r=n.stackSave();try{let l=n.stackAlloc(8);return n._OrtGetInputOutputCount(a,l,l+4)!==0&&ee("Can't get session input/output count."),[n.HEAP32[l/4],n.HEAP32[l/4+1]]}finally{n.stackRestore(r)}},Ut=a=>{let n=$(),r=n._malloc(a.byteLength);if(r===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${a.byteLength}.`);return n.HEAPU8.set(a,r),[r,a.byteLength]},Ia=(a,n)=>{let r,l,u=$();Array.isArray(a)?[r,l]=a:a.buffer===u.HEAPU8.buffer?[r,l]=[a.byteOffset,a.byteLength]:[r,l]=Ut(a);let m=0,f=0,p=0,y=[],s=[],b=[];try{[f,y]=ar(n),m=u._OrtCreateSession(r,l,f),m===0&&ee("Can't create a session.");let[_,E]=qo(m),S=[],D=[],P=[];for(let F=0;F<_;F++){let I=u._OrtGetInputName(m,F);I===0&&ee("Can't get an input name."),s.push(I),S.push(u.UTF8ToString(I))}for(let F=0;F<E;F++){let I=u._OrtGetOutputName(m,F);I===0&&ee("Can't get an output name."),b.push(I);let N=u.UTF8ToString(I);D.push(N)}let L=null;return Bt.set(m,[m,s,b,L]),[m,S,D]}catch(_){throw s.forEach(E=>u._OrtFree(E)),b.forEach(E=>u._OrtFree(E)),p!==0&&u._OrtReleaseBinding(p),m!==0&&u._OrtReleaseSession(m),_}finally{u._free(r),f!==0&&u._OrtReleaseSessionOptions(f),y.forEach(_=>u._free(_))}},Ra=a=>{let n=$(),r=Bt.get(a);if(!r)throw new Error(`cannot release session. invalid session id: ${a}`);let[l,u,m,f]=r;f&&n._OrtReleaseBinding(f.handle),n.jsepUnregisterBuffers?.(a),u.forEach(p=>n._OrtFree(p)),m.forEach(p=>n._OrtFree(p)),n._OrtReleaseSession(l),Bt.delete(a)},ur=(a,n,r,l,u)=>{if(!a){n.push(0);return}let m=$(),f=a[0],p=a[1],y=a[3],s,b;if(f==="string"&&y==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(y==="gpu-buffer"){let S=a[2].gpuBuffer,D=Gr(vt(f));b=p.reduce((P,L)=>P*L,1)*D,s=m.jsepRegisterBuffer(l,u,S,b)}else{let S=a[2];if(Array.isArray(S)){b=4*S.length,s=m._malloc(b),r.push(s);let D=s/4;for(let P=0;P<S.length;P++){if(typeof S[P]!="string")throw new TypeError(`tensor data at index ${P} is not a string`);m.HEAPU32[D++]=ie(S[P],r)}}else b=S.byteLength,s=m._malloc(b),r.push(s),m.HEAPU8.set(new Uint8Array(S.buffer,S.byteOffset,b),s)}let _=m.stackSave(),E=m.stackAlloc(4*p.length);try{let S=E/4;p.forEach(P=>m.HEAP32[S++]=P);let D=m._OrtCreateTensor(vt(f),s,b,E,p.length,Dt(y));D===0&&ee(`Can't create tensor for input/output. session=${l}, index=${u}.`),n.push(D)}finally{m.stackRestore(_)}},xa=async(a,n,r,l,u,m)=>{let f=$(),p=Bt.get(a);if(!p)throw new Error(`cannot run inference. invalid session id: ${a}`);let[y,s,b,_]=p,E=n.length,S=l.length,D=0,P=[],L=[],F=[],I=[],N=f.stackSave(),q=f.stackAlloc(E*4),R=f.stackAlloc(E*4),ve=f.stackAlloc(S*4),Oe=f.stackAlloc(S*4);try{[D,P]=wt(m);for(let j=0;j<E;j++)ur(r[j],L,I,a,n[j]);for(let j=0;j<S;j++)ur(u[j],F,I,a,E+l[j]);let re=q/4,B=R/4,se=ve/4,qe=Oe/4;for(let j=0;j<E;j++)f.HEAPU32[re++]=L[j],f.HEAPU32[B++]=s[n[j]];for(let j=0;j<S;j++)f.HEAPU32[se++]=F[j],f.HEAPU32[qe++]=b[l[j]];let Je;Je=await f._OrtRun(y,R,q,E,Oe,S,ve,D),Je!==0&&ee("failed to call OrtRun().");let ue=[];for(let j=0;j<S;j++){let X=f.HEAPU32[ve/4+j];if(X===F[j]){ue.push(u[j]);continue}let Ee=f.stackSave(),me=f.stackAlloc(4*4),ce=!1,J,he=0;try{f._OrtGetTensorData(X,me,me+4,me+8,me+12)!==0&&ee(`Can't access output tensor data on index ${j}.`);let xe=me/4,ze=f.HEAPU32[xe++];he=f.HEAPU32[xe++];let Xe=f.HEAPU32[xe++],Ke=f.HEAPU32[xe++],ge=[];for(let K=0;K<Ke;K++)ge.push(f.HEAPU32[Xe/4+K]);f._OrtFree(Xe);let ye=ge.reduce((K,oe)=>K*oe,1);J=or(ze);let Ue=_?.outputPreferredLocations[l[j]];if(J==="string"){if(Ue==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],oe=he/4;for(let $e=0;$e<ye;$e++){let ke=f.HEAPU32[oe++],st=$e===ye-1?void 0:f.HEAPU32[oe]-ke;K.push(f.UTF8ToString(ke,st))}ue.push([J,ge,K,"cpu"])}else if(Ue==="gpu-buffer"&&ye>0){let K=f.jsepGetBuffer(he),oe=Gr(ze);if(oe===void 0||!ir(J))throw new Error(`Unsupported data type: ${J}`);ce=!0,ue.push([J,ge,{gpuBuffer:K,download:f.jsepCreateDownloader(K,ye*oe,J),dispose:()=>{f._OrtReleaseTensor(X)}},"gpu-buffer"])}else{let K=Ft(J),oe=new K(ye);new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength).set(f.HEAPU8.subarray(he,he+oe.byteLength)),ue.push([J,ge,oe,"cpu"])}}finally{f.stackRestore(Ee),J==="string"&&he&&f._free(he),ce||f._OrtReleaseTensor(X)}}return _&&f._OrtClearBoundOutputs(_.handle),ue}finally{f.stackRestore(N),L.forEach(re=>f._OrtReleaseTensor(re)),F.forEach(re=>f._OrtReleaseTensor(re)),I.forEach(re=>f._free(re)),D!==0&&f._OrtReleaseRunOptions(D),P.forEach(re=>f._free(re))}},Fa=a=>{let n=$(),r=Bt.get(a);if(!r)throw new Error("invalid session id");let l=r[0],u=n._OrtEndProfiling(l);u===0&&ee("Can't get an profile file name."),n._OrtFree(u)},Da=a=>{let n=[];for(let r of a){let l=r[2];!Array.isArray(l)&&"buffer"in l&&n.push(l.buffer)}return n}});var Ba=gt((cs,Xo)=>{Xo.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Wt=Object.defineProperty;var kn=Object.getOwnPropertyDescriptor;var Wn=Object.getOwnPropertyNames;var Hn=Object.prototype.hasOwnProperty;var Ht=(f,h)=>()=>(f&&(h=f(f=0)),h);var lt=(f,h)=>()=>(h||f((h={exports:{}}).exports,h),h.exports),Nt=(f,h)=>{for(var o in h)Wt(f,o,{get:h[o],enumerable:!0})},Nn=(f,h,o,y)=>{if(h&&typeof h=="object"||typeof h=="function")for(let v of Wn(h))!Hn.call(f,v)&&v!==o&&Wt(f,v,{get:()=>h[v],enumerable:!(y=kn(h,v))||y.enumerable});return f};var ct=f=>Nn(Wt({},"__esModule",{value:!0}),f);var jt={};Nt(jt,{readFile:()=>jn});var jn,zt=Ht(()=>{jn=void 0});var $t={};Nt($t,{join:()=>zn});var zn,Gt=Ht(()=>{zn=void 0});var Hr=lt((Wr,Yt)=>{"use strict";var kr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(h={}){var o=h,y,v;o.ready=new Promise((n,i)=>{y=n,v=i});var T=Object.assign({},o),c="./this.program",_=typeof window=="object",P=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",W,U,B;if(l){var j=(zt(),ct(jt)),V=(Gt(),ct($t));x=P?V.dirname(x)+"/":__dirname+"/",W=(n,i)=>(n=n.startsWith("file://")?new URL(n):V.normalize(n),j.readFileSync(n,i?void 0:"utf8")),B=n=>(n=W(n,!0),n.buffer||(n=new Uint8Array(n)),n),U=(n,i,s,m=!0)=>{n=n.startsWith("file://")?new URL(n):V.normalize(n),j.readFile(n,m?void 0:"utf8",(w,S)=>{w?s(w):i(m?S.buffer:S)})},!o.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(_||P)&&(P?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),f&&(x=f),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",W=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.send(null),i.responseText},P&&(B=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),U=(n,i,s)=>{var m=new XMLHttpRequest;m.open("GET",n,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?i(m.response):s()},m.onerror=s,m.send(null)});var $=o.print||console.log.bind(console),L=o.printErr||console.error.bind(console);Object.assign(o,T),T=null,o.thisProgram&&(c=o.thisProgram);var A;o.wasmBinary&&(A=o.wasmBinary);var se=o.noExitRuntime||!0;typeof WebAssembly!="object"&&z("no native wasm support detected");var we,E,_e=!1,ve,X,M,ne;function Ne(){var n=we.buffer;o.HEAP8=ve=new Int8Array(n),o.HEAP16=new Int16Array(n),o.HEAP32=M=new Int32Array(n),o.HEAPU8=X=new Uint8Array(n),o.HEAPU16=new Uint16Array(n),o.HEAPU32=ne=new Uint32Array(n),o.HEAPF32=new Float32Array(n),o.HEAPF64=new Float64Array(n)}var je=[],oe=[],k=[];function G(){var n=o.preRun.shift();je.unshift(n)}var he=0,le=null,ue=null;function z(n){throw o.onAbort&&o.onAbort(n),n="Aborted("+n+")",L(n),_e=!0,n=new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info."),v(n),n}function ce(n){return n.startsWith("data:application/octet-stream;base64,")}var Ee;if(Ee="ort-training-wasm-simd.wasm",!ce(Ee)){var Se=Ee;Ee=o.locateFile?o.locateFile(Se,x):x+Se}function xe(n){if(n==Ee&&A)return new Uint8Array(A);if(B)return B(n);throw"both async and sync fetching of the wasm failed"}function ze(n){if(!A&&(_||P)){if(typeof fetch=="function"&&!n.startsWith("file://"))return fetch(n,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at \'"+n+"\'";return i.arrayBuffer()}).catch(()=>xe(n));if(U)return new Promise((i,s)=>{U(n,m=>i(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>xe(n))}function $e(n,i,s){return ze(n).then(m=>WebAssembly.instantiate(m,i)).then(m=>m).then(s,m=>{L("failed to asynchronously prepare wasm: "+m),z(m)})}function de(n,i){var s=Ee;return A||typeof WebAssembly.instantiateStreaming!="function"||ce(s)||s.startsWith("file://")||l||typeof fetch!="function"?$e(s,n,i):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,n).then(i,function(w){return L("wasm streaming compile failed: "+w),L("falling back to ArrayBuffer instantiation"),$e(s,n,i)}))}var pe,Fe=n=>{for(;0<n.length;)n.shift()(o)};function Y(n){this.Ja=n-24,this.Na=function(i){ne[this.Ja+4>>2>>>0]=i},this.Ma=function(i){ne[this.Ja+8>>2>>>0]=i},this.Ka=function(i,s){this.La(),this.Na(i),this.Ma(s)},this.La=function(){ne[this.Ja+16>>2>>>0]=0}}var ee=0,Be=0,Pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qe=(n,i,s)=>{i>>>=0;var m=i+s;for(s=i;n[s]&&!(s>=m);)++s;if(16<s-i&&n.buffer&&Pe)return Pe.decode(n.subarray(i,s));for(m="";i<s;){var w=n[i++];if(w&128){var S=n[i++]&63;if((w&224)==192)m+=String.fromCharCode((w&31)<<6|S);else{var R=n[i++]&63;w=(w&240)==224?(w&15)<<12|S<<6|R:(w&7)<<18|S<<12|R<<6|n[i++]&63,65536>w?m+=String.fromCharCode(w):(w-=65536,m+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else m+=String.fromCharCode(w)}return m},Je=(n,i)=>(n>>>=0)?qe(X,n,i):"",Le=n=>{for(var i=0,s=0;s<n.length;++s){var m=n.charCodeAt(s);127>=m?i++:2047>=m?i+=2:55296<=m&&57343>=m?(i+=4,++s):i+=3}return i},Ae=(n,i,s,m)=>{if(s>>>=0,!(0<m))return 0;var w=s;m=s+m-1;for(var S=0;S<n.length;++S){var R=n.charCodeAt(S);if(55296<=R&&57343>=R){var ae=n.charCodeAt(++S);R=65536+((R&1023)<<10)|ae&1023}if(127>=R){if(s>=m)break;i[s++>>>0]=R}else{if(2047>=R){if(s+1>=m)break;i[s++>>>0]=192|R>>6}else{if(65535>=R){if(s+2>=m)break;i[s++>>>0]=224|R>>12}else{if(s+3>=m)break;i[s++>>>0]=240|R>>18,i[s++>>>0]=128|R>>12&63}i[s++>>>0]=128|R>>6&63}i[s++>>>0]=128|R&63}}return i[s>>>0]=0,s-w},Me=n=>n%4===0&&(n%100!==0||n%400===0),ke=[0,31,60,91,121,152,182,213,244,274,305,335],nt=[0,31,59,90,120,151,181,212,243,273,304,334],De=n=>{var i=Le(n)+1,s=at(i);return s&&Ae(n,X,s,i),s},Xe={},We=()=>{if(!Ke){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},i;for(i in Xe)Xe[i]===void 0?delete n[i]:n[i]=Xe[i];var s=[];for(i in n)s.push(`${i}=${n[i]}`);Ke=s}return Ke},Ke,At=[null,[],[]],ot=[31,29,31,30,31,30,31,31,30,31,30,31],mt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ze(n){var i=Array(Le(n)+1);return Ae(n,i,0,i.length),i}function Qe(n,i,s,m){function w(g,N,q){for(g=typeof g=="number"?g.toString():g||"";g.length<N;)g=q[0]+g;return g}function S(g,N){return w(g,N,"0")}function R(g,N){function q(ft){return 0>ft?-1:0<ft?1:0}var Ce;return(Ce=q(g.getFullYear()-N.getFullYear()))===0&&(Ce=q(g.getMonth()-N.getMonth()))===0&&(Ce=q(g.getDate()-N.getDate())),Ce}function ae(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function me(g){var N=g.Ea;for(g=new Date(new Date(g.Fa+1900,0,1).getTime());0<N;){var q=g.getMonth(),Ce=(Me(g.getFullYear())?ot:mt)[q];if(N>Ce-g.getDate())N-=Ce-g.getDate()+1,g.setDate(1),11>q?g.setMonth(q+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+N);break}}return q=new Date(g.getFullYear()+1,0,4),N=ae(new Date(g.getFullYear(),0,4)),q=ae(q),0>=R(N,g)?0>=R(q,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}n>>>=0,i>>>=0,s>>>=0,m>>>=0;var fe=M[m+40>>2>>>0];m={Qa:M[m>>2>>>0],Pa:M[m+4>>2>>>0],Ga:M[m+8>>2>>>0],Ia:M[m+12>>2>>>0],Ha:M[m+16>>2>>>0],Fa:M[m+20>>2>>>0],za:M[m+24>>2>>>0],Ea:M[m+28>>2>>>0],Sa:M[m+32>>2>>>0],Oa:M[m+36>>2>>>0],Ra:fe?Je(fe):""},s=Je(s),fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in fe)s=s.replace(new RegExp(ie,"g"),fe[ie]);var ut="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),tt="January February March April May June July August September October November December".split(" ");fe={"%a":g=>ut[g.za].substring(0,3),"%A":g=>ut[g.za],"%b":g=>tt[g.Ha].substring(0,3),"%B":g=>tt[g.Ha],"%C":g=>S((g.Fa+1900)/100|0,2),"%d":g=>S(g.Ia,2),"%e":g=>w(g.Ia,2," "),"%g":g=>me(g).toString().substring(2),"%G":g=>me(g),"%H":g=>S(g.Ga,2),"%I":g=>(g=g.Ga,g==0?g=12:12<g&&(g-=12),S(g,2)),"%j":g=>{for(var N=0,q=0;q<=g.Ha-1;N+=(Me(g.Fa+1900)?ot:mt)[q++]);return S(g.Ia+N,3)},"%m":g=>S(g.Ha+1,2),"%M":g=>S(g.Pa,2),"%n":()=>`\n`,"%p":g=>0<=g.Ga&&12>g.Ga?"AM":"PM","%S":g=>S(g.Qa,2),"%t":()=>"	","%u":g=>g.za||7,"%U":g=>S(Math.floor((g.Ea+7-g.za)/7),2),"%V":g=>{var N=Math.floor((g.Ea+7-(g.za+6)%7)/7);if(2>=(g.za+371-g.Ea-2)%7&&N++,N)N==53&&(q=(g.za+371-g.Ea)%7,q==4||q==3&&Me(g.Fa)||(N=1));else{N=52;var q=(g.za+7-g.Ea-1)%7;(q==4||q==5&&Me(g.Fa%400-1))&&N++}return S(N,2)},"%w":g=>g.za,"%W":g=>S(Math.floor((g.Ea+7-(g.za+6)%7)/7),2),"%y":g=>(g.Fa+1900).toString().substring(2),"%Y":g=>g.Fa+1900,"%z":g=>{g=g.Oa;var N=0<=g;return g=Math.abs(g)/60,(N?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.Ra,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ie in fe)s.includes(ie)&&(s=s.replace(new RegExp(ie,"g"),fe[ie](m)));return s=s.replace(/\\0\\0/g,"%"),ie=Ze(s),ie.length>i?0:(ve.set(ie,n>>>0),ie.length-1)}var gt={a:function(n,i,s){throw n>>>=0,new Y(n).Ka(i>>>0,s>>>0),ee=n,Be++,ee},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),M[s>>2>>>0]=n.getUTCSeconds(),M[s+4>>2>>>0]=n.getUTCMinutes(),M[s+8>>2>>>0]=n.getUTCHours(),M[s+12>>2>>>0]=n.getUTCDate(),M[s+16>>2>>>0]=n.getUTCMonth(),M[s+20>>2>>>0]=n.getUTCFullYear()-1900,M[s+24>>2>>>0]=n.getUTCDay(),M[s+28>>2>>>0]=(n.getTime()-Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),M[s>>2>>>0]=n.getSeconds(),M[s+4>>2>>>0]=n.getMinutes(),M[s+8>>2>>>0]=n.getHours(),M[s+12>>2>>>0]=n.getDate(),M[s+16>>2>>>0]=n.getMonth(),M[s+20>>2>>>0]=n.getFullYear()-1900,M[s+24>>2>>>0]=n.getDay(),M[s+28>>2>>>0]=(Me(n.getFullYear())?ke:nt)[n.getMonth()]+n.getDate()-1|0,M[s+36>>2>>>0]=-(60*n.getTimezoneOffset()),i=new Date(n.getFullYear(),6,1).getTimezoneOffset();var m=new Date(n.getFullYear(),0,1).getTimezoneOffset();M[s+32>>2>>>0]=(i!=m&&n.getTimezoneOffset()==Math.min(m,i))|0},q:function(n){n>>>=0;var i=new Date(M[n+20>>2>>>0]+1900,M[n+16>>2>>>0],M[n+12>>2>>>0],M[n+8>>2>>>0],M[n+4>>2>>>0],M[n>>2>>>0],0),s=M[n+32>>2>>>0],m=i.getTimezoneOffset(),w=new Date(i.getFullYear(),6,1).getTimezoneOffset(),S=new Date(i.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(S,w);return 0>s?M[n+32>>2>>>0]=+(w!=S&&R==m):0<s!=(R==m)&&(w=Math.max(S,w),i.setTime(i.getTime()+6e4*((0<s?R:w)-m))),M[n+24>>2>>>0]=i.getDay(),M[n+28>>2>>>0]=(Me(i.getFullYear())?ke:nt)[i.getMonth()]+i.getDate()-1|0,M[n>>2>>>0]=i.getSeconds(),M[n+4>>2>>>0]=i.getMinutes(),M[n+8>>2>>>0]=i.getHours(),M[n+12>>2>>>0]=i.getDate(),M[n+16>>2>>>0]=i.getMonth(),M[n+20>>2>>>0]=i.getYear(),n=i.getTime()/1e3,it((pe=n,1<=+Math.abs(pe)?0<pe?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)),n>>>0},m:function(){return-52},n:function(){},t:function(n,i,s){function m(me){return(me=me.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?me[1]:"GMT"}s>>>=0;var w=new Date().getFullYear(),S=new Date(w,0,1),R=new Date(w,6,1);w=S.getTimezoneOffset();var ae=R.getTimezoneOffset();ne[n>>>0>>2>>>0]=60*Math.max(w,ae),M[i>>>0>>2>>>0]=+(w!=ae),n=m(S),i=m(R),n=De(n),i=De(i),ae<w?(ne[s>>2>>>0]=n,ne[s+4>>2>>>0]=i):(ne[s>>2>>>0]=i,ne[s+4>>2>>>0]=n)},d:()=>{z("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(n,i,s){return i>>>=0,X.copyWithin(n>>>0>>>0,i>>>0,i+(s>>>0)>>>0)},s:function(n){n>>>=0;var i=X.length;if(4294901760<n)return!1;for(var s=1;4>=s;s*=2){var m=i*(1+.2/s);m=Math.min(m,n+100663296);var w=Math;m=Math.max(n,m);e:{w=w.min.call(w,4294901760,m+(65536-m%65536)%65536)-we.buffer.byteLength+65535>>>16;try{we.grow(w),Ne();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(n,i){n>>>=0,i>>>=0;var s=0;return We().forEach(function(m,w){var S=i+s;for(w=ne[n+4*w>>2>>>0]=S,S=0;S<m.length;++S)ve[w++>>0>>>0]=m.charCodeAt(S);ve[w>>0>>>0]=0,s+=m.length+1}),0},D:function(n,i){n>>>=0,i>>>=0;var s=We();ne[n>>2>>>0]=s.length;var m=0;return s.forEach(function(w){m+=w.length+1}),ne[i>>2>>>0]=m,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(n,i,s,m){i>>>=0,s>>>=0,m>>>=0;for(var w=0,S=0;S<s;S++){var R=ne[i>>2>>>0],ae=ne[i+4>>2>>>0];i+=8;for(var me=0;me<ae;me++){var fe=X[R+me>>>0],ie=At[n];fe===0||fe===10?((n===1?$:L)(qe(ie,0)),ie.length=0):ie.push(fe)}w+=ae}return ne[m>>2>>>0]=w,0},A:Qe,c:function(n,i,s,m){return Qe(n>>>0,i>>>0,s>>>0,m>>>0)}};(function(){function n(s){if(s=s.exports,E=s=Mt(s),we=E.J,Ne(),oe.unshift(E.K),he--,o.monitorRunDependencies&&o.monitorRunDependencies(he),he==0&&(le!==null&&(clearInterval(le),le=null),ue)){var m=ue;ue=null,m()}return s}var i={a:gt};if(he++,o.monitorRunDependencies&&o.monitorRunDependencies(he),o.instantiateWasm)try{return o.instantiateWasm(i,n)}catch(s){L("Module.instantiateWasm callback failed with error: "+s),v(s)}return de(i,function(s){n(s.instance)}).catch(v),{}})(),o._OrtInit=(n,i)=>(o._OrtInit=E.L)(n,i),o._OrtGetLastError=(n,i)=>(o._OrtGetLastError=E.M)(n,i),o._OrtCreateSessionOptions=(n,i,s,m,w,S,R,ae,me,fe)=>(o._OrtCreateSessionOptions=E.N)(n,i,s,m,w,S,R,ae,me,fe),o._OrtAppendExecutionProvider=(n,i)=>(o._OrtAppendExecutionProvider=E.O)(n,i),o._OrtAddFreeDimensionOverride=(n,i,s)=>(o._OrtAddFreeDimensionOverride=E.P)(n,i,s),o._OrtAddSessionConfigEntry=(n,i,s)=>(o._OrtAddSessionConfigEntry=E.Q)(n,i,s),o._OrtReleaseSessionOptions=n=>(o._OrtReleaseSessionOptions=E.R)(n),o._OrtCreateSession=(n,i,s)=>(o._OrtCreateSession=E.S)(n,i,s),o._OrtReleaseSession=n=>(o._OrtReleaseSession=E.T)(n),o._OrtGetInputOutputCount=(n,i,s)=>(o._OrtGetInputOutputCount=E.U)(n,i,s),o._OrtGetInputName=(n,i)=>(o._OrtGetInputName=E.V)(n,i),o._OrtGetOutputName=(n,i)=>(o._OrtGetOutputName=E.W)(n,i),o._OrtFree=n=>(o._OrtFree=E.X)(n),o._OrtCreateTensor=(n,i,s,m,w,S)=>(o._OrtCreateTensor=E.Y)(n,i,s,m,w,S),o._OrtGetTensorData=(n,i,s,m,w)=>(o._OrtGetTensorData=E.Z)(n,i,s,m,w),o._OrtReleaseTensor=n=>(o._OrtReleaseTensor=E._)(n),o._OrtCreateRunOptions=(n,i,s,m)=>(o._OrtCreateRunOptions=E.$)(n,i,s,m),o._OrtAddRunConfigEntry=(n,i,s)=>(o._OrtAddRunConfigEntry=E.aa)(n,i,s),o._OrtReleaseRunOptions=n=>(o._OrtReleaseRunOptions=E.ba)(n),o._OrtCreateBinding=n=>(o._OrtCreateBinding=E.ca)(n),o._OrtBindInput=(n,i,s)=>(o._OrtBindInput=E.da)(n,i,s),o._OrtBindOutput=(n,i,s,m)=>(o._OrtBindOutput=E.ea)(n,i,s,m),o._OrtClearBoundOutputs=n=>(o._OrtClearBoundOutputs=E.fa)(n),o._OrtReleaseBinding=n=>(o._OrtReleaseBinding=E.ga)(n),o._OrtRunWithBinding=(n,i,s,m,w)=>(o._OrtRunWithBinding=E.ha)(n,i,s,m,w),o._OrtRun=(n,i,s,m,w,S,R,ae)=>(o._OrtRun=E.ia)(n,i,s,m,w,S,R,ae),o._OrtEndProfiling=n=>(o._OrtEndProfiling=E.ja)(n),o._OrtTrainingLoadCheckpoint=(n,i)=>(o._OrtTrainingLoadCheckpoint=E.ka)(n,i),o._OrtTrainingReleaseCheckpoint=n=>(o._OrtTrainingReleaseCheckpoint=E.la)(n),o._OrtTrainingCreateSession=(n,i,s,m,w,S,R,ae)=>(o._OrtTrainingCreateSession=E.ma)(n,i,s,m,w,S,R,ae),o._OrtTrainingLazyResetGrad=n=>(o._OrtTrainingLazyResetGrad=E.na)(n),o._OrtTrainingRunTrainStep=(n,i,s,m,w,S)=>(o._OrtTrainingRunTrainStep=E.oa)(n,i,s,m,w,S),o._OrtTrainingOptimizerStep=(n,i)=>(o._OrtTrainingOptimizerStep=E.pa)(n,i),o._OrtTrainingEvalStep=(n,i,s,m,w,S)=>(o._OrtTrainingEvalStep=E.qa)(n,i,s,m,w,S),o._OrtTrainingGetParametersSize=(n,i,s)=>(o._OrtTrainingGetParametersSize=E.ra)(n,i,s),o._OrtTrainingCopyParametersToBuffer=(n,i,s,m)=>(o._OrtTrainingCopyParametersToBuffer=E.sa)(n,i,s,m),o._OrtTrainingCopyParametersFromBuffer=(n,i,s,m)=>(o._OrtTrainingCopyParametersFromBuffer=E.ta)(n,i,s,m),o._OrtTrainingGetModelInputOutputCount=(n,i,s,m)=>(o._OrtTrainingGetModelInputOutputCount=E.ua)(n,i,s,m),o._OrtTrainingGetModelInputOutputName=(n,i,s,m)=>(o._OrtTrainingGetModelInputOutputName=E.va)(n,i,s,m),o._OrtTrainingReleaseSession=n=>(o._OrtTrainingReleaseSession=E.wa)(n);var at=o._malloc=n=>(at=o._malloc=E.xa)(n);o._free=n=>(o._free=E.ya)(n);var it=n=>(it=E.Aa)(n),Ge=()=>(Ge=E.Ba)(),st=n=>(st=E.Ca)(n),et=n=>(et=E.Da)(n);function Mt(n){n=Object.assign({},n);var i=m=>()=>m()>>>0,s=m=>w=>m(w)>>>0;return n.__errno_location=i(n.__errno_location),n.malloc=s(n.malloc),n.stackSave=i(n.stackSave),n.stackAlloc=s(n.stackAlloc),n}o.stackAlloc=et,o.stackSave=Ge,o.stackRestore=st,o.UTF8ToString=Je,o.stringToUTF8=(n,i,s)=>Ae(n,X,i,s),o.lengthBytesUTF8=Le;var C;ue=function n(){C||Ye(),C||(ue=n)};function Ye(){function n(){if(!C&&(C=!0,o.calledRun=!0,!_e)){if(Fe(oe),y(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var i=o.postRun.shift();k.unshift(i)}Fe(k)}}if(!(0<he)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)G();Fe(je),0<he||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),n()},1)):n())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Ye(),h.ready}})();typeof Wr=="object"&&typeof Yt=="object"?Yt.exports=kr:typeof define=="function"&&define.amd&&define([],()=>kr)});var Nr=lt(()=>{});var jr=lt(()=>{});var zr={};Nt(zr,{cpus:()=>$n});var $n,$r=Ht(()=>{$n=void 0});var Vr=lt((Yr,Vt)=>{"use strict";var Gr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(h={}){function o(){return G.buffer!=z.buffer&&Y(),z}function y(){return G.buffer!=z.buffer&&Y(),ce}function v(){return G.buffer!=z.buffer&&Y(),Ee}function T(){return G.buffer!=z.buffer&&Y(),Se}function c(){return G.buffer!=z.buffer&&Y(),xe}function _(){return G.buffer!=z.buffer&&Y(),ze}function P(){return G.buffer!=z.buffer&&Y(),Fe}var l=h,x,W;l.ready=new Promise((e,t)=>{x=e,W=t});var U=Object.assign({},l),B="./this.program",j=(e,t)=>{throw t},V=typeof window=="object",$=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A=l.ENVIRONMENT_IS_PTHREAD||!1,se="";function we(e){return l.locateFile?l.locateFile(e,se):se+e}var E,_e,ve;if(L){var X=(zt(),ct(jt)),M=(Gt(),ct($t));se=$?M.dirname(se)+"/":__dirname+"/",E=(t,r)=>(t=t.startsWith("file://")?new URL(t):M.normalize(t),X.readFileSync(t,r?void 0:"utf8")),ve=t=>(t=E(t,!0),t.buffer||(t=new Uint8Array(t)),t),_e=(t,r,a,u=!0)=>{t=t.startsWith("file://")?new URL(t):M.normalize(t),X.readFile(t,u?void 0:"utf8",(d,b)=>{d?a(d):r(u?b.buffer:b)})},!l.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),j=(t,r)=>{throw process.exitCode=t,r},l.inspect=()=>"[Emscripten Module object]";let e;try{e=Nr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(V||$)&&($?se=self.location.href:typeof document<"u"&&document.currentScript&&(se=document.currentScript.src),typeof f<"u"&&f&&(se=f),se.indexOf("blob:")!==0?se=se.substr(0,se.replace(/[?#].*/,"").lastIndexOf("/")+1):se="",L||(E=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},$&&(ve=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),_e=(e,t,r)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{a.status==200||a.status==0&&a.response?t(a.response):r()},a.onerror=r,a.send(null)}));L&&typeof performance>"u"&&(global.performance=jr().performance);var ne=console.log.bind(console),Ne=console.error.bind(console);L&&(ne=(...e)=>X.writeSync(1,e.join(" ")+`\n`),Ne=(...e)=>X.writeSync(2,e.join(" ")+`\n`));var je=ne,oe=Ne;Object.assign(l,U),U=null;var k=!0;typeof WebAssembly!="object"&&De("no native wasm support detected");var G,he,le=!1,ue,z,ce,Ee,Se,xe,ze,$e,de,pe,Fe;function Y(){var e=G.buffer;l.HEAP8=z=new Int8Array(e),l.HEAP16=Ee=new Int16Array(e),l.HEAPU8=ce=new Uint8Array(e),l.HEAPU16=Se=new Uint16Array(e),l.HEAP32=xe=new Int32Array(e),l.HEAPU32=ze=new Uint32Array(e),l.HEAPF32=$e=new Float32Array(e),l.HEAPF64=Fe=new Float64Array(e),l.HEAP64=de=new BigInt64Array(e),l.HEAPU64=pe=new BigUint64Array(e)}var ee=16777216;if(5242880<=ee||De("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ee+"! (STACK_SIZE=5242880)"),A)G=l.wasmMemory;else if(G=new WebAssembly.Memory({initial:ee/65536,maximum:65536,shared:!0}),!(G.buffer instanceof SharedArrayBuffer))throw oe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&oe("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),ee=G.buffer.byteLength;var Be=[],Pe=[],qe=[],Je=0;function Le(){return k||0<Je}var Ae=0,Me=null,ke=null;function nt(){if(Ae--,Ae==0&&(Me!==null&&(clearInterval(Me),Me=null),ke)){var e=ke;ke=null,e()}}function De(e){throw e="Aborted("+e+")",oe(e),le=!0,ue=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),W(e),e}function Xe(e){return e.startsWith("data:application/octet-stream;base64,")}var We;We="ort-wasm-threaded.wasm",Xe(We)||(We=we(We));function Ke(e){if(ve)return ve(e);throw"both async and sync fetching of the wasm failed"}function At(e){if(V||$){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Ke(e));if(_e)return new Promise((t,r)=>{_e(e,a=>t(new Uint8Array(a)),r)})}return Promise.resolve().then(()=>Ke(e))}function ot(e,t,r){return At(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{oe(`failed to asynchronously prepare wasm: ${a}`),De(a)})}function mt(e,t){var r=We;return typeof WebAssembly.instantiateStreaming!="function"||Xe(r)||r.startsWith("file://")||L||typeof fetch!="function"?ot(r,e,t):fetch(r,{credentials:"same-origin"}).then(a=>WebAssembly.instantiateStreaming(a,e).then(t,function(u){return oe(`wasm streaming compile failed: ${u}`),oe("falling back to ArrayBuffer instantiation"),ot(r,e,t)}))}function Ze(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Qe=e=>{e.terminate(),e.onmessage=()=>{}},gt=e=>{if(C.qb.length==0){var t=we("ort-wasm-threaded.worker.js");t=new Worker(t),C.qb.push(t),C.Jb(C.qb[0])}if(t=C.qb.pop(),!t)return 6;C.nb.push(t),C.jb[e.mb]=t,t.mb=e.mb;var r={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return L&&t.unref(),t.postMessage(r,e.Sb),0},at=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,it=(e,t,r)=>{t>>>=0;var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.buffer&&at)return at.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(a="";t<r;){var u=e[t++];if(u&128){var d=e[t++]&63;if((u&224)==192)a+=String.fromCharCode((u&31)<<6|d);else{var b=e[t++]&63;u=(u&240)==224?(u&15)<<12|d<<6|b:(u&7)<<18|d<<12|b<<6|e[t++]&63,65536>u?a+=String.fromCharCode(u):(u-=65536,a+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else a+=String.fromCharCode(u)}return a},Ge=(e,t)=>(e>>>=0)?it(y(),e,t):"";function st(e){if(A)return J(0,1,e);ue=e,Le()||(C.Nb(),le=!0),j(e,new Ze(e))}var et=e=>{if(ue=e,A)throw n(e),"unwind";st(e)};function Mt(){Be.unshift(()=>{Ae++,nt()})}var C={qb:[],nb:[],Eb:[],jb:{},vb(){A?(C.receiveObjectTransfer=C.Lb,C.threadInitTLS=C.Db,C.setExitStatus=C.Cb,k=!1):Mt()},Cb:e=>{ue=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of C.nb)Qe(e);for(e of C.qb)Qe(e);C.qb=[],C.nb=[],C.jb=[]},Bb:e=>{var t=e.mb;delete C.jb[t],C.qb.push(e),C.nb.splice(C.nb.indexOf(e),1),e.mb=0,xt(t)},Lb(){},Db(){C.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=d=>{d=d.data;var b=d.cmd;if(d.targetThread&&d.targetThread!=wt()){var O=C.jb[d.targetThread];O?O.postMessage(d,d.transferList):oe(`Internal error! Worker sent a message "${b}" to target pthread ${d.targetThread}, but that thread no longer exists!`)}else b==="checkMailbox"?ht():b==="spawnThread"?gt(d):b==="cleanupThread"?((d=C.jb[d.thread])||De(),C.Bb(d)):b==="killThread"?(d=d.thread,b=C.jb[d],delete C.jb[d],Qe(b),xt(d),C.nb.splice(C.nb.indexOf(b),1),b.mb=0):b==="cancelThread"?C.jb[d.thread].postMessage({cmd:"cancel"}):b==="loaded"?(e.loaded=!0,t(e)):b==="alert"?alert(`Thread ${d.threadId}: ${d.text}`):d.target==="setimmediate"?e.postMessage(d):b==="callHandler"?l[d.handler](...d.args):b&&oe(`worker sent an unknown command ${b}`)},e.onerror=d=>{throw oe(`worker sent an error! ${d.filename}:${d.lineno}: ${d.message}`),d},L&&(e.on("message",d=>e.onmessage({data:d})),e.on("error",d=>e.onerror(d)));var r=[],a=[],u;for(u of a)l.hasOwnProperty(u)&&r.push(u);e.postMessage({cmd:"load",handlers:r,urlOrBlob:l.mainScriptUrlOrBlob||f,wasmMemory:G,wasmModule:he})})};l.PThread=C;var Ye=e=>{for(;0<e.length;)e.shift()(l)};l.establishStackSpace=()=>{var e=wt(),t=_()[e+52>>>2>>>0];e=_()[e+56>>>2>>>0],xr(t,t-e),Tt(t)};function n(e){if(A)return J(1,0,e);et(e)}var i=[],s;l.invokeEntryPoint=(e,t)=>{var r=i[e];r||(e>=i.length&&(i.length=e+1),i[e]=r=s.get(e)),e=r(t),Le()?C.Cb(e):Bt(e)};function m(e){this.sb=e-24,this.Kb=function(t){_()[this.sb+4>>>2>>>0]=t},this.xb=function(t){_()[this.sb+8>>>2>>>0]=t},this.vb=function(t,r){this.wb(),this.Kb(t),this.xb(r)},this.wb=function(){_()[this.sb+16>>>2>>>0]=0}}var w=0,S=0;function R(e,t,r,a){return A?J(2,1,e,t,r,a):ae(e,t,r,a)}function ae(e,t,r,a){if(e>>>=0,t>>>=0,r>>>=0,a>>>=0,typeof SharedArrayBuffer>"u")return oe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var u=[];return A&&u.length===0?R(e,t,r,a):(e={Mb:r,mb:e,Fb:a,Sb:u},A?(e.Ub="spawnThread",postMessage(e,u),0):gt(e))}function me(e,t,r){return A?J(3,1,e,t,r):0}function fe(e,t){if(A)return J(4,1,e,t)}var ie=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++r):t+=3}return t},ut=(e,t,r,a)=>{if(r>>>=0,!(0<a))return 0;var u=r;a=r+a-1;for(var d=0;d<e.length;++d){var b=e.charCodeAt(d);if(55296<=b&&57343>=b){var O=e.charCodeAt(++d);b=65536+((b&1023)<<10)|O&1023}if(127>=b){if(r>=a)break;t[r++>>>0]=b}else{if(2047>=b){if(r+1>=a)break;t[r++>>>0]=192|b>>6}else{if(65535>=b){if(r+2>=a)break;t[r++>>>0]=224|b>>12}else{if(r+3>=a)break;t[r++>>>0]=240|b>>18,t[r++>>>0]=128|b>>12&63}t[r++>>>0]=128|b>>6&63}t[r++>>>0]=128|b&63}}return t[r>>>0]=0,r-u},tt=(e,t,r)=>ut(e,y(),t,r);function g(e,t){if(A)return J(5,1,e,t)}function N(e,t,r){if(A)return J(6,1,e,t,r)}function q(e,t,r){return A?J(7,1,e,t,r):0}function Ce(e,t){if(A)return J(8,1,e,t)}function ft(e,t,r){if(A)return J(9,1,e,t,r)}function Qt(e,t,r,a){if(A)return J(10,1,e,t,r,a)}function er(e,t,r,a){if(A)return J(11,1,e,t,r,a)}function tr(e,t,r,a){if(A)return J(12,1,e,t,r,a)}function rr(e){if(A)return J(13,1,e)}function nr(e,t){if(A)return J(14,1,e,t)}function or(e,t,r){if(A)return J(15,1,e,t,r)}var ar=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},ir,Te=e=>{for(var t="";y()[e>>>0];)t+=ir[y()[e++>>>0]];return t},Ct={},Ft={},mn={},He;function gn(e,t,r={}){var a=t.name;if(!e)throw new He(`type "${a}" must have a positive integer typeid pointer`);if(Ft.hasOwnProperty(e)){if(r.Hb)return;throw new He(`Cannot register type \'${a}\' twice`)}Ft[e]=t,delete mn[e],Ct.hasOwnProperty(e)&&(t=Ct[e],delete Ct[e],t.forEach(u=>u()))}function Ie(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");gn(e,t,r)}var sr=(e,t,r)=>{switch(t){case 1:return r?a=>o()[a>>>0>>>0]:a=>y()[a>>>0>>>0];case 2:return r?a=>v()[a>>>1>>>0]:a=>T()[a>>>1>>>0];case 4:return r?a=>c()[a>>>2>>>0]:a=>_()[a>>>2>>>0];case 8:return r?a=>de[a>>>3]:a=>pe[a>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function ur(){this.lb=[void 0],this.zb=[]}var be=new ur;function Pt(e){e>>>=0,e>=be.sb&&--be.get(e).Ab===0&&be.xb(e)}var ge=e=>{if(!e)throw new He("Cannot use deleted val. handle = "+e);return be.get(e).value},Oe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return be.wb({Ab:1,value:e})}};function fr(e){return this.fromWireType(c()[e>>>2>>>0])}var hn=(e,t)=>{switch(t){case 4:return function(r){var a=this.fromWireType;return G.buffer!=z.buffer&&Y(),a.call(this,$e[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(P()[r>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function yn(e){return this.fromWireType(_()[e>>>2>>>0])}var lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,vn=(e,t)=>{for(var r=e>>1,a=r+t/2;!(r>=a)&&T()[r>>>0];)++r;if(r<<=1,32<r-e&&lr)return lr.decode(y().slice(e,r));for(r="",a=0;!(a>=t/2);++a){var u=v()[e+2*a>>>1>>>0];if(u==0)break;r+=String.fromCharCode(u)}return r},bn=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var a=t;r=r<2*e.length?r/2:e.length;for(var u=0;u<r;++u){var d=e.charCodeAt(u);v()[t>>>1>>>0]=d,t+=2}return v()[t>>>1>>>0]=0,t-a},On=e=>2*e.length,wn=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var u=c()[e+4*r>>>2>>>0];if(u==0)break;++r,65536<=u?(u-=65536,a+=String.fromCharCode(55296|u>>10,56320|u&1023)):a+=String.fromCharCode(u)}return a},_n=(e,t,r)=>{if(t>>>=0,r===void 0&&(r=2147483647),4>r)return 0;var a=t;r=a+r-4;for(var u=0;u<e.length;++u){var d=e.charCodeAt(u);if(55296<=d&&57343>=d){var b=e.charCodeAt(++u);d=65536+((d&1023)<<10)|b&1023}if(c()[t>>>2>>>0]=d,t+=4,t+4>r)break}return c()[t>>>2>>>0]=0,t-a},Tn=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&++r,t+=4}return t},En=e=>{if(!le)try{if(e(),!Le())try{A?Bt(ue):et(ue)}catch(t){t instanceof Ze||t=="unwind"||j(1,t)}}catch(t){t instanceof Ze||t=="unwind"||j(1,t)}};function Dt(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(c(),e>>>2,e).value.then(ht),e+=128,Atomics.store(c(),e>>>2,1))}l.__emscripten_thread_mailbox_await=Dt;var ht=()=>{var e=wt();e&&(Dt(e),En(()=>Ur()))};l.checkMailbox=ht;var Sn=e=>{var t=Lt();return e=e(),Tt(t),e};function J(e,t){var r=arguments.length-2,a=arguments;return Sn(()=>{for(var u=2*r,d=kt(8*u),b=d>>>3,O=0;O<r;O++){var D=a[2+O];typeof D=="bigint"?(de[b+2*O]=1n,de[b+2*O+1]=D):(de[b+2*O]=0n,P()[b+2*O+1>>>0]=D)}return Rr(e,u,d,t)})}var It=[],yt=(e,t)=>{var r=Ft[e];if(r===void 0)throw e=Dr(e),r=Te(e),Re(e),new He(t+" has unknown type "+r);return r},An={},vt=e=>{var t=An[e];return t===void 0?Te(e):t},bt=[],cr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Mn=e=>{var t=bt.length;return bt.push(e),t},Cn=(e,t)=>{for(var r=Array(e),a=0;a<e;++a)r[a]=yt(_()[t+4*a>>>2>>>0],"parameter "+a);return r},dr=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},pr={};function Fn(e,t){return e=dr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Pn(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var r=Fn(t.name||"unknownFunctionName",function(){});return r.prototype=t.prototype,r=new r,e=t.apply(r,e),e instanceof Object?e:r}var Dn=e=>{for(var t="",r=0;r<e;++r)t+=(r!==0?", ":"")+"arg"+r;var a="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(r=0;r<e;++r)a+="var argType"+r+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+r+`\');\nvar arg`+r+" = argType"+r+`.readValueFromPointer(args);\nargs += argType`+r+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",a+("var obj = new constructor("+t+`);\nreturn valueToHandle(obj);\n}\n`))(yt,l,Oe,()=>_())},mr={},rt=e=>e%4===0&&(e%100!==0||e%400===0),gr=[0,31,60,91,121,152,182,213,244,274,305,335],hr=[0,31,59,90,120,151,181,212,243,273,304,334];function yr(e,t,r,a,u,d,b){return A?J(16,1,e,t,r,a,u,d,b):-52}function vr(e,t,r,a,u,d){if(A)return J(17,1,e,t,r,a,u,d)}var br=e=>{var t=ie(e)+1,r=_t(t);return r&&tt(e,r,t),r},Rt={},Or=()=>{if(!Ut){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},t;for(t in Rt)Rt[t]===void 0?delete e[t]:e[t]=Rt[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ut=r}return Ut},Ut;function wr(e,t){if(A)return J(18,1,e,t);e>>>=0,t>>>=0;var r=0;return Or().forEach((a,u)=>{var d=t+r;for(u=_()[e+4*u>>>2>>>0]=d,d=0;d<a.length;++d)o()[u++>>>0>>>0]=a.charCodeAt(d);o()[u>>>0>>>0]=0,r+=a.length+1}),0}function _r(e,t){if(A)return J(19,1,e,t);e>>>=0,t>>>=0;var r=Or();_()[e>>>2>>>0]=r.length;var a=0;return r.forEach(u=>a+=u.length+1),_()[t>>>2>>>0]=a,0}function Tr(e){return A?J(20,1,e):52}function Er(e,t,r,a){return A?J(21,1,e,t,r,a):52}function Sr(e,t,r,a){return A?J(22,1,e,t,r,a):70}var In=[null,[],[]];function Ar(e,t,r,a){if(A)return J(23,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var u=0,d=0;d<r;d++){var b=_()[t>>>2>>>0],O=_()[t+4>>>2>>>0];t+=8;for(var D=0;D<O;D++){var I=y()[b+D>>>0],K=In[e];I===0||I===10?((e===1?je:oe)(it(K,0)),K.length=0):K.push(I)}u+=O}return _()[a>>>2>>>0]=u,0}var Mr=[31,29,31,30,31,30,31,31,30,31,30,31],Cr=[31,28,31,30,31,30,31,31,30,31,30,31];function Rn(e){var t=Array(ie(e)+1);return ut(e,t,0,t.length),t}var Un=(e,t)=>{o().set(e,t>>>0)};function Fr(e,t,r,a){function u(p,H,Z){for(p=typeof p=="number"?p.toString():p||"";p.length<H;)p=Z[0]+p;return p}function d(p,H){return u(p,H,"0")}function b(p,H){function Z(Lr){return 0>Lr?-1:0<Lr?1:0}var Ve;return(Ve=Z(p.getFullYear()-H.getFullYear()))===0&&(Ve=Z(p.getMonth()-H.getMonth()))===0&&(Ve=Z(p.getDate()-H.getDate())),Ve}function O(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function D(p){var H=p.ob;for(p=new Date(new Date(p.pb+1900,0,1).getTime());0<H;){var Z=p.getMonth(),Ve=(rt(p.getFullYear())?Mr:Cr)[Z];if(H>Ve-p.getDate())H-=Ve-p.getDate()+1,p.setDate(1),11>Z?p.setMonth(Z+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return Z=new Date(p.getFullYear()+1,0,4),H=O(new Date(p.getFullYear(),0,4)),Z=O(Z),0>=b(H,p)?0>=b(Z,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,a>>>=0;var I=_()[a+40>>>2>>>0];a={Qb:c()[a>>>2>>>0],Pb:c()[a+4>>>2>>>0],tb:c()[a+8>>>2>>>0],yb:c()[a+12>>>2>>>0],ub:c()[a+16>>>2>>>0],pb:c()[a+20>>>2>>>0],kb:c()[a+24>>>2>>>0],ob:c()[a+28>>>2>>>0],Wb:c()[a+32>>>2>>>0],Ob:c()[a+36>>>2>>>0],Rb:I?Ge(I):""},r=Ge(r),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var K in I)r=r.replace(new RegExp(K,"g"),I[K]);var ye="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ue="January February March April May June July August September October November December".split(" ");I={"%a":p=>ye[p.kb].substring(0,3),"%A":p=>ye[p.kb],"%b":p=>Ue[p.ub].substring(0,3),"%B":p=>Ue[p.ub],"%C":p=>d((p.pb+1900)/100|0,2),"%d":p=>d(p.yb,2),"%e":p=>u(p.yb,2," "),"%g":p=>D(p).toString().substring(2),"%G":p=>D(p),"%H":p=>d(p.tb,2),"%I":p=>(p=p.tb,p==0?p=12:12<p&&(p-=12),d(p,2)),"%j":p=>{for(var H=0,Z=0;Z<=p.ub-1;H+=(rt(p.pb+1900)?Mr:Cr)[Z++]);return d(p.yb+H,3)},"%m":p=>d(p.ub+1,2),"%M":p=>d(p.Pb,2),"%n":()=>`\n`,"%p":p=>0<=p.tb&&12>p.tb?"AM":"PM","%S":p=>d(p.Qb,2),"%t":()=>"	","%u":p=>p.kb||7,"%U":p=>d(Math.floor((p.ob+7-p.kb)/7),2),"%V":p=>{var H=Math.floor((p.ob+7-(p.kb+6)%7)/7);if(2>=(p.kb+371-p.ob-2)%7&&H++,H)H==53&&(Z=(p.kb+371-p.ob)%7,Z==4||Z==3&&rt(p.pb)||(H=1));else{H=52;var Z=(p.kb+7-p.ob-1)%7;(Z==4||Z==5&&rt(p.pb%400-1))&&H++}return d(H,2)},"%w":p=>p.kb,"%W":p=>d(Math.floor((p.ob+7-(p.kb+6)%7)/7),2),"%y":p=>(p.pb+1900).toString().substring(2),"%Y":p=>p.pb+1900,"%z":p=>{p=p.Ob;var H=0<=p;return p=Math.abs(p)/60,(H?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Rb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(K in I)r.includes(K)&&(r=r.replace(new RegExp(K,"g"),I[K](a)));return r=r.replace(/\\0\\0/g,"%"),K=Rn(r),K.length>t?0:(Un(K,e),K.length-1)}C.vb();for(var Pr=Array(256),Ot=0;256>Ot;++Ot)Pr[Ot]=String.fromCharCode(Ot);ir=Pr,He=l.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},l.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(ur.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),be.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),be.sb=be.lb.length,l.count_emval_handles=()=>{for(var e=0,t=be.sb;t<be.lb.length;++t)be.lb[t]!==void 0&&++e;return e};var xn=[st,n,R,me,fe,g,N,q,Ce,ft,Qt,er,tr,rr,nr,or,yr,vr,wr,_r,Tr,Er,Sr,Ar],Bn={b:function(e,t,r){throw e>>>=0,new m(e).vb(t>>>0,r>>>0),w=e,S++,w},ea:function(e){Ir(e>>>0,!$,1,!V,131072,!1),C.Db()},E:function(e){e>>>=0,A?postMessage({cmd:"cleanupThread",thread:e}):((e=C.jb[e])||De(),C.Bb(e))},W:ae,y:me,ka:fe,S:g,U:N,L:q,ia:Ce,ba:ft,ha:Qt,G:er,T:tr,Q:rr,ja:nr,R:or,J:function(e,t,r,a,u){e>>>=0,t>>>=0,r>>>=0,t=Te(t);var d=t.indexOf("u")!=-1;d&&(u=(1n<<64n)-1n),Ie(e,{name:t,fromWireType:b=>b,toWireType:function(b,O){if(typeof O!="bigint"&&typeof O!="number")throw new TypeError(`Cannot convert "${ar(O)}" to ${this.name}`);if(O<a||O>u)throw new TypeError(`Passing a number "${ar(O)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${a}, ${u}]!`);return O},argPackAdvance:8,readValueFromPointer:sr(t,r,!d),rb:null})},qa:function(e,t,r,a){e>>>=0,t=Te(t>>>0),Ie(e,{name:t,fromWireType:function(u){return!!u},toWireType:function(u,d){return d?r:a},argPackAdvance:8,readValueFromPointer:function(u){return this.fromWireType(y()[u>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=Te(t>>>0),Ie(e,{name:t,fromWireType:r=>{var a=ge(r);return Pt(r),a},toWireType:(r,a)=>Oe(a),argPackAdvance:8,readValueFromPointer:fr,rb:null})},I:function(e,t,r){e>>>=0,r>>>=0,t=Te(t>>>0),Ie(e,{name:t,fromWireType:a=>a,toWireType:(a,u)=>u,argPackAdvance:8,readValueFromPointer:hn(t,r),rb:null})},u:function(e,t,r,a,u){if(e>>>=0,r>>>=0,t=Te(t>>>0),u===-1&&(u=4294967295),u=O=>O,a===0){var d=32-8*r;u=O=>O<<d>>>d}var b=t.includes("unsigned")?function(O,D){return D>>>0}:function(O,D){return D};Ie(e,{name:t,fromWireType:u,toWireType:b,argPackAdvance:8,readValueFromPointer:sr(t,r,a!==0),rb:null})},m:function(e,t,r){function a(d){var b=_()[d>>>2>>>0];return d=_()[d+4>>>2>>>0],new u(o().buffer,d,b)}e>>>=0;var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];r=Te(r>>>0),Ie(e,{name:r,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{Hb:!0})},K:function(e,t){e>>>=0,t=Te(t>>>0);var r=t==="std::string";Ie(e,{name:t,fromWireType:function(a){var u=_()[a>>>2>>>0],d=a+4;if(r)for(var b=d,O=0;O<=u;++O){var D=d+O;if(O==u||y()[D>>>0]==0){if(b=Ge(b,D-b),I===void 0)var I=b;else I+=String.fromCharCode(0),I+=b;b=D+1}}else{for(I=Array(u),O=0;O<u;++O)I[O]=String.fromCharCode(y()[d+O>>>0]);I=I.join("")}return Re(a),I},toWireType:function(a,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var d=typeof u=="string";if(!(d||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array))throw new He("Cannot pass non-string to std::string");var b=r&&d?ie(u):u.length,O=_t(4+b+1),D=O+4;if(_()[O>>>2>>>0]=b,r&&d)tt(u,D,b+1);else if(d)for(d=0;d<b;++d){var I=u.charCodeAt(d);if(255<I)throw Re(D),new He("String has UTF-16 code units that do not fit in 8 bits");y()[D+d>>>0]=I}else for(d=0;d<b;++d)y()[D+d>>>0]=u[d];return a!==null&&a.push(Re,O),O},argPackAdvance:8,readValueFromPointer:yn,rb(a){Re(a)}})},A:function(e,t,r){if(e>>>=0,t>>>=0,r>>>=0,r=Te(r),t===2)var a=vn,u=bn,d=On,b=()=>T(),O=1;else t===4&&(a=wn,u=_n,d=Tn,b=()=>_(),O=2);Ie(e,{name:r,fromWireType:D=>{for(var I=_()[D>>>2>>>0],K=b(),ye,Ue=D+4,p=0;p<=I;++p){var H=D+4+p*t;(p==I||K[H>>>O]==0)&&(Ue=a(Ue,H-Ue),ye===void 0?ye=Ue:(ye+=String.fromCharCode(0),ye+=Ue),Ue=H+t)}return Re(D),ye},toWireType:(D,I)=>{if(typeof I!="string")throw new He(`Cannot pass non-string to C++ string type ${r}`);var K=d(I),ye=_t(4+K+t);return _()[ye>>>2]=K>>O,u(I,ye+4,K+t),D!==null&&D.push(Re,ye),ye},argPackAdvance:8,readValueFromPointer:fr,rb(D){Re(D)}})},ra:function(e,t){e>>>=0,t=Te(t>>>0),Ie(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ht()):A?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=C.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,t,r,a){t>>>=0,r/=2,It.length=r,a=a>>>0>>>3;for(var u=0;u<r;u++)It[u]=de[a+2*u]?de[a+2*u+1]:P()[a+2*u+1>>>0];return e=xn[e],C.Gb=t,t=e.apply(null,It),C.Gb=0,t},da:Dt,ma:function(e){L&&C.jb[e>>>0].ref()},r:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=yt(t,"emval::as");var a=[],u=Oe(a);return _()[r>>>2>>>0]=u,t.toWireType(a,e)},i:function(e,t,r,a,u){r>>>=0,a>>>=0,u>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r);var d=[];return _()[a>>>2>>>0]=Oe(d),e(t,r,d,u)},s:function(e,t,r,a){r>>>=0,a>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r),e(t,r,null,a)},c:Pt,B:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),e==t},o:function(e){return e>>>=0,e===0?Oe(cr()):(e=vt(e),Oe(cr()[e]))},g:function(e,t){var r=Cn(e,t>>>0),a=r[0];t=a.name+"_$"+r.slice(1).map(function(K){return K.name}).join("_")+"$";var u=pr[t];if(u!==void 0)return u;u=["retType"];for(var d=[a],b="",O=0;O<e-1;++O)b+=(O!==0?", ":"")+"arg"+O,u.push("argType"+O),d.push(r[1+O]);var D="return function "+dr("methodCaller_"+t)+`(handle, name, destructors, args) {\n`,I=0;for(O=0;O<e-1;++O)D+="    var arg"+O+" = argType"+O+".readValueFromPointer(args"+(I?"+"+I:"")+`);\n`,I+=r[O+1].argPackAdvance;for(D+="    var rv = handle[name]("+b+`);\n`,O=0;O<e-1;++O)r[O+1].deleteObject&&(D+="    argType"+O+".deleteObject(arg"+O+`);\n`);return a.Ib||(D+=`    return retType.toWireType(destructors, rv);\n`),u.push(D+`};\n`),e=Pn(u).apply(null,d),u=Mn(e),pr[t]=u},q:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),Oe(e[t])},d:function(e){e>>>=0,4<e&&(be.get(e).Ab+=1)},x:function(e,t,r,a){r>>>=0,a>>>=0,e=ge(e>>>0);var u=mr[t];return u||(u=Dn(t),mr[t]=u),u(e,r,a)},v:function(){return Oe([])},l:function(e){e=ge(e>>>0);for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return Oe(t)},e:function(e){return Oe(vt(e>>>0))},k:function(){return Oe({})},f:function(e){e>>>=0;for(var t=ge(e);t.length;){var r=t.pop();t.pop()(r)}Pt(e)},j:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=ge(t),r=ge(r),e[t]=r},h:function(e,t){return t>>>=0,e=yt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Oe(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),c()[t>>>2>>>0]=e.getUTCSeconds(),c()[t+4>>>2>>>0]=e.getUTCMinutes(),c()[t+8>>>2>>>0]=e.getUTCHours(),c()[t+12>>>2>>>0]=e.getUTCDate(),c()[t+16>>>2>>>0]=e.getUTCMonth(),c()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,c()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),c()[t>>>2>>>0]=e.getSeconds(),c()[t+4>>>2>>>0]=e.getMinutes(),c()[t+8>>>2>>>0]=e.getHours(),c()[t+12>>>2>>>0]=e.getDate(),c()[t+16>>>2>>>0]=e.getMonth(),c()[t+20>>>2>>>0]=e.getFullYear()-1900,c()[t+24>>>2>>>0]=e.getDay();var r=(rt(e.getFullYear())?gr:hr)[e.getMonth()]+e.getDate()-1|0;c()[t+28>>>2>>>0]=r,c()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var a=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=a&&e.getTimezoneOffset()==Math.min(a,r))|0,c()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(c()[e+20>>>2>>>0]+1900,c()[e+16>>>2>>>0],c()[e+12>>>2>>>0],c()[e+8>>>2>>>0],c()[e+4>>>2>>>0],c()[e>>>2>>>0],0),r=c()[e+32>>>2>>>0],a=t.getTimezoneOffset(),u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),d=new Date(t.getFullYear(),0,1).getTimezoneOffset(),b=Math.min(d,u);return 0>r?c()[e+32>>>2>>>0]=+(u!=d&&b==a):0<r!=(b==a)&&(u=Math.max(d,u),t.setTime(t.getTime()+6e4*((0<r?b:u)-a))),c()[e+24>>>2>>>0]=t.getDay(),r=(rt(t.getFullYear())?gr:hr)[t.getMonth()]+t.getDate()-1|0,c()[e+28>>>2>>>0]=r,c()[e>>>2>>>0]=t.getSeconds(),c()[e+4>>>2>>>0]=t.getMinutes(),c()[e+8>>>2>>>0]=t.getHours(),c()[e+12>>>2>>>0]=t.getDate(),c()[e+16>>>2>>>0]=t.getMonth(),c()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:yr,Z:vr,N:function(e,t,r){function a(I){return(I=I.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?I[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var u=new Date().getFullYear(),d=new Date(u,0,1),b=new Date(u,6,1);u=d.getTimezoneOffset();var O=b.getTimezoneOffset(),D=Math.max(u,O);_()[e>>>2>>>0]=60*D,c()[t>>>2>>>0]=+(u!=O),e=a(d),t=a(b),e=br(e),t=br(t),O<u?(_()[r>>>2>>>0]=e,_()[r+4>>>2>>>0]=t):(_()[r>>>2>>>0]=t,_()[r+4>>>2>>>0]=e)},n:()=>{De("")},F:()=>{},H:()=>Date.now(),la:()=>{throw Je+=1,"unwind"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>L?($r(),ct(zr)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=y().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var u=Math;a=Math.max(e,a);e:{u=(u.min.call(u,4294901760,a+(65536-a%65536)%65536)-G.buffer.byteLength+65535)/65536;try{G.grow(u),Y();var d=1;break e}catch{}d=void 0}if(d)return!0}return!1},fa:wr,ga:_r,V:et,z:Tr,D:Er,ca:Sr,C:Ar,a:G||l.wasmMemory,oa:Fr,p:function(e,t,r,a){return Fr(e>>>0,t>>>0,r>>>0,a>>>0)}},F=function(){var e={a:Bn};return Ae++,mt(e,function(t){var r=t.module;F=t.instance.exports,F=Ln(),C.Eb.push(F.Xa),s=F._a,Pe.unshift(F.sa),he=r,nt()}).catch(W),{}}();l._OrtInit=(e,t)=>(l._OrtInit=F.ta)(e,t),l._OrtGetLastError=(e,t)=>(l._OrtGetLastError=F.ua)(e,t),l._OrtCreateSessionOptions=(e,t,r,a,u,d,b,O,D,I)=>(l._OrtCreateSessionOptions=F.va)(e,t,r,a,u,d,b,O,D,I),l._OrtAppendExecutionProvider=(e,t)=>(l._OrtAppendExecutionProvider=F.wa)(e,t),l._OrtAddFreeDimensionOverride=(e,t,r)=>(l._OrtAddFreeDimensionOverride=F.xa)(e,t,r),l._OrtAddSessionConfigEntry=(e,t,r)=>(l._OrtAddSessionConfigEntry=F.ya)(e,t,r),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=F.za)(e),l._OrtCreateSession=(e,t,r)=>(l._OrtCreateSession=F.Aa)(e,t,r),l._OrtReleaseSession=e=>(l._OrtReleaseSession=F.Ba)(e),l._OrtGetInputOutputCount=(e,t,r)=>(l._OrtGetInputOutputCount=F.Ca)(e,t,r),l._OrtGetInputName=(e,t)=>(l._OrtGetInputName=F.Da)(e,t),l._OrtGetOutputName=(e,t)=>(l._OrtGetOutputName=F.Ea)(e,t),l._OrtFree=e=>(l._OrtFree=F.Fa)(e),l._OrtCreateTensor=(e,t,r,a,u,d)=>(l._OrtCreateTensor=F.Ga)(e,t,r,a,u,d),l._OrtGetTensorData=(e,t,r,a,u)=>(l._OrtGetTensorData=F.Ha)(e,t,r,a,u),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=F.Ia)(e),l._OrtCreateRunOptions=(e,t,r,a)=>(l._OrtCreateRunOptions=F.Ja)(e,t,r,a),l._OrtAddRunConfigEntry=(e,t,r)=>(l._OrtAddRunConfigEntry=F.Ka)(e,t,r),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=F.La)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=F.Ma)(e),l._OrtBindInput=(e,t,r)=>(l._OrtBindInput=F.Na)(e,t,r),l._OrtBindOutput=(e,t,r,a)=>(l._OrtBindOutput=F.Oa)(e,t,r,a),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=F.Pa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=F.Qa)(e),l._OrtRunWithBinding=(e,t,r,a,u)=>(l._OrtRunWithBinding=F.Ra)(e,t,r,a,u),l._OrtRun=(e,t,r,a,u,d,b,O)=>(l._OrtRun=F.Sa)(e,t,r,a,u,d,b,O),l._OrtEndProfiling=e=>(l._OrtEndProfiling=F.Ta)(e);var wt=l._pthread_self=()=>(wt=l._pthread_self=F.Ua)(),_t=l._malloc=e=>(_t=l._malloc=F.Va)(e),Re=l._free=e=>(Re=l._free=F.Wa)(e);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=F.Xa)();var Dr=e=>(Dr=F.Ya)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=F.Za)();var Ir=l.__emscripten_thread_init=(e,t,r,a,u,d)=>(Ir=l.__emscripten_thread_init=F.$a)(e,t,r,a,u,d);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=F.ab)();var Rr=(e,t,r,a)=>(Rr=F.bb)(e,t,r,a),xt=e=>(xt=F.cb)(e),Bt=l.__emscripten_thread_exit=e=>(Bt=l.__emscripten_thread_exit=F.db)(e),Ur=l.__emscripten_check_mailbox=()=>(Ur=l.__emscripten_check_mailbox=F.eb)(),xr=(e,t)=>(xr=F.fb)(e,t),Lt=()=>(Lt=F.gb)(),Tt=e=>(Tt=F.hb)(e),kt=e=>(kt=F.ib)(e);function Ln(){var e=F;e=Object.assign({},e);var t=a=>()=>a()>>>0,r=a=>u=>a(u)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=r(e.Va),e.Ya=r(e.Ya),e.gb=t(e.gb),e.ib=r(e.ib),e}l.keepRuntimeAlive=Le,l.wasmMemory=G,l.stackAlloc=kt,l.stackSave=Lt,l.stackRestore=Tt,l.UTF8ToString=Ge,l.stringToUTF8=tt,l.lengthBytesUTF8=ie,l.ExitStatus=Ze,l.PThread=C;var Et;ke=function e(){Et||Br(),Et||(ke=e)};function Br(){0<Ae||(A?(x(l),A||Ye(Pe),startWorker(l)):(Ye(Be),0<Ae||Et||(Et=!0,l.calledRun=!0,le||(A||Ye(Pe),x(l),A||Ye(qe)))))}return Br(),h.ready}})();typeof Yr=="object"&&typeof Vt=="object"?Vt.exports=Gr:typeof define=="function"&&define.amd&&define([],()=>Gr)});var qr=lt((fo,Gn)=>{Gn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var Xr;Xr=Hr();var Yn=Vr(),qt,Jt=!1,St=!1,Jr=!1,Vn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},qn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Jn=(f,h)=>f?"ort-training-wasm-simd.wasm":h?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Kr=async f=>{if(Jt)return Promise.resolve();if(St)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Jr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");St=!0;let h=f.initTimeout,o=f.numThreads,y=f.simd,v=o>1&&Vn(),T=y&&qn(),c=f.wasmPaths,_=typeof c=="string"?c:void 0,P=Jn(T,v),l=typeof c=="object"?c[P]:void 0,x=!1,W=[];if(h>0&&W.push(new Promise(U=>{setTimeout(()=>{x=!0,U()},h)})),W.push(new Promise((U,B)=>{let j=v?Yn:Xr,V={locateFile:($,L)=>v&&$.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([qr()],{type:"text/javascript"})):$.endsWith(".wasm")?l||(_??L)+P:L+$};if(v)if(typeof Blob>"u")V.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let $=`var ortWasmThreaded=${j.toString()};`;V.mainScriptUrlOrBlob=new Blob([$],{type:"text/javascript"})}j(V).then($=>{St=!1,Jt=!0,qt=$,U()},$=>{St=!1,Jr=!0,B($)})})),await Promise.race(W),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${h}ms`)},te=()=>{if(Jt&&qt)return qt;throw new Error("WebAssembly is not initialized yet.")};var re=(f,h)=>{let o=te(),y=o.lengthBytesUTF8(f)+1,v=o._malloc(y);return o.stringToUTF8(f,v,y),h.push(v),v},dt=(f,h,o,y)=>{if(typeof f=="object"&&f!==null){if(o.has(f))throw new Error("Circular reference in options");o.add(f)}Object.entries(f).forEach(([v,T])=>{let c=h?h+v:v;if(typeof T=="object")dt(T,c+".",o,y);else if(typeof T=="string"||typeof T=="number")y(c,T.toString());else if(typeof T=="boolean")y(c,T?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof T}`)})},Q=f=>{let h=te(),o=h.stackSave();try{let y=h.stackAlloc(8);h._OrtGetLastError(y,y+4);let v=h.HEAP32[y/4],T=h.HEAPU32[y/4+1],c=T?h.UTF8ToString(T):"";throw new Error(`${f} ERROR_CODE: ${v}, ERROR_MESSAGE: ${c}`)}finally{h.stackRestore(o)}};var Zr=f=>{let h=te(),o=0,y=[],v=f||{};try{if(f?.logSeverityLevel===void 0)v.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if(f?.logVerbosityLevel===void 0)v.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);f?.terminate===void 0&&(v.terminate=!1);let T=0;return f?.tag!==void 0&&(T=re(f.tag,y)),o=h._OrtCreateRunOptions(v.logSeverityLevel,v.logVerbosityLevel,!!v.terminate,T),o===0&&Q("Can\'t create run options."),f?.extra!==void 0&&dt(f.extra,"",new WeakSet,(c,_)=>{let P=re(c,y),l=re(_,y);h._OrtAddRunConfigEntry(o,P,l)!==0&&Q(`Can\'t set a run config entry: ${c} - ${_}.`)}),[o,y]}catch(T){throw o!==0&&h._OrtReleaseRunOptions(o),y.forEach(c=>h._free(c)),T}};var Xn=f=>{switch(f){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${f}`)}},Kn=f=>{switch(f){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${f}`)}},Zn=f=>{f.extra||(f.extra={}),f.extra.session||(f.extra.session={});let h=f.extra.session;h.use_ort_model_bytes_directly||(h.use_ort_model_bytes_directly="1"),f.executionProviders&&f.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(f.enableMemPattern=!1)},Qn=(f,h,o)=>{for(let y of h){let v=typeof y=="string"?y:y.name;switch(v){case"xnnpack":v="XNNPACK";break;case"webnn":if(v="WEBNN",typeof y!="string"){let c=y;if(c?.deviceType){let _=re("deviceType",o),P=re(c.deviceType,o);te()._OrtAddSessionConfigEntry(f,_,P)!==0&&Q(`Can\'t set a session config entry: \'deviceType\' - ${c.deviceType}.`)}if(c?.numThreads){let _=c.numThreads;(typeof _!="number"||!Number.isInteger(_)||_<0)&&(_=0);let P=re("numThreads",o),l=re(_.toString(),o);te()._OrtAddSessionConfigEntry(f,P,l)!==0&&Q(`Can\'t set a session config entry: \'numThreads\' - ${c.numThreads}.`)}if(c?.powerPreference){let _=re("powerPreference",o),P=re(c.powerPreference,o);te()._OrtAddSessionConfigEntry(f,_,P)!==0&&Q(`Can\'t set a session config entry: \'powerPreference\' - ${c.powerPreference}.`)}}break;case"webgpu":if(v="JS",typeof y!="string"){let c=y;if(c?.preferredLayout){if(c.preferredLayout!=="NCHW"&&c.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${c.preferredLayout}`);let _=re("preferredLayout",o),P=re(c.preferredLayout,o);te()._OrtAddSessionConfigEntry(f,_,P)!==0&&Q(`Can\'t set a session config entry: \'preferredLayout\' - ${c.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${v}`)}let T=re(v,o);te()._OrtAppendExecutionProvider(f,T)!==0&&Q(`Can\'t append execution provider: ${v}.`)}},Qr=f=>{let h=te(),o=0,y=[],v=f||{};Zn(v);try{let T=Xn(v.graphOptimizationLevel??"all"),c=Kn(v.executionMode??"sequential"),_=typeof v.logId=="string"?re(v.logId,y):0,P=v.logSeverityLevel??2;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log serverity level is not valid: ${P}`);let l=v.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let x=typeof v.optimizedModelFilePath=="string"?re(v.optimizedModelFilePath,y):0;if(o=h._OrtCreateSessionOptions(T,!!v.enableCpuMemArena,!!v.enableMemPattern,c,!!v.enableProfiling,0,_,P,l,x),o===0&&Q("Can\'t create session options."),v.executionProviders&&Qn(o,v.executionProviders,y),v.freeDimensionOverrides)for(let[W,U]of Object.entries(v.freeDimensionOverrides)){if(typeof W!="string")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof U!="number"||!Number.isInteger(U)||U<0)throw new Error(`free dimension override value must be a non-negative integer: ${U}`);let B=re(W,y);h._OrtAddFreeDimensionOverride(o,B,U)!==0&&Q(`Can\'t set a free dimension override: ${W} - ${U}.`)}return v.extra!==void 0&&dt(v.extra,"",new WeakSet,(W,U)=>{let B=re(W,y),j=re(U,y);h._OrtAddSessionConfigEntry(o,B,j)!==0&&Q(`Can\'t set a session config entry: ${W} - ${U}.`)}),[o,y]}catch(T){throw o!==0&&h._OrtReleaseSessionOptions(o),y.forEach(c=>h._free(c)),T}};var Xt=f=>{switch(f){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${f}`)}},en=f=>{switch(f){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${f}`)}},Kt=f=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][f],tn=f=>{switch(f){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${f}`)}},rn=f=>{switch(f){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${f}`)}},nn=f=>f==="float32"||f==="int32"||f==="int64"||f==="bool"||f==="float16"||f==="uint32",on=f=>{switch(f){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${f}`)}};var eo=(f,h)=>{te()._OrtInit(f,h)!==0&&Q("Can\'t initialize onnxruntime.")},sn=async f=>{eo(f.wasm.numThreads,rn(f.logLevel))},un=async(f,h)=>{},pt=new Map,to=f=>{let h=te(),o=h.stackSave();try{let y=h.stackAlloc(8);return h._OrtGetInputOutputCount(f,y,y+4)!==0&&Q("Can\'t get session input/output count."),[h.HEAP32[y/4],h.HEAP32[y/4+1]]}finally{h.stackRestore(o)}},Zt=f=>{let h=te(),o=h._malloc(f.byteLength);if(o===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${f.byteLength}.`);return h.HEAPU8.set(f,o),[o,f.byteLength]},fn=(f,h)=>{let o,y,v=te();Array.isArray(f)?[o,y]=f:f.buffer===v.HEAPU8.buffer?[o,y]=[f.byteOffset,f.byteLength]:[o,y]=Zt(f);let T=0,c=0,_=0,P=[],l=[],x=[];try{[c,P]=Qr(h),T=v._OrtCreateSession(o,y,c),T===0&&Q("Can\'t create a session.");let[W,U]=to(T),B=[],j=[],V=[];for(let L=0;L<W;L++){let A=v._OrtGetInputName(T,L);A===0&&Q("Can\'t get an input name."),l.push(A),B.push(v.UTF8ToString(A))}for(let L=0;L<U;L++){let A=v._OrtGetOutputName(T,L);A===0&&Q("Can\'t get an output name."),x.push(A);let se=v.UTF8ToString(A);j.push(se)}let $=null;return pt.set(T,[T,l,x,$]),[T,B,j]}catch(W){throw l.forEach(U=>v._OrtFree(U)),x.forEach(U=>v._OrtFree(U)),_!==0&&v._OrtReleaseBinding(_),T!==0&&v._OrtReleaseSession(T),W}finally{v._free(o),c!==0&&v._OrtReleaseSessionOptions(c),P.forEach(W=>v._free(W))}},ln=f=>{let h=te(),o=pt.get(f);if(!o)throw new Error(`cannot release session. invalid session id: ${f}`);let[y,v,T,c]=o;c&&h._OrtReleaseBinding(c.handle),h.jsepUnregisterBuffers?.(f),v.forEach(_=>h._OrtFree(_)),T.forEach(_=>h._OrtFree(_)),h._OrtReleaseSession(y),pt.delete(f)},an=(f,h,o,y,v)=>{if(!f){h.push(0);return}let T=te(),c=f[0],_=f[1],P=f[3],l,x;if(c==="string"&&P==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(P==="gpu-buffer"){let B=f[2].gpuBuffer,j=Kt(Xt(c));x=_.reduce((V,$)=>V*$,1)*j,l=T.jsepRegisterBuffer(y,v,B,x)}else{let B=f[2];if(Array.isArray(B)){x=4*B.length,l=T._malloc(x),o.push(l);let j=l/4;for(let V=0;V<B.length;V++){if(typeof B[V]!="string")throw new TypeError(`tensor data at index ${V} is not a string`);T.HEAPU32[j++]=re(B[V],o)}}else x=B.byteLength,l=T._malloc(x),o.push(l),T.HEAPU8.set(new Uint8Array(B.buffer,B.byteOffset,x),l)}let W=T.stackSave(),U=T.stackAlloc(4*_.length);try{let B=U/4;_.forEach(V=>T.HEAP32[B++]=V);let j=T._OrtCreateTensor(Xt(c),l,x,U,_.length,on(P));j===0&&Q(`Can\'t create tensor for input/output. session=${y}, index=${v}.`),h.push(j)}finally{T.stackRestore(W)}},cn=async(f,h,o,y,v,T)=>{let c=te(),_=pt.get(f);if(!_)throw new Error(`cannot run inference. invalid session id: ${f}`);let[P,l,x,W]=_,U=h.length,B=y.length,j=0,V=[],$=[],L=[],A=[],se=c.stackSave(),we=c.stackAlloc(U*4),E=c.stackAlloc(U*4),_e=c.stackAlloc(B*4),ve=c.stackAlloc(B*4);try{[j,V]=Zr(T);for(let k=0;k<U;k++)an(o[k],$,A,f,h[k]);for(let k=0;k<B;k++)an(v[k],L,A,f,U+y[k]);let X=we/4,M=E/4,ne=_e/4,Ne=ve/4;for(let k=0;k<U;k++)c.HEAPU32[X++]=$[k],c.HEAPU32[M++]=l[h[k]];for(let k=0;k<B;k++)c.HEAPU32[ne++]=L[k],c.HEAPU32[Ne++]=x[y[k]];let je;je=await c._OrtRun(P,E,we,U,ve,B,_e,j),je!==0&&Q("failed to call OrtRun().");let oe=[];for(let k=0;k<B;k++){let G=c.HEAPU32[_e/4+k];if(G===L[k]){oe.push(v[k]);continue}let he=c.stackSave(),le=c.stackAlloc(4*4),ue=!1,z,ce=0;try{c._OrtGetTensorData(G,le,le+4,le+8,le+12)!==0&&Q(`Can\'t access output tensor data on index ${k}.`);let Se=le/4,xe=c.HEAPU32[Se++];ce=c.HEAPU32[Se++];let ze=c.HEAPU32[Se++],$e=c.HEAPU32[Se++],de=[];for(let Y=0;Y<$e;Y++)de.push(c.HEAPU32[ze/4+Y]);c._OrtFree(ze);let pe=de.reduce((Y,ee)=>Y*ee,1);z=en(xe);let Fe=W?.outputPreferredLocations[y[k]];if(z==="string"){if(Fe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Y=[],ee=ce/4;for(let Be=0;Be<pe;Be++){let Pe=c.HEAPU32[ee++],qe=Be===pe-1?void 0:c.HEAPU32[ee]-Pe;Y.push(c.UTF8ToString(Pe,qe))}oe.push([z,de,Y,"cpu"])}else if(Fe==="gpu-buffer"&&pe>0){let Y=c.jsepGetBuffer(ce),ee=Kt(xe);if(ee===void 0||!nn(z))throw new Error(`Unsupported data type: ${z}`);ue=!0,oe.push([z,de,{gpuBuffer:Y,download:c.jsepCreateDownloader(Y,pe*ee,z),dispose:()=>{c._OrtReleaseTensor(G)}},"gpu-buffer"])}else{let Y=tn(z),ee=new Y(pe);new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength).set(c.HEAPU8.subarray(ce,ce+ee.byteLength)),oe.push([z,de,ee,"cpu"])}}finally{c.stackRestore(he),z==="string"&&ce&&c._free(ce),ue||c._OrtReleaseTensor(G)}}return W&&c._OrtClearBoundOutputs(W.handle),oe}finally{c.stackRestore(se),$.forEach(X=>c._OrtReleaseTensor(X)),L.forEach(X=>c._OrtReleaseTensor(X)),A.forEach(X=>c._free(X)),j!==0&&c._OrtReleaseRunOptions(j),V.forEach(X=>c._free(X))}},dn=f=>{let h=te(),o=pt.get(f);if(!o)throw new Error("invalid session id");let y=o[0],v=h._OrtEndProfiling(y);v===0&&Q("Can\'t get an profile file name."),h._OrtFree(v)},pn=f=>{let h=[];for(let o of f){let y=o[2];!Array.isArray(y)&&"buffer"in y&&h.push(y.buffer)}return h};self.onmessage=f=>{let{type:h,in:o}=f.data;try{switch(h){case"init-wasm":Kr(o.wasm).then(()=>{sn(o).then(()=>{postMessage({type:h})},y=>{postMessage({type:h,err:y})})},y=>{postMessage({type:h,err:y})});break;case"init-ep":{let{epName:y,env:v}=o;un(v,y).then(()=>{postMessage({type:h})},T=>{postMessage({type:h,err:T})});break}case"copy-from":{let{buffer:y}=o,v=Zt(y);postMessage({type:h,out:v});break}case"create":{let{model:y,options:v}=o,T=fn(y,v);postMessage({type:h,out:T});break}case"release":ln(o),postMessage({type:h});break;case"run":{let{sessionId:y,inputIndices:v,inputs:T,outputIndices:c,options:_}=o;cn(y,v,T,c,new Array(c.length).fill(null),_).then(P=>{P.some(l=>l[3]!=="cpu")?postMessage({type:h,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:h,out:P},pn(P))},P=>{postMessage({type:h,err:P})});break}case"end-profiling":dn(o),postMessage({type:h});break;default:}}catch(y){postMessage({type:h,err:y})}};})();\n'});var ot,Ce,kt,cr,dr,Yr,Vr,Ot,Tt,Ko,lr,Ua,ka,La,Ha,Wa,Na,za,qr=G(()=>{"use strict";nt();fr();at();ot=()=>!!Q.wasm.proxy&&typeof document<"u",kt=!1,cr=!1,dr=!1,Vr=new Map,Ot=(a,n)=>{let r=Vr.get(a);r?r.push(n):Vr.set(a,[n])},Tt=()=>{if(kt||!cr||dr||!Ce)throw new Error("worker not ready")},Ko=a=>{switch(a.data.type){case"init-wasm":kt=!1,a.data.err?(dr=!0,Yr[1](a.data.err)):(cr=!0,Yr[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let n=Vr.get(a.data.type);a.data.err?n.shift()[1](a.data.err):n.shift()[0](a.data.out);break}default:}},lr=typeof document<"u"?document?.currentScript?.src:void 0,Ua=async()=>{if(!cr){if(kt)throw new Error("multiple calls to 'initWasm()' detected.");if(dr)throw new Error("previous call to 'initWasm()' failed.");if(kt=!0,ot())return Q.wasm.wasmPaths===void 0&&lr&&lr.indexOf("blob:")!==0&&(Q.wasm.wasmPaths=lr.substr(0,+lr.lastIndexOf("/")+1)),new Promise((a,n)=>{Ce?.terminate();let r=URL.createObjectURL(new Blob([Ba()],{type:"text/javascript"}));Ce=new Worker(r,{name:"ort-wasm-proxy-worker"}),Ce.onerror=u=>n(u),Ce.onmessage=Ko,URL.revokeObjectURL(r),Yr=[a,n];let l={type:"init-wasm",in:Q};Ce.postMessage(l)});try{await Sa(Q.wasm),await Ca(Q),cr=!0}catch(a){throw dr=!0,a}finally{kt=!1}}},ka=async a=>{if(ot())return Tt(),new Promise((n,r)=>{Ot("init-ep",[n,r]);let l={type:"init-ep",in:{epName:a,env:Q}};Ce.postMessage(l)});await Pa(Q,a)},La=async a=>ot()?(Tt(),new Promise((n,r)=>{Ot("copy-from",[n,r]);let l={type:"copy-from",in:{buffer:a}};Ce.postMessage(l,[a.buffer])})):Ut(a),Ha=async(a,n)=>{if(ot()){if(n?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Tt(),new Promise((r,l)=>{Ot("create",[r,l]);let u={type:"create",in:{model:a,options:n}},m=[];a instanceof Uint8Array&&m.push(a.buffer),Ce.postMessage(u,m)})}else return Ia(a,n)},Wa=async a=>{if(ot())return Tt(),new Promise((n,r)=>{Ot("release",[n,r]);let l={type:"release",in:a};Ce.postMessage(l)});Ra(a)},Na=async(a,n,r,l,u,m)=>{if(ot()){if(r.some(f=>f[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(u.some(f=>f))throw new Error("pre-allocated output tensor is not supported for proxy.");return Tt(),new Promise((f,p)=>{Ot("run",[f,p]);let y=r,s={type:"run",in:{sessionId:a,inputIndices:n,inputs:y,outputIndices:l,options:m}};Ce.postMessage(s,Da(y))})}else return xa(a,n,r,l,u,m)},za=async a=>{if(ot())return Tt(),new Promise((n,r)=>{Ot("end-profiling",[n,r]);let l={type:"end-profiling",in:a};Ce.postMessage(l)});Fa(a)}});var it,mr,pr,Jr=G(()=>{"use strict";nt();qr();sr();it=(a,n)=>{switch(a.location){case"cpu":return[a.type,a.dims,a.data,"cpu"];case"gpu-buffer":return[a.type,a.dims,{gpuBuffer:a.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${a.location} for ${n()}`)}},mr=a=>{switch(a[3]){case"cpu":return new pe(a[0],a[2],a[1]);case"gpu-buffer":{let n=a[0];if(!ir(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);let{gpuBuffer:r,download:l,dispose:u}=a[2];return pe.fromGpuBuffer(r,{dataType:n,dims:a[1],download:l,dispose:u})}default:throw new Error(`invalid data location: ${a[3]}`)}},pr=class{async fetchModelAndCopyToWasmMemory(n){let r=await fetch(n);if(r.status!==200)throw new Error(`failed to load model: ${n}`);let l=await r.arrayBuffer();return La(new Uint8Array(l))}async loadModel(n,r){let l;typeof n=="string"?typeof process<"u"&&process.versions&&process.versions.node?l=await(void 0)(n):l=await this.fetchModelAndCopyToWasmMemory(n):l=n,[this.sessionId,this.inputNames,this.outputNames]=await Ha(l,r)}async dispose(){return Wa(this.sessionId)}async run(n,r,l){let u=[],m=[];Object.entries(n).forEach(E=>{let S=E[0],D=E[1],P=this.inputNames.indexOf(S);if(P===-1)throw new Error(`invalid input '${S}'`);u.push(D),m.push(P)});let f=[],p=[];Object.entries(r).forEach(E=>{let S=E[0],D=E[1],P=this.outputNames.indexOf(S);if(P===-1)throw new Error(`invalid output '${S}'`);f.push(D),p.push(P)});let y=u.map((E,S)=>it(E,()=>`input "${this.inputNames[m[S]]}"`)),s=f.map((E,S)=>E?it(E,()=>`output "${this.outputNames[p[S]]}"`):null),b=await Na(this.sessionId,m,y,p,s,l),_={};for(let E=0;E<b.length;E++)_[this.outputNames[p[E]]]=f[E]??mr(b[E]);return _}startProfiling(){}endProfiling(){za(this.sessionId)}}});var Zo,hr,$a=G(()=>{"use strict";nt();qr();Jr();Zo=()=>{if((typeof Q.wasm.initTimeout!="number"||Q.wasm.initTimeout<0)&&(Q.wasm.initTimeout=0),typeof Q.wasm.simd!="boolean"&&(Q.wasm.simd=!0),typeof Q.wasm.proxy!="boolean"&&(Q.wasm.proxy=!1),typeof Q.wasm.numThreads!="number"||!Number.isInteger(Q.wasm.numThreads)||Q.wasm.numThreads<=0){let a=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Q.wasm.numThreads=Math.min(4,Math.ceil((a||1)/2))}},hr=class{async init(n){Zo(),await Ua(),await ka(n)}async createInferenceSessionHandler(n,r){let l=new pr;return await l.loadModel(n,r),Promise.resolve(l)}}});var Ie,_e,Ga,Qo,ja,Xr,Ya,gr,Va,qa,Ja,Xa,Ka,Kr,Za,Qa,eo,to=G(()=>{"use strict";$r();jr();sr();fr();at();xt();Ie="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",_e=(a,n,r=!0)=>{r&&a!==0?ee(n):!r&&a===0&&ee(n)},Ga=a=>{let n=$(),[r,l]=a,u=0;try{if(n._OrtTrainingLoadCheckpoint)u=n._OrtTrainingLoadCheckpoint(r,l);else throw new Error(Ie);return _e(u,"Error occurred when trying to create a CheckpointState",!1),u}catch(m){throw n._OrtTrainingReleaseCheckpoint&&u!==0&&n._OrtTrainingReleaseCheckpoint(u),m}finally{n._OrtFree(a[0])}},Qo=(a,n)=>{let r=$(),l=r.stackSave();try{let u=r.stackAlloc(8);if(r._OrtTrainingGetModelInputOutputCount){let m=r._OrtTrainingGetModelInputOutputCount(a,u,u+4,n);return _e(m,"Can't get session input/output count."),[r.HEAP32[u/4],r.HEAP32[u/4+1]]}else throw new Error(Ie)}finally{r.stackRestore(l)}},ja=(a,n,r,l)=>{let u=[],m=$();for(let f=0;f<n;f++)if(m._OrtTrainingGetModelInputOutputName){let p=m._OrtTrainingGetModelInputOutputName(a,f,r,l);_e(p,`Can't get input or output name -- is input: ${r}, index ${f}`,!1),u.push(m.UTF8ToString(p)),m._free(p)}else throw new Error(Ie);return u},Xr=(a,n)=>{let r=[],l=[],[u,m]=Qo(a,n);return r=ja(a,u,!0,n),l=ja(a,m,!1,n),[r,l]},Ya=(a,n,r,l,u)=>{let m=$(),f=0,p=0,y=[];try{if([p,y]=ar(u),m._OrtTrainingCreateSession)f=m._OrtTrainingCreateSession(p,a,n[0],n[1],r[0],r[1],l[0],l[1]);else throw new Error(Ie);return _e(f,"Error occurred when trying to create a TrainingSession",!1),f}catch(s){throw m._OrtTrainingReleaseSession&&f!==0&&m._OrtTrainingReleaseSession(f),s}finally{m._free(n[0]),m._free(r[0]),m._free(l[0]),p!==0&&m._OrtReleaseSessionOptions(p),y.forEach(s=>m._free(s))}},gr=(a,n,r,l,u,m)=>{let f=n.length;for(let b=0;b<f;b++)ur(r[b],l,u,a,m+n[b]);let p=$(),y=p.stackAlloc(f*4),s=y/4;for(let b=0;b<f;b++)p.HEAPU32[s++]=l[b];return y},Va=(a,n,r,l)=>{let u=$(),m=[];for(let f=0;f<n;f++){let p=u.HEAPU32[a/4+f];if(p===r[f]){m.push(l[f]);continue}let y=u.stackSave(),s=u.stackAlloc(4*4),b,_=0;try{let E=u._OrtGetTensorData(p,s,s+4,s+8,s+12);_e(E,`Can't access output tensor data on index ${f}.`);let S=s/4,D=u.HEAPU32[S++];_=u.HEAPU32[S++];let P=u.HEAPU32[S++],L=u.HEAPU32[S++],F=[];for(let N=0;N<L;N++)F.push(u.HEAPU32[P/4+N]);u._OrtFree(P);let I=F.reduce((N,q)=>N*q,1);if(b=or(D),b==="string"){let N=[],q=_/4;for(let R=0;R<I;R++){let ve=u.HEAPU32[q++],Oe=R===I-1?void 0:u.HEAPU32[q]-ve;N.push(u.UTF8ToString(ve,Oe))}m.push([b,F,N,"cpu"])}else{let N=Ft(b),q=new N(I);new Uint8Array(q.buffer,q.byteOffset,q.byteLength).set(u.HEAPU8.subarray(_,_+q.byteLength)),m.push([b,F,q,"cpu"])}}finally{u.stackRestore(y),b==="string"&&_&&u._free(_),u._OrtReleaseTensor(p)}}return m},qa=async a=>{let n=$();if(n._OrtTrainingLazyResetGrad){let r=n._OrtTrainingLazyResetGrad(a);_e(r,"Can't call lazyResetGrad.")}else throw new Error(Ie)},Ja=async(a,n,r,l,u,m)=>{let f=$(),p=n.length,y=l.length,s=0,b=[],_=[],E=[],S=[],D=f.stackSave();try{[s,b]=wt(m);let P=gr(a,n,r,_,S,0),L=gr(a,l,u,E,S,p);if(f._OrtTrainingRunTrainStep){let F=f._OrtTrainingRunTrainStep(a,P,p,L,y,s);_e(F,"failed to call OrtTrainingRunTrainStep in the WebAssembly layer")}else throw new Error(Ie);return Va(L,y,E,u)}finally{f.stackRestore(D),_.forEach(P=>f._OrtReleaseTensor(P)),E.forEach(P=>f._OrtReleaseTensor(P)),S.forEach(P=>f._free(P)),s!==0&&f._OrtReleaseRunOptions(s),b.forEach(P=>f._free(P))}},Xa=async(a,n)=>{let r=$(),l=0,u=[];try{if([l,u]=wt(n),r._OrtTrainingOptimizerStep){let m=r._OrtTrainingOptimizerStep(a,l);_e(m,"Failed to call OrtTrainingOptimizerStep in the WebAssembly layer")}else throw new Error(Ie)}finally{l!==0&&r._OrtReleaseRunOptions(l),u.forEach(m=>r._free(m))}},Ka=async(a,n,r,l,u,m)=>{let f=$(),p=n.length,y=l.length,s=0,b=[],_=[],E=[],S=[],D=f.stackSave();try{[s,b]=wt(m);let P=gr(a,n,r,_,S,0),L=gr(a,l,u,E,S,p);if(f._OrtTrainingEvalStep){let F=f._OrtTrainingEvalStep(a,P,p,L,y,s);_e(F,"failed to call OrtTrainingEvalStep in the WebAssembly layer")}else throw new Error(Ie);return Va(L,y,E,u)}finally{f.stackRestore(D),_.forEach(P=>f._OrtReleaseTensor(P)),E.forEach(P=>f._OrtReleaseTensor(P)),S.forEach(P=>f._free(P)),s!==0&&f._OrtReleaseRunOptions(s),b.forEach(P=>f._free(P))}},Kr=(a,n)=>{let r=$(),l=r.stackSave();try{let u=r.stackAlloc(4);if(r._OrtTrainingGetParametersSize){let m=r._OrtTrainingGetParametersSize(a,u,n);return _e(m,"Can't get parameters size"),r.HEAP32[u/4]}else throw new Error(Ie)}finally{r.stackRestore(l)}},Za=async(a,n)=>{let r=$(),l=r.stackSave(),u="float32",m="cpu",f=Kr(a,n),p=0,y=4*f,s=r._malloc(y),b=[f],_=r.stackAlloc(4),E=_/4;r.HEAP32[E]=f;try{if(p=r._OrtCreateTensor(vt(u),s,y,_,b.length,Dt(m)),_e(p,`Can't create tensor for getContiguousParameters. session=${a}.`,!1),r._OrtTrainingCopyParametersToBuffer){let L=r._OrtTrainingCopyParametersToBuffer(a,p,f,n);_e(L,"Can't get contiguous parameters.")}else throw new Error(Ie);let S=Ft(u),D=new S(f),P=[];if(new Uint8Array(D.buffer,D.byteOffset,D.byteLength).set(r.HEAPU8.subarray(s,s+y)),P.push([u,b,D,m]),P.length!==1)throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of
     one, got ${P.length}`);return P[0]}finally{p!==0&&r._OrtReleaseTensor(p),r._free(s),r._free(_),r.stackRestore(l)}},Qa=async(a,n,r)=>{let l=$(),u=l.stackSave(),m="float32",f="cpu",p=n.length,y=p/4,s=l._malloc(p);l.HEAPU8.set(n,s);let b=l.stackAlloc(4);l.HEAP32[b/4]=y;let _=1,E=0;try{if(E=l._OrtCreateTensor(vt(m),s,p,b,_,Dt(f)),_e(E,`Can't create tensor for input/output. session=${a}`,!1),l._OrtTrainingCopyParametersFromBuffer){let S=l._OrtTrainingCopyParametersFromBuffer(a,E,y,r);_e(S,"Can't copy buffer to parameters.")}else throw new Error(Ie)}finally{E!==0&&l._OrtReleaseTensor(E),l.stackRestore(u),l._free(s),l._free(b)}},eo=(a,n)=>{let r=$();r._OrtTrainingReleaseSession&&r._OrtTrainingReleaseSession(n),r._OrtTrainingReleaseCheckpoint&&r._OrtTrainingReleaseCheckpoint(a)}});var yr,ro=G(()=>{"use strict";Jr();fr();to();yr=class{constructor(){this.evalInputNames=[];this.evalOutputNames=[]}async uriOrBufferToHeap(n){let r;if(typeof n=="string"){let u=await(await fetch(n)).arrayBuffer();r=new Uint8Array(u)}else r=n;return Ut(r)}async createTrainingSession(n,r,l,u,m){let f=await this.uriOrBufferToHeap(n),p=await this.uriOrBufferToHeap(r),y=[0,0],s=[0,0];l!==""&&(y=await this.uriOrBufferToHeap(l)),u!==""&&(s=await this.uriOrBufferToHeap(u)),this.checkpointId=Ga(f),this.sessionId=Ya(this.checkpointId,p,y,s,m),[this.inputNames,this.outputNames]=Xr(this.sessionId,!1),l!==""&&([this.evalInputNames,this.evalOutputNames]=Xr(this.sessionId,!0))}convertMapIntoValuesArrayAndIndicesArray(n,r,l){let u=[],m=[];Object.entries(n).forEach(p=>{let y=p[0],s=p[1],b=r.indexOf(y);if(b===-1)throw new Error(`invalid input '${y}`);u.push(s),m.push(b)});let f=u.map(l);return[u,m,f]}convertTensorMetadataToReturnType(n,r,l){let u={};for(let m=0;m<n.length;m++)u[this.outputNames[l[m]]]=r[m]??mr(n[m]);return u}async lazyResetGrad(){await qa(this.sessionId)}async runTrainStep(n,r,l){let[,u,m]=this.convertMapIntoValuesArrayAndIndicesArray(n,this.inputNames,(b,_)=>it(b,()=>`input "${this.inputNames[u[_]]}"`)),[f,p,y]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.outputNames,(b,_)=>b?it(b,()=>`output "${this.outputNames[p[_]]}"`):null),s=await Ja(this.sessionId,u,m,p,y,l);return this.convertTensorMetadataToReturnType(s,f,p)}async runOptimizerStep(n){await Xa(this.sessionId,n)}async runEvalStep(n,r,l){let[,u,m]=this.convertMapIntoValuesArrayAndIndicesArray(n,this.evalInputNames,(b,_)=>it(b,()=>`input "${this.evalInputNames[u[_]]}"`)),[f,p,y]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.evalOutputNames,(b,_)=>b?it(b,()=>`output "${this.evalOutputNames[p[_]]}"`):null),s=await Ka(this.sessionId,u,m,p,y,l);return this.convertTensorMetadataToReturnType(s,f,p)}async getParametersSize(n){return Kr(this.sessionId,n)}async loadParametersBuffer(n,r){await Qa(this.sessionId,n,r)}async getContiguousParameters(n){let r=await Za(this.sessionId,n);return mr(r)}async dispose(){return eo(this.checkpointId,this.sessionId)}}});var no={};yt(no,{wasmBackend:()=>ei});var Zr,ei,ao=G(()=>{"use strict";$a();ro();Zr=class extends hr{async createTrainingSessionHandler(n,r,l,u,m){let f=new yr;return await f.createTrainingSession(n,r,l,u,m),Promise.resolve(f)}},ei=new Zr});var ri={};yt(ri,{InferenceSession:()=>ia,Tensor:()=>pe,TrainingSession:()=>la,default:()=>ti,env:()=>Q,registerBackend:()=>bt});nt();nt();nt();var da="1.17.0";var ti=Dr;{let a=(ao(),tt(no)).wasmBackend;bt("cpu",a,10),bt("wasm",a,10)}Object.defineProperty(Q.versions,"web",{value:da,enumerable:!0});return tt(ri);})();
//# sourceMappingURL=ort.training.wasm.min.js.map
