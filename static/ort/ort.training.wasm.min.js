/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var Rr=Object.defineProperty;var zo=Object.getOwnPropertyDescriptor;var No=Object.getOwnPropertyNames;var $o=Object.prototype.hasOwnProperty;var G=(a,n)=>()=>(a&&(n=a(a=0)),n);var yt=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),bt=(a,n)=>{for(var r in n)Rr(a,r,{get:n[r],enumerable:!0})},jo=(a,n,r,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let u of No(n))!$o.call(a,u)&&u!==r&&Rr(a,u,{get:()=>n[u],enumerable:!(f=zo(n,u))||f.enumerable});return a};var at=a=>jo(Rr({},"__esModule",{value:!0}),a);var Vt,ot,wt,qt,Jt=G(()=>{"use strict";Vt=new Map,ot=[],wt=(a,n,r)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){let f=Vt.get(a);if(f===void 0)Vt.set(a,{backend:n,priority:r});else{if(f.priority>r)return;if(f.priority===r&&f.backend!==n)throw new Error(`cannot register backend "${a}" using priority ${r}`)}if(r>=0){let u=ot.indexOf(a);u!==-1&&ot.splice(u,1);for(let h=0;h<ot.length;h++)if(Vt.get(ot[h]).priority<=r){ot.splice(h,0,a);return}ot.push(a)}return}throw new TypeError("not a valid backend")},qt=async a=>{let n=a.length===0?ot:a,r=[];for(let f of n){let u=Vt.get(f);if(u){if(u.initialized)return u.backend;if(u.aborted)continue;let h=!!u.initPromise;try{return h||(u.initPromise=u.backend.init()),await u.initPromise,u.initialized=!0,u.backend}catch(l){h||r.push({name:f,err:l}),u.aborted=!0}finally{delete u.initPromise}}}throw new Error(`no available backend found. ERR: ${r.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var Xn=G(()=>{"use strict";Jt()});var Kn,Zn=G(()=>{"use strict";Kn="1.17.0"});var Qn,xr,ea=G(()=>{"use strict";Zn();Qn="warning",xr={wasm:{},webgl:{},webgpu:{},versions:{common:Kn},set logLevel(a){if(a!==void 0){if(typeof a!="string"||["verbose","info","warning","error","fatal"].indexOf(a)===-1)throw new Error(`Unsupported logging level: ${a}`);Qn=a}},get logLevel(){return Qn}};Object.defineProperty(xr,"logLevel",{enumerable:!0})});var Z,ta=G(()=>{"use strict";ea();Z=xr});var ra,na,aa=G(()=>{"use strict";ra=(a,n)=>{let r=document.createElement("canvas");r.width=a.dims[3],r.height=a.dims[2];let f=r.getContext("2d");if(f!=null){let u,h;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(u=a.dims[2],h=a.dims[3]):(u=a.dims[3],h=a.dims[2]);let l=n?.format!==void 0?n.format:"RGB",p=n?.norm,y,s;p===void 0||p.mean===void 0?y=[255,255,255,255]:typeof p.mean=="number"?y=[p.mean,p.mean,p.mean,p.mean]:(y=[p.mean[0],p.mean[1],p.mean[2],0],p.mean[3]!==void 0&&(y[3]=p.mean[3])),p===void 0||p.bias===void 0?s=[0,0,0,0]:typeof p.bias=="number"?s=[p.bias,p.bias,p.bias,p.bias]:(s=[p.bias[0],p.bias[1],p.bias[2],0],p.bias[3]!==void 0&&(s[3]=p.bias[3]));let b=h*u,_=0,S=b,A=b*2,F=-1;l==="RGBA"?(_=0,S=b,A=b*2,F=b*3):l==="RGB"?(_=0,S=b,A=b*2):l==="RBG"&&(_=0,A=b,S=b*2);for(let M=0;M<h;M++)for(let D=0;D<u;D++){let L=(a.data[_++]-s[0])*y[0],R=(a.data[S++]-s[1])*y[1],N=(a.data[A++]-s[2])*y[2],q=F===-1?255:(a.data[F++]-s[3])*y[3];f.fillStyle="rgba("+L+","+R+","+N+","+q+")",f.fillRect(D,M,1,1)}return r.toDataURL()}else throw new Error("Can not access image data")},na=(a,n)=>{let r=document.createElement("canvas").getContext("2d"),f;if(r!=null){let u,h,l;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(u=a.dims[2],h=a.dims[1],l=a.dims[3]):(u=a.dims[3],h=a.dims[2],l=a.dims[1]);let p=n!==void 0&&n.format!==void 0?n.format:"RGB",y=n?.norm,s,b;y===void 0||y.mean===void 0?s=[255,255,255,255]:typeof y.mean=="number"?s=[y.mean,y.mean,y.mean,y.mean]:(s=[y.mean[0],y.mean[1],y.mean[2],255],y.mean[3]!==void 0&&(s[3]=y.mean[3])),y===void 0||y.bias===void 0?b=[0,0,0,0]:typeof y.bias=="number"?b=[y.bias,y.bias,y.bias,y.bias]:(b=[y.bias[0],y.bias[1],y.bias[2],0],y.bias[3]!==void 0&&(b[3]=y.bias[3]));let _=h*u;if(n!==void 0&&(n.format!==void 0&&l===4&&n.format!=="RGBA"||l===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let S=4,A=0,F=1,M=2,D=3,L=0,R=_,N=_*2,q=-1;p==="RGBA"?(L=0,R=_,N=_*2,q=_*3):p==="RGB"?(L=0,R=_,N=_*2):p==="RBG"&&(L=0,N=_,R=_*2),f=r.createImageData(u,h);for(let I=0;I<h*u;A+=S,F+=S,M+=S,D+=S,I++)f.data[A]=(a.data[L++]-b[0])*s[0],f.data[F]=(a.data[R++]-b[1])*s[1],f.data[M]=(a.data[N++]-b[2])*s[2],f.data[D]=q===-1?255:(a.data[q++]-b[3])*s[3]}else throw new Error("Can not access image data");return f}});var Dr,oa,ia,sa,ua,la=G(()=>{"use strict";Xt();Dr=(a,n)=>{if(a===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:r,width:f}=n,u=n.norm??{mean:255,bias:0},h,l;typeof u.mean=="number"?h=[u.mean,u.mean,u.mean,u.mean]:h=[u.mean[0],u.mean[1],u.mean[2],u.mean[3]??255],typeof u.bias=="number"?l=[u.bias,u.bias,u.bias,u.bias]:l=[u.bias[0],u.bias[1],u.bias[2],u.bias[3]??0];let p=n.format!==void 0?n.format:"RGBA",y=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",s=r*f,b=y==="RGBA"?new Float32Array(s*4):new Float32Array(s*3),_=4,S=0,A=1,F=2,M=3,D=0,L=s,R=s*2,N=-1;p==="RGB"&&(_=3,S=0,A=1,F=2,M=-1),y==="RGBA"?N=s*3:y==="RBG"?(D=0,R=s,L=s*2):y==="BGR"&&(R=0,L=s,D=s*2);for(let I=0;I<s;I++,S+=_,F+=_,A+=_,M+=_)b[D++]=(a[S]+l[0])/h[0],b[L++]=(a[A]+l[1])/h[1],b[R++]=(a[F]+l[2])/h[2],N!==-1&&M!==-1&&(b[N++]=(a[M]+l[3])/h[3]);return y==="RGBA"?new we("float32",b,[1,4,r,f]):new we("float32",b,[1,3,r,f])},oa=async(a,n)=>{let r=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,f=typeof ImageData<"u"&&a instanceof ImageData,u=typeof ImageBitmap<"u"&&a instanceof ImageBitmap,h=typeof a=="string",l,p=n??{};if(r){let y=document.createElement("canvas");y.width=a.width,y.height=a.height;let s=y.getContext("2d");if(s!=null){let b=a.height,_=a.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(b=n.resizedHeight,_=n.resizedWidth),n!==void 0){if(p=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");p.tensorFormat="RGBA",p.height=b,p.width=_}else p.tensorFormat="RGBA",p.height=b,p.width=_;s.drawImage(a,0,0),l=s.getImageData(0,0,_,b).data}else throw new Error("Can not access image data")}else if(f){let y,s;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(y=n.resizedHeight,s=n.resizedWidth):(y=a.height,s=a.width),n!==void 0&&(p=n),p.format="RGBA",p.height=y,p.width=s,n!==void 0){let b=document.createElement("canvas");b.width=s,b.height=y;let _=b.getContext("2d");if(_!=null)_.putImageData(a,0,0),l=_.getImageData(0,0,s,y).data;else throw new Error("Can not access image data")}else l=a.data}else if(u){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");let y=document.createElement("canvas");y.width=a.width,y.height=a.height;let s=y.getContext("2d");if(s!=null){let b=a.height,_=a.width;return s.drawImage(a,0,0,_,b),l=s.getImageData(0,0,_,b).data,p.height=b,p.width=_,Dr(l,p)}else throw new Error("Can not access image data")}else{if(h)return new Promise((y,s)=>{let b=document.createElement("canvas"),_=b.getContext("2d");if(!a||!_)return s();let S=new Image;S.crossOrigin="Anonymous",S.src=a,S.onload=()=>{b.width=S.width,b.height=S.height,_.drawImage(S,0,0,b.width,b.height);let A=_.getImageData(0,0,b.width,b.height);p.height=b.height,p.width=b.width,y(Dr(A.data,p))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(l!==void 0)return Dr(l,p);throw new Error("Input data provided is not supported - aborted tensor creation")},ia=(a,n)=>{let{width:r,height:f,download:u,dispose:h}=n,l=[1,f,r,4];return new we({location:"texture",type:"float32",texture:a,dims:l,download:u,dispose:h})},sa=(a,n)=>{let{dataType:r,dims:f,download:u,dispose:h}=n;return new we({location:"gpu-buffer",type:r??"float32",gpuBuffer:a,dims:f,download:u,dispose:h})},ua=(a,n,r)=>new we({location:"cpu-pinned",type:a,data:n,dims:r??[n.length]})});var Pt,Kt,fa,ca,da=G(()=>{"use strict";Pt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Kt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),fa=!1,ca=()=>{if(!fa){fa=!0;let a=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",n=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";a&&(Pt.set("int64",BigInt64Array),Kt.set(BigInt64Array,"int64")),n&&(Pt.set("uint64",BigUint64Array),Kt.set(BigUint64Array,"uint64"))}}});var pa,ma,ha=G(()=>{"use strict";Xt();pa=a=>{let n=1;for(let r=0;r<a.length;r++){let f=a[r];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${r}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${f}`);n*=f}return n},ma=(a,n)=>{switch(a.location){case"cpu":return new we(a.type,a.data,n);case"cpu-pinned":return new we({location:"cpu-pinned",data:a.data,type:a.type,dims:n});case"texture":return new we({location:"texture",texture:a.texture,type:a.type,dims:n});case"gpu-buffer":return new we({location:"gpu-buffer",gpuBuffer:a.gpuBuffer,type:a.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${a.location} is not supported`)}}});var we,Xt=G(()=>{"use strict";aa();la();da();ha();we=class{constructor(n,r,f){ca();let u,h;if(typeof n=="object"&&"location"in n)switch(this.dataLocation=n.location,u=n.type,h=n.dims,n.location){case"cpu-pinned":{let p=Pt.get(u);if(!p)throw new TypeError(`unsupported type "${u}" to create tensor from pinned buffer`);if(!(n.data instanceof p))throw new TypeError(`buffer should be of type ${p.name}`);this.cpuData=n.data;break}case"texture":{if(u!=="float32")throw new TypeError(`unsupported type "${u}" to create tensor from texture`);this.gpuTextureData=n.texture,this.downloader=n.download,this.disposer=n.dispose;break}case"gpu-buffer":{if(u!=="float32"&&u!=="float16"&&u!=="int32"&&u!=="int64"&&u!=="uint32"&&u!=="bool")throw new TypeError(`unsupported type "${u}" to create tensor from gpu buffer`);this.gpuBufferData=n.gpuBuffer,this.downloader=n.download,this.disposer=n.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let p,y;if(typeof n=="string")if(u=n,y=f,n==="string"){if(!Array.isArray(r))throw new TypeError("A string tensor's data must be a string array.");p=r}else{let s=Pt.get(n);if(s===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(r)){if(n==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");n==="uint64"||n==="int64"?p=s.from(r,BigInt):p=s.from(r)}else if(r instanceof s)p=r;else throw new TypeError(`A ${u} tensor's data must be type of ${s}`)}else if(y=r,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let s=typeof n[0];if(s==="string")u="string",p=n;else if(s==="boolean")u="bool",p=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${s}.`)}else{let s=Kt.get(n.constructor);if(s===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);u=s,p=n}if(y===void 0)y=[p.length];else if(!Array.isArray(y))throw new TypeError("A tensor's dims must be a number array");h=y,this.cpuData=p,this.dataLocation="cpu"}let l=pa(h);if(this.cpuData&&l!==this.cpuData.length)throw new Error(`Tensor's size(${l}) does not match data length(${this.cpuData.length}).`);this.type=u,this.dims=h,this.size=l}static async fromImage(n,r){return oa(n,r)}static fromTexture(n,r){return ia(n,r)}static fromGpuBuffer(n,r){return sa(n,r)}static fromPinnedBuffer(n,r,f){return ua(n,r,f)}toDataURL(n){return ra(this,n)}toImageData(n){return na(this,n)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(n){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let r=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=r,n&&this.disposer&&(this.disposer(),this.disposer=void 0),r}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(n){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return ma(this,n)}}});var pe,Zt=G(()=>{"use strict";Xt();pe=we});var Qt,ga=G(()=>{"use strict";Jt();Zt();Qt=class a{constructor(n){this.handler=n}async run(n,r,f){let u={},h={};if(typeof n!="object"||n===null||n instanceof pe||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let l=!0;if(typeof r=="object"){if(r===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof pe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(r)){if(r.length===0)throw new TypeError("'fetches' cannot be an empty array.");l=!1;for(let s of r){if(typeof s!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(s)===-1)throw new RangeError(`'fetches' contains invalid output name: ${s}.`);u[s]=null}if(typeof f=="object"&&f!==null)h=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let s=!1,b=Object.getOwnPropertyNames(r);for(let _ of this.outputNames)if(b.indexOf(_)!==-1){let S=r[_];(S===null||S instanceof pe)&&(s=!0,l=!1,u[_]=S)}if(s){if(typeof f=="object"&&f!==null)h=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else h=r}}else if(typeof r<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let s of this.inputNames)if(typeof n[s]>"u")throw new Error(`input '${s}' is missing in 'feeds'.`);if(l)for(let s of this.outputNames)u[s]=null;let p=await this.handler.run(n,u,h),y={};for(let s in p)if(Object.hasOwnProperty.call(p,s)){let b=p[s];b instanceof pe?y[s]=b:y[s]=new pe(b.type,b.data,b.dims)}return y}async release(){return this.handler.dispose()}static async create(n,r,f,u){let h,l={};if(typeof n=="string"){if(h=n,typeof r=="object"&&r!==null)l=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(h=n,typeof r=="object"&&r!==null)l=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){let _=n,S=0,A=n.byteLength;if(typeof r=="object"&&r!==null)l=r;else if(typeof r=="number"){if(S=r,!Number.isSafeInteger(S))throw new RangeError("'byteOffset' must be an integer.");if(S<0||S>=_.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${_.byteLength}).`);if(A=n.byteLength-S,typeof f=="number"){if(A=f,!Number.isSafeInteger(A))throw new RangeError("'byteLength' must be an integer.");if(A<=0||S+A>_.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${_.byteLength-S}].`);if(typeof u=="object"&&u!==null)l=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof r<"u")throw new TypeError("'options' must be an object.");h=new Uint8Array(_,S,A)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let y=(l.executionProviders||[]).map(_=>typeof _=="string"?_:_.name),b=await(await qt(y)).createInferenceSessionHandler(h,l);return new a(b)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var ya,ba=G(()=>{"use strict";ga();ya=Qt});var wa=G(()=>{"use strict"});var Go,er,va=G(()=>{"use strict";Jt();Zt();Go="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",er=class a{constructor(n,r,f){this.handler=n,this.hasOptimizerModel=r,this.hasEvalModel=f}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(n,r){let f=n.evalModel||"",u=n.optimizerModel||"",h=r||{},p=(h.executionProviders||[]).map(s=>typeof s=="string"?s:s.name),y=await qt(p);if(y.createTrainingSessionHandler){let s=await y.createTrainingSessionHandler(n.checkpointState,n.trainModel,f,u,h);return new a(s,!!n.optimizerModel,!!n.evalModel)}else throw new Error(Go)}typeNarrowingForRunStep(n,r,f,u,h){let l={},p={};if(typeof f!="object"||f===null||f instanceof pe||Array.isArray(f))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let y=!0;if(typeof u=="object"){if(u===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(u instanceof pe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(u)){if(u.length===0)throw new TypeError("'fetches' cannot be an empty array.");y=!1;for(let s of u){if(typeof s!="string")throw new TypeError("'fetches' must be a string array or an object.");if(r.indexOf(s)===-1)throw new RangeError(`'fetches' contains invalid output name: ${s}.`);l[s]=null}if(typeof h=="object"&&h!==null)p=h;else if(typeof h<"u")throw new TypeError("'options' must be an object.")}else{let s=!1,b=Object.getOwnPropertyNames(u);for(let _ of r)if(b.indexOf(_)!==-1){let S=u[_];(S===null||S instanceof pe)&&(s=!0,y=!1,l[_]=S)}if(s){if(typeof h=="object"&&h!==null)p=h;else if(typeof h<"u")throw new TypeError("'options' must be an object.")}else p=u}}else if(typeof u<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let s of n)if(typeof f[s]>"u")throw new Error(`input '${s}' is missing in 'feeds'.`);if(y)for(let s of r)l[s]=null;return[l,p]}convertHandlerReturnTypeToMapOfTensors(n){let r={};for(let f in n)if(Object.hasOwnProperty.call(n,f)){let u=n[f];u instanceof pe?r[f]=u:r[f]=new pe(u.type,u.data,u.dims)}return r}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(n,r,f){let[u,h]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,n,r,f),l=await this.handler.runTrainStep(n,u,h);return this.convertHandlerReturnTypeToMapOfTensors(l)}async runOptimizerStep(n){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(n||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(n,r,f){if(this.hasEvalModel){let[u,h]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,n,r,f),l=await this.handler.runEvalStep(n,u,h);return this.convertHandlerReturnTypeToMapOfTensors(l)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(n=!0){return this.handler.getParametersSize(n)}async loadParametersBuffer(n,r=!0){let f=await this.getParametersSize(r);if(n.length!==4*f)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(n,r)}async getContiguousParameters(n=!0){return this.handler.getContiguousParameters(n)}async release(){return this.handler.dispose()}}});var Oa,Ta=G(()=>{"use strict";va();Oa=er});var kr={};bt(kr,{InferenceSession:()=>ya,Tensor:()=>pe,TrainingSession:()=>Oa,env:()=>Z,registerBackend:()=>wt});var Je=G(()=>{"use strict";Xn();ta();ba();Zt();wa();Ta()});var Fr={};bt(Fr,{readFile:()=>Yo});var Yo,Ur=G(()=>{Yo=void 0});var Br={};bt(Br,{join:()=>Vo});var Vo,Lr=G(()=>{Vo=void 0});var Aa=yt((Ea,Hr)=>{"use strict";var Sa=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(n={}){var r=n,f,u;r.ready=new Promise((i,d)=>{f=i,u=d});var h=Object.assign({},r),l="./this.program",p=typeof window=="object",y=typeof importScripts=="function",s=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",_,S,A;if(s){var F=(Ur(),at(Fr)),M=(Lr(),at(Br));b=y?M.dirname(b)+"/":__dirname+"/",_=(i,d)=>(i=i.startsWith("file://")?new URL(i):M.normalize(i),F.readFileSync(i,d?void 0:"utf8")),A=i=>(i=_(i,!0),i.buffer||(i=new Uint8Array(i)),i),S=(i,d,m,O=!0)=>{i=i.startsWith("file://")?new URL(i):M.normalize(i),F.readFile(i,O?void 0:"utf8",(P,x)=>{P?m(P):d(O?x.buffer:x)})},!r.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r.inspect=()=>"[Emscripten Module object]"}else(p||y)&&(y?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),a&&(b=a),b.indexOf("blob:")!==0?b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):b="",_=i=>{var d=new XMLHttpRequest;return d.open("GET",i,!1),d.send(null),d.responseText},y&&(A=i=>{var d=new XMLHttpRequest;return d.open("GET",i,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),S=(i,d,m)=>{var O=new XMLHttpRequest;O.open("GET",i,!0),O.responseType="arraybuffer",O.onload=()=>{O.status==200||O.status==0&&O.response?d(O.response):m()},O.onerror=m,O.send(null)});var D=r.print||console.log.bind(console),L=r.printErr||console.error.bind(console);Object.assign(r,h),h=null,r.thisProgram&&(l=r.thisProgram);var R;r.wasmBinary&&(R=r.wasmBinary);var N=r.noExitRuntime||!0;typeof WebAssembly!="object"&&J("no native wasm support detected");var q,I,ve=!1,Oe,re,k,se;function Ke(){var i=q.buffer;r.HEAP8=Oe=new Int8Array(i),r.HEAP16=new Int16Array(i),r.HEAP32=k=new Int32Array(i),r.HEAPU8=re=new Uint8Array(i),r.HEAPU16=new Uint16Array(i),r.HEAPU32=se=new Uint32Array(i),r.HEAPF32=new Float32Array(i),r.HEAPF64=new Float64Array(i)}var Ze=[],ue=[],j=[];function X(){var i=r.preRun.shift();Ze.unshift(i)}var Ee=0,me=null,ce=null;function J(i){throw r.onAbort&&r.onAbort(i),i="Aborted("+i+")",L(i),ve=!0,i=new WebAssembly.RuntimeError(i+". Build with -sASSERTIONS for more info."),u(i),i}function he(i){return i.startsWith("data:application/octet-stream;base64,")}var Re;if(Re="ort-training-wasm-simd.wasm",!he(Re)){var xe=Re;Re=r.locateFile?r.locateFile(xe,b):b+xe}function $e(i){if(i==Re&&R)return new Uint8Array(R);if(A)return A(i);throw"both async and sync fetching of the wasm failed"}function Qe(i){if(!R&&(p||y)){if(typeof fetch=="function"&&!i.startsWith("file://"))return fetch(i,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+i+"'";return d.arrayBuffer()}).catch(()=>$e(i));if(S)return new Promise((d,m)=>{S(i,O=>d(new Uint8Array(O)),m)})}return Promise.resolve().then(()=>$e(i))}function et(i,d,m){return Qe(i).then(O=>WebAssembly.instantiate(O,d)).then(O=>O).then(m,O=>{L("failed to asynchronously prepare wasm: "+O),J(O)})}function ge(i,d){var m=Re;return R||typeof WebAssembly.instantiateStreaming!="function"||he(m)||m.startsWith("file://")||s||typeof fetch!="function"?et(m,i,d):fetch(m,{credentials:"same-origin"}).then(O=>WebAssembly.instantiateStreaming(O,i).then(d,function(P){return L("wasm streaming compile failed: "+P),L("falling back to ArrayBuffer instantiation"),et(m,i,d)}))}var ye,Ue=i=>{for(;0<i.length;)i.shift()(r)};function K(i){this.Ja=i-24,this.Na=function(d){se[this.Ja+4>>2>>>0]=d},this.Ma=function(d){se[this.Ja+8>>2>>>0]=d},this.Ka=function(d,m){this.La(),this.Na(d),this.Ma(m)},this.La=function(){se[this.Ja+16>>2>>>0]=0}}var oe=0,je=0,Be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ut=(i,d,m)=>{d>>>=0;var O=d+m;for(m=d;i[m]&&!(m>=O);)++m;if(16<m-d&&i.buffer&&Be)return Be.decode(i.subarray(d,m));for(O="";d<m;){var P=i[d++];if(P&128){var x=i[d++]&63;if((P&224)==192)O+=String.fromCharCode((P&31)<<6|x);else{var z=i[d++]&63;P=(P&240)==224?(P&15)<<12|x<<6|z:(P&7)<<18|x<<12|z<<6|i[d++]&63,65536>P?O+=String.fromCharCode(P):(P-=65536,O+=String.fromCharCode(55296|P>>10,56320|P&1023))}}else O+=String.fromCharCode(P)}return O},lt=(i,d)=>(i>>>=0)?ut(re,i,d):"",Ge=i=>{for(var d=0,m=0;m<i.length;++m){var O=i.charCodeAt(m);127>=O?d++:2047>=O?d+=2:55296<=O&&57343>=O?(d+=4,++m):d+=3}return d},De=(i,d,m,O)=>{if(m>>>=0,!(0<O))return 0;var P=m;O=m+O-1;for(var x=0;x<i.length;++x){var z=i.charCodeAt(x);if(55296<=z&&57343>=z){var le=i.charCodeAt(++x);z=65536+((z&1023)<<10)|le&1023}if(127>=z){if(m>=O)break;d[m++>>>0]=z}else{if(2047>=z){if(m+1>=O)break;d[m++>>>0]=192|z>>6}else{if(65535>=z){if(m+2>=O)break;d[m++>>>0]=224|z>>12}else{if(m+3>=O)break;d[m++>>>0]=240|z>>18,d[m++>>>0]=128|z>>12&63}d[m++>>>0]=128|z>>6&63}d[m++>>>0]=128|z&63}}return d[m>>>0]=0,m-P},ke=i=>i%4===0&&(i%100!==0||i%400===0),Ye=[0,31,60,91,121,152,182,213,244,274,305,335],Tt=[0,31,59,90,120,151,181,212,243,273,304,334],Le=i=>{var d=Ge(i)+1,m=St(d);return m&&De(i,re,m,d),m},ft={},Ve=()=>{if(!ct){var i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},d;for(d in ft)ft[d]===void 0?delete i[d]:i[d]=ft[d];var m=[];for(d in i)m.push(`${d}=${i[d]}`);ct=m}return ct},ct,br=[null,[],[]],_t=[31,29,31,30,31,30,31,31,30,31,30,31],Ut=[31,28,31,30,31,30,31,31,30,31,30,31];function dt(i){var d=Array(Ge(i)+1);return De(i,d,0,d.length),d}function pt(i,d,m,O){function P(T,V,Q){for(T=typeof T=="number"?T.toString():T||"";T.length<V;)T=Q[0]+T;return T}function x(T,V){return P(T,V,"0")}function z(T,V){function Q(Ct){return 0>Ct?-1:0<Ct?1:0}var Fe;return(Fe=Q(T.getFullYear()-V.getFullYear()))===0&&(Fe=Q(T.getMonth()-V.getMonth()))===0&&(Fe=Q(T.getDate()-V.getDate())),Fe}function le(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function be(T){var V=T.Ea;for(T=new Date(new Date(T.Fa+1900,0,1).getTime());0<V;){var Q=T.getMonth(),Fe=(ke(T.getFullYear())?_t:Ut)[Q];if(V>Fe-T.getDate())V-=Fe-T.getDate()+1,T.setDate(1),11>Q?T.setMonth(Q+1):(T.setMonth(0),T.setFullYear(T.getFullYear()+1));else{T.setDate(T.getDate()+V);break}}return Q=new Date(T.getFullYear()+1,0,4),V=le(new Date(T.getFullYear(),0,4)),Q=le(Q),0>=z(V,T)?0>=z(Q,T)?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}i>>>=0,d>>>=0,m>>>=0,O>>>=0;var de=k[O+40>>2>>>0];O={Qa:k[O>>2>>>0],Pa:k[O+4>>2>>>0],Ga:k[O+8>>2>>>0],Ia:k[O+12>>2>>>0],Ha:k[O+16>>2>>>0],Fa:k[O+20>>2>>>0],za:k[O+24>>2>>>0],Ea:k[O+28>>2>>>0],Sa:k[O+32>>2>>>0],Oa:k[O+36>>2>>>0],Ra:de?lt(de):""},m=lt(m),de={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in de)m=m.replace(new RegExp(fe,"g"),de[fe]);var Mt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ht="January February March April May June July August September October November December".split(" ");de={"%a":T=>Mt[T.za].substring(0,3),"%A":T=>Mt[T.za],"%b":T=>ht[T.Ha].substring(0,3),"%B":T=>ht[T.Ha],"%C":T=>x((T.Fa+1900)/100|0,2),"%d":T=>x(T.Ia,2),"%e":T=>P(T.Ia,2," "),"%g":T=>be(T).toString().substring(2),"%G":T=>be(T),"%H":T=>x(T.Ga,2),"%I":T=>(T=T.Ga,T==0?T=12:12<T&&(T-=12),x(T,2)),"%j":T=>{for(var V=0,Q=0;Q<=T.Ha-1;V+=(ke(T.Fa+1900)?_t:Ut)[Q++]);return x(T.Ia+V,3)},"%m":T=>x(T.Ha+1,2),"%M":T=>x(T.Pa,2),"%n":()=>`
`,"%p":T=>0<=T.Ga&&12>T.Ga?"AM":"PM","%S":T=>x(T.Qa,2),"%t":()=>"	","%u":T=>T.za||7,"%U":T=>x(Math.floor((T.Ea+7-T.za)/7),2),"%V":T=>{var V=Math.floor((T.Ea+7-(T.za+6)%7)/7);if(2>=(T.za+371-T.Ea-2)%7&&V++,V)V==53&&(Q=(T.za+371-T.Ea)%7,Q==4||Q==3&&ke(T.Fa)||(V=1));else{V=52;var Q=(T.za+7-T.Ea-1)%7;(Q==4||Q==5&&ke(T.Fa%400-1))&&V++}return x(V,2)},"%w":T=>T.za,"%W":T=>x(Math.floor((T.Ea+7-(T.za+6)%7)/7),2),"%y":T=>(T.Fa+1900).toString().substring(2),"%Y":T=>T.Fa+1900,"%z":T=>{T=T.Oa;var V=0<=T;return T=Math.abs(T)/60,(V?"+":"-")+("0000"+(T/60*100+T%60)).slice(-4)},"%Z":T=>T.Ra,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(fe in de)m.includes(fe)&&(m=m.replace(new RegExp(fe,"g"),de[fe](O)));return m=m.replace(/\0\0/g,"%"),fe=dt(m),fe.length>d?0:(Oe.set(fe,i>>>0),fe.length-1)}var Bt={a:function(i,d,m){throw i>>>=0,new K(i).Ka(d>>>0,m>>>0),oe=i,je++,oe},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(i,d,m){i=d+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*d:NaN,m>>>=0,i=new Date(1e3*i),k[m>>2>>>0]=i.getUTCSeconds(),k[m+4>>2>>>0]=i.getUTCMinutes(),k[m+8>>2>>>0]=i.getUTCHours(),k[m+12>>2>>>0]=i.getUTCDate(),k[m+16>>2>>>0]=i.getUTCMonth(),k[m+20>>2>>>0]=i.getUTCFullYear()-1900,k[m+24>>2>>>0]=i.getUTCDay(),k[m+28>>2>>>0]=(i.getTime()-Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(i,d,m){i=d+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*d:NaN,m>>>=0,i=new Date(1e3*i),k[m>>2>>>0]=i.getSeconds(),k[m+4>>2>>>0]=i.getMinutes(),k[m+8>>2>>>0]=i.getHours(),k[m+12>>2>>>0]=i.getDate(),k[m+16>>2>>>0]=i.getMonth(),k[m+20>>2>>>0]=i.getFullYear()-1900,k[m+24>>2>>>0]=i.getDay(),k[m+28>>2>>>0]=(ke(i.getFullYear())?Ye:Tt)[i.getMonth()]+i.getDate()-1|0,k[m+36>>2>>>0]=-(60*i.getTimezoneOffset()),d=new Date(i.getFullYear(),6,1).getTimezoneOffset();var O=new Date(i.getFullYear(),0,1).getTimezoneOffset();k[m+32>>2>>>0]=(d!=O&&i.getTimezoneOffset()==Math.min(O,d))|0},q:function(i){i>>>=0;var d=new Date(k[i+20>>2>>>0]+1900,k[i+16>>2>>>0],k[i+12>>2>>>0],k[i+8>>2>>>0],k[i+4>>2>>>0],k[i>>2>>>0],0),m=k[i+32>>2>>>0],O=d.getTimezoneOffset(),P=new Date(d.getFullYear(),6,1).getTimezoneOffset(),x=new Date(d.getFullYear(),0,1).getTimezoneOffset(),z=Math.min(x,P);return 0>m?k[i+32>>2>>>0]=+(P!=x&&z==O):0<m!=(z==O)&&(P=Math.max(x,P),d.setTime(d.getTime()+6e4*((0<m?z:P)-O))),k[i+24>>2>>>0]=d.getDay(),k[i+28>>2>>>0]=(ke(d.getFullYear())?Ye:Tt)[d.getMonth()]+d.getDate()-1|0,k[i>>2>>>0]=d.getSeconds(),k[i+4>>2>>>0]=d.getMinutes(),k[i+8>>2>>>0]=d.getHours(),k[i+12>>2>>>0]=d.getDate(),k[i+16>>2>>>0]=d.getMonth(),k[i+20>>2>>>0]=d.getYear(),i=d.getTime()/1e3,Et((ye=i,1<=+Math.abs(ye)?0<ye?+Math.floor(ye/4294967296)>>>0:~~+Math.ceil((ye-+(~~ye>>>0))/4294967296)>>>0:0)),i>>>0},m:function(){return-52},n:function(){},t:function(i,d,m){function O(be){return(be=be.toTimeString().match(/\(([A-Za-z ]+)\)$/))?be[1]:"GMT"}m>>>=0;var P=new Date().getFullYear(),x=new Date(P,0,1),z=new Date(P,6,1);P=x.getTimezoneOffset();var le=z.getTimezoneOffset();se[i>>>0>>2>>>0]=60*Math.max(P,le),k[d>>>0>>2>>>0]=+(P!=le),i=O(x),d=O(z),i=Le(i),d=Le(d),le<P?(se[m>>2>>>0]=i,se[m+4>>2>>>0]=d):(se[m>>2>>>0]=d,se[m+4>>2>>>0]=i)},d:()=>{J("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(i,d,m){return d>>>=0,re.copyWithin(i>>>0>>>0,d>>>0,d+(m>>>0)>>>0)},s:function(i){i>>>=0;var d=re.length;if(4294901760<i)return!1;for(var m=1;4>=m;m*=2){var O=d*(1+.2/m);O=Math.min(O,i+100663296);var P=Math;O=Math.max(i,O);e:{P=P.min.call(P,4294901760,O+(65536-O%65536)%65536)-q.buffer.byteLength+65535>>>16;try{q.grow(P),Ke();var x=1;break e}catch{}x=void 0}if(x)return!0}return!1},C:function(i,d){i>>>=0,d>>>=0;var m=0;return Ve().forEach(function(O,P){var x=d+m;for(P=se[i+4*P>>2>>>0]=x,x=0;x<O.length;++x)Oe[P++>>0>>>0]=O.charCodeAt(x);Oe[P>>0>>>0]=0,m+=O.length+1}),0},D:function(i,d){i>>>=0,d>>>=0;var m=Ve();se[i>>2>>>0]=m.length;var O=0;return m.forEach(function(P){O+=P.length+1}),se[d>>2>>>0]=O,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(i,d,m,O){d>>>=0,m>>>=0,O>>>=0;for(var P=0,x=0;x<m;x++){var z=se[d>>2>>>0],le=se[d+4>>2>>>0];d+=8;for(var be=0;be<le;be++){var de=re[z+be>>>0],fe=br[i];de===0||de===10?((i===1?D:L)(ut(fe,0)),fe.length=0):fe.push(de)}P+=le}return se[O>>2>>>0]=P,0},A:pt,c:function(i,d,m,O){return pt(i>>>0,d>>>0,m>>>0,O>>>0)}};(function(){function i(m){if(m=m.exports,I=m=wr(m),q=I.J,Ke(),ue.unshift(I.K),Ee--,r.monitorRunDependencies&&r.monitorRunDependencies(Ee),Ee==0&&(me!==null&&(clearInterval(me),me=null),ce)){var O=ce;ce=null,O()}return m}var d={a:Bt};if(Ee++,r.monitorRunDependencies&&r.monitorRunDependencies(Ee),r.instantiateWasm)try{return r.instantiateWasm(d,i)}catch(m){L("Module.instantiateWasm callback failed with error: "+m),u(m)}return ge(d,function(m){i(m.instance)}).catch(u),{}})(),r._OrtInit=(i,d)=>(r._OrtInit=I.L)(i,d),r._OrtGetLastError=(i,d)=>(r._OrtGetLastError=I.M)(i,d),r._OrtCreateSessionOptions=(i,d,m,O,P,x,z,le,be,de)=>(r._OrtCreateSessionOptions=I.N)(i,d,m,O,P,x,z,le,be,de),r._OrtAppendExecutionProvider=(i,d)=>(r._OrtAppendExecutionProvider=I.O)(i,d),r._OrtAddFreeDimensionOverride=(i,d,m)=>(r._OrtAddFreeDimensionOverride=I.P)(i,d,m),r._OrtAddSessionConfigEntry=(i,d,m)=>(r._OrtAddSessionConfigEntry=I.Q)(i,d,m),r._OrtReleaseSessionOptions=i=>(r._OrtReleaseSessionOptions=I.R)(i),r._OrtCreateSession=(i,d,m)=>(r._OrtCreateSession=I.S)(i,d,m),r._OrtReleaseSession=i=>(r._OrtReleaseSession=I.T)(i),r._OrtGetInputOutputCount=(i,d,m)=>(r._OrtGetInputOutputCount=I.U)(i,d,m),r._OrtGetInputName=(i,d)=>(r._OrtGetInputName=I.V)(i,d),r._OrtGetOutputName=(i,d)=>(r._OrtGetOutputName=I.W)(i,d),r._OrtFree=i=>(r._OrtFree=I.X)(i),r._OrtCreateTensor=(i,d,m,O,P,x)=>(r._OrtCreateTensor=I.Y)(i,d,m,O,P,x),r._OrtGetTensorData=(i,d,m,O,P)=>(r._OrtGetTensorData=I.Z)(i,d,m,O,P),r._OrtReleaseTensor=i=>(r._OrtReleaseTensor=I._)(i),r._OrtCreateRunOptions=(i,d,m,O)=>(r._OrtCreateRunOptions=I.$)(i,d,m,O),r._OrtAddRunConfigEntry=(i,d,m)=>(r._OrtAddRunConfigEntry=I.aa)(i,d,m),r._OrtReleaseRunOptions=i=>(r._OrtReleaseRunOptions=I.ba)(i),r._OrtCreateBinding=i=>(r._OrtCreateBinding=I.ca)(i),r._OrtBindInput=(i,d,m)=>(r._OrtBindInput=I.da)(i,d,m),r._OrtBindOutput=(i,d,m,O)=>(r._OrtBindOutput=I.ea)(i,d,m,O),r._OrtClearBoundOutputs=i=>(r._OrtClearBoundOutputs=I.fa)(i),r._OrtReleaseBinding=i=>(r._OrtReleaseBinding=I.ga)(i),r._OrtRunWithBinding=(i,d,m,O,P)=>(r._OrtRunWithBinding=I.ha)(i,d,m,O,P),r._OrtRun=(i,d,m,O,P,x,z,le)=>(r._OrtRun=I.ia)(i,d,m,O,P,x,z,le),r._OrtEndProfiling=i=>(r._OrtEndProfiling=I.ja)(i),r._OrtTrainingLoadCheckpoint=(i,d)=>(r._OrtTrainingLoadCheckpoint=I.ka)(i,d),r._OrtTrainingReleaseCheckpoint=i=>(r._OrtTrainingReleaseCheckpoint=I.la)(i),r._OrtTrainingCreateSession=(i,d,m,O,P,x,z,le)=>(r._OrtTrainingCreateSession=I.ma)(i,d,m,O,P,x,z,le),r._OrtTrainingLazyResetGrad=i=>(r._OrtTrainingLazyResetGrad=I.na)(i),r._OrtTrainingRunTrainStep=(i,d,m,O,P,x)=>(r._OrtTrainingRunTrainStep=I.oa)(i,d,m,O,P,x),r._OrtTrainingOptimizerStep=(i,d)=>(r._OrtTrainingOptimizerStep=I.pa)(i,d),r._OrtTrainingEvalStep=(i,d,m,O,P,x)=>(r._OrtTrainingEvalStep=I.qa)(i,d,m,O,P,x),r._OrtTrainingGetParametersSize=(i,d,m)=>(r._OrtTrainingGetParametersSize=I.ra)(i,d,m),r._OrtTrainingCopyParametersToBuffer=(i,d,m,O)=>(r._OrtTrainingCopyParametersToBuffer=I.sa)(i,d,m,O),r._OrtTrainingCopyParametersFromBuffer=(i,d,m,O)=>(r._OrtTrainingCopyParametersFromBuffer=I.ta)(i,d,m,O),r._OrtTrainingGetModelInputOutputCount=(i,d,m,O)=>(r._OrtTrainingGetModelInputOutputCount=I.ua)(i,d,m,O),r._OrtTrainingGetModelInputOutputName=(i,d,m,O)=>(r._OrtTrainingGetModelInputOutputName=I.va)(i,d,m,O),r._OrtTrainingReleaseSession=i=>(r._OrtTrainingReleaseSession=I.wa)(i);var St=r._malloc=i=>(St=r._malloc=I.xa)(i);r._free=i=>(r._free=I.ya)(i);var Et=i=>(Et=I.Aa)(i),tt=()=>(tt=I.Ba)(),At=i=>(At=I.Ca)(i),mt=i=>(mt=I.Da)(i);function wr(i){i=Object.assign({},i);var d=O=>()=>O()>>>0,m=O=>P=>O(P)>>>0;return i.__errno_location=d(i.__errno_location),i.malloc=m(i.malloc),i.stackSave=d(i.stackSave),i.stackAlloc=m(i.stackAlloc),i}r.stackAlloc=mt,r.stackSave=tt,r.stackRestore=At,r.UTF8ToString=lt,r.stringToUTF8=(i,d,m)=>De(i,re,d,m),r.lengthBytesUTF8=Ge;var U;ce=function i(){U||rt(),U||(ce=i)};function rt(){function i(){if(!U&&(U=!0,r.calledRun=!0,!ve)){if(Ue(ue),f(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var d=r.postRun.shift();j.unshift(d)}Ue(j)}}if(!(0<Ee)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)X();Ue(Ze),0<Ee||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),i()},1)):i())}}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return rt(),n.ready}})();typeof Ea=="object"&&typeof Hr=="object"?Hr.exports=Sa:typeof define=="function"&&define.amd&&define([],()=>Sa)});var Ma=yt(()=>{});var Ca=yt(()=>{});var Pa={};bt(Pa,{cpus:()=>qo});var qo,Ia=G(()=>{qo=void 0});var Da=yt((xa,Wr)=>{"use strict";var Ra=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(n={}){function r(){return X.buffer!=J.buffer&&K(),J}function f(){return X.buffer!=J.buffer&&K(),he}function u(){return X.buffer!=J.buffer&&K(),Re}function h(){return X.buffer!=J.buffer&&K(),xe}function l(){return X.buffer!=J.buffer&&K(),$e}function p(){return X.buffer!=J.buffer&&K(),Qe}function y(){return X.buffer!=J.buffer&&K(),Ue}var s=n,b,_;s.ready=new Promise((e,t)=>{b=e,_=t});var S=Object.assign({},s),A="./this.program",F=(e,t)=>{throw t},M=typeof window=="object",D=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R=s.ENVIRONMENT_IS_PTHREAD||!1,N="";function q(e){return s.locateFile?s.locateFile(e,N):N+e}var I,ve,Oe;if(L){var re=(Ur(),at(Fr)),k=(Lr(),at(Br));N=D?k.dirname(N)+"/":__dirname+"/",I=(t,o)=>(t=t.startsWith("file://")?new URL(t):k.normalize(t),re.readFileSync(t,o?void 0:"utf8")),Oe=t=>(t=I(t,!0),t.buffer||(t=new Uint8Array(t)),t),ve=(t,o,c,g=!0)=>{t=t.startsWith("file://")?new URL(t):k.normalize(t),re.readFile(t,g?void 0:"utf8",(w,E)=>{w?c(w):o(g?E.buffer:E)})},!s.thisProgram&&1<process.argv.length&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),F=(t,o)=>{throw process.exitCode=t,o},s.inspect=()=>"[Emscripten Module object]";let e;try{e=Ma()}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}global.Worker=e.Worker}else(M||D)&&(D?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),typeof a<"u"&&a&&(N=a),N.indexOf("blob:")!==0?N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1):N="",L||(I=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},D&&(Oe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ve=(e,t,o)=>{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?t(c.response):o()},c.onerror=o,c.send(null)}));L&&typeof performance>"u"&&(global.performance=Ca().performance);var se=console.log.bind(console),Ke=console.error.bind(console);L&&(se=(...e)=>re.writeSync(1,e.join(" ")+`
`),Ke=(...e)=>re.writeSync(2,e.join(" ")+`
`));var Ze=se,ue=Ke;Object.assign(s,S),S=null;var j=!0;typeof WebAssembly!="object"&&Le("no native wasm support detected");var X,Ee,me=!1,ce,J,he,Re,xe,$e,Qe,et,ge,ye,Ue;function K(){var e=X.buffer;s.HEAP8=J=new Int8Array(e),s.HEAP16=Re=new Int16Array(e),s.HEAPU8=he=new Uint8Array(e),s.HEAPU16=xe=new Uint16Array(e),s.HEAP32=$e=new Int32Array(e),s.HEAPU32=Qe=new Uint32Array(e),s.HEAPF32=et=new Float32Array(e),s.HEAPF64=Ue=new Float64Array(e),s.HEAP64=ge=new BigInt64Array(e),s.HEAPU64=ye=new BigUint64Array(e)}var oe=16777216;if(5242880<=oe||Le("INITIAL_MEMORY should be larger than STACK_SIZE, was "+oe+"! (STACK_SIZE=5242880)"),R)X=s.wasmMemory;else if(X=new WebAssembly.Memory({initial:oe/65536,maximum:65536,shared:!0}),!(X.buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&ue("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");K(),oe=X.buffer.byteLength;var je=[],Be=[],ut=[],lt=0;function Ge(){return j||0<lt}var De=0,ke=null,Ye=null;function Tt(){if(De--,De==0&&(ke!==null&&(clearInterval(ke),ke=null),Ye)){var e=Ye;Ye=null,e()}}function Le(e){throw e="Aborted("+e+")",ue(e),me=!0,ce=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),_(e),e}function ft(e){return e.startsWith("data:application/octet-stream;base64,")}var Ve;Ve="ort-wasm-threaded.wasm",ft(Ve)||(Ve=q(Ve));function ct(e){if(Oe)return Oe(e);throw"both async and sync fetching of the wasm failed"}function br(e){if(M||D){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>ct(e));if(ve)return new Promise((t,o)=>{ve(e,c=>t(new Uint8Array(c)),o)})}return Promise.resolve().then(()=>ct(e))}function _t(e,t,o){return br(e).then(c=>WebAssembly.instantiate(c,t)).then(c=>c).then(o,c=>{ue(`failed to asynchronously prepare wasm: ${c}`),Le(c)})}function Ut(e,t){var o=Ve;return typeof WebAssembly.instantiateStreaming!="function"||ft(o)||o.startsWith("file://")||L||typeof fetch!="function"?_t(o,e,t):fetch(o,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,e).then(t,function(g){return ue(`wasm streaming compile failed: ${g}`),ue("falling back to ArrayBuffer instantiation"),_t(o,e,t)}))}function dt(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var pt=e=>{e.terminate(),e.onmessage=()=>{}},Bt=e=>{if(U.qb.length==0){var t=q("ort-wasm-threaded.worker.js");t=new Worker(t),U.qb.push(t),U.Jb(U.qb[0])}if(t=U.qb.pop(),!t)return 6;U.nb.push(t),U.jb[e.mb]=t,t.mb=e.mb;var o={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return L&&t.unref(),t.postMessage(o,e.Sb),0},St=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Et=(e,t,o)=>{t>>>=0;var c=t+o;for(o=t;e[o]&&!(o>=c);)++o;if(16<o-t&&e.buffer&&St)return St.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,o):e.subarray(t,o));for(c="";t<o;){var g=e[t++];if(g&128){var w=e[t++]&63;if((g&224)==192)c+=String.fromCharCode((g&31)<<6|w);else{var E=e[t++]&63;g=(g&240)==224?(g&15)<<12|w<<6|E:(g&7)<<18|w<<12|E<<6|e[t++]&63,65536>g?c+=String.fromCharCode(g):(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else c+=String.fromCharCode(g)}return c},tt=(e,t)=>(e>>>=0)?Et(f(),e,t):"";function At(e){if(R)return te(0,1,e);ce=e,Ge()||(U.Nb(),me=!0),F(e,new dt(e))}var mt=e=>{if(ce=e,R)throw i(e),"unwind";At(e)};function wr(){je.unshift(()=>{De++,Tt()})}var U={qb:[],nb:[],Eb:[],jb:{},vb(){R?(U.receiveObjectTransfer=U.Lb,U.threadInitTLS=U.Db,U.setExitStatus=U.Cb,j=!1):wr()},Cb:e=>{ce=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of U.nb)pt(e);for(e of U.qb)pt(e);U.qb=[],U.nb=[],U.jb=[]},Bb:e=>{var t=e.mb;delete U.jb[t],U.qb.push(e),U.nb.splice(U.nb.indexOf(e),1),e.mb=0,Mr(t)},Lb(){},Db(){U.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=w=>{w=w.data;var E=w.cmd;if(w.targetThread&&w.targetThread!=$t()){var C=U.jb[w.targetThread];C?C.postMessage(w,w.transferList):ue(`Internal error! Worker sent a message "${E}" to target pthread ${w.targetThread}, but that thread no longer exists!`)}else E==="checkMailbox"?Lt():E==="spawnThread"?Bt(w):E==="cleanupThread"?((w=U.jb[w.thread])||Le(),U.Bb(w)):E==="killThread"?(w=w.thread,E=U.jb[w],delete U.jb[w],pt(E),Mr(w),U.nb.splice(U.nb.indexOf(E),1),E.mb=0):E==="cancelThread"?U.jb[w.thread].postMessage({cmd:"cancel"}):E==="loaded"?(e.loaded=!0,t(e)):E==="alert"?alert(`Thread ${w.threadId}: ${w.text}`):w.target==="setimmediate"?e.postMessage(w):E==="callHandler"?s[w.handler](...w.args):E&&ue(`worker sent an unknown command ${E}`)},e.onerror=w=>{throw ue(`worker sent an error! ${w.filename}:${w.lineno}: ${w.message}`),w},L&&(e.on("message",w=>e.onmessage({data:w})),e.on("error",w=>e.onerror(w)));var o=[],c=[],g;for(g of c)s.hasOwnProperty(g)&&o.push(g);e.postMessage({cmd:"load",handlers:o,urlOrBlob:s.mainScriptUrlOrBlob||a,wasmMemory:X,wasmModule:Ee})})};s.PThread=U;var rt=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=$t(),t=p()[e+52>>>2>>>0];e=p()[e+56>>>2>>>0],Vn(t,t-e),Gt(t)};function i(e){if(R)return te(1,0,e);mt(e)}var d=[],m;s.invokeEntryPoint=(e,t)=>{var o=d[e];o||(e>=d.length&&(d.length=e+1),d[e]=o=m.get(e)),e=o(t),Ge()?U.Cb(e):Cr(e)};function O(e){this.sb=e-24,this.Kb=function(t){p()[this.sb+4>>>2>>>0]=t},this.xb=function(t){p()[this.sb+8>>>2>>>0]=t},this.vb=function(t,o){this.wb(),this.Kb(t),this.xb(o)},this.wb=function(){p()[this.sb+16>>>2>>>0]=0}}var P=0,x=0;function z(e,t,o,c){return R?te(2,1,e,t,o,c):le(e,t,o,c)}function le(e,t,o,c){if(e>>>=0,t>>>=0,o>>>=0,c>>>=0,typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var g=[];return R&&g.length===0?z(e,t,o,c):(e={Mb:o,mb:e,Fb:c,Sb:g},R?(e.Ub="spawnThread",postMessage(e,g),0):Bt(e))}function be(e,t,o){return R?te(3,1,e,t,o):0}function de(e,t){if(R)return te(4,1,e,t)}var fe=e=>{for(var t=0,o=0;o<e.length;++o){var c=e.charCodeAt(o);127>=c?t++:2047>=c?t+=2:55296<=c&&57343>=c?(t+=4,++o):t+=3}return t},Mt=(e,t,o,c)=>{if(o>>>=0,!(0<c))return 0;var g=o;c=o+c-1;for(var w=0;w<e.length;++w){var E=e.charCodeAt(w);if(55296<=E&&57343>=E){var C=e.charCodeAt(++w);E=65536+((E&1023)<<10)|C&1023}if(127>=E){if(o>=c)break;t[o++>>>0]=E}else{if(2047>=E){if(o+1>=c)break;t[o++>>>0]=192|E>>6}else{if(65535>=E){if(o+2>=c)break;t[o++>>>0]=224|E>>12}else{if(o+3>=c)break;t[o++>>>0]=240|E>>18,t[o++>>>0]=128|E>>12&63}t[o++>>>0]=128|E>>6&63}t[o++>>>0]=128|E&63}}return t[o>>>0]=0,o-g},ht=(e,t,o)=>Mt(e,f(),t,o);function T(e,t){if(R)return te(5,1,e,t)}function V(e,t,o){if(R)return te(6,1,e,t,o)}function Q(e,t,o){return R?te(7,1,e,t,o):0}function Fe(e,t){if(R)return te(8,1,e,t)}function Ct(e,t,o){if(R)return te(9,1,e,t,o)}function cn(e,t,o,c){if(R)return te(10,1,e,t,o,c)}function dn(e,t,o,c){if(R)return te(11,1,e,t,o,c)}function pn(e,t,o,c){if(R)return te(12,1,e,t,o,c)}function mn(e){if(R)return te(13,1,e)}function hn(e,t){if(R)return te(14,1,e,t)}function gn(e,t,o){if(R)return te(15,1,e,t,o)}var yn=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},bn,Pe=e=>{for(var t="";f()[e>>>0];)t+=bn[f()[e++>>>0]];return t},vr={},Or={},yo={},qe;function bo(e,t,o={}){var c=t.name;if(!e)throw new qe(`type "${c}" must have a positive integer typeid pointer`);if(Or.hasOwnProperty(e)){if(o.Hb)return;throw new qe(`Cannot register type '${c}' twice`)}Or[e]=t,delete yo[e],vr.hasOwnProperty(e)&&(t=vr[e],delete vr[e],t.forEach(g=>g()))}function He(e,t,o={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");bo(e,t,o)}var wn=(e,t,o)=>{switch(t){case 1:return o?c=>r()[c>>>0>>>0]:c=>f()[c>>>0>>>0];case 2:return o?c=>u()[c>>>1>>>0]:c=>h()[c>>>1>>>0];case 4:return o?c=>l()[c>>>2>>>0]:c=>p()[c>>>2>>>0];case 8:return o?c=>ge[c>>>3]:c=>ye[c>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function vn(){this.lb=[void 0],this.zb=[]}var Me=new vn;function Tr(e){e>>>=0,e>=Me.sb&&--Me.get(e).Ab===0&&Me.xb(e)}var Te=e=>{if(!e)throw new qe("Cannot use deleted val. handle = "+e);return Me.get(e).value},Ce=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Me.wb({Ab:1,value:e})}};function On(e){return this.fromWireType(l()[e>>>2>>>0])}var wo=(e,t)=>{switch(t){case 4:return function(o){var c=this.fromWireType;return X.buffer!=J.buffer&&K(),c.call(this,et[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(y()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function vo(e){return this.fromWireType(p()[e>>>2>>>0])}var Tn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Oo=(e,t)=>{for(var o=e>>1,c=o+t/2;!(o>=c)&&h()[o>>>0];)++o;if(o<<=1,32<o-e&&Tn)return Tn.decode(f().slice(e,o));for(o="",c=0;!(c>=t/2);++c){var g=u()[e+2*c>>>1>>>0];if(g==0)break;o+=String.fromCharCode(g)}return o},To=(e,t,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var c=t;o=o<2*e.length?o/2:e.length;for(var g=0;g<o;++g){var w=e.charCodeAt(g);u()[t>>>1>>>0]=w,t+=2}return u()[t>>>1>>>0]=0,t-c},_o=e=>2*e.length,So=(e,t)=>{for(var o=0,c="";!(o>=t/4);){var g=l()[e+4*o>>>2>>>0];if(g==0)break;++o,65536<=g?(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023)):c+=String.fromCharCode(g)}return c},Eo=(e,t,o)=>{if(t>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var c=t;o=c+o-4;for(var g=0;g<e.length;++g){var w=e.charCodeAt(g);if(55296<=w&&57343>=w){var E=e.charCodeAt(++g);w=65536+((w&1023)<<10)|E&1023}if(l()[t>>>2>>>0]=w,t+=4,t+4>o)break}return l()[t>>>2>>>0]=0,t-c},Ao=e=>{for(var t=0,o=0;o<e.length;++o){var c=e.charCodeAt(o);55296<=c&&57343>=c&&++o,t+=4}return t},Mo=e=>{if(!me)try{if(e(),!Ge())try{R?Cr(ce):mt(ce)}catch(t){t instanceof dt||t=="unwind"||F(1,t)}}catch(t){t instanceof dt||t=="unwind"||F(1,t)}};function _r(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(l(),e>>>2,e).value.then(Lt),e+=128,Atomics.store(l(),e>>>2,1))}s.__emscripten_thread_mailbox_await=_r;var Lt=()=>{var e=$t();e&&(_r(e),Mo(()=>Yn()))};s.checkMailbox=Lt;var Co=e=>{var t=Pr();return e=e(),Gt(t),e};function te(e,t){var o=arguments.length-2,c=arguments;return Co(()=>{for(var g=2*o,w=Ir(8*g),E=w>>>3,C=0;C<o;C++){var H=c[2+C];typeof H=="bigint"?(ge[E+2*C]=1n,ge[E+2*C+1]=H):(ge[E+2*C]=0n,y()[E+2*C+1>>>0]=H)}return Gn(e,g,w,t)})}var Sr=[],Ht=(e,t)=>{var o=Or[e];if(o===void 0)throw e=$n(e),o=Pe(e),We(e),new qe(t+" has unknown type "+o);return o},Po={},Wt=e=>{var t=Po[e];return t===void 0?Pe(e):t},zt=[],_n=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Io=e=>{var t=zt.length;return zt.push(e),t},Ro=(e,t)=>{for(var o=Array(e),c=0;c<e;++c)o[c]=Ht(p()[t+4*c>>>2>>>0],"parameter "+c);return o},Sn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},En={};function xo(e,t){return e=Sn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Do(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var o=xo(t.name||"unknownFunctionName",function(){});return o.prototype=t.prototype,o=new o,e=t.apply(o,e),e instanceof Object?e:o}var ko=e=>{for(var t="",o=0;o<e;++o)t+=(o!==0?", ":"")+"arg"+o;var c="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(o=0;o<e;++o)c+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+o+`');
var arg`+o+" = argType"+o+`.readValueFromPointer(args);
args += argType`+o+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",c+("var obj = new constructor("+t+`);
return valueToHandle(obj);
}
`))(Ht,s,Ce,()=>p())},An={},gt=e=>e%4===0&&(e%100!==0||e%400===0),Mn=[0,31,60,91,121,152,182,213,244,274,305,335],Cn=[0,31,59,90,120,151,181,212,243,273,304,334];function Pn(e,t,o,c,g,w,E){return R?te(16,1,e,t,o,c,g,w,E):-52}function In(e,t,o,c,g,w){if(R)return te(17,1,e,t,o,c,g,w)}var Rn=e=>{var t=fe(e)+1,o=jt(t);return o&&ht(e,o,t),o},Er={},xn=()=>{if(!Ar){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},t;for(t in Er)Er[t]===void 0?delete e[t]:e[t]=Er[t];var o=[];for(t in e)o.push(`${t}=${e[t]}`);Ar=o}return Ar},Ar;function Dn(e,t){if(R)return te(18,1,e,t);e>>>=0,t>>>=0;var o=0;return xn().forEach((c,g)=>{var w=t+o;for(g=p()[e+4*g>>>2>>>0]=w,w=0;w<c.length;++w)r()[g++>>>0>>>0]=c.charCodeAt(w);r()[g>>>0>>>0]=0,o+=c.length+1}),0}function kn(e,t){if(R)return te(19,1,e,t);e>>>=0,t>>>=0;var o=xn();p()[e>>>2>>>0]=o.length;var c=0;return o.forEach(g=>c+=g.length+1),p()[t>>>2>>>0]=c,0}function Fn(e){return R?te(20,1,e):52}function Un(e,t,o,c){return R?te(21,1,e,t,o,c):52}function Bn(e,t,o,c){return R?te(22,1,e,t,o,c):70}var Fo=[null,[],[]];function Ln(e,t,o,c){if(R)return te(23,1,e,t,o,c);t>>>=0,o>>>=0,c>>>=0;for(var g=0,w=0;w<o;w++){var E=p()[t>>>2>>>0],C=p()[t+4>>>2>>>0];t+=8;for(var H=0;H<C;H++){var W=f()[E+H>>>0],ne=Fo[e];W===0||W===10?((e===1?Ze:ue)(Et(ne,0)),ne.length=0):ne.push(W)}g+=C}return p()[c>>>2>>>0]=g,0}var Hn=[31,29,31,30,31,30,31,31,30,31,30,31],Wn=[31,28,31,30,31,30,31,31,30,31,30,31];function Uo(e){var t=Array(fe(e)+1);return Mt(e,t,0,t.length),t}var Bo=(e,t)=>{r().set(e,t>>>0)};function zn(e,t,o,c){function g(v,Y,ae){for(v=typeof v=="number"?v.toString():v||"";v.length<Y;)v=ae[0]+v;return v}function w(v,Y){return g(v,Y,"0")}function E(v,Y){function ae(Jn){return 0>Jn?-1:0<Jn?1:0}var nt;return(nt=ae(v.getFullYear()-Y.getFullYear()))===0&&(nt=ae(v.getMonth()-Y.getMonth()))===0&&(nt=ae(v.getDate()-Y.getDate())),nt}function C(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function H(v){var Y=v.ob;for(v=new Date(new Date(v.pb+1900,0,1).getTime());0<Y;){var ae=v.getMonth(),nt=(gt(v.getFullYear())?Hn:Wn)[ae];if(Y>nt-v.getDate())Y-=nt-v.getDate()+1,v.setDate(1),11>ae?v.setMonth(ae+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+Y);break}}return ae=new Date(v.getFullYear()+1,0,4),Y=C(new Date(v.getFullYear(),0,4)),ae=C(ae),0>=E(Y,v)?0>=E(ae,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}e>>>=0,t>>>=0,o>>>=0,c>>>=0;var W=p()[c+40>>>2>>>0];c={Qb:l()[c>>>2>>>0],Pb:l()[c+4>>>2>>>0],tb:l()[c+8>>>2>>>0],yb:l()[c+12>>>2>>>0],ub:l()[c+16>>>2>>>0],pb:l()[c+20>>>2>>>0],kb:l()[c+24>>>2>>>0],ob:l()[c+28>>>2>>>0],Wb:l()[c+32>>>2>>>0],Ob:l()[c+36>>>2>>>0],Rb:W?tt(W):""},o=tt(o),W={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in W)o=o.replace(new RegExp(ne,"g"),W[ne]);var Ae="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ze="January February March April May June July August September October November December".split(" ");W={"%a":v=>Ae[v.kb].substring(0,3),"%A":v=>Ae[v.kb],"%b":v=>ze[v.ub].substring(0,3),"%B":v=>ze[v.ub],"%C":v=>w((v.pb+1900)/100|0,2),"%d":v=>w(v.yb,2),"%e":v=>g(v.yb,2," "),"%g":v=>H(v).toString().substring(2),"%G":v=>H(v),"%H":v=>w(v.tb,2),"%I":v=>(v=v.tb,v==0?v=12:12<v&&(v-=12),w(v,2)),"%j":v=>{for(var Y=0,ae=0;ae<=v.ub-1;Y+=(gt(v.pb+1900)?Hn:Wn)[ae++]);return w(v.yb+Y,3)},"%m":v=>w(v.ub+1,2),"%M":v=>w(v.Pb,2),"%n":()=>`
`,"%p":v=>0<=v.tb&&12>v.tb?"AM":"PM","%S":v=>w(v.Qb,2),"%t":()=>"	","%u":v=>v.kb||7,"%U":v=>w(Math.floor((v.ob+7-v.kb)/7),2),"%V":v=>{var Y=Math.floor((v.ob+7-(v.kb+6)%7)/7);if(2>=(v.kb+371-v.ob-2)%7&&Y++,Y)Y==53&&(ae=(v.kb+371-v.ob)%7,ae==4||ae==3&&gt(v.pb)||(Y=1));else{Y=52;var ae=(v.kb+7-v.ob-1)%7;(ae==4||ae==5&&gt(v.pb%400-1))&&Y++}return w(Y,2)},"%w":v=>v.kb,"%W":v=>w(Math.floor((v.ob+7-(v.kb+6)%7)/7),2),"%y":v=>(v.pb+1900).toString().substring(2),"%Y":v=>v.pb+1900,"%z":v=>{v=v.Ob;var Y=0<=v;return v=Math.abs(v)/60,(Y?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.Rb,"%%":()=>"%"},o=o.replace(/%%/g,"\0\0");for(ne in W)o.includes(ne)&&(o=o.replace(new RegExp(ne,"g"),W[ne](c)));return o=o.replace(/\0\0/g,"%"),ne=Uo(o),ne.length>t?0:(Bo(ne,e),ne.length-1)}U.vb();for(var Nn=Array(256),Nt=0;256>Nt;++Nt)Nn[Nt]=String.fromCharCode(Nt);bn=Nn,qe=s.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},s.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(vn.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),Me.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),Me.sb=Me.lb.length,s.count_emval_handles=()=>{for(var e=0,t=Me.sb;t<Me.lb.length;++t)Me.lb[t]!==void 0&&++e;return e};var Lo=[At,i,z,be,de,T,V,Q,Fe,Ct,cn,dn,pn,mn,hn,gn,Pn,In,Dn,kn,Fn,Un,Bn,Ln],Ho={b:function(e,t,o){throw e>>>=0,new O(e).vb(t>>>0,o>>>0),P=e,x++,P},ea:function(e){jn(e>>>0,!D,1,!M,131072,!1),U.Db()},D:function(e){e>>>=0,R?postMessage({cmd:"cleanupThread",thread:e}):((e=U.jb[e])||Le(),U.Bb(e))},W:le,y:be,ka:de,S:T,U:V,L:Q,ia:Fe,ba:Ct,ha:cn,F:dn,T:pn,Q:mn,ja:hn,R:gn,I:function(e,t,o,c,g){e>>>=0,t>>>=0,o>>>=0,t=Pe(t);var w=t.indexOf("u")!=-1;w&&(g=(1n<<64n)-1n),He(e,{name:t,fromWireType:E=>E,toWireType:function(E,C){if(typeof C!="bigint"&&typeof C!="number")throw new TypeError(`Cannot convert "${yn(C)}" to ${this.name}`);if(C<c||C>g)throw new TypeError(`Passing a number "${yn(C)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${c}, ${g}]!`);return C},argPackAdvance:8,readValueFromPointer:wn(t,o,!w),rb:null})},qa:function(e,t,o,c){e>>>=0,t=Pe(t>>>0),He(e,{name:t,fromWireType:function(g){return!!g},toWireType:function(g,w){return w?o:c},argPackAdvance:8,readValueFromPointer:function(g){return this.fromWireType(f()[g>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=Pe(t>>>0),He(e,{name:t,fromWireType:o=>{var c=Te(o);return Tr(o),c},toWireType:(o,c)=>Ce(c),argPackAdvance:8,readValueFromPointer:On,rb:null})},H:function(e,t,o){e>>>=0,o>>>=0,t=Pe(t>>>0),He(e,{name:t,fromWireType:c=>c,toWireType:(c,g)=>g,argPackAdvance:8,readValueFromPointer:wo(t,o),rb:null})},t:function(e,t,o,c,g){if(e>>>=0,o>>>=0,t=Pe(t>>>0),g===-1&&(g=4294967295),g=C=>C,c===0){var w=32-8*o;g=C=>C<<w>>>w}var E=t.includes("unsigned")?function(C,H){return H>>>0}:function(C,H){return H};He(e,{name:t,fromWireType:g,toWireType:E,argPackAdvance:8,readValueFromPointer:wn(t,o,c!==0),rb:null})},m:function(e,t,o){function c(w){var E=p()[w>>>2>>>0];return w=p()[w+4>>>2>>>0],new g(r().buffer,w,E)}e>>>=0;var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];o=Pe(o>>>0),He(e,{name:o,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{Hb:!0})},J:function(e,t){e>>>=0,t=Pe(t>>>0);var o=t==="std::string";He(e,{name:t,fromWireType:function(c){var g=p()[c>>>2>>>0],w=c+4;if(o)for(var E=w,C=0;C<=g;++C){var H=w+C;if(C==g||f()[H>>>0]==0){if(E=tt(E,H-E),W===void 0)var W=E;else W+=String.fromCharCode(0),W+=E;E=H+1}}else{for(W=Array(g),C=0;C<g;++C)W[C]=String.fromCharCode(f()[w+C>>>0]);W=W.join("")}return We(c),W},toWireType:function(c,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var w=typeof g=="string";if(!(w||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array))throw new qe("Cannot pass non-string to std::string");var E=o&&w?fe(g):g.length,C=jt(4+E+1),H=C+4;if(p()[C>>>2>>>0]=E,o&&w)ht(g,H,E+1);else if(w)for(w=0;w<E;++w){var W=g.charCodeAt(w);if(255<W)throw We(H),new qe("String has UTF-16 code units that do not fit in 8 bits");f()[H+w>>>0]=W}else for(w=0;w<E;++w)f()[H+w>>>0]=g[w];return c!==null&&c.push(We,C),C},argPackAdvance:8,readValueFromPointer:vo,rb(c){We(c)}})},A:function(e,t,o){if(e>>>=0,t>>>=0,o>>>=0,o=Pe(o),t===2)var c=Oo,g=To,w=_o,E=()=>h(),C=1;else t===4&&(c=So,g=Eo,w=Ao,E=()=>p(),C=2);He(e,{name:o,fromWireType:H=>{for(var W=p()[H>>>2>>>0],ne=E(),Ae,ze=H+4,v=0;v<=W;++v){var Y=H+4+v*t;(v==W||ne[Y>>>C]==0)&&(ze=c(ze,Y-ze),Ae===void 0?Ae=ze:(Ae+=String.fromCharCode(0),Ae+=ze),ze=Y+t)}return We(H),Ae},toWireType:(H,W)=>{if(typeof W!="string")throw new qe(`Cannot pass non-string to C++ string type ${o}`);var ne=w(W),Ae=jt(4+ne+t);return p()[Ae>>>2]=ne>>C,g(W,Ae+4,ne+t),H!==null&&H.push(We,Ae),Ae},argPackAdvance:8,readValueFromPointer:On,rb(H){We(H)}})},ra:function(e,t){e>>>=0,t=Pe(t>>>0),He(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>Lt()):R?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=U.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,t,o,c){t>>>=0,o/=2,Sr.length=o,c=c>>>0>>>3;for(var g=0;g<o;g++)Sr[g]=ge[c+2*g]?ge[c+2*g+1]:y()[c+2*g+1>>>0];return e=Lo[e],U.Gb=t,t=e.apply(null,Sr),U.Gb=0,t},da:_r,ma:function(e){L&&U.jb[e>>>0].ref()},r:function(e,t,o){t>>>=0,o>>>=0,e=Te(e>>>0),t=Ht(t,"emval::as");var c=[],g=Ce(c);return p()[o>>>2>>>0]=g,t.toWireType(c,e)},i:function(e,t,o,c,g){o>>>=0,c>>>=0,g>>>=0,e=zt[e>>>0],t=Te(t>>>0),o=Wt(o);var w=[];return p()[c>>>2>>>0]=Ce(w),e(t,o,w,g)},u:function(e,t,o,c){o>>>=0,c>>>=0,e=zt[e>>>0],t=Te(t>>>0),o=Wt(o),e(t,o,null,c)},c:Tr,K:function(e,t){return t>>>=0,e=Te(e>>>0),t=Te(t),e==t},o:function(e){return e>>>=0,e===0?Ce(_n()):(e=Wt(e),Ce(_n()[e]))},h:function(e,t){var o=Ro(e,t>>>0),c=o[0];t=c.name+"_$"+o.slice(1).map(function(ne){return ne.name}).join("_")+"$";var g=En[t];if(g!==void 0)return g;g=["retType"];for(var w=[c],E="",C=0;C<e-1;++C)E+=(C!==0?", ":"")+"arg"+C,g.push("argType"+C),w.push(o[1+C]);var H="return function "+Sn("methodCaller_"+t)+`(handle, name, destructors, args) {
`,W=0;for(C=0;C<e-1;++C)H+="    var arg"+C+" = argType"+C+".readValueFromPointer(args"+(W?"+"+W:"")+`);
`,W+=o[C+1].argPackAdvance;for(H+="    var rv = handle[name]("+E+`);
`,C=0;C<e-1;++C)o[C+1].deleteObject&&(H+="    argType"+C+".deleteObject(arg"+C+`);
`);return c.Ib||(H+=`    return retType.toWireType(destructors, rv);
`),g.push(H+`};
`),e=Do(g).apply(null,w),g=Io(e),En[t]=g},q:function(e,t){return t>>>=0,e=Te(e>>>0),t=Te(t),Ce(e[t])},d:function(e){e>>>=0,4<e&&(Me.get(e).Ab+=1)},x:function(e,t,o,c){o>>>=0,c>>>=0,e=Te(e>>>0);var g=An[t];return g||(g=ko(t),An[t]=g),g(e,o,c)},v:function(){return Ce([])},l:function(e){e=Te(e>>>0);for(var t=Array(e.length),o=0;o<e.length;o++)t[o]=e[o];return Ce(t)},e:function(e){return Ce(Wt(e>>>0))},k:function(){return Ce({})},g:function(e){e>>>=0;for(var t=Te(e);t.length;){var o=t.pop();t.pop()(o)}Tr(e)},j:function(e,t,o){t>>>=0,o>>>=0,e=Te(e>>>0),t=Te(t),o=Te(o),e[t]=o},f:function(e,t){return t>>>=0,e=Ht(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Ce(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),l()[t>>>2>>>0]=e.getUTCSeconds(),l()[t+4>>>2>>>0]=e.getUTCMinutes(),l()[t+8>>>2>>>0]=e.getUTCHours(),l()[t+12>>>2>>>0]=e.getUTCDate(),l()[t+16>>>2>>>0]=e.getUTCMonth(),l()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),l()[t>>>2>>>0]=e.getSeconds(),l()[t+4>>>2>>>0]=e.getMinutes(),l()[t+8>>>2>>>0]=e.getHours(),l()[t+12>>>2>>>0]=e.getDate(),l()[t+16>>>2>>>0]=e.getMonth(),l()[t+20>>>2>>>0]=e.getFullYear()-1900,l()[t+24>>>2>>>0]=e.getDay();var o=(gt(e.getFullYear())?Mn:Cn)[e.getMonth()]+e.getDate()-1|0;l()[t+28>>>2>>>0]=o,l()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var c=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=c&&e.getTimezoneOffset()==Math.min(c,o))|0,l()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),o=l()[e+32>>>2>>>0],c=t.getTimezoneOffset(),g=new Date(t.getFullYear(),6,1).getTimezoneOffset(),w=new Date(t.getFullYear(),0,1).getTimezoneOffset(),E=Math.min(w,g);return 0>o?l()[e+32>>>2>>>0]=+(g!=w&&E==c):0<o!=(E==c)&&(g=Math.max(w,g),t.setTime(t.getTime()+6e4*((0<o?E:g)-c))),l()[e+24>>>2>>>0]=t.getDay(),o=(gt(t.getFullYear())?Mn:Cn)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=o,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:Pn,Z:In,N:function(e,t,o){function c(W){return(W=W.toTimeString().match(/\(([A-Za-z ]+)\)$/))?W[1]:"GMT"}e>>>=0,t>>>=0,o>>>=0;var g=new Date().getFullYear(),w=new Date(g,0,1),E=new Date(g,6,1);g=w.getTimezoneOffset();var C=E.getTimezoneOffset(),H=Math.max(g,C);p()[e>>>2>>>0]=60*H,l()[t>>>2>>>0]=+(g!=C),e=c(w),t=c(E),e=Rn(e),t=Rn(t),C<g?(p()[o>>>2>>>0]=e,p()[o+4>>>2>>>0]=t):(p()[o>>>2>>>0]=t,p()[o+4>>>2>>>0]=e)},n:()=>{Le("")},E:()=>{},G:()=>Date.now(),la:()=>{throw lt+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>L?(Ia(),at(Pa)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=f().length;if(e<=t||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var c=t*(1+.2/o);c=Math.min(c,e+100663296);var g=Math;c=Math.max(e,c);e:{g=(g.min.call(g,4294901760,c+(65536-c%65536)%65536)-X.buffer.byteLength+65535)/65536;try{X.grow(g),K();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},fa:Dn,ga:kn,V:mt,z:Fn,C:Un,ca:Bn,B:Ln,a:X||s.wasmMemory,oa:zn,p:function(e,t,o,c){return zn(e>>>0,t>>>0,o>>>0,c>>>0)}},B=function(){var e={a:Ho};return De++,Ut(e,function(t){var o=t.module;B=t.instance.exports,B=Wo(),U.Eb.push(B.Xa),m=B._a,Be.unshift(B.sa),Ee=o,Tt()}).catch(_),{}}();s._OrtInit=(e,t)=>(s._OrtInit=B.ta)(e,t),s._OrtGetLastError=(e,t)=>(s._OrtGetLastError=B.ua)(e,t),s._OrtCreateSessionOptions=(e,t,o,c,g,w,E,C,H,W)=>(s._OrtCreateSessionOptions=B.va)(e,t,o,c,g,w,E,C,H,W),s._OrtAppendExecutionProvider=(e,t)=>(s._OrtAppendExecutionProvider=B.wa)(e,t),s._OrtAddFreeDimensionOverride=(e,t,o)=>(s._OrtAddFreeDimensionOverride=B.xa)(e,t,o),s._OrtAddSessionConfigEntry=(e,t,o)=>(s._OrtAddSessionConfigEntry=B.ya)(e,t,o),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=B.za)(e),s._OrtCreateSession=(e,t,o)=>(s._OrtCreateSession=B.Aa)(e,t,o),s._OrtReleaseSession=e=>(s._OrtReleaseSession=B.Ba)(e),s._OrtGetInputOutputCount=(e,t,o)=>(s._OrtGetInputOutputCount=B.Ca)(e,t,o),s._OrtGetInputName=(e,t)=>(s._OrtGetInputName=B.Da)(e,t),s._OrtGetOutputName=(e,t)=>(s._OrtGetOutputName=B.Ea)(e,t),s._OrtFree=e=>(s._OrtFree=B.Fa)(e),s._OrtCreateTensor=(e,t,o,c,g,w)=>(s._OrtCreateTensor=B.Ga)(e,t,o,c,g,w),s._OrtGetTensorData=(e,t,o,c,g)=>(s._OrtGetTensorData=B.Ha)(e,t,o,c,g),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=B.Ia)(e),s._OrtCreateRunOptions=(e,t,o,c)=>(s._OrtCreateRunOptions=B.Ja)(e,t,o,c),s._OrtAddRunConfigEntry=(e,t,o)=>(s._OrtAddRunConfigEntry=B.Ka)(e,t,o),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=B.La)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=B.Ma)(e),s._OrtBindInput=(e,t,o)=>(s._OrtBindInput=B.Na)(e,t,o),s._OrtBindOutput=(e,t,o,c)=>(s._OrtBindOutput=B.Oa)(e,t,o,c),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=B.Pa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=B.Qa)(e),s._OrtRunWithBinding=(e,t,o,c,g)=>(s._OrtRunWithBinding=B.Ra)(e,t,o,c,g),s._OrtRun=(e,t,o,c,g,w,E,C)=>(s._OrtRun=B.Sa)(e,t,o,c,g,w,E,C),s._OrtEndProfiling=e=>(s._OrtEndProfiling=B.Ta)(e);var $t=s._pthread_self=()=>($t=s._pthread_self=B.Ua)(),jt=s._malloc=e=>(jt=s._malloc=B.Va)(e),We=s._free=e=>(We=s._free=B.Wa)(e);s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=B.Xa)();var $n=e=>($n=B.Ya)(e);s.__embind_initialize_bindings=()=>(s.__embind_initialize_bindings=B.Za)();var jn=s.__emscripten_thread_init=(e,t,o,c,g,w)=>(jn=s.__emscripten_thread_init=B.$a)(e,t,o,c,g,w);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=B.ab)();var Gn=(e,t,o,c)=>(Gn=B.bb)(e,t,o,c),Mr=e=>(Mr=B.cb)(e),Cr=s.__emscripten_thread_exit=e=>(Cr=s.__emscripten_thread_exit=B.db)(e),Yn=s.__emscripten_check_mailbox=()=>(Yn=s.__emscripten_check_mailbox=B.eb)(),Vn=(e,t)=>(Vn=B.fb)(e,t),Pr=()=>(Pr=B.gb)(),Gt=e=>(Gt=B.hb)(e),Ir=e=>(Ir=B.ib)(e);function Wo(){var e=B;e=Object.assign({},e);var t=c=>()=>c()>>>0,o=c=>g=>c(g)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=o(e.Va),e.Ya=o(e.Ya),e.gb=t(e.gb),e.ib=o(e.ib),e}s.keepRuntimeAlive=Ge,s.wasmMemory=X,s.stackAlloc=Ir,s.stackSave=Pr,s.stackRestore=Gt,s.UTF8ToString=tt,s.stringToUTF8=ht,s.lengthBytesUTF8=fe,s.ExitStatus=dt,s.PThread=U;var Yt;Ye=function e(){Yt||qn(),Yt||(Ye=e)};function qn(){0<De||(R?(b(s),R||rt(Be),startWorker(s)):(rt(je),0<De||Yt||(Yt=!0,s.calledRun=!0,me||(R||rt(Be),b(s),R||rt(ut)))))}return qn(),n.ready}})();typeof xa=="object"&&typeof Wr=="object"?Wr.exports=Ra:typeof define=="function"&&define.amd&&define([],()=>Ra)});var ka=yt((os,Jo)=>{Jo.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Ua,Xo,zr,Nr,tr,Fa,Ko,Zo,Qo,Ba,$,it=G(()=>{"use strict";Ua=Aa();Xo=Da(),Nr=!1,tr=!1,Fa=!1,Ko=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Zo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Qo=(a,n)=>a?"ort-training-wasm-simd.wasm":n?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ba=async a=>{if(Nr)return Promise.resolve();if(tr)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Fa)throw new Error("previous call to 'initializeWebAssembly()' failed.");tr=!0;let n=a.initTimeout,r=a.numThreads,f=a.simd,u=r>1&&Ko(),h=f&&Zo(),l=a.wasmPaths,p=typeof l=="string"?l:void 0,y=Qo(h,u),s=typeof l=="object"?l[y]:void 0,b=!1,_=[];if(n>0&&_.push(new Promise(S=>{setTimeout(()=>{b=!0,S()},n)})),_.push(new Promise((S,A)=>{let F=u?Xo:Ua,M={locateFile:(D,L)=>u&&D.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([ka()],{type:"text/javascript"})):D.endsWith(".wasm")?s||(p??L)+y:L+D};if(u)if(typeof Blob>"u")M.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let D=`var ortWasmThreaded=${F.toString()};`;M.mainScriptUrlOrBlob=new Blob([D],{type:"text/javascript"})}F(M).then(D=>{tr=!1,Nr=!0,zr=D,S()},D=>{tr=!1,Fa=!0,A(D)})})),await Promise.race(_),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},$=()=>{if(Nr&&zr)return zr;throw new Error("WebAssembly is not initialized yet.")}});var ie,It,ee,Rt=G(()=>{"use strict";it();ie=(a,n)=>{let r=$(),f=r.lengthBytesUTF8(a)+1,u=r._malloc(f);return r.stringToUTF8(a,u,f),n.push(u),u},It=(a,n,r,f)=>{if(typeof a=="object"&&a!==null){if(r.has(a))throw new Error("Circular reference in options");r.add(a)}Object.entries(a).forEach(([u,h])=>{let l=n?n+u:u;if(typeof h=="object")It(h,l+".",r,f);else if(typeof h=="string"||typeof h=="number")f(l,h.toString());else if(typeof h=="boolean")f(l,h?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof h}`)})},ee=a=>{let n=$(),r=n.stackSave();try{let f=n.stackAlloc(8);n._OrtGetLastError(f,f+4);let u=n.HEAP32[f/4],h=n.HEAPU32[f/4+1],l=h?n.UTF8ToString(h):"";throw new Error(`${a} ERROR_CODE: ${u}, ERROR_MESSAGE: ${l}`)}finally{n.stackRestore(r)}}});var vt,$r=G(()=>{"use strict";it();Rt();vt=a=>{let n=$(),r=0,f=[],u=a||{};try{if(a?.logSeverityLevel===void 0)u.logSeverityLevel=2;else if(typeof a.logSeverityLevel!="number"||!Number.isInteger(a.logSeverityLevel)||a.logSeverityLevel<0||a.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${a.logSeverityLevel}`);if(a?.logVerbosityLevel===void 0)u.logVerbosityLevel=0;else if(typeof a.logVerbosityLevel!="number"||!Number.isInteger(a.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${a.logVerbosityLevel}`);a?.terminate===void 0&&(u.terminate=!1);let h=0;return a?.tag!==void 0&&(h=ie(a.tag,f)),r=n._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,h),r===0&&ee("Can't create run options."),a?.extra!==void 0&&It(a.extra,"",new WeakSet,(l,p)=>{let y=ie(l,f),s=ie(p,f);n._OrtAddRunConfigEntry(r,y,s)!==0&&ee(`Can't set a run config entry: ${l} - ${p}.`)}),[r,f]}catch(h){throw r!==0&&n._OrtReleaseRunOptions(r),f.forEach(l=>n._free(l)),h}}});var ei,ti,ri,ni,rr,jr=G(()=>{"use strict";it();Rt();ei=a=>{switch(a){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${a}`)}},ti=a=>{switch(a){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${a}`)}},ri=a=>{a.extra||(a.extra={}),a.extra.session||(a.extra.session={});let n=a.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),a.executionProviders&&a.executionProviders.some(r=>(typeof r=="string"?r:r.name)==="webgpu")&&(a.enableMemPattern=!1)},ni=(a,n,r)=>{for(let f of n){let u=typeof f=="string"?f:f.name;switch(u){case"xnnpack":u="XNNPACK";break;case"webnn":if(u="WEBNN",typeof f!="string"){let l=f;if(l?.deviceType){let p=ie("deviceType",r),y=ie(l.deviceType,r);$()._OrtAddSessionConfigEntry(a,p,y)!==0&&ee(`Can't set a session config entry: 'deviceType' - ${l.deviceType}.`)}if(l?.numThreads){let p=l.numThreads;(typeof p!="number"||!Number.isInteger(p)||p<0)&&(p=0);let y=ie("numThreads",r),s=ie(p.toString(),r);$()._OrtAddSessionConfigEntry(a,y,s)!==0&&ee(`Can't set a session config entry: 'numThreads' - ${l.numThreads}.`)}if(l?.powerPreference){let p=ie("powerPreference",r),y=ie(l.powerPreference,r);$()._OrtAddSessionConfigEntry(a,p,y)!==0&&ee(`Can't set a session config entry: 'powerPreference' - ${l.powerPreference}.`)}}break;case"webgpu":if(u="JS",typeof f!="string"){let l=f;if(l?.preferredLayout){if(l.preferredLayout!=="NCHW"&&l.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${l.preferredLayout}`);let p=ie("preferredLayout",r),y=ie(l.preferredLayout,r);$()._OrtAddSessionConfigEntry(a,p,y)!==0&&ee(`Can't set a session config entry: 'preferredLayout' - ${l.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${u}`)}let h=ie(u,r);$()._OrtAppendExecutionProvider(a,h)!==0&&ee(`Can't append execution provider: ${u}.`)}},rr=a=>{let n=$(),r=0,f=[],u=a||{};ri(u);try{let h=ei(u.graphOptimizationLevel??"all"),l=ti(u.executionMode??"sequential"),p=typeof u.logId=="string"?ie(u.logId,f):0,y=u.logSeverityLevel??2;if(!Number.isInteger(y)||y<0||y>4)throw new Error(`log serverity level is not valid: ${y}`);let s=u.logVerbosityLevel??0;if(!Number.isInteger(s)||s<0||s>4)throw new Error(`log verbosity level is not valid: ${s}`);let b=typeof u.optimizedModelFilePath=="string"?ie(u.optimizedModelFilePath,f):0;if(r=n._OrtCreateSessionOptions(h,!!u.enableCpuMemArena,!!u.enableMemPattern,l,!!u.enableProfiling,0,p,y,s,b),r===0&&ee("Can't create session options."),u.executionProviders&&ni(r,u.executionProviders,f),u.freeDimensionOverrides)for(let[_,S]of Object.entries(u.freeDimensionOverrides)){if(typeof _!="string")throw new Error(`free dimension override name must be a string: ${_}`);if(typeof S!="number"||!Number.isInteger(S)||S<0)throw new Error(`free dimension override value must be a non-negative integer: ${S}`);let A=ie(_,f);n._OrtAddFreeDimensionOverride(r,A,S)!==0&&ee(`Can't set a free dimension override: ${_} - ${S}.`)}return u.extra!==void 0&&It(u.extra,"",new WeakSet,(_,S)=>{let A=ie(_,f),F=ie(S,f);n._OrtAddSessionConfigEntry(r,A,F)!==0&&ee(`Can't set a session config entry: ${_} - ${S}.`)}),[r,f]}catch(h){throw r!==0&&n._OrtReleaseSessionOptions(r),f.forEach(l=>n._free(l)),h}}});var Ot,nr,Gr,xt,La,ar,Dt,or=G(()=>{"use strict";Ot=a=>{switch(a){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${a}`)}},nr=a=>{switch(a){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${a}`)}},Gr=a=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][a],xt=a=>{switch(a){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${a}`)}},La=a=>{switch(a){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${a}`)}},ar=a=>a==="float32"||a==="int32"||a==="int64"||a==="bool"||a==="float16"||a==="uint32",Dt=a=>{switch(a){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${a}`)}}});var Ha,ai,oi,sr,kt,ur,Ft,Yr,Wa,za,ir,Na,$a,ja,lr=G(()=>{"use strict";$r();jr();or();it();Rt();Ha=!1,ai=a=>{let n=$(),r=n.stackSave();try{let f=n.stackAlloc(8);return n._OrtGetInputOutputCount(a,f,f+4)!==0&&ee("Can't get session input/output count."),[n.HEAP32[f/4],n.HEAP32[f/4+1]]}finally{n.stackRestore(r)}},oi=(a,n)=>{$()._OrtInit(a,n)!==0&&ee("Can't initialize onnxruntime.")},sr=async a=>{oi(a.wasm.numThreads,La(a.logLevel)),Ha=!0},kt=new Map,ur=()=>Ha,Ft=a=>{let n=$(),r=n._malloc(a.byteLength);if(r===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${a.byteLength}.`);return n.HEAPU8.set(a,r),[r,a.byteLength]},Yr=(a,n)=>{let r=$(),f=0,u=0,h=0,l=[],p=[],y=[];try{[u,l]=rr(n),f=r._OrtCreateSession(a[0],a[1],u),f===0&&ee("Can't create a session.");let[s,b]=ai(f),_=[],S=[],A=[];for(let M=0;M<s;M++){let D=r._OrtGetInputName(f,M);D===0&&ee("Can't get an input name."),p.push(D),_.push(r.UTF8ToString(D))}for(let M=0;M<b;M++){let D=r._OrtGetOutputName(f,M);D===0&&ee("Can't get an output name."),y.push(D);let L=r.UTF8ToString(D);S.push(L)}let F=null;return kt.set(f,[f,p,y,F]),[f,_,S]}catch(s){throw p.forEach(b=>r._OrtFree(b)),y.forEach(b=>r._OrtFree(b)),h!==0&&r._OrtReleaseBinding(h),f!==0&&r._OrtReleaseSession(f),s}finally{r._free(a[0]),u!==0&&r._OrtReleaseSessionOptions(u),l.forEach(s=>r._free(s))}},Wa=(a,n)=>{let r=Ft(a);return Yr(r,n)},za=a=>{let n=$(),r=kt.get(a);if(!r)throw new Error(`cannot release session. invalid session id: ${a}`);let[f,u,h,l]=r;l&&n._OrtReleaseBinding(l.handle),n.jsepUnregisterBuffers?.(a),u.forEach(p=>n._OrtFree(p)),h.forEach(p=>n._OrtFree(p)),n._OrtReleaseSession(f),kt.delete(a)},ir=(a,n,r,f,u)=>{if(!a){n.push(0);return}let h=$(),l=a[0],p=a[1],y=a[3],s,b;if(l==="string"&&y==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(y==="gpu-buffer"){let A=a[2].gpuBuffer,F=Gr(Ot(l));b=p.reduce((M,D)=>M*D,1)*F,s=h.jsepRegisterBuffer(f,u,A,b)}else{let A=a[2];if(Array.isArray(A)){b=4*A.length,s=h._malloc(b),r.push(s);let F=s/4;for(let M=0;M<A.length;M++){if(typeof A[M]!="string")throw new TypeError(`tensor data at index ${M} is not a string`);h.HEAPU32[F++]=ie(A[M],r)}}else b=A.byteLength,s=h._malloc(b),r.push(s),h.HEAPU8.set(new Uint8Array(A.buffer,A.byteOffset,b),s)}let _=h.stackSave(),S=h.stackAlloc(4*p.length);try{let A=S/4;p.forEach(M=>h.HEAP32[A++]=M);let F=h._OrtCreateTensor(Ot(l),s,b,S,p.length,Dt(y));F===0&&ee(`Can't create tensor for input/output. session=${f}, index=${u}.`),n.push(F)}finally{h.stackRestore(_)}},Na=async(a,n,r,f,u,h)=>{let l=$(),p=kt.get(a);if(!p)throw new Error(`cannot run inference. invalid session id: ${a}`);let[y,s,b,_]=p,S=n.length,A=f.length,F=0,M=[],D=[],L=[],R=[],N=l.stackSave(),q=l.stackAlloc(S*4),I=l.stackAlloc(S*4),ve=l.stackAlloc(A*4),Oe=l.stackAlloc(A*4);try{[F,M]=vt(h);for(let j=0;j<S;j++)ir(r[j],D,R,a,n[j]);for(let j=0;j<A;j++)ir(u[j],L,R,a,S+f[j]);let re=q/4,k=I/4,se=ve/4,Ke=Oe/4;for(let j=0;j<S;j++)l.HEAPU32[re++]=D[j],l.HEAPU32[k++]=s[n[j]];for(let j=0;j<A;j++)l.HEAPU32[se++]=L[j],l.HEAPU32[Ke++]=b[f[j]];let Ze;Ze=await l._OrtRun(y,I,q,S,Oe,A,ve,F),Ze!==0&&ee("failed to call OrtRun().");let ue=[];for(let j=0;j<A;j++){let X=l.HEAPU32[ve/4+j];if(X===L[j]){ue.push(u[j]);continue}let Ee=l.stackSave(),me=l.stackAlloc(4*4),ce=!1,J,he=0;try{l._OrtGetTensorData(X,me,me+4,me+8,me+12)!==0&&ee(`Can't access output tensor data on index ${j}.`);let xe=me/4,$e=l.HEAPU32[xe++];he=l.HEAPU32[xe++];let Qe=l.HEAPU32[xe++],et=l.HEAPU32[xe++],ge=[];for(let K=0;K<et;K++)ge.push(l.HEAPU32[Qe/4+K]);l._OrtFree(Qe);let ye=ge.reduce((K,oe)=>K*oe,1);J=nr($e);let Ue=_?.outputPreferredLocations[f[j]];if(J==="string"){if(Ue==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],oe=he/4;for(let je=0;je<ye;je++){let Be=l.HEAPU32[oe++],ut=je===ye-1?void 0:l.HEAPU32[oe]-Be;K.push(l.UTF8ToString(Be,ut))}ue.push([J,ge,K,"cpu"])}else if(Ue==="gpu-buffer"&&ye>0){let K=l.jsepGetBuffer(he),oe=Gr($e);if(oe===void 0||!ar(J))throw new Error(`Unsupported data type: ${J}`);ce=!0,ue.push([J,ge,{gpuBuffer:K,download:l.jsepCreateDownloader(K,ye*oe,J),dispose:()=>{l._OrtReleaseTensor(X)}},"gpu-buffer"])}else{let K=xt(J),oe=new K(ye);new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength).set(l.HEAPU8.subarray(he,he+oe.byteLength)),ue.push([J,ge,oe,"cpu"])}}finally{l.stackRestore(Ee),J==="string"&&he&&l._free(he),ce||l._OrtReleaseTensor(X)}}return _&&l._OrtClearBoundOutputs(_.handle),ue}finally{l.stackRestore(N),D.forEach(re=>l._OrtReleaseTensor(re)),L.forEach(re=>l._OrtReleaseTensor(re)),R.forEach(re=>l._free(re)),F!==0&&l._OrtReleaseRunOptions(F),M.forEach(re=>l._free(re))}},$a=a=>{let n=$(),r=kt.get(a);if(!r)throw new Error("invalid session id");let f=r[0],u=n._OrtEndProfiling(f);u===0&&ee("Can't get an profile file name."),n._OrtFree(u)},ja=a=>{let n=[];for(let r of a){let f=r[2];!Array.isArray(f)&&"buffer"in f&&n.push(f.buffer)}return n}});var Ga=yt((Ts,si)=>{si.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Lt=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var zn=Object.getOwnPropertyNames;var Nn=Object.prototype.hasOwnProperty;var Ht=(f,p)=>()=>(f&&(p=f(f=0)),p);var lt=(f,p)=>()=>(p||f((p={exports:{}}).exports,p),p.exports),zt=(f,p)=>{for(var a in p)Lt(f,a,{get:p[a],enumerable:!0})},jn=(f,p,a,y)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of zn(p))!Nn.call(f,b)&&b!==a&&Lt(f,b,{get:()=>p[b],enumerable:!(y=Hn(p,b))||y.enumerable});return f};var ct=f=>jn(Lt({},"__esModule",{value:!0}),f);var Nt={};zt(Nt,{readFile:()=>$n});var $n,jt=Ht(()=>{$n=void 0});var $t={};zt($t,{join:()=>Gn});var Gn,Gt=Ht(()=>{Gn=void 0});var zr=lt((Hr,Yt)=>{"use strict";var Lr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(p={}){var a=p,y,b;a.ready=new Promise((n,i)=>{y=n,b=i});var A=Object.assign({},a),c="./this.program",_=typeof window=="object",R=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="",N,x,W;if(l){var G=(jt(),ct(Nt)),B=(Gt(),ct($t));U=R?B.dirname(U)+"/":__dirname+"/",N=(n,i)=>(n=n.startsWith("file://")?new URL(n):B.normalize(n),G.readFileSync(n,i?void 0:"utf8")),W=n=>(n=N(n,!0),n.buffer||(n=new Uint8Array(n)),n),x=(n,i,s,g=!0)=>{n=n.startsWith("file://")?new URL(n):B.normalize(n),G.readFile(n,g?void 0:"utf8",(w,S)=>{w?s(w):i(g?S.buffer:S)})},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(_||R)&&(R?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),f&&(U=f),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",N=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.send(null),i.responseText},R&&(W=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),x=(n,i,s)=>{var g=new XMLHttpRequest;g.open("GET",n,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?i(g.response):s()},g.onerror=s,g.send(null)});var L=a.print||console.log.bind(console),j=a.printErr||console.error.bind(console);Object.assign(a,A),A=null,a.thisProgram&&(c=a.thisProgram);var F;a.wasmBinary&&(F=a.wasmBinary);var le=a.noExitRuntime||!0;typeof WebAssembly!="object"&&$("no native wasm support detected");var Te,T,we=!1,ve,X,E,ne;function ze(){var n=Te.buffer;a.HEAP8=ve=new Int8Array(n),a.HEAP16=new Int16Array(n),a.HEAP32=E=new Int32Array(n),a.HEAPU8=X=new Uint8Array(n),a.HEAPU16=new Uint16Array(n),a.HEAPU32=ne=new Uint32Array(n),a.HEAPF32=new Float32Array(n),a.HEAPF64=new Float64Array(n)}var Ne=[],ae=[],k=[];function Y(){var n=a.preRun.shift();Ne.unshift(n)}var he=0,fe=null,se=null;function $(n){throw a.onAbort&&a.onAbort(n),n="Aborted("+n+")",j(n),we=!0,n=new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info."),b(n),n}function ce(n){return n.startsWith("data:application/octet-stream;base64,")}var Se;if(Se="ort-training-wasm-simd.wasm",!ce(Se)){var Ee=Se;Se=a.locateFile?a.locateFile(Ee,U):U+Ee}function xe(n){if(n==Se&&F)return new Uint8Array(F);if(W)return W(n);throw"both async and sync fetching of the wasm failed"}function je(n){if(!F&&(_||R)){if(typeof fetch=="function"&&!n.startsWith("file://"))return fetch(n,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at \'"+n+"\'";return i.arrayBuffer()}).catch(()=>xe(n));if(x)return new Promise((i,s)=>{x(n,g=>i(new Uint8Array(g)),s)})}return Promise.resolve().then(()=>xe(n))}function $e(n,i,s){return je(n).then(g=>WebAssembly.instantiate(g,i)).then(g=>g).then(s,g=>{j("failed to asynchronously prepare wasm: "+g),$(g)})}function de(n,i){var s=Se;return F||typeof WebAssembly.instantiateStreaming!="function"||ce(s)||s.startsWith("file://")||l||typeof fetch!="function"?$e(s,n,i):fetch(s,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,n).then(i,function(w){return j("wasm streaming compile failed: "+w),j("falling back to ArrayBuffer instantiation"),$e(s,n,i)}))}var pe,Fe=n=>{for(;0<n.length;)n.shift()(a)};function V(n){this.Ja=n-24,this.Na=function(i){ne[this.Ja+4>>2>>>0]=i},this.Ma=function(i){ne[this.Ja+8>>2>>>0]=i},this.Ka=function(i,s){this.La(),this.Na(i),this.Ma(s)},this.La=function(){ne[this.Ja+16>>2>>>0]=0}}var ee=0,We=0,Pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qe=(n,i,s)=>{i>>>=0;var g=i+s;for(s=i;n[s]&&!(s>=g);)++s;if(16<s-i&&n.buffer&&Pe)return Pe.decode(n.subarray(i,s));for(g="";i<s;){var w=n[i++];if(w&128){var S=n[i++]&63;if((w&224)==192)g+=String.fromCharCode((w&31)<<6|S);else{var I=n[i++]&63;w=(w&240)==224?(w&15)<<12|S<<6|I:(w&7)<<18|S<<12|I<<6|n[i++]&63,65536>w?g+=String.fromCharCode(w):(w-=65536,g+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else g+=String.fromCharCode(w)}return g},Je=(n,i)=>(n>>>=0)?qe(X,n,i):"",Be=n=>{for(var i=0,s=0;s<n.length;++s){var g=n.charCodeAt(s);127>=g?i++:2047>=g?i+=2:55296<=g&&57343>=g?(i+=4,++s):i+=3}return i},Ae=(n,i,s,g)=>{if(s>>>=0,!(0<g))return 0;var w=s;g=s+g-1;for(var S=0;S<n.length;++S){var I=n.charCodeAt(S);if(55296<=I&&57343>=I){var oe=n.charCodeAt(++S);I=65536+((I&1023)<<10)|oe&1023}if(127>=I){if(s>=g)break;i[s++>>>0]=I}else{if(2047>=I){if(s+1>=g)break;i[s++>>>0]=192|I>>6}else{if(65535>=I){if(s+2>=g)break;i[s++>>>0]=224|I>>12}else{if(s+3>=g)break;i[s++>>>0]=240|I>>18,i[s++>>>0]=128|I>>12&63}i[s++>>>0]=128|I>>6&63}i[s++>>>0]=128|I&63}}return i[s>>>0]=0,s-w},Me=n=>n%4===0&&(n%100!==0||n%400===0),ke=[0,31,60,91,121,152,182,213,244,274,305,335],nt=[0,31,59,90,120,151,181,212,243,273,304,334],De=n=>{var i=Be(n)+1,s=ot(i);return s&&Ae(n,X,s,i),s},Xe={},Le=()=>{if(!Ke){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},i;for(i in Xe)Xe[i]===void 0?delete n[i]:n[i]=Xe[i];var s=[];for(i in n)s.push(`${i}=${n[i]}`);Ke=s}return Ke},Ke,At=[null,[],[]],at=[31,29,31,30,31,30,31,31,30,31,30,31],mt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ze(n){var i=Array(Be(n)+1);return Ae(n,i,0,i.length),i}function Qe(n,i,s,g){function w(h,z,q){for(h=typeof h=="number"?h.toString():h||"";h.length<z;)h=q[0]+h;return h}function S(h,z){return w(h,z,"0")}function I(h,z){function q(ft){return 0>ft?-1:0<ft?1:0}var Ce;return(Ce=q(h.getFullYear()-z.getFullYear()))===0&&(Ce=q(h.getMonth()-z.getMonth()))===0&&(Ce=q(h.getDate()-z.getDate())),Ce}function oe(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function me(h){var z=h.Ea;for(h=new Date(new Date(h.Fa+1900,0,1).getTime());0<z;){var q=h.getMonth(),Ce=(Me(h.getFullYear())?at:mt)[q];if(z>Ce-h.getDate())z-=Ce-h.getDate()+1,h.setDate(1),11>q?h.setMonth(q+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+z);break}}return q=new Date(h.getFullYear()+1,0,4),z=oe(new Date(h.getFullYear(),0,4)),q=oe(q),0>=I(z,h)?0>=I(q,h)?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}n>>>=0,i>>>=0,s>>>=0,g>>>=0;var ue=E[g+40>>2>>>0];g={Qa:E[g>>2>>>0],Pa:E[g+4>>2>>>0],Ga:E[g+8>>2>>>0],Ia:E[g+12>>2>>>0],Ha:E[g+16>>2>>>0],Fa:E[g+20>>2>>>0],za:E[g+24>>2>>>0],Ea:E[g+28>>2>>>0],Sa:E[g+32>>2>>>0],Oa:E[g+36>>2>>>0],Ra:ue?Je(ue):""},s=Je(s),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in ue)s=s.replace(new RegExp(ie,"g"),ue[ie]);var ut="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),tt="January February March April May June July August September October November December".split(" ");ue={"%a":h=>ut[h.za].substring(0,3),"%A":h=>ut[h.za],"%b":h=>tt[h.Ha].substring(0,3),"%B":h=>tt[h.Ha],"%C":h=>S((h.Fa+1900)/100|0,2),"%d":h=>S(h.Ia,2),"%e":h=>w(h.Ia,2," "),"%g":h=>me(h).toString().substring(2),"%G":h=>me(h),"%H":h=>S(h.Ga,2),"%I":h=>(h=h.Ga,h==0?h=12:12<h&&(h-=12),S(h,2)),"%j":h=>{for(var z=0,q=0;q<=h.Ha-1;z+=(Me(h.Fa+1900)?at:mt)[q++]);return S(h.Ia+z,3)},"%m":h=>S(h.Ha+1,2),"%M":h=>S(h.Pa,2),"%n":()=>`\n`,"%p":h=>0<=h.Ga&&12>h.Ga?"AM":"PM","%S":h=>S(h.Qa,2),"%t":()=>"	","%u":h=>h.za||7,"%U":h=>S(Math.floor((h.Ea+7-h.za)/7),2),"%V":h=>{var z=Math.floor((h.Ea+7-(h.za+6)%7)/7);if(2>=(h.za+371-h.Ea-2)%7&&z++,z)z==53&&(q=(h.za+371-h.Ea)%7,q==4||q==3&&Me(h.Fa)||(z=1));else{z=52;var q=(h.za+7-h.Ea-1)%7;(q==4||q==5&&Me(h.Fa%400-1))&&z++}return S(z,2)},"%w":h=>h.za,"%W":h=>S(Math.floor((h.Ea+7-(h.za+6)%7)/7),2),"%y":h=>(h.Fa+1900).toString().substring(2),"%Y":h=>h.Fa+1900,"%z":h=>{h=h.Oa;var z=0<=h;return h=Math.abs(h)/60,(z?"+":"-")+("0000"+(h/60*100+h%60)).slice(-4)},"%Z":h=>h.Ra,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ie in ue)s.includes(ie)&&(s=s.replace(new RegExp(ie,"g"),ue[ie](g)));return s=s.replace(/\\0\\0/g,"%"),ie=Ze(s),ie.length>i?0:(ve.set(ie,n>>>0),ie.length-1)}var gt={a:function(n,i,s){throw n>>>=0,new V(n).Ka(i>>>0,s>>>0),ee=n,We++,ee},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),E[s>>2>>>0]=n.getUTCSeconds(),E[s+4>>2>>>0]=n.getUTCMinutes(),E[s+8>>2>>>0]=n.getUTCHours(),E[s+12>>2>>>0]=n.getUTCDate(),E[s+16>>2>>>0]=n.getUTCMonth(),E[s+20>>2>>>0]=n.getUTCFullYear()-1900,E[s+24>>2>>>0]=n.getUTCDay(),E[s+28>>2>>>0]=(n.getTime()-Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),E[s>>2>>>0]=n.getSeconds(),E[s+4>>2>>>0]=n.getMinutes(),E[s+8>>2>>>0]=n.getHours(),E[s+12>>2>>>0]=n.getDate(),E[s+16>>2>>>0]=n.getMonth(),E[s+20>>2>>>0]=n.getFullYear()-1900,E[s+24>>2>>>0]=n.getDay(),E[s+28>>2>>>0]=(Me(n.getFullYear())?ke:nt)[n.getMonth()]+n.getDate()-1|0,E[s+36>>2>>>0]=-(60*n.getTimezoneOffset()),i=new Date(n.getFullYear(),6,1).getTimezoneOffset();var g=new Date(n.getFullYear(),0,1).getTimezoneOffset();E[s+32>>2>>>0]=(i!=g&&n.getTimezoneOffset()==Math.min(g,i))|0},q:function(n){n>>>=0;var i=new Date(E[n+20>>2>>>0]+1900,E[n+16>>2>>>0],E[n+12>>2>>>0],E[n+8>>2>>>0],E[n+4>>2>>>0],E[n>>2>>>0],0),s=E[n+32>>2>>>0],g=i.getTimezoneOffset(),w=new Date(i.getFullYear(),6,1).getTimezoneOffset(),S=new Date(i.getFullYear(),0,1).getTimezoneOffset(),I=Math.min(S,w);return 0>s?E[n+32>>2>>>0]=+(w!=S&&I==g):0<s!=(I==g)&&(w=Math.max(S,w),i.setTime(i.getTime()+6e4*((0<s?I:w)-g))),E[n+24>>2>>>0]=i.getDay(),E[n+28>>2>>>0]=(Me(i.getFullYear())?ke:nt)[i.getMonth()]+i.getDate()-1|0,E[n>>2>>>0]=i.getSeconds(),E[n+4>>2>>>0]=i.getMinutes(),E[n+8>>2>>>0]=i.getHours(),E[n+12>>2>>>0]=i.getDate(),E[n+16>>2>>>0]=i.getMonth(),E[n+20>>2>>>0]=i.getYear(),n=i.getTime()/1e3,it((pe=n,1<=+Math.abs(pe)?0<pe?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)),n>>>0},m:function(){return-52},n:function(){},t:function(n,i,s){function g(me){return(me=me.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?me[1]:"GMT"}s>>>=0;var w=new Date().getFullYear(),S=new Date(w,0,1),I=new Date(w,6,1);w=S.getTimezoneOffset();var oe=I.getTimezoneOffset();ne[n>>>0>>2>>>0]=60*Math.max(w,oe),E[i>>>0>>2>>>0]=+(w!=oe),n=g(S),i=g(I),n=De(n),i=De(i),oe<w?(ne[s>>2>>>0]=n,ne[s+4>>2>>>0]=i):(ne[s>>2>>>0]=i,ne[s+4>>2>>>0]=n)},d:()=>{$("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(n,i,s){return i>>>=0,X.copyWithin(n>>>0>>>0,i>>>0,i+(s>>>0)>>>0)},s:function(n){n>>>=0;var i=X.length;if(4294901760<n)return!1;for(var s=1;4>=s;s*=2){var g=i*(1+.2/s);g=Math.min(g,n+100663296);var w=Math;g=Math.max(n,g);e:{w=w.min.call(w,4294901760,g+(65536-g%65536)%65536)-Te.buffer.byteLength+65535>>>16;try{Te.grow(w),ze();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(n,i){n>>>=0,i>>>=0;var s=0;return Le().forEach(function(g,w){var S=i+s;for(w=ne[n+4*w>>2>>>0]=S,S=0;S<g.length;++S)ve[w++>>0>>>0]=g.charCodeAt(S);ve[w>>0>>>0]=0,s+=g.length+1}),0},D:function(n,i){n>>>=0,i>>>=0;var s=Le();ne[n>>2>>>0]=s.length;var g=0;return s.forEach(function(w){g+=w.length+1}),ne[i>>2>>>0]=g,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(n,i,s,g){i>>>=0,s>>>=0,g>>>=0;for(var w=0,S=0;S<s;S++){var I=ne[i>>2>>>0],oe=ne[i+4>>2>>>0];i+=8;for(var me=0;me<oe;me++){var ue=X[I+me>>>0],ie=At[n];ue===0||ue===10?((n===1?L:j)(qe(ie,0)),ie.length=0):ie.push(ue)}w+=oe}return ne[g>>2>>>0]=w,0},A:Qe,c:function(n,i,s,g){return Qe(n>>>0,i>>>0,s>>>0,g>>>0)}};(function(){function n(s){if(s=s.exports,T=s=Mt(s),Te=T.J,ze(),ae.unshift(T.K),he--,a.monitorRunDependencies&&a.monitorRunDependencies(he),he==0&&(fe!==null&&(clearInterval(fe),fe=null),se)){var g=se;se=null,g()}return s}var i={a:gt};if(he++,a.monitorRunDependencies&&a.monitorRunDependencies(he),a.instantiateWasm)try{return a.instantiateWasm(i,n)}catch(s){j("Module.instantiateWasm callback failed with error: "+s),b(s)}return de(i,function(s){n(s.instance)}).catch(b),{}})(),a._OrtInit=(n,i)=>(a._OrtInit=T.L)(n,i),a._OrtGetLastError=(n,i)=>(a._OrtGetLastError=T.M)(n,i),a._OrtCreateSessionOptions=(n,i,s,g,w,S,I,oe,me,ue)=>(a._OrtCreateSessionOptions=T.N)(n,i,s,g,w,S,I,oe,me,ue),a._OrtAppendExecutionProvider=(n,i)=>(a._OrtAppendExecutionProvider=T.O)(n,i),a._OrtAddFreeDimensionOverride=(n,i,s)=>(a._OrtAddFreeDimensionOverride=T.P)(n,i,s),a._OrtAddSessionConfigEntry=(n,i,s)=>(a._OrtAddSessionConfigEntry=T.Q)(n,i,s),a._OrtReleaseSessionOptions=n=>(a._OrtReleaseSessionOptions=T.R)(n),a._OrtCreateSession=(n,i,s)=>(a._OrtCreateSession=T.S)(n,i,s),a._OrtReleaseSession=n=>(a._OrtReleaseSession=T.T)(n),a._OrtGetInputOutputCount=(n,i,s)=>(a._OrtGetInputOutputCount=T.U)(n,i,s),a._OrtGetInputName=(n,i)=>(a._OrtGetInputName=T.V)(n,i),a._OrtGetOutputName=(n,i)=>(a._OrtGetOutputName=T.W)(n,i),a._OrtFree=n=>(a._OrtFree=T.X)(n),a._OrtCreateTensor=(n,i,s,g,w,S)=>(a._OrtCreateTensor=T.Y)(n,i,s,g,w,S),a._OrtGetTensorData=(n,i,s,g,w)=>(a._OrtGetTensorData=T.Z)(n,i,s,g,w),a._OrtReleaseTensor=n=>(a._OrtReleaseTensor=T._)(n),a._OrtCreateRunOptions=(n,i,s,g)=>(a._OrtCreateRunOptions=T.$)(n,i,s,g),a._OrtAddRunConfigEntry=(n,i,s)=>(a._OrtAddRunConfigEntry=T.aa)(n,i,s),a._OrtReleaseRunOptions=n=>(a._OrtReleaseRunOptions=T.ba)(n),a._OrtCreateBinding=n=>(a._OrtCreateBinding=T.ca)(n),a._OrtBindInput=(n,i,s)=>(a._OrtBindInput=T.da)(n,i,s),a._OrtBindOutput=(n,i,s,g)=>(a._OrtBindOutput=T.ea)(n,i,s,g),a._OrtClearBoundOutputs=n=>(a._OrtClearBoundOutputs=T.fa)(n),a._OrtReleaseBinding=n=>(a._OrtReleaseBinding=T.ga)(n),a._OrtRunWithBinding=(n,i,s,g,w)=>(a._OrtRunWithBinding=T.ha)(n,i,s,g,w),a._OrtRun=(n,i,s,g,w,S,I,oe)=>(a._OrtRun=T.ia)(n,i,s,g,w,S,I,oe),a._OrtEndProfiling=n=>(a._OrtEndProfiling=T.ja)(n),a._OrtTrainingLoadCheckpoint=(n,i)=>(a._OrtTrainingLoadCheckpoint=T.ka)(n,i),a._OrtTrainingReleaseCheckpoint=n=>(a._OrtTrainingReleaseCheckpoint=T.la)(n),a._OrtTrainingCreateSession=(n,i,s,g,w,S,I,oe)=>(a._OrtTrainingCreateSession=T.ma)(n,i,s,g,w,S,I,oe),a._OrtTrainingLazyResetGrad=n=>(a._OrtTrainingLazyResetGrad=T.na)(n),a._OrtTrainingRunTrainStep=(n,i,s,g,w,S)=>(a._OrtTrainingRunTrainStep=T.oa)(n,i,s,g,w,S),a._OrtTrainingOptimizerStep=(n,i)=>(a._OrtTrainingOptimizerStep=T.pa)(n,i),a._OrtTrainingEvalStep=(n,i,s,g,w,S)=>(a._OrtTrainingEvalStep=T.qa)(n,i,s,g,w,S),a._OrtTrainingGetParametersSize=(n,i,s)=>(a._OrtTrainingGetParametersSize=T.ra)(n,i,s),a._OrtTrainingCopyParametersToBuffer=(n,i,s,g)=>(a._OrtTrainingCopyParametersToBuffer=T.sa)(n,i,s,g),a._OrtTrainingCopyParametersFromBuffer=(n,i,s,g)=>(a._OrtTrainingCopyParametersFromBuffer=T.ta)(n,i,s,g),a._OrtTrainingGetModelInputOutputCount=(n,i,s,g)=>(a._OrtTrainingGetModelInputOutputCount=T.ua)(n,i,s,g),a._OrtTrainingGetModelInputOutputName=(n,i,s,g)=>(a._OrtTrainingGetModelInputOutputName=T.va)(n,i,s,g),a._OrtTrainingReleaseSession=n=>(a._OrtTrainingReleaseSession=T.wa)(n);var ot=a._malloc=n=>(ot=a._malloc=T.xa)(n);a._free=n=>(a._free=T.ya)(n);var it=n=>(it=T.Aa)(n),Ge=()=>(Ge=T.Ba)(),st=n=>(st=T.Ca)(n),et=n=>(et=T.Da)(n);function Mt(n){n=Object.assign({},n);var i=g=>()=>g()>>>0,s=g=>w=>g(w)>>>0;return n.__errno_location=i(n.__errno_location),n.malloc=s(n.malloc),n.stackSave=i(n.stackSave),n.stackAlloc=s(n.stackAlloc),n}a.stackAlloc=et,a.stackSave=Ge,a.stackRestore=st,a.UTF8ToString=Je,a.stringToUTF8=(n,i,s)=>Ae(n,X,i,s),a.lengthBytesUTF8=Be;var M;se=function n(){M||Ye(),M||(se=n)};function Ye(){function n(){if(!M&&(M=!0,a.calledRun=!0,!we)){if(Fe(ae),y(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var i=a.postRun.shift();k.unshift(i)}Fe(k)}}if(!(0<he)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Y();Fe(Ne),0<he||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),n()},1)):n())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return Ye(),p.ready}})();typeof Hr=="object"&&typeof Yt=="object"?Yt.exports=Lr:typeof define=="function"&&define.amd&&define([],()=>Lr)});var Nr=lt(()=>{});var jr=lt(()=>{});var $r={};zt($r,{cpus:()=>Yn});var Yn,Gr=Ht(()=>{Yn=void 0});var qr=lt((Vr,Vt)=>{"use strict";var Yr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(p={}){function a(){return Y.buffer!=$.buffer&&V(),$}function y(){return Y.buffer!=$.buffer&&V(),ce}function b(){return Y.buffer!=$.buffer&&V(),Se}function A(){return Y.buffer!=$.buffer&&V(),Ee}function c(){return Y.buffer!=$.buffer&&V(),xe}function _(){return Y.buffer!=$.buffer&&V(),je}function R(){return Y.buffer!=$.buffer&&V(),Fe}var l=p,U,N;l.ready=new Promise((e,t)=>{U=e,N=t});var x=Object.assign({},l),W="./this.program",G=(e,t)=>{throw t},B=typeof window=="object",L=typeof importScripts=="function",j=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",F=l.ENVIRONMENT_IS_PTHREAD||!1,le="";function Te(e){return l.locateFile?l.locateFile(e,le):le+e}var T,we,ve;if(j){var X=(jt(),ct(Nt)),E=(Gt(),ct($t));le=L?E.dirname(le)+"/":__dirname+"/",T=(t,r)=>(t=t.startsWith("file://")?new URL(t):E.normalize(t),X.readFileSync(t,r?void 0:"utf8")),ve=t=>(t=T(t,!0),t.buffer||(t=new Uint8Array(t)),t),we=(t,r,o,u=!0)=>{t=t.startsWith("file://")?new URL(t):E.normalize(t),X.readFile(t,u?void 0:"utf8",(d,v)=>{d?o(d):r(u?v.buffer:v)})},!l.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),G=(t,r)=>{throw process.exitCode=t,r},l.inspect=()=>"[Emscripten Module object]";let e;try{e=Nr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(B||L)&&(L?le=self.location.href:typeof document<"u"&&document.currentScript&&(le=document.currentScript.src),typeof f<"u"&&f&&(le=f),le.indexOf("blob:")!==0?le=le.substr(0,le.replace(/[?#].*/,"").lastIndexOf("/")+1):le="",j||(T=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},L&&(ve=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),we=(e,t,r)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)}));j&&typeof performance>"u"&&(global.performance=jr().performance);var ne=console.log.bind(console),ze=console.error.bind(console);j&&(ne=(...e)=>X.writeSync(1,e.join(" ")+`\n`),ze=(...e)=>X.writeSync(2,e.join(" ")+`\n`));var Ne=ne,ae=ze;Object.assign(l,x),x=null;var k=!0;typeof WebAssembly!="object"&&De("no native wasm support detected");var Y,he,fe=!1,se,$,ce,Se,Ee,xe,je,$e,de,pe,Fe;function V(){var e=Y.buffer;l.HEAP8=$=new Int8Array(e),l.HEAP16=Se=new Int16Array(e),l.HEAPU8=ce=new Uint8Array(e),l.HEAPU16=Ee=new Uint16Array(e),l.HEAP32=xe=new Int32Array(e),l.HEAPU32=je=new Uint32Array(e),l.HEAPF32=$e=new Float32Array(e),l.HEAPF64=Fe=new Float64Array(e),l.HEAP64=de=new BigInt64Array(e),l.HEAPU64=pe=new BigUint64Array(e)}var ee=16777216;if(5242880<=ee||De("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ee+"! (STACK_SIZE=5242880)"),F)Y=l.wasmMemory;else if(Y=new WebAssembly.Memory({initial:ee/65536,maximum:65536,shared:!0}),!(Y.buffer instanceof SharedArrayBuffer))throw ae("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),j&&ae("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");V(),ee=Y.buffer.byteLength;var We=[],Pe=[],qe=[],Je=0;function Be(){return k||0<Je}var Ae=0,Me=null,ke=null;function nt(){if(Ae--,Ae==0&&(Me!==null&&(clearInterval(Me),Me=null),ke)){var e=ke;ke=null,e()}}function De(e){throw e="Aborted("+e+")",ae(e),fe=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),N(e),e}function Xe(e){return e.startsWith("data:application/octet-stream;base64,")}var Le;Le="ort-wasm-threaded.wasm",Xe(Le)||(Le=Te(Le));function Ke(e){if(ve)return ve(e);throw"both async and sync fetching of the wasm failed"}function At(e){if(B||L){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Ke(e));if(we)return new Promise((t,r)=>{we(e,o=>t(new Uint8Array(o)),r)})}return Promise.resolve().then(()=>Ke(e))}function at(e,t,r){return At(e).then(o=>WebAssembly.instantiate(o,t)).then(o=>o).then(r,o=>{ae(`failed to asynchronously prepare wasm: ${o}`),De(o)})}function mt(e,t){var r=Le;return typeof WebAssembly.instantiateStreaming!="function"||Xe(r)||r.startsWith("file://")||j||typeof fetch!="function"?at(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(u){return ae(`wasm streaming compile failed: ${u}`),ae("falling back to ArrayBuffer instantiation"),at(r,e,t)}))}function Ze(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Qe=e=>{e.terminate(),e.onmessage=()=>{}},gt=e=>{if(M.qb.length==0){var t=Te("ort-wasm-threaded.worker.js");t=new Worker(t),M.qb.push(t),M.Jb(M.qb[0])}if(t=M.qb.pop(),!t)return 6;M.nb.push(t),M.jb[e.mb]=t,t.mb=e.mb;var r={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return j&&t.unref(),t.postMessage(r,e.Sb),0},ot=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,it=(e,t,r)=>{t>>>=0;var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&ot)return ot.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(o="";t<r;){var u=e[t++];if(u&128){var d=e[t++]&63;if((u&224)==192)o+=String.fromCharCode((u&31)<<6|d);else{var v=e[t++]&63;u=(u&240)==224?(u&15)<<12|d<<6|v:(u&7)<<18|d<<12|v<<6|e[t++]&63,65536>u?o+=String.fromCharCode(u):(u-=65536,o+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else o+=String.fromCharCode(u)}return o},Ge=(e,t)=>(e>>>=0)?it(y(),e,t):"";function st(e){if(F)return J(0,1,e);se=e,Be()||(M.Nb(),fe=!0),G(e,new Ze(e))}var et=e=>{if(se=e,F)throw n(e),"unwind";st(e)};function Mt(){We.unshift(()=>{Ae++,nt()})}var M={qb:[],nb:[],Eb:[],jb:{},vb(){F?(M.receiveObjectTransfer=M.Lb,M.threadInitTLS=M.Db,M.setExitStatus=M.Cb,k=!1):Mt()},Cb:e=>{se=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of M.nb)Qe(e);for(e of M.qb)Qe(e);M.qb=[],M.nb=[],M.jb=[]},Bb:e=>{var t=e.mb;delete M.jb[t],M.qb.push(e),M.nb.splice(M.nb.indexOf(e),1),e.mb=0,xt(t)},Lb(){},Db(){M.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=d=>{d=d.data;var v=d.cmd;if(d.targetThread&&d.targetThread!=wt()){var O=M.jb[d.targetThread];O?O.postMessage(d,d.transferList):ae(`Internal error! Worker sent a message "${v}" to target pthread ${d.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ht():v==="spawnThread"?gt(d):v==="cleanupThread"?((d=M.jb[d.thread])||De(),M.Bb(d)):v==="killThread"?(d=d.thread,v=M.jb[d],delete M.jb[d],Qe(v),xt(d),M.nb.splice(M.nb.indexOf(v),1),v.mb=0):v==="cancelThread"?M.jb[d.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,t(e)):v==="alert"?alert(`Thread ${d.threadId}: ${d.text}`):d.target==="setimmediate"?e.postMessage(d):v==="callHandler"?l[d.handler](...d.args):v&&ae(`worker sent an unknown command ${v}`)},e.onerror=d=>{throw ae(`worker sent an error! ${d.filename}:${d.lineno}: ${d.message}`),d},j&&(e.on("message",d=>e.onmessage({data:d})),e.on("error",d=>e.onerror(d)));var r=[],o=[],u;for(u of o)l.hasOwnProperty(u)&&r.push(u);e.postMessage({cmd:"load",handlers:r,urlOrBlob:l.mainScriptUrlOrBlob||f,wasmMemory:Y,wasmModule:he})})};l.PThread=M;var Ye=e=>{for(;0<e.length;)e.shift()(l)};l.establishStackSpace=()=>{var e=wt(),t=_()[e+52>>>2>>>0];e=_()[e+56>>>2>>>0],Wr(t,t-e),Tt(t)};function n(e){if(F)return J(1,0,e);et(e)}var i=[],s;l.invokeEntryPoint=(e,t)=>{var r=i[e];r||(e>=i.length&&(i.length=e+1),i[e]=r=s.get(e)),e=r(t),Be()?M.Cb(e):Wt(e)};function g(e){this.sb=e-24,this.Kb=function(t){_()[this.sb+4>>>2>>>0]=t},this.xb=function(t){_()[this.sb+8>>>2>>>0]=t},this.vb=function(t,r){this.wb(),this.Kb(t),this.xb(r)},this.wb=function(){_()[this.sb+16>>>2>>>0]=0}}var w=0,S=0;function I(e,t,r,o){return F?J(2,1,e,t,r,o):oe(e,t,r,o)}function oe(e,t,r,o){if(e>>>=0,t>>>=0,r>>>=0,o>>>=0,typeof SharedArrayBuffer>"u")return ae("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var u=[];return F&&u.length===0?I(e,t,r,o):(e={Mb:r,mb:e,Fb:o,Sb:u},F?(e.Ub="spawnThread",postMessage(e,u),0):gt(e))}function me(e,t,r){return F?J(3,1,e,t,r):0}function ue(e,t){if(F)return J(4,1,e,t)}var ie=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3}return t},ut=(e,t,r,o)=>{if(r>>>=0,!(0<o))return 0;var u=r;o=r+o-1;for(var d=0;d<e.length;++d){var v=e.charCodeAt(d);if(55296<=v&&57343>=v){var O=e.charCodeAt(++d);v=65536+((v&1023)<<10)|O&1023}if(127>=v){if(r>=o)break;t[r++>>>0]=v}else{if(2047>=v){if(r+1>=o)break;t[r++>>>0]=192|v>>6}else{if(65535>=v){if(r+2>=o)break;t[r++>>>0]=224|v>>12}else{if(r+3>=o)break;t[r++>>>0]=240|v>>18,t[r++>>>0]=128|v>>12&63}t[r++>>>0]=128|v>>6&63}t[r++>>>0]=128|v&63}}return t[r>>>0]=0,r-u},tt=(e,t,r)=>ut(e,y(),t,r);function h(e,t){if(F)return J(5,1,e,t)}function z(e,t,r){if(F)return J(6,1,e,t,r)}function q(e,t,r){return F?J(7,1,e,t,r):0}function Ce(e,t){if(F)return J(8,1,e,t)}function ft(e,t,r){if(F)return J(9,1,e,t,r)}function er(e,t,r,o){if(F)return J(10,1,e,t,r,o)}function tr(e,t,r,o){if(F)return J(11,1,e,t,r,o)}function rr(e,t,r,o){if(F)return J(12,1,e,t,r,o)}function nr(e){if(F)return J(13,1,e)}function ar(e,t){if(F)return J(14,1,e,t)}function or(e,t,r){if(F)return J(15,1,e,t,r)}var ir=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},sr,_e=e=>{for(var t="";y()[e>>>0];)t+=sr[y()[e++>>>0]];return t},Ct={},Ft={},hn={},He;function yn(e,t,r={}){var o=t.name;if(!e)throw new He(`type "${o}" must have a positive integer typeid pointer`);if(Ft.hasOwnProperty(e)){if(r.Hb)return;throw new He(`Cannot register type \'${o}\' twice`)}Ft[e]=t,delete hn[e],Ct.hasOwnProperty(e)&&(t=Ct[e],delete Ct[e],t.forEach(u=>u()))}function Ie(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");yn(e,t,r)}var ur=(e,t,r)=>{switch(t){case 1:return r?o=>a()[o>>>0>>>0]:o=>y()[o>>>0>>>0];case 2:return r?o=>b()[o>>>1>>>0]:o=>A()[o>>>1>>>0];case 4:return r?o=>c()[o>>>2>>>0]:o=>_()[o>>>2>>>0];case 8:return r?o=>de[o>>>3]:o=>pe[o>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function fr(){this.lb=[void 0],this.zb=[]}var be=new fr;function Pt(e){e>>>=0,e>=be.sb&&--be.get(e).Ab===0&&be.xb(e)}var ge=e=>{if(!e)throw new He("Cannot use deleted val. handle = "+e);return be.get(e).value},Oe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return be.wb({Ab:1,value:e})}};function lr(e){return this.fromWireType(c()[e>>>2>>>0])}var vn=(e,t)=>{switch(t){case 4:return function(r){var o=this.fromWireType;return Y.buffer!=$.buffer&&V(),o.call(this,$e[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(R()[r>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function bn(e){return this.fromWireType(_()[e>>>2>>>0])}var cr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,On=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&A()[r>>>0];)++r;if(r<<=1,32<r-e&&cr)return cr.decode(y().slice(e,r));for(r="",o=0;!(o>=t/2);++o){var u=b()[e+2*o>>>1>>>0];if(u==0)break;r+=String.fromCharCode(u)}return r},wn=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var u=0;u<r;++u){var d=e.charCodeAt(u);b()[t>>>1>>>0]=d,t+=2}return b()[t>>>1>>>0]=0,t-o},_n=e=>2*e.length,Tn=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var u=c()[e+4*r>>>2>>>0];if(u==0)break;++r,65536<=u?(u-=65536,o+=String.fromCharCode(55296|u>>10,56320|u&1023)):o+=String.fromCharCode(u)}return o},Sn=(e,t,r)=>{if(t>>>=0,r===void 0&&(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var u=0;u<e.length;++u){var d=e.charCodeAt(u);if(55296<=d&&57343>=d){var v=e.charCodeAt(++u);d=65536+((d&1023)<<10)|v&1023}if(c()[t>>>2>>>0]=d,t+=4,t+4>r)break}return c()[t>>>2>>>0]=0,t-o},En=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4}return t},An=e=>{if(!fe)try{if(e(),!Be())try{F?Wt(se):et(se)}catch(t){t instanceof Ze||t=="unwind"||G(1,t)}}catch(t){t instanceof Ze||t=="unwind"||G(1,t)}};function Dt(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(c(),e>>>2,e).value.then(ht),e+=128,Atomics.store(c(),e>>>2,1))}l.__emscripten_thread_mailbox_await=Dt;var ht=()=>{var e=wt();e&&(Dt(e),An(()=>xr()))};l.checkMailbox=ht;var Mn=e=>{var t=Bt();return e=e(),Tt(t),e};function J(e,t){var r=arguments.length-2,o=arguments;return Mn(()=>{for(var u=2*r,d=kt(8*u),v=d>>>3,O=0;O<r;O++){var P=o[2+O];typeof P=="bigint"?(de[v+2*O]=1n,de[v+2*O+1]=P):(de[v+2*O]=0n,R()[v+2*O+1>>>0]=P)}return Ur(e,u,d,t)})}var It=[],yt=(e,t)=>{var r=Ft[e];if(r===void 0)throw e=Ir(e),r=_e(e),Re(e),new He(t+" has unknown type "+r);return r},Cn={},vt=e=>{var t=Cn[e];return t===void 0?_e(e):t},bt=[],dr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Fn=e=>{var t=bt.length;return bt.push(e),t},Pn=(e,t)=>{for(var r=Array(e),o=0;o<e;++o)r[o]=yt(_()[t+4*o>>>2>>>0],"parameter "+o);return r},pr=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},mr={};function Dn(e,t){return e=pr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function In(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var r=Dn(t.name||"unknownFunctionName",function(){});return r.prototype=t.prototype,r=new r,e=t.apply(r,e),e instanceof Object?e:r}var Rn=e=>{for(var t="",r=0;r<e;++r)t+=(r!==0?", ":"")+"arg"+r;var o="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(r=0;r<e;++r)o+="var argType"+r+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+r+`\');\nvar arg`+r+" = argType"+r+`.readValueFromPointer(args);\nargs += argType`+r+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",o+("var obj = new constructor("+t+`);\nreturn valueToHandle(obj);\n}\n`))(yt,l,Oe,()=>_())},gr={},rt=e=>e%4===0&&(e%100!==0||e%400===0),hr=[0,31,60,91,121,152,182,213,244,274,305,335],yr=[0,31,59,90,120,151,181,212,243,273,304,334];function vr(e,t,r,o,u,d,v){return F?J(16,1,e,t,r,o,u,d,v):-52}function br(e,t,r,o,u,d){if(F)return J(17,1,e,t,r,o,u,d)}var Or=e=>{var t=ie(e)+1,r=_t(t);return r&&tt(e,r,t),r},Rt={},wr=()=>{if(!Ut){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in Rt)Rt[t]===void 0?delete e[t]:e[t]=Rt[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ut=r}return Ut},Ut;function _r(e,t){if(F)return J(18,1,e,t);e>>>=0,t>>>=0;var r=0;return wr().forEach((o,u)=>{var d=t+r;for(u=_()[e+4*u>>>2>>>0]=d,d=0;d<o.length;++d)a()[u++>>>0>>>0]=o.charCodeAt(d);a()[u>>>0>>>0]=0,r+=o.length+1}),0}function Tr(e,t){if(F)return J(19,1,e,t);e>>>=0,t>>>=0;var r=wr();_()[e>>>2>>>0]=r.length;var o=0;return r.forEach(u=>o+=u.length+1),_()[t>>>2>>>0]=o,0}function Sr(e){return F?J(20,1,e):52}function Er(e,t,r,o){return F?J(21,1,e,t,r,o):52}function Ar(e,t,r,o){return F?J(22,1,e,t,r,o):70}var Un=[null,[],[]];function Mr(e,t,r,o){if(F)return J(23,1,e,t,r,o);t>>>=0,r>>>=0,o>>>=0;for(var u=0,d=0;d<r;d++){var v=_()[t>>>2>>>0],O=_()[t+4>>>2>>>0];t+=8;for(var P=0;P<O;P++){var D=y()[v+P>>>0],K=Un[e];D===0||D===10?((e===1?Ne:ae)(it(K,0)),K.length=0):K.push(D)}u+=O}return _()[o>>>2>>>0]=u,0}var Cr=[31,29,31,30,31,30,31,31,30,31,30,31],Fr=[31,28,31,30,31,30,31,31,30,31,30,31];function xn(e){var t=Array(ie(e)+1);return ut(e,t,0,t.length),t}var Wn=(e,t)=>{a().set(e,t>>>0)};function Pr(e,t,r,o){function u(m,H,Z){for(m=typeof m=="number"?m.toString():m||"";m.length<H;)m=Z[0]+m;return m}function d(m,H){return u(m,H,"0")}function v(m,H){function Z(kr){return 0>kr?-1:0<kr?1:0}var Ve;return(Ve=Z(m.getFullYear()-H.getFullYear()))===0&&(Ve=Z(m.getMonth()-H.getMonth()))===0&&(Ve=Z(m.getDate()-H.getDate())),Ve}function O(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function P(m){var H=m.ob;for(m=new Date(new Date(m.pb+1900,0,1).getTime());0<H;){var Z=m.getMonth(),Ve=(rt(m.getFullYear())?Cr:Fr)[Z];if(H>Ve-m.getDate())H-=Ve-m.getDate()+1,m.setDate(1),11>Z?m.setMonth(Z+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+H);break}}return Z=new Date(m.getFullYear()+1,0,4),H=O(new Date(m.getFullYear(),0,4)),Z=O(Z),0>=v(H,m)?0>=v(Z,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,o>>>=0;var D=_()[o+40>>>2>>>0];o={Qb:c()[o>>>2>>>0],Pb:c()[o+4>>>2>>>0],tb:c()[o+8>>>2>>>0],yb:c()[o+12>>>2>>>0],ub:c()[o+16>>>2>>>0],pb:c()[o+20>>>2>>>0],kb:c()[o+24>>>2>>>0],ob:c()[o+28>>>2>>>0],Wb:c()[o+32>>>2>>>0],Ob:c()[o+36>>>2>>>0],Rb:D?Ge(D):""},r=Ge(r),D={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var K in D)r=r.replace(new RegExp(K,"g"),D[K]);var ye="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ue="January February March April May June July August September October November December".split(" ");D={"%a":m=>ye[m.kb].substring(0,3),"%A":m=>ye[m.kb],"%b":m=>Ue[m.ub].substring(0,3),"%B":m=>Ue[m.ub],"%C":m=>d((m.pb+1900)/100|0,2),"%d":m=>d(m.yb,2),"%e":m=>u(m.yb,2," "),"%g":m=>P(m).toString().substring(2),"%G":m=>P(m),"%H":m=>d(m.tb,2),"%I":m=>(m=m.tb,m==0?m=12:12<m&&(m-=12),d(m,2)),"%j":m=>{for(var H=0,Z=0;Z<=m.ub-1;H+=(rt(m.pb+1900)?Cr:Fr)[Z++]);return d(m.yb+H,3)},"%m":m=>d(m.ub+1,2),"%M":m=>d(m.Pb,2),"%n":()=>`\n`,"%p":m=>0<=m.tb&&12>m.tb?"AM":"PM","%S":m=>d(m.Qb,2),"%t":()=>"	","%u":m=>m.kb||7,"%U":m=>d(Math.floor((m.ob+7-m.kb)/7),2),"%V":m=>{var H=Math.floor((m.ob+7-(m.kb+6)%7)/7);if(2>=(m.kb+371-m.ob-2)%7&&H++,H)H==53&&(Z=(m.kb+371-m.ob)%7,Z==4||Z==3&&rt(m.pb)||(H=1));else{H=52;var Z=(m.kb+7-m.ob-1)%7;(Z==4||Z==5&&rt(m.pb%400-1))&&H++}return d(H,2)},"%w":m=>m.kb,"%W":m=>d(Math.floor((m.ob+7-(m.kb+6)%7)/7),2),"%y":m=>(m.pb+1900).toString().substring(2),"%Y":m=>m.pb+1900,"%z":m=>{m=m.Ob;var H=0<=m;return m=Math.abs(m)/60,(H?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.Rb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(K in D)r.includes(K)&&(r=r.replace(new RegExp(K,"g"),D[K](o)));return r=r.replace(/\\0\\0/g,"%"),K=xn(r),K.length>t?0:(Wn(K,e),K.length-1)}M.vb();for(var Dr=Array(256),Ot=0;256>Ot;++Ot)Dr[Ot]=String.fromCharCode(Ot);sr=Dr,He=l.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},l.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(fr.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),be.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),be.sb=be.lb.length,l.count_emval_handles=()=>{for(var e=0,t=be.sb;t<be.lb.length;++t)be.lb[t]!==void 0&&++e;return e};var Bn=[st,n,I,me,ue,h,z,q,Ce,ft,er,tr,rr,nr,ar,or,vr,br,_r,Tr,Sr,Er,Ar,Mr],kn={b:function(e,t,r){throw e>>>=0,new g(e).vb(t>>>0,r>>>0),w=e,S++,w},ea:function(e){Rr(e>>>0,!L,1,!B,131072,!1),M.Db()},D:function(e){e>>>=0,F?postMessage({cmd:"cleanupThread",thread:e}):((e=M.jb[e])||De(),M.Bb(e))},W:oe,y:me,ka:ue,S:h,U:z,L:q,ia:Ce,ba:ft,ha:er,F:tr,T:rr,Q:nr,ja:ar,R:or,I:function(e,t,r,o,u){e>>>=0,t>>>=0,r>>>=0,t=_e(t);var d=t.indexOf("u")!=-1;d&&(u=(1n<<64n)-1n),Ie(e,{name:t,fromWireType:v=>v,toWireType:function(v,O){if(typeof O!="bigint"&&typeof O!="number")throw new TypeError(`Cannot convert "${ir(O)}" to ${this.name}`);if(O<o||O>u)throw new TypeError(`Passing a number "${ir(O)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${o}, ${u}]!`);return O},argPackAdvance:8,readValueFromPointer:ur(t,r,!d),rb:null})},qa:function(e,t,r,o){e>>>=0,t=_e(t>>>0),Ie(e,{name:t,fromWireType:function(u){return!!u},toWireType:function(u,d){return d?r:o},argPackAdvance:8,readValueFromPointer:function(u){return this.fromWireType(y()[u>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=_e(t>>>0),Ie(e,{name:t,fromWireType:r=>{var o=ge(r);return Pt(r),o},toWireType:(r,o)=>Oe(o),argPackAdvance:8,readValueFromPointer:lr,rb:null})},H:function(e,t,r){e>>>=0,r>>>=0,t=_e(t>>>0),Ie(e,{name:t,fromWireType:o=>o,toWireType:(o,u)=>u,argPackAdvance:8,readValueFromPointer:vn(t,r),rb:null})},t:function(e,t,r,o,u){if(e>>>=0,r>>>=0,t=_e(t>>>0),u===-1&&(u=4294967295),u=O=>O,o===0){var d=32-8*r;u=O=>O<<d>>>d}var v=t.includes("unsigned")?function(O,P){return P>>>0}:function(O,P){return P};Ie(e,{name:t,fromWireType:u,toWireType:v,argPackAdvance:8,readValueFromPointer:ur(t,r,o!==0),rb:null})},m:function(e,t,r){function o(d){var v=_()[d>>>2>>>0];return d=_()[d+4>>>2>>>0],new u(a().buffer,d,v)}e>>>=0;var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];r=_e(r>>>0),Ie(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{Hb:!0})},J:function(e,t){e>>>=0,t=_e(t>>>0);var r=t==="std::string";Ie(e,{name:t,fromWireType:function(o){var u=_()[o>>>2>>>0],d=o+4;if(r)for(var v=d,O=0;O<=u;++O){var P=d+O;if(O==u||y()[P>>>0]==0){if(v=Ge(v,P-v),D===void 0)var D=v;else D+=String.fromCharCode(0),D+=v;v=P+1}}else{for(D=Array(u),O=0;O<u;++O)D[O]=String.fromCharCode(y()[d+O>>>0]);D=D.join("")}return Re(o),D},toWireType:function(o,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var d=typeof u=="string";if(!(d||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array))throw new He("Cannot pass non-string to std::string");var v=r&&d?ie(u):u.length,O=_t(4+v+1),P=O+4;if(_()[O>>>2>>>0]=v,r&&d)tt(u,P,v+1);else if(d)for(d=0;d<v;++d){var D=u.charCodeAt(d);if(255<D)throw Re(P),new He("String has UTF-16 code units that do not fit in 8 bits");y()[P+d>>>0]=D}else for(d=0;d<v;++d)y()[P+d>>>0]=u[d];return o!==null&&o.push(Re,O),O},argPackAdvance:8,readValueFromPointer:bn,rb(o){Re(o)}})},A:function(e,t,r){if(e>>>=0,t>>>=0,r>>>=0,r=_e(r),t===2)var o=On,u=wn,d=_n,v=()=>A(),O=1;else t===4&&(o=Tn,u=Sn,d=En,v=()=>_(),O=2);Ie(e,{name:r,fromWireType:P=>{for(var D=_()[P>>>2>>>0],K=v(),ye,Ue=P+4,m=0;m<=D;++m){var H=P+4+m*t;(m==D||K[H>>>O]==0)&&(Ue=o(Ue,H-Ue),ye===void 0?ye=Ue:(ye+=String.fromCharCode(0),ye+=Ue),Ue=H+t)}return Re(P),ye},toWireType:(P,D)=>{if(typeof D!="string")throw new He(`Cannot pass non-string to C++ string type ${r}`);var K=d(D),ye=_t(4+K+t);return _()[ye>>>2]=K>>O,u(D,ye+4,K+t),P!==null&&P.push(Re,ye),ye},argPackAdvance:8,readValueFromPointer:lr,rb(P){Re(P)}})},ra:function(e,t){e>>>=0,t=_e(t>>>0),Ie(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ht()):F?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,t,r,o){t>>>=0,r/=2,It.length=r,o=o>>>0>>>3;for(var u=0;u<r;u++)It[u]=de[o+2*u]?de[o+2*u+1]:R()[o+2*u+1>>>0];return e=Bn[e],M.Gb=t,t=e.apply(null,It),M.Gb=0,t},da:Dt,ma:function(e){j&&M.jb[e>>>0].ref()},r:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=yt(t,"emval::as");var o=[],u=Oe(o);return _()[r>>>2>>>0]=u,t.toWireType(o,e)},i:function(e,t,r,o,u){r>>>=0,o>>>=0,u>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r);var d=[];return _()[o>>>2>>>0]=Oe(d),e(t,r,d,u)},u:function(e,t,r,o){r>>>=0,o>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r),e(t,r,null,o)},c:Pt,K:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),e==t},o:function(e){return e>>>=0,e===0?Oe(dr()):(e=vt(e),Oe(dr()[e]))},h:function(e,t){var r=Pn(e,t>>>0),o=r[0];t=o.name+"_$"+r.slice(1).map(function(K){return K.name}).join("_")+"$";var u=mr[t];if(u!==void 0)return u;u=["retType"];for(var d=[o],v="",O=0;O<e-1;++O)v+=(O!==0?", ":"")+"arg"+O,u.push("argType"+O),d.push(r[1+O]);var P="return function "+pr("methodCaller_"+t)+`(handle, name, destructors, args) {\n`,D=0;for(O=0;O<e-1;++O)P+="    var arg"+O+" = argType"+O+".readValueFromPointer(args"+(D?"+"+D:"")+`);\n`,D+=r[O+1].argPackAdvance;for(P+="    var rv = handle[name]("+v+`);\n`,O=0;O<e-1;++O)r[O+1].deleteObject&&(P+="    argType"+O+".deleteObject(arg"+O+`);\n`);return o.Ib||(P+=`    return retType.toWireType(destructors, rv);\n`),u.push(P+`};\n`),e=In(u).apply(null,d),u=Fn(e),mr[t]=u},q:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),Oe(e[t])},d:function(e){e>>>=0,4<e&&(be.get(e).Ab+=1)},x:function(e,t,r,o){r>>>=0,o>>>=0,e=ge(e>>>0);var u=gr[t];return u||(u=Rn(t),gr[t]=u),u(e,r,o)},v:function(){return Oe([])},l:function(e){e=ge(e>>>0);for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return Oe(t)},e:function(e){return Oe(vt(e>>>0))},k:function(){return Oe({})},g:function(e){e>>>=0;for(var t=ge(e);t.length;){var r=t.pop();t.pop()(r)}Pt(e)},j:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=ge(t),r=ge(r),e[t]=r},f:function(e,t){return t>>>=0,e=yt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Oe(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),c()[t>>>2>>>0]=e.getUTCSeconds(),c()[t+4>>>2>>>0]=e.getUTCMinutes(),c()[t+8>>>2>>>0]=e.getUTCHours(),c()[t+12>>>2>>>0]=e.getUTCDate(),c()[t+16>>>2>>>0]=e.getUTCMonth(),c()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,c()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),c()[t>>>2>>>0]=e.getSeconds(),c()[t+4>>>2>>>0]=e.getMinutes(),c()[t+8>>>2>>>0]=e.getHours(),c()[t+12>>>2>>>0]=e.getDate(),c()[t+16>>>2>>>0]=e.getMonth(),c()[t+20>>>2>>>0]=e.getFullYear()-1900,c()[t+24>>>2>>>0]=e.getDay();var r=(rt(e.getFullYear())?hr:yr)[e.getMonth()]+e.getDate()-1|0;c()[t+28>>>2>>>0]=r,c()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var o=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=o&&e.getTimezoneOffset()==Math.min(o,r))|0,c()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(c()[e+20>>>2>>>0]+1900,c()[e+16>>>2>>>0],c()[e+12>>>2>>>0],c()[e+8>>>2>>>0],c()[e+4>>>2>>>0],c()[e>>>2>>>0],0),r=c()[e+32>>>2>>>0],o=t.getTimezoneOffset(),u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),d=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(d,u);return 0>r?c()[e+32>>>2>>>0]=+(u!=d&&v==o):0<r!=(v==o)&&(u=Math.max(d,u),t.setTime(t.getTime()+6e4*((0<r?v:u)-o))),c()[e+24>>>2>>>0]=t.getDay(),r=(rt(t.getFullYear())?hr:yr)[t.getMonth()]+t.getDate()-1|0,c()[e+28>>>2>>>0]=r,c()[e>>>2>>>0]=t.getSeconds(),c()[e+4>>>2>>>0]=t.getMinutes(),c()[e+8>>>2>>>0]=t.getHours(),c()[e+12>>>2>>>0]=t.getDate(),c()[e+16>>>2>>>0]=t.getMonth(),c()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:vr,Z:br,N:function(e,t,r){function o(D){return(D=D.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?D[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var u=new Date().getFullYear(),d=new Date(u,0,1),v=new Date(u,6,1);u=d.getTimezoneOffset();var O=v.getTimezoneOffset(),P=Math.max(u,O);_()[e>>>2>>>0]=60*P,c()[t>>>2>>>0]=+(u!=O),e=o(d),t=o(v),e=Or(e),t=Or(t),O<u?(_()[r>>>2>>>0]=e,_()[r+4>>>2>>>0]=t):(_()[r>>>2>>>0]=t,_()[r+4>>>2>>>0]=e)},n:()=>{De("")},E:()=>{},G:()=>Date.now(),la:()=>{throw Je+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>j?(Gr(),ct($r)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=y().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var u=Math;o=Math.max(e,o);e:{u=(u.min.call(u,4294901760,o+(65536-o%65536)%65536)-Y.buffer.byteLength+65535)/65536;try{Y.grow(u),V();var d=1;break e}catch{}d=void 0}if(d)return!0}return!1},fa:_r,ga:Tr,V:et,z:Sr,C:Er,ca:Ar,B:Mr,a:Y||l.wasmMemory,oa:Pr,p:function(e,t,r,o){return Pr(e>>>0,t>>>0,r>>>0,o>>>0)}},C=function(){var e={a:kn};return Ae++,mt(e,function(t){var r=t.module;C=t.instance.exports,C=Ln(),M.Eb.push(C.Xa),s=C._a,Pe.unshift(C.sa),he=r,nt()}).catch(N),{}}();l._OrtInit=(e,t)=>(l._OrtInit=C.ta)(e,t),l._OrtGetLastError=(e,t)=>(l._OrtGetLastError=C.ua)(e,t),l._OrtCreateSessionOptions=(e,t,r,o,u,d,v,O,P,D)=>(l._OrtCreateSessionOptions=C.va)(e,t,r,o,u,d,v,O,P,D),l._OrtAppendExecutionProvider=(e,t)=>(l._OrtAppendExecutionProvider=C.wa)(e,t),l._OrtAddFreeDimensionOverride=(e,t,r)=>(l._OrtAddFreeDimensionOverride=C.xa)(e,t,r),l._OrtAddSessionConfigEntry=(e,t,r)=>(l._OrtAddSessionConfigEntry=C.ya)(e,t,r),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=C.za)(e),l._OrtCreateSession=(e,t,r)=>(l._OrtCreateSession=C.Aa)(e,t,r),l._OrtReleaseSession=e=>(l._OrtReleaseSession=C.Ba)(e),l._OrtGetInputOutputCount=(e,t,r)=>(l._OrtGetInputOutputCount=C.Ca)(e,t,r),l._OrtGetInputName=(e,t)=>(l._OrtGetInputName=C.Da)(e,t),l._OrtGetOutputName=(e,t)=>(l._OrtGetOutputName=C.Ea)(e,t),l._OrtFree=e=>(l._OrtFree=C.Fa)(e),l._OrtCreateTensor=(e,t,r,o,u,d)=>(l._OrtCreateTensor=C.Ga)(e,t,r,o,u,d),l._OrtGetTensorData=(e,t,r,o,u)=>(l._OrtGetTensorData=C.Ha)(e,t,r,o,u),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=C.Ia)(e),l._OrtCreateRunOptions=(e,t,r,o)=>(l._OrtCreateRunOptions=C.Ja)(e,t,r,o),l._OrtAddRunConfigEntry=(e,t,r)=>(l._OrtAddRunConfigEntry=C.Ka)(e,t,r),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=C.La)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=C.Ma)(e),l._OrtBindInput=(e,t,r)=>(l._OrtBindInput=C.Na)(e,t,r),l._OrtBindOutput=(e,t,r,o)=>(l._OrtBindOutput=C.Oa)(e,t,r,o),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=C.Pa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=C.Qa)(e),l._OrtRunWithBinding=(e,t,r,o,u)=>(l._OrtRunWithBinding=C.Ra)(e,t,r,o,u),l._OrtRun=(e,t,r,o,u,d,v,O)=>(l._OrtRun=C.Sa)(e,t,r,o,u,d,v,O),l._OrtEndProfiling=e=>(l._OrtEndProfiling=C.Ta)(e);var wt=l._pthread_self=()=>(wt=l._pthread_self=C.Ua)(),_t=l._malloc=e=>(_t=l._malloc=C.Va)(e),Re=l._free=e=>(Re=l._free=C.Wa)(e);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=C.Xa)();var Ir=e=>(Ir=C.Ya)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=C.Za)();var Rr=l.__emscripten_thread_init=(e,t,r,o,u,d)=>(Rr=l.__emscripten_thread_init=C.$a)(e,t,r,o,u,d);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=C.ab)();var Ur=(e,t,r,o)=>(Ur=C.bb)(e,t,r,o),xt=e=>(xt=C.cb)(e),Wt=l.__emscripten_thread_exit=e=>(Wt=l.__emscripten_thread_exit=C.db)(e),xr=l.__emscripten_check_mailbox=()=>(xr=l.__emscripten_check_mailbox=C.eb)(),Wr=(e,t)=>(Wr=C.fb)(e,t),Bt=()=>(Bt=C.gb)(),Tt=e=>(Tt=C.hb)(e),kt=e=>(kt=C.ib)(e);function Ln(){var e=C;e=Object.assign({},e);var t=o=>()=>o()>>>0,r=o=>u=>o(u)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=r(e.Va),e.Ya=r(e.Ya),e.gb=t(e.gb),e.ib=r(e.ib),e}l.keepRuntimeAlive=Be,l.wasmMemory=Y,l.stackAlloc=kt,l.stackSave=Bt,l.stackRestore=Tt,l.UTF8ToString=Ge,l.stringToUTF8=tt,l.lengthBytesUTF8=ie,l.ExitStatus=Ze,l.PThread=M;var St;ke=function e(){St||Br(),St||(ke=e)};function Br(){0<Ae||(F?(U(l),F||Ye(Pe),startWorker(l)):(Ye(We),0<Ae||St||(St=!0,l.calledRun=!0,fe||(F||Ye(Pe),U(l),F||Ye(qe)))))}return Br(),p.ready}})();typeof Vr=="object"&&typeof Vt=="object"?Vt.exports=Yr:typeof define=="function"&&define.amd&&define([],()=>Yr)});var Jr=lt((ca,Vn)=>{Vn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var Kr;Kr=zr();var qn=qr(),qt,Jt=!1,Et=!1,Xr=!1,Jn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Xn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Kn=(f,p)=>f?"ort-training-wasm-simd.wasm":p?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Zr=async f=>{if(Jt)return Promise.resolve();if(Et)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Xr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");Et=!0;let p=f.initTimeout,a=f.numThreads,y=f.simd,b=a>1&&Jn(),A=y&&Xn(),c=f.wasmPaths,_=typeof c=="string"?c:void 0,R=Kn(A,b),l=typeof c=="object"?c[R]:void 0,U=!1,N=[];if(p>0&&N.push(new Promise(x=>{setTimeout(()=>{U=!0,x()},p)})),N.push(new Promise((x,W)=>{let G=b?qn:Kr,B={locateFile:(L,j)=>b&&L.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Jr()],{type:"text/javascript"})):L.endsWith(".wasm")?l||(_??j)+R:j+L};if(b)if(typeof Blob>"u")B.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let L=`var ortWasmThreaded=${G.toString()};`;B.mainScriptUrlOrBlob=new Blob([L],{type:"text/javascript"})}G(B).then(L=>{Et=!1,Jt=!0,qt=L,x()},L=>{Et=!1,Xr=!0,W(L)})})),await Promise.race(N),U)throw new Error(`WebAssembly backend initializing failed due to timeout: ${p}ms`)},te=()=>{if(Jt&&qt)return qt;throw new Error("WebAssembly is not initialized yet.")};var re=(f,p)=>{let a=te(),y=a.lengthBytesUTF8(f)+1,b=a._malloc(y);return a.stringToUTF8(f,b,y),p.push(b),b},dt=(f,p,a,y)=>{if(typeof f=="object"&&f!==null){if(a.has(f))throw new Error("Circular reference in options");a.add(f)}Object.entries(f).forEach(([b,A])=>{let c=p?p+b:b;if(typeof A=="object")dt(A,c+".",a,y);else if(typeof A=="string"||typeof A=="number")y(c,A.toString());else if(typeof A=="boolean")y(c,A?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof A}`)})},Q=f=>{let p=te(),a=p.stackSave();try{let y=p.stackAlloc(8);p._OrtGetLastError(y,y+4);let b=p.HEAP32[y/4],A=p.HEAPU32[y/4+1],c=A?p.UTF8ToString(A):"";throw new Error(`${f} ERROR_CODE: ${b}, ERROR_MESSAGE: ${c}`)}finally{p.stackRestore(a)}};var Qr=f=>{let p=te(),a=0,y=[],b=f||{};try{if(f?.logSeverityLevel===void 0)b.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if(f?.logVerbosityLevel===void 0)b.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);f?.terminate===void 0&&(b.terminate=!1);let A=0;return f?.tag!==void 0&&(A=re(f.tag,y)),a=p._OrtCreateRunOptions(b.logSeverityLevel,b.logVerbosityLevel,!!b.terminate,A),a===0&&Q("Can\'t create run options."),f?.extra!==void 0&&dt(f.extra,"",new WeakSet,(c,_)=>{let R=re(c,y),l=re(_,y);p._OrtAddRunConfigEntry(a,R,l)!==0&&Q(`Can\'t set a run config entry: ${c} - ${_}.`)}),[a,y]}catch(A){throw a!==0&&p._OrtReleaseRunOptions(a),y.forEach(c=>p._free(c)),A}};var Zn=f=>{switch(f){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${f}`)}},Qn=f=>{switch(f){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${f}`)}},ea=f=>{f.extra||(f.extra={}),f.extra.session||(f.extra.session={});let p=f.extra.session;p.use_ort_model_bytes_directly||(p.use_ort_model_bytes_directly="1"),f.executionProviders&&f.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(f.enableMemPattern=!1)},ta=(f,p,a)=>{for(let y of p){let b=typeof y=="string"?y:y.name;switch(b){case"xnnpack":b="XNNPACK";break;case"webnn":if(b="WEBNN",typeof y!="string"){let c=y;if(c?.deviceType){let _=re("deviceType",a),R=re(c.deviceType,a);te()._OrtAddSessionConfigEntry(f,_,R)!==0&&Q(`Can\'t set a session config entry: \'deviceType\' - ${c.deviceType}.`)}if(c?.numThreads){let _=c.numThreads;(typeof _!="number"||!Number.isInteger(_)||_<0)&&(_=0);let R=re("numThreads",a),l=re(_.toString(),a);te()._OrtAddSessionConfigEntry(f,R,l)!==0&&Q(`Can\'t set a session config entry: \'numThreads\' - ${c.numThreads}.`)}if(c?.powerPreference){let _=re("powerPreference",a),R=re(c.powerPreference,a);te()._OrtAddSessionConfigEntry(f,_,R)!==0&&Q(`Can\'t set a session config entry: \'powerPreference\' - ${c.powerPreference}.`)}}break;case"webgpu":if(b="JS",typeof y!="string"){let c=y;if(c?.preferredLayout){if(c.preferredLayout!=="NCHW"&&c.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${c.preferredLayout}`);let _=re("preferredLayout",a),R=re(c.preferredLayout,a);te()._OrtAddSessionConfigEntry(f,_,R)!==0&&Q(`Can\'t set a session config entry: \'preferredLayout\' - ${c.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${b}`)}let A=re(b,a);te()._OrtAppendExecutionProvider(f,A)!==0&&Q(`Can\'t append execution provider: ${b}.`)}},en=f=>{let p=te(),a=0,y=[],b=f||{};ea(b);try{let A=Zn(b.graphOptimizationLevel??"all"),c=Qn(b.executionMode??"sequential"),_=typeof b.logId=="string"?re(b.logId,y):0,R=b.logSeverityLevel??2;if(!Number.isInteger(R)||R<0||R>4)throw new Error(`log serverity level is not valid: ${R}`);let l=b.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let U=typeof b.optimizedModelFilePath=="string"?re(b.optimizedModelFilePath,y):0;if(a=p._OrtCreateSessionOptions(A,!!b.enableCpuMemArena,!!b.enableMemPattern,c,!!b.enableProfiling,0,_,R,l,U),a===0&&Q("Can\'t create session options."),b.executionProviders&&ta(a,b.executionProviders,y),b.freeDimensionOverrides)for(let[N,x]of Object.entries(b.freeDimensionOverrides)){if(typeof N!="string")throw new Error(`free dimension override name must be a string: ${N}`);if(typeof x!="number"||!Number.isInteger(x)||x<0)throw new Error(`free dimension override value must be a non-negative integer: ${x}`);let W=re(N,y);p._OrtAddFreeDimensionOverride(a,W,x)!==0&&Q(`Can\'t set a free dimension override: ${N} - ${x}.`)}return b.extra!==void 0&&dt(b.extra,"",new WeakSet,(N,x)=>{let W=re(N,y),G=re(x,y);p._OrtAddSessionConfigEntry(a,W,G)!==0&&Q(`Can\'t set a session config entry: ${N} - ${x}.`)}),[a,y]}catch(A){throw a!==0&&p._OrtReleaseSessionOptions(a),y.forEach(c=>p._free(c)),A}};var Xt=f=>{switch(f){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${f}`)}},tn=f=>{switch(f){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${f}`)}},Kt=f=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][f],rn=f=>{switch(f){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${f}`)}},nn=f=>{switch(f){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${f}`)}},an=f=>f==="float32"||f==="int32"||f==="int64"||f==="bool"||f==="float16"||f==="uint32",on=f=>{switch(f){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${f}`)}};var un=!1,ra=f=>{let p=te(),a=p.stackSave();try{let y=p.stackAlloc(8);return p._OrtGetInputOutputCount(f,y,y+4)!==0&&Q("Can\'t get session input/output count."),[p.HEAP32[y/4],p.HEAP32[y/4+1]]}finally{p.stackRestore(a)}},na=(f,p)=>{te()._OrtInit(f,p)!==0&&Q("Can\'t initialize onnxruntime.")},fn=async f=>{na(f.wasm.numThreads,nn(f.logLevel)),un=!0},pt=new Map,ln=()=>un,Zt=f=>{let p=te(),a=p._malloc(f.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${f.byteLength}.`);return p.HEAPU8.set(f,a),[a,f.byteLength]},Qt=(f,p)=>{let a=te(),y=0,b=0,A=0,c=[],_=[],R=[];try{[b,c]=en(p),y=a._OrtCreateSession(f[0],f[1],b),y===0&&Q("Can\'t create a session.");let[l,U]=ra(y),N=[],x=[],W=[];for(let B=0;B<l;B++){let L=a._OrtGetInputName(y,B);L===0&&Q("Can\'t get an input name."),_.push(L),N.push(a.UTF8ToString(L))}for(let B=0;B<U;B++){let L=a._OrtGetOutputName(y,B);L===0&&Q("Can\'t get an output name."),R.push(L);let j=a.UTF8ToString(L);x.push(j)}let G=null;return pt.set(y,[y,_,R,G]),[y,N,x]}catch(l){throw _.forEach(U=>a._OrtFree(U)),R.forEach(U=>a._OrtFree(U)),A!==0&&a._OrtReleaseBinding(A),y!==0&&a._OrtReleaseSession(y),l}finally{a._free(f[0]),b!==0&&a._OrtReleaseSessionOptions(b),c.forEach(l=>a._free(l))}},cn=(f,p)=>{let a=Zt(f);return Qt(a,p)},dn=f=>{let p=te(),a=pt.get(f);if(!a)throw new Error(`cannot release session. invalid session id: ${f}`);let[y,b,A,c]=a;c&&p._OrtReleaseBinding(c.handle),p.jsepUnregisterBuffers?.(f),b.forEach(_=>p._OrtFree(_)),A.forEach(_=>p._OrtFree(_)),p._OrtReleaseSession(y),pt.delete(f)},sn=(f,p,a,y,b)=>{if(!f){p.push(0);return}let A=te(),c=f[0],_=f[1],R=f[3],l,U;if(c==="string"&&R==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(R==="gpu-buffer"){let W=f[2].gpuBuffer,G=Kt(Xt(c));U=_.reduce((B,L)=>B*L,1)*G,l=A.jsepRegisterBuffer(y,b,W,U)}else{let W=f[2];if(Array.isArray(W)){U=4*W.length,l=A._malloc(U),a.push(l);let G=l/4;for(let B=0;B<W.length;B++){if(typeof W[B]!="string")throw new TypeError(`tensor data at index ${B} is not a string`);A.HEAPU32[G++]=re(W[B],a)}}else U=W.byteLength,l=A._malloc(U),a.push(l),A.HEAPU8.set(new Uint8Array(W.buffer,W.byteOffset,U),l)}let N=A.stackSave(),x=A.stackAlloc(4*_.length);try{let W=x/4;_.forEach(B=>A.HEAP32[W++]=B);let G=A._OrtCreateTensor(Xt(c),l,U,x,_.length,on(R));G===0&&Q(`Can\'t create tensor for input/output. session=${y}, index=${b}.`),p.push(G)}finally{A.stackRestore(N)}},pn=async(f,p,a,y,b,A)=>{let c=te(),_=pt.get(f);if(!_)throw new Error(`cannot run inference. invalid session id: ${f}`);let[R,l,U,N]=_,x=p.length,W=y.length,G=0,B=[],L=[],j=[],F=[],le=c.stackSave(),Te=c.stackAlloc(x*4),T=c.stackAlloc(x*4),we=c.stackAlloc(W*4),ve=c.stackAlloc(W*4);try{[G,B]=Qr(A);for(let k=0;k<x;k++)sn(a[k],L,F,f,p[k]);for(let k=0;k<W;k++)sn(b[k],j,F,f,x+y[k]);let X=Te/4,E=T/4,ne=we/4,ze=ve/4;for(let k=0;k<x;k++)c.HEAPU32[X++]=L[k],c.HEAPU32[E++]=l[p[k]];for(let k=0;k<W;k++)c.HEAPU32[ne++]=j[k],c.HEAPU32[ze++]=U[y[k]];let Ne;Ne=await c._OrtRun(R,T,Te,x,ve,W,we,G),Ne!==0&&Q("failed to call OrtRun().");let ae=[];for(let k=0;k<W;k++){let Y=c.HEAPU32[we/4+k];if(Y===j[k]){ae.push(b[k]);continue}let he=c.stackSave(),fe=c.stackAlloc(4*4),se=!1,$,ce=0;try{c._OrtGetTensorData(Y,fe,fe+4,fe+8,fe+12)!==0&&Q(`Can\'t access output tensor data on index ${k}.`);let Ee=fe/4,xe=c.HEAPU32[Ee++];ce=c.HEAPU32[Ee++];let je=c.HEAPU32[Ee++],$e=c.HEAPU32[Ee++],de=[];for(let V=0;V<$e;V++)de.push(c.HEAPU32[je/4+V]);c._OrtFree(je);let pe=de.reduce((V,ee)=>V*ee,1);$=tn(xe);let Fe=N?.outputPreferredLocations[y[k]];if($==="string"){if(Fe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let V=[],ee=ce/4;for(let We=0;We<pe;We++){let Pe=c.HEAPU32[ee++],qe=We===pe-1?void 0:c.HEAPU32[ee]-Pe;V.push(c.UTF8ToString(Pe,qe))}ae.push([$,de,V,"cpu"])}else if(Fe==="gpu-buffer"&&pe>0){let V=c.jsepGetBuffer(ce),ee=Kt(xe);if(ee===void 0||!an($))throw new Error(`Unsupported data type: ${$}`);se=!0,ae.push([$,de,{gpuBuffer:V,download:c.jsepCreateDownloader(V,pe*ee,$),dispose:()=>{c._OrtReleaseTensor(Y)}},"gpu-buffer"])}else{let V=rn($),ee=new V(pe);new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength).set(c.HEAPU8.subarray(ce,ce+ee.byteLength)),ae.push([$,de,ee,"cpu"])}}finally{c.stackRestore(he),$==="string"&&ce&&c._free(ce),se||c._OrtReleaseTensor(Y)}}return N&&c._OrtClearBoundOutputs(N.handle),ae}finally{c.stackRestore(le),L.forEach(X=>c._OrtReleaseTensor(X)),j.forEach(X=>c._OrtReleaseTensor(X)),F.forEach(X=>c._free(X)),G!==0&&c._OrtReleaseRunOptions(G),B.forEach(X=>c._free(X))}},mn=f=>{let p=te(),a=pt.get(f);if(!a)throw new Error("invalid session id");let y=a[0],b=p._OrtEndProfiling(y);b===0&&Q("Can\'t get an profile file name."),p._OrtFree(b)},gn=f=>{let p=[];for(let a of f){let y=a[2];!Array.isArray(y)&&"buffer"in y&&p.push(y.buffer)}return p};self.onmessage=f=>{switch(f.data.type){case"init-wasm":try{Zr(f.data.in).then(()=>postMessage({type:"init-wasm"}),p=>postMessage({type:"init-wasm",err:p}))}catch(p){postMessage({type:"init-wasm",err:p})}break;case"init-ort":try{fn(f.data.in).then(()=>postMessage({type:"init-ort"}),p=>postMessage({type:"init-ort",err:p}))}catch(p){postMessage({type:"init-ort",err:p})}break;case"create_allocate":try{let{model:p}=f.data.in,a=Zt(p);postMessage({type:"create_allocate",out:a})}catch(p){postMessage({type:"create_allocate",err:p})}break;case"create_finalize":try{let{modeldata:p,options:a}=f.data.in,y=Qt(p,a);postMessage({type:"create_finalize",out:y})}catch(p){postMessage({type:"create_finalize",err:p})}break;case"create":try{let{model:p,options:a}=f.data.in,y=cn(p,a);postMessage({type:"create",out:y})}catch(p){postMessage({type:"create",err:p})}break;case"release":try{dn(f.data.in),postMessage({type:"release"})}catch(p){postMessage({type:"release",err:p})}break;case"run":try{let{sessionId:p,inputIndices:a,inputs:y,outputIndices:b,options:A}=f.data.in;pn(p,a,y,b,new Array(b.length).fill(null),A).then(c=>{c.some(_=>_[3]!=="cpu")?postMessage({type:"run",err:"Proxy does not support non-cpu tensor location."}):postMessage({type:"run",out:c},gn(c))},c=>{postMessage({type:"run",err:c})})}catch(p){postMessage({type:"run",err:p})}break;case"end-profiling":try{let p=f.data.in;mn(p),postMessage({type:"end-profiling"})}catch(p){postMessage({type:"end-profiling",err:p})}break;case"is-ort-env-initialized":try{let p=ln();postMessage({type:"is-ort-env-initialized",out:p})}catch(p){postMessage({type:"is-ort-env-initialized",err:p})}break;default:}};})();\n'});var Ne,_e,cr,rn,nn,Vr,qr,Jr,Xr,Kr,Zr,Qr,en,tn,Xe,ui,fr,Ya,Va,qa,Ja,an,Xa,Ka,Za,Qa,on=G(()=>{"use strict";Je();lr();it();Ne=()=>!!Z.wasm.proxy&&typeof document<"u",cr=!1,rn=!1,nn=!1,Jr=[],Xr=[],Kr=[],Zr=[],Qr=[],en=[],tn=[],Xe=()=>{if(cr||!rn||nn||!_e)throw new Error("worker not ready")},ui=a=>{switch(a.data.type){case"init-wasm":cr=!1,a.data.err?(nn=!0,Vr[1](a.data.err)):(rn=!0,Vr[0]());break;case"init-ort":a.data.err?qr[1](a.data.err):qr[0]();break;case"create_allocate":a.data.err?Jr.shift()[1](a.data.err):Jr.shift()[0](a.data.out);break;case"create_finalize":a.data.err?Xr.shift()[1](a.data.err):Xr.shift()[0](a.data.out);break;case"create":a.data.err?Kr.shift()[1](a.data.err):Kr.shift()[0](a.data.out);break;case"release":a.data.err?Zr.shift()[1](a.data.err):Zr.shift()[0]();break;case"run":a.data.err?Qr.shift()[1](a.data.err):Qr.shift()[0](a.data.out);break;case"end-profiling":a.data.err?en.shift()[1](a.data.err):en.shift()[0]();break;case"is-ort-env-initialized":a.data.err?tn.shift()[1](a.data.err):tn.shift()[0](a.data.out);break;default:}},fr=typeof document<"u"?document?.currentScript?.src:void 0,Ya=async()=>{if(Ne()){if(rn)return;if(cr)throw new Error("multiple calls to 'initWasm()' detected.");if(nn)throw new Error("previous call to 'initWasm()' failed.");return cr=!0,Z.wasm.wasmPaths===void 0&&fr&&fr.indexOf("blob:")!==0&&(Z.wasm.wasmPaths=fr.substr(0,+fr.lastIndexOf("/")+1)),new Promise((a,n)=>{_e?.terminate();let r=URL.createObjectURL(new Blob([Ga()],{type:"text/javascript"}));_e=new Worker(r,{name:"ort-wasm-proxy-worker"}),_e.onerror=u=>n(u),_e.onmessage=ui,URL.revokeObjectURL(r),Vr=[a,n];let f={type:"init-wasm",in:Z.wasm};_e.postMessage(f)})}else return Ba(Z.wasm)},Va=async a=>{if(Ne())return Xe(),new Promise((n,r)=>{qr=[n,r];let f={type:"init-ort",in:a};_e.postMessage(f)});await sr(a)},qa=async a=>Ne()?(Xe(),new Promise((n,r)=>{Jr.push([n,r]);let f={type:"create_allocate",in:{model:a}};_e.postMessage(f,[a.buffer])})):Ft(a),Ja=async(a,n)=>Ne()?(Xe(),new Promise((r,f)=>{Xr.push([r,f]);let u={type:"create_finalize",in:{modeldata:a,options:n}};_e.postMessage(u)})):Yr(a,n),an=async(a,n)=>{if(Ne()){if(n?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Xe(),new Promise((r,f)=>{Kr.push([r,f]);let u={type:"create",in:{model:a,options:n}};_e.postMessage(u,[a.buffer])})}else return Wa(a,n)},Xa=async a=>{if(Ne())return Xe(),new Promise((n,r)=>{Zr.push([n,r]);let f={type:"release",in:a};_e.postMessage(f)});za(a)},Ka=async(a,n,r,f,u,h)=>{if(Ne()){if(r.some(l=>l[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(u.some(l=>l))throw new Error("pre-allocated output tensor is not supported for proxy.");return Xe(),new Promise((l,p)=>{Qr.push([l,p]);let y=r,s={type:"run",in:{sessionId:a,inputIndices:n,inputs:y,outputIndices:f,options:h}};_e.postMessage(s,ja(y))})}else return Na(a,n,r,f,u,h)},Za=async a=>{if(Ne())return Xe(),new Promise((n,r)=>{en.push([n,r]);let f={type:"end-profiling",in:a};_e.postMessage(f)});$a(a)},Qa=async()=>Ne()?(Xe(),new Promise((a,n)=>{tn.push([a,n]);let r={type:"is-ort-env-initialized"};_e.postMessage(r)})):ur()});var dr,st,mr,pr,sn=G(()=>{"use strict";Je();on();or();st=(a,n)=>{switch(a.location){case"cpu":return[a.type,a.dims,a.data,"cpu"];case"gpu-buffer":return[a.type,a.dims,{gpuBuffer:a.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${a.location} for ${n()}`)}},mr=a=>{switch(a[3]){case"cpu":return new pe(a[0],a[2],a[1]);case"gpu-buffer":{let n=a[0];if(!ar(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);let{gpuBuffer:r,download:f,dispose:u}=a[2];return pe.fromGpuBuffer(r,{dataType:n,dims:a[1],download:f,dispose:u})}default:throw new Error(`invalid data location: ${a[3]}`)}},pr=class{async createSessionAllocate(n){let r=await fetch(n);if(r.status!==200)throw new Error(`failed to load model: ${n}`);let f=await r.arrayBuffer();return qa(new Uint8Array(f))}async loadModel(n,r){if(await Qa()||(dr||(dr=Va(Z)),await dr,dr=void 0),typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let f=await(void 0)(n);[this.sessionId,this.inputNames,this.outputNames]=await an(f,r)}else{let f=await this.createSessionAllocate(n);[this.sessionId,this.inputNames,this.outputNames]=await Ja(f,r)}else[this.sessionId,this.inputNames,this.outputNames]=await an(n,r)}async dispose(){return Xa(this.sessionId)}async run(n,r,f){let u=[],h=[];Object.entries(n).forEach(S=>{let A=S[0],F=S[1],M=this.inputNames.indexOf(A);if(M===-1)throw new Error(`invalid input '${A}'`);u.push(F),h.push(M)});let l=[],p=[];Object.entries(r).forEach(S=>{let A=S[0],F=S[1],M=this.outputNames.indexOf(A);if(M===-1)throw new Error(`invalid output '${A}'`);l.push(F),p.push(M)});let y=u.map((S,A)=>st(S,()=>`input "${this.inputNames[h[A]]}"`)),s=l.map((S,A)=>S?st(S,()=>`output "${this.outputNames[p[A]]}"`):null),b=await Ka(this.sessionId,h,y,p,s,f),_={};for(let S=0;S<b.length;S++)_[this.outputNames[p[S]]]=l[S]??mr(b[S]);return _}startProfiling(){}endProfiling(){Za(this.sessionId)}}});var li,hr,eo=G(()=>{"use strict";Je();on();sn();li=()=>{if((typeof Z.wasm.initTimeout!="number"||Z.wasm.initTimeout<0)&&(Z.wasm.initTimeout=0),typeof Z.wasm.simd!="boolean"&&(Z.wasm.simd=!0),typeof Z.wasm.proxy!="boolean"&&(Z.wasm.proxy=!1),typeof Z.wasm.numThreads!="number"||!Number.isInteger(Z.wasm.numThreads)||Z.wasm.numThreads<=0){let a=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Z.wasm.numThreads=Math.min(4,Math.ceil((a||1)/2))}},hr=class{async init(){li(),await Ya()}async createInferenceSessionHandler(n,r){let f=new pr;return await f.loadModel(n,r),Promise.resolve(f)}}});var Ie,Se,ro,fi,to,un,no,gr,ao,oo,io,so,uo,ln,lo,fo,co,po=G(()=>{"use strict";$r();jr();or();lr();it();Rt();Ie="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",Se=(a,n,r=!0)=>{r&&a!==0?ee(n):!r&&a===0&&ee(n)},ro=a=>{let n=$(),[r,f]=a,u=0;try{if(n._OrtTrainingLoadCheckpoint)u=n._OrtTrainingLoadCheckpoint(r,f);else throw new Error(Ie);return Se(u,"Error occurred when trying to create a CheckpointState",!1),u}catch(h){throw n._OrtTrainingReleaseCheckpoint&&u!==0&&n._OrtTrainingReleaseCheckpoint(u),h}finally{n._OrtFree(a[0])}},fi=(a,n)=>{let r=$(),f=r.stackSave();try{let u=r.stackAlloc(8);if(r._OrtTrainingGetModelInputOutputCount){let h=r._OrtTrainingGetModelInputOutputCount(a,u,u+4,n);return Se(h,"Can't get session input/output count."),[r.HEAP32[u/4],r.HEAP32[u/4+1]]}else throw new Error(Ie)}finally{r.stackRestore(f)}},to=(a,n,r,f)=>{let u=[],h=$();for(let l=0;l<n;l++)if(h._OrtTrainingGetModelInputOutputName){let p=h._OrtTrainingGetModelInputOutputName(a,l,r,f);Se(p,`Can't get input or output name -- is input: ${r}, index ${l}`,!1),u.push(h.UTF8ToString(p)),h._free(p)}else throw new Error(Ie);return u},un=(a,n)=>{let r=[],f=[],[u,h]=fi(a,n);return r=to(a,u,!0,n),f=to(a,h,!1,n),[r,f]},no=(a,n,r,f,u)=>{let h=$(),l=0,p=0,y=[];try{if([p,y]=rr(u),h._OrtTrainingCreateSession)l=h._OrtTrainingCreateSession(p,a,n[0],n[1],r[0],r[1],f[0],f[1]);else throw new Error(Ie);return Se(l,"Error occurred when trying to create a TrainingSession",!1),l}catch(s){throw h._OrtTrainingReleaseSession&&l!==0&&h._OrtTrainingReleaseSession(l),s}finally{h._free(n[0]),h._free(r[0]),h._free(f[0]),p!==0&&h._OrtReleaseSessionOptions(p),y.forEach(s=>h._free(s))}},gr=(a,n,r,f,u,h)=>{let l=n.length;for(let b=0;b<l;b++)ir(r[b],f,u,a,h+n[b]);let p=$(),y=p.stackAlloc(l*4),s=y/4;for(let b=0;b<l;b++)p.HEAPU32[s++]=f[b];return y},ao=(a,n,r,f)=>{let u=$(),h=[];for(let l=0;l<n;l++){let p=u.HEAPU32[a/4+l];if(p===r[l]){h.push(f[l]);continue}let y=u.stackSave(),s=u.stackAlloc(4*4),b,_=0;try{let S=u._OrtGetTensorData(p,s,s+4,s+8,s+12);Se(S,`Can't access output tensor data on index ${l}.`);let A=s/4,F=u.HEAPU32[A++];_=u.HEAPU32[A++];let M=u.HEAPU32[A++],D=u.HEAPU32[A++],L=[];for(let N=0;N<D;N++)L.push(u.HEAPU32[M/4+N]);u._OrtFree(M);let R=L.reduce((N,q)=>N*q,1);if(b=nr(F),b==="string"){let N=[],q=_/4;for(let I=0;I<R;I++){let ve=u.HEAPU32[q++],Oe=I===R-1?void 0:u.HEAPU32[q]-ve;N.push(u.UTF8ToString(ve,Oe))}h.push([b,L,N,"cpu"])}else{let N=xt(b),q=new N(R);new Uint8Array(q.buffer,q.byteOffset,q.byteLength).set(u.HEAPU8.subarray(_,_+q.byteLength)),h.push([b,L,q,"cpu"])}}finally{u.stackRestore(y),b==="string"&&_&&u._free(_),u._OrtReleaseTensor(p)}}return h},oo=async a=>{let n=$();if(n._OrtTrainingLazyResetGrad){let r=n._OrtTrainingLazyResetGrad(a);Se(r,"Can't call lazyResetGrad.")}else throw new Error(Ie)},io=async(a,n,r,f,u,h)=>{let l=$(),p=n.length,y=f.length,s=0,b=[],_=[],S=[],A=[],F=l.stackSave();try{[s,b]=vt(h);let M=gr(a,n,r,_,A,0),D=gr(a,f,u,S,A,p);if(l._OrtTrainingRunTrainStep){let L=l._OrtTrainingRunTrainStep(a,M,p,D,y,s);Se(L,"failed to call OrtTrainingRunTrainStep in the WebAssembly layer")}else throw new Error(Ie);return ao(D,y,S,u)}finally{l.stackRestore(F),_.forEach(M=>l._OrtReleaseTensor(M)),S.forEach(M=>l._OrtReleaseTensor(M)),A.forEach(M=>l._free(M)),s!==0&&l._OrtReleaseRunOptions(s),b.forEach(M=>l._free(M))}},so=async(a,n)=>{let r=$(),f=0,u=[];try{if([f,u]=vt(n),r._OrtTrainingOptimizerStep){let h=r._OrtTrainingOptimizerStep(a,f);Se(h,"Failed to call OrtTrainingOptimizerStep in the WebAssembly layer")}else throw new Error(Ie)}finally{f!==0&&r._OrtReleaseRunOptions(f),u.forEach(h=>r._free(h))}},uo=async(a,n,r,f,u,h)=>{let l=$(),p=n.length,y=f.length,s=0,b=[],_=[],S=[],A=[],F=l.stackSave();try{[s,b]=vt(h);let M=gr(a,n,r,_,A,0),D=gr(a,f,u,S,A,p);if(l._OrtTrainingEvalStep){let L=l._OrtTrainingEvalStep(a,M,p,D,y,s);Se(L,"failed to call OrtTrainingEvalStep in the WebAssembly layer")}else throw new Error(Ie);return ao(D,y,S,u)}finally{l.stackRestore(F),_.forEach(M=>l._OrtReleaseTensor(M)),S.forEach(M=>l._OrtReleaseTensor(M)),A.forEach(M=>l._free(M)),s!==0&&l._OrtReleaseRunOptions(s),b.forEach(M=>l._free(M))}},ln=(a,n)=>{let r=$(),f=r.stackSave();try{let u=r.stackAlloc(4);if(r._OrtTrainingGetParametersSize){let h=r._OrtTrainingGetParametersSize(a,u,n);return Se(h,"Can't get parameters size"),r.HEAP32[u/4]}else throw new Error(Ie)}finally{r.stackRestore(f)}},lo=async(a,n)=>{let r=$(),f=r.stackSave(),u="float32",h="cpu",l=ln(a,n),p=0,y=4*l,s=r._malloc(y),b=[l],_=r.stackAlloc(4),S=_/4;r.HEAP32[S]=l;try{if(p=r._OrtCreateTensor(Ot(u),s,y,_,b.length,Dt(h)),Se(p,`Can't create tensor for getContiguousParameters. session=${a}.`,!1),r._OrtTrainingCopyParametersToBuffer){let D=r._OrtTrainingCopyParametersToBuffer(a,p,l,n);Se(D,"Can't get contiguous parameters.")}else throw new Error(Ie);let A=xt(u),F=new A(l),M=[];if(new Uint8Array(F.buffer,F.byteOffset,F.byteLength).set(r.HEAPU8.subarray(s,s+y)),M.push([u,b,F,h]),M.length!==1)throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of
     one, got ${M.length}`);return M[0]}finally{p!==0&&r._OrtReleaseTensor(p),r._free(s),r._free(_),r.stackRestore(f)}},fo=async(a,n,r)=>{let f=$(),u=f.stackSave(),h="float32",l="cpu",p=n.length,y=p/4,s=f._malloc(p);f.HEAPU8.set(n,s);let b=f.stackAlloc(4);f.HEAP32[b/4]=y;let _=1,S=0;try{if(S=f._OrtCreateTensor(Ot(h),s,p,b,_,Dt(l)),Se(S,`Can't create tensor for input/output. session=${a}`,!1),f._OrtTrainingCopyParametersFromBuffer){let A=f._OrtTrainingCopyParametersFromBuffer(a,S,y,r);Se(A,"Can't copy buffer to parameters.")}else throw new Error(Ie)}finally{S!==0&&f._OrtReleaseTensor(S),f.stackRestore(u),f._free(s),f._free(b)}},co=(a,n)=>{let r=$();r._OrtTrainingReleaseSession&&r._OrtTrainingReleaseSession(n),r._OrtTrainingReleaseCheckpoint&&r._OrtTrainingReleaseCheckpoint(a)}});var yr,mo=G(()=>{"use strict";Je();sn();lr();po();yr=class{constructor(){this.evalInputNames=[];this.evalOutputNames=[]}async uriOrBufferToHeap(n){let r;if(typeof n=="string"){let u=await(await fetch(n)).arrayBuffer();r=new Uint8Array(u)}else r=n;return Ft(r)}async createTrainingSession(n,r,f,u,h){ur()||await sr(Z);let l=await this.uriOrBufferToHeap(n),p=await this.uriOrBufferToHeap(r),y=[0,0],s=[0,0];f!==""&&(y=await this.uriOrBufferToHeap(f)),u!==""&&(s=await this.uriOrBufferToHeap(u)),this.checkpointId=ro(l),this.sessionId=no(this.checkpointId,p,y,s,h),[this.inputNames,this.outputNames]=un(this.sessionId,!1),f!==""&&([this.evalInputNames,this.evalOutputNames]=un(this.sessionId,!0))}convertMapIntoValuesArrayAndIndicesArray(n,r,f){let u=[],h=[];Object.entries(n).forEach(p=>{let y=p[0],s=p[1],b=r.indexOf(y);if(b===-1)throw new Error(`invalid input '${y}`);u.push(s),h.push(b)});let l=u.map(f);return[u,h,l]}convertTensorMetadataToReturnType(n,r,f){let u={};for(let h=0;h<n.length;h++)u[this.outputNames[f[h]]]=r[h]??mr(n[h]);return u}async lazyResetGrad(){await oo(this.sessionId)}async runTrainStep(n,r,f){let[,u,h]=this.convertMapIntoValuesArrayAndIndicesArray(n,this.inputNames,(b,_)=>st(b,()=>`input "${this.inputNames[u[_]]}"`)),[l,p,y]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.outputNames,(b,_)=>b?st(b,()=>`output "${this.outputNames[p[_]]}"`):null),s=await io(this.sessionId,u,h,p,y,f);return this.convertTensorMetadataToReturnType(s,l,p)}async runOptimizerStep(n){await so(this.sessionId,n)}async runEvalStep(n,r,f){let[,u,h]=this.convertMapIntoValuesArrayAndIndicesArray(n,this.evalInputNames,(b,_)=>st(b,()=>`input "${this.evalInputNames[u[_]]}"`)),[l,p,y]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.evalOutputNames,(b,_)=>b?st(b,()=>`output "${this.evalOutputNames[p[_]]}"`):null),s=await uo(this.sessionId,u,h,p,y,f);return this.convertTensorMetadataToReturnType(s,l,p)}async getParametersSize(n){return ln(this.sessionId,n)}async loadParametersBuffer(n,r){await fo(this.sessionId,n,r)}async getContiguousParameters(n){let r=await lo(this.sessionId,n);return mr(r)}async dispose(){return co(this.checkpointId,this.sessionId)}}});var ho={};bt(ho,{wasmBackend:()=>ci});var fn,ci,go=G(()=>{"use strict";eo();mo();fn=class extends hr{async createTrainingSessionHandler(n,r,f,u,h){let l=new yr;return await l.createTrainingSession(n,r,f,u,h),Promise.resolve(l)}},ci=new fn});var pi={};bt(pi,{InferenceSession:()=>ya,Tensor:()=>pe,TrainingSession:()=>Oa,default:()=>di,env:()=>Z,registerBackend:()=>wt});Je();Je();Je();var _a="1.17.0";var di=kr;{let a=(go(),at(ho)).wasmBackend;wt("cpu",a,10),wt("wasm",a,10)}Object.defineProperty(Z.versions,"web",{value:_a,enumerable:!0});return at(pi);})();
//# sourceMappingURL=ort.training.wasm.min.js.map
