/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var Ht=Object.defineProperty;var io=Object.getOwnPropertyDescriptor;var so=Object.getOwnPropertyNames;var uo=Object.prototype.hasOwnProperty;var K=(i,o)=>()=>(i&&(o=i(i=0)),o);var Ir=(i,o)=>()=>(o||i((o={exports:{}}).exports,o),o.exports),Gr=(i,o)=>{for(var s in o)Ht(i,s,{get:o[s],enumerable:!0})},fo=(i,o,s,m)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of so(o))!uo.call(i,d)&&d!==s&&Ht(i,d,{get:()=>o[d],enumerable:!(m=io(o,d))||m.enumerable});return i};var Fr=i=>fo(Ht({},"__esModule",{value:!0}),i);var ht,dr,pr,gt,yt=K(()=>{"use strict";ht=new Map,dr=[],pr=(i,o,s)=>{if(o&&typeof o.init=="function"&&typeof o.createInferenceSessionHandler=="function"){let m=ht.get(i);if(m===void 0)ht.set(i,{backend:o,priority:s});else{if(m.priority>s)return;if(m.priority===s&&m.backend!==o)throw new Error(`cannot register backend "${i}" using priority ${s}`)}if(s>=0){let d=dr.indexOf(i);d!==-1&&dr.splice(d,1);for(let w=0;w<dr.length;w++)if(ht.get(dr[w]).priority<=s){dr.splice(w,0,i);return}dr.push(i)}return}throw new TypeError("not a valid backend")},gt=async i=>{let o=i.length===0?dr:i,s=[];for(let m of o){let d=ht.get(m);if(d){if(d.initialized)return d.backend;if(d.aborted)continue;let w=!!d.initPromise;try{return w||(d.initPromise=d.backend.init(m)),await d.initPromise,d.initialized=!0,d.backend}catch(c){w||s.push({name:m,err:c}),d.aborted=!0}finally{delete d.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(m=>`[${m.name}] ${m.err}`).join(", ")}`)}});var Dn=K(()=>{"use strict";yt()});var xn,Bn=K(()=>{"use strict";xn="1.17.0"});var Rn,jt,Wn=K(()=>{"use strict";Bn();Rn="warning",jt={wasm:{},webgl:{},webgpu:{},versions:{common:xn},set logLevel(i){if(i!==void 0){if(typeof i!="string"||["verbose","info","warning","error","fatal"].indexOf(i)===-1)throw new Error(`Unsupported logging level: ${i}`);Rn=i}},get logLevel(){return Rn}};Object.defineProperty(jt,"logLevel",{enumerable:!0})});var ae,kn=K(()=>{"use strict";Wn();ae=jt});var Ln,$n,Hn=K(()=>{"use strict";Ln=(i,o)=>{let s=document.createElement("canvas");s.width=i.dims[3],s.height=i.dims[2];let m=s.getContext("2d");if(m!=null){let d,w;o?.tensorLayout!==void 0&&o.tensorLayout==="NHWC"?(d=i.dims[2],w=i.dims[3]):(d=i.dims[3],w=i.dims[2]);let c=o?.format!==void 0?o.format:"RGB",g=o?.norm,T,f;g===void 0||g.mean===void 0?T=[255,255,255,255]:typeof g.mean=="number"?T=[g.mean,g.mean,g.mean,g.mean]:(T=[g.mean[0],g.mean[1],g.mean[2],0],g.mean[3]!==void 0&&(T[3]=g.mean[3])),g===void 0||g.bias===void 0?f=[0,0,0,0]:typeof g.bias=="number"?f=[g.bias,g.bias,g.bias,g.bias]:(f=[g.bias[0],g.bias[1],g.bias[2],0],g.bias[3]!==void 0&&(f[3]=g.bias[3]));let _=w*d,S=0,E=_,I=_*2,H=-1;c==="RGBA"?(S=0,E=_,I=_*2,H=_*3):c==="RGB"?(S=0,E=_,I=_*2):c==="RBG"&&(S=0,I=_,E=_*2);for(let L=0;L<w;L++)for(let Y=0;Y<d;Y++){let W=(i.data[S++]-f[0])*T[0],U=(i.data[E++]-f[1])*T[1],J=(i.data[I++]-f[2])*T[2],ce=H===-1?255:(i.data[H++]-f[3])*T[3];m.fillStyle="rgba("+W+","+U+","+J+","+ce+")",m.fillRect(Y,L,1,1)}return s.toDataURL()}else throw new Error("Can not access image data")},$n=(i,o)=>{let s=document.createElement("canvas").getContext("2d"),m;if(s!=null){let d,w,c;o?.tensorLayout!==void 0&&o.tensorLayout==="NHWC"?(d=i.dims[2],w=i.dims[1],c=i.dims[3]):(d=i.dims[3],w=i.dims[2],c=i.dims[1]);let g=o!==void 0&&o.format!==void 0?o.format:"RGB",T=o?.norm,f,_;T===void 0||T.mean===void 0?f=[255,255,255,255]:typeof T.mean=="number"?f=[T.mean,T.mean,T.mean,T.mean]:(f=[T.mean[0],T.mean[1],T.mean[2],255],T.mean[3]!==void 0&&(f[3]=T.mean[3])),T===void 0||T.bias===void 0?_=[0,0,0,0]:typeof T.bias=="number"?_=[T.bias,T.bias,T.bias,T.bias]:(_=[T.bias[0],T.bias[1],T.bias[2],0],T.bias[3]!==void 0&&(_[3]=T.bias[3]));let S=w*d;if(o!==void 0&&(o.format!==void 0&&c===4&&o.format!=="RGBA"||c===3&&o.format!=="RGB"&&o.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,I=0,H=1,L=2,Y=3,W=0,U=S,J=S*2,ce=-1;g==="RGBA"?(W=0,U=S,J=S*2,ce=S*3):g==="RGB"?(W=0,U=S,J=S*2):g==="RBG"&&(W=0,J=S,U=S*2),m=s.createImageData(d,w);for(let Z=0;Z<w*d;I+=E,H+=E,L+=E,Y+=E,Z++)m.data[I]=(i.data[W++]-_[0])*f[0],m.data[H]=(i.data[U++]-_[1])*f[1],m.data[L]=(i.data[J++]-_[2])*f[2],m.data[Y]=ce===-1?255:(i.data[ce++]-_[3])*f[3]}else throw new Error("Can not access image data");return m}});var Nt,jn,Nn,zn,Yn,Gn=K(()=>{"use strict";vt();Nt=(i,o)=>{if(i===void 0)throw new Error("Image buffer must be defined");if(o.height===void 0||o.width===void 0)throw new Error("Image height and width must be defined");if(o.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:s,width:m}=o,d=o.norm??{mean:255,bias:0},w,c;typeof d.mean=="number"?w=[d.mean,d.mean,d.mean,d.mean]:w=[d.mean[0],d.mean[1],d.mean[2],d.mean[3]??255],typeof d.bias=="number"?c=[d.bias,d.bias,d.bias,d.bias]:c=[d.bias[0],d.bias[1],d.bias[2],d.bias[3]??0];let g=o.format!==void 0?o.format:"RGBA",T=o.tensorFormat!==void 0&&o.tensorFormat!==void 0?o.tensorFormat:"RGB",f=s*m,_=T==="RGBA"?new Float32Array(f*4):new Float32Array(f*3),S=4,E=0,I=1,H=2,L=3,Y=0,W=f,U=f*2,J=-1;g==="RGB"&&(S=3,E=0,I=1,H=2,L=-1),T==="RGBA"?J=f*3:T==="RBG"?(Y=0,U=f,W=f*2):T==="BGR"&&(U=0,W=f,Y=f*2);for(let Z=0;Z<f;Z++,E+=S,H+=S,I+=S,L+=S)_[Y++]=(i[E]+c[0])/w[0],_[W++]=(i[I]+c[1])/w[1],_[U++]=(i[H]+c[2])/w[2],J!==-1&&L!==-1&&(_[J++]=(i[L]+c[3])/w[3]);return T==="RGBA"?new Ae("float32",_,[1,4,s,m]):new Ae("float32",_,[1,3,s,m])},jn=async(i,o)=>{let s=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,m=typeof ImageData<"u"&&i instanceof ImageData,d=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,w=typeof i=="string",c,g=o??{};if(s){let T=document.createElement("canvas");T.width=i.width,T.height=i.height;let f=T.getContext("2d");if(f!=null){let _=i.height,S=i.width;if(o!==void 0&&o.resizedHeight!==void 0&&o.resizedWidth!==void 0&&(_=o.resizedHeight,S=o.resizedWidth),o!==void 0){if(g=o,o.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");g.tensorFormat="RGBA",g.height=_,g.width=S}else g.tensorFormat="RGBA",g.height=_,g.width=S;f.drawImage(i,0,0),c=f.getImageData(0,0,S,_).data}else throw new Error("Can not access image data")}else if(m){let T,f;if(o!==void 0&&o.resizedWidth!==void 0&&o.resizedHeight!==void 0?(T=o.resizedHeight,f=o.resizedWidth):(T=i.height,f=i.width),o!==void 0&&(g=o),g.format="RGBA",g.height=T,g.width=f,o!==void 0){let _=document.createElement("canvas");_.width=f,_.height=T;let S=_.getContext("2d");if(S!=null)S.putImageData(i,0,0),c=S.getImageData(0,0,f,T).data;else throw new Error("Can not access image data")}else c=i.data}else if(d){if(o===void 0)throw new Error("Please provide image config with format for Imagebitmap");let T=document.createElement("canvas");T.width=i.width,T.height=i.height;let f=T.getContext("2d");if(f!=null){let _=i.height,S=i.width;return f.drawImage(i,0,0,S,_),c=f.getImageData(0,0,S,_).data,g.height=_,g.width=S,Nt(c,g)}else throw new Error("Can not access image data")}else{if(w)return new Promise((T,f)=>{let _=document.createElement("canvas"),S=_.getContext("2d");if(!i||!S)return f();let E=new Image;E.crossOrigin="Anonymous",E.src=i,E.onload=()=>{_.width=E.width,_.height=E.height,S.drawImage(E,0,0,_.width,_.height);let I=S.getImageData(0,0,_.width,_.height);g.height=_.height,g.width=_.width,T(Nt(I.data,g))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(c!==void 0)return Nt(c,g);throw new Error("Input data provided is not supported - aborted tensor creation")},Nn=(i,o)=>{let{width:s,height:m,download:d,dispose:w}=o,c=[1,m,s,4];return new Ae({location:"texture",type:"float32",texture:i,dims:c,download:d,dispose:w})},zn=(i,o)=>{let{dataType:s,dims:m,download:d,dispose:w}=o;return new Ae({location:"gpu-buffer",type:s??"float32",gpuBuffer:i,dims:m,download:d,dispose:w})},Yn=(i,o,s)=>new Ae({location:"cpu-pinned",type:i,data:o,dims:s??[o.length]})});var Vr,bt,Vn,qn,Xn=K(()=>{"use strict";Vr=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),bt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Vn=!1,qn=()=>{if(!Vn){Vn=!0;let i=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",o=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";i&&(Vr.set("int64",BigInt64Array),bt.set(BigInt64Array,"int64")),o&&(Vr.set("uint64",BigUint64Array),bt.set(BigUint64Array,"uint64"))}}});var Jn,Zn,Kn=K(()=>{"use strict";vt();Jn=i=>{let o=1;for(let s=0;s<i.length;s++){let m=i[s];if(typeof m!="number"||!Number.isSafeInteger(m))throw new TypeError(`dims[${s}] must be an integer, got: ${m}`);if(m<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${m}`);o*=m}return o},Zn=(i,o)=>{switch(i.location){case"cpu":return new Ae(i.type,i.data,o);case"cpu-pinned":return new Ae({location:"cpu-pinned",data:i.data,type:i.type,dims:o});case"texture":return new Ae({location:"texture",texture:i.texture,type:i.type,dims:o});case"gpu-buffer":return new Ae({location:"gpu-buffer",gpuBuffer:i.gpuBuffer,type:i.type,dims:o});default:throw new Error(`tensorReshape: tensor location ${i.location} is not supported`)}}});var Ae,vt=K(()=>{"use strict";Hn();Gn();Xn();Kn();Ae=class{constructor(o,s,m){qn();let d,w;if(typeof o=="object"&&"location"in o)switch(this.dataLocation=o.location,d=o.type,w=o.dims,o.location){case"cpu-pinned":{let g=Vr.get(d);if(!g)throw new TypeError(`unsupported type "${d}" to create tensor from pinned buffer`);if(!(o.data instanceof g))throw new TypeError(`buffer should be of type ${g.name}`);this.cpuData=o.data;break}case"texture":{if(d!=="float32")throw new TypeError(`unsupported type "${d}" to create tensor from texture`);this.gpuTextureData=o.texture,this.downloader=o.download,this.disposer=o.dispose;break}case"gpu-buffer":{if(d!=="float32"&&d!=="float16"&&d!=="int32"&&d!=="int64"&&d!=="uint32"&&d!=="bool")throw new TypeError(`unsupported type "${d}" to create tensor from gpu buffer`);this.gpuBufferData=o.gpuBuffer,this.downloader=o.download,this.disposer=o.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let g,T;if(typeof o=="string")if(d=o,T=m,o==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");g=s}else{let f=Vr.get(o);if(f===void 0)throw new TypeError(`Unsupported tensor type: ${o}.`);if(Array.isArray(s)){if(o==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o==="uint64"||o==="int64"?g=f.from(s,BigInt):g=f.from(s)}else if(s instanceof f)g=s;else throw new TypeError(`A ${d} tensor's data must be type of ${f}`)}else if(T=s,Array.isArray(o)){if(o.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let f=typeof o[0];if(f==="string")d="string",g=o;else if(f==="boolean")d="bool",g=Uint8Array.from(o);else throw new TypeError(`Invalid element type of data array: ${f}.`)}else{let f=bt.get(o.constructor);if(f===void 0)throw new TypeError(`Unsupported type for tensor data: ${o.constructor}.`);d=f,g=o}if(T===void 0)T=[g.length];else if(!Array.isArray(T))throw new TypeError("A tensor's dims must be a number array");w=T,this.cpuData=g,this.dataLocation="cpu"}let c=Jn(w);if(this.cpuData&&c!==this.cpuData.length)throw new Error(`Tensor's size(${c}) does not match data length(${this.cpuData.length}).`);this.type=d,this.dims=w,this.size=c}static async fromImage(o,s){return jn(o,s)}static fromTexture(o,s){return Nn(o,s)}static fromGpuBuffer(o,s){return zn(o,s)}static fromPinnedBuffer(o,s,m){return Yn(o,s,m)}toDataURL(o){return Ln(this,o)}toImageData(o){return $n(this,o)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(o){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let s=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=s,o&&this.disposer&&(this.disposer(),this.disposer=void 0),s}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(o){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Zn(this,o)}}});var ve,wt=K(()=>{"use strict";vt();ve=Ae});var Ot,Qn=K(()=>{"use strict";yt();wt();Ot=class i{constructor(o){this.handler=o}async run(o,s,m){let d={},w={};if(typeof o!="object"||o===null||o instanceof ve||Array.isArray(o))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let c=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof ve)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");c=!1;for(let f of s){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);d[f]=null}if(typeof m=="object"&&m!==null)w=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,_=Object.getOwnPropertyNames(s);for(let S of this.outputNames)if(_.indexOf(S)!==-1){let E=s[S];(E===null||E instanceof ve)&&(f=!0,c=!1,d[S]=E)}if(f){if(typeof m=="object"&&m!==null)w=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else w=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of this.inputNames)if(typeof o[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(c)for(let f of this.outputNames)d[f]=null;let g=await this.handler.run(o,d,w),T={};for(let f in g)if(Object.hasOwnProperty.call(g,f)){let _=g[f];_ instanceof ve?T[f]=_:T[f]=new ve(_.type,_.data,_.dims)}return T}async release(){return this.handler.dispose()}static async create(o,s,m,d){let w,c={};if(typeof o=="string"){if(w=o,typeof s=="object"&&s!==null)c=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof Uint8Array){if(w=o,typeof s=="object"&&s!==null)c=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&o instanceof SharedArrayBuffer){let S=o,E=0,I=o.byteLength;if(typeof s=="object"&&s!==null)c=s;else if(typeof s=="number"){if(E=s,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(I=o.byteLength-E,typeof m=="number"){if(I=m,!Number.isSafeInteger(I))throw new RangeError("'byteLength' must be an integer.");if(I<=0||E+I>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-E}].`);if(typeof d=="object"&&d!==null)c=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else if(typeof m<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");w=new Uint8Array(S,E,I)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let T=(c.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),_=await(await gt(T)).createInferenceSessionHandler(w,c);return new i(_)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var lo,ea=K(()=>{"use strict";Qn();lo=Ot});var ra=K(()=>{"use strict"});var co,Tt,ta=K(()=>{"use strict";yt();wt();co="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Tt=class i{constructor(o,s,m){this.handler=o,this.hasOptimizerModel=s,this.hasEvalModel=m}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(o,s){let m=o.evalModel||"",d=o.optimizerModel||"",w=s||{},g=(w.executionProviders||[]).map(f=>typeof f=="string"?f:f.name),T=await gt(g);if(T.createTrainingSessionHandler){let f=await T.createTrainingSessionHandler(o.checkpointState,o.trainModel,m,d,w);return new i(f,!!o.optimizerModel,!!o.evalModel)}else throw new Error(co)}typeNarrowingForRunStep(o,s,m,d,w){let c={},g={};if(typeof m!="object"||m===null||m instanceof ve||Array.isArray(m))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let T=!0;if(typeof d=="object"){if(d===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(d instanceof ve)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(d)){if(d.length===0)throw new TypeError("'fetches' cannot be an empty array.");T=!1;for(let f of d){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(s.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);c[f]=null}if(typeof w=="object"&&w!==null)g=w;else if(typeof w<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,_=Object.getOwnPropertyNames(d);for(let S of s)if(_.indexOf(S)!==-1){let E=d[S];(E===null||E instanceof ve)&&(f=!0,T=!1,c[S]=E)}if(f){if(typeof w=="object"&&w!==null)g=w;else if(typeof w<"u")throw new TypeError("'options' must be an object.")}else g=d}}else if(typeof d<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of o)if(typeof m[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(T)for(let f of s)c[f]=null;return[c,g]}convertHandlerReturnTypeToMapOfTensors(o){let s={};for(let m in o)if(Object.hasOwnProperty.call(o,m)){let d=o[m];d instanceof ve?s[m]=d:s[m]=new ve(d.type,d.data,d.dims)}return s}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(o,s,m){let[d,w]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,o,s,m),c=await this.handler.runTrainStep(o,d,w);return this.convertHandlerReturnTypeToMapOfTensors(c)}async runOptimizerStep(o){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(o||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(o,s,m){if(this.hasEvalModel){let[d,w]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,o,s,m),c=await this.handler.runEvalStep(o,d,w);return this.convertHandlerReturnTypeToMapOfTensors(c)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(o=!0){return this.handler.getParametersSize(o)}async loadParametersBuffer(o,s=!0){let m=await this.getParametersSize(s);if(o.length!==4*m)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(o,s)}async getContiguousParameters(o=!0){return this.handler.getContiguousParameters(o)}async release(){return this.handler.dispose()}}});var po,na=K(()=>{"use strict";ta();po=Tt});var zt={};Gr(zt,{InferenceSession:()=>lo,Tensor:()=>ve,TrainingSession:()=>po,env:()=>ae,registerBackend:()=>pr});var mr=K(()=>{"use strict";Dn();kn();ea();wt();ra();na()});var Yt={};Gr(Yt,{readFile:()=>mo});var mo,Gt=K(()=>{mo=void 0});var Vt={};Gr(Vt,{join:()=>ho});var ho,qt=K(()=>{ho=void 0});var sa=Ir((ia,Xt)=>{"use strict";var oa=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(o={}){var s=o,m,d;s.ready=new Promise((t,n)=>{m=t,d=n});var w=Object.assign({},s),c="./this.program",g=typeof window=="object",T=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="",S,E,I;if(f){var H=(Gt(),Fr(Yt)),L=(qt(),Fr(Vt));_=T?L.dirname(_)+"/":__dirname+"/",S=(t,n)=>(t=t.startsWith("file://")?new URL(t):L.normalize(t),H.readFileSync(t,n?void 0:"utf8")),I=t=>(t=S(t,!0),t.buffer||(t=new Uint8Array(t)),t),E=(t,n,u,p=!0)=>{t=t.startsWith("file://")?new URL(t):L.normalize(t),H.readFile(t,p?void 0:"utf8",(y,A)=>{y?u(y):n(p?A.buffer:A)})},!s.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),s.inspect=()=>"[Emscripten Module object]"}else(g||T)&&(T?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),i&&(_=i),_.indexOf("blob:")!==0?_=_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):_="",S=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},T&&(I=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),E=(t,n,u)=>{var p=new XMLHttpRequest;p.open("GET",t,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?n(p.response):u()},p.onerror=u,p.send(null)});var Y=console.log.bind(console),W=console.error.bind(console);Object.assign(s,w),w=null,typeof WebAssembly!="object"&&er("no native wasm support detected");var U,J=!1,ce,Z,Ee,Fe,F,G,Ze,Ke,Qe,de;function V(){var t=U.buffer;s.HEAP8=ce=new Int8Array(t),s.HEAP16=Ee=new Int16Array(t),s.HEAPU8=Z=new Uint8Array(t),s.HEAPU16=Fe=new Uint16Array(t),s.HEAP32=F=new Int32Array(t),s.HEAPU32=G=new Uint32Array(t),s.HEAPF32=Ze=new Float32Array(t),s.HEAPF64=de=new Float64Array(t),s.HEAP64=Ke=new BigInt64Array(t),s.HEAPU64=Qe=new BigUint64Array(t)}var Q=[],je=[],be=[],me=0,ee=null,pe=null;function er(t){throw t="Aborted("+t+")",W(t),J=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),d(t),t}function $e(t){return t.startsWith("data:application/octet-stream;base64,")}var Re;if(Re="ort-wasm.wasm",!$e(Re)){var qe=Re;Re=s.locateFile?s.locateFile(qe,_):_+qe}function rr(t){if(I)return I(t);throw"both async and sync fetching of the wasm failed"}function we(t){if(g||T){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+t+"'";return n.arrayBuffer()}).catch(()=>rr(t));if(E)return new Promise((n,u)=>{E(t,p=>n(new Uint8Array(p)),u)})}return Promise.resolve().then(()=>rr(t))}function We(t,n,u){return we(t).then(p=>WebAssembly.instantiate(p,n)).then(p=>p).then(u,p=>{W(`failed to asynchronously prepare wasm: ${p}`),er(p)})}function tr(t,n){var u=Re;return typeof WebAssembly.instantiateStreaming!="function"||$e(u)||u.startsWith("file://")||f||typeof fetch!="function"?We(u,t,n):fetch(u,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,t).then(n,function(y){return W(`wasm streaming compile failed: ${y}`),W("falling back to ArrayBuffer instantiation"),We(u,t,n)}))}function te(t){this.Va=t-24,this.fb=function(n){G[this.Va+4>>>2>>>0]=n},this.eb=function(n){G[this.Va+8>>>2>>>0]=n},this.Za=function(n,u){this.$a(),this.fb(n),this.eb(u)},this.$a=function(){G[this.Va+16>>>2>>>0]=0}}var ue=0,Xe=0,Ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,gr=(t,n,u)=>{n>>>=0;var p=n+u;for(u=n;t[u]&&!(u>=p);)++u;if(16<u-n&&t.buffer&&Ne)return Ne.decode(t.subarray(n,u));for(p="";n<u;){var y=t[n++];if(y&128){var A=t[n++]&63;if((y&224)==192)p+=String.fromCharCode((y&31)<<6|A);else{var D=t[n++]&63;y=(y&240)==224?(y&15)<<12|A<<6|D:(y&7)<<18|A<<12|D<<6|t[n++]&63,65536>y?p+=String.fromCharCode(y):(y-=65536,p+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else p+=String.fromCharCode(y)}return p},nr=(t,n)=>(t>>>=0)?gr(Z,t,n):"",ze=t=>{for(var n=0,u=0;u<t.length;++u){var p=t.charCodeAt(u);127>=p?n++:2047>=p?n+=2:55296<=p&&57343>=p?(n+=4,++u):n+=3}return n},ke=(t,n,u,p)=>{if(u>>>=0,!(0<p))return 0;var y=u;p=u+p-1;for(var A=0;A<t.length;++A){var D=t.charCodeAt(A);if(55296<=D&&57343>=D){var C=t.charCodeAt(++A);D=65536+((D&1023)<<10)|C&1023}if(127>=D){if(u>=p)break;n[u++>>>0]=D}else{if(2047>=D){if(u+1>=p)break;n[u++>>>0]=192|D>>6}else{if(65535>=D){if(u+2>=p)break;n[u++>>>0]=224|D>>12}else{if(u+3>=p)break;n[u++>>>0]=240|D>>18,n[u++>>>0]=128|D>>12&63}n[u++>>>0]=128|D>>6&63}n[u++>>>0]=128|D&63}}return n[u>>>0]=0,u-y},yr=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Je,Se=t=>{for(var n="";Z[t>>>0];)n+=Je[Z[t++>>>0]];return n},He={},vr={},ar={},Le;function Ft(t,n,u={}){var p=n.name;if(!t)throw new Le(`type "${p}" must have a positive integer typeid pointer`);if(vr.hasOwnProperty(t)){if(u.gb)return;throw new Le(`Cannot register type '${p}' twice`)}vr[t]=n,delete ar[t],He.hasOwnProperty(t)&&(n=He[t],delete He[t],n.forEach(y=>y()))}function Ue(t,n,u={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ft(t,n,u)}var Zr=(t,n,u)=>{switch(n){case 1:return u?p=>ce[p>>>0>>>0]:p=>Z[p>>>0>>>0];case 2:return u?p=>Ee[p>>>1>>>0]:p=>Fe[p>>>1>>>0];case 4:return u?p=>F[p>>>2>>>0]:p=>G[p>>>2>>>0];case 8:return u?p=>Ke[p>>>3]:p=>Qe[p>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function or(){this.Sa=[void 0],this.bb=[]}var ye=new or;function br(t){t>>>=0,t>=ye.Va&&--ye.get(t).cb===0&&ye.$a(t)}var he=t=>{if(!t)throw new Le("Cannot use deleted val. handle = "+t);return ye.get(t).value},Oe=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ye.Za({cb:1,value:t})}};function ir(t){return this.fromWireType(F[t>>>2>>>0])}var Kr=(t,n)=>{switch(n){case 4:return function(u){return this.fromWireType(Ze[u>>>2>>>0])};case 8:return function(u){return this.fromWireType(de[u>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function Br(t){return this.fromWireType(G[t>>>2>>>0])}var Qr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,R=(t,n)=>{for(var u=t>>1,p=u+n/2;!(u>=p)&&Fe[u>>>0];)++u;if(u<<=1,32<u-t&&Qr)return Qr.decode(Z.subarray(t>>>0,u>>>0));for(u="",p=0;!(p>=n/2);++p){var y=Ee[t+2*p>>>1>>>0];if(y==0)break;u+=String.fromCharCode(y)}return u},wr=(t,n,u)=>{if(u===void 0&&(u=2147483647),2>u)return 0;u-=2;var p=n;u=u<2*t.length?u/2:t.length;for(var y=0;y<u;++y)Ee[n>>>1>>>0]=t.charCodeAt(y),n+=2;return Ee[n>>>1>>>0]=0,n-p},et=t=>2*t.length,Or=(t,n)=>{for(var u=0,p="";!(u>=n/4);){var y=F[t+4*u>>>2>>>0];if(y==0)break;++u,65536<=y?(y-=65536,p+=String.fromCharCode(55296|y>>10,56320|y&1023)):p+=String.fromCharCode(y)}return p},rt=(t,n,u)=>{if(n>>>=0,u===void 0&&(u=2147483647),4>u)return 0;var p=n;u=p+u-4;for(var y=0;y<t.length;++y){var A=t.charCodeAt(y);if(55296<=A&&57343>=A){var D=t.charCodeAt(++y);A=65536+((A&1023)<<10)|D&1023}if(F[n>>>2>>>0]=A,n+=4,n+4>u)break}return F[n>>>2>>>0]=0,n-p},Ut=t=>{for(var n=0,u=0;u<t.length;++u){var p=t.charCodeAt(u);55296<=p&&57343>=p&&++u,n+=4}return n},sr=(t,n)=>{var u=vr[t];if(u===void 0)throw t=Te(t),u=Se(t),De(t),new Le(n+" has unknown type "+u);return u},Dt={},ur=t=>{var n=Dt[t];return n===void 0?Se(t):n},fr=[],Rr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),tt=t=>{var n=fr.length;return fr.push(t),n},Tr=(t,n)=>{for(var u=Array(t),p=0;p<t;++p)u[p]=sr(G[n+4*p>>>2>>>0],"parameter "+p);return u},Wr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},_r={};function nt(t,n){return t=Wr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function at(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var u=nt(n.name||"unknownFunctionName",function(){});return u.prototype=n.prototype,u=new u,t=n.apply(u,t),t instanceof Object?t:u}var ot=t=>{for(var n="",u=0;u<t;++u)n+=(u!==0?", ":"")+"arg"+u;var p="return function emval_allocator_"+t+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(u=0;u<t;++u)p+="var argType"+u+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+u+`');
var arg`+u+" = argType"+u+`.readValueFromPointer(args);
args += argType`+u+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",p+("var obj = new constructor("+n+`);
return valueToHandle(obj);
}
`))(sr,s,Oe,()=>G)},kr={},Ye=t=>t%4===0&&(t%100!==0||t%400===0),Lr=[0,31,60,91,121,152,182,213,244,274,305,335],$r=[0,31,59,90,120,151,181,212,243,273,304,334],Hr=t=>{var n=ze(t)+1,u=lr(n);return u&&ke(t,Z,u,n),u},Ar={},jr=()=>{if(!Er){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},n;for(n in Ar)Ar[n]===void 0?delete t[n]:t[n]=Ar[n];var u=[];for(n in t)u.push(`${n}=${t[n]}`);Er=u}return Er},Er,it=[null,[],[]],Nr=[31,29,31,30,31,30,31,31,30,31,30,31],Me=[31,28,31,30,31,30,31,31,30,31,30,31];function zr(t){var n=Array(ze(t)+1);return ke(t,n,0,n.length),n}function Sr(t,n,u,p){function y(b,q,re){for(b=typeof b=="number"?b.toString():b||"";b.length<q;)b=re[0]+b;return b}function A(b,q){return y(b,q,"0")}function D(b,q){function re(Yr){return 0>Yr?-1:0<Yr?1:0}var xe;return(xe=re(b.getFullYear()-q.getFullYear()))===0&&(xe=re(b.getMonth()-q.getMonth()))===0&&(xe=re(b.getDate()-q.getDate())),xe}function C(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function k(b){var q=b.Ta;for(b=new Date(new Date(b.Ua+1900,0,1).getTime());0<q;){var re=b.getMonth(),xe=(Ye(b.getFullYear())?Nr:Me)[re];if(q>xe-b.getDate())q-=xe-b.getDate()+1,b.setDate(1),11>re?b.setMonth(re+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else{b.setDate(b.getDate()+q);break}}return re=new Date(b.getFullYear()+1,0,4),q=C(new Date(b.getFullYear(),0,4)),re=C(re),0>=D(q,b)?0>=D(re,b)?b.getFullYear()+1:b.getFullYear():b.getFullYear()-1}t>>>=0,n>>>=0,u>>>=0,p>>>=0;var j=G[p+40>>>2>>>0];p={kb:F[p>>>2>>>0],jb:F[p+4>>>2>>>0],Xa:F[p+8>>>2>>>0],ab:F[p+12>>>2>>>0],Ya:F[p+16>>>2>>>0],Ua:F[p+20>>>2>>>0],Oa:F[p+24>>>2>>>0],Ta:F[p+28>>>2>>>0],mb:F[p+32>>>2>>>0],ib:F[p+36>>>2>>>0],lb:j?nr(j):""},u=nr(u),j={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in j)u=u.replace(new RegExp(ne,"g"),j[ne]);var z="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ce="January February March April May June July August September October November December".split(" ");j={"%a":b=>z[b.Oa].substring(0,3),"%A":b=>z[b.Oa],"%b":b=>Ce[b.Ya].substring(0,3),"%B":b=>Ce[b.Ya],"%C":b=>A((b.Ua+1900)/100|0,2),"%d":b=>A(b.ab,2),"%e":b=>y(b.ab,2," "),"%g":b=>k(b).toString().substring(2),"%G":b=>k(b),"%H":b=>A(b.Xa,2),"%I":b=>(b=b.Xa,b==0?b=12:12<b&&(b-=12),A(b,2)),"%j":b=>{for(var q=0,re=0;re<=b.Ya-1;q+=(Ye(b.Ua+1900)?Nr:Me)[re++]);return A(b.ab+q,3)},"%m":b=>A(b.Ya+1,2),"%M":b=>A(b.jb,2),"%n":()=>`
`,"%p":b=>0<=b.Xa&&12>b.Xa?"AM":"PM","%S":b=>A(b.kb,2),"%t":()=>"	","%u":b=>b.Oa||7,"%U":b=>A(Math.floor((b.Ta+7-b.Oa)/7),2),"%V":b=>{var q=Math.floor((b.Ta+7-(b.Oa+6)%7)/7);if(2>=(b.Oa+371-b.Ta-2)%7&&q++,q)q==53&&(re=(b.Oa+371-b.Ta)%7,re==4||re==3&&Ye(b.Ua)||(q=1));else{q=52;var re=(b.Oa+7-b.Ta-1)%7;(re==4||re==5&&Ye(b.Ua%400-1))&&q++}return A(q,2)},"%w":b=>b.Oa,"%W":b=>A(Math.floor((b.Ta+7-(b.Oa+6)%7)/7),2),"%y":b=>(b.Ua+1900).toString().substring(2),"%Y":b=>b.Ua+1900,"%z":b=>{b=b.ib;var q=0<=b;return b=Math.abs(b)/60,(q?"+":"-")+("0000"+(b/60*100+b%60)).slice(-4)},"%Z":b=>b.lb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(ne in j)u.includes(ne)&&(u=u.replace(new RegExp(ne,"g"),j[ne](p)));return u=u.replace(/\0\0/g,"%"),ne=zr(u),ne.length>n?0:(ce.set(ne,t>>>0),ne.length-1)}for(var st=Array(256),Pe=0;256>Pe;++Pe)st[Pe]=String.fromCharCode(Pe);Je=st,Le=s.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},s.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(or.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),ye.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),ye.Va=ye.Sa.length,s.count_emval_handles=()=>{for(var t=0,n=ye.Va;n<ye.Sa.length;++n)ye.Sa[n]!==void 0&&++t;return t};var xt={a:function(t,n,u){throw t>>>=0,new te(t).Za(n>>>0,u>>>0),ue=t,Xe++,ue},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},B:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},E:function(t,n,u,p,y){n>>>=0,n=Se(n);var A=n.indexOf("u")!=-1;A&&(y=(1n<<64n)-1n),Ue(t>>>0,{name:n,fromWireType:D=>D,toWireType:function(D,C){if(typeof C!="bigint"&&typeof C!="number")throw new TypeError(`Cannot convert "${yr(C)}" to ${this.name}`);if(C<p||C>y)throw new TypeError(`Passing a number "${yr(C)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${p}, ${y}]!`);return C},argPackAdvance:8,readValueFromPointer:Zr(n,u>>>0,!A),Wa:null})},ea:function(t,n,u,p){n=Se(n>>>0),Ue(t>>>0,{name:n,fromWireType:function(y){return!!y},toWireType:function(y,A){return A?u:p},argPackAdvance:8,readValueFromPointer:function(y){return this.fromWireType(Z[y>>>0])},Wa:null})},da:function(t,n){n=Se(n>>>0),Ue(t>>>0,{name:n,fromWireType:u=>{var p=he(u);return br(u),p},toWireType:(u,p)=>Oe(p),argPackAdvance:8,readValueFromPointer:ir,Wa:null})},D:function(t,n,u){n=Se(n>>>0),Ue(t>>>0,{name:n,fromWireType:p=>p,toWireType:(p,y)=>y,argPackAdvance:8,readValueFromPointer:Kr(n,u>>>0),Wa:null})},p:function(t,n,u,p,y){if(t>>>=0,u>>>=0,n=Se(n>>>0),y===-1&&(y=4294967295),y=C=>C,p===0){var A=32-8*u;y=C=>C<<A>>>A}var D=n.includes("unsigned")?function(C,k){return k>>>0}:function(C,k){return k};Ue(t,{name:n,fromWireType:y,toWireType:D,argPackAdvance:8,readValueFromPointer:Zr(n,u,p!==0),Wa:null})},l:function(t,n,u){function p(A){return new y(ce.buffer,G[A+4>>>2>>>0],G[A>>>2>>>0])}var y=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];u=Se(u>>>0),Ue(t>>>0,{name:u,fromWireType:p,argPackAdvance:8,readValueFromPointer:p},{gb:!0})},F:function(t,n){n=Se(n>>>0);var u=n==="std::string";Ue(t>>>0,{name:n,fromWireType:function(p){var y=G[p>>>2>>>0],A=p+4;if(u)for(var D=A,C=0;C<=y;++C){var k=A+C;if(C==y||Z[k>>>0]==0){if(D=nr(D,k-D),j===void 0)var j=D;else j+=String.fromCharCode(0),j+=D;D=k+1}}else{for(j=Array(y),C=0;C<y;++C)j[C]=String.fromCharCode(Z[A+C>>>0]);j=j.join("")}return De(p),j},toWireType:function(p,y){y instanceof ArrayBuffer&&(y=new Uint8Array(y));var A=typeof y=="string";if(!(A||y instanceof Uint8Array||y instanceof Uint8ClampedArray||y instanceof Int8Array))throw new Le("Cannot pass non-string to std::string");var D=u&&A?ze(y):y.length,C=lr(4+D+1),k=C+4;if(G[C>>>2>>>0]=D,u&&A)ke(y,Z,k,D+1);else if(A)for(A=0;A<D;++A){var j=y.charCodeAt(A);if(255<j)throw De(k),new Le("String has UTF-16 code units that do not fit in 8 bits");Z[k+A>>>0]=j}else for(A=0;A<D;++A)Z[k+A>>>0]=y[A];return p!==null&&p.push(De,C),C},argPackAdvance:8,readValueFromPointer:Br,Wa(p){De(p)}})},x:function(t,n,u){if(n>>>=0,u>>>=0,u=Se(u),n===2)var p=R,y=wr,A=et,D=()=>Fe,C=1;else n===4&&(p=Or,y=rt,A=Ut,D=()=>G,C=2);Ue(t>>>0,{name:u,fromWireType:k=>{for(var j=G[k>>>2>>>0],ne=D(),z,Ce=k+4,b=0;b<=j;++b){var q=k+4+b*n;(b==j||ne[q>>>C]==0)&&(Ce=p(Ce,q-Ce),z===void 0?z=Ce:(z+=String.fromCharCode(0),z+=Ce),Ce=q+n)}return De(k),z},toWireType:(k,j)=>{if(typeof j!="string")throw new Le(`Cannot pass non-string to C++ string type ${u}`);var ne=A(j),z=lr(4+ne+n);return G[z>>>2]=ne>>C,y(j,z+4,ne+n),k!==null&&k.push(De,z),z},argPackAdvance:8,readValueFromPointer:ir,Wa(k){De(k)}})},fa:function(t,n){n=Se(n>>>0),Ue(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,u){n>>>=0,u>>>=0,t=he(t>>>0),n=sr(n,"emval::as");var p=[],y=Oe(p);return G[u>>>2>>>0]=y,n.toWireType(p,t)},h:function(t,n,u,p,y){u>>>=0,p>>>=0,y>>>=0,t=fr[t>>>0],n=he(n>>>0),u=ur(u);var A=[];return G[p>>>2>>>0]=Oe(A),t(n,u,A,y)},r:function(t,n,u,p){u>>>=0,p>>>=0,t=fr[t>>>0],n=he(n>>>0),u=ur(u),t(n,u,null,p)},b:br,y:function(t,n){return n>>>=0,t=he(t>>>0),n=he(n),t==n},u:function(t){return t>>>=0,t===0?Oe(Rr()):(t=ur(t),Oe(Rr()[t]))},g:function(t,n){var u=Tr(t,n>>>0),p=u[0];n=p.name+"_$"+u.slice(1).map(function(ne){return ne.name}).join("_")+"$";var y=_r[n];if(y!==void 0)return y;y=["retType"];for(var A=[p],D="",C=0;C<t-1;++C)D+=(C!==0?", ":"")+"arg"+C,y.push("argType"+C),A.push(u[1+C]);var k="return function "+Wr("methodCaller_"+n)+`(handle, name, destructors, args) {
`,j=0;for(C=0;C<t-1;++C)k+="    var arg"+C+" = argType"+C+".readValueFromPointer(args"+(j?"+"+j:"")+`);
`,j+=u[C+1].argPackAdvance;for(k+="    var rv = handle[name]("+D+`);
`,C=0;C<t-1;++C)u[C+1].deleteObject&&(k+="    argType"+C+".deleteObject(arg"+C+`);
`);return p.hb||(k+=`    return retType.toWireType(destructors, rv);
`),y.push(k+`};
`),t=at(y).apply(null,A),y=tt(t),_r[n]=y},q:function(t,n){return n>>>=0,t=he(t>>>0),n=he(n),Oe(t[n])},c:function(t){t>>>=0,4<t&&(ye.get(t).cb+=1)},G:function(t,n,u,p){u>>>=0,p>>>=0,t=he(t>>>0);var y=kr[n];return y||(y=ot(n),kr[n]=y),y(t,u,p)},s:function(){return Oe([])},k:function(t){t=he(t>>>0);for(var n=Array(t.length),u=0;u<t.length;u++)n[u]=t[u];return Oe(n)},d:function(t){return Oe(ur(t>>>0))},j:function(){return Oe({})},e:function(t){t>>>=0;for(var n=he(t);n.length;){var u=n.pop();n.pop()(u)}br(t)},i:function(t,n,u){n>>>=0,u>>>=0,t=he(t>>>0),n=he(n),u=he(u),t[n]=u},f:function(t,n){return n>>>=0,t=sr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),Oe(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),F[n>>>2>>>0]=t.getUTCSeconds(),F[n+4>>>2>>>0]=t.getUTCMinutes(),F[n+8>>>2>>>0]=t.getUTCHours(),F[n+12>>>2>>>0]=t.getUTCDate(),F[n+16>>>2>>>0]=t.getUTCMonth(),F[n+20>>>2>>>0]=t.getUTCFullYear()-1900,F[n+24>>>2>>>0]=t.getUTCDay(),F[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),F[n>>>2>>>0]=t.getSeconds(),F[n+4>>>2>>>0]=t.getMinutes(),F[n+8>>>2>>>0]=t.getHours(),F[n+12>>>2>>>0]=t.getDate(),F[n+16>>>2>>>0]=t.getMonth(),F[n+20>>>2>>>0]=t.getFullYear()-1900,F[n+24>>>2>>>0]=t.getDay(),F[n+28>>>2>>>0]=(Ye(t.getFullYear())?Lr:$r)[t.getMonth()]+t.getDate()-1|0,F[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),p=new Date(t.getFullYear(),0,1).getTimezoneOffset();F[n+32>>>2>>>0]=(u!=p&&t.getTimezoneOffset()==Math.min(p,u))|0},U:function(t){t>>>=0;var n=new Date(F[t+20>>>2>>>0]+1900,F[t+16>>>2>>>0],F[t+12>>>2>>>0],F[t+8>>>2>>>0],F[t+4>>>2>>>0],F[t>>>2>>>0],0),u=F[t+32>>>2>>>0],p=n.getTimezoneOffset(),y=new Date(n.getFullYear(),6,1).getTimezoneOffset(),A=new Date(n.getFullYear(),0,1).getTimezoneOffset(),D=Math.min(A,y);return 0>u?F[t+32>>>2>>>0]=+(y!=A&&D==p):0<u!=(D==p)&&(y=Math.max(A,y),n.setTime(n.getTime()+6e4*((0<u?D:y)-p))),F[t+24>>>2>>>0]=n.getDay(),F[t+28>>>2>>>0]=(Ye(n.getFullYear())?Lr:$r)[n.getMonth()]+n.getDate()-1|0,F[t>>>2>>>0]=n.getSeconds(),F[t+4>>>2>>>0]=n.getMinutes(),F[t+8>>>2>>>0]=n.getHours(),F[t+12>>>2>>>0]=n.getDate(),F[t+16>>>2>>>0]=n.getMonth(),F[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,u){function p(k){return(k=k.toTimeString().match(/\(([A-Za-z ]+)\)$/))?k[1]:"GMT"}u>>>=0;var y=new Date().getFullYear(),A=new Date(y,0,1),D=new Date(y,6,1);y=A.getTimezoneOffset();var C=D.getTimezoneOffset();G[t>>>0>>>2>>>0]=60*Math.max(y,C),F[n>>>0>>>2>>>0]=+(y!=C),t=p(A),n=p(D),t=Hr(t),n=Hr(n),C<y?(G[u>>>2>>>0]=t,G[u+4>>>2>>>0]=n):(G[u>>>2>>>0]=n,G[u+4>>>2>>>0]=t)},t:()=>{er("")},C:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,u){return n>>>=0,Z.copyWithin(t>>>0>>>0,n>>>0,n+(u>>>0)>>>0)},I:function(t){t>>>=0;var n=Z.length;if(4294901760<t)return!1;for(var u=1;4>=u;u*=2){var p=n*(1+.2/u);p=Math.min(p,t+100663296);var y=Math;p=Math.max(t,p);e:{y=(y.min.call(y,4294901760,p+(65536-p%65536)%65536)-U.buffer.byteLength+65535)/65536;try{U.grow(y),V();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var u=0;return jr().forEach((p,y)=>{var A=n+u;for(y=G[t+4*y>>>2>>>0]=A,A=0;A<p.length;++A)ce[y++>>>0>>>0]=p.charCodeAt(A);ce[y>>>0>>>0]=0,u+=p.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var u=jr();G[t>>>2>>>0]=u.length;var p=0;return u.forEach(y=>p+=y.length+1),G[n>>>2>>>0]=p,0},w:()=>52,A:function(){return 52},W:function(){return 70},z:function(t,n,u,p){n>>>=0,u>>>=0,p>>>=0;for(var y=0,A=0;A<u;A++){var D=G[n>>>2>>>0],C=G[n+4>>>2>>>0];n+=8;for(var k=0;k<C;k++){var j=Z[D+k>>>0],ne=it[t];j===0||j===10?((t===1?Y:W)(gr(ne,0)),ne.length=0):ne.push(j)}y+=C}return G[p>>>2>>>0]=y,0},ga:Sr,m:function(t,n,u,p){return Sr(t>>>0,n>>>0,u>>>0,p>>>0)}},x=function(){var t={a:xt};return me++,tr(t,function(n){x=n.instance.exports,x=ut(),U=x.ha,V(),je.unshift(x.ia),me--,me==0&&(ee!==null&&(clearInterval(ee),ee=null),pe&&(n=pe,pe=null,n()))}).catch(d),{}}();s._OrtInit=(t,n)=>(s._OrtInit=x.ja)(t,n),s._OrtGetLastError=(t,n)=>(s._OrtGetLastError=x.ka)(t,n),s._OrtCreateSessionOptions=(t,n,u,p,y,A,D,C,k,j)=>(s._OrtCreateSessionOptions=x.la)(t,n,u,p,y,A,D,C,k,j),s._OrtAppendExecutionProvider=(t,n)=>(s._OrtAppendExecutionProvider=x.ma)(t,n),s._OrtAddFreeDimensionOverride=(t,n,u)=>(s._OrtAddFreeDimensionOverride=x.na)(t,n,u),s._OrtAddSessionConfigEntry=(t,n,u)=>(s._OrtAddSessionConfigEntry=x.oa)(t,n,u),s._OrtReleaseSessionOptions=t=>(s._OrtReleaseSessionOptions=x.pa)(t),s._OrtCreateSession=(t,n,u)=>(s._OrtCreateSession=x.qa)(t,n,u),s._OrtReleaseSession=t=>(s._OrtReleaseSession=x.ra)(t),s._OrtGetInputOutputCount=(t,n,u)=>(s._OrtGetInputOutputCount=x.sa)(t,n,u),s._OrtGetInputName=(t,n)=>(s._OrtGetInputName=x.ta)(t,n),s._OrtGetOutputName=(t,n)=>(s._OrtGetOutputName=x.ua)(t,n),s._OrtFree=t=>(s._OrtFree=x.va)(t),s._OrtCreateTensor=(t,n,u,p,y,A)=>(s._OrtCreateTensor=x.wa)(t,n,u,p,y,A),s._OrtGetTensorData=(t,n,u,p,y)=>(s._OrtGetTensorData=x.xa)(t,n,u,p,y),s._OrtReleaseTensor=t=>(s._OrtReleaseTensor=x.ya)(t),s._OrtCreateRunOptions=(t,n,u,p)=>(s._OrtCreateRunOptions=x.za)(t,n,u,p),s._OrtAddRunConfigEntry=(t,n,u)=>(s._OrtAddRunConfigEntry=x.Aa)(t,n,u),s._OrtReleaseRunOptions=t=>(s._OrtReleaseRunOptions=x.Ba)(t),s._OrtCreateBinding=t=>(s._OrtCreateBinding=x.Ca)(t),s._OrtBindInput=(t,n,u)=>(s._OrtBindInput=x.Da)(t,n,u),s._OrtBindOutput=(t,n,u,p)=>(s._OrtBindOutput=x.Ea)(t,n,u,p),s._OrtClearBoundOutputs=t=>(s._OrtClearBoundOutputs=x.Fa)(t),s._OrtReleaseBinding=t=>(s._OrtReleaseBinding=x.Ga)(t),s._OrtRunWithBinding=(t,n,u,p,y)=>(s._OrtRunWithBinding=x.Ha)(t,n,u,p,y),s._OrtRun=(t,n,u,p,y,A,D,C)=>(s._OrtRun=x.Ia)(t,n,u,p,y,A,D,C),s._OrtEndProfiling=t=>(s._OrtEndProfiling=x.Ja)(t);var lr=s._malloc=t=>(lr=s._malloc=x.Ka)(t),De=s._free=t=>(De=s._free=x.La)(t),Te=t=>(Te=x.Ma)(t);s.__embind_initialize_bindings=()=>(s.__embind_initialize_bindings=x.Na)();var Mr=()=>(Mr=x.Pa)(),ge=t=>(ge=x.Qa)(t),_e=t=>(_e=x.Ra)(t);function ut(){var t=x;t=Object.assign({},t);var n=p=>()=>p()>>>0,u=p=>y=>p(y)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=u(t.Ka),t.Ma=u(t.Ma),t.Pa=n(t.Pa),t.Ra=u(t.Ra),t}s.stackAlloc=_e,s.stackSave=Mr,s.stackRestore=ge,s.UTF8ToString=nr,s.stringToUTF8=(t,n,u)=>ke(t,Z,n,u),s.lengthBytesUTF8=ze;var Pr;pe=function t(){Pr||ft(),Pr||(pe=t)};function ft(){if(!(0<me)){for(;0<Q.length;)Q.shift()(s);if(!(0<me||Pr||(Pr=!0,s.calledRun=!0,J))){for(;0<je.length;)je.shift()(s);for(m(s);0<be.length;)be.shift()(s)}}}return ft(),o.ready}})();typeof ia=="object"&&typeof Xt=="object"?Xt.exports=oa:typeof define=="function"&&define.amd&&define([],()=>oa)});var ua=Ir(()=>{});var fa=Ir(()=>{});var la={};Gr(la,{cpus:()=>go});var go,ca=K(()=>{go=void 0});var ma=Ir((pa,Jt)=>{"use strict";var da=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(o={}){function s(){return Q.buffer!=ee.buffer&&te(),ee}function m(){return Q.buffer!=ee.buffer&&te(),pe}function d(){return Q.buffer!=ee.buffer&&te(),er}function w(){return Q.buffer!=ee.buffer&&te(),$e}function c(){return Q.buffer!=ee.buffer&&te(),Re}function g(){return Q.buffer!=ee.buffer&&te(),qe}function T(){return Q.buffer!=ee.buffer&&te(),tr}var f=o,_,S;f.ready=new Promise((e,r)=>{_=e,S=r});var E=Object.assign({},f),I="./this.program",H=(e,r)=>{throw r},L=typeof window=="object",Y=typeof importScripts=="function",W=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U=f.ENVIRONMENT_IS_PTHREAD||!1,J="";function ce(e){return f.locateFile?f.locateFile(e,J):J+e}var Z,Ee,Fe;if(W){var F=(Gt(),Fr(Yt)),G=(qt(),Fr(Vt));J=Y?G.dirname(J)+"/":__dirname+"/",Z=(r,a)=>(r=r.startsWith("file://")?new URL(r):G.normalize(r),F.readFileSync(r,a?void 0:"utf8")),Fe=r=>(r=Z(r,!0),r.buffer||(r=new Uint8Array(r)),r),Ee=(r,a,l,h=!0)=>{r=r.startsWith("file://")?new URL(r):G.normalize(r),F.readFile(r,h?void 0:"utf8",(v,M)=>{v?l(v):a(h?M.buffer:M)})},!f.thisProgram&&1<process.argv.length&&(I=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),H=(r,a)=>{throw process.exitCode=r,a},f.inspect=()=>"[Emscripten Module object]";let e;try{e=ua()}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}global.Worker=e.Worker}else(L||Y)&&(Y?J=self.location.href:typeof document<"u"&&document.currentScript&&(J=document.currentScript.src),typeof i<"u"&&i&&(J=i),J.indexOf("blob:")!==0?J=J.substr(0,J.replace(/[?#].*/,"").lastIndexOf("/")+1):J="",W||(Z=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Y&&(Fe=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Ee=(e,r,a)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):a()},l.onerror=a,l.send(null)}));W&&typeof performance>"u"&&(global.performance=fa().performance);var Ze=console.log.bind(console),Ke=console.error.bind(console);W&&(Ze=(...e)=>F.writeSync(1,e.join(" ")+`
`),Ke=(...e)=>F.writeSync(2,e.join(" ")+`
`));var Qe=Ze,de=Ke;Object.assign(f,E),E=null;var V=!0;typeof WebAssembly!="object"&&He("no native wasm support detected");var Q,je,be=!1,me,ee,pe,er,$e,Re,qe,rr,we,We,tr;function te(){var e=Q.buffer;f.HEAP8=ee=new Int8Array(e),f.HEAP16=er=new Int16Array(e),f.HEAPU8=pe=new Uint8Array(e),f.HEAPU16=$e=new Uint16Array(e),f.HEAP32=Re=new Int32Array(e),f.HEAPU32=qe=new Uint32Array(e),f.HEAPF32=rr=new Float32Array(e),f.HEAPF64=tr=new Float64Array(e),f.HEAP64=we=new BigInt64Array(e),f.HEAPU64=We=new BigUint64Array(e)}var ue=16777216;if(5242880<=ue||He("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ue+"! (STACK_SIZE=5242880)"),U)Q=f.wasmMemory;else if(Q=new WebAssembly.Memory({initial:ue/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw de("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),W&&de("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");te(),ue=Q.buffer.byteLength;var Xe=[],Ne=[],gr=[],nr=0;function ze(){return V||0<nr}var ke=0,yr=null,Je=null;function Se(){if(ke--,ke==0&&(yr!==null&&(clearInterval(yr),yr=null),Je)){var e=Je;Je=null,e()}}function He(e){throw e="Aborted("+e+")",de(e),be=!0,me=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),S(e),e}function vr(e){return e.startsWith("data:application/octet-stream;base64,")}var ar;ar="ort-wasm-threaded.wasm",vr(ar)||(ar=ce(ar));function Le(e){if(Fe)return Fe(e);throw"both async and sync fetching of the wasm failed"}function Ft(e){if(L||Y){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Le(e));if(Ee)return new Promise((r,a)=>{Ee(e,l=>r(new Uint8Array(l)),a)})}return Promise.resolve().then(()=>Le(e))}function Ue(e,r,a){return Ft(e).then(l=>WebAssembly.instantiate(l,r)).then(l=>l).then(a,l=>{de(`failed to asynchronously prepare wasm: ${l}`),He(l)})}function Zr(e,r){var a=ar;return typeof WebAssembly.instantiateStreaming!="function"||vr(a)||a.startsWith("file://")||W||typeof fetch!="function"?Ue(a,e,r):fetch(a,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(h){return de(`wasm streaming compile failed: ${h}`),de("falling back to ArrayBuffer instantiation"),Ue(a,e,r)}))}function or(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ye=e=>{e.terminate(),e.onmessage=()=>{}},br=e=>{if(R.qb.length==0){var r=ce("ort-wasm-threaded.worker.js");r=new Worker(r),R.qb.push(r),R.Jb(R.qb[0])}if(r=R.qb.pop(),!r)return 6;R.nb.push(r),R.jb[e.mb]=r,r.mb=e.mb;var a={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return W&&r.unref(),r.postMessage(a,e.Sb),0},he=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Oe=(e,r,a)=>{r>>>=0;var l=r+a;for(a=r;e[a]&&!(a>=l);)++a;if(16<a-r&&e.buffer&&he)return he.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(l="";r<a;){var h=e[r++];if(h&128){var v=e[r++]&63;if((h&224)==192)l+=String.fromCharCode((h&31)<<6|v);else{var M=e[r++]&63;h=(h&240)==224?(h&15)<<12|v<<6|M:(h&7)<<18|v<<12|M<<6|e[r++]&63,65536>h?l+=String.fromCharCode(h):(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else l+=String.fromCharCode(h)}return l},ir=(e,r)=>(e>>>=0)?Oe(m(),e,r):"";function Kr(e){if(U)return z(0,1,e);me=e,ze()||(R.Nb(),be=!0),H(e,new or(e))}var Br=e=>{if(me=e,U)throw et(e),"unwind";Kr(e)};function Qr(){Xe.unshift(()=>{ke++,Se()})}var R={qb:[],nb:[],Eb:[],jb:{},vb(){U?(R.receiveObjectTransfer=R.Lb,R.threadInitTLS=R.Db,R.setExitStatus=R.Cb,V=!1):Qr()},Cb:e=>{me=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of R.nb)ye(e);for(e of R.qb)ye(e);R.qb=[],R.nb=[],R.jb=[]},Bb:e=>{var r=e.mb;delete R.jb[r],R.qb.push(e),R.nb.splice(R.nb.indexOf(e),1),e.mb=0,Wt(r)},Lb(){},Db(){R.Eb.forEach(e=>e())},Jb:e=>new Promise(r=>{e.onmessage=v=>{v=v.data;var M=v.cmd;if(v.targetThread&&v.targetThread!=ct()){var P=R.jb[v.targetThread];P?P.postMessage(v,v.transferList):de(`Internal error! Worker sent a message "${M}" to target pthread ${v.targetThread}, but that thread no longer exists!`)}else M==="checkMailbox"?j():M==="spawnThread"?br(v):M==="cleanupThread"?((v=R.jb[v.thread])||He(),R.Bb(v)):M==="killThread"?(v=v.thread,M=R.jb[v],delete R.jb[v],ye(M),Wt(v),R.nb.splice(R.nb.indexOf(M),1),M.mb=0):M==="cancelThread"?R.jb[v.thread].postMessage({cmd:"cancel"}):M==="loaded"?(e.loaded=!0,r(e)):M==="alert"?alert(`Thread ${v.threadId}: ${v.text}`):v.target==="setimmediate"?e.postMessage(v):M==="callHandler"?f[v.handler](...v.args):M&&de(`worker sent an unknown command ${M}`)},e.onerror=v=>{throw de(`worker sent an error! ${v.filename}:${v.lineno}: ${v.message}`),v},W&&(e.on("message",v=>e.onmessage({data:v})),e.on("error",v=>e.onerror(v)));var a=[],l=[],h;for(h of l)f.hasOwnProperty(h)&&a.push(h);e.postMessage({cmd:"load",handlers:a,urlOrBlob:f.mainScriptUrlOrBlob||i,wasmMemory:Q,wasmModule:je})})};f.PThread=R;var wr=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=ct(),r=g()[e+52>>>2>>>0];e=g()[e+56>>>2>>>0],In(r,r-e),pt(r)};function et(e){if(U)return z(1,0,e);Br(e)}var Or=[],rt;f.invokeEntryPoint=(e,r)=>{var a=Or[e];a||(e>=Or.length&&(Or.length=e+1),Or[e]=a=rt.get(e)),e=a(r),ze()?R.Cb(e):kt(e)};function Ut(e){this.sb=e-24,this.Kb=function(r){g()[this.sb+4>>>2>>>0]=r},this.xb=function(r){g()[this.sb+8>>>2>>>0]=r},this.vb=function(r,a){this.wb(),this.Kb(r),this.xb(a)},this.wb=function(){g()[this.sb+16>>>2>>>0]=0}}var sr=0,Dt=0;function ur(e,r,a,l){return U?z(2,1,e,r,a,l):fr(e,r,a,l)}function fr(e,r,a,l){if(e>>>=0,r>>>=0,a>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return de("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return U&&h.length===0?ur(e,r,a,l):(e={Mb:a,mb:e,Fb:l,Sb:h},U?(e.Ub="spawnThread",postMessage(e,h),0):br(e))}function Rr(e,r,a){return U?z(3,1,e,r,a):0}function tt(e,r){if(U)return z(4,1,e,r)}var Tr=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++a):r+=3}return r},Wr=(e,r,a,l)=>{if(a>>>=0,!(0<l))return 0;var h=a;l=a+l-1;for(var v=0;v<e.length;++v){var M=e.charCodeAt(v);if(55296<=M&&57343>=M){var P=e.charCodeAt(++v);M=65536+((M&1023)<<10)|P&1023}if(127>=M){if(a>=l)break;r[a++>>>0]=M}else{if(2047>=M){if(a+1>=l)break;r[a++>>>0]=192|M>>6}else{if(65535>=M){if(a+2>=l)break;r[a++>>>0]=224|M>>12}else{if(a+3>=l)break;r[a++>>>0]=240|M>>18,r[a++>>>0]=128|M>>12&63}r[a++>>>0]=128|M>>6&63}r[a++>>>0]=128|M&63}}return r[a>>>0]=0,a-h},_r=(e,r,a)=>Wr(e,m(),r,a);function nt(e,r){if(U)return z(5,1,e,r)}function at(e,r,a){if(U)return z(6,1,e,r,a)}function ot(e,r,a){return U?z(7,1,e,r,a):0}function kr(e,r){if(U)return z(8,1,e,r)}function Ye(e,r,a){if(U)return z(9,1,e,r,a)}function Lr(e,r,a,l){if(U)return z(10,1,e,r,a,l)}function $r(e,r,a,l){if(U)return z(11,1,e,r,a,l)}function Hr(e,r,a,l){if(U)return z(12,1,e,r,a,l)}function Ar(e){if(U)return z(13,1,e)}function jr(e,r){if(U)return z(14,1,e,r)}function Er(e,r,a){if(U)return z(15,1,e,r,a)}var it=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Nr,Me=e=>{for(var r="";m()[e>>>0];)r+=Nr[m()[e++>>>0]];return r},zr={},Sr={},st={},Pe;function xt(e,r,a={}){var l=r.name;if(!e)throw new Pe(`type "${l}" must have a positive integer typeid pointer`);if(Sr.hasOwnProperty(e)){if(a.Hb)return;throw new Pe(`Cannot register type '${l}' twice`)}Sr[e]=r,delete st[e],zr.hasOwnProperty(e)&&(r=zr[e],delete zr[e],r.forEach(h=>h()))}function x(e,r,a={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");xt(e,r,a)}var lr=(e,r,a)=>{switch(r){case 1:return a?l=>s()[l>>>0>>>0]:l=>m()[l>>>0>>>0];case 2:return a?l=>d()[l>>>1>>>0]:l=>w()[l>>>1>>>0];case 4:return a?l=>c()[l>>>2>>>0]:l=>g()[l>>>2>>>0];case 8:return a?l=>we[l>>>3]:l=>We[l>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function De(){this.lb=[void 0],this.zb=[]}var Te=new De;function Mr(e){e>>>=0,e>=Te.sb&&--Te.get(e).Ab===0&&Te.xb(e)}var ge=e=>{if(!e)throw new Pe("Cannot use deleted val. handle = "+e);return Te.get(e).value},_e=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Te.wb({Ab:1,value:e})}};function ut(e){return this.fromWireType(c()[e>>>2>>>0])}var Pr=(e,r)=>{switch(r){case 4:return function(a){var l=this.fromWireType;return Q.buffer!=ee.buffer&&te(),l.call(this,rr[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(T()[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function ft(e){return this.fromWireType(g()[e>>>2>>>0])}var t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,r)=>{for(var a=e>>1,l=a+r/2;!(a>=l)&&w()[a>>>0];)++a;if(a<<=1,32<a-e&&t)return t.decode(m().slice(e,a));for(a="",l=0;!(l>=r/2);++l){var h=d()[e+2*l>>>1>>>0];if(h==0)break;a+=String.fromCharCode(h)}return a},u=(e,r,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var l=r;a=a<2*e.length?a/2:e.length;for(var h=0;h<a;++h){var v=e.charCodeAt(h);d()[r>>>1>>>0]=v,r+=2}return d()[r>>>1>>>0]=0,r-l},p=e=>2*e.length,y=(e,r)=>{for(var a=0,l="";!(a>=r/4);){var h=c()[e+4*a>>>2>>>0];if(h==0)break;++a,65536<=h?(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023)):l+=String.fromCharCode(h)}return l},A=(e,r,a)=>{if(r>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var l=r;a=l+a-4;for(var h=0;h<e.length;++h){var v=e.charCodeAt(h);if(55296<=v&&57343>=v){var M=e.charCodeAt(++h);v=65536+((v&1023)<<10)|M&1023}if(c()[r>>>2>>>0]=v,r+=4,r+4>a)break}return c()[r>>>2>>>0]=0,r-l},D=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);55296<=l&&57343>=l&&++a,r+=4}return r},C=e=>{if(!be)try{if(e(),!ze())try{U?kt(me):Br(me)}catch(r){r instanceof or||r=="unwind"||H(1,r)}}catch(r){r instanceof or||r=="unwind"||H(1,r)}};function k(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(c(),e>>>2,e).value.then(j),e+=128,Atomics.store(c(),e>>>2,1))}f.__emscripten_thread_mailbox_await=k;var j=()=>{var e=ct();e&&(k(e),C(()=>Cn()))};f.checkMailbox=j;var ne=e=>{var r=Lt();return e=e(),pt(r),e};function z(e,r){var a=arguments.length-2,l=arguments;return ne(()=>{for(var h=2*a,v=$t(8*h),M=v>>>3,P=0;P<a;P++){var $=l[2+P];typeof $=="bigint"?(we[M+2*P]=1n,we[M+2*P+1]=$):(we[M+2*P]=0n,T()[M+2*P+1>>>0]=$)}return Pn(e,h,v,r)})}var Ce=[],b=(e,r)=>{var a=Sr[e];if(a===void 0)throw e=Sn(e),a=Me(e),Ge(e),new Pe(r+" has unknown type "+a);return a},q={},re=e=>{var r=q[e];return r===void 0?Me(e):r},xe=[],Yr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Xa=e=>{var r=xe.length;return xe.push(e),r},Ja=(e,r)=>{for(var a=Array(e),l=0;l<e;++l)a[l]=b(g()[r+4*l>>>2>>>0],"parameter "+l);return a},sn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},un={};function Za(e,r){return e=sn(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function Ka(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var a=Za(r.name||"unknownFunctionName",function(){});return a.prototype=r.prototype,a=new a,e=r.apply(a,e),e instanceof Object?e:a}var Qa=e=>{for(var r="",a=0;a<e;++a)r+=(a!==0?", ":"")+"arg"+a;var l="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(a=0;a<e;++a)l+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+a+`');
var arg`+a+" = argType"+a+`.readValueFromPointer(args);
args += argType`+a+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",l+("var obj = new constructor("+r+`);
return valueToHandle(obj);
}
`))(b,f,_e,()=>g())},fn={},Cr=e=>e%4===0&&(e%100!==0||e%400===0),ln=[0,31,60,91,121,152,182,213,244,274,305,335],cn=[0,31,59,90,120,151,181,212,243,273,304,334];function dn(e,r,a,l,h,v,M){return U?z(16,1,e,r,a,l,h,v,M):-52}function pn(e,r,a,l,h,v){if(U)return z(17,1,e,r,a,l,h,v)}var mn=e=>{var r=Tr(e)+1,a=dt(r);return a&&_r(e,a,r),a},Bt={},hn=()=>{if(!Rt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},r;for(r in Bt)Bt[r]===void 0?delete e[r]:e[r]=Bt[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);Rt=a}return Rt},Rt;function gn(e,r){if(U)return z(18,1,e,r);e>>>=0,r>>>=0;var a=0;return hn().forEach((l,h)=>{var v=r+a;for(h=g()[e+4*h>>>2>>>0]=v,v=0;v<l.length;++v)s()[h++>>>0>>>0]=l.charCodeAt(v);s()[h>>>0>>>0]=0,a+=l.length+1}),0}function yn(e,r){if(U)return z(19,1,e,r);e>>>=0,r>>>=0;var a=hn();g()[e>>>2>>>0]=a.length;var l=0;return a.forEach(h=>l+=h.length+1),g()[r>>>2>>>0]=l,0}function vn(e){return U?z(20,1,e):52}function bn(e,r,a,l){return U?z(21,1,e,r,a,l):52}function wn(e,r,a,l){return U?z(22,1,e,r,a,l):70}var eo=[null,[],[]];function On(e,r,a,l){if(U)return z(23,1,e,r,a,l);r>>>=0,a>>>=0,l>>>=0;for(var h=0,v=0;v<a;v++){var M=g()[r>>>2>>>0],P=g()[r+4>>>2>>>0];r+=8;for(var $=0;$<P;$++){var N=m()[M+$>>>0],oe=eo[e];N===0||N===10?((e===1?Qe:de)(Oe(oe,0)),oe.length=0):oe.push(N)}h+=P}return g()[l>>>2>>>0]=h,0}var Tn=[31,29,31,30,31,30,31,31,30,31,30,31],_n=[31,28,31,30,31,30,31,31,30,31,30,31];function ro(e){var r=Array(Tr(e)+1);return Wr(e,r,0,r.length),r}var to=(e,r)=>{s().set(e,r>>>0)};function An(e,r,a,l){function h(O,X,ie){for(O=typeof O=="number"?O.toString():O||"";O.length<X;)O=ie[0]+O;return O}function v(O,X){return h(O,X,"0")}function M(O,X){function ie(Un){return 0>Un?-1:0<Un?1:0}var cr;return(cr=ie(O.getFullYear()-X.getFullYear()))===0&&(cr=ie(O.getMonth()-X.getMonth()))===0&&(cr=ie(O.getDate()-X.getDate())),cr}function P(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function $(O){var X=O.ob;for(O=new Date(new Date(O.pb+1900,0,1).getTime());0<X;){var ie=O.getMonth(),cr=(Cr(O.getFullYear())?Tn:_n)[ie];if(X>cr-O.getDate())X-=cr-O.getDate()+1,O.setDate(1),11>ie?O.setMonth(ie+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+X);break}}return ie=new Date(O.getFullYear()+1,0,4),X=P(new Date(O.getFullYear(),0,4)),ie=P(ie),0>=M(X,O)?0>=M(ie,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,l>>>=0;var N=g()[l+40>>>2>>>0];l={Qb:c()[l>>>2>>>0],Pb:c()[l+4>>>2>>>0],tb:c()[l+8>>>2>>>0],yb:c()[l+12>>>2>>>0],ub:c()[l+16>>>2>>>0],pb:c()[l+20>>>2>>>0],kb:c()[l+24>>>2>>>0],ob:c()[l+28>>>2>>>0],Wb:c()[l+32>>>2>>>0],Ob:c()[l+36>>>2>>>0],Rb:N?ir(N):""},a=ir(a),N={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var oe in N)a=a.replace(new RegExp(oe,"g"),N[oe]);var Ie="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ve="January February March April May June July August September October November December".split(" ");N={"%a":O=>Ie[O.kb].substring(0,3),"%A":O=>Ie[O.kb],"%b":O=>Ve[O.ub].substring(0,3),"%B":O=>Ve[O.ub],"%C":O=>v((O.pb+1900)/100|0,2),"%d":O=>v(O.yb,2),"%e":O=>h(O.yb,2," "),"%g":O=>$(O).toString().substring(2),"%G":O=>$(O),"%H":O=>v(O.tb,2),"%I":O=>(O=O.tb,O==0?O=12:12<O&&(O-=12),v(O,2)),"%j":O=>{for(var X=0,ie=0;ie<=O.ub-1;X+=(Cr(O.pb+1900)?Tn:_n)[ie++]);return v(O.yb+X,3)},"%m":O=>v(O.ub+1,2),"%M":O=>v(O.Pb,2),"%n":()=>`
`,"%p":O=>0<=O.tb&&12>O.tb?"AM":"PM","%S":O=>v(O.Qb,2),"%t":()=>"	","%u":O=>O.kb||7,"%U":O=>v(Math.floor((O.ob+7-O.kb)/7),2),"%V":O=>{var X=Math.floor((O.ob+7-(O.kb+6)%7)/7);if(2>=(O.kb+371-O.ob-2)%7&&X++,X)X==53&&(ie=(O.kb+371-O.ob)%7,ie==4||ie==3&&Cr(O.pb)||(X=1));else{X=52;var ie=(O.kb+7-O.ob-1)%7;(ie==4||ie==5&&Cr(O.pb%400-1))&&X++}return v(X,2)},"%w":O=>O.kb,"%W":O=>v(Math.floor((O.ob+7-(O.kb+6)%7)/7),2),"%y":O=>(O.pb+1900).toString().substring(2),"%Y":O=>O.pb+1900,"%z":O=>{O=O.Ob;var X=0<=O;return O=Math.abs(O)/60,(X?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.Rb,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(oe in N)a.includes(oe)&&(a=a.replace(new RegExp(oe,"g"),N[oe](l)));return a=a.replace(/\0\0/g,"%"),oe=ro(a),oe.length>r?0:(to(oe,e),oe.length-1)}R.vb();for(var En=Array(256),lt=0;256>lt;++lt)En[lt]=String.fromCharCode(lt);Nr=En,Pe=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(De.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),Te.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),Te.sb=Te.lb.length,f.count_emval_handles=()=>{for(var e=0,r=Te.sb;r<Te.lb.length;++r)Te.lb[r]!==void 0&&++e;return e};var no=[Kr,et,ur,Rr,tt,nt,at,ot,kr,Ye,Lr,$r,Hr,Ar,jr,Er,dn,pn,gn,yn,vn,bn,wn,On],ao={b:function(e,r,a){throw e>>>=0,new Ut(e).vb(r>>>0,a>>>0),sr=e,Dt++,sr},ea:function(e){Mn(e>>>0,!Y,1,!L,131072,!1),R.Db()},E:function(e){e>>>=0,U?postMessage({cmd:"cleanupThread",thread:e}):((e=R.jb[e])||He(),R.Bb(e))},W:fr,y:Rr,ka:tt,S:nt,U:at,L:ot,ia:kr,ba:Ye,ha:Lr,G:$r,T:Hr,Q:Ar,ja:jr,R:Er,J:function(e,r,a,l,h){e>>>=0,r>>>=0,a>>>=0,r=Me(r);var v=r.indexOf("u")!=-1;v&&(h=(1n<<64n)-1n),x(e,{name:r,fromWireType:M=>M,toWireType:function(M,P){if(typeof P!="bigint"&&typeof P!="number")throw new TypeError(`Cannot convert "${it(P)}" to ${this.name}`);if(P<l||P>h)throw new TypeError(`Passing a number "${it(P)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${l}, ${h}]!`);return P},argPackAdvance:8,readValueFromPointer:lr(r,a,!v),rb:null})},qa:function(e,r,a,l){e>>>=0,r=Me(r>>>0),x(e,{name:r,fromWireType:function(h){return!!h},toWireType:function(h,v){return v?a:l},argPackAdvance:8,readValueFromPointer:function(h){return this.fromWireType(m()[h>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=Me(r>>>0),x(e,{name:r,fromWireType:a=>{var l=ge(a);return Mr(a),l},toWireType:(a,l)=>_e(l),argPackAdvance:8,readValueFromPointer:ut,rb:null})},I:function(e,r,a){e>>>=0,a>>>=0,r=Me(r>>>0),x(e,{name:r,fromWireType:l=>l,toWireType:(l,h)=>h,argPackAdvance:8,readValueFromPointer:Pr(r,a),rb:null})},u:function(e,r,a,l,h){if(e>>>=0,a>>>=0,r=Me(r>>>0),h===-1&&(h=4294967295),h=P=>P,l===0){var v=32-8*a;h=P=>P<<v>>>v}var M=r.includes("unsigned")?function(P,$){return $>>>0}:function(P,$){return $};x(e,{name:r,fromWireType:h,toWireType:M,argPackAdvance:8,readValueFromPointer:lr(r,a,l!==0),rb:null})},m:function(e,r,a){function l(v){var M=g()[v>>>2>>>0];return v=g()[v+4>>>2>>>0],new h(s().buffer,v,M)}e>>>=0;var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];a=Me(a>>>0),x(e,{name:a,fromWireType:l,argPackAdvance:8,readValueFromPointer:l},{Hb:!0})},K:function(e,r){e>>>=0,r=Me(r>>>0);var a=r==="std::string";x(e,{name:r,fromWireType:function(l){var h=g()[l>>>2>>>0],v=l+4;if(a)for(var M=v,P=0;P<=h;++P){var $=v+P;if(P==h||m()[$>>>0]==0){if(M=ir(M,$-M),N===void 0)var N=M;else N+=String.fromCharCode(0),N+=M;M=$+1}}else{for(N=Array(h),P=0;P<h;++P)N[P]=String.fromCharCode(m()[v+P>>>0]);N=N.join("")}return Ge(l),N},toWireType:function(l,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var v=typeof h=="string";if(!(v||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array))throw new Pe("Cannot pass non-string to std::string");var M=a&&v?Tr(h):h.length,P=dt(4+M+1),$=P+4;if(g()[P>>>2>>>0]=M,a&&v)_r(h,$,M+1);else if(v)for(v=0;v<M;++v){var N=h.charCodeAt(v);if(255<N)throw Ge($),new Pe("String has UTF-16 code units that do not fit in 8 bits");m()[$+v>>>0]=N}else for(v=0;v<M;++v)m()[$+v>>>0]=h[v];return l!==null&&l.push(Ge,P),P},argPackAdvance:8,readValueFromPointer:ft,rb(l){Ge(l)}})},A:function(e,r,a){if(e>>>=0,r>>>=0,a>>>=0,a=Me(a),r===2)var l=n,h=u,v=p,M=()=>w(),P=1;else r===4&&(l=y,h=A,v=D,M=()=>g(),P=2);x(e,{name:a,fromWireType:$=>{for(var N=g()[$>>>2>>>0],oe=M(),Ie,Ve=$+4,O=0;O<=N;++O){var X=$+4+O*r;(O==N||oe[X>>>P]==0)&&(Ve=l(Ve,X-Ve),Ie===void 0?Ie=Ve:(Ie+=String.fromCharCode(0),Ie+=Ve),Ve=X+r)}return Ge($),Ie},toWireType:($,N)=>{if(typeof N!="string")throw new Pe(`Cannot pass non-string to C++ string type ${a}`);var oe=v(N),Ie=dt(4+oe+r);return g()[Ie>>>2]=oe>>P,h(N,Ie+4,oe+r),$!==null&&$.push(Ge,Ie),Ie},argPackAdvance:8,readValueFromPointer:ut,rb($){Ge($)}})},ra:function(e,r){e>>>=0,r=Me(r>>>0),x(e,{Ib:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>j()):U?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=R.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,a,l){r>>>=0,a/=2,Ce.length=a,l=l>>>0>>>3;for(var h=0;h<a;h++)Ce[h]=we[l+2*h]?we[l+2*h+1]:T()[l+2*h+1>>>0];return e=no[e],R.Gb=r,r=e.apply(null,Ce),R.Gb=0,r},da:k,ma:function(e){W&&R.jb[e>>>0].ref()},r:function(e,r,a){r>>>=0,a>>>=0,e=ge(e>>>0),r=b(r,"emval::as");var l=[],h=_e(l);return g()[a>>>2>>>0]=h,r.toWireType(l,e)},i:function(e,r,a,l,h){a>>>=0,l>>>=0,h>>>=0,e=xe[e>>>0],r=ge(r>>>0),a=re(a);var v=[];return g()[l>>>2>>>0]=_e(v),e(r,a,v,h)},s:function(e,r,a,l){a>>>=0,l>>>=0,e=xe[e>>>0],r=ge(r>>>0),a=re(a),e(r,a,null,l)},c:Mr,B:function(e,r){return r>>>=0,e=ge(e>>>0),r=ge(r),e==r},o:function(e){return e>>>=0,e===0?_e(Yr()):(e=re(e),_e(Yr()[e]))},g:function(e,r){var a=Ja(e,r>>>0),l=a[0];r=l.name+"_$"+a.slice(1).map(function(oe){return oe.name}).join("_")+"$";var h=un[r];if(h!==void 0)return h;h=["retType"];for(var v=[l],M="",P=0;P<e-1;++P)M+=(P!==0?", ":"")+"arg"+P,h.push("argType"+P),v.push(a[1+P]);var $="return function "+sn("methodCaller_"+r)+`(handle, name, destructors, args) {
`,N=0;for(P=0;P<e-1;++P)$+="    var arg"+P+" = argType"+P+".readValueFromPointer(args"+(N?"+"+N:"")+`);
`,N+=a[P+1].argPackAdvance;for($+="    var rv = handle[name]("+M+`);
`,P=0;P<e-1;++P)a[P+1].deleteObject&&($+="    argType"+P+".deleteObject(arg"+P+`);
`);return l.Ib||($+=`    return retType.toWireType(destructors, rv);
`),h.push($+`};
`),e=Ka(h).apply(null,v),h=Xa(e),un[r]=h},q:function(e,r){return r>>>=0,e=ge(e>>>0),r=ge(r),_e(e[r])},d:function(e){e>>>=0,4<e&&(Te.get(e).Ab+=1)},x:function(e,r,a,l){a>>>=0,l>>>=0,e=ge(e>>>0);var h=fn[r];return h||(h=Qa(r),fn[r]=h),h(e,a,l)},v:function(){return _e([])},l:function(e){e=ge(e>>>0);for(var r=Array(e.length),a=0;a<e.length;a++)r[a]=e[a];return _e(r)},e:function(e){return _e(re(e>>>0))},k:function(){return _e({})},f:function(e){e>>>=0;for(var r=ge(e);r.length;){var a=r.pop();r.pop()(a)}Mr(e)},j:function(e,r,a){r>>>=0,a>>>=0,e=ge(e>>>0),r=ge(r),a=ge(a),e[r]=a},h:function(e,r){return r>>>=0,e=b(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),_e(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),c()[r>>>2>>>0]=e.getUTCSeconds(),c()[r+4>>>2>>>0]=e.getUTCMinutes(),c()[r+8>>>2>>>0]=e.getUTCHours(),c()[r+12>>>2>>>0]=e.getUTCDate(),c()[r+16>>>2>>>0]=e.getUTCMonth(),c()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,c()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),c()[r>>>2>>>0]=e.getSeconds(),c()[r+4>>>2>>>0]=e.getMinutes(),c()[r+8>>>2>>>0]=e.getHours(),c()[r+12>>>2>>>0]=e.getDate(),c()[r+16>>>2>>>0]=e.getMonth(),c()[r+20>>>2>>>0]=e.getFullYear()-1900,c()[r+24>>>2>>>0]=e.getDay();var a=(Cr(e.getFullYear())?ln:cn)[e.getMonth()]+e.getDate()-1|0;c()[r+28>>>2>>>0]=a,c()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=l&&e.getTimezoneOffset()==Math.min(l,a))|0,c()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(c()[e+20>>>2>>>0]+1900,c()[e+16>>>2>>>0],c()[e+12>>>2>>>0],c()[e+8>>>2>>>0],c()[e+4>>>2>>>0],c()[e>>>2>>>0],0),a=c()[e+32>>>2>>>0],l=r.getTimezoneOffset(),h=new Date(r.getFullYear(),6,1).getTimezoneOffset(),v=new Date(r.getFullYear(),0,1).getTimezoneOffset(),M=Math.min(v,h);return 0>a?c()[e+32>>>2>>>0]=+(h!=v&&M==l):0<a!=(M==l)&&(h=Math.max(v,h),r.setTime(r.getTime()+6e4*((0<a?M:h)-l))),c()[e+24>>>2>>>0]=r.getDay(),a=(Cr(r.getFullYear())?ln:cn)[r.getMonth()]+r.getDate()-1|0,c()[e+28>>>2>>>0]=a,c()[e>>>2>>>0]=r.getSeconds(),c()[e+4>>>2>>>0]=r.getMinutes(),c()[e+8>>>2>>>0]=r.getHours(),c()[e+12>>>2>>>0]=r.getDate(),c()[e+16>>>2>>>0]=r.getMonth(),c()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:dn,Z:pn,N:function(e,r,a){function l(N){return(N=N.toTimeString().match(/\(([A-Za-z ]+)\)$/))?N[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var h=new Date().getFullYear(),v=new Date(h,0,1),M=new Date(h,6,1);h=v.getTimezoneOffset();var P=M.getTimezoneOffset(),$=Math.max(h,P);g()[e>>>2>>>0]=60*$,c()[r>>>2>>>0]=+(h!=P),e=l(v),r=l(M),e=mn(e),r=mn(r),P<h?(g()[a>>>2>>>0]=e,g()[a+4>>>2>>>0]=r):(g()[a>>>2>>>0]=r,g()[a+4>>>2>>>0]=e)},n:()=>{He("")},F:()=>{},H:()=>Date.now(),la:()=>{throw nr+=1,"unwind"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>W?(ca(),Fr(la)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=m().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var l=r*(1+.2/a);l=Math.min(l,e+100663296);var h=Math;l=Math.max(e,l);e:{h=(h.min.call(h,4294901760,l+(65536-l%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(h),te();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},fa:gn,ga:yn,V:Br,z:vn,D:bn,ca:wn,C:On,a:Q||f.wasmMemory,oa:An,p:function(e,r,a,l){return An(e>>>0,r>>>0,a>>>0,l>>>0)}},B=function(){var e={a:ao};return ke++,Zr(e,function(r){var a=r.module;B=r.instance.exports,B=oo(),R.Eb.push(B.Xa),rt=B._a,Ne.unshift(B.sa),je=a,Se()}).catch(S),{}}();f._OrtInit=(e,r)=>(f._OrtInit=B.ta)(e,r),f._OrtGetLastError=(e,r)=>(f._OrtGetLastError=B.ua)(e,r),f._OrtCreateSessionOptions=(e,r,a,l,h,v,M,P,$,N)=>(f._OrtCreateSessionOptions=B.va)(e,r,a,l,h,v,M,P,$,N),f._OrtAppendExecutionProvider=(e,r)=>(f._OrtAppendExecutionProvider=B.wa)(e,r),f._OrtAddFreeDimensionOverride=(e,r,a)=>(f._OrtAddFreeDimensionOverride=B.xa)(e,r,a),f._OrtAddSessionConfigEntry=(e,r,a)=>(f._OrtAddSessionConfigEntry=B.ya)(e,r,a),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=B.za)(e),f._OrtCreateSession=(e,r,a)=>(f._OrtCreateSession=B.Aa)(e,r,a),f._OrtReleaseSession=e=>(f._OrtReleaseSession=B.Ba)(e),f._OrtGetInputOutputCount=(e,r,a)=>(f._OrtGetInputOutputCount=B.Ca)(e,r,a),f._OrtGetInputName=(e,r)=>(f._OrtGetInputName=B.Da)(e,r),f._OrtGetOutputName=(e,r)=>(f._OrtGetOutputName=B.Ea)(e,r),f._OrtFree=e=>(f._OrtFree=B.Fa)(e),f._OrtCreateTensor=(e,r,a,l,h,v)=>(f._OrtCreateTensor=B.Ga)(e,r,a,l,h,v),f._OrtGetTensorData=(e,r,a,l,h)=>(f._OrtGetTensorData=B.Ha)(e,r,a,l,h),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=B.Ia)(e),f._OrtCreateRunOptions=(e,r,a,l)=>(f._OrtCreateRunOptions=B.Ja)(e,r,a,l),f._OrtAddRunConfigEntry=(e,r,a)=>(f._OrtAddRunConfigEntry=B.Ka)(e,r,a),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=B.La)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=B.Ma)(e),f._OrtBindInput=(e,r,a)=>(f._OrtBindInput=B.Na)(e,r,a),f._OrtBindOutput=(e,r,a,l)=>(f._OrtBindOutput=B.Oa)(e,r,a,l),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=B.Pa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=B.Qa)(e),f._OrtRunWithBinding=(e,r,a,l,h)=>(f._OrtRunWithBinding=B.Ra)(e,r,a,l,h),f._OrtRun=(e,r,a,l,h,v,M,P)=>(f._OrtRun=B.Sa)(e,r,a,l,h,v,M,P),f._OrtEndProfiling=e=>(f._OrtEndProfiling=B.Ta)(e);var ct=f._pthread_self=()=>(ct=f._pthread_self=B.Ua)(),dt=f._malloc=e=>(dt=f._malloc=B.Va)(e),Ge=f._free=e=>(Ge=f._free=B.Wa)(e);f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=B.Xa)();var Sn=e=>(Sn=B.Ya)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=B.Za)();var Mn=f.__emscripten_thread_init=(e,r,a,l,h,v)=>(Mn=f.__emscripten_thread_init=B.$a)(e,r,a,l,h,v);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=B.ab)();var Pn=(e,r,a,l)=>(Pn=B.bb)(e,r,a,l),Wt=e=>(Wt=B.cb)(e),kt=f.__emscripten_thread_exit=e=>(kt=f.__emscripten_thread_exit=B.db)(e),Cn=f.__emscripten_check_mailbox=()=>(Cn=f.__emscripten_check_mailbox=B.eb)(),In=(e,r)=>(In=B.fb)(e,r),Lt=()=>(Lt=B.gb)(),pt=e=>(pt=B.hb)(e),$t=e=>($t=B.ib)(e);function oo(){var e=B;e=Object.assign({},e);var r=l=>()=>l()>>>0,a=l=>h=>l(h)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=a(e.Va),e.Ya=a(e.Ya),e.gb=r(e.gb),e.ib=a(e.ib),e}f.keepRuntimeAlive=ze,f.wasmMemory=Q,f.stackAlloc=$t,f.stackSave=Lt,f.stackRestore=pt,f.UTF8ToString=ir,f.stringToUTF8=_r,f.lengthBytesUTF8=Tr,f.ExitStatus=or,f.PThread=R;var mt;Je=function e(){mt||Fn(),mt||(Je=e)};function Fn(){0<ke||(U?(_(f),U||wr(Ne),startWorker(f)):(wr(Xe),0<ke||mt||(mt=!0,f.calledRun=!0,be||(U||wr(Ne),_(f),U||wr(gr)))))}return Fn(),o.ready}})();typeof pa=="object"&&typeof Jt=="object"?Jt.exports=da:typeof define=="function"&&define.amd&&define([],()=>da)});var ha=Ir((Mi,yo)=>{yo.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var ya,vo,Zt,Kt,_t,ga,bo,wo,Oo,va,fe,Ur=K(()=>{"use strict";ya=sa();vo=ma(),Kt=!1,_t=!1,ga=!1,bo=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},wo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Oo=(i,o)=>i?o?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":o?"ort-wasm-threaded.wasm":"ort-wasm.wasm",va=async i=>{if(Kt)return Promise.resolve();if(_t)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(ga)throw new Error("previous call to 'initializeWebAssembly()' failed.");_t=!0;let o=i.initTimeout,s=i.numThreads,m=i.simd,d=s>1&&bo(),w=m&&wo(),c=i.wasmPaths,g=typeof c=="string"?c:void 0,T=Oo(w,d),f=typeof c=="object"?c[T]:void 0,_=!1,S=[];if(o>0&&S.push(new Promise(E=>{setTimeout(()=>{_=!0,E()},o)})),S.push(new Promise((E,I)=>{let H=d?vo:ya,L={locateFile:(Y,W)=>d&&Y.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([ha()],{type:"text/javascript"})):Y.endsWith(".wasm")?f||(g??W)+T:W+Y};if(d)if(typeof Blob>"u")L.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Y=`var ortWasmThreaded=${H.toString()};`;L.mainScriptUrlOrBlob=new Blob([Y],{type:"text/javascript"})}H(L).then(Y=>{_t=!1,Kt=!0,Zt=Y,E()},Y=>{_t=!1,ga=!0,I(Y)})})),await Promise.race(S),_)throw new Error(`WebAssembly backend initializing failed due to timeout: ${o}ms`)},fe=()=>{if(Kt&&Zt)return Zt;throw new Error("WebAssembly is not initialized yet.")}});var le,qr,se,At=K(()=>{"use strict";Ur();le=(i,o)=>{let s=fe(),m=s.lengthBytesUTF8(i)+1,d=s._malloc(m);return s.stringToUTF8(i,d,m),o.push(d),d},qr=(i,o,s,m)=>{if(typeof i=="object"&&i!==null){if(s.has(i))throw new Error("Circular reference in options");s.add(i)}Object.entries(i).forEach(([d,w])=>{let c=o?o+d:d;if(typeof w=="object")qr(w,c+".",s,m);else if(typeof w=="string"||typeof w=="number")m(c,w.toString());else if(typeof w=="boolean")m(c,w?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof w}`)})},se=i=>{let o=fe(),s=o.stackSave();try{let m=o.stackAlloc(8);o._OrtGetLastError(m,m+4);let d=o.HEAP32[m/4],w=o.HEAPU32[m/4+1],c=w?o.UTF8ToString(w):"";throw new Error(`${i} ERROR_CODE: ${d}, ERROR_MESSAGE: ${c}`)}finally{o.stackRestore(s)}}});var ba,wa=K(()=>{"use strict";Ur();At();ba=i=>{let o=fe(),s=0,m=[],d=i||{};try{if(i?.logSeverityLevel===void 0)d.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)d.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(d.terminate=!1);let w=0;return i?.tag!==void 0&&(w=le(i.tag,m)),s=o._OrtCreateRunOptions(d.logSeverityLevel,d.logVerbosityLevel,!!d.terminate,w),s===0&&se("Can't create run options."),i?.extra!==void 0&&qr(i.extra,"",new WeakSet,(c,g)=>{let T=le(c,m),f=le(g,m);o._OrtAddRunConfigEntry(s,T,f)!==0&&se(`Can't set a run config entry: ${c} - ${g}.`)}),[s,m]}catch(w){throw s!==0&&o._OrtReleaseRunOptions(s),m.forEach(c=>o._free(c)),w}}});var To,_o,Ao,Eo,Oa,Ta=K(()=>{"use strict";Ur();At();To=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},_o=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},Ao=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let o=i.extra.session;o.use_ort_model_bytes_directly||(o.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(i.enableMemPattern=!1)},Eo=(i,o,s)=>{for(let m of o){let d=typeof m=="string"?m:m.name;switch(d){case"xnnpack":d="XNNPACK";break;case"webnn":if(d="WEBNN",typeof m!="string"){let c=m;if(c?.deviceType){let g=le("deviceType",s),T=le(c.deviceType,s);fe()._OrtAddSessionConfigEntry(i,g,T)!==0&&se(`Can't set a session config entry: 'deviceType' - ${c.deviceType}.`)}if(c?.numThreads){let g=c.numThreads;(typeof g!="number"||!Number.isInteger(g)||g<0)&&(g=0);let T=le("numThreads",s),f=le(g.toString(),s);fe()._OrtAddSessionConfigEntry(i,T,f)!==0&&se(`Can't set a session config entry: 'numThreads' - ${c.numThreads}.`)}if(c?.powerPreference){let g=le("powerPreference",s),T=le(c.powerPreference,s);fe()._OrtAddSessionConfigEntry(i,g,T)!==0&&se(`Can't set a session config entry: 'powerPreference' - ${c.powerPreference}.`)}}break;case"webgpu":if(d="JS",typeof m!="string"){let c=m;if(c?.preferredLayout){if(c.preferredLayout!=="NCHW"&&c.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${c.preferredLayout}`);let g=le("preferredLayout",s),T=le(c.preferredLayout,s);fe()._OrtAddSessionConfigEntry(i,g,T)!==0&&se(`Can't set a session config entry: 'preferredLayout' - ${c.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${d}`)}let w=le(d,s);fe()._OrtAppendExecutionProvider(i,w)!==0&&se(`Can't append execution provider: ${d}.`)}},Oa=i=>{let o=fe(),s=0,m=[],d=i||{};Ao(d);try{let w=To(d.graphOptimizationLevel??"all"),c=_o(d.executionMode??"sequential"),g=typeof d.logId=="string"?le(d.logId,m):0,T=d.logSeverityLevel??2;if(!Number.isInteger(T)||T<0||T>4)throw new Error(`log serverity level is not valid: ${T}`);let f=d.logVerbosityLevel??0;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log verbosity level is not valid: ${f}`);let _=typeof d.optimizedModelFilePath=="string"?le(d.optimizedModelFilePath,m):0;if(s=o._OrtCreateSessionOptions(w,!!d.enableCpuMemArena,!!d.enableMemPattern,c,!!d.enableProfiling,0,g,T,f,_),s===0&&se("Can't create session options."),d.executionProviders&&Eo(s,d.executionProviders,m),d.freeDimensionOverrides)for(let[S,E]of Object.entries(d.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let I=le(S,m);o._OrtAddFreeDimensionOverride(s,I,E)!==0&&se(`Can't set a free dimension override: ${S} - ${E}.`)}return d.extra!==void 0&&qr(d.extra,"",new WeakSet,(S,E)=>{let I=le(S,m),H=le(E,m);o._OrtAddSessionConfigEntry(s,I,H)!==0&&se(`Can't set a session config entry: ${S} - ${E}.`)}),[s,m]}catch(w){throw s!==0&&o._OrtReleaseSessionOptions(s),m.forEach(c=>o._free(c)),w}}});var Qt,_a,en,Aa,Ea,Et,Sa,rn=K(()=>{"use strict";Qt=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},_a=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},en=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Aa=i=>{switch(i){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Ea=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Et=i=>i==="float32"||i==="int32"||i==="int64"||i==="bool"||i==="float16"||i==="uint32",Sa=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}}});var So,Pa,Ca,Xr,Mo,tn,Ia,Fa,Ma,Ua,Da,xa,Ba=K(()=>{"use strict";wa();Ta();rn();Ur();At();So=(i,o)=>{fe()._OrtInit(i,o)!==0&&se("Can't initialize onnxruntime.")},Pa=async i=>{So(i.wasm.numThreads,Ea(i.logLevel))},Ca=async(i,o)=>{},Xr=new Map,Mo=i=>{let o=fe(),s=o.stackSave();try{let m=o.stackAlloc(8);return o._OrtGetInputOutputCount(i,m,m+4)!==0&&se("Can't get session input/output count."),[o.HEAP32[m/4],o.HEAP32[m/4+1]]}finally{o.stackRestore(s)}},tn=i=>{let o=fe(),s=o._malloc(i.byteLength);if(s===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${i.byteLength}.`);return o.HEAPU8.set(i,s),[s,i.byteLength]},Ia=(i,o)=>{let s,m,d=fe();Array.isArray(i)?[s,m]=i:i.buffer===d.HEAPU8.buffer?[s,m]=[i.byteOffset,i.byteLength]:[s,m]=tn(i);let w=0,c=0,g=0,T=[],f=[],_=[];try{[c,T]=Oa(o),w=d._OrtCreateSession(s,m,c),w===0&&se("Can't create a session.");let[S,E]=Mo(w),I=[],H=[],L=[];for(let W=0;W<S;W++){let U=d._OrtGetInputName(w,W);U===0&&se("Can't get an input name."),f.push(U),I.push(d.UTF8ToString(U))}for(let W=0;W<E;W++){let U=d._OrtGetOutputName(w,W);U===0&&se("Can't get an output name."),_.push(U);let J=d.UTF8ToString(U);H.push(J)}let Y=null;return Xr.set(w,[w,f,_,Y]),[w,I,H]}catch(S){throw f.forEach(E=>d._OrtFree(E)),_.forEach(E=>d._OrtFree(E)),g!==0&&d._OrtReleaseBinding(g),w!==0&&d._OrtReleaseSession(w),S}finally{d._free(s),c!==0&&d._OrtReleaseSessionOptions(c),T.forEach(S=>d._free(S))}},Fa=i=>{let o=fe(),s=Xr.get(i);if(!s)throw new Error(`cannot release session. invalid session id: ${i}`);let[m,d,w,c]=s;c&&o._OrtReleaseBinding(c.handle),o.jsepUnregisterBuffers?.(i),d.forEach(g=>o._OrtFree(g)),w.forEach(g=>o._OrtFree(g)),o._OrtReleaseSession(m),Xr.delete(i)},Ma=(i,o,s,m,d)=>{if(!i){o.push(0);return}let w=fe(),c=i[0],g=i[1],T=i[3],f,_;if(c==="string"&&T==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(T==="gpu-buffer"){let I=i[2].gpuBuffer,H=en(Qt(c));_=g.reduce((L,Y)=>L*Y,1)*H,f=w.jsepRegisterBuffer(m,d,I,_)}else{let I=i[2];if(Array.isArray(I)){_=4*I.length,f=w._malloc(_),s.push(f);let H=f/4;for(let L=0;L<I.length;L++){if(typeof I[L]!="string")throw new TypeError(`tensor data at index ${L} is not a string`);w.HEAPU32[H++]=le(I[L],s)}}else _=I.byteLength,f=w._malloc(_),s.push(f),w.HEAPU8.set(new Uint8Array(I.buffer,I.byteOffset,_),f)}let S=w.stackSave(),E=w.stackAlloc(4*g.length);try{let I=E/4;g.forEach(L=>w.HEAP32[I++]=L);let H=w._OrtCreateTensor(Qt(c),f,_,E,g.length,Sa(T));H===0&&se(`Can't create tensor for input/output. session=${m}, index=${d}.`),o.push(H)}finally{w.stackRestore(S)}},Ua=async(i,o,s,m,d,w)=>{let c=fe(),g=Xr.get(i);if(!g)throw new Error(`cannot run inference. invalid session id: ${i}`);let[T,f,_,S]=g,E=o.length,I=m.length,H=0,L=[],Y=[],W=[],U=[],J=c.stackSave(),ce=c.stackAlloc(E*4),Z=c.stackAlloc(E*4),Ee=c.stackAlloc(I*4),Fe=c.stackAlloc(I*4);try{[H,L]=ba(w);for(let V=0;V<E;V++)Ma(s[V],Y,U,i,o[V]);for(let V=0;V<I;V++)Ma(d[V],W,U,i,E+m[V]);let F=ce/4,G=Z/4,Ze=Ee/4,Ke=Fe/4;for(let V=0;V<E;V++)c.HEAPU32[F++]=Y[V],c.HEAPU32[G++]=f[o[V]];for(let V=0;V<I;V++)c.HEAPU32[Ze++]=W[V],c.HEAPU32[Ke++]=_[m[V]];let Qe;Qe=await c._OrtRun(T,Z,ce,E,Fe,I,Ee,H),Qe!==0&&se("failed to call OrtRun().");let de=[];for(let V=0;V<I;V++){let Q=c.HEAPU32[Ee/4+V];if(Q===W[V]){de.push(d[V]);continue}let je=c.stackSave(),be=c.stackAlloc(4*4),me=!1,ee,pe=0;try{c._OrtGetTensorData(Q,be,be+4,be+8,be+12)!==0&&se(`Can't access output tensor data on index ${V}.`);let $e=be/4,Re=c.HEAPU32[$e++];pe=c.HEAPU32[$e++];let qe=c.HEAPU32[$e++],rr=c.HEAPU32[$e++],we=[];for(let te=0;te<rr;te++)we.push(c.HEAPU32[qe/4+te]);c._OrtFree(qe);let We=we.reduce((te,ue)=>te*ue,1);ee=_a(Re);let tr=S?.outputPreferredLocations[m[V]];if(ee==="string"){if(tr==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let te=[],ue=pe/4;for(let Xe=0;Xe<We;Xe++){let Ne=c.HEAPU32[ue++],gr=Xe===We-1?void 0:c.HEAPU32[ue]-Ne;te.push(c.UTF8ToString(Ne,gr))}de.push([ee,we,te,"cpu"])}else if(tr==="gpu-buffer"&&We>0){let te=c.jsepGetBuffer(pe),ue=en(Re);if(ue===void 0||!Et(ee))throw new Error(`Unsupported data type: ${ee}`);me=!0,de.push([ee,we,{gpuBuffer:te,download:c.jsepCreateDownloader(te,We*ue,ee),dispose:()=>{c._OrtReleaseTensor(Q)}},"gpu-buffer"])}else{let te=Aa(ee),ue=new te(We);new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength).set(c.HEAPU8.subarray(pe,pe+ue.byteLength)),de.push([ee,we,ue,"cpu"])}}finally{c.stackRestore(je),ee==="string"&&pe&&c._free(pe),me||c._OrtReleaseTensor(Q)}}return S&&c._OrtClearBoundOutputs(S.handle),de}finally{c.stackRestore(J),Y.forEach(F=>c._OrtReleaseTensor(F)),W.forEach(F=>c._OrtReleaseTensor(F)),U.forEach(F=>c._free(F)),H!==0&&c._OrtReleaseRunOptions(H),L.forEach(F=>c._free(F))}},Da=i=>{let o=fe(),s=Xr.get(i);if(!s)throw new Error("invalid session id");let m=s[0],d=o._OrtEndProfiling(m);d===0&&se("Can't get an profile file name."),o._OrtFree(d)},xa=i=>{let o=[];for(let s of i){let m=s[2];!Array.isArray(m)&&"buffer"in m&&o.push(m.buffer)}return o}});var Ra=Ir((zi,Co)=>{Co.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var ct=Object.defineProperty;var Ln=Object.getOwnPropertyDescriptor;var kn=Object.getOwnPropertyNames;var Hn=Object.prototype.hasOwnProperty;var dt=(l,y)=>()=>(l&&(y=l(l=0)),y);var Ur=(l,y)=>()=>(y||l((y={exports:{}}).exports,y),y.exports),pt=(l,y)=>{for(var u in y)ct(l,u,{get:y[u],enumerable:!0})},$n=(l,y,u,v)=>{if(y&&typeof y=="object"||typeof y=="function")for(let w of kn(y))!Hn.call(l,w)&&w!==u&&ct(l,w,{get:()=>y[w],enumerable:!(v=Ln(y,w))||v.enumerable});return l};var Ir=l=>$n(ct({},"__esModule",{value:!0}),l);var mt={};pt(mt,{readFile:()=>Nn});var Nn,gt=dt(()=>{Nn=void 0});var ht={};pt(ht,{join:()=>jn});var jn,yt=dt(()=>{jn=void 0});var Qt=Ur((Kt,vt)=>{"use strict";var Zt=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(y={}){var u=y,v,w;u.ready=new Promise((t,n)=>{v=t,w=n});var S=Object.assign({},u),d="./this.program",T=typeof window=="object",I=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",k="",z,L,H;if(c){var V=(gt(),Ir(mt)),Q=(yt(),Ir(ht));k=I?Q.dirname(k)+"/":__dirname+"/",z=(t,n)=>(t=t.startsWith("file://")?new URL(t):Q.normalize(t),V.readFileSync(t,n?void 0:"utf8")),H=t=>(t=z(t,!0),t.buffer||(t=new Uint8Array(t)),t),L=(t,n,a,s=!0)=>{t=t.startsWith("file://")?new URL(t):Q.normalize(t),V.readFile(t,s?void 0:"utf8",(p,b)=>{p?a(p):n(s?b.buffer:b)})},!u.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),u.inspect=()=>"[Emscripten Module object]"}else(T||I)&&(I?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),l&&(k=l),k.indexOf("blob:")!==0?k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):k="",z=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},I&&(H=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),L=(t,n,a)=>{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=()=>{s.status==200||s.status==0&&s.response?n(s.response):a()},s.onerror=a,s.send(null)});var Z=console.log.bind(console),N=console.error.bind(console);Object.assign(u,S),S=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var M,fe=!1,Te,ee,be,Ce,E,$,Ge,Ve,qe,ue;function j(){var t=M.buffer;u.HEAP8=Te=new Int8Array(t),u.HEAP16=be=new Int16Array(t),u.HEAPU8=ee=new Uint8Array(t),u.HEAPU16=Ce=new Uint16Array(t),u.HEAP32=E=new Int32Array(t),u.HEAPU32=$=new Uint32Array(t),u.HEAPF32=Ge=new Float32Array(t),u.HEAPF64=ue=new Float64Array(t),u.HEAP64=Ve=new BigInt64Array(t),u.HEAPU64=qe=new BigUint64Array(t)}var q=[],Re=[],ge=[],ce=0,J=null,le=null;function Je(t){throw t="Aborted("+t+")",N(t),fe=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),w(t),t}function xe(t){return t.startsWith("data:application/octet-stream;base64,")}var De;if(De="ort-wasm.wasm",!xe(De)){var je=De;De=u.locateFile?u.locateFile(je,k):k+je}function Xe(t){if(H)return H(t);throw"both async and sync fetching of the wasm failed"}function he(t){if(T||I){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+t+"\'";return n.arrayBuffer()}).catch(()=>Xe(t));if(L)return new Promise((n,a)=>{L(t,s=>n(new Uint8Array(s)),a)})}return Promise.resolve().then(()=>Xe(t))}function Ue(t,n,a){return he(t).then(s=>WebAssembly.instantiate(s,n)).then(s=>s).then(a,s=>{N(`failed to asynchronously prepare wasm: ${s}`),Je(s)})}function Ze(t,n){var a=De;return typeof WebAssembly.instantiateStreaming!="function"||xe(a)||a.startsWith("file://")||c||typeof fetch!="function"?Ue(a,t,n):fetch(a,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,t).then(n,function(p){return N(`wasm streaming compile failed: ${p}`),N("falling back to ArrayBuffer instantiation"),Ue(a,t,n)}))}function K(t){this.Va=t-24,this.fb=function(n){$[this.Va+4>>>2>>>0]=n},this.eb=function(n){$[this.Va+8>>>2>>>0]=n},this.Za=function(n,a){this.$a(),this.fb(n),this.eb(a)},this.$a=function(){$[this.Va+16>>>2>>>0]=0}}var ae=0,Ye=0,Le=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sr=(t,n,a)=>{n>>>=0;var s=n+a;for(a=n;t[a]&&!(a>=s);)++a;if(16<a-n&&t.buffer&&Le)return Le.decode(t.subarray(n,a));for(s="";n<a;){var p=t[n++];if(p&128){var b=t[n++]&63;if((p&224)==192)s+=String.fromCharCode((p&31)<<6|b);else{var C=t[n++]&63;p=(p&240)==224?(p&15)<<12|b<<6|C:(p&7)<<18|b<<12|C<<6|t[n++]&63,65536>p?s+=String.fromCharCode(p):(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023))}}else s+=String.fromCharCode(p)}return s},Ke=(t,n)=>(t>>>=0)?sr(ee,t,n):"",ke=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);127>=s?n++:2047>=s?n+=2:55296<=s&&57343>=s?(n+=4,++a):n+=3}return n},Ie=(t,n,a,s)=>{if(a>>>=0,!(0<s))return 0;var p=a;s=a+s-1;for(var b=0;b<t.length;++b){var C=t.charCodeAt(b);if(55296<=C&&57343>=C){var A=t.charCodeAt(++b);C=65536+((C&1023)<<10)|A&1023}if(127>=C){if(a>=s)break;n[a++>>>0]=C}else{if(2047>=C){if(a+1>=s)break;n[a++>>>0]=192|C>>6}else{if(65535>=C){if(a+2>=s)break;n[a++>>>0]=224|C>>12}else{if(a+3>=s)break;n[a++>>>0]=240|C>>18,n[a++>>>0]=128|C>>12&63}n[a++>>>0]=128|C>>6&63}n[a++>>>0]=128|C&63}}return n[a>>>0]=0,a-p},ur=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},ze,Oe=t=>{for(var n="";ee[t>>>0];)n+=ze[ee[t++>>>0]];return n},Be={},fr={},Qe={},We;function rt(t,n,a={}){var s=n.name;if(!t)throw new We(`type "${s}" must have a positive integer typeid pointer`);if(fr.hasOwnProperty(t)){if(a.gb)return;throw new We(`Cannot register type \'${s}\' twice`)}fr[t]=n,delete Qe[t],Be.hasOwnProperty(t)&&(n=Be[t],delete Be[t],n.forEach(p=>p()))}function Me(t,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");rt(t,n,a)}var Br=(t,n,a)=>{switch(n){case 1:return a?s=>Te[s>>>0>>>0]:s=>ee[s>>>0>>>0];case 2:return a?s=>be[s>>>1>>>0]:s=>Ce[s>>>1>>>0];case 4:return a?s=>E[s>>>2>>>0]:s=>$[s>>>2>>>0];case 8:return a?s=>Ve[s>>>3]:s=>qe[s>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function er(){this.Sa=[void 0],this.bb=[]}var me=new er;function lr(t){t>>>=0,t>=me.Va&&--me.get(t).cb===0&&me.$a(t)}var de=t=>{if(!t)throw new We("Cannot use deleted val. handle = "+t);return me.get(t).value},ye=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return me.Za({cb:1,value:t})}};function rr(t){return this.fromWireType(E[t>>>2>>>0])}var Rr=(t,n)=>{switch(n){case 4:return function(a){return this.fromWireType(Ge[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(ue[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function Or(t){return this.fromWireType($[t>>>2>>>0])}var Lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,D=(t,n)=>{for(var a=t>>1,s=a+n/2;!(a>=s)&&Ce[a>>>0];)++a;if(a<<=1,32<a-t&&Lr)return Lr.decode(ee.subarray(t>>>0,a>>>0));for(a="",s=0;!(s>=n/2);++s){var p=be[t+2*s>>>1>>>0];if(p==0)break;a+=String.fromCharCode(p)}return a},cr=(t,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var s=n;a=a<2*t.length?a/2:t.length;for(var p=0;p<a;++p)be[n>>>1>>>0]=t.charCodeAt(p),n+=2;return be[n>>>1>>>0]=0,n-s},kr=t=>2*t.length,dr=(t,n)=>{for(var a=0,s="";!(a>=n/4);){var p=E[t+4*a>>>2>>>0];if(p==0)break;++a,65536<=p?(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023)):s+=String.fromCharCode(p)}return s},Hr=(t,n,a)=>{if(n>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var s=n;a=s+a-4;for(var p=0;p<t.length;++p){var b=t.charCodeAt(p);if(55296<=b&&57343>=b){var C=t.charCodeAt(++p);b=65536+((b&1023)<<10)|C&1023}if(E[n>>>2>>>0]=b,n+=4,n+4>a)break}return E[n>>>2>>>0]=0,n-s},tt=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);55296<=s&&57343>=s&&++a,n+=4}return n},tr=(t,n)=>{var a=fr[t];if(a===void 0)throw t=ve(t),a=Oe(t),Pe(t),new We(n+" has unknown type "+a);return a},nt={},nr=t=>{var n=nt[t];return n===void 0?Oe(t):n},or=[],_r=()=>typeof globalThis=="object"?globalThis:Function("return this")(),$r=t=>{var n=or.length;return or.push(t),n},pr=(t,n)=>{for(var a=Array(t),s=0;s<t;++s)a[s]=tr($[n+4*s>>>2>>>0],"parameter "+s);return a},Tr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},mr={};function Nr(t,n){return t=Tr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function jr(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=Nr(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,t=n.apply(a,t),t instanceof Object?t:a}var Yr=t=>{for(var n="",a=0;a<t;++a)n+=(a!==0?", ":"")+"arg"+a;var s="return function emval_allocator_"+t+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<t;++a)s+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",s+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(tr,u,ye,()=>$)},Ar={},He=t=>t%4===0&&(t%100!==0||t%400===0),Er=[0,31,60,91,121,152,182,213,244,274,305,335],Sr=[0,31,59,90,120,151,181,212,243,273,304,334],Cr=t=>{var n=ke(t)+1,a=ar(n);return a&&Ie(t,ee,a,n),a},gr={},Mr=()=>{if(!hr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in gr)gr[n]===void 0?delete t[n]:t[n]=gr[n];var a=[];for(n in t)a.push(`${n}=${t[n]}`);hr=a}return hr},hr,zr=[null,[],[]],Pr=[31,29,31,30,31,30,31,31,30,31,30,31],_e=[31,28,31,30,31,30,31,31,30,31,30,31];function Fr(t){var n=Array(ke(t)+1);return Ie(t,n,0,n.length),n}function yr(t,n,a,s){function p(g,Y,X){for(g=typeof g=="number"?g.toString():g||"";g.length<Y;)g=X[0]+g;return g}function b(g,Y){return p(g,Y,"0")}function C(g,Y){function X(Dr){return 0>Dr?-1:0<Dr?1:0}var Fe;return(Fe=X(g.getFullYear()-Y.getFullYear()))===0&&(Fe=X(g.getMonth()-Y.getMonth()))===0&&(Fe=X(g.getDate()-Y.getDate())),Fe}function A(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function U(g){var Y=g.Ta;for(g=new Date(new Date(g.Ua+1900,0,1).getTime());0<Y;){var X=g.getMonth(),Fe=(He(g.getFullYear())?Pr:_e)[X];if(Y>Fe-g.getDate())Y-=Fe-g.getDate()+1,g.setDate(1),11>X?g.setMonth(X+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+Y);break}}return X=new Date(g.getFullYear()+1,0,4),Y=A(new Date(g.getFullYear(),0,4)),X=A(X),0>=C(Y,g)?0>=C(X,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}t>>>=0,n>>>=0,a>>>=0,s>>>=0;var x=$[s+40>>>2>>>0];s={kb:E[s>>>2>>>0],jb:E[s+4>>>2>>>0],Xa:E[s+8>>>2>>>0],ab:E[s+12>>>2>>>0],Ya:E[s+16>>>2>>>0],Ua:E[s+20>>>2>>>0],Oa:E[s+24>>>2>>>0],Ta:E[s+28>>>2>>>0],mb:E[s+32>>>2>>>0],ib:E[s+36>>>2>>>0],lb:x?Ke(x):""},a=Ke(a),x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var re in x)a=a.replace(new RegExp(re,"g"),x[re]);var R="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ee="January February March April May June July August September October November December".split(" ");x={"%a":g=>R[g.Oa].substring(0,3),"%A":g=>R[g.Oa],"%b":g=>Ee[g.Ya].substring(0,3),"%B":g=>Ee[g.Ya],"%C":g=>b((g.Ua+1900)/100|0,2),"%d":g=>b(g.ab,2),"%e":g=>p(g.ab,2," "),"%g":g=>U(g).toString().substring(2),"%G":g=>U(g),"%H":g=>b(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),b(g,2)),"%j":g=>{for(var Y=0,X=0;X<=g.Ya-1;Y+=(He(g.Ua+1900)?Pr:_e)[X++]);return b(g.ab+Y,3)},"%m":g=>b(g.Ya+1,2),"%M":g=>b(g.jb,2),"%n":()=>`\n`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>b(g.kb,2),"%t":()=>"	","%u":g=>g.Oa||7,"%U":g=>b(Math.floor((g.Ta+7-g.Oa)/7),2),"%V":g=>{var Y=Math.floor((g.Ta+7-(g.Oa+6)%7)/7);if(2>=(g.Oa+371-g.Ta-2)%7&&Y++,Y)Y==53&&(X=(g.Oa+371-g.Ta)%7,X==4||X==3&&He(g.Ua)||(Y=1));else{Y=52;var X=(g.Oa+7-g.Ta-1)%7;(X==4||X==5&&He(g.Ua%400-1))&&Y++}return b(Y,2)},"%w":g=>g.Oa,"%W":g=>b(Math.floor((g.Ta+7-(g.Oa+6)%7)/7),2),"%y":g=>(g.Ua+1900).toString().substring(2),"%Y":g=>g.Ua+1900,"%z":g=>{g=g.ib;var Y=0<=g;return g=Math.abs(g)/60,(Y?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(re in x)a.includes(re)&&(a=a.replace(new RegExp(re,"g"),x[re](s)));return a=a.replace(/\\0\\0/g,"%"),re=Fr(a),re.length>n?0:(Te.set(re,t>>>0),re.length-1)}for(var Gr=Array(256),Ae=0;256>Ae;++Ae)Gr[Ae]=String.fromCharCode(Ae);ze=Gr,We=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(er.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),me.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),me.Va=me.Sa.length,u.count_emval_handles=()=>{for(var t=0,n=me.Va;n<me.Sa.length;++n)me.Sa[n]!==void 0&&++t;return t};var ot={a:function(t,n,a){throw t>>>=0,new K(t).Za(n>>>0,a>>>0),ae=t,Ye++,ae},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},B:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},E:function(t,n,a,s,p){n>>>=0,n=Oe(n);var b=n.indexOf("u")!=-1;b&&(p=(1n<<64n)-1n),Me(t>>>0,{name:n,fromWireType:C=>C,toWireType:function(C,A){if(typeof A!="bigint"&&typeof A!="number")throw new TypeError(`Cannot convert "${ur(A)}" to ${this.name}`);if(A<s||A>p)throw new TypeError(`Passing a number "${ur(A)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${s}, ${p}]!`);return A},argPackAdvance:8,readValueFromPointer:Br(n,a>>>0,!b),Wa:null})},ea:function(t,n,a,s){n=Oe(n>>>0),Me(t>>>0,{name:n,fromWireType:function(p){return!!p},toWireType:function(p,b){return b?a:s},argPackAdvance:8,readValueFromPointer:function(p){return this.fromWireType(ee[p>>>0])},Wa:null})},da:function(t,n){n=Oe(n>>>0),Me(t>>>0,{name:n,fromWireType:a=>{var s=de(a);return lr(a),s},toWireType:(a,s)=>ye(s),argPackAdvance:8,readValueFromPointer:rr,Wa:null})},D:function(t,n,a){n=Oe(n>>>0),Me(t>>>0,{name:n,fromWireType:s=>s,toWireType:(s,p)=>p,argPackAdvance:8,readValueFromPointer:Rr(n,a>>>0),Wa:null})},p:function(t,n,a,s,p){if(t>>>=0,a>>>=0,n=Oe(n>>>0),p===-1&&(p=4294967295),p=A=>A,s===0){var b=32-8*a;p=A=>A<<b>>>b}var C=n.includes("unsigned")?function(A,U){return U>>>0}:function(A,U){return U};Me(t,{name:n,fromWireType:p,toWireType:C,argPackAdvance:8,readValueFromPointer:Br(n,a,s!==0),Wa:null})},l:function(t,n,a){function s(b){return new p(Te.buffer,$[b+4>>>2>>>0],$[b>>>2>>>0])}var p=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Oe(a>>>0),Me(t>>>0,{name:a,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{gb:!0})},F:function(t,n){n=Oe(n>>>0);var a=n==="std::string";Me(t>>>0,{name:n,fromWireType:function(s){var p=$[s>>>2>>>0],b=s+4;if(a)for(var C=b,A=0;A<=p;++A){var U=b+A;if(A==p||ee[U>>>0]==0){if(C=Ke(C,U-C),x===void 0)var x=C;else x+=String.fromCharCode(0),x+=C;C=U+1}}else{for(x=Array(p),A=0;A<p;++A)x[A]=String.fromCharCode(ee[b+A>>>0]);x=x.join("")}return Pe(s),x},toWireType:function(s,p){p instanceof ArrayBuffer&&(p=new Uint8Array(p));var b=typeof p=="string";if(!(b||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int8Array))throw new We("Cannot pass non-string to std::string");var C=a&&b?ke(p):p.length,A=ar(4+C+1),U=A+4;if($[A>>>2>>>0]=C,a&&b)Ie(p,ee,U,C+1);else if(b)for(b=0;b<C;++b){var x=p.charCodeAt(b);if(255<x)throw Pe(U),new We("String has UTF-16 code units that do not fit in 8 bits");ee[U+b>>>0]=x}else for(b=0;b<C;++b)ee[U+b>>>0]=p[b];return s!==null&&s.push(Pe,A),A},argPackAdvance:8,readValueFromPointer:Or,Wa(s){Pe(s)}})},x:function(t,n,a){if(n>>>=0,a>>>=0,a=Oe(a),n===2)var s=D,p=cr,b=kr,C=()=>Ce,A=1;else n===4&&(s=dr,p=Hr,b=tt,C=()=>$,A=2);Me(t>>>0,{name:a,fromWireType:U=>{for(var x=$[U>>>2>>>0],re=C(),R,Ee=U+4,g=0;g<=x;++g){var Y=U+4+g*n;(g==x||re[Y>>>A]==0)&&(Ee=s(Ee,Y-Ee),R===void 0?R=Ee:(R+=String.fromCharCode(0),R+=Ee),Ee=Y+n)}return Pe(U),R},toWireType:(U,x)=>{if(typeof x!="string")throw new We(`Cannot pass non-string to C++ string type ${a}`);var re=b(x),R=ar(4+re+n);return $[R>>>2]=re>>A,p(x,R+4,re+n),U!==null&&U.push(Pe,R),R},argPackAdvance:8,readValueFromPointer:rr,Wa(U){Pe(U)}})},fa:function(t,n){n=Oe(n>>>0),Me(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,a){n>>>=0,a>>>=0,t=de(t>>>0),n=tr(n,"emval::as");var s=[],p=ye(s);return $[a>>>2>>>0]=p,n.toWireType(s,t)},h:function(t,n,a,s,p){a>>>=0,s>>>=0,p>>>=0,t=or[t>>>0],n=de(n>>>0),a=nr(a);var b=[];return $[s>>>2>>>0]=ye(b),t(n,a,b,p)},r:function(t,n,a,s){a>>>=0,s>>>=0,t=or[t>>>0],n=de(n>>>0),a=nr(a),t(n,a,null,s)},b:lr,y:function(t,n){return n>>>=0,t=de(t>>>0),n=de(n),t==n},u:function(t){return t>>>=0,t===0?ye(_r()):(t=nr(t),ye(_r()[t]))},g:function(t,n){var a=pr(t,n>>>0),s=a[0];n=s.name+"_$"+a.slice(1).map(function(re){return re.name}).join("_")+"$";var p=mr[n];if(p!==void 0)return p;p=["retType"];for(var b=[s],C="",A=0;A<t-1;++A)C+=(A!==0?", ":"")+"arg"+A,p.push("argType"+A),b.push(a[1+A]);var U="return function "+Tr("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,x=0;for(A=0;A<t-1;++A)U+="    var arg"+A+" = argType"+A+".readValueFromPointer(args"+(x?"+"+x:"")+`);\n`,x+=a[A+1].argPackAdvance;for(U+="    var rv = handle[name]("+C+`);\n`,A=0;A<t-1;++A)a[A+1].deleteObject&&(U+="    argType"+A+".deleteObject(arg"+A+`);\n`);return s.hb||(U+=`    return retType.toWireType(destructors, rv);\n`),p.push(U+`};\n`),t=jr(p).apply(null,b),p=$r(t),mr[n]=p},q:function(t,n){return n>>>=0,t=de(t>>>0),n=de(n),ye(t[n])},c:function(t){t>>>=0,4<t&&(me.get(t).cb+=1)},G:function(t,n,a,s){a>>>=0,s>>>=0,t=de(t>>>0);var p=Ar[n];return p||(p=Yr(n),Ar[n]=p),p(t,a,s)},s:function(){return ye([])},k:function(t){t=de(t>>>0);for(var n=Array(t.length),a=0;a<t.length;a++)n[a]=t[a];return ye(n)},d:function(t){return ye(nr(t>>>0))},j:function(){return ye({})},e:function(t){t>>>=0;for(var n=de(t);n.length;){var a=n.pop();n.pop()(a)}lr(t)},i:function(t,n,a){n>>>=0,a>>>=0,t=de(t>>>0),n=de(n),a=de(a),t[n]=a},f:function(t,n){return n>>>=0,t=tr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),ye(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),E[n>>>2>>>0]=t.getUTCSeconds(),E[n+4>>>2>>>0]=t.getUTCMinutes(),E[n+8>>>2>>>0]=t.getUTCHours(),E[n+12>>>2>>>0]=t.getUTCDate(),E[n+16>>>2>>>0]=t.getUTCMonth(),E[n+20>>>2>>>0]=t.getUTCFullYear()-1900,E[n+24>>>2>>>0]=t.getUTCDay(),E[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),E[n>>>2>>>0]=t.getSeconds(),E[n+4>>>2>>>0]=t.getMinutes(),E[n+8>>>2>>>0]=t.getHours(),E[n+12>>>2>>>0]=t.getDate(),E[n+16>>>2>>>0]=t.getMonth(),E[n+20>>>2>>>0]=t.getFullYear()-1900,E[n+24>>>2>>>0]=t.getDay(),E[n+28>>>2>>>0]=(He(t.getFullYear())?Er:Sr)[t.getMonth()]+t.getDate()-1|0,E[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=new Date(t.getFullYear(),0,1).getTimezoneOffset();E[n+32>>>2>>>0]=(a!=s&&t.getTimezoneOffset()==Math.min(s,a))|0},U:function(t){t>>>=0;var n=new Date(E[t+20>>>2>>>0]+1900,E[t+16>>>2>>>0],E[t+12>>>2>>>0],E[t+8>>>2>>>0],E[t+4>>>2>>>0],E[t>>>2>>>0],0),a=E[t+32>>>2>>>0],s=n.getTimezoneOffset(),p=new Date(n.getFullYear(),6,1).getTimezoneOffset(),b=new Date(n.getFullYear(),0,1).getTimezoneOffset(),C=Math.min(b,p);return 0>a?E[t+32>>>2>>>0]=+(p!=b&&C==s):0<a!=(C==s)&&(p=Math.max(b,p),n.setTime(n.getTime()+6e4*((0<a?C:p)-s))),E[t+24>>>2>>>0]=n.getDay(),E[t+28>>>2>>>0]=(He(n.getFullYear())?Er:Sr)[n.getMonth()]+n.getDate()-1|0,E[t>>>2>>>0]=n.getSeconds(),E[t+4>>>2>>>0]=n.getMinutes(),E[t+8>>>2>>>0]=n.getHours(),E[t+12>>>2>>>0]=n.getDate(),E[t+16>>>2>>>0]=n.getMonth(),E[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,a){function s(U){return(U=U.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?U[1]:"GMT"}a>>>=0;var p=new Date().getFullYear(),b=new Date(p,0,1),C=new Date(p,6,1);p=b.getTimezoneOffset();var A=C.getTimezoneOffset();$[t>>>0>>>2>>>0]=60*Math.max(p,A),E[n>>>0>>>2>>>0]=+(p!=A),t=s(b),n=s(C),t=Cr(t),n=Cr(n),A<p?($[a>>>2>>>0]=t,$[a+4>>>2>>>0]=n):($[a>>>2>>>0]=n,$[a+4>>>2>>>0]=t)},t:()=>{Je("")},C:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,a){return n>>>=0,ee.copyWithin(t>>>0>>>0,n>>>0,n+(a>>>0)>>>0)},I:function(t){t>>>=0;var n=ee.length;if(4294901760<t)return!1;for(var a=1;4>=a;a*=2){var s=n*(1+.2/a);s=Math.min(s,t+100663296);var p=Math;s=Math.max(t,s);e:{p=(p.min.call(p,4294901760,s+(65536-s%65536)%65536)-M.buffer.byteLength+65535)/65536;try{M.grow(p),j();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var a=0;return Mr().forEach((s,p)=>{var b=n+a;for(p=$[t+4*p>>>2>>>0]=b,b=0;b<s.length;++b)Te[p++>>>0>>>0]=s.charCodeAt(b);Te[p>>>0>>>0]=0,a+=s.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var a=Mr();$[t>>>2>>>0]=a.length;var s=0;return a.forEach(p=>s+=p.length+1),$[n>>>2>>>0]=s,0},w:()=>52,A:function(){return 52},W:function(){return 70},z:function(t,n,a,s){n>>>=0,a>>>=0,s>>>=0;for(var p=0,b=0;b<a;b++){var C=$[n>>>2>>>0],A=$[n+4>>>2>>>0];n+=8;for(var U=0;U<A;U++){var x=ee[C+U>>>0],re=zr[t];x===0||x===10?((t===1?Z:N)(sr(re,0)),re.length=0):re.push(x)}p+=A}return $[s>>>2>>>0]=p,0},ga:yr,m:function(t,n,a,s){return yr(t>>>0,n>>>0,a>>>0,s>>>0)}},P=function(){var t={a:ot};return ce++,Ze(t,function(n){P=n.instance.exports,P=Vr(),M=P.ha,j(),Re.unshift(P.ia),ce--,ce==0&&(J!==null&&(clearInterval(J),J=null),le&&(n=le,le=null,n()))}).catch(w),{}}();u._OrtInit=(t,n)=>(u._OrtInit=P.ja)(t,n),u._OrtGetLastError=(t,n)=>(u._OrtGetLastError=P.ka)(t,n),u._OrtCreateSessionOptions=(t,n,a,s,p,b,C,A,U,x)=>(u._OrtCreateSessionOptions=P.la)(t,n,a,s,p,b,C,A,U,x),u._OrtAppendExecutionProvider=(t,n)=>(u._OrtAppendExecutionProvider=P.ma)(t,n),u._OrtAddFreeDimensionOverride=(t,n,a)=>(u._OrtAddFreeDimensionOverride=P.na)(t,n,a),u._OrtAddSessionConfigEntry=(t,n,a)=>(u._OrtAddSessionConfigEntry=P.oa)(t,n,a),u._OrtReleaseSessionOptions=t=>(u._OrtReleaseSessionOptions=P.pa)(t),u._OrtCreateSession=(t,n,a)=>(u._OrtCreateSession=P.qa)(t,n,a),u._OrtReleaseSession=t=>(u._OrtReleaseSession=P.ra)(t),u._OrtGetInputOutputCount=(t,n,a)=>(u._OrtGetInputOutputCount=P.sa)(t,n,a),u._OrtGetInputName=(t,n)=>(u._OrtGetInputName=P.ta)(t,n),u._OrtGetOutputName=(t,n)=>(u._OrtGetOutputName=P.ua)(t,n),u._OrtFree=t=>(u._OrtFree=P.va)(t),u._OrtCreateTensor=(t,n,a,s,p,b)=>(u._OrtCreateTensor=P.wa)(t,n,a,s,p,b),u._OrtGetTensorData=(t,n,a,s,p)=>(u._OrtGetTensorData=P.xa)(t,n,a,s,p),u._OrtReleaseTensor=t=>(u._OrtReleaseTensor=P.ya)(t),u._OrtCreateRunOptions=(t,n,a,s)=>(u._OrtCreateRunOptions=P.za)(t,n,a,s),u._OrtAddRunConfigEntry=(t,n,a)=>(u._OrtAddRunConfigEntry=P.Aa)(t,n,a),u._OrtReleaseRunOptions=t=>(u._OrtReleaseRunOptions=P.Ba)(t),u._OrtCreateBinding=t=>(u._OrtCreateBinding=P.Ca)(t),u._OrtBindInput=(t,n,a)=>(u._OrtBindInput=P.Da)(t,n,a),u._OrtBindOutput=(t,n,a,s)=>(u._OrtBindOutput=P.Ea)(t,n,a,s),u._OrtClearBoundOutputs=t=>(u._OrtClearBoundOutputs=P.Fa)(t),u._OrtReleaseBinding=t=>(u._OrtReleaseBinding=P.Ga)(t),u._OrtRunWithBinding=(t,n,a,s,p)=>(u._OrtRunWithBinding=P.Ha)(t,n,a,s,p),u._OrtRun=(t,n,a,s,p,b,C,A)=>(u._OrtRun=P.Ia)(t,n,a,s,p,b,C,A),u._OrtEndProfiling=t=>(u._OrtEndProfiling=P.Ja)(t);var ar=u._malloc=t=>(ar=u._malloc=P.Ka)(t),Pe=u._free=t=>(Pe=u._free=P.La)(t),ve=t=>(ve=P.Ma)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=P.Na)();var vr=()=>(vr=P.Pa)(),pe=t=>(pe=P.Qa)(t),we=t=>(we=P.Ra)(t);function Vr(){var t=P;t=Object.assign({},t);var n=s=>()=>s()>>>0,a=s=>p=>s(p)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=a(t.Ka),t.Ma=a(t.Ma),t.Pa=n(t.Pa),t.Ra=a(t.Ra),t}u.stackAlloc=we,u.stackSave=vr,u.stackRestore=pe,u.UTF8ToString=Ke,u.stringToUTF8=(t,n,a)=>Ie(t,ee,n,a),u.lengthBytesUTF8=ke;var wr;le=function t(){wr||qr(),wr||(le=t)};function qr(){if(!(0<ce)){for(;0<q.length;)q.shift()(u);if(!(0<ce||wr||(wr=!0,u.calledRun=!0,fe))){for(;0<Re.length;)Re.shift()(u);for(v(u);0<ge.length;)ge.shift()(u)}}}return qr(),y.ready}})();typeof Kt=="object"&&typeof vt=="object"?vt.exports=Zt:typeof define=="function"&&define.amd&&define([],()=>Zt)});var en=Ur(()=>{});var rn=Ur(()=>{});var tn={};pt(tn,{cpus:()=>Yn});var Yn,nn=dt(()=>{Yn=void 0});var sn=Ur((an,wt)=>{"use strict";var on=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(y={}){function u(){return q.buffer!=J.buffer&&K(),J}function v(){return q.buffer!=J.buffer&&K(),le}function w(){return q.buffer!=J.buffer&&K(),Je}function S(){return q.buffer!=J.buffer&&K(),xe}function d(){return q.buffer!=J.buffer&&K(),De}function T(){return q.buffer!=J.buffer&&K(),je}function I(){return q.buffer!=J.buffer&&K(),Ze}var c=y,k,z;c.ready=new Promise((e,r)=>{k=e,z=r});var L=Object.assign({},c),H="./this.program",V=(e,r)=>{throw r},Q=typeof window=="object",Z=typeof importScripts=="function",N=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=c.ENVIRONMENT_IS_PTHREAD||!1,fe="";function Te(e){return c.locateFile?c.locateFile(e,fe):fe+e}var ee,be,Ce;if(N){var E=(gt(),Ir(mt)),$=(yt(),Ir(ht));fe=Z?$.dirname(fe)+"/":__dirname+"/",ee=(r,o)=>(r=r.startsWith("file://")?new URL(r):$.normalize(r),E.readFileSync(r,o?void 0:"utf8")),Ce=r=>(r=ee(r,!0),r.buffer||(r=new Uint8Array(r)),r),be=(r,o,i,f=!0)=>{r=r.startsWith("file://")?new URL(r):$.normalize(r),E.readFile(r,f?void 0:"utf8",(m,O)=>{m?i(m):o(f?O.buffer:O)})},!c.thisProgram&&1<process.argv.length&&(H=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),V=(r,o)=>{throw process.exitCode=r,o},c.inspect=()=>"[Emscripten Module object]";let e;try{e=en()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(Q||Z)&&(Z?fe=self.location.href:typeof document<"u"&&document.currentScript&&(fe=document.currentScript.src),typeof l<"u"&&l&&(fe=l),fe.indexOf("blob:")!==0?fe=fe.substr(0,fe.replace(/[?#].*/,"").lastIndexOf("/")+1):fe="",N||(ee=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Z&&(Ce=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),be=(e,r,o)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):o()},i.onerror=o,i.send(null)}));N&&typeof performance>"u"&&(global.performance=rn().performance);var Ge=console.log.bind(console),Ve=console.error.bind(console);N&&(Ge=(...e)=>E.writeSync(1,e.join(" ")+`\n`),Ve=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var qe=Ge,ue=Ve;Object.assign(c,L),L=null;var j=!0;typeof WebAssembly!="object"&&Be("no native wasm support detected");var q,Re,ge=!1,ce,J,le,Je,xe,De,je,Xe,he,Ue,Ze;function K(){var e=q.buffer;c.HEAP8=J=new Int8Array(e),c.HEAP16=Je=new Int16Array(e),c.HEAPU8=le=new Uint8Array(e),c.HEAPU16=xe=new Uint16Array(e),c.HEAP32=De=new Int32Array(e),c.HEAPU32=je=new Uint32Array(e),c.HEAPF32=Xe=new Float32Array(e),c.HEAPF64=Ze=new Float64Array(e),c.HEAP64=he=new BigInt64Array(e),c.HEAPU64=Ue=new BigUint64Array(e)}var ae=16777216;if(5242880<=ae||Be("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ae+"! (STACK_SIZE=5242880)"),M)q=c.wasmMemory;else if(q=new WebAssembly.Memory({initial:ae/65536,maximum:65536,shared:!0}),!(q.buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),N&&ue("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");K(),ae=q.buffer.byteLength;var Ye=[],Le=[],sr=[],Ke=0;function ke(){return j||0<Ke}var Ie=0,ur=null,ze=null;function Oe(){if(Ie--,Ie==0&&(ur!==null&&(clearInterval(ur),ur=null),ze)){var e=ze;ze=null,e()}}function Be(e){throw e="Aborted("+e+")",ue(e),ge=!0,ce=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),z(e),e}function fr(e){return e.startsWith("data:application/octet-stream;base64,")}var Qe;Qe="ort-wasm-threaded.wasm",fr(Qe)||(Qe=Te(Qe));function We(e){if(Ce)return Ce(e);throw"both async and sync fetching of the wasm failed"}function rt(e){if(Q||Z){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>We(e));if(be)return new Promise((r,o)=>{be(e,i=>r(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>We(e))}function Me(e,r,o){return rt(e).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(o,i=>{ue(`failed to asynchronously prepare wasm: ${i}`),Be(i)})}function Br(e,r){var o=Qe;return typeof WebAssembly.instantiateStreaming!="function"||fr(o)||o.startsWith("file://")||N||typeof fetch!="function"?Me(o,e,r):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(r,function(f){return ue(`wasm streaming compile failed: ${f}`),ue("falling back to ArrayBuffer instantiation"),Me(o,e,r)}))}function er(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var me=e=>{e.terminate(),e.onmessage=()=>{}},lr=e=>{if(D.qb.length==0){var r=Te("ort-wasm-threaded.worker.js");r=new Worker(r),D.qb.push(r),D.Jb(D.qb[0])}if(r=D.qb.pop(),!r)return 6;D.nb.push(r),D.jb[e.mb]=r,r.mb=e.mb;var o={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return N&&r.unref(),r.postMessage(o,e.Sb),0},de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ye=(e,r,o)=>{r>>>=0;var i=r+o;for(o=r;e[o]&&!(o>=i);)++o;if(16<o-r&&e.buffer&&de)return de.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,o):e.subarray(r,o));for(i="";r<o;){var f=e[r++];if(f&128){var m=e[r++]&63;if((f&224)==192)i+=String.fromCharCode((f&31)<<6|m);else{var O=e[r++]&63;f=(f&240)==224?(f&15)<<12|m<<6|O:(f&7)<<18|m<<12|O<<6|e[r++]&63,65536>f?i+=String.fromCharCode(f):(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else i+=String.fromCharCode(f)}return i},rr=(e,r)=>(e>>>=0)?ye(v(),e,r):"";function Rr(e){if(M)return R(0,1,e);ce=e,ke()||(D.Nb(),ge=!0),V(e,new er(e))}var Or=e=>{if(ce=e,M)throw kr(e),"unwind";Rr(e)};function Lr(){Ye.unshift(()=>{Ie++,Oe()})}var D={qb:[],nb:[],Eb:[],jb:{},vb(){M?(D.receiveObjectTransfer=D.Lb,D.threadInitTLS=D.Db,D.setExitStatus=D.Cb,j=!1):Lr()},Cb:e=>{ce=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of D.nb)me(e);for(e of D.qb)me(e);D.qb=[],D.nb=[],D.jb=[]},Bb:e=>{var r=e.mb;delete D.jb[r],D.qb.push(e),D.nb.splice(D.nb.indexOf(e),1),e.mb=0,st(r)},Lb(){},Db(){D.Eb.forEach(e=>e())},Jb:e=>new Promise(r=>{e.onmessage=m=>{m=m.data;var O=m.cmd;if(m.targetThread&&m.targetThread!=Xr()){var _=D.jb[m.targetThread];_?_.postMessage(m,m.transferList):ue(`Internal error! Worker sent a message "${O}" to target pthread ${m.targetThread}, but that thread no longer exists!`)}else O==="checkMailbox"?x():O==="spawnThread"?lr(m):O==="cleanupThread"?((m=D.jb[m.thread])||Be(),D.Bb(m)):O==="killThread"?(m=m.thread,O=D.jb[m],delete D.jb[m],me(O),st(m),D.nb.splice(D.nb.indexOf(O),1),O.mb=0):O==="cancelThread"?D.jb[m.thread].postMessage({cmd:"cancel"}):O==="loaded"?(e.loaded=!0,r(e)):O==="alert"?alert(`Thread ${m.threadId}: ${m.text}`):m.target==="setimmediate"?e.postMessage(m):O==="callHandler"?c[m.handler](...m.args):O&&ue(`worker sent an unknown command ${O}`)},e.onerror=m=>{throw ue(`worker sent an error! ${m.filename}:${m.lineno}: ${m.message}`),m},N&&(e.on("message",m=>e.onmessage({data:m})),e.on("error",m=>e.onerror(m)));var o=[],i=[],f;for(f of i)c.hasOwnProperty(f)&&o.push(f);e.postMessage({cmd:"load",handlers:o,urlOrBlob:c.mainScriptUrlOrBlob||l,wasmMemory:q,wasmModule:Re})})};c.PThread=D;var cr=e=>{for(;0<e.length;)e.shift()(c)};c.establishStackSpace=()=>{var e=Xr(),r=T()[e+52>>>2>>>0];e=T()[e+56>>>2>>>0],qt(r,r-e),Kr(r)};function kr(e){if(M)return R(1,0,e);Or(e)}var dr=[],Hr;c.invokeEntryPoint=(e,r)=>{var o=dr[e];o||(e>=dr.length&&(dr.length=e+1),dr[e]=o=Hr.get(e)),e=o(r),ke()?D.Cb(e):ut(e)};function tt(e){this.sb=e-24,this.Kb=function(r){T()[this.sb+4>>>2>>>0]=r},this.xb=function(r){T()[this.sb+8>>>2>>>0]=r},this.vb=function(r,o){this.wb(),this.Kb(r),this.xb(o)},this.wb=function(){T()[this.sb+16>>>2>>>0]=0}}var tr=0,nt=0;function nr(e,r,o,i){return M?R(2,1,e,r,o,i):or(e,r,o,i)}function or(e,r,o,i){if(e>>>=0,r>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var f=[];return M&&f.length===0?nr(e,r,o,i):(e={Mb:o,mb:e,Fb:i,Sb:f},M?(e.Ub="spawnThread",postMessage(e,f),0):lr(e))}function _r(e,r,o){return M?R(3,1,e,r,o):0}function $r(e,r){if(M)return R(4,1,e,r)}var pr=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++o):r+=3}return r},Tr=(e,r,o,i)=>{if(o>>>=0,!(0<i))return 0;var f=o;i=o+i-1;for(var m=0;m<e.length;++m){var O=e.charCodeAt(m);if(55296<=O&&57343>=O){var _=e.charCodeAt(++m);O=65536+((O&1023)<<10)|_&1023}if(127>=O){if(o>=i)break;r[o++>>>0]=O}else{if(2047>=O){if(o+1>=i)break;r[o++>>>0]=192|O>>6}else{if(65535>=O){if(o+2>=i)break;r[o++>>>0]=224|O>>12}else{if(o+3>=i)break;r[o++>>>0]=240|O>>18,r[o++>>>0]=128|O>>12&63}r[o++>>>0]=128|O>>6&63}r[o++>>>0]=128|O&63}}return r[o>>>0]=0,o-f},mr=(e,r,o)=>Tr(e,v(),r,o);function Nr(e,r){if(M)return R(5,1,e,r)}function jr(e,r,o){if(M)return R(6,1,e,r,o)}function Yr(e,r,o){return M?R(7,1,e,r,o):0}function Ar(e,r){if(M)return R(8,1,e,r)}function He(e,r,o){if(M)return R(9,1,e,r,o)}function Er(e,r,o,i){if(M)return R(10,1,e,r,o,i)}function Sr(e,r,o,i){if(M)return R(11,1,e,r,o,i)}function Cr(e,r,o,i){if(M)return R(12,1,e,r,o,i)}function gr(e){if(M)return R(13,1,e)}function Mr(e,r){if(M)return R(14,1,e,r)}function hr(e,r,o){if(M)return R(15,1,e,r,o)}var zr=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Pr,_e=e=>{for(var r="";v()[e>>>0];)r+=Pr[v()[e++>>>0]];return r},Fr={},yr={},Gr={},Ae;function ot(e,r,o={}){var i=r.name;if(!e)throw new Ae(`type "${i}" must have a positive integer typeid pointer`);if(yr.hasOwnProperty(e)){if(o.Hb)return;throw new Ae(`Cannot register type \'${i}\' twice`)}yr[e]=r,delete Gr[e],Fr.hasOwnProperty(e)&&(r=Fr[e],delete Fr[e],r.forEach(f=>f()))}function P(e,r,o={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");ot(e,r,o)}var ar=(e,r,o)=>{switch(r){case 1:return o?i=>u()[i>>>0>>>0]:i=>v()[i>>>0>>>0];case 2:return o?i=>w()[i>>>1>>>0]:i=>S()[i>>>1>>>0];case 4:return o?i=>d()[i>>>2>>>0]:i=>T()[i>>>2>>>0];case 8:return o?i=>he[i>>>3]:i=>Ue[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Pe(){this.lb=[void 0],this.zb=[]}var ve=new Pe;function vr(e){e>>>=0,e>=ve.sb&&--ve.get(e).Ab===0&&ve.xb(e)}var pe=e=>{if(!e)throw new Ae("Cannot use deleted val. handle = "+e);return ve.get(e).value},we=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.wb({Ab:1,value:e})}};function Vr(e){return this.fromWireType(d()[e>>>2>>>0])}var wr=(e,r)=>{switch(r){case 4:return function(o){var i=this.fromWireType;return q.buffer!=J.buffer&&K(),i.call(this,Xe[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(I()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function qr(e){return this.fromWireType(T()[e>>>2>>>0])}var t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,r)=>{for(var o=e>>1,i=o+r/2;!(o>=i)&&S()[o>>>0];)++o;if(o<<=1,32<o-e&&t)return t.decode(v().slice(e,o));for(o="",i=0;!(i>=r/2);++i){var f=w()[e+2*i>>>1>>>0];if(f==0)break;o+=String.fromCharCode(f)}return o},a=(e,r,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=r;o=o<2*e.length?o/2:e.length;for(var f=0;f<o;++f){var m=e.charCodeAt(f);w()[r>>>1>>>0]=m,r+=2}return w()[r>>>1>>>0]=0,r-i},s=e=>2*e.length,p=(e,r)=>{for(var o=0,i="";!(o>=r/4);){var f=d()[e+4*o>>>2>>>0];if(f==0)break;++o,65536<=f?(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023)):i+=String.fromCharCode(f)}return i},b=(e,r,o)=>{if(r>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var i=r;o=i+o-4;for(var f=0;f<e.length;++f){var m=e.charCodeAt(f);if(55296<=m&&57343>=m){var O=e.charCodeAt(++f);m=65536+((m&1023)<<10)|O&1023}if(d()[r>>>2>>>0]=m,r+=4,r+4>o)break}return d()[r>>>2>>>0]=0,r-i},C=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);55296<=i&&57343>=i&&++o,r+=4}return r},A=e=>{if(!ge)try{if(e(),!ke())try{M?ut(ce):Or(ce)}catch(r){r instanceof er||r=="unwind"||V(1,r)}}catch(r){r instanceof er||r=="unwind"||V(1,r)}};function U(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(d(),e>>>2,e).value.then(x),e+=128,Atomics.store(d(),e>>>2,1))}c.__emscripten_thread_mailbox_await=U;var x=()=>{var e=Xr();e&&(U(e),A(()=>Vt()))};c.checkMailbox=x;var re=e=>{var r=ft();return e=e(),Kr(r),e};function R(e,r){var o=arguments.length-2,i=arguments;return re(()=>{for(var f=2*o,m=lt(8*f),O=m>>>3,_=0;_<o;_++){var W=i[2+_];typeof W=="bigint"?(he[O+2*_]=1n,he[O+2*_+1]=W):(he[O+2*_]=0n,I()[O+2*_+1>>>0]=W)}return Gt(e,f,m,r)})}var Ee=[],g=(e,r)=>{var o=yr[e];if(o===void 0)throw e=Yt(e),o=_e(e),$e(e),new Ae(r+" has unknown type "+o);return o},Y={},X=e=>{var r=Y[e];return r===void 0?_e(e):r},Fe=[],Dr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Cn=e=>{var r=Fe.length;return Fe.push(e),r},Mn=(e,r)=>{for(var o=Array(e),i=0;i<e;++i)o[i]=g(T()[r+4*i>>>2>>>0],"parameter "+i);return o},Et=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},St={};function Pn(e,r){return e=Et(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function Fn(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var o=Pn(r.name||"unknownFunctionName",function(){});return o.prototype=r.prototype,o=new o,e=r.apply(o,e),e instanceof Object?e:o}var Dn=e=>{for(var r="",o=0;o<e;++o)r+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<e;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+r+`);\nreturn valueToHandle(obj);\n}\n`))(g,c,we,()=>T())},Ct={},br=e=>e%4===0&&(e%100!==0||e%400===0),Mt=[0,31,60,91,121,152,182,213,244,274,305,335],Pt=[0,31,59,90,120,151,181,212,243,273,304,334];function Ft(e,r,o,i,f,m,O){return M?R(16,1,e,r,o,i,f,m,O):-52}function Dt(e,r,o,i,f,m){if(M)return R(17,1,e,r,o,i,f,m)}var Ut=e=>{var r=pr(e)+1,o=Zr(r);return o&&mr(e,o,r),o},at={},It=()=>{if(!it){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:H||"./this.program"},r;for(r in at)at[r]===void 0?delete e[r]:e[r]=at[r];var o=[];for(r in e)o.push(`${r}=${e[r]}`);it=o}return it},it;function Wt(e,r){if(M)return R(18,1,e,r);e>>>=0,r>>>=0;var o=0;return It().forEach((i,f)=>{var m=r+o;for(f=T()[e+4*f>>>2>>>0]=m,m=0;m<i.length;++m)u()[f++>>>0>>>0]=i.charCodeAt(m);u()[f>>>0>>>0]=0,o+=i.length+1}),0}function xt(e,r){if(M)return R(19,1,e,r);e>>>=0,r>>>=0;var o=It();T()[e>>>2>>>0]=o.length;var i=0;return o.forEach(f=>i+=f.length+1),T()[r>>>2>>>0]=i,0}function Bt(e){return M?R(20,1,e):52}function Rt(e,r,o,i){return M?R(21,1,e,r,o,i):52}function Lt(e,r,o,i){return M?R(22,1,e,r,o,i):70}var Un=[null,[],[]];function kt(e,r,o,i){if(M)return R(23,1,e,r,o,i);r>>>=0,o>>>=0,i>>>=0;for(var f=0,m=0;m<o;m++){var O=T()[r>>>2>>>0],_=T()[r+4>>>2>>>0];r+=8;for(var W=0;W<_;W++){var B=v()[O+W>>>0],te=Un[e];B===0||B===10?((e===1?qe:ue)(ye(te,0)),te.length=0):te.push(B)}f+=_}return T()[i>>>2>>>0]=f,0}var Ht=[31,29,31,30,31,30,31,31,30,31,30,31],$t=[31,28,31,30,31,30,31,31,30,31,30,31];function In(e){var r=Array(pr(e)+1);return Tr(e,r,0,r.length),r}var Wn=(e,r)=>{u().set(e,r>>>0)};function Nt(e,r,o,i){function f(h,G,ne){for(h=typeof h=="number"?h.toString():h||"";h.length<G;)h=ne[0]+h;return h}function m(h,G){return f(h,G,"0")}function O(h,G){function ne(Xt){return 0>Xt?-1:0<Xt?1:0}var ir;return(ir=ne(h.getFullYear()-G.getFullYear()))===0&&(ir=ne(h.getMonth()-G.getMonth()))===0&&(ir=ne(h.getDate()-G.getDate())),ir}function _(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function W(h){var G=h.ob;for(h=new Date(new Date(h.pb+1900,0,1).getTime());0<G;){var ne=h.getMonth(),ir=(br(h.getFullYear())?Ht:$t)[ne];if(G>ir-h.getDate())G-=ir-h.getDate()+1,h.setDate(1),11>ne?h.setMonth(ne+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+G);break}}return ne=new Date(h.getFullYear()+1,0,4),G=_(new Date(h.getFullYear(),0,4)),ne=_(ne),0>=O(G,h)?0>=O(ne,h)?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}e>>>=0,r>>>=0,o>>>=0,i>>>=0;var B=T()[i+40>>>2>>>0];i={Qb:d()[i>>>2>>>0],Pb:d()[i+4>>>2>>>0],tb:d()[i+8>>>2>>>0],yb:d()[i+12>>>2>>>0],ub:d()[i+16>>>2>>>0],pb:d()[i+20>>>2>>>0],kb:d()[i+24>>>2>>>0],ob:d()[i+28>>>2>>>0],Wb:d()[i+32>>>2>>>0],Ob:d()[i+36>>>2>>>0],Rb:B?rr(B):""},o=rr(o),B={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var te in B)o=o.replace(new RegExp(te,"g"),B[te]);var Se="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ne="January February March April May June July August September October November December".split(" ");B={"%a":h=>Se[h.kb].substring(0,3),"%A":h=>Se[h.kb],"%b":h=>Ne[h.ub].substring(0,3),"%B":h=>Ne[h.ub],"%C":h=>m((h.pb+1900)/100|0,2),"%d":h=>m(h.yb,2),"%e":h=>f(h.yb,2," "),"%g":h=>W(h).toString().substring(2),"%G":h=>W(h),"%H":h=>m(h.tb,2),"%I":h=>(h=h.tb,h==0?h=12:12<h&&(h-=12),m(h,2)),"%j":h=>{for(var G=0,ne=0;ne<=h.ub-1;G+=(br(h.pb+1900)?Ht:$t)[ne++]);return m(h.yb+G,3)},"%m":h=>m(h.ub+1,2),"%M":h=>m(h.Pb,2),"%n":()=>`\n`,"%p":h=>0<=h.tb&&12>h.tb?"AM":"PM","%S":h=>m(h.Qb,2),"%t":()=>"	","%u":h=>h.kb||7,"%U":h=>m(Math.floor((h.ob+7-h.kb)/7),2),"%V":h=>{var G=Math.floor((h.ob+7-(h.kb+6)%7)/7);if(2>=(h.kb+371-h.ob-2)%7&&G++,G)G==53&&(ne=(h.kb+371-h.ob)%7,ne==4||ne==3&&br(h.pb)||(G=1));else{G=52;var ne=(h.kb+7-h.ob-1)%7;(ne==4||ne==5&&br(h.pb%400-1))&&G++}return m(G,2)},"%w":h=>h.kb,"%W":h=>m(Math.floor((h.ob+7-(h.kb+6)%7)/7),2),"%y":h=>(h.pb+1900).toString().substring(2),"%Y":h=>h.pb+1900,"%z":h=>{h=h.Ob;var G=0<=h;return h=Math.abs(h)/60,(G?"+":"-")+("0000"+(h/60*100+h%60)).slice(-4)},"%Z":h=>h.Rb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(te in B)o.includes(te)&&(o=o.replace(new RegExp(te,"g"),B[te](i)));return o=o.replace(/\\0\\0/g,"%"),te=In(o),te.length>r?0:(Wn(te,e),te.length-1)}D.vb();for(var jt=Array(256),Jr=0;256>Jr;++Jr)jt[Jr]=String.fromCharCode(Jr);Pr=jt,Ae=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Pe.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),ve.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.sb=ve.lb.length,c.count_emval_handles=()=>{for(var e=0,r=ve.sb;r<ve.lb.length;++r)ve.lb[r]!==void 0&&++e;return e};var xn=[Rr,kr,nr,_r,$r,Nr,jr,Yr,Ar,He,Er,Sr,Cr,gr,Mr,hr,Ft,Dt,Wt,xt,Bt,Rt,Lt,kt],Bn={b:function(e,r,o){throw e>>>=0,new tt(e).vb(r>>>0,o>>>0),tr=e,nt++,tr},ea:function(e){zt(e>>>0,!Z,1,!Q,131072,!1),D.Db()},E:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):((e=D.jb[e])||Be(),D.Bb(e))},W:or,y:_r,ka:$r,S:Nr,U:jr,L:Yr,ia:Ar,ba:He,ha:Er,G:Sr,T:Cr,Q:gr,ja:Mr,R:hr,J:function(e,r,o,i,f){e>>>=0,r>>>=0,o>>>=0,r=_e(r);var m=r.indexOf("u")!=-1;m&&(f=(1n<<64n)-1n),P(e,{name:r,fromWireType:O=>O,toWireType:function(O,_){if(typeof _!="bigint"&&typeof _!="number")throw new TypeError(`Cannot convert "${zr(_)}" to ${this.name}`);if(_<i||_>f)throw new TypeError(`Passing a number "${zr(_)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${f}]!`);return _},argPackAdvance:8,readValueFromPointer:ar(r,o,!m),rb:null})},qa:function(e,r,o,i){e>>>=0,r=_e(r>>>0),P(e,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,m){return m?o:i},argPackAdvance:8,readValueFromPointer:function(f){return this.fromWireType(v()[f>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=_e(r>>>0),P(e,{name:r,fromWireType:o=>{var i=pe(o);return vr(o),i},toWireType:(o,i)=>we(i),argPackAdvance:8,readValueFromPointer:Vr,rb:null})},I:function(e,r,o){e>>>=0,o>>>=0,r=_e(r>>>0),P(e,{name:r,fromWireType:i=>i,toWireType:(i,f)=>f,argPackAdvance:8,readValueFromPointer:wr(r,o),rb:null})},u:function(e,r,o,i,f){if(e>>>=0,o>>>=0,r=_e(r>>>0),f===-1&&(f=4294967295),f=_=>_,i===0){var m=32-8*o;f=_=>_<<m>>>m}var O=r.includes("unsigned")?function(_,W){return W>>>0}:function(_,W){return W};P(e,{name:r,fromWireType:f,toWireType:O,argPackAdvance:8,readValueFromPointer:ar(r,o,i!==0),rb:null})},m:function(e,r,o){function i(m){var O=T()[m>>>2>>>0];return m=T()[m+4>>>2>>>0],new f(u().buffer,m,O)}e>>>=0;var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];o=_e(o>>>0),P(e,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Hb:!0})},K:function(e,r){e>>>=0,r=_e(r>>>0);var o=r==="std::string";P(e,{name:r,fromWireType:function(i){var f=T()[i>>>2>>>0],m=i+4;if(o)for(var O=m,_=0;_<=f;++_){var W=m+_;if(_==f||v()[W>>>0]==0){if(O=rr(O,W-O),B===void 0)var B=O;else B+=String.fromCharCode(0),B+=O;O=W+1}}else{for(B=Array(f),_=0;_<f;++_)B[_]=String.fromCharCode(v()[m+_>>>0]);B=B.join("")}return $e(i),B},toWireType:function(i,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var m=typeof f=="string";if(!(m||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array))throw new Ae("Cannot pass non-string to std::string");var O=o&&m?pr(f):f.length,_=Zr(4+O+1),W=_+4;if(T()[_>>>2>>>0]=O,o&&m)mr(f,W,O+1);else if(m)for(m=0;m<O;++m){var B=f.charCodeAt(m);if(255<B)throw $e(W),new Ae("String has UTF-16 code units that do not fit in 8 bits");v()[W+m>>>0]=B}else for(m=0;m<O;++m)v()[W+m>>>0]=f[m];return i!==null&&i.push($e,_),_},argPackAdvance:8,readValueFromPointer:qr,rb(i){$e(i)}})},A:function(e,r,o){if(e>>>=0,r>>>=0,o>>>=0,o=_e(o),r===2)var i=n,f=a,m=s,O=()=>S(),_=1;else r===4&&(i=p,f=b,m=C,O=()=>T(),_=2);P(e,{name:o,fromWireType:W=>{for(var B=T()[W>>>2>>>0],te=O(),Se,Ne=W+4,h=0;h<=B;++h){var G=W+4+h*r;(h==B||te[G>>>_]==0)&&(Ne=i(Ne,G-Ne),Se===void 0?Se=Ne:(Se+=String.fromCharCode(0),Se+=Ne),Ne=G+r)}return $e(W),Se},toWireType:(W,B)=>{if(typeof B!="string")throw new Ae(`Cannot pass non-string to C++ string type ${o}`);var te=m(B),Se=Zr(4+te+r);return T()[Se>>>2]=te>>_,f(B,Se+4,te+r),W!==null&&W.push($e,Se),Se},argPackAdvance:8,readValueFromPointer:Vr,rb(W){$e(W)}})},ra:function(e,r){e>>>=0,r=_e(r>>>0),P(e,{Ib:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>x()):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=D.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,o,i){r>>>=0,o/=2,Ee.length=o,i=i>>>0>>>3;for(var f=0;f<o;f++)Ee[f]=he[i+2*f]?he[i+2*f+1]:I()[i+2*f+1>>>0];return e=xn[e],D.Gb=r,r=e.apply(null,Ee),D.Gb=0,r},da:U,ma:function(e){N&&D.jb[e>>>0].ref()},r:function(e,r,o){r>>>=0,o>>>=0,e=pe(e>>>0),r=g(r,"emval::as");var i=[],f=we(i);return T()[o>>>2>>>0]=f,r.toWireType(i,e)},i:function(e,r,o,i,f){o>>>=0,i>>>=0,f>>>=0,e=Fe[e>>>0],r=pe(r>>>0),o=X(o);var m=[];return T()[i>>>2>>>0]=we(m),e(r,o,m,f)},s:function(e,r,o,i){o>>>=0,i>>>=0,e=Fe[e>>>0],r=pe(r>>>0),o=X(o),e(r,o,null,i)},c:vr,B:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),e==r},o:function(e){return e>>>=0,e===0?we(Dr()):(e=X(e),we(Dr()[e]))},g:function(e,r){var o=Mn(e,r>>>0),i=o[0];r=i.name+"_$"+o.slice(1).map(function(te){return te.name}).join("_")+"$";var f=St[r];if(f!==void 0)return f;f=["retType"];for(var m=[i],O="",_=0;_<e-1;++_)O+=(_!==0?", ":"")+"arg"+_,f.push("argType"+_),m.push(o[1+_]);var W="return function "+Et("methodCaller_"+r)+`(handle, name, destructors, args) {\n`,B=0;for(_=0;_<e-1;++_)W+="    var arg"+_+" = argType"+_+".readValueFromPointer(args"+(B?"+"+B:"")+`);\n`,B+=o[_+1].argPackAdvance;for(W+="    var rv = handle[name]("+O+`);\n`,_=0;_<e-1;++_)o[_+1].deleteObject&&(W+="    argType"+_+".deleteObject(arg"+_+`);\n`);return i.Ib||(W+=`    return retType.toWireType(destructors, rv);\n`),f.push(W+`};\n`),e=Fn(f).apply(null,m),f=Cn(e),St[r]=f},q:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),we(e[r])},d:function(e){e>>>=0,4<e&&(ve.get(e).Ab+=1)},x:function(e,r,o,i){o>>>=0,i>>>=0,e=pe(e>>>0);var f=Ct[r];return f||(f=Dn(r),Ct[r]=f),f(e,o,i)},v:function(){return we([])},l:function(e){e=pe(e>>>0);for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=e[o];return we(r)},e:function(e){return we(X(e>>>0))},k:function(){return we({})},f:function(e){e>>>=0;for(var r=pe(e);r.length;){var o=r.pop();r.pop()(o)}vr(e)},j:function(e,r,o){r>>>=0,o>>>=0,e=pe(e>>>0),r=pe(r),o=pe(o),e[r]=o},h:function(e,r){return r>>>=0,e=g(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),we(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getUTCSeconds(),d()[r+4>>>2>>>0]=e.getUTCMinutes(),d()[r+8>>>2>>>0]=e.getUTCHours(),d()[r+12>>>2>>>0]=e.getUTCDate(),d()[r+16>>>2>>>0]=e.getUTCMonth(),d()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getSeconds(),d()[r+4>>>2>>>0]=e.getMinutes(),d()[r+8>>>2>>>0]=e.getHours(),d()[r+12>>>2>>>0]=e.getDate(),d()[r+16>>>2>>>0]=e.getMonth(),d()[r+20>>>2>>>0]=e.getFullYear()-1900,d()[r+24>>>2>>>0]=e.getDay();var o=(br(e.getFullYear())?Mt:Pt)[e.getMonth()]+e.getDate()-1|0;d()[r+28>>>2>>>0]=o,d()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=i&&e.getTimezoneOffset()==Math.min(i,o))|0,d()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),o=d()[e+32>>>2>>>0],i=r.getTimezoneOffset(),f=new Date(r.getFullYear(),6,1).getTimezoneOffset(),m=new Date(r.getFullYear(),0,1).getTimezoneOffset(),O=Math.min(m,f);return 0>o?d()[e+32>>>2>>>0]=+(f!=m&&O==i):0<o!=(O==i)&&(f=Math.max(m,f),r.setTime(r.getTime()+6e4*((0<o?O:f)-i))),d()[e+24>>>2>>>0]=r.getDay(),o=(br(r.getFullYear())?Mt:Pt)[r.getMonth()]+r.getDate()-1|0,d()[e+28>>>2>>>0]=o,d()[e>>>2>>>0]=r.getSeconds(),d()[e+4>>>2>>>0]=r.getMinutes(),d()[e+8>>>2>>>0]=r.getHours(),d()[e+12>>>2>>>0]=r.getDate(),d()[e+16>>>2>>>0]=r.getMonth(),d()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:Ft,Z:Dt,N:function(e,r,o){function i(B){return(B=B.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?B[1]:"GMT"}e>>>=0,r>>>=0,o>>>=0;var f=new Date().getFullYear(),m=new Date(f,0,1),O=new Date(f,6,1);f=m.getTimezoneOffset();var _=O.getTimezoneOffset(),W=Math.max(f,_);T()[e>>>2>>>0]=60*W,d()[r>>>2>>>0]=+(f!=_),e=i(m),r=i(O),e=Ut(e),r=Ut(r),_<f?(T()[o>>>2>>>0]=e,T()[o+4>>>2>>>0]=r):(T()[o>>>2>>>0]=r,T()[o+4>>>2>>>0]=e)},n:()=>{Be("")},F:()=>{},H:()=>Date.now(),la:()=>{throw Ke+=1,"unwind"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>N?(nn(),Ir(tn)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=v().length;if(e<=r||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var i=r*(1+.2/o);i=Math.min(i,e+100663296);var f=Math;i=Math.max(e,i);e:{f=(f.min.call(f,4294901760,i+(65536-i%65536)%65536)-q.buffer.byteLength+65535)/65536;try{q.grow(f),K();var m=1;break e}catch{}m=void 0}if(m)return!0}return!1},fa:Wt,ga:xt,V:Or,z:Bt,D:Rt,ca:Lt,C:kt,a:q||c.wasmMemory,oa:Nt,p:function(e,r,o,i){return Nt(e>>>0,r>>>0,o>>>0,i>>>0)}},F=function(){var e={a:Bn};return Ie++,Br(e,function(r){var o=r.module;F=r.instance.exports,F=Rn(),D.Eb.push(F.Xa),Hr=F._a,Le.unshift(F.sa),Re=o,Oe()}).catch(z),{}}();c._OrtInit=(e,r)=>(c._OrtInit=F.ta)(e,r),c._OrtGetLastError=(e,r)=>(c._OrtGetLastError=F.ua)(e,r),c._OrtCreateSessionOptions=(e,r,o,i,f,m,O,_,W,B)=>(c._OrtCreateSessionOptions=F.va)(e,r,o,i,f,m,O,_,W,B),c._OrtAppendExecutionProvider=(e,r)=>(c._OrtAppendExecutionProvider=F.wa)(e,r),c._OrtAddFreeDimensionOverride=(e,r,o)=>(c._OrtAddFreeDimensionOverride=F.xa)(e,r,o),c._OrtAddSessionConfigEntry=(e,r,o)=>(c._OrtAddSessionConfigEntry=F.ya)(e,r,o),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=F.za)(e),c._OrtCreateSession=(e,r,o)=>(c._OrtCreateSession=F.Aa)(e,r,o),c._OrtReleaseSession=e=>(c._OrtReleaseSession=F.Ba)(e),c._OrtGetInputOutputCount=(e,r,o)=>(c._OrtGetInputOutputCount=F.Ca)(e,r,o),c._OrtGetInputName=(e,r)=>(c._OrtGetInputName=F.Da)(e,r),c._OrtGetOutputName=(e,r)=>(c._OrtGetOutputName=F.Ea)(e,r),c._OrtFree=e=>(c._OrtFree=F.Fa)(e),c._OrtCreateTensor=(e,r,o,i,f,m)=>(c._OrtCreateTensor=F.Ga)(e,r,o,i,f,m),c._OrtGetTensorData=(e,r,o,i,f)=>(c._OrtGetTensorData=F.Ha)(e,r,o,i,f),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=F.Ia)(e),c._OrtCreateRunOptions=(e,r,o,i)=>(c._OrtCreateRunOptions=F.Ja)(e,r,o,i),c._OrtAddRunConfigEntry=(e,r,o)=>(c._OrtAddRunConfigEntry=F.Ka)(e,r,o),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=F.La)(e),c._OrtCreateBinding=e=>(c._OrtCreateBinding=F.Ma)(e),c._OrtBindInput=(e,r,o)=>(c._OrtBindInput=F.Na)(e,r,o),c._OrtBindOutput=(e,r,o,i)=>(c._OrtBindOutput=F.Oa)(e,r,o,i),c._OrtClearBoundOutputs=e=>(c._OrtClearBoundOutputs=F.Pa)(e),c._OrtReleaseBinding=e=>(c._OrtReleaseBinding=F.Qa)(e),c._OrtRunWithBinding=(e,r,o,i,f)=>(c._OrtRunWithBinding=F.Ra)(e,r,o,i,f),c._OrtRun=(e,r,o,i,f,m,O,_)=>(c._OrtRun=F.Sa)(e,r,o,i,f,m,O,_),c._OrtEndProfiling=e=>(c._OrtEndProfiling=F.Ta)(e);var Xr=c._pthread_self=()=>(Xr=c._pthread_self=F.Ua)(),Zr=c._malloc=e=>(Zr=c._malloc=F.Va)(e),$e=c._free=e=>($e=c._free=F.Wa)(e);c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=F.Xa)();var Yt=e=>(Yt=F.Ya)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=F.Za)();var zt=c.__emscripten_thread_init=(e,r,o,i,f,m)=>(zt=c.__emscripten_thread_init=F.$a)(e,r,o,i,f,m);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=F.ab)();var Gt=(e,r,o,i)=>(Gt=F.bb)(e,r,o,i),st=e=>(st=F.cb)(e),ut=c.__emscripten_thread_exit=e=>(ut=c.__emscripten_thread_exit=F.db)(e),Vt=c.__emscripten_check_mailbox=()=>(Vt=c.__emscripten_check_mailbox=F.eb)(),qt=(e,r)=>(qt=F.fb)(e,r),ft=()=>(ft=F.gb)(),Kr=e=>(Kr=F.hb)(e),lt=e=>(lt=F.ib)(e);function Rn(){var e=F;e=Object.assign({},e);var r=i=>()=>i()>>>0,o=i=>f=>i(f)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=o(e.Va),e.Ya=o(e.Ya),e.gb=r(e.gb),e.ib=o(e.ib),e}c.keepRuntimeAlive=ke,c.wasmMemory=q,c.stackAlloc=lt,c.stackSave=ft,c.stackRestore=Kr,c.UTF8ToString=rr,c.stringToUTF8=mr,c.lengthBytesUTF8=pr,c.ExitStatus=er,c.PThread=D;var Qr;ze=function e(){Qr||Jt(),Qr||(ze=e)};function Jt(){0<Ie||(M?(k(c),M||cr(Le),startWorker(c)):(cr(Ye),0<Ie||Qr||(Qr=!0,c.calledRun=!0,ge||(M||cr(Le),k(c),M||cr(sr)))))}return Jt(),y.ready}})();typeof an=="object"&&typeof wt=="object"?wt.exports=on:typeof define=="function"&&define.amd&&define([],()=>on)});var un=Ur((co,zn)=>{zn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var ln;ln=Qt();var Gn=sn(),bt,Ot=!1,et=!1,fn=!1,Vn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},qn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Jn=(l,y)=>l?y?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":y?"ort-wasm-threaded.wasm":"ort-wasm.wasm",cn=async l=>{if(Ot)return Promise.resolve();if(et)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(fn)throw new Error("previous call to \'initializeWebAssembly()\' failed.");et=!0;let y=l.initTimeout,u=l.numThreads,v=l.simd,w=u>1&&Vn(),S=v&&qn(),d=l.wasmPaths,T=typeof d=="string"?d:void 0,I=Jn(S,w),c=typeof d=="object"?d[I]:void 0,k=!1,z=[];if(y>0&&z.push(new Promise(L=>{setTimeout(()=>{k=!0,L()},y)})),z.push(new Promise((L,H)=>{let V=w?Gn:ln,Q={locateFile:(Z,N)=>w&&Z.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([un()],{type:"text/javascript"})):Z.endsWith(".wasm")?c||(T??N)+I:N+Z};if(w)if(typeof Blob>"u")Q.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Z=`var ortWasmThreaded=${V.toString()};`;Q.mainScriptUrlOrBlob=new Blob([Z],{type:"text/javascript"})}V(Q).then(Z=>{et=!1,Ot=!0,bt=Z,L()},Z=>{et=!1,fn=!0,H(Z)})})),await Promise.race(z),k)throw new Error(`WebAssembly backend initializing failed due to timeout: ${y}ms`)},ie=()=>{if(Ot&&bt)return bt;throw new Error("WebAssembly is not initialized yet.")};var se=(l,y)=>{let u=ie(),v=u.lengthBytesUTF8(l)+1,w=u._malloc(v);return u.stringToUTF8(l,w,v),y.push(w),w},Wr=(l,y,u,v)=>{if(typeof l=="object"&&l!==null){if(u.has(l))throw new Error("Circular reference in options");u.add(l)}Object.entries(l).forEach(([w,S])=>{let d=y?y+w:w;if(typeof S=="object")Wr(S,d+".",u,v);else if(typeof S=="string"||typeof S=="number")v(d,S.toString());else if(typeof S=="boolean")v(d,S?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof S}`)})},oe=l=>{let y=ie(),u=y.stackSave();try{let v=y.stackAlloc(8);y._OrtGetLastError(v,v+4);let w=y.HEAP32[v/4],S=y.HEAPU32[v/4+1],d=S?y.UTF8ToString(S):"";throw new Error(`${l} ERROR_CODE: ${w}, ERROR_MESSAGE: ${d}`)}finally{y.stackRestore(u)}};var dn=l=>{let y=ie(),u=0,v=[],w=l||{};try{if(l?.logSeverityLevel===void 0)w.logSeverityLevel=2;else if(typeof l.logSeverityLevel!="number"||!Number.isInteger(l.logSeverityLevel)||l.logSeverityLevel<0||l.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${l.logSeverityLevel}`);if(l?.logVerbosityLevel===void 0)w.logVerbosityLevel=0;else if(typeof l.logVerbosityLevel!="number"||!Number.isInteger(l.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${l.logVerbosityLevel}`);l?.terminate===void 0&&(w.terminate=!1);let S=0;return l?.tag!==void 0&&(S=se(l.tag,v)),u=y._OrtCreateRunOptions(w.logSeverityLevel,w.logVerbosityLevel,!!w.terminate,S),u===0&&oe("Can\'t create run options."),l?.extra!==void 0&&Wr(l.extra,"",new WeakSet,(d,T)=>{let I=se(d,v),c=se(T,v);y._OrtAddRunConfigEntry(u,I,c)!==0&&oe(`Can\'t set a run config entry: ${d} - ${T}.`)}),[u,v]}catch(S){throw u!==0&&y._OrtReleaseRunOptions(u),v.forEach(d=>y._free(d)),S}};var Xn=l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}},Zn=l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}},Kn=l=>{l.extra||(l.extra={}),l.extra.session||(l.extra.session={});let y=l.extra.session;y.use_ort_model_bytes_directly||(y.use_ort_model_bytes_directly="1"),l.executionProviders&&l.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(l.enableMemPattern=!1)},Qn=(l,y,u)=>{for(let v of y){let w=typeof v=="string"?v:v.name;switch(w){case"xnnpack":w="XNNPACK";break;case"webnn":if(w="WEBNN",typeof v!="string"){let d=v;if(d?.deviceType){let T=se("deviceType",u),I=se(d.deviceType,u);ie()._OrtAddSessionConfigEntry(l,T,I)!==0&&oe(`Can\'t set a session config entry: \'deviceType\' - ${d.deviceType}.`)}if(d?.numThreads){let T=d.numThreads;(typeof T!="number"||!Number.isInteger(T)||T<0)&&(T=0);let I=se("numThreads",u),c=se(T.toString(),u);ie()._OrtAddSessionConfigEntry(l,I,c)!==0&&oe(`Can\'t set a session config entry: \'numThreads\' - ${d.numThreads}.`)}if(d?.powerPreference){let T=se("powerPreference",u),I=se(d.powerPreference,u);ie()._OrtAddSessionConfigEntry(l,T,I)!==0&&oe(`Can\'t set a session config entry: \'powerPreference\' - ${d.powerPreference}.`)}}break;case"webgpu":if(w="JS",typeof v!="string"){let d=v;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${d.preferredLayout}`);let T=se("preferredLayout",u),I=se(d.preferredLayout,u);ie()._OrtAddSessionConfigEntry(l,T,I)!==0&&oe(`Can\'t set a session config entry: \'preferredLayout\' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${w}`)}let S=se(w,u);ie()._OrtAppendExecutionProvider(l,S)!==0&&oe(`Can\'t append execution provider: ${w}.`)}},pn=l=>{let y=ie(),u=0,v=[],w=l||{};Kn(w);try{let S=Xn(w.graphOptimizationLevel??"all"),d=Zn(w.executionMode??"sequential"),T=typeof w.logId=="string"?se(w.logId,v):0,I=w.logSeverityLevel??2;if(!Number.isInteger(I)||I<0||I>4)throw new Error(`log serverity level is not valid: ${I}`);let c=w.logVerbosityLevel??0;if(!Number.isInteger(c)||c<0||c>4)throw new Error(`log verbosity level is not valid: ${c}`);let k=typeof w.optimizedModelFilePath=="string"?se(w.optimizedModelFilePath,v):0;if(u=y._OrtCreateSessionOptions(S,!!w.enableCpuMemArena,!!w.enableMemPattern,d,!!w.enableProfiling,0,T,I,c,k),u===0&&oe("Can\'t create session options."),w.executionProviders&&Qn(u,w.executionProviders,v),w.freeDimensionOverrides)for(let[z,L]of Object.entries(w.freeDimensionOverrides)){if(typeof z!="string")throw new Error(`free dimension override name must be a string: ${z}`);if(typeof L!="number"||!Number.isInteger(L)||L<0)throw new Error(`free dimension override value must be a non-negative integer: ${L}`);let H=se(z,v);y._OrtAddFreeDimensionOverride(u,H,L)!==0&&oe(`Can\'t set a free dimension override: ${z} - ${L}.`)}return w.extra!==void 0&&Wr(w.extra,"",new WeakSet,(z,L)=>{let H=se(z,v),V=se(L,v);y._OrtAddSessionConfigEntry(u,H,V)!==0&&oe(`Can\'t set a session config entry: ${z} - ${L}.`)}),[u,v]}catch(S){throw u!==0&&y._OrtReleaseSessionOptions(u),v.forEach(d=>y._free(d)),S}};var _t=l=>{switch(l){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${l}`)}},mn=l=>{switch(l){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${l}`)}},Tt=l=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][l],gn=l=>{switch(l){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${l}`)}},hn=l=>{switch(l){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${l}`)}},yn=l=>l==="float32"||l==="int32"||l==="int64"||l==="bool"||l==="float16"||l==="uint32",vn=l=>{switch(l){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${l}`)}};var eo=(l,y)=>{ie()._OrtInit(l,y)!==0&&oe("Can\'t initialize onnxruntime.")},bn=async l=>{eo(l.wasm.numThreads,hn(l.logLevel))},On=async(l,y)=>{},xr=new Map,ro=l=>{let y=ie(),u=y.stackSave();try{let v=y.stackAlloc(8);return y._OrtGetInputOutputCount(l,v,v+4)!==0&&oe("Can\'t get session input/output count."),[y.HEAP32[v/4],y.HEAP32[v/4+1]]}finally{y.stackRestore(u)}},At=l=>{let y=ie(),u=y._malloc(l.byteLength);if(u===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${l.byteLength}.`);return y.HEAPU8.set(l,u),[u,l.byteLength]},_n=(l,y)=>{let u,v,w=ie();Array.isArray(l)?[u,v]=l:l.buffer===w.HEAPU8.buffer?[u,v]=[l.byteOffset,l.byteLength]:[u,v]=At(l);let S=0,d=0,T=0,I=[],c=[],k=[];try{[d,I]=pn(y),S=w._OrtCreateSession(u,v,d),S===0&&oe("Can\'t create a session.");let[z,L]=ro(S),H=[],V=[],Q=[];for(let N=0;N<z;N++){let M=w._OrtGetInputName(S,N);M===0&&oe("Can\'t get an input name."),c.push(M),H.push(w.UTF8ToString(M))}for(let N=0;N<L;N++){let M=w._OrtGetOutputName(S,N);M===0&&oe("Can\'t get an output name."),k.push(M);let fe=w.UTF8ToString(M);V.push(fe)}let Z=null;return xr.set(S,[S,c,k,Z]),[S,H,V]}catch(z){throw c.forEach(L=>w._OrtFree(L)),k.forEach(L=>w._OrtFree(L)),T!==0&&w._OrtReleaseBinding(T),S!==0&&w._OrtReleaseSession(S),z}finally{w._free(u),d!==0&&w._OrtReleaseSessionOptions(d),I.forEach(z=>w._free(z))}},Tn=l=>{let y=ie(),u=xr.get(l);if(!u)throw new Error(`cannot release session. invalid session id: ${l}`);let[v,w,S,d]=u;d&&y._OrtReleaseBinding(d.handle),y.jsepUnregisterBuffers?.(l),w.forEach(T=>y._OrtFree(T)),S.forEach(T=>y._OrtFree(T)),y._OrtReleaseSession(v),xr.delete(l)},wn=(l,y,u,v,w)=>{if(!l){y.push(0);return}let S=ie(),d=l[0],T=l[1],I=l[3],c,k;if(d==="string"&&I==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(I==="gpu-buffer"){let H=l[2].gpuBuffer,V=Tt(_t(d));k=T.reduce((Q,Z)=>Q*Z,1)*V,c=S.jsepRegisterBuffer(v,w,H,k)}else{let H=l[2];if(Array.isArray(H)){k=4*H.length,c=S._malloc(k),u.push(c);let V=c/4;for(let Q=0;Q<H.length;Q++){if(typeof H[Q]!="string")throw new TypeError(`tensor data at index ${Q} is not a string`);S.HEAPU32[V++]=se(H[Q],u)}}else k=H.byteLength,c=S._malloc(k),u.push(c),S.HEAPU8.set(new Uint8Array(H.buffer,H.byteOffset,k),c)}let z=S.stackSave(),L=S.stackAlloc(4*T.length);try{let H=L/4;T.forEach(Q=>S.HEAP32[H++]=Q);let V=S._OrtCreateTensor(_t(d),c,k,L,T.length,vn(I));V===0&&oe(`Can\'t create tensor for input/output. session=${v}, index=${w}.`),y.push(V)}finally{S.stackRestore(z)}},An=async(l,y,u,v,w,S)=>{let d=ie(),T=xr.get(l);if(!T)throw new Error(`cannot run inference. invalid session id: ${l}`);let[I,c,k,z]=T,L=y.length,H=v.length,V=0,Q=[],Z=[],N=[],M=[],fe=d.stackSave(),Te=d.stackAlloc(L*4),ee=d.stackAlloc(L*4),be=d.stackAlloc(H*4),Ce=d.stackAlloc(H*4);try{[V,Q]=dn(S);for(let j=0;j<L;j++)wn(u[j],Z,M,l,y[j]);for(let j=0;j<H;j++)wn(w[j],N,M,l,L+v[j]);let E=Te/4,$=ee/4,Ge=be/4,Ve=Ce/4;for(let j=0;j<L;j++)d.HEAPU32[E++]=Z[j],d.HEAPU32[$++]=c[y[j]];for(let j=0;j<H;j++)d.HEAPU32[Ge++]=N[j],d.HEAPU32[Ve++]=k[v[j]];let qe;qe=await d._OrtRun(I,ee,Te,L,Ce,H,be,V),qe!==0&&oe("failed to call OrtRun().");let ue=[];for(let j=0;j<H;j++){let q=d.HEAPU32[be/4+j];if(q===N[j]){ue.push(w[j]);continue}let Re=d.stackSave(),ge=d.stackAlloc(4*4),ce=!1,J,le=0;try{d._OrtGetTensorData(q,ge,ge+4,ge+8,ge+12)!==0&&oe(`Can\'t access output tensor data on index ${j}.`);let xe=ge/4,De=d.HEAPU32[xe++];le=d.HEAPU32[xe++];let je=d.HEAPU32[xe++],Xe=d.HEAPU32[xe++],he=[];for(let K=0;K<Xe;K++)he.push(d.HEAPU32[je/4+K]);d._OrtFree(je);let Ue=he.reduce((K,ae)=>K*ae,1);J=mn(De);let Ze=z?.outputPreferredLocations[v[j]];if(J==="string"){if(Ze==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],ae=le/4;for(let Ye=0;Ye<Ue;Ye++){let Le=d.HEAPU32[ae++],sr=Ye===Ue-1?void 0:d.HEAPU32[ae]-Le;K.push(d.UTF8ToString(Le,sr))}ue.push([J,he,K,"cpu"])}else if(Ze==="gpu-buffer"&&Ue>0){let K=d.jsepGetBuffer(le),ae=Tt(De);if(ae===void 0||!yn(J))throw new Error(`Unsupported data type: ${J}`);ce=!0,ue.push([J,he,{gpuBuffer:K,download:d.jsepCreateDownloader(K,Ue*ae,J),dispose:()=>{d._OrtReleaseTensor(q)}},"gpu-buffer"])}else{let K=gn(J),ae=new K(Ue);new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength).set(d.HEAPU8.subarray(le,le+ae.byteLength)),ue.push([J,he,ae,"cpu"])}}finally{d.stackRestore(Re),J==="string"&&le&&d._free(le),ce||d._OrtReleaseTensor(q)}}return z&&d._OrtClearBoundOutputs(z.handle),ue}finally{d.stackRestore(fe),Z.forEach(E=>d._OrtReleaseTensor(E)),N.forEach(E=>d._OrtReleaseTensor(E)),M.forEach(E=>d._free(E)),V!==0&&d._OrtReleaseRunOptions(V),Q.forEach(E=>d._free(E))}},En=l=>{let y=ie(),u=xr.get(l);if(!u)throw new Error("invalid session id");let v=u[0],w=y._OrtEndProfiling(v);w===0&&oe("Can\'t get an profile file name."),y._OrtFree(w)},Sn=l=>{let y=[];for(let u of l){let v=u[2];!Array.isArray(v)&&"buffer"in v&&y.push(v.buffer)}return y};self.onmessage=l=>{let{type:y,in:u}=l.data;try{switch(y){case"init-wasm":cn(u.wasm).then(()=>{bn(u).then(()=>{postMessage({type:y})},v=>{postMessage({type:y,err:v})})},v=>{postMessage({type:y,err:v})});break;case"init-ep":{let{epName:v,env:w}=u;On(w,v).then(()=>{postMessage({type:y})},S=>{postMessage({type:y,err:S})});break}case"copy-from":{let{buffer:v}=u,w=At(v);postMessage({type:y,out:w});break}case"create":{let{model:v,options:w}=u,S=_n(v,w);postMessage({type:y,out:S});break}case"release":Tn(u),postMessage({type:y});break;case"run":{let{sessionId:v,inputIndices:w,inputs:S,outputIndices:d,options:T}=u;An(v,w,S,d,new Array(d.length).fill(null),T).then(I=>{I.some(c=>c[3]!=="cpu")?postMessage({type:y,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:y,out:I},Sn(I))},I=>{postMessage({type:y,err:I})});break}case"end-profiling":En(u),postMessage({type:y});break;default:}}catch(v){postMessage({type:y,err:v})}};})();\n'});var hr,Be,Jr,Mt,Pt,nn,an,Dr,xr,Io,St,Wa,ka,La,$a,Ha,ja,Na,on=K(()=>{"use strict";mr();Ba();Ur();hr=()=>!!ae.wasm.proxy&&typeof document<"u",Jr=!1,Mt=!1,Pt=!1,an=new Map,Dr=(i,o)=>{let s=an.get(i);s?s.push(o):an.set(i,[o])},xr=()=>{if(Jr||!Mt||Pt||!Be)throw new Error("worker not ready")},Io=i=>{switch(i.data.type){case"init-wasm":Jr=!1,i.data.err?(Pt=!0,nn[1](i.data.err)):(Mt=!0,nn[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let o=an.get(i.data.type);i.data.err?o.shift()[1](i.data.err):o.shift()[0](i.data.out);break}default:}},St=typeof document<"u"?document?.currentScript?.src:void 0,Wa=async()=>{if(!Mt){if(Jr)throw new Error("multiple calls to 'initWasm()' detected.");if(Pt)throw new Error("previous call to 'initWasm()' failed.");if(Jr=!0,hr())return ae.wasm.wasmPaths===void 0&&St&&St.indexOf("blob:")!==0&&(ae.wasm.wasmPaths=St.substr(0,+St.lastIndexOf("/")+1)),new Promise((i,o)=>{Be?.terminate();let s=URL.createObjectURL(new Blob([Ra()],{type:"text/javascript"}));Be=new Worker(s,{name:"ort-wasm-proxy-worker"}),Be.onerror=d=>o(d),Be.onmessage=Io,URL.revokeObjectURL(s),nn=[i,o];let m={type:"init-wasm",in:ae};Be.postMessage(m)});try{await va(ae.wasm),await Pa(ae),Mt=!0}catch(i){throw Pt=!0,i}finally{Jr=!1}}},ka=async i=>{if(hr())return xr(),new Promise((o,s)=>{Dr("init-ep",[o,s]);let m={type:"init-ep",in:{epName:i,env:ae}};Be.postMessage(m)});await Ca(ae,i)},La=async i=>hr()?(xr(),new Promise((o,s)=>{Dr("copy-from",[o,s]);let m={type:"copy-from",in:{buffer:i}};Be.postMessage(m,[i.buffer])})):tn(i),$a=async(i,o)=>{if(hr()){if(o?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return xr(),new Promise((s,m)=>{Dr("create",[s,m]);let d={type:"create",in:{model:i,options:o}},w=[];i instanceof Uint8Array&&w.push(i.buffer),Be.postMessage(d,w)})}else return Ia(i,o)},Ha=async i=>{if(hr())return xr(),new Promise((o,s)=>{Dr("release",[o,s]);let m={type:"release",in:i};Be.postMessage(m)});Fa(i)},ja=async(i,o,s,m,d,w)=>{if(hr()){if(s.some(c=>c[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(d.some(c=>c))throw new Error("pre-allocated output tensor is not supported for proxy.");return xr(),new Promise((c,g)=>{Dr("run",[c,g]);let T=s,f={type:"run",in:{sessionId:i,inputIndices:o,inputs:T,outputIndices:m,options:w}};Be.postMessage(f,xa(T))})}else return Ua(i,o,s,m,d,w)},Na=async i=>{if(hr())return xr(),new Promise((o,s)=>{Dr("end-profiling",[o,s]);let m={type:"end-profiling",in:i};Be.postMessage(m)});Da(i)}});var za,Fo,Ct,Ya=K(()=>{"use strict";mr();on();rn();za=(i,o)=>{switch(i.location){case"cpu":return[i.type,i.dims,i.data,"cpu"];case"gpu-buffer":return[i.type,i.dims,{gpuBuffer:i.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${i.location} for ${o()}`)}},Fo=i=>{switch(i[3]){case"cpu":return new ve(i[0],i[2],i[1]);case"gpu-buffer":{let o=i[0];if(!Et(o))throw new Error(`not supported data type: ${o} for deserializing GPU tensor`);let{gpuBuffer:s,download:m,dispose:d}=i[2];return ve.fromGpuBuffer(s,{dataType:o,dims:i[1],download:m,dispose:d})}default:throw new Error(`invalid data location: ${i[3]}`)}},Ct=class{async fetchModelAndCopyToWasmMemory(o){let s=await fetch(o);if(s.status!==200)throw new Error(`failed to load model: ${o}`);let m=await s.arrayBuffer();return La(new Uint8Array(m))}async loadModel(o,s){let m;typeof o=="string"?typeof process<"u"&&process.versions&&process.versions.node?m=await(void 0)(o):m=await this.fetchModelAndCopyToWasmMemory(o):m=o,[this.sessionId,this.inputNames,this.outputNames]=await $a(m,s)}async dispose(){return Ha(this.sessionId)}async run(o,s,m){let d=[],w=[];Object.entries(o).forEach(E=>{let I=E[0],H=E[1],L=this.inputNames.indexOf(I);if(L===-1)throw new Error(`invalid input '${I}'`);d.push(H),w.push(L)});let c=[],g=[];Object.entries(s).forEach(E=>{let I=E[0],H=E[1],L=this.outputNames.indexOf(I);if(L===-1)throw new Error(`invalid output '${I}'`);c.push(H),g.push(L)});let T=d.map((E,I)=>za(E,()=>`input "${this.inputNames[w[I]]}"`)),f=c.map((E,I)=>E?za(E,()=>`output "${this.outputNames[g[I]]}"`):null),_=await ja(this.sessionId,w,T,g,f,m),S={};for(let E=0;E<_.length;E++)S[this.outputNames[g[E]]]=c[E]??Fo(_[E]);return S}startProfiling(){}endProfiling(){Na(this.sessionId)}}});var Uo,It,Ga=K(()=>{"use strict";mr();on();Ya();Uo=()=>{if((typeof ae.wasm.initTimeout!="number"||ae.wasm.initTimeout<0)&&(ae.wasm.initTimeout=0),typeof ae.wasm.simd!="boolean"&&(ae.wasm.simd=!0),typeof ae.wasm.proxy!="boolean"&&(ae.wasm.proxy=!1),typeof ae.wasm.numThreads!="number"||!Number.isInteger(ae.wasm.numThreads)||ae.wasm.numThreads<=0){let i=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ae.wasm.numThreads=Math.min(4,Math.ceil((i||1)/2))}},It=class{async init(o){Uo(),await Wa(),await ka(o)}async createInferenceSessionHandler(o,s){let m=new Ct;return await m.loadModel(o,s),Promise.resolve(m)}}});var Va={};Gr(Va,{wasmBackend:()=>Do});var Do,qa=K(()=>{"use strict";Ga();Do=new It});mr();mr();mr();var aa="1.17.0";var ds=zt;{let i=(qa(),Fr(Va)).wasmBackend;pr("cpu",i,10),pr("wasm",i,10),pr("xnnpack",i,9),pr("webnn",i,9)}Object.defineProperty(ae.versions,"web",{value:aa,enumerable:!0});export{lo as InferenceSession,ve as Tensor,po as TrainingSession,ds as default,ae as env,pr as registerBackend};
//# sourceMappingURL=ort.webgpu.min.js.map
