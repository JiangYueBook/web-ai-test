/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var Yt=Object.defineProperty;var mo=Object.getOwnPropertyDescriptor;var ho=Object.getOwnPropertyNames;var go=Object.prototype.hasOwnProperty;var X=(o,i)=>()=>(o&&(i=o(o=0)),i);var Ir=(o,i)=>()=>(i||o((i={exports:{}}).exports,i),i.exports),Zr=(o,i)=>{for(var s in i)Yt(o,s,{get:i[s],enumerable:!0})},yo=(o,i,s,m)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of ho(i))!go.call(o,c)&&c!==s&&Yt(o,c,{get:()=>i[c],enumerable:!(m=mo(i,c))||m.enumerable});return o};var Dr=o=>yo(Yt({},"__esModule",{value:!0}),o);var bt,dr,pr,wt,Ot=X(()=>{"use strict";bt=new Map,dr=[],pr=(o,i,s)=>{if(i&&typeof i.init=="function"&&typeof i.createInferenceSessionHandler=="function"){let m=bt.get(o);if(m===void 0)bt.set(o,{backend:i,priority:s});else{if(m.priority>s)return;if(m.priority===s&&m.backend!==i)throw new Error(`cannot register backend "${o}" using priority ${s}`)}if(s>=0){let c=dr.indexOf(o);c!==-1&&dr.splice(c,1);for(let w=0;w<dr.length;w++)if(bt.get(dr[w]).priority<=s){dr.splice(w,0,o);return}dr.push(o)}return}throw new TypeError("not a valid backend")},wt=async o=>{let i=o.length===0?dr:o,s=[];for(let m of i){let c=bt.get(m);if(c){if(c.initialized)return c.backend;if(c.aborted)continue;let w=!!c.initPromise;try{return w||(c.initPromise=c.backend.init(m)),await c.initPromise,c.initialized=!0,c.backend}catch(d){w||s.push({name:m,err:d}),c.aborted=!0}finally{delete c.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(m=>`[${m.name}] ${m.err}`).join(", ")}`)}});var Ln=X(()=>{"use strict";Ot()});var $n,Nn=X(()=>{"use strict";$n="1.17.0"});var Hn,mr,Gt=X(()=>{"use strict";Nn();Hn="warning",mr={wasm:{},webgl:{},webgpu:{},versions:{common:$n},set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);Hn=o}},get logLevel(){return Hn}};Object.defineProperty(mr,"logLevel",{enumerable:!0})});var ne,jn=X(()=>{"use strict";Gt();ne=mr});var zn,Yn,Gn=X(()=>{"use strict";zn=(o,i)=>{let s=document.createElement("canvas");s.width=o.dims[3],s.height=o.dims[2];let m=s.getContext("2d");if(m!=null){let c,w;i?.tensorLayout!==void 0&&i.tensorLayout==="NHWC"?(c=o.dims[2],w=o.dims[3]):(c=o.dims[3],w=o.dims[2]);let d=i?.format!==void 0?i.format:"RGB",y=i?.norm,T,f;y===void 0||y.mean===void 0?T=[255,255,255,255]:typeof y.mean=="number"?T=[y.mean,y.mean,y.mean,y.mean]:(T=[y.mean[0],y.mean[1],y.mean[2],0],y.mean[3]!==void 0&&(T[3]=y.mean[3])),y===void 0||y.bias===void 0?f=[0,0,0,0]:typeof y.bias=="number"?f=[y.bias,y.bias,y.bias,y.bias]:(f=[y.bias[0],y.bias[1],y.bias[2],0],y.bias[3]!==void 0&&(f[3]=y.bias[3]));let _=w*c,S=0,E=_,F=_*2,N=-1;d==="RGBA"?(S=0,E=_,F=_*2,N=_*3):d==="RGB"?(S=0,E=_,F=_*2):d==="RBG"&&(S=0,F=_,E=_*2);for(let k=0;k<w;k++)for(let z=0;z<c;z++){let W=(o.data[S++]-f[0])*T[0],U=(o.data[E++]-f[1])*T[1],J=(o.data[F++]-f[2])*T[2],le=N===-1?255:(o.data[N++]-f[3])*T[3];m.fillStyle="rgba("+W+","+U+","+J+","+le+")",m.fillRect(z,k,1,1)}return s.toDataURL()}else throw new Error("Can not access image data")},Yn=(o,i)=>{let s=document.createElement("canvas").getContext("2d"),m;if(s!=null){let c,w,d;i?.tensorLayout!==void 0&&i.tensorLayout==="NHWC"?(c=o.dims[2],w=o.dims[1],d=o.dims[3]):(c=o.dims[3],w=o.dims[2],d=o.dims[1]);let y=i!==void 0&&i.format!==void 0?i.format:"RGB",T=i?.norm,f,_;T===void 0||T.mean===void 0?f=[255,255,255,255]:typeof T.mean=="number"?f=[T.mean,T.mean,T.mean,T.mean]:(f=[T.mean[0],T.mean[1],T.mean[2],255],T.mean[3]!==void 0&&(f[3]=T.mean[3])),T===void 0||T.bias===void 0?_=[0,0,0,0]:typeof T.bias=="number"?_=[T.bias,T.bias,T.bias,T.bias]:(_=[T.bias[0],T.bias[1],T.bias[2],0],T.bias[3]!==void 0&&(_[3]=T.bias[3]));let S=w*c;if(i!==void 0&&(i.format!==void 0&&d===4&&i.format!=="RGBA"||d===3&&i.format!=="RGB"&&i.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,F=0,N=1,k=2,z=3,W=0,U=S,J=S*2,le=-1;y==="RGBA"?(W=0,U=S,J=S*2,le=S*3):y==="RGB"?(W=0,U=S,J=S*2):y==="RBG"&&(W=0,J=S,U=S*2),m=s.createImageData(c,w);for(let Z=0;Z<w*c;F+=E,N+=E,k+=E,z+=E,Z++)m.data[F]=(o.data[W++]-_[0])*f[0],m.data[N]=(o.data[U++]-_[1])*f[1],m.data[k]=(o.data[J++]-_[2])*f[2],m.data[z]=le===-1?255:(o.data[le++]-_[3])*f[3]}else throw new Error("Can not access image data");return m}});var Vt,Vn,qn,Xn,Jn,Zn=X(()=>{"use strict";Tt();Vt=(o,i)=>{if(o===void 0)throw new Error("Image buffer must be defined");if(i.height===void 0||i.width===void 0)throw new Error("Image height and width must be defined");if(i.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:s,width:m}=i,c=i.norm??{mean:255,bias:0},w,d;typeof c.mean=="number"?w=[c.mean,c.mean,c.mean,c.mean]:w=[c.mean[0],c.mean[1],c.mean[2],c.mean[3]??255],typeof c.bias=="number"?d=[c.bias,c.bias,c.bias,c.bias]:d=[c.bias[0],c.bias[1],c.bias[2],c.bias[3]??0];let y=i.format!==void 0?i.format:"RGBA",T=i.tensorFormat!==void 0&&i.tensorFormat!==void 0?i.tensorFormat:"RGB",f=s*m,_=T==="RGBA"?new Float32Array(f*4):new Float32Array(f*3),S=4,E=0,F=1,N=2,k=3,z=0,W=f,U=f*2,J=-1;y==="RGB"&&(S=3,E=0,F=1,N=2,k=-1),T==="RGBA"?J=f*3:T==="RBG"?(z=0,U=f,W=f*2):T==="BGR"&&(U=0,W=f,z=f*2);for(let Z=0;Z<f;Z++,E+=S,N+=S,F+=S,k+=S)_[z++]=(o[E]+d[0])/w[0],_[W++]=(o[F]+d[1])/w[1],_[U++]=(o[N]+d[2])/w[2],J!==-1&&k!==-1&&(_[J++]=(o[k]+d[3])/w[3]);return T==="RGBA"?new Ee("float32",_,[1,4,s,m]):new Ee("float32",_,[1,3,s,m])},Vn=async(o,i)=>{let s=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,m=typeof ImageData<"u"&&o instanceof ImageData,c=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,w=typeof o=="string",d,y=i??{};if(s){let T=document.createElement("canvas");T.width=o.width,T.height=o.height;let f=T.getContext("2d");if(f!=null){let _=o.height,S=o.width;if(i!==void 0&&i.resizedHeight!==void 0&&i.resizedWidth!==void 0&&(_=i.resizedHeight,S=i.resizedWidth),i!==void 0){if(y=i,i.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");y.tensorFormat="RGBA",y.height=_,y.width=S}else y.tensorFormat="RGBA",y.height=_,y.width=S;f.drawImage(o,0,0),d=f.getImageData(0,0,S,_).data}else throw new Error("Can not access image data")}else if(m){let T,f;if(i!==void 0&&i.resizedWidth!==void 0&&i.resizedHeight!==void 0?(T=i.resizedHeight,f=i.resizedWidth):(T=o.height,f=o.width),i!==void 0&&(y=i),y.format="RGBA",y.height=T,y.width=f,i!==void 0){let _=document.createElement("canvas");_.width=f,_.height=T;let S=_.getContext("2d");if(S!=null)S.putImageData(o,0,0),d=S.getImageData(0,0,f,T).data;else throw new Error("Can not access image data")}else d=o.data}else if(c){if(i===void 0)throw new Error("Please provide image config with format for Imagebitmap");let T=document.createElement("canvas");T.width=o.width,T.height=o.height;let f=T.getContext("2d");if(f!=null){let _=o.height,S=o.width;return f.drawImage(o,0,0,S,_),d=f.getImageData(0,0,S,_).data,y.height=_,y.width=S,Vt(d,y)}else throw new Error("Can not access image data")}else{if(w)return new Promise((T,f)=>{let _=document.createElement("canvas"),S=_.getContext("2d");if(!o||!S)return f();let E=new Image;E.crossOrigin="Anonymous",E.src=o,E.onload=()=>{_.width=E.width,_.height=E.height,S.drawImage(E,0,0,_.width,_.height);let F=S.getImageData(0,0,_.width,_.height);y.height=_.height,y.width=_.width,T(Vt(F.data,y))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return Vt(d,y);throw new Error("Input data provided is not supported - aborted tensor creation")},qn=(o,i)=>{let{width:s,height:m,download:c,dispose:w}=i,d=[1,m,s,4];return new Ee({location:"texture",type:"float32",texture:o,dims:d,download:c,dispose:w})},Xn=(o,i)=>{let{dataType:s,dims:m,download:c,dispose:w}=i;return new Ee({location:"gpu-buffer",type:s??"float32",gpuBuffer:o,dims:m,download:c,dispose:w})},Jn=(o,i,s)=>new Ee({location:"cpu-pinned",type:o,data:i,dims:s??[i.length]})});var Kr,_t,Kn,Qn,ea=X(()=>{"use strict";Kr=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),_t=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Kn=!1,Qn=()=>{if(!Kn){Kn=!0;let o=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",i=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";o&&(Kr.set("int64",BigInt64Array),_t.set(BigInt64Array,"int64")),i&&(Kr.set("uint64",BigUint64Array),_t.set(BigUint64Array,"uint64"))}}});var ra,ta,na=X(()=>{"use strict";Tt();ra=o=>{let i=1;for(let s=0;s<o.length;s++){let m=o[s];if(typeof m!="number"||!Number.isSafeInteger(m))throw new TypeError(`dims[${s}] must be an integer, got: ${m}`);if(m<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${m}`);i*=m}return i},ta=(o,i)=>{switch(o.location){case"cpu":return new Ee(o.type,o.data,i);case"cpu-pinned":return new Ee({location:"cpu-pinned",data:o.data,type:o.type,dims:i});case"texture":return new Ee({location:"texture",texture:o.texture,type:o.type,dims:i});case"gpu-buffer":return new Ee({location:"gpu-buffer",gpuBuffer:o.gpuBuffer,type:o.type,dims:i});default:throw new Error(`tensorReshape: tensor location ${o.location} is not supported`)}}});var Ee,Tt=X(()=>{"use strict";Gn();Zn();ea();na();Ee=class{constructor(i,s,m){Qn();let c,w;if(typeof i=="object"&&"location"in i)switch(this.dataLocation=i.location,c=i.type,w=i.dims,i.location){case"cpu-pinned":{let y=Kr.get(c);if(!y)throw new TypeError(`unsupported type "${c}" to create tensor from pinned buffer`);if(!(i.data instanceof y))throw new TypeError(`buffer should be of type ${y.name}`);this.cpuData=i.data;break}case"texture":{if(c!=="float32")throw new TypeError(`unsupported type "${c}" to create tensor from texture`);this.gpuTextureData=i.texture,this.downloader=i.download,this.disposer=i.dispose;break}case"gpu-buffer":{if(c!=="float32"&&c!=="float16"&&c!=="int32"&&c!=="int64"&&c!=="uint32"&&c!=="bool")throw new TypeError(`unsupported type "${c}" to create tensor from gpu buffer`);this.gpuBufferData=i.gpuBuffer,this.downloader=i.download,this.disposer=i.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let y,T;if(typeof i=="string")if(c=i,T=m,i==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");y=s}else{let f=Kr.get(i);if(f===void 0)throw new TypeError(`Unsupported tensor type: ${i}.`);if(Array.isArray(s)){if(i==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");i==="uint64"||i==="int64"?y=f.from(s,BigInt):y=f.from(s)}else if(s instanceof f)y=s;else throw new TypeError(`A ${c} tensor's data must be type of ${f}`)}else if(T=s,Array.isArray(i)){if(i.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let f=typeof i[0];if(f==="string")c="string",y=i;else if(f==="boolean")c="bool",y=Uint8Array.from(i);else throw new TypeError(`Invalid element type of data array: ${f}.`)}else{let f=_t.get(i.constructor);if(f===void 0)throw new TypeError(`Unsupported type for tensor data: ${i.constructor}.`);c=f,y=i}if(T===void 0)T=[y.length];else if(!Array.isArray(T))throw new TypeError("A tensor's dims must be a number array");w=T,this.cpuData=y,this.dataLocation="cpu"}let d=ra(w);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=c,this.dims=w,this.size=d}static async fromImage(i,s){return Vn(i,s)}static fromTexture(i,s){return qn(i,s)}static fromGpuBuffer(i,s){return Xn(i,s)}static fromPinnedBuffer(i,s,m){return Jn(i,s,m)}toDataURL(i){return zn(this,i)}toImageData(i){return Yn(this,i)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(i){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let s=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=s,i&&this.disposer&&(this.disposer(),this.disposer=void 0),s}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(i){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return ta(this,i)}}});var we,At=X(()=>{"use strict";Tt();we=Ee});var aa,oa,hr,gr,qt=X(()=>{"use strict";Gt();aa=(o,i)=>{mr.wasm.trace&&console.timeStamp(`${o}::ORT::${i}`)},oa=(o,i)=>{let s=new Error().stack?.split(/\r\n|\r|\n/g)||[],m=!1;for(let c=0;c<s.length;c++){if(m&&!s[c].includes("TRACE_FUNC")){let w=`FUNC_${o}::${s[c].trim().split(" ")[1]}`;i&&(w+=`::${i}`),aa("CPU",w);return}s[c].includes("TRACE_FUNC")&&(m=!0)}},hr=o=>{mr.wasm.trace&&oa("BEGIN",o)},gr=o=>{mr.wasm.trace&&oa("END",o)}});var Et,ia=X(()=>{"use strict";Ot();At();qt();Et=class o{constructor(i){this.handler=i}async run(i,s,m){hr();let c={},w={};if(typeof i!="object"||i===null||i instanceof we||Array.isArray(i))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof we)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let f of s){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);c[f]=null}if(typeof m=="object"&&m!==null)w=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,_=Object.getOwnPropertyNames(s);for(let S of this.outputNames)if(_.indexOf(S)!==-1){let E=s[S];(E===null||E instanceof we)&&(f=!0,d=!1,c[S]=E)}if(f){if(typeof m=="object"&&m!==null)w=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else w=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of this.inputNames)if(typeof i[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(d)for(let f of this.outputNames)c[f]=null;let y=await this.handler.run(i,c,w),T={};for(let f in y)if(Object.hasOwnProperty.call(y,f)){let _=y[f];_ instanceof we?T[f]=_:T[f]=new we(_.type,_.data,_.dims)}return gr(),T}async release(){return this.handler.dispose()}static async create(i,s,m,c){hr();let w,d={};if(typeof i=="string"){if(w=i,typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof Uint8Array){if(w=i,typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer){let S=i,E=0,F=i.byteLength;if(typeof s=="object"&&s!==null)d=s;else if(typeof s=="number"){if(E=s,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(F=i.byteLength-E,typeof m=="number"){if(F=m,!Number.isSafeInteger(F))throw new RangeError("'byteLength' must be an integer.");if(F<=0||E+F>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-E}].`);if(typeof c=="object"&&c!==null)d=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else if(typeof m<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");w=new Uint8Array(S,E,F)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let T=(d.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),_=await(await wt(T)).createInferenceSessionHandler(w,d);return gr(),new o(_)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var vo,sa=X(()=>{"use strict";ia();vo=Et});var ua=X(()=>{"use strict"});var bo,St,fa=X(()=>{"use strict";Ot();At();bo="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",St=class o{constructor(i,s,m){this.handler=i,this.hasOptimizerModel=s,this.hasEvalModel=m}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(i,s){let m=i.evalModel||"",c=i.optimizerModel||"",w=s||{},y=(w.executionProviders||[]).map(f=>typeof f=="string"?f:f.name),T=await wt(y);if(T.createTrainingSessionHandler){let f=await T.createTrainingSessionHandler(i.checkpointState,i.trainModel,m,c,w);return new o(f,!!i.optimizerModel,!!i.evalModel)}else throw new Error(bo)}typeNarrowingForRunStep(i,s,m,c,w){let d={},y={};if(typeof m!="object"||m===null||m instanceof we||Array.isArray(m))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let T=!0;if(typeof c=="object"){if(c===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(c instanceof we)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(c)){if(c.length===0)throw new TypeError("'fetches' cannot be an empty array.");T=!1;for(let f of c){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(s.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);d[f]=null}if(typeof w=="object"&&w!==null)y=w;else if(typeof w<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,_=Object.getOwnPropertyNames(c);for(let S of s)if(_.indexOf(S)!==-1){let E=c[S];(E===null||E instanceof we)&&(f=!0,T=!1,d[S]=E)}if(f){if(typeof w=="object"&&w!==null)y=w;else if(typeof w<"u")throw new TypeError("'options' must be an object.")}else y=c}}else if(typeof c<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of i)if(typeof m[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(T)for(let f of s)d[f]=null;return[d,y]}convertHandlerReturnTypeToMapOfTensors(i){let s={};for(let m in i)if(Object.hasOwnProperty.call(i,m)){let c=i[m];c instanceof we?s[m]=c:s[m]=new we(c.type,c.data,c.dims)}return s}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(i,s,m){let[c,w]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,i,s,m),d=await this.handler.runTrainStep(i,c,w);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(i){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(i||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(i,s,m){if(this.hasEvalModel){let[c,w]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,i,s,m),d=await this.handler.runEvalStep(i,c,w);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(i=!0){return this.handler.getParametersSize(i)}async loadParametersBuffer(i,s=!0){let m=await this.getParametersSize(s);if(i.length!==4*m)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(i,s)}async getContiguousParameters(i=!0){return this.handler.getContiguousParameters(i)}async release(){return this.handler.dispose()}}});var wo,la=X(()=>{"use strict";fa();wo=St});var Xt={};Zr(Xt,{InferenceSession:()=>vo,TRACE:()=>aa,TRACE_FUNC_BEGIN:()=>hr,TRACE_FUNC_END:()=>gr,Tensor:()=>we,TrainingSession:()=>wo,env:()=>ne,registerBackend:()=>pr});var yr=X(()=>{"use strict";Ln();jn();sa();At();qt();ua();la()});var Jt={};Zr(Jt,{readFile:()=>Oo});var Oo,Zt=X(()=>{Oo=void 0});var Kt={};Zr(Kt,{join:()=>To});var To,Qt=X(()=>{To=void 0});var ma=Ir((pa,en)=>{"use strict";var da=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(i={}){var s=i,m,c;s.ready=new Promise((t,n)=>{m=t,c=n});var w=Object.assign({},s),d="./this.program",y=typeof window=="object",T=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="",S,E,F;if(f){var N=(Zt(),Dr(Jt)),k=(Qt(),Dr(Kt));_=T?k.dirname(_)+"/":__dirname+"/",S=(t,n)=>(t=t.startsWith("file://")?new URL(t):k.normalize(t),N.readFileSync(t,n?void 0:"utf8")),F=t=>(t=S(t,!0),t.buffer||(t=new Uint8Array(t)),t),E=(t,n,u,p=!0)=>{t=t.startsWith("file://")?new URL(t):k.normalize(t),N.readFile(t,p?void 0:"utf8",(v,A)=>{v?u(v):n(p?A.buffer:A)})},!s.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),s.inspect=()=>"[Emscripten Module object]"}else(y||T)&&(T?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),o&&(_=o),_.indexOf("blob:")!==0?_=_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):_="",S=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},T&&(F=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),E=(t,n,u)=>{var p=new XMLHttpRequest;p.open("GET",t,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?n(p.response):u()},p.onerror=u,p.send(null)});var z=console.log.bind(console),W=console.error.bind(console);Object.assign(s,w),w=null,typeof WebAssembly!="object"&&er("no native wasm support detected");var U,J=!1,le,Z,Se,Fe,I,Y,Ze,Ke,Qe,ce;function V(){var t=U.buffer;s.HEAP8=le=new Int8Array(t),s.HEAP16=Se=new Int16Array(t),s.HEAPU8=Z=new Uint8Array(t),s.HEAPU16=Fe=new Uint16Array(t),s.HEAP32=I=new Int32Array(t),s.HEAPU32=Y=new Uint32Array(t),s.HEAPF32=Ze=new Float32Array(t),s.HEAPF64=ce=new Float64Array(t),s.HEAP64=Ke=new BigInt64Array(t),s.HEAPU64=Qe=new BigUint64Array(t)}var K=[],$e=[],Oe=[],he=0,Q=null,pe=null;function er(t){throw t="Aborted("+t+")",W(t),J=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),c(t),t}function ke(t){return t.startsWith("data:application/octet-stream;base64,")}var De;if(De="ort-wasm.wasm",!ke(De)){var Ve=De;De=s.locateFile?s.locateFile(Ve,_):_+Ve}function rr(t){if(F)return F(t);throw"both async and sync fetching of the wasm failed"}function Te(t){if(y||T){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+t+"'";return n.arrayBuffer()}).catch(()=>rr(t));if(E)return new Promise((n,u)=>{E(t,p=>n(new Uint8Array(p)),u)})}return Promise.resolve().then(()=>rr(t))}function xe(t,n,u){return Te(t).then(p=>WebAssembly.instantiate(p,n)).then(p=>p).then(u,p=>{W(`failed to asynchronously prepare wasm: ${p}`),er(p)})}function tr(t,n){var u=De;return typeof WebAssembly.instantiateStreaming!="function"||ke(u)||u.startsWith("file://")||f||typeof fetch!="function"?xe(u,t,n):fetch(u,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,t).then(n,function(v){return W(`wasm streaming compile failed: ${v}`),W("falling back to ArrayBuffer instantiation"),xe(u,t,n)}))}function re(t){this.Va=t-24,this.fb=function(n){Y[this.Va+4>>>2>>>0]=n},this.eb=function(n){Y[this.Va+8>>>2>>>0]=n},this.Za=function(n,u){this.$a(),this.fb(n),this.eb(u)},this.$a=function(){Y[this.Va+16>>>2>>>0]=0}}var se=0,qe=0,Ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,br=(t,n,u)=>{n>>>=0;var p=n+u;for(u=n;t[u]&&!(u>=p);)++u;if(16<u-n&&t.buffer&&Ne)return Ne.decode(t.subarray(n,u));for(p="";n<u;){var v=t[n++];if(v&128){var A=t[n++]&63;if((v&224)==192)p+=String.fromCharCode((v&31)<<6|A);else{var D=t[n++]&63;v=(v&240)==224?(v&15)<<12|A<<6|D:(v&7)<<18|A<<12|D<<6|t[n++]&63,65536>v?p+=String.fromCharCode(v):(v-=65536,p+=String.fromCharCode(55296|v>>10,56320|v&1023))}}else p+=String.fromCharCode(v)}return p},nr=(t,n)=>(t>>>=0)?br(Z,t,n):"",He=t=>{for(var n=0,u=0;u<t.length;++u){var p=t.charCodeAt(u);127>=p?n++:2047>=p?n+=2:55296<=p&&57343>=p?(n+=4,++u):n+=3}return n},Be=(t,n,u,p)=>{if(u>>>=0,!(0<p))return 0;var v=u;p=u+p-1;for(var A=0;A<t.length;++A){var D=t.charCodeAt(A);if(55296<=D&&57343>=D){var P=t.charCodeAt(++A);D=65536+((D&1023)<<10)|P&1023}if(127>=D){if(u>=p)break;n[u++>>>0]=D}else{if(2047>=D){if(u+1>=p)break;n[u++>>>0]=192|D>>6}else{if(65535>=D){if(u+2>=p)break;n[u++>>>0]=224|D>>12}else{if(u+3>=p)break;n[u++>>>0]=240|D>>18,n[u++>>>0]=128|D>>12&63}n[u++>>>0]=128|D>>6&63}n[u++>>>0]=128|D&63}}return n[u>>>0]=0,u-v},wr=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Xe,Ce=t=>{for(var n="";Z[t>>>0];)n+=Xe[Z[t++>>>0]];return n},Le={},Or={},ar={},Re;function Bt(t,n,u={}){var p=n.name;if(!t)throw new Re(`type "${p}" must have a positive integer typeid pointer`);if(Or.hasOwnProperty(t)){if(u.gb)return;throw new Re(`Cannot register type '${p}' twice`)}Or[t]=n,delete ar[t],Le.hasOwnProperty(t)&&(n=Le[t],delete Le[t],n.forEach(v=>v()))}function Ue(t,n,u={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");Bt(t,n,u)}var tt=(t,n,u)=>{switch(n){case 1:return u?p=>le[p>>>0>>>0]:p=>Z[p>>>0>>>0];case 2:return u?p=>Se[p>>>1>>>0]:p=>Fe[p>>>1>>>0];case 4:return u?p=>I[p>>>2>>>0]:p=>Y[p>>>2>>>0];case 8:return u?p=>Ke[p>>>3]:p=>Qe[p>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function or(){this.Sa=[void 0],this.bb=[]}var ve=new or;function Tr(t){t>>>=0,t>=ve.Va&&--ve.get(t).cb===0&&ve.$a(t)}var ge=t=>{if(!t)throw new Re("Cannot use deleted val. handle = "+t);return ve.get(t).value},_e=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.Za({cb:1,value:t})}};function ir(t){return this.fromWireType(I[t>>>2>>>0])}var nt=(t,n)=>{switch(n){case 4:return function(u){return this.fromWireType(Ze[u>>>2>>>0])};case 8:return function(u){return this.fromWireType(ce[u>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function Wr(t){return this.fromWireType(Y[t>>>2>>>0])}var at=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ot=(t,n)=>{for(var u=t>>1,p=u+n/2;!(u>=p)&&Fe[u>>>0];)++u;if(u<<=1,32<u-t&&at)return at.decode(Z.subarray(t>>>0,u>>>0));for(u="",p=0;!(p>=n/2);++p){var v=Se[t+2*p>>>1>>>0];if(v==0)break;u+=String.fromCharCode(v)}return u},Rt=(t,n,u)=>{if(u===void 0&&(u=2147483647),2>u)return 0;u-=2;var p=n;u=u<2*t.length?u/2:t.length;for(var v=0;v<u;++v)Se[n>>>1>>>0]=t.charCodeAt(v),n+=2;return Se[n>>>1>>>0]=0,n-p},B=t=>2*t.length,_r=(t,n)=>{for(var u=0,p="";!(u>=n/4);){var v=I[t+4*u>>>2>>>0];if(v==0)break;++u,65536<=v?(v-=65536,p+=String.fromCharCode(55296|v>>10,56320|v&1023)):p+=String.fromCharCode(v)}return p},it=(t,n,u)=>{if(n>>>=0,u===void 0&&(u=2147483647),4>u)return 0;var p=n;u=p+u-4;for(var v=0;v<t.length;++v){var A=t.charCodeAt(v);if(55296<=A&&57343>=A){var D=t.charCodeAt(++v);A=65536+((A&1023)<<10)|D&1023}if(I[n>>>2>>>0]=A,n+=4,n+4>u)break}return I[n>>>2>>>0]=0,n-p},Ar=t=>{for(var n=0,u=0;u<t.length;++u){var p=t.charCodeAt(u);55296<=p&&57343>=p&&++u,n+=4}return n},sr=(t,n)=>{var u=Or[t];if(u===void 0)throw t=qr(t),u=Ce(t),de(t),new Re(n+" has unknown type "+u);return u},Wt={},ur=t=>{var n=Wt[t];return n===void 0?Ce(t):n},Er=[],kr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),st=t=>{var n=Er.length;return Er.push(t),n},ut=(t,n)=>{for(var u=Array(t),p=0;p<t;++p)u[p]=sr(Y[n+4*p>>>2>>>0],"parameter "+p);return u},Lr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},fr={};function ft(t,n){return t=Lr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function $r(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var u=ft(n.name||"unknownFunctionName",function(){});return u.prototype=n.prototype,u=new u,t=n.apply(u,t),t instanceof Object?t:u}var lt=t=>{for(var n="",u=0;u<t;++u)n+=(u!==0?", ":"")+"arg"+u;var p="return function emval_allocator_"+t+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(u=0;u<t;++u)p+="var argType"+u+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+u+`');
var arg`+u+" = argType"+u+`.readValueFromPointer(args);
args += argType`+u+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",p+("var obj = new constructor("+n+`);
return valueToHandle(obj);
}
`))(sr,s,_e,()=>Y)},Nr={},je=t=>t%4===0&&(t%100!==0||t%400===0),Hr=[0,31,60,91,121,152,182,213,244,274,305,335],jr=[0,31,59,90,120,151,181,212,243,273,304,334],zr=t=>{var n=He(t)+1,u=Pr(n);return u&&Be(t,Z,u,n),u},Sr={},Yr=()=>{if(!Cr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in Sr)Sr[n]===void 0?delete t[n]:t[n]=Sr[n];var u=[];for(n in t)u.push(`${n}=${t[n]}`);Cr=u}return Cr},Cr,ct=[null,[],[]],Gr=[31,29,31,30,31,30,31,31,30,31,30,31],Vr=[31,28,31,30,31,30,31,31,30,31,30,31];function dt(t){var n=Array(He(t)+1);return Be(t,n,0,n.length),n}function Me(t,n,u,p){function v(g,G,ee){for(g=typeof g=="number"?g.toString():g||"";g.length<G;)g=ee[0]+g;return g}function A(g,G){return v(g,G,"0")}function D(g,G){function ee(lr){return 0>lr?-1:0<lr?1:0}var ze;return(ze=ee(g.getFullYear()-G.getFullYear()))===0&&(ze=ee(g.getMonth()-G.getMonth()))===0&&(ze=ee(g.getDate()-G.getDate())),ze}function P(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function L(g){var G=g.Ta;for(g=new Date(new Date(g.Ua+1900,0,1).getTime());0<G;){var ee=g.getMonth(),ze=(je(g.getFullYear())?Gr:Vr)[ee];if(G>ze-g.getDate())G-=ze-g.getDate()+1,g.setDate(1),11>ee?g.setMonth(ee+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+G);break}}return ee=new Date(g.getFullYear()+1,0,4),G=P(new Date(g.getFullYear(),0,4)),ee=P(ee),0>=D(G,g)?0>=D(ee,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}t>>>=0,n>>>=0,u>>>=0,p>>>=0;var j=Y[p+40>>>2>>>0];p={kb:I[p>>>2>>>0],jb:I[p+4>>>2>>>0],Xa:I[p+8>>>2>>>0],ab:I[p+12>>>2>>>0],Ya:I[p+16>>>2>>>0],Ua:I[p+20>>>2>>>0],Oa:I[p+24>>>2>>>0],Ta:I[p+28>>>2>>>0],mb:I[p+32>>>2>>>0],ib:I[p+36>>>2>>>0],lb:j?nr(j):""},u=nr(u),j={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var te in j)u=u.replace(new RegExp(te,"g"),j[te]);var me="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),We="January February March April May June July August September October November December".split(" ");j={"%a":g=>me[g.Oa].substring(0,3),"%A":g=>me[g.Oa],"%b":g=>We[g.Ya].substring(0,3),"%B":g=>We[g.Ya],"%C":g=>A((g.Ua+1900)/100|0,2),"%d":g=>A(g.ab,2),"%e":g=>v(g.ab,2," "),"%g":g=>L(g).toString().substring(2),"%G":g=>L(g),"%H":g=>A(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),A(g,2)),"%j":g=>{for(var G=0,ee=0;ee<=g.Ya-1;G+=(je(g.Ua+1900)?Gr:Vr)[ee++]);return A(g.ab+G,3)},"%m":g=>A(g.Ya+1,2),"%M":g=>A(g.jb,2),"%n":()=>`
`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>A(g.kb,2),"%t":()=>"	","%u":g=>g.Oa||7,"%U":g=>A(Math.floor((g.Ta+7-g.Oa)/7),2),"%V":g=>{var G=Math.floor((g.Ta+7-(g.Oa+6)%7)/7);if(2>=(g.Oa+371-g.Ta-2)%7&&G++,G)G==53&&(ee=(g.Oa+371-g.Ta)%7,ee==4||ee==3&&je(g.Ua)||(G=1));else{G=52;var ee=(g.Oa+7-g.Ta-1)%7;(ee==4||ee==5&&je(g.Ua%400-1))&&G++}return A(G,2)},"%w":g=>g.Oa,"%W":g=>A(Math.floor((g.Ta+7-(g.Oa+6)%7)/7),2),"%y":g=>(g.Ua+1900).toString().substring(2),"%Y":g=>g.Ua+1900,"%z":g=>{g=g.ib;var G=0<=g;return g=Math.abs(g)/60,(G?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.lb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(te in j)u.includes(te)&&(u=u.replace(new RegExp(te,"g"),j[te](p)));return u=u.replace(/\0\0/g,"%"),te=dt(u),te.length>n?0:(le.set(te,t>>>0),te.length-1)}for(var Mr=Array(256),Je=0;256>Je;++Je)Mr[Je]=String.fromCharCode(Je);Xe=Mr,Re=s.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},s.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(or.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),ve.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.Va=ve.Sa.length,s.count_emval_handles=()=>{for(var t=0,n=ve.Va;n<ve.Sa.length;++n)ve.Sa[n]!==void 0&&++t;return t};var kt={a:function(t,n,u){throw t>>>=0,new re(t).Za(n>>>0,u>>>0),se=t,qe++,se},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},B:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},E:function(t,n,u,p,v){n>>>=0,n=Ce(n);var A=n.indexOf("u")!=-1;A&&(v=(1n<<64n)-1n),Ue(t>>>0,{name:n,fromWireType:D=>D,toWireType:function(D,P){if(typeof P!="bigint"&&typeof P!="number")throw new TypeError(`Cannot convert "${wr(P)}" to ${this.name}`);if(P<p||P>v)throw new TypeError(`Passing a number "${wr(P)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${p}, ${v}]!`);return P},argPackAdvance:8,readValueFromPointer:tt(n,u>>>0,!A),Wa:null})},ea:function(t,n,u,p){n=Ce(n>>>0),Ue(t>>>0,{name:n,fromWireType:function(v){return!!v},toWireType:function(v,A){return A?u:p},argPackAdvance:8,readValueFromPointer:function(v){return this.fromWireType(Z[v>>>0])},Wa:null})},da:function(t,n){n=Ce(n>>>0),Ue(t>>>0,{name:n,fromWireType:u=>{var p=ge(u);return Tr(u),p},toWireType:(u,p)=>_e(p),argPackAdvance:8,readValueFromPointer:ir,Wa:null})},D:function(t,n,u){n=Ce(n>>>0),Ue(t>>>0,{name:n,fromWireType:p=>p,toWireType:(p,v)=>v,argPackAdvance:8,readValueFromPointer:nt(n,u>>>0),Wa:null})},p:function(t,n,u,p,v){if(t>>>=0,u>>>=0,n=Ce(n>>>0),v===-1&&(v=4294967295),v=P=>P,p===0){var A=32-8*u;v=P=>P<<A>>>A}var D=n.includes("unsigned")?function(P,L){return L>>>0}:function(P,L){return L};Ue(t,{name:n,fromWireType:v,toWireType:D,argPackAdvance:8,readValueFromPointer:tt(n,u,p!==0),Wa:null})},l:function(t,n,u){function p(A){return new v(le.buffer,Y[A+4>>>2>>>0],Y[A>>>2>>>0])}var v=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];u=Ce(u>>>0),Ue(t>>>0,{name:u,fromWireType:p,argPackAdvance:8,readValueFromPointer:p},{gb:!0})},F:function(t,n){n=Ce(n>>>0);var u=n==="std::string";Ue(t>>>0,{name:n,fromWireType:function(p){var v=Y[p>>>2>>>0],A=p+4;if(u)for(var D=A,P=0;P<=v;++P){var L=A+P;if(P==v||Z[L>>>0]==0){if(D=nr(D,L-D),j===void 0)var j=D;else j+=String.fromCharCode(0),j+=D;D=L+1}}else{for(j=Array(v),P=0;P<v;++P)j[P]=String.fromCharCode(Z[A+P>>>0]);j=j.join("")}return de(p),j},toWireType:function(p,v){v instanceof ArrayBuffer&&(v=new Uint8Array(v));var A=typeof v=="string";if(!(A||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Int8Array))throw new Re("Cannot pass non-string to std::string");var D=u&&A?He(v):v.length,P=Pr(4+D+1),L=P+4;if(Y[P>>>2>>>0]=D,u&&A)Be(v,Z,L,D+1);else if(A)for(A=0;A<D;++A){var j=v.charCodeAt(A);if(255<j)throw de(L),new Re("String has UTF-16 code units that do not fit in 8 bits");Z[L+A>>>0]=j}else for(A=0;A<D;++A)Z[L+A>>>0]=v[A];return p!==null&&p.push(de,P),P},argPackAdvance:8,readValueFromPointer:Wr,Wa(p){de(p)}})},x:function(t,n,u){if(n>>>=0,u>>>=0,u=Ce(u),n===2)var p=ot,v=Rt,A=B,D=()=>Fe,P=1;else n===4&&(p=_r,v=it,A=Ar,D=()=>Y,P=2);Ue(t>>>0,{name:u,fromWireType:L=>{for(var j=Y[L>>>2>>>0],te=D(),me,We=L+4,g=0;g<=j;++g){var G=L+4+g*n;(g==j||te[G>>>P]==0)&&(We=p(We,G-We),me===void 0?me=We:(me+=String.fromCharCode(0),me+=We),We=G+n)}return de(L),me},toWireType:(L,j)=>{if(typeof j!="string")throw new Re(`Cannot pass non-string to C++ string type ${u}`);var te=A(j),me=Pr(4+te+n);return Y[me>>>2]=te>>P,v(j,me+4,te+n),L!==null&&L.push(de,me),me},argPackAdvance:8,readValueFromPointer:ir,Wa(L){de(L)}})},fa:function(t,n){n=Ce(n>>>0),Ue(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,u){n>>>=0,u>>>=0,t=ge(t>>>0),n=sr(n,"emval::as");var p=[],v=_e(p);return Y[u>>>2>>>0]=v,n.toWireType(p,t)},h:function(t,n,u,p,v){u>>>=0,p>>>=0,v>>>=0,t=Er[t>>>0],n=ge(n>>>0),u=ur(u);var A=[];return Y[p>>>2>>>0]=_e(A),t(n,u,A,v)},r:function(t,n,u,p){u>>>=0,p>>>=0,t=Er[t>>>0],n=ge(n>>>0),u=ur(u),t(n,u,null,p)},b:Tr,y:function(t,n){return n>>>=0,t=ge(t>>>0),n=ge(n),t==n},u:function(t){return t>>>=0,t===0?_e(kr()):(t=ur(t),_e(kr()[t]))},g:function(t,n){var u=ut(t,n>>>0),p=u[0];n=p.name+"_$"+u.slice(1).map(function(te){return te.name}).join("_")+"$";var v=fr[n];if(v!==void 0)return v;v=["retType"];for(var A=[p],D="",P=0;P<t-1;++P)D+=(P!==0?", ":"")+"arg"+P,v.push("argType"+P),A.push(u[1+P]);var L="return function "+Lr("methodCaller_"+n)+`(handle, name, destructors, args) {
`,j=0;for(P=0;P<t-1;++P)L+="    var arg"+P+" = argType"+P+".readValueFromPointer(args"+(j?"+"+j:"")+`);
`,j+=u[P+1].argPackAdvance;for(L+="    var rv = handle[name]("+D+`);
`,P=0;P<t-1;++P)u[P+1].deleteObject&&(L+="    argType"+P+".deleteObject(arg"+P+`);
`);return p.hb||(L+=`    return retType.toWireType(destructors, rv);
`),v.push(L+`};
`),t=$r(v).apply(null,A),v=st(t),fr[n]=v},q:function(t,n){return n>>>=0,t=ge(t>>>0),n=ge(n),_e(t[n])},c:function(t){t>>>=0,4<t&&(ve.get(t).cb+=1)},G:function(t,n,u,p){u>>>=0,p>>>=0,t=ge(t>>>0);var v=Nr[n];return v||(v=lt(n),Nr[n]=v),v(t,u,p)},s:function(){return _e([])},k:function(t){t=ge(t>>>0);for(var n=Array(t.length),u=0;u<t.length;u++)n[u]=t[u];return _e(n)},d:function(t){return _e(ur(t>>>0))},j:function(){return _e({})},e:function(t){t>>>=0;for(var n=ge(t);n.length;){var u=n.pop();n.pop()(u)}Tr(t)},i:function(t,n,u){n>>>=0,u>>>=0,t=ge(t>>>0),n=ge(n),u=ge(u),t[n]=u},f:function(t,n){return n>>>=0,t=sr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),_e(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),I[n>>>2>>>0]=t.getUTCSeconds(),I[n+4>>>2>>>0]=t.getUTCMinutes(),I[n+8>>>2>>>0]=t.getUTCHours(),I[n+12>>>2>>>0]=t.getUTCDate(),I[n+16>>>2>>>0]=t.getUTCMonth(),I[n+20>>>2>>>0]=t.getUTCFullYear()-1900,I[n+24>>>2>>>0]=t.getUTCDay(),I[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),I[n>>>2>>>0]=t.getSeconds(),I[n+4>>>2>>>0]=t.getMinutes(),I[n+8>>>2>>>0]=t.getHours(),I[n+12>>>2>>>0]=t.getDate(),I[n+16>>>2>>>0]=t.getMonth(),I[n+20>>>2>>>0]=t.getFullYear()-1900,I[n+24>>>2>>>0]=t.getDay(),I[n+28>>>2>>>0]=(je(t.getFullYear())?Hr:jr)[t.getMonth()]+t.getDate()-1|0,I[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),p=new Date(t.getFullYear(),0,1).getTimezoneOffset();I[n+32>>>2>>>0]=(u!=p&&t.getTimezoneOffset()==Math.min(p,u))|0},U:function(t){t>>>=0;var n=new Date(I[t+20>>>2>>>0]+1900,I[t+16>>>2>>>0],I[t+12>>>2>>>0],I[t+8>>>2>>>0],I[t+4>>>2>>>0],I[t>>>2>>>0],0),u=I[t+32>>>2>>>0],p=n.getTimezoneOffset(),v=new Date(n.getFullYear(),6,1).getTimezoneOffset(),A=new Date(n.getFullYear(),0,1).getTimezoneOffset(),D=Math.min(A,v);return 0>u?I[t+32>>>2>>>0]=+(v!=A&&D==p):0<u!=(D==p)&&(v=Math.max(A,v),n.setTime(n.getTime()+6e4*((0<u?D:v)-p))),I[t+24>>>2>>>0]=n.getDay(),I[t+28>>>2>>>0]=(je(n.getFullYear())?Hr:jr)[n.getMonth()]+n.getDate()-1|0,I[t>>>2>>>0]=n.getSeconds(),I[t+4>>>2>>>0]=n.getMinutes(),I[t+8>>>2>>>0]=n.getHours(),I[t+12>>>2>>>0]=n.getDate(),I[t+16>>>2>>>0]=n.getMonth(),I[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,u){function p(L){return(L=L.toTimeString().match(/\(([A-Za-z ]+)\)$/))?L[1]:"GMT"}u>>>=0;var v=new Date().getFullYear(),A=new Date(v,0,1),D=new Date(v,6,1);v=A.getTimezoneOffset();var P=D.getTimezoneOffset();Y[t>>>0>>>2>>>0]=60*Math.max(v,P),I[n>>>0>>>2>>>0]=+(v!=P),t=p(A),n=p(D),t=zr(t),n=zr(n),P<v?(Y[u>>>2>>>0]=t,Y[u+4>>>2>>>0]=n):(Y[u>>>2>>>0]=n,Y[u+4>>>2>>>0]=t)},t:()=>{er("")},C:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,u){return n>>>=0,Z.copyWithin(t>>>0>>>0,n>>>0,n+(u>>>0)>>>0)},I:function(t){t>>>=0;var n=Z.length;if(4294901760<t)return!1;for(var u=1;4>=u;u*=2){var p=n*(1+.2/u);p=Math.min(p,t+100663296);var v=Math;p=Math.max(t,p);e:{v=(v.min.call(v,4294901760,p+(65536-p%65536)%65536)-U.buffer.byteLength+65535)/65536;try{U.grow(v),V();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var u=0;return Yr().forEach((p,v)=>{var A=n+u;for(v=Y[t+4*v>>>2>>>0]=A,A=0;A<p.length;++A)le[v++>>>0>>>0]=p.charCodeAt(A);le[v>>>0>>>0]=0,u+=p.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var u=Yr();Y[t>>>2>>>0]=u.length;var p=0;return u.forEach(v=>p+=v.length+1),Y[n>>>2>>>0]=p,0},w:()=>52,A:function(){return 52},W:function(){return 70},z:function(t,n,u,p){n>>>=0,u>>>=0,p>>>=0;for(var v=0,A=0;A<u;A++){var D=Y[n>>>2>>>0],P=Y[n+4>>>2>>>0];n+=8;for(var L=0;L<P;L++){var j=Z[D+L>>>0],te=ct[t];j===0||j===10?((t===1?z:W)(br(te,0)),te.length=0):te.push(j)}v+=P}return Y[p>>>2>>>0]=v,0},ga:Me,m:function(t,n,u,p){return Me(t>>>0,n>>>0,u>>>0,p>>>0)}},R=function(){var t={a:kt};return he++,tr(t,function(n){R=n.instance.exports,R=be(),U=R.ha,V(),$e.unshift(R.ia),he--,he==0&&(Q!==null&&(clearInterval(Q),Q=null),pe&&(n=pe,pe=null,n()))}).catch(c),{}}();s._OrtInit=(t,n)=>(s._OrtInit=R.ja)(t,n),s._OrtGetLastError=(t,n)=>(s._OrtGetLastError=R.ka)(t,n),s._OrtCreateSessionOptions=(t,n,u,p,v,A,D,P,L,j)=>(s._OrtCreateSessionOptions=R.la)(t,n,u,p,v,A,D,P,L,j),s._OrtAppendExecutionProvider=(t,n)=>(s._OrtAppendExecutionProvider=R.ma)(t,n),s._OrtAddFreeDimensionOverride=(t,n,u)=>(s._OrtAddFreeDimensionOverride=R.na)(t,n,u),s._OrtAddSessionConfigEntry=(t,n,u)=>(s._OrtAddSessionConfigEntry=R.oa)(t,n,u),s._OrtReleaseSessionOptions=t=>(s._OrtReleaseSessionOptions=R.pa)(t),s._OrtCreateSession=(t,n,u)=>(s._OrtCreateSession=R.qa)(t,n,u),s._OrtReleaseSession=t=>(s._OrtReleaseSession=R.ra)(t),s._OrtGetInputOutputCount=(t,n,u)=>(s._OrtGetInputOutputCount=R.sa)(t,n,u),s._OrtGetInputName=(t,n)=>(s._OrtGetInputName=R.ta)(t,n),s._OrtGetOutputName=(t,n)=>(s._OrtGetOutputName=R.ua)(t,n),s._OrtFree=t=>(s._OrtFree=R.va)(t),s._OrtCreateTensor=(t,n,u,p,v,A)=>(s._OrtCreateTensor=R.wa)(t,n,u,p,v,A),s._OrtGetTensorData=(t,n,u,p,v)=>(s._OrtGetTensorData=R.xa)(t,n,u,p,v),s._OrtReleaseTensor=t=>(s._OrtReleaseTensor=R.ya)(t),s._OrtCreateRunOptions=(t,n,u,p)=>(s._OrtCreateRunOptions=R.za)(t,n,u,p),s._OrtAddRunConfigEntry=(t,n,u)=>(s._OrtAddRunConfigEntry=R.Aa)(t,n,u),s._OrtReleaseRunOptions=t=>(s._OrtReleaseRunOptions=R.Ba)(t),s._OrtCreateBinding=t=>(s._OrtCreateBinding=R.Ca)(t),s._OrtBindInput=(t,n,u)=>(s._OrtBindInput=R.Da)(t,n,u),s._OrtBindOutput=(t,n,u,p)=>(s._OrtBindOutput=R.Ea)(t,n,u,p),s._OrtClearBoundOutputs=t=>(s._OrtClearBoundOutputs=R.Fa)(t),s._OrtReleaseBinding=t=>(s._OrtReleaseBinding=R.Ga)(t),s._OrtRunWithBinding=(t,n,u,p,v)=>(s._OrtRunWithBinding=R.Ha)(t,n,u,p,v),s._OrtRun=(t,n,u,p,v,A,D,P)=>(s._OrtRun=R.Ia)(t,n,u,p,v,A,D,P),s._OrtEndProfiling=t=>(s._OrtEndProfiling=R.Ja)(t);var Pr=s._malloc=t=>(Pr=s._malloc=R.Ka)(t),de=s._free=t=>(de=s._free=R.La)(t),qr=t=>(qr=R.Ma)(t);s.__embind_initialize_bindings=()=>(s.__embind_initialize_bindings=R.Na)();var Xr=()=>(Xr=R.Pa)(),Ae=t=>(Ae=R.Qa)(t),Fr=t=>(Fr=R.Ra)(t);function be(){var t=R;t=Object.assign({},t);var n=p=>()=>p()>>>0,u=p=>v=>p(v)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=u(t.Ka),t.Ma=u(t.Ma),t.Pa=n(t.Pa),t.Ra=u(t.Ra),t}s.stackAlloc=Fr,s.stackSave=Xr,s.stackRestore=Ae,s.UTF8ToString=nr,s.stringToUTF8=(t,n,u)=>Be(t,Z,n,u),s.lengthBytesUTF8=He;var ye;pe=function t(){ye||Jr(),ye||(pe=t)};function Jr(){if(!(0<he)){for(;0<K.length;)K.shift()(s);if(!(0<he||ye||(ye=!0,s.calledRun=!0,J))){for(;0<$e.length;)$e.shift()(s);for(m(s);0<Oe.length;)Oe.shift()(s)}}}return Jr(),i.ready}})();typeof pa=="object"&&typeof en=="object"?en.exports=da:typeof define=="function"&&define.amd&&define([],()=>da)});var ha=Ir(()=>{});var ga=Ir(()=>{});var ya={};Zr(ya,{cpus:()=>_o});var _o,va=X(()=>{_o=void 0});var Oa=Ir((wa,rn)=>{"use strict";var ba=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(i={}){function s(){return K.buffer!=Q.buffer&&re(),Q}function m(){return K.buffer!=Q.buffer&&re(),pe}function c(){return K.buffer!=Q.buffer&&re(),er}function w(){return K.buffer!=Q.buffer&&re(),ke}function d(){return K.buffer!=Q.buffer&&re(),De}function y(){return K.buffer!=Q.buffer&&re(),Ve}function T(){return K.buffer!=Q.buffer&&re(),tr}var f=i,_,S;f.ready=new Promise((e,r)=>{_=e,S=r});var E=Object.assign({},f),F="./this.program",N=(e,r)=>{throw r},k=typeof window=="object",z=typeof importScripts=="function",W=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U=f.ENVIRONMENT_IS_PTHREAD||!1,J="";function le(e){return f.locateFile?f.locateFile(e,J):J+e}var Z,Se,Fe;if(W){var I=(Zt(),Dr(Jt)),Y=(Qt(),Dr(Kt));J=z?Y.dirname(J)+"/":__dirname+"/",Z=(r,a)=>(r=r.startsWith("file://")?new URL(r):Y.normalize(r),I.readFileSync(r,a?void 0:"utf8")),Fe=r=>(r=Z(r,!0),r.buffer||(r=new Uint8Array(r)),r),Se=(r,a,l,h=!0)=>{r=r.startsWith("file://")?new URL(r):Y.normalize(r),I.readFile(r,h?void 0:"utf8",(b,C)=>{b?l(b):a(h?C.buffer:C)})},!f.thisProgram&&1<process.argv.length&&(F=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),N=(r,a)=>{throw process.exitCode=r,a},f.inspect=()=>"[Emscripten Module object]";let e;try{e=ha()}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}global.Worker=e.Worker}else(k||z)&&(z?J=self.location.href:typeof document<"u"&&document.currentScript&&(J=document.currentScript.src),typeof o<"u"&&o&&(J=o),J.indexOf("blob:")!==0?J=J.substr(0,J.replace(/[?#].*/,"").lastIndexOf("/")+1):J="",W||(Z=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},z&&(Fe=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Se=(e,r,a)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):a()},l.onerror=a,l.send(null)}));W&&typeof performance>"u"&&(global.performance=ga().performance);var Ze=console.log.bind(console),Ke=console.error.bind(console);W&&(Ze=(...e)=>I.writeSync(1,e.join(" ")+`
`),Ke=(...e)=>I.writeSync(2,e.join(" ")+`
`));var Qe=Ze,ce=Ke;Object.assign(f,E),E=null;var V=!0;typeof WebAssembly!="object"&&Le("no native wasm support detected");var K,$e,Oe=!1,he,Q,pe,er,ke,De,Ve,rr,Te,xe,tr;function re(){var e=K.buffer;f.HEAP8=Q=new Int8Array(e),f.HEAP16=er=new Int16Array(e),f.HEAPU8=pe=new Uint8Array(e),f.HEAPU16=ke=new Uint16Array(e),f.HEAP32=De=new Int32Array(e),f.HEAPU32=Ve=new Uint32Array(e),f.HEAPF32=rr=new Float32Array(e),f.HEAPF64=tr=new Float64Array(e),f.HEAP64=Te=new BigInt64Array(e),f.HEAPU64=xe=new BigUint64Array(e)}var se=16777216;if(5242880<=se||Le("INITIAL_MEMORY should be larger than STACK_SIZE, was "+se+"! (STACK_SIZE=5242880)"),U)K=f.wasmMemory;else if(K=new WebAssembly.Memory({initial:se/65536,maximum:65536,shared:!0}),!(K.buffer instanceof SharedArrayBuffer))throw ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),W&&ce("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");re(),se=K.buffer.byteLength;var qe=[],Ne=[],br=[],nr=0;function He(){return V||0<nr}var Be=0,wr=null,Xe=null;function Ce(){if(Be--,Be==0&&(wr!==null&&(clearInterval(wr),wr=null),Xe)){var e=Xe;Xe=null,e()}}function Le(e){throw e="Aborted("+e+")",ce(e),Oe=!0,he=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),S(e),e}function Or(e){return e.startsWith("data:application/octet-stream;base64,")}var ar;ar="ort-wasm-threaded.wasm",Or(ar)||(ar=le(ar));function Re(e){if(Fe)return Fe(e);throw"both async and sync fetching of the wasm failed"}function Bt(e){if(k||z){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Re(e));if(Se)return new Promise((r,a)=>{Se(e,l=>r(new Uint8Array(l)),a)})}return Promise.resolve().then(()=>Re(e))}function Ue(e,r,a){return Bt(e).then(l=>WebAssembly.instantiate(l,r)).then(l=>l).then(a,l=>{ce(`failed to asynchronously prepare wasm: ${l}`),Le(l)})}function tt(e,r){var a=ar;return typeof WebAssembly.instantiateStreaming!="function"||Or(a)||a.startsWith("file://")||W||typeof fetch!="function"?Ue(a,e,r):fetch(a,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(h){return ce(`wasm streaming compile failed: ${h}`),ce("falling back to ArrayBuffer instantiation"),Ue(a,e,r)}))}function or(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ve=e=>{e.terminate(),e.onmessage=()=>{}},Tr=e=>{B.nb.length==0&&(ot(),B.Ab(B.nb[0]));var r=B.nb.pop();if(!r)return 6;B.ob.push(r),B.jb[e.mb]=r,r.mb=e.mb;var a={cmd:"run",start_routine:e.Mb,arg:e.Gb,pthread_ptr:e.mb};return W&&r.unref(),r.postMessage(a,e.Sb),0},ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,_e=(e,r,a)=>{r>>>=0;var l=r+a;for(a=r;e[a]&&!(a>=l);)++a;if(16<a-r&&e.buffer&&ge)return ge.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(l="";r<a;){var h=e[r++];if(h&128){var b=e[r++]&63;if((h&224)==192)l+=String.fromCharCode((h&31)<<6|b);else{var C=e[r++]&63;h=(h&240)==224?(h&15)<<12|b<<6|C:(h&7)<<18|b<<12|C<<6|e[r++]&63,65536>h?l+=String.fromCharCode(h):(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else l+=String.fromCharCode(h)}return l},ir=(e,r)=>(e>>>=0)?_e(m(),e,r):"";function nt(e){if(U)return g(0,1,e);he=e,He()||(B.Nb(),Oe=!0),N(e,new or(e))}var Wr=e=>{if(he=e,U)throw it(e),"unwind";nt(e)};function at(){for(var e=f.numThreads;e--;)ot();qe.unshift(()=>{Be++,Rt(()=>Ce())})}function ot(){var e=le("ort-wasm-threaded.worker.js");e=new Worker(e),B.nb.push(e)}function Rt(e){U?e():Promise.all(B.nb.map(B.Ab)).then(e)}var B={nb:[],ob:[],Fb:[],jb:{},vb(){U?(B.receiveObjectTransfer=B.Lb,B.threadInitTLS=B.Eb,B.setExitStatus=B.Db,V=!1):at()},Db:e=>{he=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of B.ob)ve(e);for(e of B.nb)ve(e);B.nb=[],B.ob=[],B.jb=[]},Cb:e=>{var r=e.mb;delete B.jb[r],B.nb.push(e),B.ob.splice(B.ob.indexOf(e),1),e.mb=0,Nt(r)},Lb(){},Eb(){B.Fb.forEach(e=>e())},Ab:e=>new Promise(r=>{e.onmessage=b=>{b=b.data;var C=b.cmd;if(b.targetThread&&b.targetThread!=ht()){var M=B.jb[b.targetThread];M?M.postMessage(b,b.transferList):ce(`Internal error! Worker sent a message "${C}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else C==="checkMailbox"?me():C==="spawnThread"?Tr(b):C==="cleanupThread"?((b=B.jb[b.thread])||Le(),B.Cb(b)):C==="killThread"?(b=b.thread,C=B.jb[b],delete B.jb[b],ve(C),Nt(b),B.ob.splice(B.ob.indexOf(C),1),C.mb=0):C==="cancelThread"?B.jb[b.thread].postMessage({cmd:"cancel"}):C==="loaded"?(e.loaded=!0,W&&!e.mb&&e.unref(),r(e)):C==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):C==="callHandler"?f[b.handler](...b.args):C&&ce(`worker sent an unknown command ${C}`)},e.onerror=b=>{throw ce(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},W&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var a=[],l=[],h;for(h of l)f.hasOwnProperty(h)&&a.push(h);e.postMessage({cmd:"load",handlers:a,urlOrBlob:f.mainScriptUrlOrBlob||o,wasmMemory:K,wasmModule:$e})})};f.PThread=B;var _r=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=ht(),r=y()[e+52>>>2>>>0];e=y()[e+56>>>2>>>0],Rn(r,r-e),yt(r)};function it(e){if(U)return g(1,0,e);Wr(e)}var Ar=[],sr;f.invokeEntryPoint=(e,r)=>{var a=Ar[e];a||(e>=Ar.length&&(Ar.length=e+1),Ar[e]=a=sr.get(e)),e=a(r),He()?B.Db(e):Ht(e)};function Wt(e){this.sb=e-24,this.Kb=function(r){y()[this.sb+4>>>2>>>0]=r},this.xb=function(r){y()[this.sb+8>>>2>>>0]=r},this.vb=function(r,a){this.wb(),this.Kb(r),this.xb(a)},this.wb=function(){y()[this.sb+16>>>2>>>0]=0}}var ur=0,Er=0;function kr(e,r,a,l){return U?g(2,1,e,r,a,l):st(e,r,a,l)}function st(e,r,a,l){if(e>>>=0,r>>>=0,a>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return U&&h.length===0?kr(e,r,a,l):(e={Mb:a,mb:e,Gb:l,Sb:h},U?(e.Ub="spawnThread",postMessage(e,h),0):Tr(e))}function ut(e,r,a){return U?g(3,1,e,r,a):0}function Lr(e,r){if(U)return g(4,1,e,r)}var fr=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++a):r+=3}return r},ft=(e,r,a,l)=>{if(a>>>=0,!(0<l))return 0;var h=a;l=a+l-1;for(var b=0;b<e.length;++b){var C=e.charCodeAt(b);if(55296<=C&&57343>=C){var M=e.charCodeAt(++b);C=65536+((C&1023)<<10)|M&1023}if(127>=C){if(a>=l)break;r[a++>>>0]=C}else{if(2047>=C){if(a+1>=l)break;r[a++>>>0]=192|C>>6}else{if(65535>=C){if(a+2>=l)break;r[a++>>>0]=224|C>>12}else{if(a+3>=l)break;r[a++>>>0]=240|C>>18,r[a++>>>0]=128|C>>12&63}r[a++>>>0]=128|C>>6&63}r[a++>>>0]=128|C&63}}return r[a>>>0]=0,a-h},$r=(e,r,a)=>ft(e,m(),r,a);function lt(e,r){if(U)return g(5,1,e,r)}function Nr(e,r,a){if(U)return g(6,1,e,r,a)}function je(e,r,a){return U?g(7,1,e,r,a):0}function Hr(e,r){if(U)return g(8,1,e,r)}function jr(e,r,a){if(U)return g(9,1,e,r,a)}function zr(e,r,a,l){if(U)return g(10,1,e,r,a,l)}function Sr(e,r,a,l){if(U)return g(11,1,e,r,a,l)}function Yr(e,r,a,l){if(U)return g(12,1,e,r,a,l)}function Cr(e){if(U)return g(13,1,e)}function ct(e,r){if(U)return g(14,1,e,r)}function Gr(e,r,a){if(U)return g(15,1,e,r,a)}var Vr=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},dt,Me=e=>{for(var r="";m()[e>>>0];)r+=dt[m()[e++>>>0]];return r},Mr={},Je={},kt={},R;function Pr(e,r,a={}){var l=r.name;if(!e)throw new R(`type "${l}" must have a positive integer typeid pointer`);if(Je.hasOwnProperty(e)){if(a.Ib)return;throw new R(`Cannot register type '${l}' twice`)}Je[e]=r,delete kt[e],Mr.hasOwnProperty(e)&&(r=Mr[e],delete Mr[e],r.forEach(h=>h()))}function de(e,r,a={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");Pr(e,r,a)}var qr=(e,r,a)=>{switch(r){case 1:return a?l=>s()[l>>>0>>>0]:l=>m()[l>>>0>>>0];case 2:return a?l=>c()[l>>>1>>>0]:l=>w()[l>>>1>>>0];case 4:return a?l=>d()[l>>>2>>>0]:l=>y()[l>>>2>>>0];case 8:return a?l=>Te[l>>>3]:l=>xe[l>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Xr(){this.lb=[void 0],this.zb=[]}var Ae=new Xr;function Fr(e){e>>>=0,e>=Ae.sb&&--Ae.get(e).Bb===0&&Ae.xb(e)}var be=e=>{if(!e)throw new R("Cannot use deleted val. handle = "+e);return Ae.get(e).value},ye=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ae.wb({Bb:1,value:e})}};function Jr(e){return this.fromWireType(d()[e>>>2>>>0])}var t=(e,r)=>{switch(r){case 4:return function(a){var l=this.fromWireType;return K.buffer!=Q.buffer&&re(),l.call(this,rr[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(T()[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function n(e){return this.fromWireType(y()[e>>>2>>>0])}var u=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,p=(e,r)=>{for(var a=e>>1,l=a+r/2;!(a>=l)&&w()[a>>>0];)++a;if(a<<=1,32<a-e&&u)return u.decode(m().slice(e,a));for(a="",l=0;!(l>=r/2);++l){var h=c()[e+2*l>>>1>>>0];if(h==0)break;a+=String.fromCharCode(h)}return a},v=(e,r,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var l=r;a=a<2*e.length?a/2:e.length;for(var h=0;h<a;++h){var b=e.charCodeAt(h);c()[r>>>1>>>0]=b,r+=2}return c()[r>>>1>>>0]=0,r-l},A=e=>2*e.length,D=(e,r)=>{for(var a=0,l="";!(a>=r/4);){var h=d()[e+4*a>>>2>>>0];if(h==0)break;++a,65536<=h?(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023)):l+=String.fromCharCode(h)}return l},P=(e,r,a)=>{if(r>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var l=r;a=l+a-4;for(var h=0;h<e.length;++h){var b=e.charCodeAt(h);if(55296<=b&&57343>=b){var C=e.charCodeAt(++h);b=65536+((b&1023)<<10)|C&1023}if(d()[r>>>2>>>0]=b,r+=4,r+4>a)break}return d()[r>>>2>>>0]=0,r-l},L=e=>{for(var r=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);55296<=l&&57343>=l&&++a,r+=4}return r},j=e=>{if(!Oe)try{if(e(),!He())try{U?Ht(he):Wr(he)}catch(r){r instanceof or||r=="unwind"||N(1,r)}}catch(r){r instanceof or||r=="unwind"||N(1,r)}};function te(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(d(),e>>>2,e).value.then(me),e+=128,Atomics.store(d(),e>>>2,1))}f.__emscripten_thread_mailbox_await=te;var me=()=>{var e=ht();e&&(te(e),j(()=>Bn()))};f.checkMailbox=me;var We=e=>{var r=jt();return e=e(),yt(r),e};function g(e,r){var a=arguments.length-2,l=arguments;return We(()=>{for(var h=2*a,b=zt(8*h),C=b>>>3,M=0;M<a;M++){var $=l[2+M];typeof $=="bigint"?(Te[C+2*M]=1n,Te[C+2*M+1]=$):(Te[C+2*M]=0n,T()[C+2*M+1>>>0]=$)}return xn(e,h,b,r)})}var G=[],ee=(e,r)=>{var a=Je[e];if(a===void 0)throw e=In(e),a=Me(e),Ye(e),new R(r+" has unknown type "+a);return a},ze={},lr=e=>{var r=ze[e];return r===void 0?Me(e):r},pt=[],dn=()=>typeof globalThis=="object"?globalThis:Function("return this")(),to=e=>{var r=pt.length;return pt.push(e),r},no=(e,r)=>{for(var a=Array(e),l=0;l<e;++l)a[l]=ee(y()[r+4*l>>>2>>>0],"parameter "+l);return a},pn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},mn={};function ao(e,r){return e=pn(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function oo(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var a=ao(r.name||"unknownFunctionName",function(){});return a.prototype=r.prototype,a=new a,e=r.apply(a,e),e instanceof Object?e:a}var io=e=>{for(var r="",a=0;a<e;++a)r+=(a!==0?", ":"")+"arg"+a;var l="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(a=0;a<e;++a)l+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+a+`');
var arg`+a+" = argType"+a+`.readValueFromPointer(args);
args += argType`+a+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",l+("var obj = new constructor("+r+`);
return valueToHandle(obj);
}
`))(ee,f,ye,()=>y())},hn={},Ur=e=>e%4===0&&(e%100!==0||e%400===0),gn=[0,31,60,91,121,152,182,213,244,274,305,335],yn=[0,31,59,90,120,151,181,212,243,273,304,334];function vn(e,r,a,l,h,b,C){return U?g(16,1,e,r,a,l,h,b,C):-52}function bn(e,r,a,l,h,b){if(U)return g(17,1,e,r,a,l,h,b)}var wn=e=>{var r=fr(e)+1,a=gt(r);return a&&$r(e,a,r),a},Lt={},On=()=>{if(!$t){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"},r;for(r in Lt)Lt[r]===void 0?delete e[r]:e[r]=Lt[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);$t=a}return $t},$t;function Tn(e,r){if(U)return g(18,1,e,r);e>>>=0,r>>>=0;var a=0;return On().forEach((l,h)=>{var b=r+a;for(h=y()[e+4*h>>>2>>>0]=b,b=0;b<l.length;++b)s()[h++>>>0>>>0]=l.charCodeAt(b);s()[h>>>0>>>0]=0,a+=l.length+1}),0}function _n(e,r){if(U)return g(19,1,e,r);e>>>=0,r>>>=0;var a=On();y()[e>>>2>>>0]=a.length;var l=0;return a.forEach(h=>l+=h.length+1),y()[r>>>2>>>0]=l,0}function An(e){return U?g(20,1,e):52}function En(e,r,a,l){return U?g(21,1,e,r,a,l):52}function Sn(e,r,a,l){return U?g(22,1,e,r,a,l):70}var so=[null,[],[]];function Cn(e,r,a,l){if(U)return g(23,1,e,r,a,l);r>>>=0,a>>>=0,l>>>=0;for(var h=0,b=0;b<a;b++){var C=y()[r>>>2>>>0],M=y()[r+4>>>2>>>0];r+=8;for(var $=0;$<M;$++){var H=m()[C+$>>>0],ae=so[e];H===0||H===10?((e===1?Qe:ce)(_e(ae,0)),ae.length=0):ae.push(H)}h+=M}return y()[l>>>2>>>0]=h,0}var Mn=[31,29,31,30,31,30,31,31,30,31,30,31],Pn=[31,28,31,30,31,30,31,31,30,31,30,31];function uo(e){var r=Array(fr(e)+1);return ft(e,r,0,r.length),r}var fo=(e,r)=>{s().set(e,r>>>0)};function Fn(e,r,a,l){function h(O,q,oe){for(O=typeof O=="number"?O.toString():O||"";O.length<q;)O=oe[0]+O;return O}function b(O,q){return h(O,q,"0")}function C(O,q){function oe(kn){return 0>kn?-1:0<kn?1:0}var cr;return(cr=oe(O.getFullYear()-q.getFullYear()))===0&&(cr=oe(O.getMonth()-q.getMonth()))===0&&(cr=oe(O.getDate()-q.getDate())),cr}function M(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function $(O){var q=O.pb;for(O=new Date(new Date(O.qb+1900,0,1).getTime());0<q;){var oe=O.getMonth(),cr=(Ur(O.getFullYear())?Mn:Pn)[oe];if(q>cr-O.getDate())q-=cr-O.getDate()+1,O.setDate(1),11>oe?O.setMonth(oe+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+q);break}}return oe=new Date(O.getFullYear()+1,0,4),q=M(new Date(O.getFullYear(),0,4)),oe=M(oe),0>=C(q,O)?0>=C(oe,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,l>>>=0;var H=y()[l+40>>>2>>>0];l={Qb:d()[l>>>2>>>0],Pb:d()[l+4>>>2>>>0],tb:d()[l+8>>>2>>>0],yb:d()[l+12>>>2>>>0],ub:d()[l+16>>>2>>>0],qb:d()[l+20>>>2>>>0],kb:d()[l+24>>>2>>>0],pb:d()[l+28>>>2>>>0],Wb:d()[l+32>>>2>>>0],Ob:d()[l+36>>>2>>>0],Rb:H?ir(H):""},a=ir(a),H={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ae in H)a=a.replace(new RegExp(ae,"g"),H[ae]);var Pe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ge="January February March April May June July August September October November December".split(" ");H={"%a":O=>Pe[O.kb].substring(0,3),"%A":O=>Pe[O.kb],"%b":O=>Ge[O.ub].substring(0,3),"%B":O=>Ge[O.ub],"%C":O=>b((O.qb+1900)/100|0,2),"%d":O=>b(O.yb,2),"%e":O=>h(O.yb,2," "),"%g":O=>$(O).toString().substring(2),"%G":O=>$(O),"%H":O=>b(O.tb,2),"%I":O=>(O=O.tb,O==0?O=12:12<O&&(O-=12),b(O,2)),"%j":O=>{for(var q=0,oe=0;oe<=O.ub-1;q+=(Ur(O.qb+1900)?Mn:Pn)[oe++]);return b(O.yb+q,3)},"%m":O=>b(O.ub+1,2),"%M":O=>b(O.Pb,2),"%n":()=>`
`,"%p":O=>0<=O.tb&&12>O.tb?"AM":"PM","%S":O=>b(O.Qb,2),"%t":()=>"	","%u":O=>O.kb||7,"%U":O=>b(Math.floor((O.pb+7-O.kb)/7),2),"%V":O=>{var q=Math.floor((O.pb+7-(O.kb+6)%7)/7);if(2>=(O.kb+371-O.pb-2)%7&&q++,q)q==53&&(oe=(O.kb+371-O.pb)%7,oe==4||oe==3&&Ur(O.qb)||(q=1));else{q=52;var oe=(O.kb+7-O.pb-1)%7;(oe==4||oe==5&&Ur(O.qb%400-1))&&q++}return b(q,2)},"%w":O=>O.kb,"%W":O=>b(Math.floor((O.pb+7-(O.kb+6)%7)/7),2),"%y":O=>(O.qb+1900).toString().substring(2),"%Y":O=>O.qb+1900,"%z":O=>{O=O.Ob;var q=0<=O;return O=Math.abs(O)/60,(q?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.Rb,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(ae in H)a.includes(ae)&&(a=a.replace(new RegExp(ae,"g"),H[ae](l)));return a=a.replace(/\0\0/g,"%"),ae=uo(a),ae.length>r?0:(fo(ae,e),ae.length-1)}B.vb();for(var Un=Array(256),mt=0;256>mt;++mt)Un[mt]=String.fromCharCode(mt);dt=Un,R=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Xr.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),Ae.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),Ae.sb=Ae.lb.length,f.count_emval_handles=()=>{for(var e=0,r=Ae.sb;r<Ae.lb.length;++r)Ae.lb[r]!==void 0&&++e;return e};var lo=[nt,it,kr,ut,Lr,lt,Nr,je,Hr,jr,zr,Sr,Yr,Cr,ct,Gr,vn,bn,Tn,_n,An,En,Sn,Cn],co={b:function(e,r,a){throw e>>>=0,new Wt(e).vb(r>>>0,a>>>0),ur=e,Er++,ur},ea:function(e){Dn(e>>>0,!z,1,!k,131072,!1),B.Eb()},E:function(e){e>>>=0,U?postMessage({cmd:"cleanupThread",thread:e}):((e=B.jb[e])||Le(),B.Cb(e))},W:st,y:ut,ka:Lr,S:lt,U:Nr,L:je,ia:Hr,ba:jr,ha:zr,G:Sr,T:Yr,Q:Cr,ja:ct,R:Gr,J:function(e,r,a,l,h){e>>>=0,r>>>=0,a>>>=0,r=Me(r);var b=r.indexOf("u")!=-1;b&&(h=(1n<<64n)-1n),de(e,{name:r,fromWireType:C=>C,toWireType:function(C,M){if(typeof M!="bigint"&&typeof M!="number")throw new TypeError(`Cannot convert "${Vr(M)}" to ${this.name}`);if(M<l||M>h)throw new TypeError(`Passing a number "${Vr(M)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${l}, ${h}]!`);return M},argPackAdvance:8,readValueFromPointer:qr(r,a,!b),rb:null})},qa:function(e,r,a,l){e>>>=0,r=Me(r>>>0),de(e,{name:r,fromWireType:function(h){return!!h},toWireType:function(h,b){return b?a:l},argPackAdvance:8,readValueFromPointer:function(h){return this.fromWireType(m()[h>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=Me(r>>>0),de(e,{name:r,fromWireType:a=>{var l=be(a);return Fr(a),l},toWireType:(a,l)=>ye(l),argPackAdvance:8,readValueFromPointer:Jr,rb:null})},I:function(e,r,a){e>>>=0,a>>>=0,r=Me(r>>>0),de(e,{name:r,fromWireType:l=>l,toWireType:(l,h)=>h,argPackAdvance:8,readValueFromPointer:t(r,a),rb:null})},u:function(e,r,a,l,h){if(e>>>=0,a>>>=0,r=Me(r>>>0),h===-1&&(h=4294967295),h=M=>M,l===0){var b=32-8*a;h=M=>M<<b>>>b}var C=r.includes("unsigned")?function(M,$){return $>>>0}:function(M,$){return $};de(e,{name:r,fromWireType:h,toWireType:C,argPackAdvance:8,readValueFromPointer:qr(r,a,l!==0),rb:null})},m:function(e,r,a){function l(b){var C=y()[b>>>2>>>0];return b=y()[b+4>>>2>>>0],new h(s().buffer,b,C)}e>>>=0;var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];a=Me(a>>>0),de(e,{name:a,fromWireType:l,argPackAdvance:8,readValueFromPointer:l},{Ib:!0})},K:function(e,r){e>>>=0,r=Me(r>>>0);var a=r==="std::string";de(e,{name:r,fromWireType:function(l){var h=y()[l>>>2>>>0],b=l+4;if(a)for(var C=b,M=0;M<=h;++M){var $=b+M;if(M==h||m()[$>>>0]==0){if(C=ir(C,$-C),H===void 0)var H=C;else H+=String.fromCharCode(0),H+=C;C=$+1}}else{for(H=Array(h),M=0;M<h;++M)H[M]=String.fromCharCode(m()[b+M>>>0]);H=H.join("")}return Ye(l),H},toWireType:function(l,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var b=typeof h=="string";if(!(b||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array))throw new R("Cannot pass non-string to std::string");var C=a&&b?fr(h):h.length,M=gt(4+C+1),$=M+4;if(y()[M>>>2>>>0]=C,a&&b)$r(h,$,C+1);else if(b)for(b=0;b<C;++b){var H=h.charCodeAt(b);if(255<H)throw Ye($),new R("String has UTF-16 code units that do not fit in 8 bits");m()[$+b>>>0]=H}else for(b=0;b<C;++b)m()[$+b>>>0]=h[b];return l!==null&&l.push(Ye,M),M},argPackAdvance:8,readValueFromPointer:n,rb(l){Ye(l)}})},A:function(e,r,a){if(e>>>=0,r>>>=0,a>>>=0,a=Me(a),r===2)var l=p,h=v,b=A,C=()=>w(),M=1;else r===4&&(l=D,h=P,b=L,C=()=>y(),M=2);de(e,{name:a,fromWireType:$=>{for(var H=y()[$>>>2>>>0],ae=C(),Pe,Ge=$+4,O=0;O<=H;++O){var q=$+4+O*r;(O==H||ae[q>>>M]==0)&&(Ge=l(Ge,q-Ge),Pe===void 0?Pe=Ge:(Pe+=String.fromCharCode(0),Pe+=Ge),Ge=q+r)}return Ye($),Pe},toWireType:($,H)=>{if(typeof H!="string")throw new R(`Cannot pass non-string to C++ string type ${a}`);var ae=b(H),Pe=gt(4+ae+r);return y()[Pe>>>2]=ae>>M,h(H,Pe+4,ae+r),$!==null&&$.push(Ye,Pe),Pe},argPackAdvance:8,readValueFromPointer:Jr,rb($){Ye($)}})},ra:function(e,r){e>>>=0,r=Me(r>>>0),de(e,{Jb:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>me()):U?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=B.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,a,l){r>>>=0,a/=2,G.length=a,l=l>>>0>>>3;for(var h=0;h<a;h++)G[h]=Te[l+2*h]?Te[l+2*h+1]:T()[l+2*h+1>>>0];return e=lo[e],B.Hb=r,r=e.apply(null,G),B.Hb=0,r},da:te,ma:function(e){W&&B.jb[e>>>0].ref()},r:function(e,r,a){r>>>=0,a>>>=0,e=be(e>>>0),r=ee(r,"emval::as");var l=[],h=ye(l);return y()[a>>>2>>>0]=h,r.toWireType(l,e)},i:function(e,r,a,l,h){a>>>=0,l>>>=0,h>>>=0,e=pt[e>>>0],r=be(r>>>0),a=lr(a);var b=[];return y()[l>>>2>>>0]=ye(b),e(r,a,b,h)},s:function(e,r,a,l){a>>>=0,l>>>=0,e=pt[e>>>0],r=be(r>>>0),a=lr(a),e(r,a,null,l)},c:Fr,B:function(e,r){return r>>>=0,e=be(e>>>0),r=be(r),e==r},o:function(e){return e>>>=0,e===0?ye(dn()):(e=lr(e),ye(dn()[e]))},g:function(e,r){var a=no(e,r>>>0),l=a[0];r=l.name+"_$"+a.slice(1).map(function(ae){return ae.name}).join("_")+"$";var h=mn[r];if(h!==void 0)return h;h=["retType"];for(var b=[l],C="",M=0;M<e-1;++M)C+=(M!==0?", ":"")+"arg"+M,h.push("argType"+M),b.push(a[1+M]);var $="return function "+pn("methodCaller_"+r)+`(handle, name, destructors, args) {
`,H=0;for(M=0;M<e-1;++M)$+="    var arg"+M+" = argType"+M+".readValueFromPointer(args"+(H?"+"+H:"")+`);
`,H+=a[M+1].argPackAdvance;for($+="    var rv = handle[name]("+C+`);
`,M=0;M<e-1;++M)a[M+1].deleteObject&&($+="    argType"+M+".deleteObject(arg"+M+`);
`);return l.Jb||($+=`    return retType.toWireType(destructors, rv);
`),h.push($+`};
`),e=oo(h).apply(null,b),h=to(e),mn[r]=h},q:function(e,r){return r>>>=0,e=be(e>>>0),r=be(r),ye(e[r])},d:function(e){e>>>=0,4<e&&(Ae.get(e).Bb+=1)},x:function(e,r,a,l){a>>>=0,l>>>=0,e=be(e>>>0);var h=hn[r];return h||(h=io(r),hn[r]=h),h(e,a,l)},v:function(){return ye([])},l:function(e){e=be(e>>>0);for(var r=Array(e.length),a=0;a<e.length;a++)r[a]=e[a];return ye(r)},e:function(e){return ye(lr(e>>>0))},k:function(){return ye({})},f:function(e){e>>>=0;for(var r=be(e);r.length;){var a=r.pop();r.pop()(a)}Fr(e)},j:function(e,r,a){r>>>=0,a>>>=0,e=be(e>>>0),r=be(r),a=be(a),e[r]=a},h:function(e,r){return r>>>=0,e=ee(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),ye(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getUTCSeconds(),d()[r+4>>>2>>>0]=e.getUTCMinutes(),d()[r+8>>>2>>>0]=e.getUTCHours(),d()[r+12>>>2>>>0]=e.getUTCDate(),d()[r+16>>>2>>>0]=e.getUTCMonth(),d()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getSeconds(),d()[r+4>>>2>>>0]=e.getMinutes(),d()[r+8>>>2>>>0]=e.getHours(),d()[r+12>>>2>>>0]=e.getDate(),d()[r+16>>>2>>>0]=e.getMonth(),d()[r+20>>>2>>>0]=e.getFullYear()-1900,d()[r+24>>>2>>>0]=e.getDay();var a=(Ur(e.getFullYear())?gn:yn)[e.getMonth()]+e.getDate()-1|0;d()[r+28>>>2>>>0]=a,d()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=l&&e.getTimezoneOffset()==Math.min(l,a))|0,d()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),a=d()[e+32>>>2>>>0],l=r.getTimezoneOffset(),h=new Date(r.getFullYear(),6,1).getTimezoneOffset(),b=new Date(r.getFullYear(),0,1).getTimezoneOffset(),C=Math.min(b,h);return 0>a?d()[e+32>>>2>>>0]=+(h!=b&&C==l):0<a!=(C==l)&&(h=Math.max(b,h),r.setTime(r.getTime()+6e4*((0<a?C:h)-l))),d()[e+24>>>2>>>0]=r.getDay(),a=(Ur(r.getFullYear())?gn:yn)[r.getMonth()]+r.getDate()-1|0,d()[e+28>>>2>>>0]=a,d()[e>>>2>>>0]=r.getSeconds(),d()[e+4>>>2>>>0]=r.getMinutes(),d()[e+8>>>2>>>0]=r.getHours(),d()[e+12>>>2>>>0]=r.getDate(),d()[e+16>>>2>>>0]=r.getMonth(),d()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:vn,Z:bn,N:function(e,r,a){function l(H){return(H=H.toTimeString().match(/\(([A-Za-z ]+)\)$/))?H[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var h=new Date().getFullYear(),b=new Date(h,0,1),C=new Date(h,6,1);h=b.getTimezoneOffset();var M=C.getTimezoneOffset(),$=Math.max(h,M);y()[e>>>2>>>0]=60*$,d()[r>>>2>>>0]=+(h!=M),e=l(b),r=l(C),e=wn(e),r=wn(r),M<h?(y()[a>>>2>>>0]=e,y()[a+4>>>2>>>0]=r):(y()[a>>>2>>>0]=r,y()[a+4>>>2>>>0]=e)},n:()=>{Le("")},F:()=>{},H:()=>Date.now(),la:()=>{throw nr+=1,"unwind"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>W?(va(),Dr(ya)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=m().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var l=r*(1+.2/a);l=Math.min(l,e+100663296);var h=Math;l=Math.max(e,l);e:{h=(h.min.call(h,4294901760,l+(65536-l%65536)%65536)-K.buffer.byteLength+65535)/65536;try{K.grow(h),re();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},fa:Tn,ga:_n,V:Wr,z:An,D:En,ca:Sn,C:Cn,a:K||f.wasmMemory,oa:Fn,p:function(e,r,a,l){return Fn(e>>>0,r>>>0,a>>>0,l>>>0)}},x=function(){var e={a:co};return Be++,tt(e,function(r){var a=r.module;x=r.instance.exports,x=po(),B.Fb.push(x.Xa),sr=x._a,Ne.unshift(x.sa),$e=a,Ce()}).catch(S),{}}();f._OrtInit=(e,r)=>(f._OrtInit=x.ta)(e,r),f._OrtGetLastError=(e,r)=>(f._OrtGetLastError=x.ua)(e,r),f._OrtCreateSessionOptions=(e,r,a,l,h,b,C,M,$,H)=>(f._OrtCreateSessionOptions=x.va)(e,r,a,l,h,b,C,M,$,H),f._OrtAppendExecutionProvider=(e,r)=>(f._OrtAppendExecutionProvider=x.wa)(e,r),f._OrtAddFreeDimensionOverride=(e,r,a)=>(f._OrtAddFreeDimensionOverride=x.xa)(e,r,a),f._OrtAddSessionConfigEntry=(e,r,a)=>(f._OrtAddSessionConfigEntry=x.ya)(e,r,a),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=x.za)(e),f._OrtCreateSession=(e,r,a)=>(f._OrtCreateSession=x.Aa)(e,r,a),f._OrtReleaseSession=e=>(f._OrtReleaseSession=x.Ba)(e),f._OrtGetInputOutputCount=(e,r,a)=>(f._OrtGetInputOutputCount=x.Ca)(e,r,a),f._OrtGetInputName=(e,r)=>(f._OrtGetInputName=x.Da)(e,r),f._OrtGetOutputName=(e,r)=>(f._OrtGetOutputName=x.Ea)(e,r),f._OrtFree=e=>(f._OrtFree=x.Fa)(e),f._OrtCreateTensor=(e,r,a,l,h,b)=>(f._OrtCreateTensor=x.Ga)(e,r,a,l,h,b),f._OrtGetTensorData=(e,r,a,l,h)=>(f._OrtGetTensorData=x.Ha)(e,r,a,l,h),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=x.Ia)(e),f._OrtCreateRunOptions=(e,r,a,l)=>(f._OrtCreateRunOptions=x.Ja)(e,r,a,l),f._OrtAddRunConfigEntry=(e,r,a)=>(f._OrtAddRunConfigEntry=x.Ka)(e,r,a),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=x.La)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=x.Ma)(e),f._OrtBindInput=(e,r,a)=>(f._OrtBindInput=x.Na)(e,r,a),f._OrtBindOutput=(e,r,a,l)=>(f._OrtBindOutput=x.Oa)(e,r,a,l),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=x.Pa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=x.Qa)(e),f._OrtRunWithBinding=(e,r,a,l,h)=>(f._OrtRunWithBinding=x.Ra)(e,r,a,l,h),f._OrtRun=(e,r,a,l,h,b,C,M)=>(f._OrtRun=x.Sa)(e,r,a,l,h,b,C,M),f._OrtEndProfiling=e=>(f._OrtEndProfiling=x.Ta)(e);var ht=f._pthread_self=()=>(ht=f._pthread_self=x.Ua)(),gt=f._malloc=e=>(gt=f._malloc=x.Va)(e),Ye=f._free=e=>(Ye=f._free=x.Wa)(e);f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=x.Xa)();var In=e=>(In=x.Ya)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=x.Za)();var Dn=f.__emscripten_thread_init=(e,r,a,l,h,b)=>(Dn=f.__emscripten_thread_init=x.$a)(e,r,a,l,h,b);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=x.ab)();var xn=(e,r,a,l)=>(xn=x.bb)(e,r,a,l),Nt=e=>(Nt=x.cb)(e),Ht=f.__emscripten_thread_exit=e=>(Ht=f.__emscripten_thread_exit=x.db)(e),Bn=f.__emscripten_check_mailbox=()=>(Bn=f.__emscripten_check_mailbox=x.eb)(),Rn=(e,r)=>(Rn=x.fb)(e,r),jt=()=>(jt=x.gb)(),yt=e=>(yt=x.hb)(e),zt=e=>(zt=x.ib)(e);function po(){var e=x;e=Object.assign({},e);var r=l=>()=>l()>>>0,a=l=>h=>l(h)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=a(e.Va),e.Ya=a(e.Ya),e.gb=r(e.gb),e.ib=a(e.ib),e}f.keepRuntimeAlive=He,f.wasmMemory=K,f.stackAlloc=zt,f.stackSave=jt,f.stackRestore=yt,f.UTF8ToString=ir,f.stringToUTF8=$r,f.lengthBytesUTF8=fr,f.ExitStatus=or,f.PThread=B;var vt;Xe=function e(){vt||Wn(),vt||(Xe=e)};function Wn(){0<Be||(U?(_(f),U||_r(Ne),startWorker(f)):(_r(qe),0<Be||vt||(vt=!0,f.calledRun=!0,Oe||(U||_r(Ne),_(f),U||_r(br)))))}return Wn(),i.ready}})();typeof wa=="object"&&typeof rn=="object"?rn.exports=ba:typeof define=="function"&&define.amd&&define([],()=>ba)});var Ta=Ir((ki,Ao)=>{Ao.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Aa,Eo,tn,nn,Ct,_a,So,Co,Mo,Ea,ue,xr=X(()=>{"use strict";Aa=ma();Eo=Oa(),nn=!1,Ct=!1,_a=!1,So=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Co=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Mo=(o,i)=>o?i?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":i?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ea=async o=>{if(nn)return Promise.resolve();if(Ct)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(_a)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ct=!0;let i=o.initTimeout,s=o.numThreads,m=o.simd,c=s>1&&So(),w=m&&Co(),d=o.wasmPaths,y=typeof d=="string"?d:void 0,T=Mo(w,c),f=typeof d=="object"?d[T]:void 0,_=!1,S=[];if(i>0&&S.push(new Promise(E=>{setTimeout(()=>{_=!0,E()},i)})),S.push(new Promise((E,F)=>{let N=c?Eo:Aa,k={locateFile:(z,W)=>c&&z.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Ta()],{type:"text/javascript"})):z.endsWith(".wasm")?f||(y??W)+T:W+z};if(c)if(k.numThreads=s,typeof Blob>"u")k.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let z=`var ortWasmThreaded=${N.toString()};`;k.mainScriptUrlOrBlob=new Blob([z],{type:"text/javascript"})}N(k).then(z=>{Ct=!1,nn=!0,tn=z,E()},z=>{Ct=!1,_a=!0,F(z)})})),await Promise.race(S),_)throw new Error(`WebAssembly backend initializing failed due to timeout: ${i}ms`)},ue=()=>{if(nn&&tn)return tn;throw new Error("WebAssembly is not initialized yet.")}});var fe,Qr,ie,Mt=X(()=>{"use strict";xr();fe=(o,i)=>{let s=ue(),m=s.lengthBytesUTF8(o)+1,c=s._malloc(m);return s.stringToUTF8(o,c,m),i.push(c),c},Qr=(o,i,s,m)=>{if(typeof o=="object"&&o!==null){if(s.has(o))throw new Error("Circular reference in options");s.add(o)}Object.entries(o).forEach(([c,w])=>{let d=i?i+c:c;if(typeof w=="object")Qr(w,d+".",s,m);else if(typeof w=="string"||typeof w=="number")m(d,w.toString());else if(typeof w=="boolean")m(d,w?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof w}`)})},ie=o=>{let i=ue(),s=i.stackSave();try{let m=i.stackAlloc(8);i._OrtGetLastError(m,m+4);let c=i.HEAP32[m/4],w=i.HEAPU32[m/4+1],d=w?i.UTF8ToString(w):"";throw new Error(`${o} ERROR_CODE: ${c}, ERROR_MESSAGE: ${d}`)}finally{i.stackRestore(s)}}});var Sa,Ca=X(()=>{"use strict";xr();Mt();Sa=o=>{let i=ue(),s=0,m=[],c=o||{};try{if(o?.logSeverityLevel===void 0)c.logSeverityLevel=2;else if(typeof o.logSeverityLevel!="number"||!Number.isInteger(o.logSeverityLevel)||o.logSeverityLevel<0||o.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${o.logSeverityLevel}`);if(o?.logVerbosityLevel===void 0)c.logVerbosityLevel=0;else if(typeof o.logVerbosityLevel!="number"||!Number.isInteger(o.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${o.logVerbosityLevel}`);o?.terminate===void 0&&(c.terminate=!1);let w=0;return o?.tag!==void 0&&(w=fe(o.tag,m)),s=i._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,w),s===0&&ie("Can't create run options."),o?.extra!==void 0&&Qr(o.extra,"",new WeakSet,(d,y)=>{let T=fe(d,m),f=fe(y,m);i._OrtAddRunConfigEntry(s,T,f)!==0&&ie(`Can't set a run config entry: ${d} - ${y}.`)}),[s,m]}catch(w){throw s!==0&&i._OrtReleaseRunOptions(s),m.forEach(d=>i._free(d)),w}}});var Po,Fo,Uo,Io,Ma,Pa=X(()=>{"use strict";xr();Mt();Po=o=>{switch(o){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${o}`)}},Fo=o=>{switch(o){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${o}`)}},Uo=o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});let i=o.extra.session;i.use_ort_model_bytes_directly||(i.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(o.enableMemPattern=!1)},Io=(o,i,s)=>{for(let m of i){let c=typeof m=="string"?m:m.name;switch(c){case"xnnpack":c="XNNPACK";break;case"webnn":if(c="WEBNN",typeof m!="string"){let d=m;if(d?.deviceType){let y=fe("deviceType",s),T=fe(d.deviceType,s);ue()._OrtAddSessionConfigEntry(o,y,T)!==0&&ie(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let y=d.numThreads;(typeof y!="number"||!Number.isInteger(y)||y<0)&&(y=0);let T=fe("numThreads",s),f=fe(y.toString(),s);ue()._OrtAddSessionConfigEntry(o,T,f)!==0&&ie(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let y=fe("powerPreference",s),T=fe(d.powerPreference,s);ue()._OrtAddSessionConfigEntry(o,y,T)!==0&&ie(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(c="JS",typeof m!="string"){let d=m;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let y=fe("preferredLayout",s),T=fe(d.preferredLayout,s);ue()._OrtAddSessionConfigEntry(o,y,T)!==0&&ie(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${c}`)}let w=fe(c,s);ue()._OrtAppendExecutionProvider(o,w)!==0&&ie(`Can't append execution provider: ${c}.`)}},Ma=o=>{let i=ue(),s=0,m=[],c=o||{};Uo(c);try{let w=Po(c.graphOptimizationLevel??"all"),d=Fo(c.executionMode??"sequential"),y=typeof c.logId=="string"?fe(c.logId,m):0,T=c.logSeverityLevel??2;if(!Number.isInteger(T)||T<0||T>4)throw new Error(`log serverity level is not valid: ${T}`);let f=c.logVerbosityLevel??0;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log verbosity level is not valid: ${f}`);let _=typeof c.optimizedModelFilePath=="string"?fe(c.optimizedModelFilePath,m):0;if(s=i._OrtCreateSessionOptions(w,!!c.enableCpuMemArena,!!c.enableMemPattern,d,!!c.enableProfiling,0,y,T,f,_),s===0&&ie("Can't create session options."),c.executionProviders&&Io(s,c.executionProviders,m),c.freeDimensionOverrides)for(let[S,E]of Object.entries(c.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let F=fe(S,m);i._OrtAddFreeDimensionOverride(s,F,E)!==0&&ie(`Can't set a free dimension override: ${S} - ${E}.`)}return c.extra!==void 0&&Qr(c.extra,"",new WeakSet,(S,E)=>{let F=fe(S,m),N=fe(E,m);i._OrtAddSessionConfigEntry(s,F,N)!==0&&ie(`Can't set a session config entry: ${S} - ${E}.`)}),[s,m]}catch(w){throw s!==0&&i._OrtReleaseSessionOptions(s),m.forEach(d=>i._free(d)),w}}});var an,Fa,on,Ua,Ia,Pt,Da,sn=X(()=>{"use strict";an=o=>{switch(o){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${o}`)}},Fa=o=>{switch(o){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${o}`)}},on=o=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][o],Ua=o=>{switch(o){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${o}`)}},Ia=o=>{switch(o){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${o}`)}},Pt=o=>o==="float32"||o==="int32"||o==="int64"||o==="bool"||o==="float16"||o==="uint32",Da=o=>{switch(o){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${o}`)}}});var Do,Ba,Ra,et,xo,un,Wa,ka,xa,La,$a,Na,Ha=X(()=>{"use strict";Ca();Pa();sn();xr();Mt();Do=(o,i)=>{ue()._OrtInit(o,i)!==0&&ie("Can't initialize onnxruntime.")},Ba=async o=>{Do(o.wasm.numThreads,Ia(o.logLevel))},Ra=async(o,i)=>{},et=new Map,xo=o=>{let i=ue(),s=i.stackSave();try{let m=i.stackAlloc(8);return i._OrtGetInputOutputCount(o,m,m+4)!==0&&ie("Can't get session input/output count."),[i.HEAP32[m/4],i.HEAP32[m/4+1]]}finally{i.stackRestore(s)}},un=o=>{let i=ue(),s=i._malloc(o.byteLength);if(s===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${o.byteLength}.`);return i.HEAPU8.set(o,s),[s,o.byteLength]},Wa=(o,i)=>{let s,m,c=ue();Array.isArray(o)?[s,m]=o:o.buffer===c.HEAPU8.buffer?[s,m]=[o.byteOffset,o.byteLength]:[s,m]=un(o);let w=0,d=0,y=0,T=[],f=[],_=[];try{[d,T]=Ma(i),w=c._OrtCreateSession(s,m,d),w===0&&ie("Can't create a session.");let[S,E]=xo(w),F=[],N=[],k=[];for(let W=0;W<S;W++){let U=c._OrtGetInputName(w,W);U===0&&ie("Can't get an input name."),f.push(U),F.push(c.UTF8ToString(U))}for(let W=0;W<E;W++){let U=c._OrtGetOutputName(w,W);U===0&&ie("Can't get an output name."),_.push(U);let J=c.UTF8ToString(U);N.push(J)}let z=null;return et.set(w,[w,f,_,z]),[w,F,N]}catch(S){throw f.forEach(E=>c._OrtFree(E)),_.forEach(E=>c._OrtFree(E)),y!==0&&c._OrtReleaseBinding(y),w!==0&&c._OrtReleaseSession(w),S}finally{c._free(s),d!==0&&c._OrtReleaseSessionOptions(d),T.forEach(S=>c._free(S))}},ka=o=>{let i=ue(),s=et.get(o);if(!s)throw new Error(`cannot release session. invalid session id: ${o}`);let[m,c,w,d]=s;d&&i._OrtReleaseBinding(d.handle),i.jsepUnregisterBuffers?.(o),c.forEach(y=>i._OrtFree(y)),w.forEach(y=>i._OrtFree(y)),i._OrtReleaseSession(m),et.delete(o)},xa=(o,i,s,m,c)=>{if(!o){i.push(0);return}let w=ue(),d=o[0],y=o[1],T=o[3],f,_;if(d==="string"&&T==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(T==="gpu-buffer"){let F=o[2].gpuBuffer,N=on(an(d));_=y.reduce((k,z)=>k*z,1)*N,f=w.jsepRegisterBuffer(m,c,F,_)}else{let F=o[2];if(Array.isArray(F)){_=4*F.length,f=w._malloc(_),s.push(f);let N=f/4;for(let k=0;k<F.length;k++){if(typeof F[k]!="string")throw new TypeError(`tensor data at index ${k} is not a string`);w.HEAPU32[N++]=fe(F[k],s)}}else _=F.byteLength,f=w._malloc(_),s.push(f),w.HEAPU8.set(new Uint8Array(F.buffer,F.byteOffset,_),f)}let S=w.stackSave(),E=w.stackAlloc(4*y.length);try{let F=E/4;y.forEach(k=>w.HEAP32[F++]=k);let N=w._OrtCreateTensor(an(d),f,_,E,y.length,Da(T));N===0&&ie(`Can't create tensor for input/output. session=${m}, index=${c}.`),i.push(N)}finally{w.stackRestore(S)}},La=async(o,i,s,m,c,w)=>{let d=ue(),y=et.get(o);if(!y)throw new Error(`cannot run inference. invalid session id: ${o}`);let[T,f,_,S]=y,E=i.length,F=m.length,N=0,k=[],z=[],W=[],U=[],J=d.stackSave(),le=d.stackAlloc(E*4),Z=d.stackAlloc(E*4),Se=d.stackAlloc(F*4),Fe=d.stackAlloc(F*4);try{[N,k]=Sa(w);for(let V=0;V<E;V++)xa(s[V],z,U,o,i[V]);for(let V=0;V<F;V++)xa(c[V],W,U,o,E+m[V]);let I=le/4,Y=Z/4,Ze=Se/4,Ke=Fe/4;for(let V=0;V<E;V++)d.HEAPU32[I++]=z[V],d.HEAPU32[Y++]=f[i[V]];for(let V=0;V<F;V++)d.HEAPU32[Ze++]=W[V],d.HEAPU32[Ke++]=_[m[V]];let Qe;Qe=await d._OrtRun(T,Z,le,E,Fe,F,Se,N),Qe!==0&&ie("failed to call OrtRun().");let ce=[];for(let V=0;V<F;V++){let K=d.HEAPU32[Se/4+V];if(K===W[V]){ce.push(c[V]);continue}let $e=d.stackSave(),Oe=d.stackAlloc(4*4),he=!1,Q,pe=0;try{d._OrtGetTensorData(K,Oe,Oe+4,Oe+8,Oe+12)!==0&&ie(`Can't access output tensor data on index ${V}.`);let ke=Oe/4,De=d.HEAPU32[ke++];pe=d.HEAPU32[ke++];let Ve=d.HEAPU32[ke++],rr=d.HEAPU32[ke++],Te=[];for(let re=0;re<rr;re++)Te.push(d.HEAPU32[Ve/4+re]);d._OrtFree(Ve);let xe=Te.reduce((re,se)=>re*se,1);Q=Fa(De);let tr=S?.outputPreferredLocations[m[V]];if(Q==="string"){if(tr==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],se=pe/4;for(let qe=0;qe<xe;qe++){let Ne=d.HEAPU32[se++],br=qe===xe-1?void 0:d.HEAPU32[se]-Ne;re.push(d.UTF8ToString(Ne,br))}ce.push([Q,Te,re,"cpu"])}else if(tr==="gpu-buffer"&&xe>0){let re=d.jsepGetBuffer(pe),se=on(De);if(se===void 0||!Pt(Q))throw new Error(`Unsupported data type: ${Q}`);he=!0,ce.push([Q,Te,{gpuBuffer:re,download:d.jsepCreateDownloader(re,xe*se,Q),dispose:()=>{d._OrtReleaseTensor(K)}},"gpu-buffer"])}else{let re=Ua(Q),se=new re(xe);new Uint8Array(se.buffer,se.byteOffset,se.byteLength).set(d.HEAPU8.subarray(pe,pe+se.byteLength)),ce.push([Q,Te,se,"cpu"])}}finally{d.stackRestore($e),Q==="string"&&pe&&d._free(pe),he||d._OrtReleaseTensor(K)}}return S&&d._OrtClearBoundOutputs(S.handle),ce}finally{d.stackRestore(J),z.forEach(I=>d._OrtReleaseTensor(I)),W.forEach(I=>d._OrtReleaseTensor(I)),U.forEach(I=>d._free(I)),N!==0&&d._OrtReleaseRunOptions(N),k.forEach(I=>d._free(I))}},$a=o=>{let i=ue(),s=et.get(o);if(!s)throw new Error("invalid session id");let m=s[0],c=i._OrtEndProfiling(m);c===0&&ie("Can't get an profile file name."),i._OrtFree(c)},Na=o=>{let i=[];for(let s of o){let m=s[2];!Array.isArray(m)&&"buffer"in m&&i.push(m.buffer)}return i}});var ja=Ir((rs,Ro)=>{Ro.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var dt=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var $n=Object.getOwnPropertyNames;var Nn=Object.prototype.hasOwnProperty;var pt=(c,v)=>()=>(c&&(v=c(c=0)),v);var Wr=(c,v)=>()=>(v||c((v={exports:{}}).exports,v),v.exports),mt=(c,v)=>{for(var u in v)dt(c,u,{get:v[u],enumerable:!0})},jn=(c,v,u,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let b of $n(v))!Nn.call(c,b)&&b!==u&&dt(c,b,{get:()=>v[b],enumerable:!(y=Hn(v,b))||y.enumerable});return c};var xr=c=>jn(dt({},"__esModule",{value:!0}),c);var gt={};mt(gt,{readFile:()=>Yn});var Yn,ht=pt(()=>{Yn=void 0});var vt={};mt(vt,{join:()=>zn});var zn,yt=pt(()=>{zn=void 0});var rn=Wr((en,bt)=>{"use strict";var Qt=(()=>{var c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(c=c||__filename),function(v={}){var u=v,y,b;u.ready=new Promise((t,n)=>{y=t,b=n});var S=Object.assign({},u),p="./this.program",T=typeof window=="object",D=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",L="",Y,R,k;if(l){var G=(ht(),xr(gt)),X=(yt(),xr(vt));L=D?X.dirname(L)+"/":__dirname+"/",Y=(t,n)=>(t=t.startsWith("file://")?new URL(t):X.normalize(t),G.readFileSync(t,n?void 0:"utf8")),k=t=>(t=Y(t,!0),t.buffer||(t=new Uint8Array(t)),t),R=(t,n,a,s=!0)=>{t=t.startsWith("file://")?new URL(t):X.normalize(t),G.readFile(t,s?void 0:"utf8",(m,w)=>{m?a(m):n(s?w.buffer:w)})},!u.thisProgram&&1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),u.inspect=()=>"[Emscripten Module object]"}else(T||D)&&(D?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),c&&(L=c),L.indexOf("blob:")!==0?L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):L="",Y=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},D&&(k=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),R=(t,n,a)=>{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=()=>{s.status==200||s.status==0&&s.response?n(s.response):a()},s.onerror=a,s.send(null)});var Z=console.log.bind(console),H=console.error.bind(console);Object.assign(u,S),S=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var M,ue=!1,Ae,ee,Oe,Se,E,$,Ge,Ve,qe,se;function j(){var t=M.buffer;u.HEAP8=Ae=new Int8Array(t),u.HEAP16=Oe=new Int16Array(t),u.HEAPU8=ee=new Uint8Array(t),u.HEAPU16=Se=new Uint16Array(t),u.HEAP32=E=new Int32Array(t),u.HEAPU32=$=new Uint32Array(t),u.HEAPF32=Ge=new Float32Array(t),u.HEAPF64=se=new Float64Array(t),u.HEAP64=Ve=new BigInt64Array(t),u.HEAPU64=qe=new BigUint64Array(t)}var V=[],xe=[],ve=[],de=0,q=null,le=null;function Je(t){throw t="Aborted("+t+")",H(t),ue=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),b(t),t}function Ie(t){return t.startsWith("data:application/octet-stream;base64,")}var Me;if(Me="ort-wasm.wasm",!Ie(Me)){var Ne=Me;Me=u.locateFile?u.locateFile(Ne,L):L+Ne}function Xe(t){if(k)return k(t);throw"both async and sync fetching of the wasm failed"}function ye(t){if(T||D){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+t+"\'";return n.arrayBuffer()}).catch(()=>Xe(t));if(R)return new Promise((n,a)=>{R(t,s=>n(new Uint8Array(s)),a)})}return Promise.resolve().then(()=>Xe(t))}function Pe(t,n,a){return ye(t).then(s=>WebAssembly.instantiate(s,n)).then(s=>s).then(a,s=>{H(`failed to asynchronously prepare wasm: ${s}`),Je(s)})}function Ze(t,n){var a=Me;return typeof WebAssembly.instantiateStreaming!="function"||Ie(a)||a.startsWith("file://")||l||typeof fetch!="function"?Pe(a,t,n):fetch(a,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,t).then(n,function(m){return H(`wasm streaming compile failed: ${m}`),H("falling back to ArrayBuffer instantiation"),Pe(a,t,n)}))}function K(t){this.Va=t-24,this.fb=function(n){$[this.Va+4>>>2>>>0]=n},this.eb=function(n){$[this.Va+8>>>2>>>0]=n},this.Za=function(n,a){this.$a(),this.fb(n),this.eb(a)},this.$a=function(){$[this.Va+16>>>2>>>0]=0}}var oe=0,je=0,Be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sr=(t,n,a)=>{n>>>=0;var s=n+a;for(a=n;t[a]&&!(a>=s);)++a;if(16<a-n&&t.buffer&&Be)return Be.decode(t.subarray(n,a));for(s="";n<a;){var m=t[n++];if(m&128){var w=t[n++]&63;if((m&224)==192)s+=String.fromCharCode((m&31)<<6|w);else{var C=t[n++]&63;m=(m&240)==224?(m&15)<<12|w<<6|C:(m&7)<<18|w<<12|C<<6|t[n++]&63,65536>m?s+=String.fromCharCode(m):(m-=65536,s+=String.fromCharCode(55296|m>>10,56320|m&1023))}}else s+=String.fromCharCode(m)}return s},Ke=(t,n)=>(t>>>=0)?sr(ee,t,n):"",Re=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);127>=s?n++:2047>=s?n+=2:55296<=s&&57343>=s?(n+=4,++a):n+=3}return n},Fe=(t,n,a,s)=>{if(a>>>=0,!(0<s))return 0;var m=a;s=a+s-1;for(var w=0;w<t.length;++w){var C=t.charCodeAt(w);if(55296<=C&&57343>=C){var A=t.charCodeAt(++w);C=65536+((C&1023)<<10)|A&1023}if(127>=C){if(a>=s)break;n[a++>>>0]=C}else{if(2047>=C){if(a+1>=s)break;n[a++>>>0]=192|C>>6}else{if(65535>=C){if(a+2>=s)break;n[a++>>>0]=224|C>>12}else{if(a+3>=s)break;n[a++>>>0]=240|C>>18,n[a++>>>0]=128|C>>12&63}n[a++>>>0]=128|C>>6&63}n[a++>>>0]=128|C&63}}return n[a>>>0]=0,a-m},ur=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Ye,_e=t=>{for(var n="";ee[t>>>0];)n+=Ye[ee[t++>>>0]];return n},We={},fr={},Qe={},Ue;function tt(t,n,a={}){var s=n.name;if(!t)throw new Ue(`type "${s}" must have a positive integer typeid pointer`);if(fr.hasOwnProperty(t)){if(a.gb)return;throw new Ue(`Cannot register type \'${s}\' twice`)}fr[t]=n,delete Qe[t],We.hasOwnProperty(t)&&(n=We[t],delete We[t],n.forEach(m=>m()))}function Ce(t,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");tt(t,n,a)}var Lr=(t,n,a)=>{switch(n){case 1:return a?s=>Ae[s>>>0>>>0]:s=>ee[s>>>0>>>0];case 2:return a?s=>Oe[s>>>1>>>0]:s=>Se[s>>>1>>>0];case 4:return a?s=>E[s>>>2>>>0]:s=>$[s>>>2>>>0];case 8:return a?s=>Ve[s>>>3]:s=>qe[s>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function er(){this.Sa=[void 0],this.bb=[]}var ge=new er;function lr(t){t>>>=0,t>=ge.Va&&--ge.get(t).cb===0&&ge.$a(t)}var pe=t=>{if(!t)throw new Ue("Cannot use deleted val. handle = "+t);return ge.get(t).value},be=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ge.Za({cb:1,value:t})}};function rr(t){return this.fromWireType(E[t>>>2>>>0])}var kr=(t,n)=>{switch(n){case 4:return function(a){return this.fromWireType(Ge[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(se[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function wr(t){return this.fromWireType($[t>>>2>>>0])}var Hr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,$r=(t,n)=>{for(var a=t>>1,s=a+n/2;!(a>=s)&&Se[a>>>0];)++a;if(a<<=1,32<a-t&&Hr)return Hr.decode(ee.subarray(t>>>0,a>>>0));for(a="",s=0;!(s>=n/2);++s){var m=Oe[t+2*s>>>1>>>0];if(m==0)break;a+=String.fromCharCode(m)}return a},nt=(t,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var s=n;a=a<2*t.length?a/2:t.length;for(var m=0;m<a;++m)Oe[n>>>1>>>0]=t.charCodeAt(m),n+=2;return Oe[n>>>1>>>0]=0,n-s},F=t=>2*t.length,cr=(t,n)=>{for(var a=0,s="";!(a>=n/4);){var m=E[t+4*a>>>2>>>0];if(m==0)break;++a,65536<=m?(m-=65536,s+=String.fromCharCode(55296|m>>10,56320|m&1023)):s+=String.fromCharCode(m)}return s},Nr=(t,n,a)=>{if(n>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var s=n;a=s+a-4;for(var m=0;m<t.length;++m){var w=t.charCodeAt(m);if(55296<=w&&57343>=w){var C=t.charCodeAt(++m);w=65536+((w&1023)<<10)|C&1023}if(E[n>>>2>>>0]=w,n+=4,n+4>a)break}return E[n>>>2>>>0]=0,n-s},dr=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);55296<=s&&57343>=s&&++a,n+=4}return n},tr=(t,n)=>{var a=fr[t];if(a===void 0)throw t=Ur(t),a=_e(t),fe(t),new Ue(n+" has unknown type "+a);return a},ot={},nr=t=>{var n=ot[t];return n===void 0?_e(t):n},pr=[],Or=()=>typeof globalThis=="object"?globalThis:Function("return this")(),jr=t=>{var n=pr.length;return pr.push(t),n},Yr=(t,n)=>{for(var a=Array(t),s=0;s<t;++s)a[s]=tr($[n+4*s>>>2>>>0],"parameter "+s);return a},_r=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},or={};function zr(t,n){return t=_r(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function Tr(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=zr(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,t=n.apply(a,t),t instanceof Object?t:a}var Gr=t=>{for(var n="",a=0;a<t;++a)n+=(a!==0?", ":"")+"arg"+a;var s="return function emval_allocator_"+t+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<t;++a)s+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",s+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(tr,u,be,()=>$)},Ar={},Le=t=>t%4===0&&(t%100!==0||t%400===0),Er=[0,31,60,91,121,152,182,213,244,274,305,335],Sr=[0,31,59,90,120,151,181,212,243,273,304,334],Cr=t=>{var n=Re(t)+1,a=vr(n);return a&&Fe(t,ee,a,n),a},mr={},Mr=()=>{if(!gr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"},n;for(n in mr)mr[n]===void 0?delete t[n]:t[n]=mr[n];var a=[];for(n in t)a.push(`${n}=${t[n]}`);gr=a}return gr},gr,Vr=[null,[],[]],Pr=[31,29,31,30,31,30,31,31,30,31,30,31],Fr=[31,28,31,30,31,30,31,31,30,31,30,31];function qr(t){var n=Array(Re(t)+1);return Fe(t,n,0,n.length),n}function Te(t,n,a,s){function m(d,N,J){for(d=typeof d=="number"?d.toString():d||"";d.length<N;)d=J[0]+d;return d}function w(d,N){return m(d,N,"0")}function C(d,N){function J(ar){return 0>ar?-1:0<ar?1:0}var ke;return(ke=J(d.getFullYear()-N.getFullYear()))===0&&(ke=J(d.getMonth()-N.getMonth()))===0&&(ke=J(d.getDate()-N.getDate())),ke}function A(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function I(d){var N=d.Ta;for(d=new Date(new Date(d.Ua+1900,0,1).getTime());0<N;){var J=d.getMonth(),ke=(Le(d.getFullYear())?Pr:Fr)[J];if(N>ke-d.getDate())N-=ke-d.getDate()+1,d.setDate(1),11>J?d.setMonth(J+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+N);break}}return J=new Date(d.getFullYear()+1,0,4),N=A(new Date(d.getFullYear(),0,4)),J=A(J),0>=C(N,d)?0>=C(J,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}t>>>=0,n>>>=0,a>>>=0,s>>>=0;var B=$[s+40>>>2>>>0];s={kb:E[s>>>2>>>0],jb:E[s+4>>>2>>>0],Xa:E[s+8>>>2>>>0],ab:E[s+12>>>2>>>0],Ya:E[s+16>>>2>>>0],Ua:E[s+20>>>2>>>0],Oa:E[s+24>>>2>>>0],Ta:E[s+28>>>2>>>0],mb:E[s+32>>>2>>>0],ib:E[s+36>>>2>>>0],lb:B?Ke(B):""},a=Ke(a),B={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Q in B)a=a.replace(new RegExp(Q,"g"),B[Q]);var ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),De="January February March April May June July August September October November December".split(" ");B={"%a":d=>ce[d.Oa].substring(0,3),"%A":d=>ce[d.Oa],"%b":d=>De[d.Ya].substring(0,3),"%B":d=>De[d.Ya],"%C":d=>w((d.Ua+1900)/100|0,2),"%d":d=>w(d.ab,2),"%e":d=>m(d.ab,2," "),"%g":d=>I(d).toString().substring(2),"%G":d=>I(d),"%H":d=>w(d.Xa,2),"%I":d=>(d=d.Xa,d==0?d=12:12<d&&(d-=12),w(d,2)),"%j":d=>{for(var N=0,J=0;J<=d.Ya-1;N+=(Le(d.Ua+1900)?Pr:Fr)[J++]);return w(d.ab+N,3)},"%m":d=>w(d.Ya+1,2),"%M":d=>w(d.jb,2),"%n":()=>`\n`,"%p":d=>0<=d.Xa&&12>d.Xa?"AM":"PM","%S":d=>w(d.kb,2),"%t":()=>"	","%u":d=>d.Oa||7,"%U":d=>w(Math.floor((d.Ta+7-d.Oa)/7),2),"%V":d=>{var N=Math.floor((d.Ta+7-(d.Oa+6)%7)/7);if(2>=(d.Oa+371-d.Ta-2)%7&&N++,N)N==53&&(J=(d.Oa+371-d.Ta)%7,J==4||J==3&&Le(d.Ua)||(N=1));else{N=52;var J=(d.Oa+7-d.Ta-1)%7;(J==4||J==5&&Le(d.Ua%400-1))&&N++}return w(N,2)},"%w":d=>d.Oa,"%W":d=>w(Math.floor((d.Ta+7-(d.Oa+6)%7)/7),2),"%y":d=>(d.Ua+1900).toString().substring(2),"%Y":d=>d.Ua+1900,"%z":d=>{d=d.ib;var N=0<=d;return d=Math.abs(d)/60,(N?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(Q in B)a.includes(Q)&&(a=a.replace(new RegExp(Q,"g"),B[Q](s)));return a=a.replace(/\\0\\0/g,"%"),Q=qr(a),Q.length>n?0:(Ae.set(Q,t>>>0),Q.length-1)}for(var hr=Array(256),ze=0;256>ze;++ze)hr[ze]=String.fromCharCode(ze);Ye=hr,Ue=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(er.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),ge.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),ge.Va=ge.Sa.length,u.count_emval_handles=()=>{for(var t=0,n=ge.Va;n<ge.Sa.length;++n)ge.Sa[n]!==void 0&&++t;return t};var at={a:function(t,n,a){throw t>>>=0,new K(t).Za(n>>>0,a>>>0),oe=t,je++,oe},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},B:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},E:function(t,n,a,s,m){n>>>=0,n=_e(n);var w=n.indexOf("u")!=-1;w&&(m=(1n<<64n)-1n),Ce(t>>>0,{name:n,fromWireType:C=>C,toWireType:function(C,A){if(typeof A!="bigint"&&typeof A!="number")throw new TypeError(`Cannot convert "${ur(A)}" to ${this.name}`);if(A<s||A>m)throw new TypeError(`Passing a number "${ur(A)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${s}, ${m}]!`);return A},argPackAdvance:8,readValueFromPointer:Lr(n,a>>>0,!w),Wa:null})},ea:function(t,n,a,s){n=_e(n>>>0),Ce(t>>>0,{name:n,fromWireType:function(m){return!!m},toWireType:function(m,w){return w?a:s},argPackAdvance:8,readValueFromPointer:function(m){return this.fromWireType(ee[m>>>0])},Wa:null})},da:function(t,n){n=_e(n>>>0),Ce(t>>>0,{name:n,fromWireType:a=>{var s=pe(a);return lr(a),s},toWireType:(a,s)=>be(s),argPackAdvance:8,readValueFromPointer:rr,Wa:null})},D:function(t,n,a){n=_e(n>>>0),Ce(t>>>0,{name:n,fromWireType:s=>s,toWireType:(s,m)=>m,argPackAdvance:8,readValueFromPointer:kr(n,a>>>0),Wa:null})},p:function(t,n,a,s,m){if(t>>>=0,a>>>=0,n=_e(n>>>0),m===-1&&(m=4294967295),m=A=>A,s===0){var w=32-8*a;m=A=>A<<w>>>w}var C=n.includes("unsigned")?function(A,I){return I>>>0}:function(A,I){return I};Ce(t,{name:n,fromWireType:m,toWireType:C,argPackAdvance:8,readValueFromPointer:Lr(n,a,s!==0),Wa:null})},l:function(t,n,a){function s(w){return new m(Ae.buffer,$[w+4>>>2>>>0],$[w>>>2>>>0])}var m=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=_e(a>>>0),Ce(t>>>0,{name:a,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{gb:!0})},F:function(t,n){n=_e(n>>>0);var a=n==="std::string";Ce(t>>>0,{name:n,fromWireType:function(s){var m=$[s>>>2>>>0],w=s+4;if(a)for(var C=w,A=0;A<=m;++A){var I=w+A;if(A==m||ee[I>>>0]==0){if(C=Ke(C,I-C),B===void 0)var B=C;else B+=String.fromCharCode(0),B+=C;C=I+1}}else{for(B=Array(m),A=0;A<m;++A)B[A]=String.fromCharCode(ee[w+A>>>0]);B=B.join("")}return fe(s),B},toWireType:function(s,m){m instanceof ArrayBuffer&&(m=new Uint8Array(m));var w=typeof m=="string";if(!(w||m instanceof Uint8Array||m instanceof Uint8ClampedArray||m instanceof Int8Array))throw new Ue("Cannot pass non-string to std::string");var C=a&&w?Re(m):m.length,A=vr(4+C+1),I=A+4;if($[A>>>2>>>0]=C,a&&w)Fe(m,ee,I,C+1);else if(w)for(w=0;w<C;++w){var B=m.charCodeAt(w);if(255<B)throw fe(I),new Ue("String has UTF-16 code units that do not fit in 8 bits");ee[I+w>>>0]=B}else for(w=0;w<C;++w)ee[I+w>>>0]=m[w];return s!==null&&s.push(fe,A),A},argPackAdvance:8,readValueFromPointer:wr,Wa(s){fe(s)}})},x:function(t,n,a){if(n>>>=0,a>>>=0,a=_e(a),n===2)var s=$r,m=nt,w=F,C=()=>Se,A=1;else n===4&&(s=cr,m=Nr,w=dr,C=()=>$,A=2);Ce(t>>>0,{name:a,fromWireType:I=>{for(var B=$[I>>>2>>>0],Q=C(),ce,De=I+4,d=0;d<=B;++d){var N=I+4+d*n;(d==B||Q[N>>>A]==0)&&(De=s(De,N-De),ce===void 0?ce=De:(ce+=String.fromCharCode(0),ce+=De),De=N+n)}return fe(I),ce},toWireType:(I,B)=>{if(typeof B!="string")throw new Ue(`Cannot pass non-string to C++ string type ${a}`);var Q=w(B),ce=vr(4+Q+n);return $[ce>>>2]=Q>>A,m(B,ce+4,Q+n),I!==null&&I.push(fe,ce),ce},argPackAdvance:8,readValueFromPointer:rr,Wa(I){fe(I)}})},fa:function(t,n){n=_e(n>>>0),Ce(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,a){n>>>=0,a>>>=0,t=pe(t>>>0),n=tr(n,"emval::as");var s=[],m=be(s);return $[a>>>2>>>0]=m,n.toWireType(s,t)},h:function(t,n,a,s,m){a>>>=0,s>>>=0,m>>>=0,t=pr[t>>>0],n=pe(n>>>0),a=nr(a);var w=[];return $[s>>>2>>>0]=be(w),t(n,a,w,m)},r:function(t,n,a,s){a>>>=0,s>>>=0,t=pr[t>>>0],n=pe(n>>>0),a=nr(a),t(n,a,null,s)},b:lr,y:function(t,n){return n>>>=0,t=pe(t>>>0),n=pe(n),t==n},u:function(t){return t>>>=0,t===0?be(Or()):(t=nr(t),be(Or()[t]))},g:function(t,n){var a=Yr(t,n>>>0),s=a[0];n=s.name+"_$"+a.slice(1).map(function(Q){return Q.name}).join("_")+"$";var m=or[n];if(m!==void 0)return m;m=["retType"];for(var w=[s],C="",A=0;A<t-1;++A)C+=(A!==0?", ":"")+"arg"+A,m.push("argType"+A),w.push(a[1+A]);var I="return function "+_r("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,B=0;for(A=0;A<t-1;++A)I+="    var arg"+A+" = argType"+A+".readValueFromPointer(args"+(B?"+"+B:"")+`);\n`,B+=a[A+1].argPackAdvance;for(I+="    var rv = handle[name]("+C+`);\n`,A=0;A<t-1;++A)a[A+1].deleteObject&&(I+="    argType"+A+".deleteObject(arg"+A+`);\n`);return s.hb||(I+=`    return retType.toWireType(destructors, rv);\n`),m.push(I+`};\n`),t=Tr(m).apply(null,w),m=jr(t),or[n]=m},q:function(t,n){return n>>>=0,t=pe(t>>>0),n=pe(n),be(t[n])},c:function(t){t>>>=0,4<t&&(ge.get(t).cb+=1)},G:function(t,n,a,s){a>>>=0,s>>>=0,t=pe(t>>>0);var m=Ar[n];return m||(m=Gr(n),Ar[n]=m),m(t,a,s)},s:function(){return be([])},k:function(t){t=pe(t>>>0);for(var n=Array(t.length),a=0;a<t.length;a++)n[a]=t[a];return be(n)},d:function(t){return be(nr(t>>>0))},j:function(){return be({})},e:function(t){t>>>=0;for(var n=pe(t);n.length;){var a=n.pop();n.pop()(a)}lr(t)},i:function(t,n,a){n>>>=0,a>>>=0,t=pe(t>>>0),n=pe(n),a=pe(a),t[n]=a},f:function(t,n){return n>>>=0,t=tr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),be(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),E[n>>>2>>>0]=t.getUTCSeconds(),E[n+4>>>2>>>0]=t.getUTCMinutes(),E[n+8>>>2>>>0]=t.getUTCHours(),E[n+12>>>2>>>0]=t.getUTCDate(),E[n+16>>>2>>>0]=t.getUTCMonth(),E[n+20>>>2>>>0]=t.getUTCFullYear()-1900,E[n+24>>>2>>>0]=t.getUTCDay(),E[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),E[n>>>2>>>0]=t.getSeconds(),E[n+4>>>2>>>0]=t.getMinutes(),E[n+8>>>2>>>0]=t.getHours(),E[n+12>>>2>>>0]=t.getDate(),E[n+16>>>2>>>0]=t.getMonth(),E[n+20>>>2>>>0]=t.getFullYear()-1900,E[n+24>>>2>>>0]=t.getDay(),E[n+28>>>2>>>0]=(Le(t.getFullYear())?Er:Sr)[t.getMonth()]+t.getDate()-1|0,E[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=new Date(t.getFullYear(),0,1).getTimezoneOffset();E[n+32>>>2>>>0]=(a!=s&&t.getTimezoneOffset()==Math.min(s,a))|0},U:function(t){t>>>=0;var n=new Date(E[t+20>>>2>>>0]+1900,E[t+16>>>2>>>0],E[t+12>>>2>>>0],E[t+8>>>2>>>0],E[t+4>>>2>>>0],E[t>>>2>>>0],0),a=E[t+32>>>2>>>0],s=n.getTimezoneOffset(),m=new Date(n.getFullYear(),6,1).getTimezoneOffset(),w=new Date(n.getFullYear(),0,1).getTimezoneOffset(),C=Math.min(w,m);return 0>a?E[t+32>>>2>>>0]=+(m!=w&&C==s):0<a!=(C==s)&&(m=Math.max(w,m),n.setTime(n.getTime()+6e4*((0<a?C:m)-s))),E[t+24>>>2>>>0]=n.getDay(),E[t+28>>>2>>>0]=(Le(n.getFullYear())?Er:Sr)[n.getMonth()]+n.getDate()-1|0,E[t>>>2>>>0]=n.getSeconds(),E[t+4>>>2>>>0]=n.getMinutes(),E[t+8>>>2>>>0]=n.getHours(),E[t+12>>>2>>>0]=n.getDate(),E[t+16>>>2>>>0]=n.getMonth(),E[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,a){function s(I){return(I=I.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?I[1]:"GMT"}a>>>=0;var m=new Date().getFullYear(),w=new Date(m,0,1),C=new Date(m,6,1);m=w.getTimezoneOffset();var A=C.getTimezoneOffset();$[t>>>0>>>2>>>0]=60*Math.max(m,A),E[n>>>0>>>2>>>0]=+(m!=A),t=s(w),n=s(C),t=Cr(t),n=Cr(n),A<m?($[a>>>2>>>0]=t,$[a+4>>>2>>>0]=n):($[a>>>2>>>0]=n,$[a+4>>>2>>>0]=t)},t:()=>{Je("")},C:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,a){return n>>>=0,ee.copyWithin(t>>>0>>>0,n>>>0,n+(a>>>0)>>>0)},I:function(t){t>>>=0;var n=ee.length;if(4294901760<t)return!1;for(var a=1;4>=a;a*=2){var s=n*(1+.2/a);s=Math.min(s,t+100663296);var m=Math;s=Math.max(t,s);e:{m=(m.min.call(m,4294901760,s+(65536-s%65536)%65536)-M.buffer.byteLength+65535)/65536;try{M.grow(m),j();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var a=0;return Mr().forEach((s,m)=>{var w=n+a;for(m=$[t+4*m>>>2>>>0]=w,w=0;w<s.length;++w)Ae[m++>>>0>>>0]=s.charCodeAt(w);Ae[m>>>0>>>0]=0,a+=s.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var a=Mr();$[t>>>2>>>0]=a.length;var s=0;return a.forEach(m=>s+=m.length+1),$[n>>>2>>>0]=s,0},w:()=>52,A:function(){return 52},W:function(){return 70},z:function(t,n,a,s){n>>>=0,a>>>=0,s>>>=0;for(var m=0,w=0;w<a;w++){var C=$[n>>>2>>>0],A=$[n+4>>>2>>>0];n+=8;for(var I=0;I<A;I++){var B=ee[C+I>>>0],Q=Vr[t];B===0||B===10?((t===1?Z:H)(sr(Q,0)),Q.length=0):Q.push(B)}m+=A}return $[s>>>2>>>0]=m,0},ga:Te,m:function(t,n,a,s){return Te(t>>>0,n>>>0,a>>>0,s>>>0)}},U=function(){var t={a:at};return de++,Ze(t,function(n){U=n.instance.exports,U=he(),M=U.ha,j(),xe.unshift(U.ia),de--,de==0&&(q!==null&&(clearInterval(q),q=null),le&&(n=le,le=null,n()))}).catch(b),{}}();u._OrtInit=(t,n)=>(u._OrtInit=U.ja)(t,n),u._OrtGetLastError=(t,n)=>(u._OrtGetLastError=U.ka)(t,n),u._OrtCreateSessionOptions=(t,n,a,s,m,w,C,A,I,B)=>(u._OrtCreateSessionOptions=U.la)(t,n,a,s,m,w,C,A,I,B),u._OrtAppendExecutionProvider=(t,n)=>(u._OrtAppendExecutionProvider=U.ma)(t,n),u._OrtAddFreeDimensionOverride=(t,n,a)=>(u._OrtAddFreeDimensionOverride=U.na)(t,n,a),u._OrtAddSessionConfigEntry=(t,n,a)=>(u._OrtAddSessionConfigEntry=U.oa)(t,n,a),u._OrtReleaseSessionOptions=t=>(u._OrtReleaseSessionOptions=U.pa)(t),u._OrtCreateSession=(t,n,a)=>(u._OrtCreateSession=U.qa)(t,n,a),u._OrtReleaseSession=t=>(u._OrtReleaseSession=U.ra)(t),u._OrtGetInputOutputCount=(t,n,a)=>(u._OrtGetInputOutputCount=U.sa)(t,n,a),u._OrtGetInputName=(t,n)=>(u._OrtGetInputName=U.ta)(t,n),u._OrtGetOutputName=(t,n)=>(u._OrtGetOutputName=U.ua)(t,n),u._OrtFree=t=>(u._OrtFree=U.va)(t),u._OrtCreateTensor=(t,n,a,s,m,w)=>(u._OrtCreateTensor=U.wa)(t,n,a,s,m,w),u._OrtGetTensorData=(t,n,a,s,m)=>(u._OrtGetTensorData=U.xa)(t,n,a,s,m),u._OrtReleaseTensor=t=>(u._OrtReleaseTensor=U.ya)(t),u._OrtCreateRunOptions=(t,n,a,s)=>(u._OrtCreateRunOptions=U.za)(t,n,a,s),u._OrtAddRunConfigEntry=(t,n,a)=>(u._OrtAddRunConfigEntry=U.Aa)(t,n,a),u._OrtReleaseRunOptions=t=>(u._OrtReleaseRunOptions=U.Ba)(t),u._OrtCreateBinding=t=>(u._OrtCreateBinding=U.Ca)(t),u._OrtBindInput=(t,n,a)=>(u._OrtBindInput=U.Da)(t,n,a),u._OrtBindOutput=(t,n,a,s)=>(u._OrtBindOutput=U.Ea)(t,n,a,s),u._OrtClearBoundOutputs=t=>(u._OrtClearBoundOutputs=U.Fa)(t),u._OrtReleaseBinding=t=>(u._OrtReleaseBinding=U.Ga)(t),u._OrtRunWithBinding=(t,n,a,s,m)=>(u._OrtRunWithBinding=U.Ha)(t,n,a,s,m),u._OrtRun=(t,n,a,s,m,w,C,A)=>(u._OrtRun=U.Ia)(t,n,a,s,m,w,C,A),u._OrtEndProfiling=t=>(u._OrtEndProfiling=U.Ja)(t);var vr=u._malloc=t=>(vr=u._malloc=U.Ka)(t),fe=u._free=t=>(fe=u._free=U.La)(t),Ur=t=>(Ur=U.Ma)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=U.Na)();var Dr=()=>(Dr=U.Pa)(),we=t=>(we=U.Qa)(t),yr=t=>(yr=U.Ra)(t);function he(){var t=U;t=Object.assign({},t);var n=s=>()=>s()>>>0,a=s=>m=>s(m)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=a(t.Ka),t.Ma=a(t.Ma),t.Pa=n(t.Pa),t.Ra=a(t.Ra),t}u.stackAlloc=yr,u.stackSave=Dr,u.stackRestore=we,u.UTF8ToString=Ke,u.stringToUTF8=(t,n,a)=>Fe(t,ee,n,a),u.lengthBytesUTF8=Re;var me;le=function t(){me||Ir(),me||(le=t)};function Ir(){if(!(0<de)){for(;0<V.length;)V.shift()(u);if(!(0<de||me||(me=!0,u.calledRun=!0,ue))){for(;0<xe.length;)xe.shift()(u);for(y(u);0<ve.length;)ve.shift()(u)}}}return Ir(),v.ready}})();typeof en=="object"&&typeof bt=="object"?bt.exports=Qt:typeof define=="function"&&define.amd&&define([],()=>Qt)});var tn=Wr(()=>{});var nn=Wr(()=>{});var on={};mt(on,{cpus:()=>Gn});var Gn,an=pt(()=>{Gn=void 0});var fn=Wr((un,wt)=>{"use strict";var sn=(()=>{var c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(c=c||__filename),function(v={}){function u(){return V.buffer!=q.buffer&&K(),q}function y(){return V.buffer!=q.buffer&&K(),le}function b(){return V.buffer!=q.buffer&&K(),Je}function S(){return V.buffer!=q.buffer&&K(),Ie}function p(){return V.buffer!=q.buffer&&K(),Me}function T(){return V.buffer!=q.buffer&&K(),Ne}function D(){return V.buffer!=q.buffer&&K(),Ze}var l=v,L,Y;l.ready=new Promise((e,r)=>{L=e,Y=r});var R=Object.assign({},l),k="./this.program",G=(e,r)=>{throw r},X=typeof window=="object",Z=typeof importScripts=="function",H=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=l.ENVIRONMENT_IS_PTHREAD||!1,ue="";function Ae(e){return l.locateFile?l.locateFile(e,ue):ue+e}var ee,Oe,Se;if(H){var E=(ht(),xr(gt)),$=(yt(),xr(vt));ue=Z?$.dirname(ue)+"/":__dirname+"/",ee=(r,o)=>(r=r.startsWith("file://")?new URL(r):$.normalize(r),E.readFileSync(r,o?void 0:"utf8")),Se=r=>(r=ee(r,!0),r.buffer||(r=new Uint8Array(r)),r),Oe=(r,o,i,f=!0)=>{r=r.startsWith("file://")?new URL(r):$.normalize(r),E.readFile(r,f?void 0:"utf8",(g,O)=>{g?i(g):o(f?O.buffer:O)})},!l.thisProgram&&1<process.argv.length&&(k=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),G=(r,o)=>{throw process.exitCode=r,o},l.inspect=()=>"[Emscripten Module object]";let e;try{e=tn()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(X||Z)&&(Z?ue=self.location.href:typeof document<"u"&&document.currentScript&&(ue=document.currentScript.src),typeof c<"u"&&c&&(ue=c),ue.indexOf("blob:")!==0?ue=ue.substr(0,ue.replace(/[?#].*/,"").lastIndexOf("/")+1):ue="",H||(ee=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Z&&(Se=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Oe=(e,r,o)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):o()},i.onerror=o,i.send(null)}));H&&typeof performance>"u"&&(global.performance=nn().performance);var Ge=console.log.bind(console),Ve=console.error.bind(console);H&&(Ge=(...e)=>E.writeSync(1,e.join(" ")+`\n`),Ve=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var qe=Ge,se=Ve;Object.assign(l,R),R=null;var j=!0;typeof WebAssembly!="object"&&We("no native wasm support detected");var V,xe,ve=!1,de,q,le,Je,Ie,Me,Ne,Xe,ye,Pe,Ze;function K(){var e=V.buffer;l.HEAP8=q=new Int8Array(e),l.HEAP16=Je=new Int16Array(e),l.HEAPU8=le=new Uint8Array(e),l.HEAPU16=Ie=new Uint16Array(e),l.HEAP32=Me=new Int32Array(e),l.HEAPU32=Ne=new Uint32Array(e),l.HEAPF32=Xe=new Float32Array(e),l.HEAPF64=Ze=new Float64Array(e),l.HEAP64=ye=new BigInt64Array(e),l.HEAPU64=Pe=new BigUint64Array(e)}var oe=16777216;if(5242880<=oe||We("INITIAL_MEMORY should be larger than STACK_SIZE, was "+oe+"! (STACK_SIZE=5242880)"),M)V=l.wasmMemory;else if(V=new WebAssembly.Memory({initial:oe/65536,maximum:65536,shared:!0}),!(V.buffer instanceof SharedArrayBuffer))throw se("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),H&&se("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");K(),oe=V.buffer.byteLength;var je=[],Be=[],sr=[],Ke=0;function Re(){return j||0<Ke}var Fe=0,ur=null,Ye=null;function _e(){if(Fe--,Fe==0&&(ur!==null&&(clearInterval(ur),ur=null),Ye)){var e=Ye;Ye=null,e()}}function We(e){throw e="Aborted("+e+")",se(e),ve=!0,de=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Y(e),e}function fr(e){return e.startsWith("data:application/octet-stream;base64,")}var Qe;Qe="ort-wasm-threaded.wasm",fr(Qe)||(Qe=Ae(Qe));function Ue(e){if(Se)return Se(e);throw"both async and sync fetching of the wasm failed"}function tt(e){if(X||Z){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>Ue(e));if(Oe)return new Promise((r,o)=>{Oe(e,i=>r(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Ue(e))}function Ce(e,r,o){return tt(e).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(o,i=>{se(`failed to asynchronously prepare wasm: ${i}`),We(i)})}function Lr(e,r){var o=Qe;return typeof WebAssembly.instantiateStreaming!="function"||fr(o)||o.startsWith("file://")||H||typeof fetch!="function"?Ce(o,e,r):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(r,function(f){return se(`wasm streaming compile failed: ${f}`),se("falling back to ArrayBuffer instantiation"),Ce(o,e,r)}))}function er(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ge=e=>{e.terminate(),e.onmessage=()=>{}},lr=e=>{F.nb.length==0&&($r(),F.Ab(F.nb[0]));var r=F.nb.pop();if(!r)return 6;F.ob.push(r),F.jb[e.mb]=r,r.mb=e.mb;var o={cmd:"run",start_routine:e.Mb,arg:e.Gb,pthread_ptr:e.mb};return H&&r.unref(),r.postMessage(o,e.Sb),0},pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,be=(e,r,o)=>{r>>>=0;var i=r+o;for(o=r;e[o]&&!(o>=i);)++o;if(16<o-r&&e.buffer&&pe)return pe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,o):e.subarray(r,o));for(i="";r<o;){var f=e[r++];if(f&128){var g=e[r++]&63;if((f&224)==192)i+=String.fromCharCode((f&31)<<6|g);else{var O=e[r++]&63;f=(f&240)==224?(f&15)<<12|g<<6|O:(f&7)<<18|g<<12|O<<6|e[r++]&63,65536>f?i+=String.fromCharCode(f):(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else i+=String.fromCharCode(f)}return i},rr=(e,r)=>(e>>>=0)?be(y(),e,r):"";function kr(e){if(M)return d(0,1,e);de=e,Re()||(F.Nb(),ve=!0),G(e,new er(e))}var wr=e=>{if(de=e,M)throw Nr(e),"unwind";kr(e)};function Hr(){for(var e=l.numThreads;e--;)$r();je.unshift(()=>{Fe++,nt(()=>_e())})}function $r(){var e=Ae("ort-wasm-threaded.worker.js");e=new Worker(e),F.nb.push(e)}function nt(e){M?e():Promise.all(F.nb.map(F.Ab)).then(e)}var F={nb:[],ob:[],Fb:[],jb:{},vb(){M?(F.receiveObjectTransfer=F.Lb,F.threadInitTLS=F.Eb,F.setExitStatus=F.Db,j=!1):Hr()},Db:e=>{de=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of F.ob)ge(e);for(e of F.nb)ge(e);F.nb=[],F.ob=[],F.jb=[]},Cb:e=>{var r=e.mb;delete F.jb[r],F.nb.push(e),F.ob.splice(F.ob.indexOf(e),1),e.mb=0,ut(r)},Lb(){},Eb(){F.Fb.forEach(e=>e())},Ab:e=>new Promise(r=>{e.onmessage=g=>{g=g.data;var O=g.cmd;if(g.targetThread&&g.targetThread!=Zr()){var _=F.jb[g.targetThread];_?_.postMessage(g,g.transferList):se(`Internal error! Worker sent a message "${O}" to target pthread ${g.targetThread}, but that thread no longer exists!`)}else O==="checkMailbox"?ce():O==="spawnThread"?lr(g):O==="cleanupThread"?((g=F.jb[g.thread])||We(),F.Cb(g)):O==="killThread"?(g=g.thread,O=F.jb[g],delete F.jb[g],ge(O),ut(g),F.ob.splice(F.ob.indexOf(O),1),O.mb=0):O==="cancelThread"?F.jb[g.thread].postMessage({cmd:"cancel"}):O==="loaded"?(e.loaded=!0,H&&!e.mb&&e.unref(),r(e)):O==="alert"?alert(`Thread ${g.threadId}: ${g.text}`):g.target==="setimmediate"?e.postMessage(g):O==="callHandler"?l[g.handler](...g.args):O&&se(`worker sent an unknown command ${O}`)},e.onerror=g=>{throw se(`worker sent an error! ${g.filename}:${g.lineno}: ${g.message}`),g},H&&(e.on("message",g=>e.onmessage({data:g})),e.on("error",g=>e.onerror(g)));var o=[],i=[],f;for(f of i)l.hasOwnProperty(f)&&o.push(f);e.postMessage({cmd:"load",handlers:o,urlOrBlob:l.mainScriptUrlOrBlob||c,wasmMemory:V,wasmModule:xe})})};l.PThread=F;var cr=e=>{for(;0<e.length;)e.shift()(l)};l.establishStackSpace=()=>{var e=Zr(),r=T()[e+52>>>2>>>0];e=T()[e+56>>>2>>>0],Xt(r,r-e),Qr(r)};function Nr(e){if(M)return d(1,0,e);wr(e)}var dr=[],tr;l.invokeEntryPoint=(e,r)=>{var o=dr[e];o||(e>=dr.length&&(dr.length=e+1),dr[e]=o=tr.get(e)),e=o(r),Re()?F.Db(e):ft(e)};function ot(e){this.sb=e-24,this.Kb=function(r){T()[this.sb+4>>>2>>>0]=r},this.xb=function(r){T()[this.sb+8>>>2>>>0]=r},this.vb=function(r,o){this.wb(),this.Kb(r),this.xb(o)},this.wb=function(){T()[this.sb+16>>>2>>>0]=0}}var nr=0,pr=0;function Or(e,r,o,i){return M?d(2,1,e,r,o,i):jr(e,r,o,i)}function jr(e,r,o,i){if(e>>>=0,r>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return se("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var f=[];return M&&f.length===0?Or(e,r,o,i):(e={Mb:o,mb:e,Gb:i,Sb:f},M?(e.Ub="spawnThread",postMessage(e,f),0):lr(e))}function Yr(e,r,o){return M?d(3,1,e,r,o):0}function _r(e,r){if(M)return d(4,1,e,r)}var or=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++o):r+=3}return r},zr=(e,r,o,i)=>{if(o>>>=0,!(0<i))return 0;var f=o;i=o+i-1;for(var g=0;g<e.length;++g){var O=e.charCodeAt(g);if(55296<=O&&57343>=O){var _=e.charCodeAt(++g);O=65536+((O&1023)<<10)|_&1023}if(127>=O){if(o>=i)break;r[o++>>>0]=O}else{if(2047>=O){if(o+1>=i)break;r[o++>>>0]=192|O>>6}else{if(65535>=O){if(o+2>=i)break;r[o++>>>0]=224|O>>12}else{if(o+3>=i)break;r[o++>>>0]=240|O>>18,r[o++>>>0]=128|O>>12&63}r[o++>>>0]=128|O>>6&63}r[o++>>>0]=128|O&63}}return r[o>>>0]=0,o-f},Tr=(e,r,o)=>zr(e,y(),r,o);function Gr(e,r){if(M)return d(5,1,e,r)}function Ar(e,r,o){if(M)return d(6,1,e,r,o)}function Le(e,r,o){return M?d(7,1,e,r,o):0}function Er(e,r){if(M)return d(8,1,e,r)}function Sr(e,r,o){if(M)return d(9,1,e,r,o)}function Cr(e,r,o,i){if(M)return d(10,1,e,r,o,i)}function mr(e,r,o,i){if(M)return d(11,1,e,r,o,i)}function Mr(e,r,o,i){if(M)return d(12,1,e,r,o,i)}function gr(e){if(M)return d(13,1,e)}function Vr(e,r){if(M)return d(14,1,e,r)}function Pr(e,r,o){if(M)return d(15,1,e,r,o)}var Fr=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},qr,Te=e=>{for(var r="";y()[e>>>0];)r+=qr[y()[e++>>>0]];return r},hr={},ze={},at={},U;function vr(e,r,o={}){var i=r.name;if(!e)throw new U(`type "${i}" must have a positive integer typeid pointer`);if(ze.hasOwnProperty(e)){if(o.Ib)return;throw new U(`Cannot register type \'${i}\' twice`)}ze[e]=r,delete at[e],hr.hasOwnProperty(e)&&(r=hr[e],delete hr[e],r.forEach(f=>f()))}function fe(e,r,o={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");vr(e,r,o)}var Ur=(e,r,o)=>{switch(r){case 1:return o?i=>u()[i>>>0>>>0]:i=>y()[i>>>0>>>0];case 2:return o?i=>b()[i>>>1>>>0]:i=>S()[i>>>1>>>0];case 4:return o?i=>p()[i>>>2>>>0]:i=>T()[i>>>2>>>0];case 8:return o?i=>ye[i>>>3]:i=>Pe[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Dr(){this.lb=[void 0],this.zb=[]}var we=new Dr;function yr(e){e>>>=0,e>=we.sb&&--we.get(e).Bb===0&&we.xb(e)}var he=e=>{if(!e)throw new U("Cannot use deleted val. handle = "+e);return we.get(e).value},me=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return we.wb({Bb:1,value:e})}};function Ir(e){return this.fromWireType(p()[e>>>2>>>0])}var t=(e,r)=>{switch(r){case 4:return function(o){var i=this.fromWireType;return V.buffer!=q.buffer&&K(),i.call(this,Xe[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(D()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function n(e){return this.fromWireType(T()[e>>>2>>>0])}var a=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,s=(e,r)=>{for(var o=e>>1,i=o+r/2;!(o>=i)&&S()[o>>>0];)++o;if(o<<=1,32<o-e&&a)return a.decode(y().slice(e,o));for(o="",i=0;!(i>=r/2);++i){var f=b()[e+2*i>>>1>>>0];if(f==0)break;o+=String.fromCharCode(f)}return o},m=(e,r,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=r;o=o<2*e.length?o/2:e.length;for(var f=0;f<o;++f){var g=e.charCodeAt(f);b()[r>>>1>>>0]=g,r+=2}return b()[r>>>1>>>0]=0,r-i},w=e=>2*e.length,C=(e,r)=>{for(var o=0,i="";!(o>=r/4);){var f=p()[e+4*o>>>2>>>0];if(f==0)break;++o,65536<=f?(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023)):i+=String.fromCharCode(f)}return i},A=(e,r,o)=>{if(r>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var i=r;o=i+o-4;for(var f=0;f<e.length;++f){var g=e.charCodeAt(f);if(55296<=g&&57343>=g){var O=e.charCodeAt(++f);g=65536+((g&1023)<<10)|O&1023}if(p()[r>>>2>>>0]=g,r+=4,r+4>o)break}return p()[r>>>2>>>0]=0,r-i},I=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);55296<=i&&57343>=i&&++o,r+=4}return r},B=e=>{if(!ve)try{if(e(),!Re())try{M?ft(de):wr(de)}catch(r){r instanceof er||r=="unwind"||G(1,r)}}catch(r){r instanceof er||r=="unwind"||G(1,r)}};function Q(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(p(),e>>>2,e).value.then(ce),e+=128,Atomics.store(p(),e>>>2,1))}l.__emscripten_thread_mailbox_await=Q;var ce=()=>{var e=Zr();e&&(Q(e),B(()=>Jt()))};l.checkMailbox=ce;var De=e=>{var r=lt();return e=e(),Qr(r),e};function d(e,r){var o=arguments.length-2,i=arguments;return De(()=>{for(var f=2*o,g=ct(8*f),O=g>>>3,_=0;_<o;_++){var W=i[2+_];typeof W=="bigint"?(ye[O+2*_]=1n,ye[O+2*_+1]=W):(ye[O+2*_]=0n,D()[O+2*_+1>>>0]=W)}return qt(e,f,g,r)})}var N=[],J=(e,r)=>{var o=ze[e];if(o===void 0)throw e=Gt(e),o=Te(e),He(e),new U(r+" has unknown type "+o);return o},ke={},ar=e=>{var r=ke[e];return r===void 0?Te(e):r},Jr=[],St=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Pn=e=>{var r=Jr.length;return Jr.push(e),r},Fn=(e,r)=>{for(var o=Array(e),i=0;i<e;++i)o[i]=J(T()[r+4*i>>>2>>>0],"parameter "+i);return o},Ct=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},Mt={};function Un(e,r){return e=Ct(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function Dn(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var o=Un(r.name||"unknownFunctionName",function(){});return o.prototype=r.prototype,o=new o,e=r.apply(o,e),e instanceof Object?e:o}var In=e=>{for(var r="",o=0;o<e;++o)r+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<e;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+r+`);\nreturn valueToHandle(obj);\n}\n`))(J,l,me,()=>T())},Pt={},br=e=>e%4===0&&(e%100!==0||e%400===0),Ft=[0,31,60,91,121,152,182,213,244,274,305,335],Ut=[0,31,59,90,120,151,181,212,243,273,304,334];function Dt(e,r,o,i,f,g,O){return M?d(16,1,e,r,o,i,f,g,O):-52}function It(e,r,o,i,f,g){if(M)return d(17,1,e,r,o,i,f,g)}var Wt=e=>{var r=or(e)+1,o=Kr(r);return o&&Tr(e,o,r),o},it={},xt=()=>{if(!st){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:k||"./this.program"},r;for(r in it)it[r]===void 0?delete e[r]:e[r]=it[r];var o=[];for(r in e)o.push(`${r}=${e[r]}`);st=o}return st},st;function Bt(e,r){if(M)return d(18,1,e,r);e>>>=0,r>>>=0;var o=0;return xt().forEach((i,f)=>{var g=r+o;for(f=T()[e+4*f>>>2>>>0]=g,g=0;g<i.length;++g)u()[f++>>>0>>>0]=i.charCodeAt(g);u()[f>>>0>>>0]=0,o+=i.length+1}),0}function Rt(e,r){if(M)return d(19,1,e,r);e>>>=0,r>>>=0;var o=xt();T()[e>>>2>>>0]=o.length;var i=0;return o.forEach(f=>i+=f.length+1),T()[r>>>2>>>0]=i,0}function Lt(e){return M?d(20,1,e):52}function kt(e,r,o,i){return M?d(21,1,e,r,o,i):52}function Ht(e,r,o,i){return M?d(22,1,e,r,o,i):70}var Wn=[null,[],[]];function $t(e,r,o,i){if(M)return d(23,1,e,r,o,i);r>>>=0,o>>>=0,i>>>=0;for(var f=0,g=0;g<o;g++){var O=T()[r>>>2>>>0],_=T()[r+4>>>2>>>0];r+=8;for(var W=0;W<_;W++){var x=y()[O+W>>>0],re=Wn[e];x===0||x===10?((e===1?qe:se)(be(re,0)),re.length=0):re.push(x)}f+=_}return T()[i>>>2>>>0]=f,0}var Nt=[31,29,31,30,31,30,31,31,30,31,30,31],jt=[31,28,31,30,31,30,31,31,30,31,30,31];function xn(e){var r=Array(or(e)+1);return zr(e,r,0,r.length),r}var Bn=(e,r)=>{u().set(e,r>>>0)};function Yt(e,r,o,i){function f(h,z,te){for(h=typeof h=="number"?h.toString():h||"";h.length<z;)h=te[0]+h;return h}function g(h,z){return f(h,z,"0")}function O(h,z){function te(Kt){return 0>Kt?-1:0<Kt?1:0}var ir;return(ir=te(h.getFullYear()-z.getFullYear()))===0&&(ir=te(h.getMonth()-z.getMonth()))===0&&(ir=te(h.getDate()-z.getDate())),ir}function _(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function W(h){var z=h.pb;for(h=new Date(new Date(h.qb+1900,0,1).getTime());0<z;){var te=h.getMonth(),ir=(br(h.getFullYear())?Nt:jt)[te];if(z>ir-h.getDate())z-=ir-h.getDate()+1,h.setDate(1),11>te?h.setMonth(te+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+z);break}}return te=new Date(h.getFullYear()+1,0,4),z=_(new Date(h.getFullYear(),0,4)),te=_(te),0>=O(z,h)?0>=O(te,h)?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}e>>>=0,r>>>=0,o>>>=0,i>>>=0;var x=T()[i+40>>>2>>>0];i={Qb:p()[i>>>2>>>0],Pb:p()[i+4>>>2>>>0],tb:p()[i+8>>>2>>>0],yb:p()[i+12>>>2>>>0],ub:p()[i+16>>>2>>>0],qb:p()[i+20>>>2>>>0],kb:p()[i+24>>>2>>>0],pb:p()[i+28>>>2>>>0],Wb:p()[i+32>>>2>>>0],Ob:p()[i+36>>>2>>>0],Rb:x?rr(x):""},o=rr(o),x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var re in x)o=o.replace(new RegExp(re,"g"),x[re]);var Ee="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),$e="January February March April May June July August September October November December".split(" ");x={"%a":h=>Ee[h.kb].substring(0,3),"%A":h=>Ee[h.kb],"%b":h=>$e[h.ub].substring(0,3),"%B":h=>$e[h.ub],"%C":h=>g((h.qb+1900)/100|0,2),"%d":h=>g(h.yb,2),"%e":h=>f(h.yb,2," "),"%g":h=>W(h).toString().substring(2),"%G":h=>W(h),"%H":h=>g(h.tb,2),"%I":h=>(h=h.tb,h==0?h=12:12<h&&(h-=12),g(h,2)),"%j":h=>{for(var z=0,te=0;te<=h.ub-1;z+=(br(h.qb+1900)?Nt:jt)[te++]);return g(h.yb+z,3)},"%m":h=>g(h.ub+1,2),"%M":h=>g(h.Pb,2),"%n":()=>`\n`,"%p":h=>0<=h.tb&&12>h.tb?"AM":"PM","%S":h=>g(h.Qb,2),"%t":()=>"	","%u":h=>h.kb||7,"%U":h=>g(Math.floor((h.pb+7-h.kb)/7),2),"%V":h=>{var z=Math.floor((h.pb+7-(h.kb+6)%7)/7);if(2>=(h.kb+371-h.pb-2)%7&&z++,z)z==53&&(te=(h.kb+371-h.pb)%7,te==4||te==3&&br(h.qb)||(z=1));else{z=52;var te=(h.kb+7-h.pb-1)%7;(te==4||te==5&&br(h.qb%400-1))&&z++}return g(z,2)},"%w":h=>h.kb,"%W":h=>g(Math.floor((h.pb+7-(h.kb+6)%7)/7),2),"%y":h=>(h.qb+1900).toString().substring(2),"%Y":h=>h.qb+1900,"%z":h=>{h=h.Ob;var z=0<=h;return h=Math.abs(h)/60,(z?"+":"-")+("0000"+(h/60*100+h%60)).slice(-4)},"%Z":h=>h.Rb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(re in x)o.includes(re)&&(o=o.replace(new RegExp(re,"g"),x[re](i)));return o=o.replace(/\\0\\0/g,"%"),re=xn(o),re.length>r?0:(Bn(re,e),re.length-1)}F.vb();for(var zt=Array(256),Xr=0;256>Xr;++Xr)zt[Xr]=String.fromCharCode(Xr);qr=zt,U=l.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},l.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Dr.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),we.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),we.sb=we.lb.length,l.count_emval_handles=()=>{for(var e=0,r=we.sb;r<we.lb.length;++r)we.lb[r]!==void 0&&++e;return e};var Rn=[kr,Nr,Or,Yr,_r,Gr,Ar,Le,Er,Sr,Cr,mr,Mr,gr,Vr,Pr,Dt,It,Bt,Rt,Lt,kt,Ht,$t],Ln={b:function(e,r,o){throw e>>>=0,new ot(e).vb(r>>>0,o>>>0),nr=e,pr++,nr},ea:function(e){Vt(e>>>0,!Z,1,!X,131072,!1),F.Eb()},E:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):((e=F.jb[e])||We(),F.Cb(e))},W:jr,y:Yr,ka:_r,S:Gr,U:Ar,L:Le,ia:Er,ba:Sr,ha:Cr,G:mr,T:Mr,Q:gr,ja:Vr,R:Pr,J:function(e,r,o,i,f){e>>>=0,r>>>=0,o>>>=0,r=Te(r);var g=r.indexOf("u")!=-1;g&&(f=(1n<<64n)-1n),fe(e,{name:r,fromWireType:O=>O,toWireType:function(O,_){if(typeof _!="bigint"&&typeof _!="number")throw new TypeError(`Cannot convert "${Fr(_)}" to ${this.name}`);if(_<i||_>f)throw new TypeError(`Passing a number "${Fr(_)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${f}]!`);return _},argPackAdvance:8,readValueFromPointer:Ur(r,o,!g),rb:null})},qa:function(e,r,o,i){e>>>=0,r=Te(r>>>0),fe(e,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,g){return g?o:i},argPackAdvance:8,readValueFromPointer:function(f){return this.fromWireType(y()[f>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=Te(r>>>0),fe(e,{name:r,fromWireType:o=>{var i=he(o);return yr(o),i},toWireType:(o,i)=>me(i),argPackAdvance:8,readValueFromPointer:Ir,rb:null})},I:function(e,r,o){e>>>=0,o>>>=0,r=Te(r>>>0),fe(e,{name:r,fromWireType:i=>i,toWireType:(i,f)=>f,argPackAdvance:8,readValueFromPointer:t(r,o),rb:null})},u:function(e,r,o,i,f){if(e>>>=0,o>>>=0,r=Te(r>>>0),f===-1&&(f=4294967295),f=_=>_,i===0){var g=32-8*o;f=_=>_<<g>>>g}var O=r.includes("unsigned")?function(_,W){return W>>>0}:function(_,W){return W};fe(e,{name:r,fromWireType:f,toWireType:O,argPackAdvance:8,readValueFromPointer:Ur(r,o,i!==0),rb:null})},m:function(e,r,o){function i(g){var O=T()[g>>>2>>>0];return g=T()[g+4>>>2>>>0],new f(u().buffer,g,O)}e>>>=0;var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];o=Te(o>>>0),fe(e,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Ib:!0})},K:function(e,r){e>>>=0,r=Te(r>>>0);var o=r==="std::string";fe(e,{name:r,fromWireType:function(i){var f=T()[i>>>2>>>0],g=i+4;if(o)for(var O=g,_=0;_<=f;++_){var W=g+_;if(_==f||y()[W>>>0]==0){if(O=rr(O,W-O),x===void 0)var x=O;else x+=String.fromCharCode(0),x+=O;O=W+1}}else{for(x=Array(f),_=0;_<f;++_)x[_]=String.fromCharCode(y()[g+_>>>0]);x=x.join("")}return He(i),x},toWireType:function(i,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var g=typeof f=="string";if(!(g||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array))throw new U("Cannot pass non-string to std::string");var O=o&&g?or(f):f.length,_=Kr(4+O+1),W=_+4;if(T()[_>>>2>>>0]=O,o&&g)Tr(f,W,O+1);else if(g)for(g=0;g<O;++g){var x=f.charCodeAt(g);if(255<x)throw He(W),new U("String has UTF-16 code units that do not fit in 8 bits");y()[W+g>>>0]=x}else for(g=0;g<O;++g)y()[W+g>>>0]=f[g];return i!==null&&i.push(He,_),_},argPackAdvance:8,readValueFromPointer:n,rb(i){He(i)}})},A:function(e,r,o){if(e>>>=0,r>>>=0,o>>>=0,o=Te(o),r===2)var i=s,f=m,g=w,O=()=>S(),_=1;else r===4&&(i=C,f=A,g=I,O=()=>T(),_=2);fe(e,{name:o,fromWireType:W=>{for(var x=T()[W>>>2>>>0],re=O(),Ee,$e=W+4,h=0;h<=x;++h){var z=W+4+h*r;(h==x||re[z>>>_]==0)&&($e=i($e,z-$e),Ee===void 0?Ee=$e:(Ee+=String.fromCharCode(0),Ee+=$e),$e=z+r)}return He(W),Ee},toWireType:(W,x)=>{if(typeof x!="string")throw new U(`Cannot pass non-string to C++ string type ${o}`);var re=g(x),Ee=Kr(4+re+r);return T()[Ee>>>2]=re>>_,f(x,Ee+4,re+r),W!==null&&W.push(He,Ee),Ee},argPackAdvance:8,readValueFromPointer:Ir,rb(W){He(W)}})},ra:function(e,r){e>>>=0,r=Te(r>>>0),fe(e,{Jb:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>ce()):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,o,i){r>>>=0,o/=2,N.length=o,i=i>>>0>>>3;for(var f=0;f<o;f++)N[f]=ye[i+2*f]?ye[i+2*f+1]:D()[i+2*f+1>>>0];return e=Rn[e],F.Hb=r,r=e.apply(null,N),F.Hb=0,r},da:Q,ma:function(e){H&&F.jb[e>>>0].ref()},r:function(e,r,o){r>>>=0,o>>>=0,e=he(e>>>0),r=J(r,"emval::as");var i=[],f=me(i);return T()[o>>>2>>>0]=f,r.toWireType(i,e)},i:function(e,r,o,i,f){o>>>=0,i>>>=0,f>>>=0,e=Jr[e>>>0],r=he(r>>>0),o=ar(o);var g=[];return T()[i>>>2>>>0]=me(g),e(r,o,g,f)},s:function(e,r,o,i){o>>>=0,i>>>=0,e=Jr[e>>>0],r=he(r>>>0),o=ar(o),e(r,o,null,i)},c:yr,B:function(e,r){return r>>>=0,e=he(e>>>0),r=he(r),e==r},o:function(e){return e>>>=0,e===0?me(St()):(e=ar(e),me(St()[e]))},g:function(e,r){var o=Fn(e,r>>>0),i=o[0];r=i.name+"_$"+o.slice(1).map(function(re){return re.name}).join("_")+"$";var f=Mt[r];if(f!==void 0)return f;f=["retType"];for(var g=[i],O="",_=0;_<e-1;++_)O+=(_!==0?", ":"")+"arg"+_,f.push("argType"+_),g.push(o[1+_]);var W="return function "+Ct("methodCaller_"+r)+`(handle, name, destructors, args) {\n`,x=0;for(_=0;_<e-1;++_)W+="    var arg"+_+" = argType"+_+".readValueFromPointer(args"+(x?"+"+x:"")+`);\n`,x+=o[_+1].argPackAdvance;for(W+="    var rv = handle[name]("+O+`);\n`,_=0;_<e-1;++_)o[_+1].deleteObject&&(W+="    argType"+_+".deleteObject(arg"+_+`);\n`);return i.Jb||(W+=`    return retType.toWireType(destructors, rv);\n`),f.push(W+`};\n`),e=Dn(f).apply(null,g),f=Pn(e),Mt[r]=f},q:function(e,r){return r>>>=0,e=he(e>>>0),r=he(r),me(e[r])},d:function(e){e>>>=0,4<e&&(we.get(e).Bb+=1)},x:function(e,r,o,i){o>>>=0,i>>>=0,e=he(e>>>0);var f=Pt[r];return f||(f=In(r),Pt[r]=f),f(e,o,i)},v:function(){return me([])},l:function(e){e=he(e>>>0);for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=e[o];return me(r)},e:function(e){return me(ar(e>>>0))},k:function(){return me({})},f:function(e){e>>>=0;for(var r=he(e);r.length;){var o=r.pop();r.pop()(o)}yr(e)},j:function(e,r,o){r>>>=0,o>>>=0,e=he(e>>>0),r=he(r),o=he(o),e[r]=o},h:function(e,r){return r>>>=0,e=J(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),me(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),p()[r>>>2>>>0]=e.getUTCSeconds(),p()[r+4>>>2>>>0]=e.getUTCMinutes(),p()[r+8>>>2>>>0]=e.getUTCHours(),p()[r+12>>>2>>>0]=e.getUTCDate(),p()[r+16>>>2>>>0]=e.getUTCMonth(),p()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,p()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,p()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),p()[r>>>2>>>0]=e.getSeconds(),p()[r+4>>>2>>>0]=e.getMinutes(),p()[r+8>>>2>>>0]=e.getHours(),p()[r+12>>>2>>>0]=e.getDate(),p()[r+16>>>2>>>0]=e.getMonth(),p()[r+20>>>2>>>0]=e.getFullYear()-1900,p()[r+24>>>2>>>0]=e.getDay();var o=(br(e.getFullYear())?Ft:Ut)[e.getMonth()]+e.getDate()-1|0;p()[r+28>>>2>>>0]=o,p()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=i&&e.getTimezoneOffset()==Math.min(i,o))|0,p()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(p()[e+20>>>2>>>0]+1900,p()[e+16>>>2>>>0],p()[e+12>>>2>>>0],p()[e+8>>>2>>>0],p()[e+4>>>2>>>0],p()[e>>>2>>>0],0),o=p()[e+32>>>2>>>0],i=r.getTimezoneOffset(),f=new Date(r.getFullYear(),6,1).getTimezoneOffset(),g=new Date(r.getFullYear(),0,1).getTimezoneOffset(),O=Math.min(g,f);return 0>o?p()[e+32>>>2>>>0]=+(f!=g&&O==i):0<o!=(O==i)&&(f=Math.max(g,f),r.setTime(r.getTime()+6e4*((0<o?O:f)-i))),p()[e+24>>>2>>>0]=r.getDay(),o=(br(r.getFullYear())?Ft:Ut)[r.getMonth()]+r.getDate()-1|0,p()[e+28>>>2>>>0]=o,p()[e>>>2>>>0]=r.getSeconds(),p()[e+4>>>2>>>0]=r.getMinutes(),p()[e+8>>>2>>>0]=r.getHours(),p()[e+12>>>2>>>0]=r.getDate(),p()[e+16>>>2>>>0]=r.getMonth(),p()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:Dt,Z:It,N:function(e,r,o){function i(x){return(x=x.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?x[1]:"GMT"}e>>>=0,r>>>=0,o>>>=0;var f=new Date().getFullYear(),g=new Date(f,0,1),O=new Date(f,6,1);f=g.getTimezoneOffset();var _=O.getTimezoneOffset(),W=Math.max(f,_);T()[e>>>2>>>0]=60*W,p()[r>>>2>>>0]=+(f!=_),e=i(g),r=i(O),e=Wt(e),r=Wt(r),_<f?(T()[o>>>2>>>0]=e,T()[o+4>>>2>>>0]=r):(T()[o>>>2>>>0]=r,T()[o+4>>>2>>>0]=e)},n:()=>{We("")},F:()=>{},H:()=>Date.now(),la:()=>{throw Ke+=1,"unwind"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>H?(an(),xr(on)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=y().length;if(e<=r||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var i=r*(1+.2/o);i=Math.min(i,e+100663296);var f=Math;i=Math.max(e,i);e:{f=(f.min.call(f,4294901760,i+(65536-i%65536)%65536)-V.buffer.byteLength+65535)/65536;try{V.grow(f),K();var g=1;break e}catch{}g=void 0}if(g)return!0}return!1},fa:Bt,ga:Rt,V:wr,z:Lt,D:kt,ca:Ht,C:$t,a:V||l.wasmMemory,oa:Yt,p:function(e,r,o,i){return Yt(e>>>0,r>>>0,o>>>0,i>>>0)}},P=function(){var e={a:Ln};return Fe++,Lr(e,function(r){var o=r.module;P=r.instance.exports,P=kn(),F.Fb.push(P.Xa),tr=P._a,Be.unshift(P.sa),xe=o,_e()}).catch(Y),{}}();l._OrtInit=(e,r)=>(l._OrtInit=P.ta)(e,r),l._OrtGetLastError=(e,r)=>(l._OrtGetLastError=P.ua)(e,r),l._OrtCreateSessionOptions=(e,r,o,i,f,g,O,_,W,x)=>(l._OrtCreateSessionOptions=P.va)(e,r,o,i,f,g,O,_,W,x),l._OrtAppendExecutionProvider=(e,r)=>(l._OrtAppendExecutionProvider=P.wa)(e,r),l._OrtAddFreeDimensionOverride=(e,r,o)=>(l._OrtAddFreeDimensionOverride=P.xa)(e,r,o),l._OrtAddSessionConfigEntry=(e,r,o)=>(l._OrtAddSessionConfigEntry=P.ya)(e,r,o),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=P.za)(e),l._OrtCreateSession=(e,r,o)=>(l._OrtCreateSession=P.Aa)(e,r,o),l._OrtReleaseSession=e=>(l._OrtReleaseSession=P.Ba)(e),l._OrtGetInputOutputCount=(e,r,o)=>(l._OrtGetInputOutputCount=P.Ca)(e,r,o),l._OrtGetInputName=(e,r)=>(l._OrtGetInputName=P.Da)(e,r),l._OrtGetOutputName=(e,r)=>(l._OrtGetOutputName=P.Ea)(e,r),l._OrtFree=e=>(l._OrtFree=P.Fa)(e),l._OrtCreateTensor=(e,r,o,i,f,g)=>(l._OrtCreateTensor=P.Ga)(e,r,o,i,f,g),l._OrtGetTensorData=(e,r,o,i,f)=>(l._OrtGetTensorData=P.Ha)(e,r,o,i,f),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=P.Ia)(e),l._OrtCreateRunOptions=(e,r,o,i)=>(l._OrtCreateRunOptions=P.Ja)(e,r,o,i),l._OrtAddRunConfigEntry=(e,r,o)=>(l._OrtAddRunConfigEntry=P.Ka)(e,r,o),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=P.La)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=P.Ma)(e),l._OrtBindInput=(e,r,o)=>(l._OrtBindInput=P.Na)(e,r,o),l._OrtBindOutput=(e,r,o,i)=>(l._OrtBindOutput=P.Oa)(e,r,o,i),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=P.Pa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=P.Qa)(e),l._OrtRunWithBinding=(e,r,o,i,f)=>(l._OrtRunWithBinding=P.Ra)(e,r,o,i,f),l._OrtRun=(e,r,o,i,f,g,O,_)=>(l._OrtRun=P.Sa)(e,r,o,i,f,g,O,_),l._OrtEndProfiling=e=>(l._OrtEndProfiling=P.Ta)(e);var Zr=l._pthread_self=()=>(Zr=l._pthread_self=P.Ua)(),Kr=l._malloc=e=>(Kr=l._malloc=P.Va)(e),He=l._free=e=>(He=l._free=P.Wa)(e);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=P.Xa)();var Gt=e=>(Gt=P.Ya)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=P.Za)();var Vt=l.__emscripten_thread_init=(e,r,o,i,f,g)=>(Vt=l.__emscripten_thread_init=P.$a)(e,r,o,i,f,g);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=P.ab)();var qt=(e,r,o,i)=>(qt=P.bb)(e,r,o,i),ut=e=>(ut=P.cb)(e),ft=l.__emscripten_thread_exit=e=>(ft=l.__emscripten_thread_exit=P.db)(e),Jt=l.__emscripten_check_mailbox=()=>(Jt=l.__emscripten_check_mailbox=P.eb)(),Xt=(e,r)=>(Xt=P.fb)(e,r),lt=()=>(lt=P.gb)(),Qr=e=>(Qr=P.hb)(e),ct=e=>(ct=P.ib)(e);function kn(){var e=P;e=Object.assign({},e);var r=i=>()=>i()>>>0,o=i=>f=>i(f)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=o(e.Va),e.Ya=o(e.Ya),e.gb=r(e.gb),e.ib=o(e.ib),e}l.keepRuntimeAlive=Re,l.wasmMemory=V,l.stackAlloc=ct,l.stackSave=lt,l.stackRestore=Qr,l.UTF8ToString=rr,l.stringToUTF8=Tr,l.lengthBytesUTF8=or,l.ExitStatus=er,l.PThread=F;var et;Ye=function e(){et||Zt(),et||(Ye=e)};function Zt(){0<Fe||(M?(L(l),M||cr(Be),startWorker(l)):(cr(je),0<Fe||et||(et=!0,l.calledRun=!0,ve||(M||cr(Be),L(l),M||cr(sr)))))}return Zt(),v.ready}})();typeof un=="object"&&typeof wt=="object"?wt.exports=sn:typeof define=="function"&&define.amd&&define([],()=>sn)});var ln=Wr((mo,Vn)=>{Vn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var dn;dn=rn();var qn=fn(),Ot,_t=!1,rt=!1,cn=!1,Jn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Xn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Zn=(c,v)=>c?v?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":v?"ort-wasm-threaded.wasm":"ort-wasm.wasm",pn=async c=>{if(_t)return Promise.resolve();if(rt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(cn)throw new Error("previous call to \'initializeWebAssembly()\' failed.");rt=!0;let v=c.initTimeout,u=c.numThreads,y=c.simd,b=u>1&&Jn(),S=y&&Xn(),p=c.wasmPaths,T=typeof p=="string"?p:void 0,D=Zn(S,b),l=typeof p=="object"?p[D]:void 0,L=!1,Y=[];if(v>0&&Y.push(new Promise(R=>{setTimeout(()=>{L=!0,R()},v)})),Y.push(new Promise((R,k)=>{let G=b?qn:dn,X={locateFile:(Z,H)=>b&&Z.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([ln()],{type:"text/javascript"})):Z.endsWith(".wasm")?l||(T??H)+D:H+Z};if(b)if(X.numThreads=u,typeof Blob>"u")X.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Z=`var ortWasmThreaded=${G.toString()};`;X.mainScriptUrlOrBlob=new Blob([Z],{type:"text/javascript"})}G(X).then(Z=>{rt=!1,_t=!0,Ot=Z,R()},Z=>{rt=!1,cn=!0,k(Z)})})),await Promise.race(Y),L)throw new Error(`WebAssembly backend initializing failed due to timeout: ${v}ms`)},ae=()=>{if(_t&&Ot)return Ot;throw new Error("WebAssembly is not initialized yet.")};var ie=(c,v)=>{let u=ae(),y=u.lengthBytesUTF8(c)+1,b=u._malloc(y);return u.stringToUTF8(c,b,y),v.push(b),b},Br=(c,v,u,y)=>{if(typeof c=="object"&&c!==null){if(u.has(c))throw new Error("Circular reference in options");u.add(c)}Object.entries(c).forEach(([b,S])=>{let p=v?v+b:b;if(typeof S=="object")Br(S,p+".",u,y);else if(typeof S=="string"||typeof S=="number")y(p,S.toString());else if(typeof S=="boolean")y(p,S?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof S}`)})},ne=c=>{let v=ae(),u=v.stackSave();try{let y=v.stackAlloc(8);v._OrtGetLastError(y,y+4);let b=v.HEAP32[y/4],S=v.HEAPU32[y/4+1],p=S?v.UTF8ToString(S):"";throw new Error(`${c} ERROR_CODE: ${b}, ERROR_MESSAGE: ${p}`)}finally{v.stackRestore(u)}};var mn=c=>{let v=ae(),u=0,y=[],b=c||{};try{if(c?.logSeverityLevel===void 0)b.logSeverityLevel=2;else if(typeof c.logSeverityLevel!="number"||!Number.isInteger(c.logSeverityLevel)||c.logSeverityLevel<0||c.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${c.logSeverityLevel}`);if(c?.logVerbosityLevel===void 0)b.logVerbosityLevel=0;else if(typeof c.logVerbosityLevel!="number"||!Number.isInteger(c.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${c.logVerbosityLevel}`);c?.terminate===void 0&&(b.terminate=!1);let S=0;return c?.tag!==void 0&&(S=ie(c.tag,y)),u=v._OrtCreateRunOptions(b.logSeverityLevel,b.logVerbosityLevel,!!b.terminate,S),u===0&&ne("Can\'t create run options."),c?.extra!==void 0&&Br(c.extra,"",new WeakSet,(p,T)=>{let D=ie(p,y),l=ie(T,y);v._OrtAddRunConfigEntry(u,D,l)!==0&&ne(`Can\'t set a run config entry: ${p} - ${T}.`)}),[u,y]}catch(S){throw u!==0&&v._OrtReleaseRunOptions(u),y.forEach(p=>v._free(p)),S}};var Kn=c=>{switch(c){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${c}`)}},Qn=c=>{switch(c){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${c}`)}},eo=c=>{c.extra||(c.extra={}),c.extra.session||(c.extra.session={});let v=c.extra.session;v.use_ort_model_bytes_directly||(v.use_ort_model_bytes_directly="1"),c.executionProviders&&c.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(c.enableMemPattern=!1)},ro=(c,v,u)=>{for(let y of v){let b=typeof y=="string"?y:y.name;switch(b){case"xnnpack":b="XNNPACK";break;case"webnn":if(b="WEBNN",typeof y!="string"){let p=y;if(p?.deviceType){let T=ie("deviceType",u),D=ie(p.deviceType,u);ae()._OrtAddSessionConfigEntry(c,T,D)!==0&&ne(`Can\'t set a session config entry: \'deviceType\' - ${p.deviceType}.`)}if(p?.numThreads){let T=p.numThreads;(typeof T!="number"||!Number.isInteger(T)||T<0)&&(T=0);let D=ie("numThreads",u),l=ie(T.toString(),u);ae()._OrtAddSessionConfigEntry(c,D,l)!==0&&ne(`Can\'t set a session config entry: \'numThreads\' - ${p.numThreads}.`)}if(p?.powerPreference){let T=ie("powerPreference",u),D=ie(p.powerPreference,u);ae()._OrtAddSessionConfigEntry(c,T,D)!==0&&ne(`Can\'t set a session config entry: \'powerPreference\' - ${p.powerPreference}.`)}}break;case"webgpu":if(b="JS",typeof y!="string"){let p=y;if(p?.preferredLayout){if(p.preferredLayout!=="NCHW"&&p.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${p.preferredLayout}`);let T=ie("preferredLayout",u),D=ie(p.preferredLayout,u);ae()._OrtAddSessionConfigEntry(c,T,D)!==0&&ne(`Can\'t set a session config entry: \'preferredLayout\' - ${p.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${b}`)}let S=ie(b,u);ae()._OrtAppendExecutionProvider(c,S)!==0&&ne(`Can\'t append execution provider: ${b}.`)}},gn=c=>{let v=ae(),u=0,y=[],b=c||{};eo(b);try{let S=Kn(b.graphOptimizationLevel??"all"),p=Qn(b.executionMode??"sequential"),T=typeof b.logId=="string"?ie(b.logId,y):0,D=b.logSeverityLevel??2;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log serverity level is not valid: ${D}`);let l=b.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let L=typeof b.optimizedModelFilePath=="string"?ie(b.optimizedModelFilePath,y):0;if(u=v._OrtCreateSessionOptions(S,!!b.enableCpuMemArena,!!b.enableMemPattern,p,!!b.enableProfiling,0,T,D,l,L),u===0&&ne("Can\'t create session options."),b.executionProviders&&ro(u,b.executionProviders,y),b.freeDimensionOverrides)for(let[Y,R]of Object.entries(b.freeDimensionOverrides)){if(typeof Y!="string")throw new Error(`free dimension override name must be a string: ${Y}`);if(typeof R!="number"||!Number.isInteger(R)||R<0)throw new Error(`free dimension override value must be a non-negative integer: ${R}`);let k=ie(Y,y);v._OrtAddFreeDimensionOverride(u,k,R)!==0&&ne(`Can\'t set a free dimension override: ${Y} - ${R}.`)}return b.extra!==void 0&&Br(b.extra,"",new WeakSet,(Y,R)=>{let k=ie(Y,y),G=ie(R,y);v._OrtAddSessionConfigEntry(u,k,G)!==0&&ne(`Can\'t set a session config entry: ${Y} - ${R}.`)}),[u,y]}catch(S){throw u!==0&&v._OrtReleaseSessionOptions(u),y.forEach(p=>v._free(p)),S}};var Tt=c=>{switch(c){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${c}`)}},hn=c=>{switch(c){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${c}`)}},At=c=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][c],vn=c=>{switch(c){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${c}`)}},yn=c=>{switch(c){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${c}`)}},bn=c=>c==="float32"||c==="int32"||c==="int64"||c==="bool"||c==="float16"||c==="uint32",wn=c=>{switch(c){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${c}`)}};var to=(c,v)=>{ae()._OrtInit(c,v)!==0&&ne("Can\'t initialize onnxruntime.")},_n=async c=>{to(c.wasm.numThreads,yn(c.logLevel))},Tn=async(c,v)=>{},Rr=new Map,no=c=>{let v=ae(),u=v.stackSave();try{let y=v.stackAlloc(8);return v._OrtGetInputOutputCount(c,y,y+4)!==0&&ne("Can\'t get session input/output count."),[v.HEAP32[y/4],v.HEAP32[y/4+1]]}finally{v.stackRestore(u)}},Et=c=>{let v=ae(),u=v._malloc(c.byteLength);if(u===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${c.byteLength}.`);return v.HEAPU8.set(c,u),[u,c.byteLength]},An=(c,v)=>{let u,y,b=ae();Array.isArray(c)?[u,y]=c:c.buffer===b.HEAPU8.buffer?[u,y]=[c.byteOffset,c.byteLength]:[u,y]=Et(c);let S=0,p=0,T=0,D=[],l=[],L=[];try{[p,D]=gn(v),S=b._OrtCreateSession(u,y,p),S===0&&ne("Can\'t create a session.");let[Y,R]=no(S),k=[],G=[],X=[];for(let H=0;H<Y;H++){let M=b._OrtGetInputName(S,H);M===0&&ne("Can\'t get an input name."),l.push(M),k.push(b.UTF8ToString(M))}for(let H=0;H<R;H++){let M=b._OrtGetOutputName(S,H);M===0&&ne("Can\'t get an output name."),L.push(M);let ue=b.UTF8ToString(M);G.push(ue)}let Z=null;return Rr.set(S,[S,l,L,Z]),[S,k,G]}catch(Y){throw l.forEach(R=>b._OrtFree(R)),L.forEach(R=>b._OrtFree(R)),T!==0&&b._OrtReleaseBinding(T),S!==0&&b._OrtReleaseSession(S),Y}finally{b._free(u),p!==0&&b._OrtReleaseSessionOptions(p),D.forEach(Y=>b._free(Y))}},En=c=>{let v=ae(),u=Rr.get(c);if(!u)throw new Error(`cannot release session. invalid session id: ${c}`);let[y,b,S,p]=u;p&&v._OrtReleaseBinding(p.handle),v.jsepUnregisterBuffers?.(c),b.forEach(T=>v._OrtFree(T)),S.forEach(T=>v._OrtFree(T)),v._OrtReleaseSession(y),Rr.delete(c)},On=(c,v,u,y,b)=>{if(!c){v.push(0);return}let S=ae(),p=c[0],T=c[1],D=c[3],l,L;if(p==="string"&&D==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(D==="gpu-buffer"){let k=c[2].gpuBuffer,G=At(Tt(p));L=T.reduce((X,Z)=>X*Z,1)*G,l=S.jsepRegisterBuffer(y,b,k,L)}else{let k=c[2];if(Array.isArray(k)){L=4*k.length,l=S._malloc(L),u.push(l);let G=l/4;for(let X=0;X<k.length;X++){if(typeof k[X]!="string")throw new TypeError(`tensor data at index ${X} is not a string`);S.HEAPU32[G++]=ie(k[X],u)}}else L=k.byteLength,l=S._malloc(L),u.push(l),S.HEAPU8.set(new Uint8Array(k.buffer,k.byteOffset,L),l)}let Y=S.stackSave(),R=S.stackAlloc(4*T.length);try{let k=R/4;T.forEach(X=>S.HEAP32[k++]=X);let G=S._OrtCreateTensor(Tt(p),l,L,R,T.length,wn(D));G===0&&ne(`Can\'t create tensor for input/output. session=${y}, index=${b}.`),v.push(G)}finally{S.stackRestore(Y)}},Sn=async(c,v,u,y,b,S)=>{let p=ae(),T=Rr.get(c);if(!T)throw new Error(`cannot run inference. invalid session id: ${c}`);let[D,l,L,Y]=T,R=v.length,k=y.length,G=0,X=[],Z=[],H=[],M=[],ue=p.stackSave(),Ae=p.stackAlloc(R*4),ee=p.stackAlloc(R*4),Oe=p.stackAlloc(k*4),Se=p.stackAlloc(k*4);try{[G,X]=mn(S);for(let j=0;j<R;j++)On(u[j],Z,M,c,v[j]);for(let j=0;j<k;j++)On(b[j],H,M,c,R+y[j]);let E=Ae/4,$=ee/4,Ge=Oe/4,Ve=Se/4;for(let j=0;j<R;j++)p.HEAPU32[E++]=Z[j],p.HEAPU32[$++]=l[v[j]];for(let j=0;j<k;j++)p.HEAPU32[Ge++]=H[j],p.HEAPU32[Ve++]=L[y[j]];let qe;qe=await p._OrtRun(D,ee,Ae,R,Se,k,Oe,G),qe!==0&&ne("failed to call OrtRun().");let se=[];for(let j=0;j<k;j++){let V=p.HEAPU32[Oe/4+j];if(V===H[j]){se.push(b[j]);continue}let xe=p.stackSave(),ve=p.stackAlloc(4*4),de=!1,q,le=0;try{p._OrtGetTensorData(V,ve,ve+4,ve+8,ve+12)!==0&&ne(`Can\'t access output tensor data on index ${j}.`);let Ie=ve/4,Me=p.HEAPU32[Ie++];le=p.HEAPU32[Ie++];let Ne=p.HEAPU32[Ie++],Xe=p.HEAPU32[Ie++],ye=[];for(let K=0;K<Xe;K++)ye.push(p.HEAPU32[Ne/4+K]);p._OrtFree(Ne);let Pe=ye.reduce((K,oe)=>K*oe,1);q=hn(Me);let Ze=Y?.outputPreferredLocations[y[j]];if(q==="string"){if(Ze==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],oe=le/4;for(let je=0;je<Pe;je++){let Be=p.HEAPU32[oe++],sr=je===Pe-1?void 0:p.HEAPU32[oe]-Be;K.push(p.UTF8ToString(Be,sr))}se.push([q,ye,K,"cpu"])}else if(Ze==="gpu-buffer"&&Pe>0){let K=p.jsepGetBuffer(le),oe=At(Me);if(oe===void 0||!bn(q))throw new Error(`Unsupported data type: ${q}`);de=!0,se.push([q,ye,{gpuBuffer:K,download:p.jsepCreateDownloader(K,Pe*oe,q),dispose:()=>{p._OrtReleaseTensor(V)}},"gpu-buffer"])}else{let K=vn(q),oe=new K(Pe);new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength).set(p.HEAPU8.subarray(le,le+oe.byteLength)),se.push([q,ye,oe,"cpu"])}}finally{p.stackRestore(xe),q==="string"&&le&&p._free(le),de||p._OrtReleaseTensor(V)}}return Y&&p._OrtClearBoundOutputs(Y.handle),se}finally{p.stackRestore(ue),Z.forEach(E=>p._OrtReleaseTensor(E)),H.forEach(E=>p._OrtReleaseTensor(E)),M.forEach(E=>p._free(E)),G!==0&&p._OrtReleaseRunOptions(G),X.forEach(E=>p._free(E))}},Cn=c=>{let v=ae(),u=Rr.get(c);if(!u)throw new Error("invalid session id");let y=u[0],b=v._OrtEndProfiling(y);b===0&&ne("Can\'t get an profile file name."),v._OrtFree(b)},Mn=c=>{let v=[];for(let u of c){let y=u[2];!Array.isArray(y)&&"buffer"in y&&v.push(y.buffer)}return v};self.onmessage=c=>{let{type:v,in:u}=c.data;try{switch(v){case"init-wasm":pn(u.wasm).then(()=>{_n(u).then(()=>{postMessage({type:v})},y=>{postMessage({type:v,err:y})})},y=>{postMessage({type:v,err:y})});break;case"init-ep":{let{epName:y,env:b}=u;Tn(b,y).then(()=>{postMessage({type:v})},S=>{postMessage({type:v,err:S})});break}case"copy-from":{let{buffer:y}=u,b=Et(y);postMessage({type:v,out:b});break}case"create":{let{model:y,options:b}=u,S=An(y,b);postMessage({type:v,out:S});break}case"release":En(u),postMessage({type:v});break;case"run":{let{sessionId:y,inputIndices:b,inputs:S,outputIndices:p,options:T}=u;Sn(y,b,S,p,new Array(p.length).fill(null),T).then(D=>{D.some(l=>l[3]!=="cpu")?postMessage({type:v,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:v,out:D},Mn(D))},D=>{postMessage({type:v,err:D})});break}case"end-profiling":Cn(u),postMessage({type:v});break;default:}}catch(y){postMessage({type:v,err:y})}};})();\n'});var vr,Ie,rt,Ut,It,fn,ln,Br,Rr,Wo,Ft,za,Ya,Ga,Va,qa,Xa,Ja,cn=X(()=>{"use strict";yr();Ha();xr();vr=()=>!!ne.wasm.proxy&&typeof document<"u",rt=!1,Ut=!1,It=!1,ln=new Map,Br=(o,i)=>{let s=ln.get(o);s?s.push(i):ln.set(o,[i])},Rr=()=>{if(rt||!Ut||It||!Ie)throw new Error("worker not ready")},Wo=o=>{switch(o.data.type){case"init-wasm":rt=!1,o.data.err?(It=!0,fn[1](o.data.err)):(Ut=!0,fn[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let i=ln.get(o.data.type);o.data.err?i.shift()[1](o.data.err):i.shift()[0](o.data.out);break}default:}},Ft=typeof document<"u"?document?.currentScript?.src:void 0,za=async()=>{if(!Ut){if(rt)throw new Error("multiple calls to 'initWasm()' detected.");if(It)throw new Error("previous call to 'initWasm()' failed.");if(rt=!0,vr())return ne.wasm.wasmPaths===void 0&&Ft&&Ft.indexOf("blob:")!==0&&(ne.wasm.wasmPaths=Ft.substr(0,+Ft.lastIndexOf("/")+1)),new Promise((o,i)=>{Ie?.terminate();let s=URL.createObjectURL(new Blob([ja()],{type:"text/javascript"}));Ie=new Worker(s,{name:"ort-wasm-proxy-worker"}),Ie.onerror=c=>i(c),Ie.onmessage=Wo,URL.revokeObjectURL(s),fn=[o,i];let m={type:"init-wasm",in:ne};Ie.postMessage(m)});try{await Ea(ne.wasm),await Ba(ne),Ut=!0}catch(o){throw It=!0,o}finally{rt=!1}}},Ya=async o=>{if(vr())return Rr(),new Promise((i,s)=>{Br("init-ep",[i,s]);let m={type:"init-ep",in:{epName:o,env:ne}};Ie.postMessage(m)});await Ra(ne,o)},Ga=async o=>vr()?(Rr(),new Promise((i,s)=>{Br("copy-from",[i,s]);let m={type:"copy-from",in:{buffer:o}};Ie.postMessage(m,[o.buffer])})):un(o),Va=async(o,i)=>{if(vr()){if(i?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Rr(),new Promise((s,m)=>{Br("create",[s,m]);let c={type:"create",in:{model:o,options:i}},w=[];o instanceof Uint8Array&&w.push(o.buffer),Ie.postMessage(c,w)})}else return Wa(o,i)},qa=async o=>{if(vr())return Rr(),new Promise((i,s)=>{Br("release",[i,s]);let m={type:"release",in:o};Ie.postMessage(m)});ka(o)},Xa=async(o,i,s,m,c,w)=>{if(vr()){if(s.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(c.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return Rr(),new Promise((d,y)=>{Br("run",[d,y]);let T=s,f={type:"run",in:{sessionId:o,inputIndices:i,inputs:T,outputIndices:m,options:w}};Ie.postMessage(f,Na(T))})}else return La(o,i,s,m,c,w)},Ja=async o=>{if(vr())return Rr(),new Promise((i,s)=>{Br("end-profiling",[i,s]);let m={type:"end-profiling",in:o};Ie.postMessage(m)});$a(o)}});var Za,ko,Dt,Ka=X(()=>{"use strict";yr();cn();sn();Za=(o,i)=>{switch(o.location){case"cpu":return[o.type,o.dims,o.data,"cpu"];case"gpu-buffer":return[o.type,o.dims,{gpuBuffer:o.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${o.location} for ${i()}`)}},ko=o=>{switch(o[3]){case"cpu":return new we(o[0],o[2],o[1]);case"gpu-buffer":{let i=o[0];if(!Pt(i))throw new Error(`not supported data type: ${i} for deserializing GPU tensor`);let{gpuBuffer:s,download:m,dispose:c}=o[2];return we.fromGpuBuffer(s,{dataType:i,dims:o[1],download:m,dispose:c})}default:throw new Error(`invalid data location: ${o[3]}`)}},Dt=class{async fetchModelAndCopyToWasmMemory(i){let s=await fetch(i);if(s.status!==200)throw new Error(`failed to load model: ${i}`);let m=await s.arrayBuffer();return Ga(new Uint8Array(m))}async loadModel(i,s){hr();let m;typeof i=="string"?typeof process<"u"&&process.versions&&process.versions.node?m=await(void 0)(i):m=await this.fetchModelAndCopyToWasmMemory(i):m=i,[this.sessionId,this.inputNames,this.outputNames]=await Va(m,s),gr()}async dispose(){return qa(this.sessionId)}async run(i,s,m){hr();let c=[],w=[];Object.entries(i).forEach(E=>{let F=E[0],N=E[1],k=this.inputNames.indexOf(F);if(k===-1)throw new Error(`invalid input '${F}'`);c.push(N),w.push(k)});let d=[],y=[];Object.entries(s).forEach(E=>{let F=E[0],N=E[1],k=this.outputNames.indexOf(F);if(k===-1)throw new Error(`invalid output '${F}'`);d.push(N),y.push(k)});let T=c.map((E,F)=>Za(E,()=>`input "${this.inputNames[w[F]]}"`)),f=d.map((E,F)=>E?Za(E,()=>`output "${this.outputNames[y[F]]}"`):null),_=await Xa(this.sessionId,w,T,y,f,m),S={};for(let E=0;E<_.length;E++)S[this.outputNames[y[E]]]=d[E]??ko(_[E]);return gr(),S}startProfiling(){}endProfiling(){Ja(this.sessionId)}}});var Lo,xt,Qa=X(()=>{"use strict";yr();cn();Ka();Lo=()=>{if((typeof ne.wasm.initTimeout!="number"||ne.wasm.initTimeout<0)&&(ne.wasm.initTimeout=0),typeof ne.wasm.simd!="boolean"&&(ne.wasm.simd=!0),typeof ne.wasm.proxy!="boolean"&&(ne.wasm.proxy=!1),typeof ne.wasm.trace!="boolean"&&(ne.wasm.trace=!1),typeof ne.wasm.numThreads!="number"||!Number.isInteger(ne.wasm.numThreads)||ne.wasm.numThreads<=0){let o=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ne.wasm.numThreads=Math.min(4,Math.ceil((o||1)/2))}},xt=class{async init(i){Lo(),await za(),await Ya(i)}async createInferenceSessionHandler(i,s){let m=new Dt;return await m.loadModel(i,s),Promise.resolve(m)}}});var eo={};Zr(eo,{wasmBackend:()=>$o});var $o,ro=X(()=>{"use strict";Qa();$o=new xt});yr();yr();yr();var ca="1.17.0";var _s=Xt;{let o=(ro(),Dr(eo)).wasmBackend;pr("cpu",o,10),pr("wasm",o,10),pr("xnnpack",o,9),pr("webnn",o,9)}Object.defineProperty(ne.versions,"web",{value:ca,enumerable:!0});export{vo as InferenceSession,aa as TRACE,hr as TRACE_FUNC_BEGIN,gr as TRACE_FUNC_END,we as Tensor,wo as TrainingSession,_s as default,ne as env,pr as registerBackend};
//# sourceMappingURL=ort.wasm.min.js.map
