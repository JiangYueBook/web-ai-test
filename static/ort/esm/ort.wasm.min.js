/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var Vt=Object.defineProperty;var go=Object.getOwnPropertyDescriptor;var yo=Object.getOwnPropertyNames;var wo=Object.prototype.hasOwnProperty;var X=(o,i)=>()=>(o&&(i=o(o=0)),i);var Fr=(o,i)=>()=>(i||o((i={exports:{}}).exports,i),i.exports),Qr=(o,i)=>{for(var s in i)Vt(o,s,{get:i[s],enumerable:!0})},bo=(o,i,s,m)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of yo(i))!wo.call(o,c)&&c!==s&&Vt(o,c,{get:()=>i[c],enumerable:!(m=go(i,c))||m.enumerable});return o};var Ir=o=>bo(Vt({},"__esModule",{value:!0}),o);var Ot,dr,pr,Tt,At=X(()=>{"use strict";Ot=new Map,dr=[],pr=(o,i,s)=>{if(i&&typeof i.init=="function"&&typeof i.createInferenceSessionHandler=="function"){let m=Ot.get(o);if(m===void 0)Ot.set(o,{backend:i,priority:s});else{if(m.priority>s)return;if(m.priority===s&&m.backend!==i)throw new Error(`cannot register backend "${o}" using priority ${s}`)}if(s>=0){let c=dr.indexOf(o);c!==-1&&dr.splice(c,1);for(let y=0;y<dr.length;y++)if(Ot.get(dr[y]).priority<=s){dr.splice(y,0,o);return}dr.push(o)}return}throw new TypeError("not a valid backend")},Tt=async o=>{let i=o.length===0?dr:o,s=[];for(let m of i){let c=Ot.get(m);if(c){if(c.initialized)return c.backend;if(c.aborted)continue;let y=!!c.initPromise;try{return y||(c.initPromise=c.backend.init(m)),await c.initPromise,c.initialized=!0,c.backend}catch(d){y||s.push({name:m,err:d}),c.aborted=!0}finally{delete c.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(m=>`[${m.name}] ${m.err}`).join(", ")}`)}});var zn=X(()=>{"use strict";At()});var Gn,Yn=X(()=>{"use strict";Gn="1.17.0"});var Vn,mr,qt=X(()=>{"use strict";Yn();Vn="warning",mr={wasm:{},webgl:{},webgpu:{},versions:{common:Gn},set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);Vn=o}},get logLevel(){return Vn}};Object.defineProperty(mr,"logLevel",{enumerable:!0})});var re,qn=X(()=>{"use strict";qt();re=mr});var Xn,Jn,Zn=X(()=>{"use strict";Xn=(o,i)=>{let s=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);s.width=o.dims[3],s.height=o.dims[2];let m=s.getContext("2d");if(m!=null){let c,y;i?.tensorLayout!==void 0&&i.tensorLayout==="NHWC"?(c=o.dims[2],y=o.dims[3]):(c=o.dims[3],y=o.dims[2]);let d=i?.format!==void 0?i.format:"RGB",g=i?.norm,T,f;g===void 0||g.mean===void 0?T=[255,255,255,255]:typeof g.mean=="number"?T=[g.mean,g.mean,g.mean,g.mean]:(T=[g.mean[0],g.mean[1],g.mean[2],0],g.mean[3]!==void 0&&(T[3]=g.mean[3])),g===void 0||g.bias===void 0?f=[0,0,0,0]:typeof g.bias=="number"?f=[g.bias,g.bias,g.bias,g.bias]:(f=[g.bias[0],g.bias[1],g.bias[2],0],g.bias[3]!==void 0&&(f[3]=g.bias[3]));let _=y*c,S=0,A=_,M=_*2,L=-1;d==="RGBA"?(S=0,A=_,M=_*2,L=_*3):d==="RGB"?(S=0,A=_,M=_*2):d==="RBG"&&(S=0,M=_,A=_*2);for(let N=0;N<y;N++)for(let q=0;q<c;q++){let I=(o.data[S++]-f[0])*T[0],P=(o.data[A++]-f[1])*T[1],G=(o.data[M++]-f[2])*T[2],te=L===-1?255:(o.data[L++]-f[3])*T[3];m.fillStyle="rgba("+I+","+P+","+G+","+te+")",m.fillRect(q,N,1,1)}if("toDataURL"in s)return s.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},Jn=(o,i)=>{let s=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),m;if(s!=null){let c,y,d;i?.tensorLayout!==void 0&&i.tensorLayout==="NHWC"?(c=o.dims[2],y=o.dims[1],d=o.dims[3]):(c=o.dims[3],y=o.dims[2],d=o.dims[1]);let g=i!==void 0&&i.format!==void 0?i.format:"RGB",T=i?.norm,f,_;T===void 0||T.mean===void 0?f=[255,255,255,255]:typeof T.mean=="number"?f=[T.mean,T.mean,T.mean,T.mean]:(f=[T.mean[0],T.mean[1],T.mean[2],255],T.mean[3]!==void 0&&(f[3]=T.mean[3])),T===void 0||T.bias===void 0?_=[0,0,0,0]:typeof T.bias=="number"?_=[T.bias,T.bias,T.bias,T.bias]:(_=[T.bias[0],T.bias[1],T.bias[2],0],T.bias[3]!==void 0&&(_[3]=T.bias[3]));let S=y*c;if(i!==void 0&&(i.format!==void 0&&d===4&&i.format!=="RGBA"||d===3&&i.format!=="RGB"&&i.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let A=4,M=0,L=1,N=2,q=3,I=0,P=S,G=S*2,te=-1;g==="RGBA"?(I=0,P=S,G=S*2,te=S*3):g==="RGB"?(I=0,P=S,G=S*2):g==="RBG"&&(I=0,G=S,P=S*2),m=s.createImageData(c,y);for(let J=0;J<y*c;M+=A,L+=A,N+=A,q+=A,J++)m.data[M]=(o.data[I++]-_[0])*f[0],m.data[L]=(o.data[P++]-_[1])*f[1],m.data[N]=(o.data[G++]-_[2])*f[2],m.data[q]=te===-1?255:(o.data[te++]-_[3])*f[3]}else throw new Error("Can not access image data");return m}});var Xt,Kn,Qn,ea,ra,ta=X(()=>{"use strict";_t();Xt=(o,i)=>{if(o===void 0)throw new Error("Image buffer must be defined");if(i.height===void 0||i.width===void 0)throw new Error("Image height and width must be defined");if(i.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:s,width:m}=i,c=i.norm??{mean:255,bias:0},y,d;typeof c.mean=="number"?y=[c.mean,c.mean,c.mean,c.mean]:y=[c.mean[0],c.mean[1],c.mean[2],c.mean[3]??255],typeof c.bias=="number"?d=[c.bias,c.bias,c.bias,c.bias]:d=[c.bias[0],c.bias[1],c.bias[2],c.bias[3]??0];let g=i.format!==void 0?i.format:"RGBA",T=i.tensorFormat!==void 0&&i.tensorFormat!==void 0?i.tensorFormat:"RGB",f=s*m,_=T==="RGBA"?new Float32Array(f*4):new Float32Array(f*3),S=4,A=0,M=1,L=2,N=3,q=0,I=f,P=f*2,G=-1;g==="RGB"&&(S=3,A=0,M=1,L=2,N=-1),T==="RGBA"?G=f*3:T==="RBG"?(q=0,P=f,I=f*2):T==="BGR"&&(P=0,I=f,q=f*2);for(let J=0;J<f;J++,A+=S,L+=S,M+=S,N+=S)_[q++]=(o[A]+d[0])/y[0],_[I++]=(o[M]+d[1])/y[1],_[P++]=(o[L]+d[2])/y[2],G!==-1&&N!==-1&&(_[G++]=(o[N]+d[3])/y[3]);return T==="RGBA"?new Ae("float32",_,[1,4,s,m]):new Ae("float32",_,[1,3,s,m])},Kn=async(o,i)=>{let s=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,m=typeof ImageData<"u"&&o instanceof ImageData,c=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,y=typeof o=="string",d,g=i??{},T=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},f=_=>_ instanceof HTMLCanvasElement||_ instanceof OffscreenCanvas?_.getContext("2d"):null;if(s){let _=T();_.width=o.width,_.height=o.height;let S=f(_);if(S!=null){let A=o.height,M=o.width;if(i!==void 0&&i.resizedHeight!==void 0&&i.resizedWidth!==void 0&&(A=i.resizedHeight,M=i.resizedWidth),i!==void 0){if(g=i,i.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");g.tensorFormat="RGBA",g.height=A,g.width=M}else g.tensorFormat="RGBA",g.height=A,g.width=M;S.drawImage(o,0,0),d=S.getImageData(0,0,M,A).data}else throw new Error("Can not access image data")}else if(m){let _,S;if(i!==void 0&&i.resizedWidth!==void 0&&i.resizedHeight!==void 0?(_=i.resizedHeight,S=i.resizedWidth):(_=o.height,S=o.width),i!==void 0&&(g=i),g.format="RGBA",g.height=_,g.width=S,i!==void 0){let A=T();A.width=S,A.height=_;let M=f(A);if(M!=null)M.putImageData(o,0,0),d=M.getImageData(0,0,S,_).data;else throw new Error("Can not access image data")}else d=o.data}else if(c){if(i===void 0)throw new Error("Please provide image config with format for Imagebitmap");let _=T();_.width=o.width,_.height=o.height;let S=f(_);if(S!=null){let A=o.height,M=o.width;return S.drawImage(o,0,0,M,A),d=S.getImageData(0,0,M,A).data,g.height=A,g.width=M,Xt(d,g)}else throw new Error("Can not access image data")}else{if(y)return new Promise((_,S)=>{let A=T(),M=f(A);if(!o||!M)return S();let L=new Image;L.crossOrigin="Anonymous",L.src=o,L.onload=()=>{A.width=L.width,A.height=L.height,M.drawImage(L,0,0,A.width,A.height);let N=M.getImageData(0,0,A.width,A.height);g.height=A.height,g.width=A.width,_(Xt(N.data,g))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return Xt(d,g);throw new Error("Input data provided is not supported - aborted tensor creation")},Qn=(o,i)=>{let{width:s,height:m,download:c,dispose:y}=i,d=[1,m,s,4];return new Ae({location:"texture",type:"float32",texture:o,dims:d,download:c,dispose:y})},ea=(o,i)=>{let{dataType:s,dims:m,download:c,dispose:y}=i;return new Ae({location:"gpu-buffer",type:s??"float32",gpuBuffer:o,dims:m,download:c,dispose:y})},ra=(o,i,s)=>new Ae({location:"cpu-pinned",type:o,data:i,dims:s??[i.length]})});var et,Et,na,aa,oa=X(()=>{"use strict";et=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Et=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),na=!1,aa=()=>{if(!na){na=!0;let o=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",i=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";o&&(et.set("int64",BigInt64Array),Et.set(BigInt64Array,"int64")),i&&(et.set("uint64",BigUint64Array),Et.set(BigUint64Array,"uint64"))}}});var ia,sa,ua=X(()=>{"use strict";_t();ia=o=>{let i=1;for(let s=0;s<o.length;s++){let m=o[s];if(typeof m!="number"||!Number.isSafeInteger(m))throw new TypeError(`dims[${s}] must be an integer, got: ${m}`);if(m<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${m}`);i*=m}return i},sa=(o,i)=>{switch(o.location){case"cpu":return new Ae(o.type,o.data,i);case"cpu-pinned":return new Ae({location:"cpu-pinned",data:o.data,type:o.type,dims:i});case"texture":return new Ae({location:"texture",texture:o.texture,type:o.type,dims:i});case"gpu-buffer":return new Ae({location:"gpu-buffer",gpuBuffer:o.gpuBuffer,type:o.type,dims:i});default:throw new Error(`tensorReshape: tensor location ${o.location} is not supported`)}}});var Ae,_t=X(()=>{"use strict";Zn();ta();oa();ua();Ae=class{constructor(i,s,m){aa();let c,y;if(typeof i=="object"&&"location"in i)switch(this.dataLocation=i.location,c=i.type,y=i.dims,i.location){case"cpu-pinned":{let g=et.get(c);if(!g)throw new TypeError(`unsupported type "${c}" to create tensor from pinned buffer`);if(!(i.data instanceof g))throw new TypeError(`buffer should be of type ${g.name}`);this.cpuData=i.data;break}case"texture":{if(c!=="float32")throw new TypeError(`unsupported type "${c}" to create tensor from texture`);this.gpuTextureData=i.texture,this.downloader=i.download,this.disposer=i.dispose;break}case"gpu-buffer":{if(c!=="float32"&&c!=="float16"&&c!=="int32"&&c!=="int64"&&c!=="uint32"&&c!=="bool")throw new TypeError(`unsupported type "${c}" to create tensor from gpu buffer`);this.gpuBufferData=i.gpuBuffer,this.downloader=i.download,this.disposer=i.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let g,T;if(typeof i=="string")if(c=i,T=m,i==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");g=s}else{let f=et.get(i);if(f===void 0)throw new TypeError(`Unsupported tensor type: ${i}.`);if(Array.isArray(s)){if(i==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");i==="uint64"||i==="int64"?g=f.from(s,BigInt):g=f.from(s)}else if(s instanceof f)g=s;else throw new TypeError(`A ${c} tensor's data must be type of ${f}`)}else if(T=s,Array.isArray(i)){if(i.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let f=typeof i[0];if(f==="string")c="string",g=i;else if(f==="boolean")c="bool",g=Uint8Array.from(i);else throw new TypeError(`Invalid element type of data array: ${f}.`)}else{let f=Et.get(i.constructor);if(f===void 0)throw new TypeError(`Unsupported type for tensor data: ${i.constructor}.`);c=f,g=i}if(T===void 0)T=[g.length];else if(!Array.isArray(T))throw new TypeError("A tensor's dims must be a number array");y=T,this.cpuData=g,this.dataLocation="cpu"}let d=ia(y);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=c,this.dims=y,this.size=d}static async fromImage(i,s){return Kn(i,s)}static fromTexture(i,s){return Qn(i,s)}static fromGpuBuffer(i,s){return ea(i,s)}static fromPinnedBuffer(i,s,m){return ra(i,s,m)}toDataURL(i){return Xn(this,i)}toImageData(i){return Jn(this,i)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(i){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let s=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=s,i&&this.disposer&&(this.disposer(),this.disposer=void 0),s}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(i){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return sa(this,i)}}});var ve,St=X(()=>{"use strict";_t();ve=Ae});var fa,la,hr,gr,Jt=X(()=>{"use strict";qt();fa=(o,i)=>{mr.wasm.trace&&console.timeStamp(`${o}::ORT::${i}`)},la=(o,i)=>{let s=new Error().stack?.split(/\r\n|\r|\n/g)||[],m=!1;for(let c=0;c<s.length;c++){if(m&&!s[c].includes("TRACE_FUNC")){let y=`FUNC_${o}::${s[c].trim().split(" ")[1]}`;i&&(y+=`::${i}`),fa("CPU",y);return}s[c].includes("TRACE_FUNC")&&(m=!0)}},hr=o=>{mr.wasm.trace&&la("BEGIN",o)},gr=o=>{mr.wasm.trace&&la("END",o)}});var Ct,ca=X(()=>{"use strict";At();St();Jt();Ct=class o{constructor(i){this.handler=i}async run(i,s,m){hr();let c={},y={};if(typeof i!="object"||i===null||i instanceof ve||Array.isArray(i))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof ve)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let f of s){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);c[f]=null}if(typeof m=="object"&&m!==null)y=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,_=Object.getOwnPropertyNames(s);for(let S of this.outputNames)if(_.indexOf(S)!==-1){let A=s[S];(A===null||A instanceof ve)&&(f=!0,d=!1,c[S]=A)}if(f){if(typeof m=="object"&&m!==null)y=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else y=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of this.inputNames)if(typeof i[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(d)for(let f of this.outputNames)c[f]=null;let g=await this.handler.run(i,c,y),T={};for(let f in g)if(Object.hasOwnProperty.call(g,f)){let _=g[f];_ instanceof ve?T[f]=_:T[f]=new ve(_.type,_.data,_.dims)}return gr(),T}async release(){return this.handler.dispose()}static async create(i,s,m,c){hr();let y,d={};if(typeof i=="string"){if(y=i,typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof Uint8Array){if(y=i,typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer){let S=i,A=0,M=i.byteLength;if(typeof s=="object"&&s!==null)d=s;else if(typeof s=="number"){if(A=s,!Number.isSafeInteger(A))throw new RangeError("'byteOffset' must be an integer.");if(A<0||A>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(M=i.byteLength-A,typeof m=="number"){if(M=m,!Number.isSafeInteger(M))throw new RangeError("'byteLength' must be an integer.");if(M<=0||A+M>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-A}].`);if(typeof c=="object"&&c!==null)d=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else if(typeof m<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");y=new Uint8Array(S,A,M)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let T=(d.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),_=await(await Tt(T)).createInferenceSessionHandler(y,d);return gr(),new o(_)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var vo,da=X(()=>{"use strict";ca();vo=Ct});var pa=X(()=>{"use strict"});var Oo,Mt,ma=X(()=>{"use strict";At();St();Oo="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Mt=class o{constructor(i,s,m){this.handler=i,this.hasOptimizerModel=s,this.hasEvalModel=m}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(i,s){let m=i.evalModel||"",c=i.optimizerModel||"",y=s||{},g=(y.executionProviders||[]).map(f=>typeof f=="string"?f:f.name),T=await Tt(g);if(T.createTrainingSessionHandler){let f=await T.createTrainingSessionHandler(i.checkpointState,i.trainModel,m,c,y);return new o(f,!!i.optimizerModel,!!i.evalModel)}else throw new Error(Oo)}typeNarrowingForRunStep(i,s,m,c,y){let d={},g={};if(typeof m!="object"||m===null||m instanceof ve||Array.isArray(m))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let T=!0;if(typeof c=="object"){if(c===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(c instanceof ve)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(c)){if(c.length===0)throw new TypeError("'fetches' cannot be an empty array.");T=!1;for(let f of c){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(s.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);d[f]=null}if(typeof y=="object"&&y!==null)g=y;else if(typeof y<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,_=Object.getOwnPropertyNames(c);for(let S of s)if(_.indexOf(S)!==-1){let A=c[S];(A===null||A instanceof ve)&&(f=!0,T=!1,d[S]=A)}if(f){if(typeof y=="object"&&y!==null)g=y;else if(typeof y<"u")throw new TypeError("'options' must be an object.")}else g=c}}else if(typeof c<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of i)if(typeof m[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(T)for(let f of s)d[f]=null;return[d,g]}convertHandlerReturnTypeToMapOfTensors(i){let s={};for(let m in i)if(Object.hasOwnProperty.call(i,m)){let c=i[m];c instanceof ve?s[m]=c:s[m]=new ve(c.type,c.data,c.dims)}return s}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(i,s,m){let[c,y]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,i,s,m),d=await this.handler.runTrainStep(i,c,y);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(i){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(i||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(i,s,m){if(this.hasEvalModel){let[c,y]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,i,s,m),d=await this.handler.runEvalStep(i,c,y);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(i=!0){return this.handler.getParametersSize(i)}async loadParametersBuffer(i,s=!0){let m=await this.getParametersSize(s);if(i.length!==4*m)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(i,s)}async getContiguousParameters(i=!0){return this.handler.getContiguousParameters(i)}async release(){return this.handler.dispose()}}});var To,ha=X(()=>{"use strict";ma();To=Mt});var Zt={};Qr(Zt,{InferenceSession:()=>vo,TRACE:()=>fa,TRACE_FUNC_BEGIN:()=>hr,TRACE_FUNC_END:()=>gr,Tensor:()=>ve,TrainingSession:()=>To,env:()=>re,registerBackend:()=>pr});var yr=X(()=>{"use strict";zn();qn();da();St();Jt();pa();ha()});var Kt={};Qr(Kt,{createReadStream:()=>ya,readFile:()=>Ao,readFileSync:()=>_o});var Ao,_o,ya,Qt=X(()=>{Ao=void 0,_o=void 0,ya=void 0});var en={};Qr(en,{join:()=>Eo});var Eo,rn=X(()=>{Eo=void 0});var nn=Fr((ba,tn)=>{"use strict";var wa=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(i={}){var s=i,m,c;s.ready=new Promise((r,n)=>{m=r,c=n});var y=Object.assign({},s),d="./this.program",g=typeof window=="object",T=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="",S,A,M;if(f){var L=(Qt(),Ir(Kt)),N=(rn(),Ir(en));_=T?N.dirname(_)+"/":__dirname+"/",S=(r,n)=>(r=je(r)?new URL(r):N.normalize(r),L.readFileSync(r,n?void 0:"utf8")),M=r=>(r=S(r,!0),r.buffer||(r=new Uint8Array(r)),r),A=(r,n,u,p=!0)=>{r=je(r)?new URL(r):N.normalize(r),L.readFile(r,p?void 0:"utf8",(w,E)=>{w?u(w):n(p?E.buffer:E)})},!s.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),s.inspect=()=>"[Emscripten Module object]"}else(g||T)&&(T?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),o&&(_=o),_.indexOf("blob:")!==0?_=_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):_="",S=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},T&&(M=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),A=(r,n,u)=>{var p=new XMLHttpRequest;p.open("GET",r,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?n(p.response):u()},p.onerror=u,p.send(null)});var q=console.log.bind(console),I=console.error.bind(console);Object.assign(s,y),y=null,typeof WebAssembly!="object"&&or("no native wasm support detected");var P,G=!1,te,J,_e,Fe,U,Y,nr,Ze,ar,ne;function B(){var r=P.buffer;s.HEAP8=te=new Int8Array(r),s.HEAP16=_e=new Int16Array(r),s.HEAPU8=J=new Uint8Array(r),s.HEAPU16=Fe=new Uint16Array(r),s.HEAP32=U=new Int32Array(r),s.HEAPU32=Y=new Uint32Array(r),s.HEAPF32=nr=new Float32Array(r),s.HEAPF64=ne=new Float64Array(r),s.HEAP64=Ze=new BigInt64Array(r),s.HEAPU64=ar=new BigUint64Array(r)}var Ie=[],ke=[],ye=[],se=0,le=null,pe=null;function or(r){throw r="Aborted("+r+")",I(r),G=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),c(r),r}var He=r=>r.startsWith("data:application/octet-stream;base64,"),je=r=>r.startsWith("file://"),We;if(We="ort-wasm.wasm",!He(We)){var Se=We;We=s.locateFile?s.locateFile(Se,_):_+Se}function Le(r){if(M)return M(r);throw"both async and sync fetching of the wasm failed"}function ze(r){if(g||T){if(typeof fetch=="function"&&!je(r))return fetch(r,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+r+"'";return n.arrayBuffer()}).catch(()=>Le(r));if(A)return new Promise((n,u)=>{A(r,p=>n(new Uint8Array(p)),u)})}return Promise.resolve().then(()=>Le(r))}function we(r,n,u){return ze(r).then(p=>WebAssembly.instantiate(p,n)).then(p=>p).then(u,p=>{I(`failed to asynchronously prepare wasm: ${p}`),or(p)})}function me(r,n){var u=We;return typeof WebAssembly.instantiateStreaming!="function"||He(u)||je(u)||f||typeof fetch!="function"?we(u,r,n):fetch(u,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,r).then(n,function(w){return I(`wasm streaming compile failed: ${w}`),I("falling back to ArrayBuffer instantiation"),we(u,r,n)}))}var ce={1374888:(r,n,u,p)=>{if(typeof s>"u"||!s.cb)return 1;if(r=Qe(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=s.cb.get(r),!r)return 2;if(n>>>=0,u>>>=0,n+u>r.byteLength)return 3;try{return J.set(r.subarray(n,n+u),p>>>0>>>0),0}catch{return 4}}};function Ve(r){this.Ua=r-24,this.fb=function(n){Y[this.Ua+4>>>2>>>0]=n},this.eb=function(n){Y[this.Ua+8>>>2>>>0]=n},this.Ya=function(n,u){this.Za(),this.fb(n),this.eb(u)},this.Za=function(){Y[this.Ua+16>>>2>>>0]=0}}var ir=0,Ge=0,br=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ke=(r,n,u)=>{n>>>=0;var p=n+u;for(u=n;r[u]&&!(u>=p);)++u;if(16<u-n&&r.buffer&&br)return br.decode(r.subarray(n,u));for(p="";n<u;){var w=r[n++];if(w&128){var E=r[n++]&63;if((w&224)==192)p+=String.fromCharCode((w&31)<<6|E);else{var F=r[n++]&63;w=(w&240)==224?(w&15)<<12|E<<6|F:(w&7)<<18|E<<12|F<<6|r[n++]&63,65536>w?p+=String.fromCharCode(w):(w-=65536,p+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else p+=String.fromCharCode(w)}return p},Qe=(r,n)=>(r>>>=0)?Ke(J,r,n):"",er=r=>{for(var n=0,u=0;u<r.length;++u){var p=r.charCodeAt(u);127>=p?n++:2047>=p?n+=2:55296<=p&&57343>=p?(n+=4,++u):n+=3}return n},sr=(r,n,u,p)=>{if(u>>>=0,!(0<p))return 0;var w=u;p=u+p-1;for(var E=0;E<r.length;++E){var F=r.charCodeAt(E);if(55296<=F&&57343>=F){var R=r.charCodeAt(++E);F=65536+((F&1023)<<10)|R&1023}if(127>=F){if(u>=p)break;n[u++>>>0]=F}else{if(2047>=F){if(u+1>=p)break;n[u++>>>0]=192|F>>6}else{if(65535>=F){if(u+2>=p)break;n[u++>>>0]=224|F>>12}else{if(u+3>=p)break;n[u++>>>0]=240|F>>18,n[u++>>>0]=128|F>>12&63}n[u++>>>0]=128|F>>6&63}n[u++>>>0]=128|F&63}}return n[u>>>0]=0,u-w},ur=r=>{if(r===null)return"null";var n=typeof r;return n==="object"||n==="array"||n==="function"?r.toString():""+r},rr,Ee=r=>{for(var n="";J[r>>>0];)n+=rr[J[r++>>>0]];return n},kr={},vr={},kt={},$e;function Or(r,n,u={}){var p=n.name;if(!r)throw new $e(`type "${p}" must have a positive integer typeid pointer`);if(vr.hasOwnProperty(r)){if(u.gb)return;throw new $e(`Cannot register type '${p}' twice`)}vr[r]=n,delete kt[r],kr.hasOwnProperty(r)&&(n=kr[r],delete kr[r],n.forEach(w=>w()))}function Ce(r,n,u={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");Or(r,n,u)}var Wr=(r,n,u)=>{switch(n){case 1:return u?p=>te[p>>>0>>>0]:p=>J[p>>>0>>>0];case 2:return u?p=>_e[p>>>1>>>0]:p=>Fe[p>>>1>>>0];case 4:return u?p=>U[p>>>2>>>0]:p=>Y[p>>>2>>>0];case 8:return u?p=>Ze[p>>>3]:p=>ar[p>>>3];default:throw new TypeError(`invalid integer width (${n}): ${r}`)}};function tr(){this.Ra=[void 0],this.ab=[]}var Oe=new tr;function Tr(r){r>>>=0,r>=Oe.Ua&&--Oe.get(r).bb===0&&Oe.Za(r)}var de=r=>{if(!r)throw new $e("Cannot use deleted val. handle = "+r);return Oe.get(r).value},Re=r=>{switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Oe.Ya({bb:1,value:r})}};function K(r){return this.fromWireType(U[r>>>2>>>0])}var ot=(r,n)=>{switch(n){case 4:return function(u){return this.fromWireType(nr[u>>>2>>>0])};case 8:return function(u){return this.fromWireType(ne[u>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${r}`)}};function Lr(r){return this.fromWireType(Y[r>>>2>>>0])}var it=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,st=(r,n)=>{for(var u=r>>1,p=u+n/2;!(u>=p)&&Fe[u>>>0];)++u;if(u<<=1,32<u-r&&it)return it.decode(J.subarray(r>>>0,u>>>0));for(u="",p=0;!(p>=n/2);++p){var w=_e[r+2*p>>>1>>>0];if(w==0)break;u+=String.fromCharCode(w)}return u},Wt=(r,n,u)=>{if(u??=2147483647,2>u)return 0;u-=2;var p=n;u=u<2*r.length?u/2:r.length;for(var w=0;w<u;++w)_e[n>>>1>>>0]=r.charCodeAt(w),n+=2;return _e[n>>>1>>>0]=0,n-p},$=r=>2*r.length,Ar=(r,n)=>{for(var u=0,p="";!(u>=n/4);){var w=U[r+4*u>>>2>>>0];if(w==0)break;++u,65536<=w?(w-=65536,p+=String.fromCharCode(55296|w>>10,56320|w&1023)):p+=String.fromCharCode(w)}return p},ut=(r,n,u)=>{if(n>>>=0,u??=2147483647,4>u)return 0;var p=n;u=p+u-4;for(var w=0;w<r.length;++w){var E=r.charCodeAt(w);if(55296<=E&&57343>=E){var F=r.charCodeAt(++w);E=65536+((E&1023)<<10)|F&1023}if(U[n>>>2>>>0]=E,n+=4,n+4>u)break}return U[n>>>2>>>0]=0,n-p},_r=r=>{for(var n=0,u=0;u<r.length;++u){var p=r.charCodeAt(u);55296<=p&&57343>=p&&++u,n+=4}return n},Er=(r,n)=>{var u=vr[r];if(u===void 0)throw r=xe(r),u=Ee(r),Ne(r),new $e(n+" has unknown type "+u);return u},ft=(r,n,u)=>{var p=[];return r=r.toWireType(p,u),p.length&&(Y[n>>>2>>>0]=Re(p)),r},fr=[],Lt={},Sr=r=>{var n=Lt[r];return n===void 0?Ee(r):n},$r=()=>typeof globalThis=="object"?globalThis:Function("return this")(),lt=r=>{var n=fr.length;return fr.push(r),n},ct=(r,n)=>{for(var u=Array(r),p=0;p<r;++p)u[p]=Er(Y[n+4*p>>>2>>>0],"parameter "+p);return u},lr=(r,n)=>Object.defineProperty(n,"name",{value:r});function dt(r){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var u=lr(n.name||"unknownFunctionName",function(){});return u.prototype=n.prototype,u=new u,r=n.apply(u,r),r instanceof Object?r:u}var Ye=r=>r%4===0&&(r%100!==0||r%400===0),Nr=[0,31,60,91,121,152,182,213,244,274,305,335],Hr=[0,31,59,90,120,151,181,212,243,273,304,334],jr=r=>{var n=er(r)+1,u=Me(n);return u&&sr(r,J,u,n),u},Cr=[],Mr={},zr=()=>{if(!Pr){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in Mr)Mr[n]===void 0?delete r[n]:r[n]=Mr[n];var u=[];for(n in r)u.push(`${n}=${r[n]}`);Pr=u}return Pr},Pr,pt=[null,[],[]],Gr=[31,29,31,30,31,30,31,31,30,31,30,31],Yr=[31,28,31,30,31,30,31,31,30,31,30,31];function mt(r){var n=Array(er(r)+1);return sr(r,n,0,n.length),n}function Vr(r,n,u,p){function w(v,V,Q){for(v=typeof v=="number"?v.toString():v||"";v.length<V;)v=Q[0]+v;return v}function E(v,V){return w(v,V,"0")}function F(v,V){function Q(Ur){return 0>Ur?-1:0<Ur?1:0}var qe;return(qe=Q(v.getFullYear()-V.getFullYear()))===0&&(qe=Q(v.getMonth()-V.getMonth()))===0&&(qe=Q(v.getDate()-V.getDate())),qe}function R(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function j(v){var V=v.Sa;for(v=new Date(new Date(v.Ta+1900,0,1).getTime());0<V;){var Q=v.getMonth(),qe=(Ye(v.getFullYear())?Gr:Yr)[Q];if(V>qe-v.getDate())V-=qe-v.getDate()+1,v.setDate(1),11>Q?v.setMonth(Q+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+V);break}}return Q=new Date(v.getFullYear()+1,0,4),V=R(new Date(v.getFullYear(),0,4)),Q=R(Q),0>=F(V,v)?0>=F(Q,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}r>>>=0,n>>>=0,u>>>=0,p>>>=0;var W=Y[p+40>>>2>>>0];p={kb:U[p>>>2>>>0],jb:U[p+4>>>2>>>0],Wa:U[p+8>>>2>>>0],$a:U[p+12>>>2>>>0],Xa:U[p+16>>>2>>>0],Ta:U[p+20>>>2>>>0],Na:U[p+24>>>2>>>0],Sa:U[p+28>>>2>>>0],mb:U[p+32>>>2>>>0],ib:U[p+36>>>2>>>0],lb:W?Qe(W):""},u=Qe(u),W={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ee in W)u=u.replace(new RegExp(ee,"g"),W[ee]);var ge="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ue="January February March April May June July August September October November December".split(" ");W={"%a":v=>ge[v.Na].substring(0,3),"%A":v=>ge[v.Na],"%b":v=>Ue[v.Xa].substring(0,3),"%B":v=>Ue[v.Xa],"%C":v=>E((v.Ta+1900)/100|0,2),"%d":v=>E(v.$a,2),"%e":v=>w(v.$a,2," "),"%g":v=>j(v).toString().substring(2),"%G":v=>j(v),"%H":v=>E(v.Wa,2),"%I":v=>(v=v.Wa,v==0?v=12:12<v&&(v-=12),E(v,2)),"%j":v=>{for(var V=0,Q=0;Q<=v.Xa-1;V+=(Ye(v.Ta+1900)?Gr:Yr)[Q++]);return E(v.$a+V,3)},"%m":v=>E(v.Xa+1,2),"%M":v=>E(v.jb,2),"%n":()=>`
`,"%p":v=>0<=v.Wa&&12>v.Wa?"AM":"PM","%S":v=>E(v.kb,2),"%t":()=>"	","%u":v=>v.Na||7,"%U":v=>E(Math.floor((v.Sa+7-v.Na)/7),2),"%V":v=>{var V=Math.floor((v.Sa+7-(v.Na+6)%7)/7);if(2>=(v.Na+371-v.Sa-2)%7&&V++,V)V==53&&(Q=(v.Na+371-v.Sa)%7,Q==4||Q==3&&Ye(v.Ta)||(V=1));else{V=52;var Q=(v.Na+7-v.Sa-1)%7;(Q==4||Q==5&&Ye(v.Ta%400-1))&&V++}return E(V,2)},"%w":v=>v.Na,"%W":v=>E(Math.floor((v.Sa+7-(v.Na+6)%7)/7),2),"%y":v=>(v.Ta+1900).toString().substring(2),"%Y":v=>v.Ta+1900,"%z":v=>{v=v.ib;var V=0<=v;return v=Math.abs(v)/60,(V?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.lb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(ee in W)u.includes(ee)&&(u=u.replace(new RegExp(ee,"g"),W[ee](p)));return u=u.replace(/\0\0/g,"%"),ee=mt(u),ee.length>n?0:(te.set(ee,r>>>0),ee.length-1)}for(var qr=Array(256),be=0;256>be;++be)qr[be]=String.fromCharCode(be);rr=qr,$e=s.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},s.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},Object.assign(tr.prototype,{get(r){return this.Ra[r]},has(r){return this.Ra[r]!==void 0},Ya(r){var n=this.ab.pop()||this.Ra.length;return this.Ra[n]=r,n},Za(r){this.Ra[r]=void 0,this.ab.push(r)}}),Oe.Ra.push({value:void 0},{value:null},{value:!0},{value:!1}),Oe.Ua=Oe.Ra.length,s.count_emval_handles=()=>{for(var r=0,n=Oe.Ua;n<Oe.Ra.length;++n)Oe.Ra[n]!==void 0&&++r;return r};var Xr={a:function(r,n,u){throw r>>>=0,new Ve(r).Ya(n>>>0,u>>>0),ir=r,Ge++,ir},t:function(){return 0},$:function(){},M:function(){},O:function(){},G:function(){return 0},Z:function(){},U:function(){},Y:function(){},B:function(){},N:function(){},K:function(){},_:function(){},L:function(){},E:function(r,n,u,p,w){n>>>=0,n=Ee(n);var E=n.indexOf("u")!=-1;E&&(w=(1n<<64n)-1n),Ce(r>>>0,{name:n,fromWireType:F=>F,toWireType:function(F,R){if(typeof R!="bigint"&&typeof R!="number")throw new TypeError(`Cannot convert "${ur(R)}" to ${this.name}`);if(R<p||R>w)throw new TypeError(`Passing a number "${ur(R)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${p}, ${w}]!`);return R},argPackAdvance:8,readValueFromPointer:Wr(n,u>>>0,!E),Va:null})},da:function(r,n,u,p){n=Ee(n>>>0),Ce(r>>>0,{name:n,fromWireType:function(w){return!!w},toWireType:function(w,E){return E?u:p},argPackAdvance:8,readValueFromPointer:function(w){return this.fromWireType(J[w>>>0])},Va:null})},ca:function(r,n){n=Ee(n>>>0),Ce(r>>>0,{name:n,fromWireType:u=>{var p=de(u);return Tr(u),p},toWireType:(u,p)=>Re(p),argPackAdvance:8,readValueFromPointer:K,Va:null})},D:function(r,n,u){n=Ee(n>>>0),Ce(r>>>0,{name:n,fromWireType:p=>p,toWireType:(p,w)=>w,argPackAdvance:8,readValueFromPointer:ot(n,u>>>0),Va:null})},q:function(r,n,u,p,w){if(r>>>=0,u>>>=0,n=Ee(n>>>0),w===-1&&(w=4294967295),w=R=>R,p===0){var E=32-8*u;w=R=>R<<E>>>E}var F=n.includes("unsigned")?function(R,j){return j>>>0}:function(R,j){return j};Ce(r,{name:n,fromWireType:w,toWireType:F,argPackAdvance:8,readValueFromPointer:Wr(n,u,p!==0),Va:null})},l:function(r,n,u){function p(E){return new w(te.buffer,Y[E+4>>>2>>>0],Y[E>>>2>>>0])}var w=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];u=Ee(u>>>0),Ce(r>>>0,{name:u,fromWireType:p,argPackAdvance:8,readValueFromPointer:p},{gb:!0})},F:function(r,n){n=Ee(n>>>0);var u=n==="std::string";Ce(r>>>0,{name:n,fromWireType:function(p){var w=Y[p>>>2>>>0],E=p+4;if(u)for(var F=E,R=0;R<=w;++R){var j=E+R;if(R==w||J[j>>>0]==0){if(F=Qe(F,j-F),W===void 0)var W=F;else W+=String.fromCharCode(0),W+=F;F=j+1}}else{for(W=Array(w),R=0;R<w;++R)W[R]=String.fromCharCode(J[E+R>>>0]);W=W.join("")}return Ne(p),W},toWireType:function(p,w){w instanceof ArrayBuffer&&(w=new Uint8Array(w));var E=typeof w=="string";if(!(E||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int8Array))throw new $e("Cannot pass non-string to std::string");var F=u&&E?er(w):w.length,R=Me(4+F+1),j=R+4;if(Y[R>>>2>>>0]=F,u&&E)sr(w,J,j,F+1);else if(E)for(E=0;E<F;++E){var W=w.charCodeAt(E);if(255<W)throw Ne(j),new $e("String has UTF-16 code units that do not fit in 8 bits");J[j+E>>>0]=W}else for(E=0;E<F;++E)J[j+E>>>0]=w[E];return p!==null&&p.push(Ne,R),R},argPackAdvance:8,readValueFromPointer:Lr,Va(p){Ne(p)}})},v:function(r,n,u){if(n>>>=0,u>>>=0,u=Ee(u),n===2)var p=st,w=Wt,E=$,F=()=>Fe,R=1;else n===4&&(p=Ar,w=ut,E=_r,F=()=>Y,R=2);Ce(r>>>0,{name:u,fromWireType:j=>{for(var W=Y[j>>>2>>>0],ee=F(),ge,Ue=j+4,v=0;v<=W;++v){var V=j+4+v*n;(v==W||ee[V>>>R]==0)&&(Ue=p(Ue,V-Ue),ge===void 0?ge=Ue:(ge+=String.fromCharCode(0),ge+=Ue),Ue=V+n)}return Ne(j),ge},toWireType:(j,W)=>{if(typeof W!="string")throw new $e(`Cannot pass non-string to C++ string type ${u}`);var ee=E(W),ge=Me(4+ee+n);return Y[ge>>>2]=ee>>R,w(W,ge+4,ee+n),j!==null&&j.push(Ne,ge),ge},argPackAdvance:8,readValueFromPointer:K,Va(j){Ne(j)}})},ea:function(r,n){n=Ee(n>>>0),Ce(r>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},aa:()=>1,o:function(r,n,u){return n>>>=0,u>>>=0,r=de(r>>>0),n=Er(n,"emval::as"),ft(n,u,r)},x:function(r,n,u,p){return u>>>=0,p>>>=0,r=fr[r>>>0],n=de(n>>>0),r(null,n,u,p)},j:function(r,n,u,p,w){return u>>>=0,p>>>=0,w>>>=0,r=fr[r>>>0],n=de(n>>>0),u=Sr(u),r(n,n[u],p,w)},b:Tr,w:function(r,n){return n>>>=0,r=de(r>>>0),n=de(n),r==n},s:function(r){return r>>>=0,r===0?Re($r()):(r=Sr(r),Re($r()[r]))},i:function(r,n,u){n=ct(r,n>>>0);var p=n.shift();r--;var w=`return function (obj, func, destructorsRef, args) {
`,E=0,F=[];u===0&&F.push("obj");for(var R=["retType"],j=[p],W=0;W<r;++W)F.push("arg"+W),R.push("argType"+W),j.push(n[W]),w+=`  var arg${W} = argType${W}.readValueFromPointer(args${E?"+"+E:""});
`,E+=n[W].argPackAdvance;for(w+=`  var rv = ${u===1?"new func":"func.call"}(${F.join(", ")});
`,W=0;W<r;++W)n[W].deleteObject&&(w+=`  argType${W}.deleteObject(arg${W});
`);return p.hb||(R.push("emval_returnValue"),j.push(ft),w+=`  return emval_returnValue(retType, destructorsRef, rv);
`),R.push(w+`};
`),r=dt(R).apply(null,j),u=`methodCaller<(${n.map(ee=>ee.name).join(", ")}) => ${p.name}>`,lt(lr(u,r))},p:function(r,n){return n>>>=0,r=de(r>>>0),n=de(n),Re(r[n])},c:function(r){r>>>=0,4<r&&(Oe.get(r).bb+=1)},r:function(){return Re([])},k:function(r){r=de(r>>>0);for(var n=Array(r.length),u=0;u<r.length;u++)n[u]=r[u];return Re(n)},d:function(r){return Re(Sr(r>>>0))},h:function(){return Re({})},g:function(r){r>>>=0;for(var n=de(r);n.length;){var u=n.pop();n.pop()(u)}Tr(r)},f:function(r,n,u){n>>>=0,u>>>=0,r=de(r>>>0),n=de(n),u=de(u),r[n]=u},e:function(r,n){return n>>>=0,r=Er(r>>>0,"_emval_take_value"),r=r.readValueFromPointer(n),Re(r)},R:function(r,n){r=-9007199254740992>r||9007199254740992<r?NaN:Number(r),n>>>=0,r=new Date(1e3*r),U[n>>>2>>>0]=r.getUTCSeconds(),U[n+4>>>2>>>0]=r.getUTCMinutes(),U[n+8>>>2>>>0]=r.getUTCHours(),U[n+12>>>2>>>0]=r.getUTCDate(),U[n+16>>>2>>>0]=r.getUTCMonth(),U[n+20>>>2>>>0]=r.getUTCFullYear()-1900,U[n+24>>>2>>>0]=r.getUTCDay(),U[n+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},S:function(r,n){r=-9007199254740992>r||9007199254740992<r?NaN:Number(r),n>>>=0,r=new Date(1e3*r),U[n>>>2>>>0]=r.getSeconds(),U[n+4>>>2>>>0]=r.getMinutes(),U[n+8>>>2>>>0]=r.getHours(),U[n+12>>>2>>>0]=r.getDate(),U[n+16>>>2>>>0]=r.getMonth(),U[n+20>>>2>>>0]=r.getFullYear()-1900,U[n+24>>>2>>>0]=r.getDay(),U[n+28>>>2>>>0]=(Ye(r.getFullYear())?Nr:Hr)[r.getMonth()]+r.getDate()-1|0,U[n+36>>>2>>>0]=-(60*r.getTimezoneOffset());var u=new Date(r.getFullYear(),6,1).getTimezoneOffset(),p=new Date(r.getFullYear(),0,1).getTimezoneOffset();U[n+32>>>2>>>0]=(u!=p&&r.getTimezoneOffset()==Math.min(p,u))|0},T:function(r){r>>>=0;var n=new Date(U[r+20>>>2>>>0]+1900,U[r+16>>>2>>>0],U[r+12>>>2>>>0],U[r+8>>>2>>>0],U[r+4>>>2>>>0],U[r>>>2>>>0],0),u=U[r+32>>>2>>>0],p=n.getTimezoneOffset(),w=new Date(n.getFullYear(),6,1).getTimezoneOffset(),E=new Date(n.getFullYear(),0,1).getTimezoneOffset(),F=Math.min(E,w);return 0>u?U[r+32>>>2>>>0]=+(w!=E&&F==p):0<u!=(F==p)&&(w=Math.max(E,w),n.setTime(n.getTime()+6e4*((0<u?F:w)-p))),U[r+24>>>2>>>0]=n.getDay(),U[r+28>>>2>>>0]=(Ye(n.getFullYear())?Nr:Hr)[n.getMonth()]+n.getDate()-1|0,U[r>>>2>>>0]=n.getSeconds(),U[r+4>>>2>>>0]=n.getMinutes(),U[r+8>>>2>>>0]=n.getHours(),U[r+12>>>2>>>0]=n.getDate(),U[r+16>>>2>>>0]=n.getMonth(),U[r+20>>>2>>>0]=n.getYear(),r=n.getTime(),isNaN(r)?(U[ht()>>>2>>>0]=61,r=-1):r/=1e3,BigInt(r)},P:function(){return-52},Q:function(){},I:function(r,n,u){function p(j){return(j=j.toTimeString().match(/\(([A-Za-z ]+)\)$/))?j[1]:"GMT"}u>>>=0;var w=new Date().getFullYear(),E=new Date(w,0,1),F=new Date(w,6,1);w=E.getTimezoneOffset();var R=F.getTimezoneOffset();Y[r>>>0>>>2>>>0]=60*Math.max(w,R),U[n>>>0>>>2>>>0]=+(w!=R),r=p(E),n=p(F),r=jr(r),n=jr(n),R<w?(Y[u>>>2>>>0]=r,Y[u+4>>>2>>>0]=n):(Y[u>>>2>>>0]=n,Y[u+4>>>2>>>0]=r)},y:()=>{or("")},fa:function(r,n,u){r>>>=0,n>>>=0,u>>>=0,Cr.length=0;for(var p;p=J[n++>>>0];){var w=p!=105;w&=p!=112,u+=w&&u%8?4:0,Cr.push(p==112?Y[u>>>2>>>0]:p==106?Ze[u>>>3]:p==105?U[u>>>2>>>0]:ne[u>>>3>>>0]),u+=w?8:4}return ce[r].apply(null,Cr)},C:()=>Date.now(),J:function(){return 4294901760},n:()=>performance.now(),H:function(r){r>>>=0;var n=J.length;if(4294901760<r)return!1;for(var u=1;4>=u;u*=2){var p=n*(1+.2/u);p=Math.min(p,r+100663296);var w=Math;p=Math.max(r,p);e:{w=(w.min.call(w,4294901760,p+(65536-p%65536)%65536)-P.buffer.byteLength+65535)/65536;try{P.grow(w),B();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},W:function(r,n){r>>>=0,n>>>=0;var u=0;return zr().forEach((p,w)=>{var E=n+u;for(w=Y[r+4*w>>>2>>>0]=E,E=0;E<p.length;++E)te[w++>>>0>>>0]=p.charCodeAt(E);te[w>>>0>>>0]=0,u+=p.length+1}),0},X:function(r,n){r>>>=0,n>>>=0;var u=zr();Y[r>>>2>>>0]=u.length;var p=0;return u.forEach(w=>p+=w.length+1),Y[n>>>2>>>0]=p,0},u:()=>52,A:function(){return 52},V:function(){return 70},z:function(r,n,u,p){n>>>=0,u>>>=0,p>>>=0;for(var w=0,E=0;E<u;E++){var F=Y[n>>>2>>>0],R=Y[n+4>>>2>>>0];n+=8;for(var j=0;j<R;j++){var W=J[F+j>>>0],ee=pt[r];W===0||W===10?((r===1?q:I)(Ke(ee,0)),ee.length=0):ee.push(W)}w+=R}return Y[p>>>2>>>0]=w,0},ba:Vr,m:function(r,n,u,p){return Vr(r>>>0,n>>>0,u>>>0,p>>>0)}},H=function(){function r(u){return H=u.exports,H=Kr(),P=H.ga,B(),ke.unshift(H.ha),se--,se==0&&(le!==null&&(clearInterval(le),le=null),pe&&(u=pe,pe=null,u())),H}var n={a:Xr};if(se++,s.instantiateWasm)try{return s.instantiateWasm(n,r)}catch(u){I(`Module.instantiateWasm callback failed with error: ${u}`),c(u)}return me(n,function(u){r(u.instance)}).catch(c),{}}();s._OrtInit=(r,n)=>(s._OrtInit=H.ia)(r,n),s._OrtGetLastError=(r,n)=>(s._OrtGetLastError=H.ja)(r,n),s._OrtCreateSessionOptions=(r,n,u,p,w,E,F,R,j,W)=>(s._OrtCreateSessionOptions=H.ka)(r,n,u,p,w,E,F,R,j,W),s._OrtAppendExecutionProvider=(r,n)=>(s._OrtAppendExecutionProvider=H.la)(r,n),s._OrtAddFreeDimensionOverride=(r,n,u)=>(s._OrtAddFreeDimensionOverride=H.ma)(r,n,u),s._OrtAddSessionConfigEntry=(r,n,u)=>(s._OrtAddSessionConfigEntry=H.na)(r,n,u),s._OrtReleaseSessionOptions=r=>(s._OrtReleaseSessionOptions=H.oa)(r),s._OrtCreateSession=(r,n,u)=>(s._OrtCreateSession=H.pa)(r,n,u),s._OrtReleaseSession=r=>(s._OrtReleaseSession=H.qa)(r),s._OrtGetInputOutputCount=(r,n,u)=>(s._OrtGetInputOutputCount=H.ra)(r,n,u),s._OrtGetInputName=(r,n)=>(s._OrtGetInputName=H.sa)(r,n),s._OrtGetOutputName=(r,n)=>(s._OrtGetOutputName=H.ta)(r,n),s._OrtFree=r=>(s._OrtFree=H.ua)(r),s._OrtCreateTensor=(r,n,u,p,w,E)=>(s._OrtCreateTensor=H.va)(r,n,u,p,w,E),s._OrtGetTensorData=(r,n,u,p,w)=>(s._OrtGetTensorData=H.wa)(r,n,u,p,w),s._OrtReleaseTensor=r=>(s._OrtReleaseTensor=H.xa)(r),s._OrtCreateRunOptions=(r,n,u,p)=>(s._OrtCreateRunOptions=H.ya)(r,n,u,p),s._OrtAddRunConfigEntry=(r,n,u)=>(s._OrtAddRunConfigEntry=H.za)(r,n,u),s._OrtReleaseRunOptions=r=>(s._OrtReleaseRunOptions=H.Aa)(r),s._OrtCreateBinding=r=>(s._OrtCreateBinding=H.Ba)(r),s._OrtBindInput=(r,n,u)=>(s._OrtBindInput=H.Ca)(r,n,u),s._OrtBindOutput=(r,n,u,p)=>(s._OrtBindOutput=H.Da)(r,n,u,p),s._OrtClearBoundOutputs=r=>(s._OrtClearBoundOutputs=H.Ea)(r),s._OrtReleaseBinding=r=>(s._OrtReleaseBinding=H.Fa)(r),s._OrtRunWithBinding=(r,n,u,p,w)=>(s._OrtRunWithBinding=H.Ga)(r,n,u,p,w),s._OrtRun=(r,n,u,p,w,E,F,R)=>(s._OrtRun=H.Ha)(r,n,u,p,w,E,F,R),s._OrtEndProfiling=r=>(s._OrtEndProfiling=H.Ia)(r);var ht=()=>(ht=H.Ja)(),Me=s._malloc=r=>(Me=s._malloc=H.Ka)(r),Ne=s._free=r=>(Ne=s._free=H.La)(r),xe=r=>(xe=H.Ma)(r),Jr=()=>(Jr=H.Oa)(),Zr=r=>(Zr=H.Pa)(r),Te=r=>(Te=H.Qa)(r);function Kr(){var r=H;r=Object.assign({},r);var n=p=>()=>p()>>>0,u=p=>w=>p(w)>>>0;return r.Ja=n(r.Ja),r.Ka=u(r.Ka),r.Ma=u(r.Ma),r.Oa=n(r.Oa),r.Qa=u(r.Qa),r}s.stackAlloc=Te,s.stackSave=Jr,s.stackRestore=Zr,s.UTF8ToString=Qe,s.stringToUTF8=(r,n,u)=>sr(r,J,n,u),s.lengthBytesUTF8=er;var he;pe=function r(){he||Pe(),he||(pe=r)};function Pe(){if(!(0<se)){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;){var r=s.preRun.shift();Ie.unshift(r)}for(;0<Ie.length;)Ie.shift()(s);if(!(0<se||he||(he=!0,s.calledRun=!0,G))){for(;0<ke.length;)ke.shift()(s);for(m(s);0<ye.length;)ye.shift()(s)}}}return Pe(),i.ready}})();typeof ba=="object"&&typeof tn=="object"?tn.exports=wa:typeof define=="function"&&define.amd&&define([],()=>wa)});var va=Fr(()=>{});var Oa=Fr(()=>{});var Ta={};Qr(Ta,{cpus:()=>So});var So,Aa=X(()=>{So=void 0});var on=Fr((Ea,an)=>{"use strict";var _a=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(i={}){function s(){return B.buffer!=se.buffer&&we(),se}function m(){return B.buffer!=se.buffer&&we(),le}function c(){return B.buffer!=se.buffer&&we(),pe}function y(){return B.buffer!=se.buffer&&we(),or}function d(){return B.buffer!=se.buffer&&we(),He}function g(){return B.buffer!=se.buffer&&we(),je}function T(){return B.buffer!=se.buffer&&we(),ze}var f=i,_,S;f.ready=new Promise((e,t)=>{_=e,S=t});var A=Object.assign({},f),M="./this.program",L=(e,t)=>{throw t},N=typeof window=="object",q=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",P=f.ENVIRONMENT_IS_PTHREAD||!1,G="";function te(e){return f.locateFile?f.locateFile(e,G):G+e}var J,_e,Fe;if(I){var U=(Qt(),Ir(Kt)),Y=(rn(),Ir(en));G=q?Y.dirname(G)+"/":__dirname+"/",J=(t,a)=>(t=ur(t)?new URL(t):Y.normalize(t),U.readFileSync(t,a?void 0:"utf8")),Fe=t=>(t=J(t,!0),t.buffer||(t=new Uint8Array(t)),t),_e=(t,a,l,h=!0)=>{t=ur(t)?new URL(t):Y.normalize(t),U.readFile(t,h?void 0:"utf8",(b,C)=>{b?l(b):a(h?C.buffer:C)})},!f.thisProgram&&1<process.argv.length&&(M=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),L=(t,a)=>{throw process.exitCode=t,a},f.inspect=()=>"[Emscripten Module object]";let e;try{e=va()}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}global.Worker=e.Worker}else(N||q)&&(q?G=self.location.href:typeof document<"u"&&document.currentScript&&(G=document.currentScript.src),typeof o<"u"&&o&&(G=o),G.indexOf("blob:")!==0?G=G.substr(0,G.replace(/[?#].*/,"").lastIndexOf("/")+1):G="",I||(J=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},q&&(Fe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),_e=(e,t,a)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?t(l.response):a()},l.onerror=a,l.send(null)}));I&&typeof performance>"u"&&(global.performance=Oa().performance);var nr=console.log.bind(console),Ze=console.error.bind(console);I&&(nr=(...e)=>U.writeSync(1,e.join(" ")+`
`),Ze=(...e)=>U.writeSync(2,e.join(" ")+`
`));var ar=nr,ne=Ze;Object.assign(f,A),A=null,typeof WebAssembly!="object"&&er("no native wasm support detected");var B,Ie,ke=!1,ye,se,le,pe,or,He,je,We,Se,Le,ze;function we(){var e=B.buffer;f.HEAP8=se=new Int8Array(e),f.HEAP16=pe=new Int16Array(e),f.HEAPU8=le=new Uint8Array(e),f.HEAPU16=or=new Uint16Array(e),f.HEAP32=He=new Int32Array(e),f.HEAPU32=je=new Uint32Array(e),f.HEAPF32=We=new Float32Array(e),f.HEAPF64=ze=new Float64Array(e),f.HEAP64=Se=new BigInt64Array(e),f.HEAPU64=Le=new BigUint64Array(e)}var me=16777216;if(P)B=f.wasmMemory;else if(f.wasmMemory)B=f.wasmMemory;else if(B=new WebAssembly.Memory({initial:me/65536,maximum:65536,shared:!0}),!(B.buffer instanceof SharedArrayBuffer))throw ne("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&ne("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");we(),me=B.buffer.byteLength;var ce=[],Ve=[],ir=[],Ge=0,br=null,Ke=null;function Qe(){if(Ge--,Ge==0&&(br!==null&&(clearInterval(br),br=null),Ke)){var e=Ke;Ke=null,e()}}function er(e){throw e="Aborted("+e+")",ne(e),ke=!0,ye=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),S(e),e}var sr=e=>e.startsWith("data:application/octet-stream;base64,"),ur=e=>e.startsWith("file://"),rr;rr="ort-wasm-threaded.wasm",sr(rr)||(rr=te(rr));function Ee(e){if(Fe)return Fe(e);throw"both async and sync fetching of the wasm failed"}function kr(e){if(N||q){if(typeof fetch=="function"&&!ur(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Ee(e));if(_e)return new Promise((t,a)=>{_e(e,l=>t(new Uint8Array(l)),a)})}return Promise.resolve().then(()=>Ee(e))}function vr(e,t,a){return kr(e).then(l=>WebAssembly.instantiate(l,t)).then(l=>l).then(a,l=>{ne(`failed to asynchronously prepare wasm: ${l}`),er(l)})}function kt(e,t){var a=rr;return typeof WebAssembly.instantiateStreaming!="function"||sr(a)||ur(a)||I||typeof fetch!="function"?vr(a,e,t):fetch(a,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(t,function(h){return ne(`wasm streaming compile failed: ${h}`),ne("falling back to ArrayBuffer instantiation"),vr(a,e,t)}))}var $e={1379052:(e,t,a,l)=>{if(typeof f>"u"||!f.Hb)return 1;if(e=de(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=f.Hb.get(e),!e)return 2;if(t>>>=0,a>>>=0,l>>>=0,t+a>e.byteLength)return 3;try{return m().set(e.subarray(t,t+a),l>>>0),0}catch{return 4}}};function Or(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ce=e=>{e.terminate(),e.onmessage=()=>{}},Wr=e=>{$.ob.length==0&&(st(),$.Bb($.ob[0]));var t=$.ob.pop();if(!t)return 6;$.pb.push(t),$.kb[e.nb]=t,t.nb=e.nb;var a={cmd:"run",start_routine:e.Ob,arg:e.Ib,pthread_ptr:e.nb};return I&&t.unref(),t.postMessage(a,e.Ub),0},tr=0,Oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Tr=(e,t,a)=>{t>>>=0;var l=t+a;for(a=t;e[a]&&!(a>=l);)++a;if(16<a-t&&e.buffer&&Oe)return Oe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,a):e.subarray(t,a));for(l="";t<a;){var h=e[t++];if(h&128){var b=e[t++]&63;if((h&224)==192)l+=String.fromCharCode((h&31)<<6|b);else{var C=e[t++]&63;h=(h&240)==224?(h&15)<<12|b<<6|C:(h&7)<<18|b<<12|C<<6|e[t++]&63,65536>h?l+=String.fromCharCode(h):(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else l+=String.fromCharCode(h)}return l},de=(e,t)=>(e>>>=0)?Tr(m(),e,t):"",Re=e=>{var t=Gt();return e=e(),bt(t),e};function K(e,t){var a=arguments.length-2,l=arguments;return Re(()=>{for(var h=2*a,b=Yt(8*h),C=b>>>3,D=0;D<a;D++){var z=l[2+D];typeof z=="bigint"?(Se[C+2*D]=1n,Se[C+2*D+1]=z):(Se[C+2*D]=0n,T()[C+2*D+1>>>0]=z)}return Ln(e,h,b,t)})}function ot(e){if(P)return K(0,1,e);ye=e,0<tr||($.Pb(),f.onExit?.(e),ke=!0),L(e,new Or(e))}var Lr=e=>{if(ye=e,P)throw ut(e),"unwind";ot(e)};function it(){for(var e=f.numThreads;e--;)st();ce.unshift(()=>{Ge++,Wt(()=>Qe())})}function st(){var e=te("ort-wasm-threaded.worker.js");e=new Worker(e),$.ob.push(e)}function Wt(e){P?e():Promise.all($.ob.map($.Bb)).then(e)}var $={ob:[],pb:[],Gb:[],kb:{},wb(){P?($.receiveObjectTransfer=$.Nb,$.threadInitTLS=$.Fb,$.setExitStatus=$.Eb):it()},Eb:e=>ye=e,Xb:["$terminateWorker"],Pb:()=>{for(var e of $.pb)Ce(e);for(e of $.ob)Ce(e);$.ob=[],$.pb=[],$.kb=[]},Db:e=>{var t=e.nb;delete $.kb[t],$.ob.push(e),$.pb.splice($.pb.indexOf(e),1),e.nb=0,jt(t)},Nb(){},Fb(){$.Gb.forEach(e=>e())},Bb:e=>new Promise(t=>{e.onmessage=b=>{b=b.data;var C=b.cmd;if(b.targetThread&&b.targetThread!=yt()){var D=$.kb[b.targetThread];D?D.postMessage(b,b.transferList):ne(`Internal error! Worker sent a message "${C}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else C==="checkMailbox"?ge():C==="spawnThread"?Wr(b):C==="cleanupThread"?$.Db($.kb[b.thread]):C==="killThread"?(b=b.thread,C=$.kb[b],delete $.kb[b],Ce(C),jt(b),$.pb.splice($.pb.indexOf(C),1),C.nb=0):C==="cancelThread"?$.kb[b.thread].postMessage({cmd:"cancel"}):C==="loaded"?(e.loaded=!0,I&&!e.nb&&e.unref(),t(e)):C==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):C==="callHandler"?f[b.handler](...b.args):C&&ne(`worker sent an unknown command ${C}`)},e.onerror=b=>{throw ne(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},I&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var a=[],l=["onExit"],h;for(h of l)f.hasOwnProperty(h)&&a.push(h);e.postMessage({cmd:"load",handlers:a,urlOrBlob:f.mainScriptUrlOrBlob||o,wasmMemory:B,wasmModule:Ie})})};f.PThread=$;var Ar=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=yt(),t=g()[e+52>>>2>>>0];e=g()[e+56>>>2>>>0],Nn(t,t-e),bt(t)};function ut(e){if(P)return K(1,0,e);Lr(e)}var _r=[],Er;f.invokeEntryPoint=(e,t)=>{var a=_r[e];a||(e>=_r.length&&(_r.length=e+1),_r[e]=a=Er.get(e)),e=a(t),0<tr?$.Eb(e):zt(e)};function ft(e){this.tb=e-24,this.Mb=function(t){g()[this.tb+4>>>2>>>0]=t},this.yb=function(t){g()[this.tb+8>>>2>>>0]=t},this.wb=function(t,a){this.xb(),this.Mb(t),this.yb(a)},this.xb=function(){g()[this.tb+16>>>2>>>0]=0}}var fr=0,Lt=0;function Sr(e,t,a,l){return P?K(2,1,e,t,a,l):$r(e,t,a,l)}function $r(e,t,a,l){if(e>>>=0,t>>>=0,a>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ne("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return P&&h.length===0?Sr(e,t,a,l):(e={Ob:a,nb:e,Ib:l,Ub:h},P?(e.Wb="spawnThread",postMessage(e,h),0):Wr(e))}function lt(e,t,a){return P?K(3,1,e,t,a):0}function ct(e,t){if(P)return K(4,1,e,t)}var lr=e=>{for(var t=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);127>=l?t++:2047>=l?t+=2:55296<=l&&57343>=l?(t+=4,++a):t+=3}return t},dt=(e,t,a,l)=>{if(a>>>=0,!(0<l))return 0;var h=a;l=a+l-1;for(var b=0;b<e.length;++b){var C=e.charCodeAt(b);if(55296<=C&&57343>=C){var D=e.charCodeAt(++b);C=65536+((C&1023)<<10)|D&1023}if(127>=C){if(a>=l)break;t[a++>>>0]=C}else{if(2047>=C){if(a+1>=l)break;t[a++>>>0]=192|C>>6}else{if(65535>=C){if(a+2>=l)break;t[a++>>>0]=224|C>>12}else{if(a+3>=l)break;t[a++>>>0]=240|C>>18,t[a++>>>0]=128|C>>12&63}t[a++>>>0]=128|C>>6&63}t[a++>>>0]=128|C&63}}return t[a>>>0]=0,a-h},Ye=(e,t,a)=>dt(e,m(),t,a);function Nr(e,t){if(P)return K(5,1,e,t)}function Hr(e,t,a){if(P)return K(6,1,e,t,a)}function jr(e,t,a){return P?K(7,1,e,t,a):0}function Cr(e,t){if(P)return K(8,1,e,t)}function Mr(e,t,a){if(P)return K(9,1,e,t,a)}function zr(e,t,a,l){if(P)return K(10,1,e,t,a,l)}function Pr(e,t,a,l){if(P)return K(11,1,e,t,a,l)}function pt(e,t,a,l){if(P)return K(12,1,e,t,a,l)}function Gr(e){if(P)return K(13,1,e)}function Yr(e,t){if(P)return K(14,1,e,t)}function mt(e,t,a){if(P)return K(15,1,e,t,a)}var Vr=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},qr,be=e=>{for(var t="";m()[e>>>0];)t+=qr[m()[e++>>>0]];return t},Xr={},H={},ht={},Me;function Ne(e,t,a={}){var l=t.name;if(!e)throw new Me(`type "${l}" must have a positive integer typeid pointer`);if(H.hasOwnProperty(e)){if(a.Kb)return;throw new Me(`Cannot register type '${l}' twice`)}H[e]=t,delete ht[e],Xr.hasOwnProperty(e)&&(t=Xr[e],delete Xr[e],t.forEach(h=>h()))}function xe(e,t,a={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ne(e,t,a)}var Jr=(e,t,a)=>{switch(t){case 1:return a?l=>s()[l>>>0>>>0]:l=>m()[l>>>0>>>0];case 2:return a?l=>c()[l>>>1>>>0]:l=>y()[l>>>1>>>0];case 4:return a?l=>d()[l>>>2>>>0]:l=>g()[l>>>2>>>0];case 8:return a?l=>Se[l>>>3]:l=>Le[l>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function Zr(){this.mb=[void 0],this.Ab=[]}var Te=new Zr;function Kr(e){e>>>=0,e>=Te.tb&&--Te.get(e).Cb===0&&Te.yb(e)}var he=e=>{if(!e)throw new Me("Cannot use deleted val. handle = "+e);return Te.get(e).value},Pe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Te.xb({Cb:1,value:e})}};function r(e){return this.fromWireType(d()[e>>>2>>>0])}var n=(e,t)=>{switch(t){case 4:return function(a){var l=this.fromWireType;return B.buffer!=se.buffer&&we(),l.call(this,We[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(T()[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function u(e){return this.fromWireType(g()[e>>>2>>>0])}var p=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,w=(e,t)=>{for(var a=e>>1,l=a+t/2;!(a>=l)&&y()[a>>>0];)++a;if(a<<=1,32<a-e&&p)return p.decode(m().slice(e,a));for(a="",l=0;!(l>=t/2);++l){var h=c()[e+2*l>>>1>>>0];if(h==0)break;a+=String.fromCharCode(h)}return a},E=(e,t,a)=>{if(a??=2147483647,2>a)return 0;a-=2;var l=t;a=a<2*e.length?a/2:e.length;for(var h=0;h<a;++h){var b=e.charCodeAt(h);c()[t>>>1>>>0]=b,t+=2}return c()[t>>>1>>>0]=0,t-l},F=e=>2*e.length,R=(e,t)=>{for(var a=0,l="";!(a>=t/4);){var h=d()[e+4*a>>>2>>>0];if(h==0)break;++a,65536<=h?(h-=65536,l+=String.fromCharCode(55296|h>>10,56320|h&1023)):l+=String.fromCharCode(h)}return l},j=(e,t,a)=>{if(t>>>=0,a??=2147483647,4>a)return 0;var l=t;a=l+a-4;for(var h=0;h<e.length;++h){var b=e.charCodeAt(h);if(55296<=b&&57343>=b){var C=e.charCodeAt(++h);b=65536+((b&1023)<<10)|C&1023}if(d()[t>>>2>>>0]=b,t+=4,t+4>a)break}return d()[t>>>2>>>0]=0,t-l},W=e=>{for(var t=0,a=0;a<e.length;++a){var l=e.charCodeAt(a);55296<=l&&57343>=l&&++a,t+=4}return t};function ee(e){e>>>=0,typeof Atomics.Vb=="function"&&(Atomics.Vb(d(),e>>>2,e).value.then(ge),e+=128,Atomics.store(d(),e>>>2,1))}f.__emscripten_thread_mailbox_await=ee;var ge=()=>{var e=yt();if(e&&(ee(e),e=$n,!ke))try{if(e(),!(0<tr))try{P?zt(ye):Lr(ye)}catch(t){t instanceof Or||t=="unwind"||L(1,t)}}catch(t){t instanceof Or||t=="unwind"||L(1,t)}};f.checkMailbox=ge;var Ue=[],v=(e,t)=>{var a=H[e];if(a===void 0)throw e=kn(e),a=be(e),Xe(e),new Me(t+" has unknown type "+a);return a},V=(e,t,a)=>{var l=[];return e=e.toWireType(l,a),l.length&&(g()[t>>>2>>>0]=Pe(l)),e},Q=[],qe={},Ur=e=>{var t=qe[e];return t===void 0?be(e):t},wn=()=>typeof globalThis=="object"?globalThis:Function("return this")(),io=e=>{var t=Q.length;return Q.push(e),t},so=(e,t)=>{for(var a=Array(e),l=0;l<e;++l)a[l]=v(g()[t+4*l>>>2>>>0],"parameter "+l);return a},bn=(e,t)=>Object.defineProperty(t,"name",{value:e});function uo(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var a=bn(t.name||"unknownFunctionName",function(){});return a.prototype=t.prototype,a=new a,e=t.apply(a,e),e instanceof Object?e:a}var Dr=e=>e%4===0&&(e%100!==0||e%400===0),vn=[0,31,60,91,121,152,182,213,244,274,305,335],On=[0,31,59,90,120,151,181,212,243,273,304,334];function Tn(e,t,a,l,h,b,C){return P?K(16,1,e,t,a,l,h,b,C):-52}function An(e,t,a,l,h,b){if(P)return K(17,1,e,t,a,l,h,b)}var _n=e=>{var t=lr(e)+1,a=wt(t);return a&&Ye(e,a,t),a},$t=[],Nt={},En=()=>{if(!Ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:M||"./this.program"},t;for(t in Nt)Nt[t]===void 0?delete e[t]:e[t]=Nt[t];var a=[];for(t in e)a.push(`${t}=${e[t]}`);Ht=a}return Ht},Ht;function Sn(e,t){if(P)return K(18,1,e,t);e>>>=0,t>>>=0;var a=0;return En().forEach((l,h)=>{var b=t+a;for(h=g()[e+4*h>>>2>>>0]=b,b=0;b<l.length;++b)s()[h++>>>0>>>0]=l.charCodeAt(b);s()[h>>>0>>>0]=0,a+=l.length+1}),0}function Cn(e,t){if(P)return K(19,1,e,t);e>>>=0,t>>>=0;var a=En();g()[e>>>2>>>0]=a.length;var l=0;return a.forEach(h=>l+=h.length+1),g()[t>>>2>>>0]=l,0}function Mn(e){return P?K(20,1,e):52}function Pn(e,t,a,l){return P?K(21,1,e,t,a,l):52}function Un(e,t,a,l){return P?K(22,1,e,t,a,l):70}var fo=[null,[],[]];function Dn(e,t,a,l){if(P)return K(23,1,e,t,a,l);t>>>=0,a>>>=0,l>>>=0;for(var h=0,b=0;b<a;b++){var C=g()[t>>>2>>>0],D=g()[t+4>>>2>>>0];t+=8;for(var z=0;z<D;z++){var x=m()[C+z>>>0],ae=fo[e];x===0||x===10?((e===1?ar:ne)(Tr(ae,0)),ae.length=0):ae.push(x)}h+=D}return g()[l>>>2>>>0]=h,0}var Fn=[31,29,31,30,31,30,31,31,30,31,30,31],In=[31,28,31,30,31,30,31,31,30,31,30,31];function lo(e){var t=Array(lr(e)+1);return dt(e,t,0,t.length),t}var co=(e,t)=>{s().set(e,t>>>0)};function Rn(e,t,a,l){function h(O,Z,oe){for(O=typeof O=="number"?O.toString():O||"";O.length<Z;)O=oe[0]+O;return O}function b(O,Z){return h(O,Z,"0")}function C(O,Z){function oe(jn){return 0>jn?-1:0<jn?1:0}var cr;return(cr=oe(O.getFullYear()-Z.getFullYear()))===0&&(cr=oe(O.getMonth()-Z.getMonth()))===0&&(cr=oe(O.getDate()-Z.getDate())),cr}function D(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function z(O){var Z=O.qb;for(O=new Date(new Date(O.rb+1900,0,1).getTime());0<Z;){var oe=O.getMonth(),cr=(Dr(O.getFullYear())?Fn:In)[oe];if(Z>cr-O.getDate())Z-=cr-O.getDate()+1,O.setDate(1),11>oe?O.setMonth(oe+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+Z);break}}return oe=new Date(O.getFullYear()+1,0,4),Z=D(new Date(O.getFullYear(),0,4)),oe=D(oe),0>=C(Z,O)?0>=C(oe,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}e>>>=0,t>>>=0,a>>>=0,l>>>=0;var x=g()[l+40>>>2>>>0];l={Sb:d()[l>>>2>>>0],Rb:d()[l+4>>>2>>>0],ub:d()[l+8>>>2>>>0],zb:d()[l+12>>>2>>>0],vb:d()[l+16>>>2>>>0],rb:d()[l+20>>>2>>>0],lb:d()[l+24>>>2>>>0],qb:d()[l+28>>>2>>>0],Yb:d()[l+32>>>2>>>0],Qb:d()[l+36>>>2>>>0],Tb:x?de(x):""},a=de(a),x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ae in x)a=a.replace(new RegExp(ae,"g"),x[ae]);var De="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Je="January February March April May June July August September October November December".split(" ");x={"%a":O=>De[O.lb].substring(0,3),"%A":O=>De[O.lb],"%b":O=>Je[O.vb].substring(0,3),"%B":O=>Je[O.vb],"%C":O=>b((O.rb+1900)/100|0,2),"%d":O=>b(O.zb,2),"%e":O=>h(O.zb,2," "),"%g":O=>z(O).toString().substring(2),"%G":O=>z(O),"%H":O=>b(O.ub,2),"%I":O=>(O=O.ub,O==0?O=12:12<O&&(O-=12),b(O,2)),"%j":O=>{for(var Z=0,oe=0;oe<=O.vb-1;Z+=(Dr(O.rb+1900)?Fn:In)[oe++]);return b(O.zb+Z,3)},"%m":O=>b(O.vb+1,2),"%M":O=>b(O.Rb,2),"%n":()=>`
`,"%p":O=>0<=O.ub&&12>O.ub?"AM":"PM","%S":O=>b(O.Sb,2),"%t":()=>"	","%u":O=>O.lb||7,"%U":O=>b(Math.floor((O.qb+7-O.lb)/7),2),"%V":O=>{var Z=Math.floor((O.qb+7-(O.lb+6)%7)/7);if(2>=(O.lb+371-O.qb-2)%7&&Z++,Z)Z==53&&(oe=(O.lb+371-O.qb)%7,oe==4||oe==3&&Dr(O.rb)||(Z=1));else{Z=52;var oe=(O.lb+7-O.qb-1)%7;(oe==4||oe==5&&Dr(O.rb%400-1))&&Z++}return b(Z,2)},"%w":O=>O.lb,"%W":O=>b(Math.floor((O.qb+7-(O.lb+6)%7)/7),2),"%y":O=>(O.rb+1900).toString().substring(2),"%Y":O=>O.rb+1900,"%z":O=>{O=O.Qb;var Z=0<=O;return O=Math.abs(O)/60,(Z?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.Tb,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(ae in x)a.includes(ae)&&(a=a.replace(new RegExp(ae,"g"),x[ae](l)));return a=a.replace(/\0\0/g,"%"),ae=lo(a),ae.length>t?0:(co(ae,e),ae.length-1)}$.wb();for(var xn=Array(256),gt=0;256>gt;++gt)xn[gt]=String.fromCharCode(gt);qr=xn,Me=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Zr.prototype,{get(e){return this.mb[e]},has(e){return this.mb[e]!==void 0},xb(e){var t=this.Ab.pop()||this.mb.length;return this.mb[t]=e,t},yb(e){this.mb[e]=void 0,this.Ab.push(e)}}),Te.mb.push({value:void 0},{value:null},{value:!0},{value:!1}),Te.tb=Te.mb.length,f.count_emval_handles=()=>{for(var e=0,t=Te.tb;t<Te.mb.length;++t)Te.mb[t]!==void 0&&++e;return e};var po=[ot,ut,Sr,lt,ct,Nr,Hr,jr,Cr,Mr,zr,Pr,pt,Gr,Yr,mt,Tn,An,Sn,Cn,Mn,Pn,Un,Dn],mo={b:function(e,t,a){throw e>>>=0,new ft(e).wb(t>>>0,a>>>0),fr=e,Lt++,fr},da:function(e){Wn(e>>>0,!q,1,!N,131072,!1),$.Fb()},D:function(e){e>>>=0,P?postMessage({cmd:"cleanupThread",thread:e}):$.Db($.kb[e])},V:$r,x:lt,ka:ct,R:Nr,T:Hr,K:jr,ia:Cr,aa:Mr,ga:zr,F:Pr,S:pt,P:Gr,ja:Yr,Q:mt,I:function(e,t,a,l,h){e>>>=0,t>>>=0,a>>>=0,t=be(t);var b=t.indexOf("u")!=-1;b&&(h=(1n<<64n)-1n),xe(e,{name:t,fromWireType:C=>C,toWireType:function(C,D){if(typeof D!="bigint"&&typeof D!="number")throw new TypeError(`Cannot convert "${Vr(D)}" to ${this.name}`);if(D<l||D>h)throw new TypeError(`Passing a number "${Vr(D)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${l}, ${h}]!`);return D},argPackAdvance:8,readValueFromPointer:Jr(t,a,!b),sb:null})},pa:function(e,t,a,l){e>>>=0,t=be(t>>>0),xe(e,{name:t,fromWireType:function(h){return!!h},toWireType:function(h,b){return b?a:l},argPackAdvance:8,readValueFromPointer:function(h){return this.fromWireType(m()[h>>>0])},sb:null})},oa:function(e,t){e>>>=0,t=be(t>>>0),xe(e,{name:t,fromWireType:a=>{var l=he(a);return Kr(a),l},toWireType:(a,l)=>Pe(l),argPackAdvance:8,readValueFromPointer:r,sb:null})},H:function(e,t,a){e>>>=0,a>>>=0,t=be(t>>>0),xe(e,{name:t,fromWireType:l=>l,toWireType:(l,h)=>h,argPackAdvance:8,readValueFromPointer:n(t,a),sb:null})},u:function(e,t,a,l,h){if(e>>>=0,a>>>=0,t=be(t>>>0),h===-1&&(h=4294967295),h=D=>D,l===0){var b=32-8*a;h=D=>D<<b>>>b}var C=t.includes("unsigned")?function(D,z){return z>>>0}:function(D,z){return z};xe(e,{name:t,fromWireType:h,toWireType:C,argPackAdvance:8,readValueFromPointer:Jr(t,a,l!==0),sb:null})},n:function(e,t,a){function l(b){var C=g()[b>>>2>>>0];return b=g()[b+4>>>2>>>0],new h(s().buffer,b,C)}e>>>=0;var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];a=be(a>>>0),xe(e,{name:a,fromWireType:l,argPackAdvance:8,readValueFromPointer:l},{Kb:!0})},J:function(e,t){e>>>=0,t=be(t>>>0);var a=t==="std::string";xe(e,{name:t,fromWireType:function(l){var h=g()[l>>>2>>>0],b=l+4;if(a)for(var C=b,D=0;D<=h;++D){var z=b+D;if(D==h||m()[z>>>0]==0){if(C=de(C,z-C),x===void 0)var x=C;else x+=String.fromCharCode(0),x+=C;C=z+1}}else{for(x=Array(h),D=0;D<h;++D)x[D]=String.fromCharCode(m()[b+D>>>0]);x=x.join("")}return Xe(l),x},toWireType:function(l,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var b=typeof h=="string";if(!(b||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array))throw new Me("Cannot pass non-string to std::string");var C=a&&b?lr(h):h.length,D=wt(4+C+1),z=D+4;if(g()[D>>>2>>>0]=C,a&&b)Ye(h,z,C+1);else if(b)for(b=0;b<C;++b){var x=h.charCodeAt(b);if(255<x)throw Xe(z),new Me("String has UTF-16 code units that do not fit in 8 bits");m()[z+b>>>0]=x}else for(b=0;b<C;++b)m()[z+b>>>0]=h[b];return l!==null&&l.push(Xe,D),D},argPackAdvance:8,readValueFromPointer:u,sb(l){Xe(l)}})},z:function(e,t,a){if(e>>>=0,t>>>=0,a>>>=0,a=be(a),t===2)var l=w,h=E,b=F,C=()=>y(),D=1;else t===4&&(l=R,h=j,b=W,C=()=>g(),D=2);xe(e,{name:a,fromWireType:z=>{for(var x=g()[z>>>2>>>0],ae=C(),De,Je=z+4,O=0;O<=x;++O){var Z=z+4+O*t;(O==x||ae[Z>>>D]==0)&&(Je=l(Je,Z-Je),De===void 0?De=Je:(De+=String.fromCharCode(0),De+=Je),Je=Z+t)}return Xe(z),De},toWireType:(z,x)=>{if(typeof x!="string")throw new Me(`Cannot pass non-string to C++ string type ${a}`);var ae=b(x),De=wt(4+ae+t);return g()[De>>>2]=ae>>D,h(x,De+4,ae+t),z!==null&&z.push(Xe,De),De},argPackAdvance:8,readValueFromPointer:r,sb(z){Xe(z)}})},qa:function(e,t){e>>>=0,t=be(t>>>0),xe(e,{Lb:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>1,N:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ge()):P?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=$.kb[e])&&e.postMessage({cmd:"checkMailbox"})},W:function(e,t,a,l){t>>>=0,a/=2,Ue.length=a,l=l>>>0>>>3;for(var h=0;h<a;h++)Ue[h]=Se[l+2*h]?Se[l+2*h+1]:T()[l+2*h+1>>>0];return e=0>e?$e[-e-1]:po[e],$.Jb=t,t=e.apply(null,Ue),$.Jb=0,t},ca:ee,ma:function(e){I&&$.kb[e>>>0].ref()},s:function(e,t,a){return t>>>=0,a>>>=0,e=he(e>>>0),t=v(t,"emval::as"),V(t,a,e)},o:function(e,t,a,l){return a>>>=0,l>>>=0,e=Q[e>>>0],t=he(t>>>0),e(null,t,a,l)},j:function(e,t,a,l,h){return a>>>=0,l>>>=0,h>>>=0,e=Q[e>>>0],t=he(t>>>0),a=Ur(a),e(t,t[a],l,h)},c:Kr,A:function(e,t){return t>>>=0,e=he(e>>>0),t=he(t),e==t},m:function(e){return e>>>=0,e===0?Pe(wn()):(e=Ur(e),Pe(wn()[e]))},i:function(e,t,a){t=so(e,t>>>0);var l=t.shift();e--;var h=`return function (obj, func, destructorsRef, args) {
`,b=0,C=[];a===0&&C.push("obj");for(var D=["retType"],z=[l],x=0;x<e;++x)C.push("arg"+x),D.push("argType"+x),z.push(t[x]),h+=`  var arg${x} = argType${x}.readValueFromPointer(args${b?"+"+b:""});
`,b+=t[x].argPackAdvance;for(h+=`  var rv = ${a===1?"new func":"func.call"}(${C.join(", ")});
`,x=0;x<e;++x)t[x].deleteObject&&(h+=`  argType${x}.deleteObject(arg${x});
`);return l.Lb||(D.push("emval_returnValue"),z.push(V),h+=`  return emval_returnValue(retType, destructorsRef, rv);
`),D.push(h+`};
`),e=uo(D).apply(null,z),a=`methodCaller<(${t.map(ae=>ae.name).join(", ")}) => ${l.name}>`,io(bn(a,e))},r:function(e,t){return t>>>=0,e=he(e>>>0),t=he(t),Pe(e[t])},d:function(e){e>>>=0,4<e&&(Te.get(e).Cb+=1)},v:function(){return Pe([])},l:function(e){e=he(e>>>0);for(var t=Array(e.length),a=0;a<e.length;a++)t[a]=e[a];return Pe(t)},f:function(e){return Pe(Ur(e>>>0))},k:function(){return Pe({})},h:function(e){e>>>=0;for(var t=he(e);t.length;){var a=t.pop();t.pop()(a)}Kr(e)},g:function(e,t,a){t>>>=0,a>>>=0,e=he(e>>>0),t=he(t),a=he(a),e[t]=a},e:function(e,t){return t>>>=0,e=v(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Pe(e)},Z:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),d()[t>>>2>>>0]=e.getUTCSeconds(),d()[t+4>>>2>>>0]=e.getUTCMinutes(),d()[t+8>>>2>>>0]=e.getUTCHours(),d()[t+12>>>2>>>0]=e.getUTCDate(),d()[t+16>>>2>>>0]=e.getUTCMonth(),d()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[t+28>>>2>>>0]=e},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),d()[t>>>2>>>0]=e.getSeconds(),d()[t+4>>>2>>>0]=e.getMinutes(),d()[t+8>>>2>>>0]=e.getHours(),d()[t+12>>>2>>>0]=e.getDate(),d()[t+16>>>2>>>0]=e.getMonth(),d()[t+20>>>2>>>0]=e.getFullYear()-1900,d()[t+24>>>2>>>0]=e.getDay();var a=(Dr(e.getFullYear())?vn:On)[e.getMonth()]+e.getDate()-1|0;d()[t+28>>>2>>>0]=a,d()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=l&&e.getTimezoneOffset()==Math.min(l,a))|0,d()[t+32>>>2>>>0]=e},$:function(e){e>>>=0;var t=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),a=d()[e+32>>>2>>>0],l=t.getTimezoneOffset(),h=new Date(t.getFullYear(),6,1).getTimezoneOffset(),b=new Date(t.getFullYear(),0,1).getTimezoneOffset(),C=Math.min(b,h);return 0>a?d()[e+32>>>2>>>0]=+(h!=b&&C==l):0<a!=(C==l)&&(h=Math.max(b,h),t.setTime(t.getTime()+6e4*((0<a?C:h)-l))),d()[e+24>>>2>>>0]=t.getDay(),a=(Dr(t.getFullYear())?vn:On)[t.getMonth()]+t.getDate()-1|0,d()[e+28>>>2>>>0]=a,d()[e>>>2>>>0]=t.getSeconds(),d()[e+4>>>2>>>0]=t.getMinutes(),d()[e+8>>>2>>>0]=t.getHours(),d()[e+12>>>2>>>0]=t.getDate(),d()[e+16>>>2>>>0]=t.getMonth(),d()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(d()[Bn()>>>2>>>0]=61,e=-1):e/=1e3,BigInt(e)},X:Tn,Y:An,M:function(e,t,a){function l(x){return(x=x.toTimeString().match(/\(([A-Za-z ]+)\)$/))?x[1]:"GMT"}e>>>=0,t>>>=0,a>>>=0;var h=new Date().getFullYear(),b=new Date(h,0,1),C=new Date(h,6,1);h=b.getTimezoneOffset();var D=C.getTimezoneOffset(),z=Math.max(h,D);g()[e>>>2>>>0]=60*z,d()[t>>>2>>>0]=+(h!=D),e=l(b),t=l(C),e=_n(e),t=_n(t),D<h?(g()[a>>>2>>>0]=e,g()[a+4>>>2>>>0]=t):(g()[a>>>2>>>0]=t,g()[a+4>>>2>>>0]=e)},p:()=>{er("")},ra:function(e,t,a){e>>>=0,t>>>=0,a>>>=0,$t.length=0;for(var l;l=m()[t++>>>0];){var h=l!=105;h&=l!=112,a+=h&&a%8?4:0,$t.push(l==112?g()[a>>>2>>>0]:l==106?Se[a>>>3]:l==105?d()[a>>>2>>>0]:T()[a>>>3>>>0]),a+=h?8:4}return $e[e].apply(null,$t)},E:()=>{},G:()=>Date.now(),la:()=>{throw tr+=1,"unwind"},O:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>I?(Aa(),Ir(Ta)).cpus().length:navigator.hardwareConcurrency,L:function(e){e>>>=0;var t=m().length;if(e<=t||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var l=t*(1+.2/a);l=Math.min(l,e+100663296);var h=Math;l=Math.max(e,l);e:{h=(h.min.call(h,4294901760,l+(65536-l%65536)%65536)-B.buffer.byteLength+65535)/65536;try{B.grow(h),we();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},ea:Sn,fa:Cn,U:Lr,y:Mn,C:Pn,ba:Un,B:Dn,a:B||f.wasmMemory,ha:Rn,q:function(e,t,a,l){return Rn(e>>>0,t>>>0,a>>>0,l>>>0)}},k=function(){function e(a,l){return k=a.exports,k=ho(),$.Gb.push(k.Ya),Er=k.$a,Ve.unshift(k.sa),Ie=l,Qe(),k}var t={a:mo};if(Ge++,f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(a){ne(`Module.instantiateWasm callback failed with error: ${a}`),S(a)}return kt(t,function(a){e(a.instance,a.module)}).catch(S),{}}();f._OrtInit=(e,t)=>(f._OrtInit=k.ta)(e,t),f._OrtGetLastError=(e,t)=>(f._OrtGetLastError=k.ua)(e,t),f._OrtCreateSessionOptions=(e,t,a,l,h,b,C,D,z,x)=>(f._OrtCreateSessionOptions=k.va)(e,t,a,l,h,b,C,D,z,x),f._OrtAppendExecutionProvider=(e,t)=>(f._OrtAppendExecutionProvider=k.wa)(e,t),f._OrtAddFreeDimensionOverride=(e,t,a)=>(f._OrtAddFreeDimensionOverride=k.xa)(e,t,a),f._OrtAddSessionConfigEntry=(e,t,a)=>(f._OrtAddSessionConfigEntry=k.ya)(e,t,a),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=k.za)(e),f._OrtCreateSession=(e,t,a)=>(f._OrtCreateSession=k.Aa)(e,t,a),f._OrtReleaseSession=e=>(f._OrtReleaseSession=k.Ba)(e),f._OrtGetInputOutputCount=(e,t,a)=>(f._OrtGetInputOutputCount=k.Ca)(e,t,a),f._OrtGetInputName=(e,t)=>(f._OrtGetInputName=k.Da)(e,t),f._OrtGetOutputName=(e,t)=>(f._OrtGetOutputName=k.Ea)(e,t),f._OrtFree=e=>(f._OrtFree=k.Fa)(e),f._OrtCreateTensor=(e,t,a,l,h,b)=>(f._OrtCreateTensor=k.Ga)(e,t,a,l,h,b),f._OrtGetTensorData=(e,t,a,l,h)=>(f._OrtGetTensorData=k.Ha)(e,t,a,l,h),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=k.Ia)(e),f._OrtCreateRunOptions=(e,t,a,l)=>(f._OrtCreateRunOptions=k.Ja)(e,t,a,l),f._OrtAddRunConfigEntry=(e,t,a)=>(f._OrtAddRunConfigEntry=k.Ka)(e,t,a),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=k.La)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=k.Ma)(e),f._OrtBindInput=(e,t,a)=>(f._OrtBindInput=k.Na)(e,t,a),f._OrtBindOutput=(e,t,a,l)=>(f._OrtBindOutput=k.Oa)(e,t,a,l),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=k.Pa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=k.Qa)(e),f._OrtRunWithBinding=(e,t,a,l,h)=>(f._OrtRunWithBinding=k.Ra)(e,t,a,l,h),f._OrtRun=(e,t,a,l,h,b,C,D)=>(f._OrtRun=k.Sa)(e,t,a,l,h,b,C,D),f._OrtEndProfiling=e=>(f._OrtEndProfiling=k.Ta)(e);var Bn=()=>(Bn=k.Ua)(),yt=f._pthread_self=()=>(yt=f._pthread_self=k.Va)(),wt=f._malloc=e=>(wt=f._malloc=k.Wa)(e),Xe=f._free=e=>(Xe=f._free=k.Xa)(e);f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=k.Ya)();var kn=e=>(kn=k.Za)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=k._a)();var Wn=f.__emscripten_thread_init=(e,t,a,l,h,b)=>(Wn=f.__emscripten_thread_init=k.ab)(e,t,a,l,h,b);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=k.bb)();var Ln=(e,t,a,l)=>(Ln=k.cb)(e,t,a,l),jt=e=>(jt=k.db)(e),zt=f.__emscripten_thread_exit=e=>(zt=f.__emscripten_thread_exit=k.eb)(e),$n=()=>($n=k.fb)(),Nn=(e,t)=>(Nn=k.gb)(e,t),Gt=()=>(Gt=k.hb)(),bt=e=>(bt=k.ib)(e),Yt=e=>(Yt=k.jb)(e);function ho(){var e=k;e=Object.assign({},e);var t=l=>()=>l()>>>0,a=l=>h=>l(h)>>>0;return e.Ua=t(e.Ua),e.Va=t(e.Va),e.Wa=a(e.Wa),e.Za=a(e.Za),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.hb=t(e.hb),e.jb=a(e.jb),e}f.wasmMemory=B,f.stackAlloc=Yt,f.stackSave=Gt,f.stackRestore=bt,f.keepRuntimeAlive=()=>0<tr,f.UTF8ToString=de,f.stringToUTF8=Ye,f.lengthBytesUTF8=lr,f.ExitStatus=Or,f.PThread=$;var vt;Ke=function e(){vt||Hn(),vt||(Ke=e)};function Hn(){if(!(0<Ge))if(P)_(f),P||Ar(Ve),startWorker(f);else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ce.unshift(f.preRun.shift());Ar(ce),0<Ge||vt||(vt=!0,f.calledRun=!0,ke||(P||Ar(Ve),_(f),P||Ar(ir)))}}return Hn(),i.ready}})();typeof Ea=="object"&&typeof an=="object"?an.exports=_a:typeof define=="function"&&define.amd&&define([],()=>_a)});var Sa=Fr(($i,Co)=>{Co.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'});var sn,Ca,un,fn,Pt,Ma,Mo,Po,Uo,Pa,ue,Rr=X(()=>{"use strict";sn=nn();Ca=on(),fn=!1,Pt=!1,Ma=!1,Mo=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Po=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Uo=(o,i)=>o?i?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":i?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Pa=async(o,i)=>{if(fn)return Promise.resolve();if(Pt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Ma)throw new Error("previous call to 'initializeWebAssembly()' failed.");Pt=!0;let s=o.initTimeout,m=o.numThreads,c=o.simd,y=m>1&&Mo(),d=c&&Po();i!="webgpu"&&(sn=nn()),y&&i!="webgpu"&&(Ca=on());let g=o.wasmPaths,T=typeof g=="string"?g:void 0,f=Uo(d,y),_=typeof g=="object"?g[f]:void 0,S=!1,A=[];if(s>0&&A.push(new Promise(M=>{setTimeout(()=>{S=!0,M()},s)})),A.push(new Promise((M,L)=>{let N=y?Ca:sn,q={locateFile:(I,P)=>{if(y&&I.endsWith(".worker.js")&&typeof Blob<"u")return URL.createObjectURL(new Blob([Sa()],{type:"text/javascript"}));if(I.endsWith(".wasm")){if(_)return _;let G=T??P;if(i=="webgpu"){if(f==="ort-wasm-simd.wasm")return G+"ort-wasm-simd.jsep.wasm";if(f==="ort-wasm-simd-threaded.wasm")return G+"ort-wasm-simd-threaded.jsep.wasm"}return G+f}return P+I}};if(y)if(q.numThreads=m,typeof Blob>"u")q.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let I=`var ortWasmThreaded=${N.toString()};`;q.mainScriptUrlOrBlob=new Blob([I],{type:"text/javascript"})}N(q).then(I=>{Pt=!1,fn=!0,un=I,M()},I=>{Pt=!1,Ma=!0,L(I)})})),await Promise.race(A),S)throw new Error(`WebAssembly backend initializing failed due to timeout: ${s}ms`)},ue=()=>{if(fn&&un)return un;throw new Error("WebAssembly is not initialized yet.")}});var fe,rt,ie,Ut=X(()=>{"use strict";Rr();fe=(o,i)=>{let s=ue(),m=s.lengthBytesUTF8(o)+1,c=s._malloc(m);return s.stringToUTF8(o,c,m),i.push(c),c},rt=(o,i,s,m)=>{if(typeof o=="object"&&o!==null){if(s.has(o))throw new Error("Circular reference in options");s.add(o)}Object.entries(o).forEach(([c,y])=>{let d=i?i+c:c;if(typeof y=="object")rt(y,d+".",s,m);else if(typeof y=="string"||typeof y=="number")m(d,y.toString());else if(typeof y=="boolean")m(d,y?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof y}`)})},ie=o=>{let i=ue(),s=i.stackSave();try{let m=i.stackAlloc(8);i._OrtGetLastError(m,m+4);let c=i.HEAP32[m/4],y=i.HEAPU32[m/4+1],d=y?i.UTF8ToString(y):"";throw new Error(`${o} ERROR_CODE: ${c}, ERROR_MESSAGE: ${d}`)}finally{i.stackRestore(s)}}});var Ua,Da=X(()=>{"use strict";Rr();Ut();Ua=o=>{let i=ue(),s=0,m=[],c=o||{};try{if(o?.logSeverityLevel===void 0)c.logSeverityLevel=2;else if(typeof o.logSeverityLevel!="number"||!Number.isInteger(o.logSeverityLevel)||o.logSeverityLevel<0||o.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${o.logSeverityLevel}`);if(o?.logVerbosityLevel===void 0)c.logVerbosityLevel=0;else if(typeof o.logVerbosityLevel!="number"||!Number.isInteger(o.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${o.logVerbosityLevel}`);o?.terminate===void 0&&(c.terminate=!1);let y=0;return o?.tag!==void 0&&(y=fe(o.tag,m)),s=i._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,y),s===0&&ie("Can't create run options."),o?.extra!==void 0&&rt(o.extra,"",new WeakSet,(d,g)=>{let T=fe(d,m),f=fe(g,m);i._OrtAddRunConfigEntry(s,T,f)!==0&&ie(`Can't set a run config entry: ${d} - ${g}.`)}),[s,m]}catch(y){throw s!==0&&i._OrtReleaseRunOptions(s),m.forEach(d=>i._free(d)),y}}});var Do,Fo,Io,Ro,Fa,Ia=X(()=>{"use strict";Rr();Ut();Do=o=>{switch(o){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${o}`)}},Fo=o=>{switch(o){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${o}`)}},Io=o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});let i=o.extra.session;i.use_ort_model_bytes_directly||(i.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(o.enableMemPattern=!1)},Ro=(o,i,s)=>{for(let m of i){let c=typeof m=="string"?m:m.name;switch(c){case"xnnpack":c="XNNPACK";break;case"webnn":if(c="WEBNN",typeof m!="string"){let d=m;if(d?.deviceType){let g=fe("deviceType",s),T=fe(d.deviceType,s);ue()._OrtAddSessionConfigEntry(o,g,T)!==0&&ie(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let g=d.numThreads;(typeof g!="number"||!Number.isInteger(g)||g<0)&&(g=0);let T=fe("numThreads",s),f=fe(g.toString(),s);ue()._OrtAddSessionConfigEntry(o,T,f)!==0&&ie(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let g=fe("powerPreference",s),T=fe(d.powerPreference,s);ue()._OrtAddSessionConfigEntry(o,g,T)!==0&&ie(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(c="JS",typeof m!="string"){let d=m;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let g=fe("preferredLayout",s),T=fe(d.preferredLayout,s);ue()._OrtAddSessionConfigEntry(o,g,T)!==0&&ie(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${c}`)}let y=fe(c,s);ue()._OrtAppendExecutionProvider(o,y)!==0&&ie(`Can't append execution provider: ${c}.`)}},Fa=o=>{let i=ue(),s=0,m=[],c=o||{};Io(c);try{let y=Do(c.graphOptimizationLevel??"all"),d=Fo(c.executionMode??"sequential"),g=typeof c.logId=="string"?fe(c.logId,m):0,T=c.logSeverityLevel??2;if(!Number.isInteger(T)||T<0||T>4)throw new Error(`log serverity level is not valid: ${T}`);let f=c.logVerbosityLevel??0;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log verbosity level is not valid: ${f}`);let _=typeof c.optimizedModelFilePath=="string"?fe(c.optimizedModelFilePath,m):0;if(s=i._OrtCreateSessionOptions(y,!!c.enableCpuMemArena,!!c.enableMemPattern,d,!!c.enableProfiling,0,g,T,f,_),s===0&&ie("Can't create session options."),c.executionProviders&&Ro(s,c.executionProviders,m),c.freeDimensionOverrides)for(let[S,A]of Object.entries(c.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof A!="number"||!Number.isInteger(A)||A<0)throw new Error(`free dimension override value must be a non-negative integer: ${A}`);let M=fe(S,m);i._OrtAddFreeDimensionOverride(s,M,A)!==0&&ie(`Can't set a free dimension override: ${S} - ${A}.`)}return c.extra!==void 0&&rt(c.extra,"",new WeakSet,(S,A)=>{let M=fe(S,m),L=fe(A,m);i._OrtAddSessionConfigEntry(s,M,L)!==0&&ie(`Can't set a session config entry: ${S} - ${A}.`)}),[s,m]}catch(y){throw s!==0&&i._OrtReleaseSessionOptions(s),m.forEach(d=>i._free(d)),y}}});var ln,Ra,cn,xa,Ba,Dt,ka,dn=X(()=>{"use strict";ln=o=>{switch(o){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${o}`)}},Ra=o=>{switch(o){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${o}`)}},cn=o=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][o],xa=o=>{switch(o){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${o}`)}},Ba=o=>{switch(o){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${o}`)}},Dt=o=>o==="float32"||o==="int32"||o==="int64"||o==="bool"||o==="float16"||o==="uint32",ka=o=>{switch(o){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${o}`)}}});var tt,pn=X(()=>{"use strict";tt=async o=>{if(typeof o=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(o))}catch(i){if(i.code==="ERR_FS_FILE_TOO_LARGE"){let s=(void 0)(o),m=[];for await(let c of s)m.push(c);return new Uint8Array(Buffer.concat(m))}throw i}else{let i=await fetch(o);if(!i.ok)throw new Error(`failed to load external data file: ${o}`);let s=i.headers.get("Content-Length"),m=s?parseInt(s,10):0;if(m<1073741824)return new Uint8Array(await i.arrayBuffer());{if(!i.body)throw new Error(`failed to load external data file: ${o}, no response body.`);let c=i.body.getReader(),y=Math.ceil(m/65536),d=new WebAssembly.Memory({initial:y,maximum:y}).buffer,g=0;for(;;){let{done:T,value:f}=await c.read();if(T)break;let _=f.byteLength;new Uint8Array(d,g,_).set(f),g+=_}return new Uint8Array(d,0,m)}}else return o instanceof Blob?new Uint8Array(await o.arrayBuffer()):o instanceof Uint8Array?o:new Uint8Array(o)}});var xo,La,$a,nt,Bo,mn,Na,Ha,Wa,ja,za,Ga,Ya=X(()=>{"use strict";Da();Ia();dn();Rr();Ut();pn();xo=(o,i)=>{ue()._OrtInit(o,i)!==0&&ie("Can't initialize onnxruntime.")},La=async o=>{xo(o.wasm.numThreads,Ba(o.logLevel))},$a=async(o,i)=>{},nt=new Map,Bo=o=>{let i=ue(),s=i.stackSave();try{let m=i.stackAlloc(8);return i._OrtGetInputOutputCount(o,m,m+4)!==0&&ie("Can't get session input/output count."),[i.HEAP32[m/4],i.HEAP32[m/4+1]]}finally{i.stackRestore(s)}},mn=o=>{let i=ue(),s=i._malloc(o.byteLength);if(s===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${o.byteLength}.`);return i.HEAPU8.set(o,s),[s,o.byteLength]},Na=async(o,i)=>{let s,m,c=ue();Array.isArray(o)?[s,m]=o:o.buffer===c.HEAPU8.buffer?[s,m]=[o.byteOffset,o.byteLength]:[s,m]=mn(o);let y=0,d=0,g=0,T=[],f=[],_=[];try{if([d,T]=Fa(i),i?.externalData&&c.mountExternalData){let I=[];for(let P of i.externalData){let G=typeof P=="string"?P:P.path;I.push(tt(typeof P=="string"?P:P.data).then(te=>{c.mountExternalData(G,te)}))}await Promise.all(I)}y=c._OrtCreateSession(s,m,d),y===0&&ie("Can't create a session.");let[S,A]=Bo(y),M=[],L=[],N=[];for(let I=0;I<S;I++){let P=c._OrtGetInputName(y,I);P===0&&ie("Can't get an input name."),f.push(P),M.push(c.UTF8ToString(P))}for(let I=0;I<A;I++){let P=c._OrtGetOutputName(y,I);P===0&&ie("Can't get an output name."),_.push(P);let G=c.UTF8ToString(P);L.push(G)}let q=null;return nt.set(y,[y,f,_,q]),[y,M,L]}catch(S){throw f.forEach(A=>c._OrtFree(A)),_.forEach(A=>c._OrtFree(A)),g!==0&&c._OrtReleaseBinding(g),y!==0&&c._OrtReleaseSession(y),S}finally{c._free(s),d!==0&&c._OrtReleaseSessionOptions(d),T.forEach(S=>c._free(S)),c.unmountExternalData?.()}},Ha=o=>{let i=ue(),s=nt.get(o);if(!s)throw new Error(`cannot release session. invalid session id: ${o}`);let[m,c,y,d]=s;d&&i._OrtReleaseBinding(d.handle),i.jsepUnregisterBuffers?.(o),c.forEach(g=>i._OrtFree(g)),y.forEach(g=>i._OrtFree(g)),i._OrtReleaseSession(m),nt.delete(o)},Wa=(o,i,s,m,c)=>{if(!o){i.push(0);return}let y=ue(),d=o[0],g=o[1],T=o[3],f,_;if(d==="string"&&T==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(T==="gpu-buffer"){let M=o[2].gpuBuffer,L=cn(ln(d));_=g.reduce((N,q)=>N*q,1)*L,f=y.jsepRegisterBuffer(m,c,M,_)}else{let M=o[2];if(Array.isArray(M)){_=4*M.length,f=y._malloc(_),s.push(f);let L=f/4;for(let N=0;N<M.length;N++){if(typeof M[N]!="string")throw new TypeError(`tensor data at index ${N} is not a string`);y.HEAPU32[L++]=fe(M[N],s)}}else _=M.byteLength,f=y._malloc(_),s.push(f),y.HEAPU8.set(new Uint8Array(M.buffer,M.byteOffset,_),f)}let S=y.stackSave(),A=y.stackAlloc(4*g.length);try{let M=A/4;g.forEach(N=>y.HEAP32[M++]=N);let L=y._OrtCreateTensor(ln(d),f,_,A,g.length,ka(T));L===0&&ie(`Can't create tensor for input/output. session=${m}, index=${c}.`),i.push(L)}finally{y.stackRestore(S)}},ja=async(o,i,s,m,c,y)=>{let d=ue(),g=nt.get(o);if(!g)throw new Error(`cannot run inference. invalid session id: ${o}`);let[T,f,_,S]=g,A=i.length,M=m.length,L=0,N=[],q=[],I=[],P=[],G=d.stackSave(),te=d.stackAlloc(A*4),J=d.stackAlloc(A*4),_e=d.stackAlloc(M*4),Fe=d.stackAlloc(M*4);try{[L,N]=Ua(y);for(let B=0;B<A;B++)Wa(s[B],q,P,o,i[B]);for(let B=0;B<M;B++)Wa(c[B],I,P,o,A+m[B]);let U=te/4,Y=J/4,nr=_e/4,Ze=Fe/4;for(let B=0;B<A;B++)d.HEAPU32[U++]=q[B],d.HEAPU32[Y++]=f[i[B]];for(let B=0;B<M;B++)d.HEAPU32[nr++]=I[B],d.HEAPU32[Ze++]=_[m[B]];let ar;ar=await d._OrtRun(T,J,te,A,Fe,M,_e,L),ar!==0&&ie("failed to call OrtRun().");let ne=[];for(let B=0;B<M;B++){let Ie=d.HEAPU32[_e/4+B];if(Ie===I[B]){ne.push(c[B]);continue}let ke=d.stackSave(),ye=d.stackAlloc(4*4),se=!1,le,pe=0;try{d._OrtGetTensorData(Ie,ye,ye+4,ye+8,ye+12)!==0&&ie(`Can't access output tensor data on index ${B}.`);let He=ye/4,je=d.HEAPU32[He++];pe=d.HEAPU32[He++];let We=d.HEAPU32[He++],Se=d.HEAPU32[He++],Le=[];for(let me=0;me<Se;me++)Le.push(d.HEAPU32[We/4+me]);d._OrtFree(We);let ze=Le.reduce((me,ce)=>me*ce,1);le=Ra(je);let we=S?.outputPreferredLocations[m[B]];if(le==="string"){if(we==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let me=[],ce=pe/4;for(let Ve=0;Ve<ze;Ve++){let ir=d.HEAPU32[ce++],Ge=Ve===ze-1?void 0:d.HEAPU32[ce]-ir;me.push(d.UTF8ToString(ir,Ge))}ne.push([le,Le,me,"cpu"])}else if(we==="gpu-buffer"&&ze>0){let me=d.jsepGetBuffer(pe),ce=cn(je);if(ce===void 0||!Dt(le))throw new Error(`Unsupported data type: ${le}`);se=!0,ne.push([le,Le,{gpuBuffer:me,download:d.jsepCreateDownloader(me,ze*ce,le),dispose:()=>{d._OrtReleaseTensor(Ie)}},"gpu-buffer"])}else{let me=xa(le),ce=new me(ze);new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength).set(d.HEAPU8.subarray(pe,pe+ce.byteLength)),ne.push([le,Le,ce,"cpu"])}}finally{d.stackRestore(ke),le==="string"&&pe&&d._free(pe),se||d._OrtReleaseTensor(Ie)}}return S&&d._OrtClearBoundOutputs(S.handle),ne}finally{d.stackRestore(G),q.forEach(U=>d._OrtReleaseTensor(U)),I.forEach(U=>d._OrtReleaseTensor(U)),P.forEach(U=>d._free(U)),L!==0&&d._OrtReleaseRunOptions(L),N.forEach(U=>d._free(U))}},za=o=>{let i=ue(),s=nt.get(o);if(!s)throw new Error("invalid session id");let m=s[0],c=i._OrtEndProfiling(m);c===0&&ie("Can't get an profile file name."),i._OrtFree(c)},Ga=o=>{let i=[];for(let s of o){let m=s[2];!Array.isArray(m)&&"buffer"in m&&i.push(m.buffer)}return i}});var Va=Fr((is,Wo)=>{Wo.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var pt=Object.defineProperty;var Nn=Object.getOwnPropertyDescriptor;var Hn=Object.getOwnPropertyNames;var jn=Object.prototype.hasOwnProperty;var mt=(l,y)=>()=>(l&&(y=l(l=0)),y);var xr=(l,y)=>()=>(y||l((y={exports:{}}).exports,y),y.exports),gt=(l,y)=>{for(var u in y)pt(l,u,{get:y[u],enumerable:!0})},zn=(l,y,u,v)=>{if(y&&typeof y=="object"||typeof y=="function")for(let w of Hn(y))!jn.call(l,w)&&w!==u&&pt(l,w,{get:()=>y[w],enumerable:!(v=Nn(y,w))||v.enumerable});return l};var Br=l=>zn(pt({},"__esModule",{value:!0}),l);var ht={};gt(ht,{createReadStream:()=>tn,readFile:()=>Yn,readFileSync:()=>Gn});var Yn,Gn,tn,yt=mt(()=>{Yn=void 0,Gn=void 0,tn=void 0});var vt={};gt(vt,{join:()=>Vn});var Vn,wt=mt(()=>{Vn=void 0});var Ot=xr((on,bt)=>{"use strict";var nn=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(y={}){var u=y,v,w;u.ready=new Promise((r,n)=>{v=r,w=n});var _=Object.assign({},u),d="./this.program",T=typeof window=="object",R=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",L="",z,N,$;if(f){var q=(yt(),Br(ht)),K=(wt(),Br(vt));L=R?K.dirname(L)+"/":__dirname+"/",z=(r,n)=>(r=ke(r)?new URL(r):K.normalize(r),q.readFileSync(r,n?void 0:"utf8")),$=r=>(r=z(r,!0),r.buffer||(r=new Uint8Array(r)),r),N=(r,n,a,s=!0)=>{r=ke(r)?new URL(r):K.normalize(r),q.readFile(r,s?void 0:"utf8",(p,b)=>{p?a(p):n(s?b.buffer:b)})},!u.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),u.inspect=()=>"[Emscripten Module object]"}else(T||R)&&(R?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),l&&(L=l),L.indexOf("blob:")!==0?L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):L="",z=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},R&&($=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),N=(r,n,a)=>{var s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="arraybuffer",s.onload=()=>{s.status==200||s.status==0&&s.response?n(s.response):a()},s.onerror=a,s.send(null)});var ne=console.log.bind(console),W=console.error.bind(console);Object.assign(u,_),_=null,typeof WebAssembly!="object"&&er("no native wasm support detected");var E,X=!1,ye,Z,be,Me,A,H,Ke,Ge,Qe,Q;function F(){var r=E.buffer;u.HEAP8=ye=new Int8Array(r),u.HEAP16=be=new Int16Array(r),u.HEAPU8=Z=new Uint8Array(r),u.HEAPU16=Me=new Uint16Array(r),u.HEAP32=A=new Int32Array(r),u.HEAPU32=H=new Uint32Array(r),u.HEAPF32=Ke=new Float32Array(r),u.HEAPF64=Q=new Float64Array(r),u.HEAP64=Ge=new BigInt64Array(r),u.HEAPU64=Qe=new BigUint64Array(r)}var Pe=[],Ue=[],me=[],oe=0,se=null,le=null;function er(r){throw r="Aborted("+r+")",W(r),X=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),w(r),r}var Be=r=>r.startsWith("data:application/octet-stream;base64,"),ke=r=>r.startsWith("file://"),Ie;if(Ie="ort-wasm.wasm",!Be(Ie)){var _e=Ie;Ie=u.locateFile?u.locateFile(_e,L):L+_e}function We(r){if($)return $(r);throw"both async and sync fetching of the wasm failed"}function Le(r){if(T||R){if(typeof fetch=="function"&&!ke(r))return fetch(r,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+r+"\'";return n.arrayBuffer()}).catch(()=>We(r));if(N)return new Promise((n,a)=>{N(r,s=>n(new Uint8Array(s)),a)})}return Promise.resolve().then(()=>We(r))}function ge(r,n,a){return Le(r).then(s=>WebAssembly.instantiate(s,n)).then(s=>s).then(a,s=>{W(`failed to asynchronously prepare wasm: ${s}`),er(s)})}function ce(r,n){var a=Ie;return typeof WebAssembly.instantiateStreaming!="function"||Be(a)||ke(a)||f||typeof fetch!="function"?ge(a,r,n):fetch(a,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,r).then(n,function(p){return W(`wasm streaming compile failed: ${p}`),W("falling back to ArrayBuffer instantiation"),ge(a,r,n)}))}var ue={1374888:(r,n,a,s)=>{if(typeof u>"u"||!u.cb)return 1;if(r=qe(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=u.cb.get(r),!r)return 2;if(n>>>=0,a>>>=0,n+a>r.byteLength)return 3;try{return Z.set(r.subarray(n,n+a),s>>>0>>>0),0}catch{return 4}}};function He(r){this.Ua=r-24,this.fb=function(n){H[this.Ua+4>>>2>>>0]=n},this.eb=function(n){H[this.Ua+8>>>2>>>0]=n},this.Ya=function(n,a){this.Za(),this.fb(n),this.eb(a)},this.Za=function(){H[this.Ua+16>>>2>>>0]=0}}var rr=0,$e=0,sr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(r,n,a)=>{n>>>=0;var s=n+a;for(a=n;r[a]&&!(a>=s);)++a;if(16<a-n&&r.buffer&&sr)return sr.decode(r.subarray(n,a));for(s="";n<a;){var p=r[n++];if(p&128){var b=r[n++]&63;if((p&224)==192)s+=String.fromCharCode((p&31)<<6|b);else{var C=r[n++]&63;p=(p&240)==224?(p&15)<<12|b<<6|C:(p&7)<<18|b<<12|C<<6|r[n++]&63,65536>p?s+=String.fromCharCode(p):(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023))}}else s+=String.fromCharCode(p)}return s},qe=(r,n)=>(r>>>=0)?Ve(Z,r,n):"",Je=r=>{for(var n=0,a=0;a<r.length;++a){var s=r.charCodeAt(a);127>=s?n++:2047>=s?n+=2:55296<=s&&57343>=s?(n+=4,++a):n+=3}return n},tr=(r,n,a,s)=>{if(a>>>=0,!(0<s))return 0;var p=a;s=a+s-1;for(var b=0;b<r.length;++b){var C=r.charCodeAt(b);if(55296<=C&&57343>=C){var M=r.charCodeAt(++b);C=65536+((C&1023)<<10)|M&1023}if(127>=C){if(a>=s)break;n[a++>>>0]=C}else{if(2047>=C){if(a+1>=s)break;n[a++>>>0]=192|C>>6}else{if(65535>=C){if(a+2>=s)break;n[a++>>>0]=224|C>>12}else{if(a+3>=s)break;n[a++>>>0]=240|C>>18,n[a++>>>0]=128|C>>12&63}n[a++>>>0]=128|C>>6&63}n[a++>>>0]=128|C&63}}return n[a>>>0]=0,a-p},nr=r=>{if(r===null)return"null";var n=typeof r;return n==="object"||n==="array"||n==="function"?r.toString():""+r},Xe,Oe=r=>{for(var n="";Z[r>>>0];)n+=Xe[Z[r++>>>0]];return n},br={},ur={},nt={},Re;function fr(r,n,a={}){var s=n.name;if(!r)throw new Re(`type "${s}" must have a positive integer typeid pointer`);if(ur.hasOwnProperty(r)){if(a.gb)return;throw new Re(`Cannot register type \'${s}\' twice`)}ur[r]=n,delete nt[r],br.hasOwnProperty(r)&&(n=br[r],delete br[r],n.forEach(p=>p()))}function Te(r,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");fr(r,n,a)}var Or=(r,n,a)=>{switch(n){case 1:return a?s=>ye[s>>>0>>>0]:s=>Z[s>>>0>>>0];case 2:return a?s=>be[s>>>1>>>0]:s=>Me[s>>>1>>>0];case 4:return a?s=>A[s>>>2>>>0]:s=>H[s>>>2>>>0];case 8:return a?s=>Ge[s>>>3]:s=>Qe[s>>>3];default:throw new TypeError(`invalid integer width (${n}): ${r}`)}};function Ze(){this.Ra=[void 0],this.ab=[]}var ve=new Ze;function lr(r){r>>>=0,r>=ve.Ua&&--ve.get(r).bb===0&&ve.Za(r)}var fe=r=>{if(!r)throw new Re("Cannot use deleted val. handle = "+r);return ve.get(r).value},Fe=r=>{switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.Ya({bb:1,value:r})}};function G(r){return this.fromWireType(A[r>>>2>>>0])}var $r=(r,n)=>{switch(n){case 4:return function(a){return this.fromWireType(Ke[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(Q[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${r}`)}};function _r(r){return this.fromWireType(H[r>>>2>>>0])}var Nr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Hr=(r,n)=>{for(var a=r>>1,s=a+n/2;!(a>=s)&&Me[a>>>0];)++a;if(a<<=1,32<a-r&&Nr)return Nr.decode(Z.subarray(r>>>0,a>>>0));for(a="",s=0;!(s>=n/2);++s){var p=be[r+2*s>>>1>>>0];if(p==0)break;a+=String.fromCharCode(p)}return a},ot=(r,n,a)=>{if(a??=2147483647,2>a)return 0;a-=2;var s=n;a=a<2*r.length?a/2:r.length;for(var p=0;p<a;++p)be[n>>>1>>>0]=r.charCodeAt(p),n+=2;return be[n>>>1>>>0]=0,n-s},I=r=>2*r.length,cr=(r,n)=>{for(var a=0,s="";!(a>=n/4);){var p=A[r+4*a>>>2>>>0];if(p==0)break;++a,65536<=p?(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023)):s+=String.fromCharCode(p)}return s},jr=(r,n,a)=>{if(n>>>=0,a??=2147483647,4>a)return 0;var s=n;a=s+a-4;for(var p=0;p<r.length;++p){var b=r.charCodeAt(p);if(55296<=b&&57343>=b){var C=r.charCodeAt(++p);b=65536+((b&1023)<<10)|C&1023}if(A[n>>>2>>>0]=b,n+=4,n+4>a)break}return A[n>>>2>>>0]=0,n-s},dr=r=>{for(var n=0,a=0;a<r.length;++a){var s=r.charCodeAt(a);55296<=s&&57343>=s&&++a,n+=4}return n},pr=(r,n)=>{var a=ur[r];if(a===void 0)throw r=De(r),a=Oe(r),xe(r),new Re(n+" has unknown type "+a);return a},zr=(r,n,a)=>{var s=[];return r=r.toWireType(s,a),s.length&&(H[n>>>2>>>0]=Fe(s)),r},or=[],at={},mr=r=>{var n=at[r];return n===void 0?Oe(r):n},Tr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Yr=r=>{var n=or.length;return or.push(r),n},Gr=(r,n)=>{for(var a=Array(r),s=0;s<r;++s)a[s]=pr(H[n+4*s>>>2>>>0],"parameter "+s);return a},ar=(r,n)=>Object.defineProperty(n,"name",{value:r});function Vr(r){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=ar(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,r=n.apply(a,r),r instanceof Object?r:a}var Ne=r=>r%4===0&&(r%100!==0||r%400===0),Ar=[0,31,60,91,121,152,182,213,244,274,305,335],Er=[0,31,59,90,120,151,181,212,243,273,304,334],Sr=r=>{var n=Je(r)+1,a=Ae(n);return a&&tr(r,Z,a,n),a},gr=[],hr={},Cr=()=>{if(!yr){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in hr)hr[n]===void 0?delete r[n]:r[n]=hr[n];var a=[];for(n in r)a.push(`${n}=${r[n]}`);yr=a}return yr},yr,qr=[null,[],[]],Mr=[31,29,31,30,31,30,31,31,30,31,30,31],Pr=[31,28,31,30,31,30,31,31,30,31,30,31];function Jr(r){var n=Array(Je(r)+1);return tr(r,n,0,n.length),n}function Fr(r,n,a,s){function p(g,j,V){for(g=typeof g=="number"?g.toString():g||"";g.length<j;)g=V[0]+g;return g}function b(g,j){return p(g,j,"0")}function C(g,j){function V(vr){return 0>vr?-1:0<vr?1:0}var je;return(je=V(g.getFullYear()-j.getFullYear()))===0&&(je=V(g.getMonth()-j.getMonth()))===0&&(je=V(g.getDate()-j.getDate())),je}function M(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function B(g){var j=g.Sa;for(g=new Date(new Date(g.Ta+1900,0,1).getTime());0<j;){var V=g.getMonth(),je=(Ne(g.getFullYear())?Mr:Pr)[V];if(j>je-g.getDate())j-=je-g.getDate()+1,g.setDate(1),11>V?g.setMonth(V+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+j);break}}return V=new Date(g.getFullYear()+1,0,4),j=M(new Date(g.getFullYear(),0,4)),V=M(V),0>=C(j,g)?0>=C(V,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}r>>>=0,n>>>=0,a>>>=0,s>>>=0;var U=H[s+40>>>2>>>0];s={kb:A[s>>>2>>>0],jb:A[s+4>>>2>>>0],Wa:A[s+8>>>2>>>0],$a:A[s+12>>>2>>>0],Xa:A[s+16>>>2>>>0],Ta:A[s+20>>>2>>>0],Na:A[s+24>>>2>>>0],Sa:A[s+28>>>2>>>0],mb:A[s+32>>>2>>>0],ib:A[s+36>>>2>>>0],lb:U?qe(U):""},a=qe(a),U={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var J in U)a=a.replace(new RegExp(J,"g"),U[J]);var pe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Se="January February March April May June July August September October November December".split(" ");U={"%a":g=>pe[g.Na].substring(0,3),"%A":g=>pe[g.Na],"%b":g=>Se[g.Xa].substring(0,3),"%B":g=>Se[g.Xa],"%C":g=>b((g.Ta+1900)/100|0,2),"%d":g=>b(g.$a,2),"%e":g=>p(g.$a,2," "),"%g":g=>B(g).toString().substring(2),"%G":g=>B(g),"%H":g=>b(g.Wa,2),"%I":g=>(g=g.Wa,g==0?g=12:12<g&&(g-=12),b(g,2)),"%j":g=>{for(var j=0,V=0;V<=g.Xa-1;j+=(Ne(g.Ta+1900)?Mr:Pr)[V++]);return b(g.$a+j,3)},"%m":g=>b(g.Xa+1,2),"%M":g=>b(g.jb,2),"%n":()=>`\n`,"%p":g=>0<=g.Wa&&12>g.Wa?"AM":"PM","%S":g=>b(g.kb,2),"%t":()=>"	","%u":g=>g.Na||7,"%U":g=>b(Math.floor((g.Sa+7-g.Na)/7),2),"%V":g=>{var j=Math.floor((g.Sa+7-(g.Na+6)%7)/7);if(2>=(g.Na+371-g.Sa-2)%7&&j++,j)j==53&&(V=(g.Na+371-g.Sa)%7,V==4||V==3&&Ne(g.Ta)||(j=1));else{j=52;var V=(g.Na+7-g.Sa-1)%7;(V==4||V==5&&Ne(g.Ta%400-1))&&j++}return b(j,2)},"%w":g=>g.Na,"%W":g=>b(Math.floor((g.Sa+7-(g.Na+6)%7)/7),2),"%y":g=>(g.Ta+1900).toString().substring(2),"%Y":g=>g.Ta+1900,"%z":g=>{g=g.ib;var j=0<=g;return g=Math.abs(g)/60,(j?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(J in U)a.includes(J)&&(a=a.replace(new RegExp(J,"g"),U[J](s)));return a=a.replace(/\\0\\0/g,"%"),J=Jr(a),J.length>n?0:(ye.set(J,r>>>0),J.length-1)}for(var Dr=Array(256),he=0;256>he;++he)Dr[he]=String.fromCharCode(he);Xe=Dr,Re=u.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},u.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},Object.assign(Ze.prototype,{get(r){return this.Ra[r]},has(r){return this.Ra[r]!==void 0},Ya(r){var n=this.ab.pop()||this.Ra.length;return this.Ra[n]=r,n},Za(r){this.Ra[r]=void 0,this.ab.push(r)}}),ve.Ra.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.Ua=ve.Ra.length,u.count_emval_handles=()=>{for(var r=0,n=ve.Ua;n<ve.Ra.length;++n)ve.Ra[n]!==void 0&&++r;return r};var Ur={a:function(r,n,a){throw r>>>=0,new He(r).Ya(n>>>0,a>>>0),rr=r,$e++,rr},t:function(){return 0},$:function(){},M:function(){},O:function(){},G:function(){return 0},Z:function(){},U:function(){},Y:function(){},B:function(){},N:function(){},K:function(){},_:function(){},L:function(){},E:function(r,n,a,s,p){n>>>=0,n=Oe(n);var b=n.indexOf("u")!=-1;b&&(p=(1n<<64n)-1n),Te(r>>>0,{name:n,fromWireType:C=>C,toWireType:function(C,M){if(typeof M!="bigint"&&typeof M!="number")throw new TypeError(`Cannot convert "${nr(M)}" to ${this.name}`);if(M<s||M>p)throw new TypeError(`Passing a number "${nr(M)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${s}, ${p}]!`);return M},argPackAdvance:8,readValueFromPointer:Or(n,a>>>0,!b),Va:null})},da:function(r,n,a,s){n=Oe(n>>>0),Te(r>>>0,{name:n,fromWireType:function(p){return!!p},toWireType:function(p,b){return b?a:s},argPackAdvance:8,readValueFromPointer:function(p){return this.fromWireType(Z[p>>>0])},Va:null})},ca:function(r,n){n=Oe(n>>>0),Te(r>>>0,{name:n,fromWireType:a=>{var s=fe(a);return lr(a),s},toWireType:(a,s)=>Fe(s),argPackAdvance:8,readValueFromPointer:G,Va:null})},D:function(r,n,a){n=Oe(n>>>0),Te(r>>>0,{name:n,fromWireType:s=>s,toWireType:(s,p)=>p,argPackAdvance:8,readValueFromPointer:$r(n,a>>>0),Va:null})},q:function(r,n,a,s,p){if(r>>>=0,a>>>=0,n=Oe(n>>>0),p===-1&&(p=4294967295),p=M=>M,s===0){var b=32-8*a;p=M=>M<<b>>>b}var C=n.includes("unsigned")?function(M,B){return B>>>0}:function(M,B){return B};Te(r,{name:n,fromWireType:p,toWireType:C,argPackAdvance:8,readValueFromPointer:Or(n,a,s!==0),Va:null})},l:function(r,n,a){function s(b){return new p(ye.buffer,H[b+4>>>2>>>0],H[b>>>2>>>0])}var p=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Oe(a>>>0),Te(r>>>0,{name:a,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{gb:!0})},F:function(r,n){n=Oe(n>>>0);var a=n==="std::string";Te(r>>>0,{name:n,fromWireType:function(s){var p=H[s>>>2>>>0],b=s+4;if(a)for(var C=b,M=0;M<=p;++M){var B=b+M;if(M==p||Z[B>>>0]==0){if(C=qe(C,B-C),U===void 0)var U=C;else U+=String.fromCharCode(0),U+=C;C=B+1}}else{for(U=Array(p),M=0;M<p;++M)U[M]=String.fromCharCode(Z[b+M>>>0]);U=U.join("")}return xe(s),U},toWireType:function(s,p){p instanceof ArrayBuffer&&(p=new Uint8Array(p));var b=typeof p=="string";if(!(b||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int8Array))throw new Re("Cannot pass non-string to std::string");var C=a&&b?Je(p):p.length,M=Ae(4+C+1),B=M+4;if(H[M>>>2>>>0]=C,a&&b)tr(p,Z,B,C+1);else if(b)for(b=0;b<C;++b){var U=p.charCodeAt(b);if(255<U)throw xe(B),new Re("String has UTF-16 code units that do not fit in 8 bits");Z[B+b>>>0]=U}else for(b=0;b<C;++b)Z[B+b>>>0]=p[b];return s!==null&&s.push(xe,M),M},argPackAdvance:8,readValueFromPointer:_r,Va(s){xe(s)}})},v:function(r,n,a){if(n>>>=0,a>>>=0,a=Oe(a),n===2)var s=Hr,p=ot,b=I,C=()=>Me,M=1;else n===4&&(s=cr,p=jr,b=dr,C=()=>H,M=2);Te(r>>>0,{name:a,fromWireType:B=>{for(var U=H[B>>>2>>>0],J=C(),pe,Se=B+4,g=0;g<=U;++g){var j=B+4+g*n;(g==U||J[j>>>M]==0)&&(Se=s(Se,j-Se),pe===void 0?pe=Se:(pe+=String.fromCharCode(0),pe+=Se),Se=j+n)}return xe(B),pe},toWireType:(B,U)=>{if(typeof U!="string")throw new Re(`Cannot pass non-string to C++ string type ${a}`);var J=b(U),pe=Ae(4+J+n);return H[pe>>>2]=J>>M,p(U,pe+4,J+n),B!==null&&B.push(xe,pe),pe},argPackAdvance:8,readValueFromPointer:G,Va(B){xe(B)}})},ea:function(r,n){n=Oe(n>>>0),Te(r>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},aa:()=>1,o:function(r,n,a){return n>>>=0,a>>>=0,r=fe(r>>>0),n=pr(n,"emval::as"),zr(n,a,r)},x:function(r,n,a,s){return a>>>=0,s>>>=0,r=or[r>>>0],n=fe(n>>>0),r(null,n,a,s)},j:function(r,n,a,s,p){return a>>>=0,s>>>=0,p>>>=0,r=or[r>>>0],n=fe(n>>>0),a=mr(a),r(n,n[a],s,p)},b:lr,w:function(r,n){return n>>>=0,r=fe(r>>>0),n=fe(n),r==n},s:function(r){return r>>>=0,r===0?Fe(Tr()):(r=mr(r),Fe(Tr()[r]))},i:function(r,n,a){n=Gr(r,n>>>0);var s=n.shift();r--;var p=`return function (obj, func, destructorsRef, args) {\n`,b=0,C=[];a===0&&C.push("obj");for(var M=["retType"],B=[s],U=0;U<r;++U)C.push("arg"+U),M.push("argType"+U),B.push(n[U]),p+=`  var arg${U} = argType${U}.readValueFromPointer(args${b?"+"+b:""});\n`,b+=n[U].argPackAdvance;for(p+=`  var rv = ${a===1?"new func":"func.call"}(${C.join(", ")});\n`,U=0;U<r;++U)n[U].deleteObject&&(p+=`  argType${U}.deleteObject(arg${U});\n`);return s.hb||(M.push("emval_returnValue"),B.push(zr),p+=`  return emval_returnValue(retType, destructorsRef, rv);\n`),M.push(p+`};\n`),r=Vr(M).apply(null,B),a=`methodCaller<(${n.map(J=>J.name).join(", ")}) => ${s.name}>`,Yr(ar(a,r))},p:function(r,n){return n>>>=0,r=fe(r>>>0),n=fe(n),Fe(r[n])},c:function(r){r>>>=0,4<r&&(ve.get(r).bb+=1)},r:function(){return Fe([])},k:function(r){r=fe(r>>>0);for(var n=Array(r.length),a=0;a<r.length;a++)n[a]=r[a];return Fe(n)},d:function(r){return Fe(mr(r>>>0))},h:function(){return Fe({})},g:function(r){r>>>=0;for(var n=fe(r);n.length;){var a=n.pop();n.pop()(a)}lr(r)},f:function(r,n,a){n>>>=0,a>>>=0,r=fe(r>>>0),n=fe(n),a=fe(a),r[n]=a},e:function(r,n){return n>>>=0,r=pr(r>>>0,"_emval_take_value"),r=r.readValueFromPointer(n),Fe(r)},R:function(r,n){r=-9007199254740992>r||9007199254740992<r?NaN:Number(r),n>>>=0,r=new Date(1e3*r),A[n>>>2>>>0]=r.getUTCSeconds(),A[n+4>>>2>>>0]=r.getUTCMinutes(),A[n+8>>>2>>>0]=r.getUTCHours(),A[n+12>>>2>>>0]=r.getUTCDate(),A[n+16>>>2>>>0]=r.getUTCMonth(),A[n+20>>>2>>>0]=r.getUTCFullYear()-1900,A[n+24>>>2>>>0]=r.getUTCDay(),A[n+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},S:function(r,n){r=-9007199254740992>r||9007199254740992<r?NaN:Number(r),n>>>=0,r=new Date(1e3*r),A[n>>>2>>>0]=r.getSeconds(),A[n+4>>>2>>>0]=r.getMinutes(),A[n+8>>>2>>>0]=r.getHours(),A[n+12>>>2>>>0]=r.getDate(),A[n+16>>>2>>>0]=r.getMonth(),A[n+20>>>2>>>0]=r.getFullYear()-1900,A[n+24>>>2>>>0]=r.getDay(),A[n+28>>>2>>>0]=(Ne(r.getFullYear())?Ar:Er)[r.getMonth()]+r.getDate()-1|0,A[n+36>>>2>>>0]=-(60*r.getTimezoneOffset());var a=new Date(r.getFullYear(),6,1).getTimezoneOffset(),s=new Date(r.getFullYear(),0,1).getTimezoneOffset();A[n+32>>>2>>>0]=(a!=s&&r.getTimezoneOffset()==Math.min(s,a))|0},T:function(r){r>>>=0;var n=new Date(A[r+20>>>2>>>0]+1900,A[r+16>>>2>>>0],A[r+12>>>2>>>0],A[r+8>>>2>>>0],A[r+4>>>2>>>0],A[r>>>2>>>0],0),a=A[r+32>>>2>>>0],s=n.getTimezoneOffset(),p=new Date(n.getFullYear(),6,1).getTimezoneOffset(),b=new Date(n.getFullYear(),0,1).getTimezoneOffset(),C=Math.min(b,p);return 0>a?A[r+32>>>2>>>0]=+(p!=b&&C==s):0<a!=(C==s)&&(p=Math.max(b,p),n.setTime(n.getTime()+6e4*((0<a?C:p)-s))),A[r+24>>>2>>>0]=n.getDay(),A[r+28>>>2>>>0]=(Ne(n.getFullYear())?Ar:Er)[n.getMonth()]+n.getDate()-1|0,A[r>>>2>>>0]=n.getSeconds(),A[r+4>>>2>>>0]=n.getMinutes(),A[r+8>>>2>>>0]=n.getHours(),A[r+12>>>2>>>0]=n.getDate(),A[r+16>>>2>>>0]=n.getMonth(),A[r+20>>>2>>>0]=n.getYear(),r=n.getTime(),isNaN(r)?(A[Xr()>>>2>>>0]=61,r=-1):r/=1e3,BigInt(r)},P:function(){return-52},Q:function(){},I:function(r,n,a){function s(B){return(B=B.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?B[1]:"GMT"}a>>>=0;var p=new Date().getFullYear(),b=new Date(p,0,1),C=new Date(p,6,1);p=b.getTimezoneOffset();var M=C.getTimezoneOffset();H[r>>>0>>>2>>>0]=60*Math.max(p,M),A[n>>>0>>>2>>>0]=+(p!=M),r=s(b),n=s(C),r=Sr(r),n=Sr(n),M<p?(H[a>>>2>>>0]=r,H[a+4>>>2>>>0]=n):(H[a>>>2>>>0]=n,H[a+4>>>2>>>0]=r)},y:()=>{er("")},fa:function(r,n,a){r>>>=0,n>>>=0,a>>>=0,gr.length=0;for(var s;s=Z[n++>>>0];){var p=s!=105;p&=s!=112,a+=p&&a%8?4:0,gr.push(s==112?H[a>>>2>>>0]:s==106?Ge[a>>>3]:s==105?A[a>>>2>>>0]:Q[a>>>3>>>0]),a+=p?8:4}return ue[r].apply(null,gr)},C:()=>Date.now(),J:function(){return 4294901760},n:()=>performance.now(),H:function(r){r>>>=0;var n=Z.length;if(4294901760<r)return!1;for(var a=1;4>=a;a*=2){var s=n*(1+.2/a);s=Math.min(s,r+100663296);var p=Math;s=Math.max(r,s);e:{p=(p.min.call(p,4294901760,s+(65536-s%65536)%65536)-E.buffer.byteLength+65535)/65536;try{E.grow(p),F();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},W:function(r,n){r>>>=0,n>>>=0;var a=0;return Cr().forEach((s,p)=>{var b=n+a;for(p=H[r+4*p>>>2>>>0]=b,b=0;b<s.length;++b)ye[p++>>>0>>>0]=s.charCodeAt(b);ye[p>>>0>>>0]=0,a+=s.length+1}),0},X:function(r,n){r>>>=0,n>>>=0;var a=Cr();H[r>>>2>>>0]=a.length;var s=0;return a.forEach(p=>s+=p.length+1),H[n>>>2>>>0]=s,0},u:()=>52,A:function(){return 52},V:function(){return 70},z:function(r,n,a,s){n>>>=0,a>>>=0,s>>>=0;for(var p=0,b=0;b<a;b++){var C=H[n>>>2>>>0],M=H[n+4>>>2>>>0];n+=8;for(var B=0;B<M;B++){var U=Z[C+B>>>0],J=qr[r];U===0||U===10?((r===1?ne:W)(Ve(J,0)),J.length=0):J.push(U)}p+=M}return H[s>>>2>>>0]=p,0},ba:Fr,m:function(r,n,a,s){return Fr(r>>>0,n>>>0,a>>>0,s>>>0)}},x=function(){function r(a){return x=a.exports,x=Rr(),E=x.ga,F(),Ue.unshift(x.ha),oe--,oe==0&&(se!==null&&(clearInterval(se),se=null),le&&(a=le,le=null,a())),x}var n={a:Ur};if(oe++,u.instantiateWasm)try{return u.instantiateWasm(n,r)}catch(a){W(`Module.instantiateWasm callback failed with error: ${a}`),w(a)}return ce(n,function(a){r(a.instance)}).catch(w),{}}();u._OrtInit=(r,n)=>(u._OrtInit=x.ia)(r,n),u._OrtGetLastError=(r,n)=>(u._OrtGetLastError=x.ja)(r,n),u._OrtCreateSessionOptions=(r,n,a,s,p,b,C,M,B,U)=>(u._OrtCreateSessionOptions=x.ka)(r,n,a,s,p,b,C,M,B,U),u._OrtAppendExecutionProvider=(r,n)=>(u._OrtAppendExecutionProvider=x.la)(r,n),u._OrtAddFreeDimensionOverride=(r,n,a)=>(u._OrtAddFreeDimensionOverride=x.ma)(r,n,a),u._OrtAddSessionConfigEntry=(r,n,a)=>(u._OrtAddSessionConfigEntry=x.na)(r,n,a),u._OrtReleaseSessionOptions=r=>(u._OrtReleaseSessionOptions=x.oa)(r),u._OrtCreateSession=(r,n,a)=>(u._OrtCreateSession=x.pa)(r,n,a),u._OrtReleaseSession=r=>(u._OrtReleaseSession=x.qa)(r),u._OrtGetInputOutputCount=(r,n,a)=>(u._OrtGetInputOutputCount=x.ra)(r,n,a),u._OrtGetInputName=(r,n)=>(u._OrtGetInputName=x.sa)(r,n),u._OrtGetOutputName=(r,n)=>(u._OrtGetOutputName=x.ta)(r,n),u._OrtFree=r=>(u._OrtFree=x.ua)(r),u._OrtCreateTensor=(r,n,a,s,p,b)=>(u._OrtCreateTensor=x.va)(r,n,a,s,p,b),u._OrtGetTensorData=(r,n,a,s,p)=>(u._OrtGetTensorData=x.wa)(r,n,a,s,p),u._OrtReleaseTensor=r=>(u._OrtReleaseTensor=x.xa)(r),u._OrtCreateRunOptions=(r,n,a,s)=>(u._OrtCreateRunOptions=x.ya)(r,n,a,s),u._OrtAddRunConfigEntry=(r,n,a)=>(u._OrtAddRunConfigEntry=x.za)(r,n,a),u._OrtReleaseRunOptions=r=>(u._OrtReleaseRunOptions=x.Aa)(r),u._OrtCreateBinding=r=>(u._OrtCreateBinding=x.Ba)(r),u._OrtBindInput=(r,n,a)=>(u._OrtBindInput=x.Ca)(r,n,a),u._OrtBindOutput=(r,n,a,s)=>(u._OrtBindOutput=x.Da)(r,n,a,s),u._OrtClearBoundOutputs=r=>(u._OrtClearBoundOutputs=x.Ea)(r),u._OrtReleaseBinding=r=>(u._OrtReleaseBinding=x.Fa)(r),u._OrtRunWithBinding=(r,n,a,s,p)=>(u._OrtRunWithBinding=x.Ga)(r,n,a,s,p),u._OrtRun=(r,n,a,s,p,b,C,M)=>(u._OrtRun=x.Ha)(r,n,a,s,p,b,C,M),u._OrtEndProfiling=r=>(u._OrtEndProfiling=x.Ia)(r);var Xr=()=>(Xr=x.Ja)(),Ae=u._malloc=r=>(Ae=u._malloc=x.Ka)(r),xe=u._free=r=>(xe=u._free=x.La)(r),De=r=>(De=x.Ma)(r),Ir=()=>(Ir=x.Oa)(),Wr=r=>(Wr=x.Pa)(r),we=r=>(we=x.Qa)(r);function Rr(){var r=x;r=Object.assign({},r);var n=s=>()=>s()>>>0,a=s=>p=>s(p)>>>0;return r.Ja=n(r.Ja),r.Ka=a(r.Ka),r.Ma=a(r.Ma),r.Oa=n(r.Oa),r.Qa=a(r.Qa),r}u.stackAlloc=we,u.stackSave=Ir,u.stackRestore=Wr,u.UTF8ToString=qe,u.stringToUTF8=(r,n,a)=>tr(r,Z,n,a),u.lengthBytesUTF8=Je;var de;le=function r(){de||Ee(),de||(le=r)};function Ee(){if(!(0<oe)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;){var r=u.preRun.shift();Pe.unshift(r)}for(;0<Pe.length;)Pe.shift()(u);if(!(0<oe||de||(de=!0,u.calledRun=!0,X))){for(;0<Ue.length;)Ue.shift()(u);for(v(u);0<me.length;)me.shift()(u)}}}return Ee(),y.ready}})();typeof on=="object"&&typeof bt=="object"?bt.exports=nn:typeof define=="function"&&define.amd&&define([],()=>nn)});var an=xr(()=>{});var sn=xr(()=>{});var un={};gt(un,{cpus:()=>qn});var qn,fn=mt(()=>{qn=void 0});var Tt=xr((cn,_t)=>{"use strict";var ln=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(y={}){function u(){return F.buffer!=oe.buffer&&ge(),oe}function v(){return F.buffer!=oe.buffer&&ge(),se}function w(){return F.buffer!=oe.buffer&&ge(),le}function _(){return F.buffer!=oe.buffer&&ge(),er}function d(){return F.buffer!=oe.buffer&&ge(),Be}function T(){return F.buffer!=oe.buffer&&ge(),ke}function R(){return F.buffer!=oe.buffer&&ge(),Le}var f=y,L,z;f.ready=new Promise((e,t)=>{L=e,z=t});var N=Object.assign({},f),$="./this.program",q=(e,t)=>{throw t},K=typeof window=="object",ne=typeof importScripts=="function",W=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",E=f.ENVIRONMENT_IS_PTHREAD||!1,X="";function ye(e){return f.locateFile?f.locateFile(e,X):X+e}var Z,be,Me;if(W){var A=(yt(),Br(ht)),H=(wt(),Br(vt));X=ne?H.dirname(X)+"/":__dirname+"/",Z=(t,o)=>(t=nr(t)?new URL(t):H.normalize(t),A.readFileSync(t,o?void 0:"utf8")),Me=t=>(t=Z(t,!0),t.buffer||(t=new Uint8Array(t)),t),be=(t,o,i,c=!0)=>{t=nr(t)?new URL(t):H.normalize(t),A.readFile(t,c?void 0:"utf8",(m,O)=>{m?i(m):o(c?O.buffer:O)})},!f.thisProgram&&1<process.argv.length&&($=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),q=(t,o)=>{throw process.exitCode=t,o},f.inspect=()=>"[Emscripten Module object]";let e;try{e=an()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(K||ne)&&(ne?X=self.location.href:typeof document<"u"&&document.currentScript&&(X=document.currentScript.src),typeof l<"u"&&l&&(X=l),X.indexOf("blob:")!==0?X=X.substr(0,X.replace(/[?#].*/,"").lastIndexOf("/")+1):X="",W||(Z=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ne&&(Me=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),be=(e,t,o)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?t(i.response):o()},i.onerror=o,i.send(null)}));W&&typeof performance>"u"&&(global.performance=sn().performance);var Ke=console.log.bind(console),Ge=console.error.bind(console);W&&(Ke=(...e)=>A.writeSync(1,e.join(" ")+`\n`),Ge=(...e)=>A.writeSync(2,e.join(" ")+`\n`));var Qe=Ke,Q=Ge;Object.assign(f,N),N=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var F,Pe,Ue=!1,me,oe,se,le,er,Be,ke,Ie,_e,We,Le;function ge(){var e=F.buffer;f.HEAP8=oe=new Int8Array(e),f.HEAP16=le=new Int16Array(e),f.HEAPU8=se=new Uint8Array(e),f.HEAPU16=er=new Uint16Array(e),f.HEAP32=Be=new Int32Array(e),f.HEAPU32=ke=new Uint32Array(e),f.HEAPF32=Ie=new Float32Array(e),f.HEAPF64=Le=new Float64Array(e),f.HEAP64=_e=new BigInt64Array(e),f.HEAPU64=We=new BigUint64Array(e)}var ce=16777216;if(E)F=f.wasmMemory;else if(f.wasmMemory)F=f.wasmMemory;else if(F=new WebAssembly.Memory({initial:ce/65536,maximum:65536,shared:!0}),!(F.buffer instanceof SharedArrayBuffer))throw Q("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),W&&Q("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ge(),ce=F.buffer.byteLength;var ue=[],He=[],rr=[],$e=0,sr=null,Ve=null;function qe(){if($e--,$e==0&&(sr!==null&&(clearInterval(sr),sr=null),Ve)){var e=Ve;Ve=null,e()}}function Je(e){throw e="Aborted("+e+")",Q(e),Ue=!0,me=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),z(e),e}var tr=e=>e.startsWith("data:application/octet-stream;base64,"),nr=e=>e.startsWith("file://"),Xe;Xe="ort-wasm-threaded.wasm",tr(Xe)||(Xe=ye(Xe));function Oe(e){if(Me)return Me(e);throw"both async and sync fetching of the wasm failed"}function br(e){if(K||ne){if(typeof fetch=="function"&&!nr(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Oe(e));if(be)return new Promise((t,o)=>{be(e,i=>t(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Oe(e))}function ur(e,t,o){return br(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(o,i=>{Q(`failed to asynchronously prepare wasm: ${i}`),Je(i)})}function nt(e,t){var o=Xe;return typeof WebAssembly.instantiateStreaming!="function"||tr(o)||nr(o)||W||typeof fetch!="function"?ur(o,e,t):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(t,function(c){return Q(`wasm streaming compile failed: ${c}`),Q("falling back to ArrayBuffer instantiation"),ur(o,e,t)}))}var Re={1379052:(e,t,o,i)=>{if(typeof f>"u"||!f.Hb)return 1;if(e=fe(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=f.Hb.get(e),!e)return 2;if(t>>>=0,o>>>=0,i>>>=0,t+o>e.byteLength)return 3;try{return v().set(e.subarray(t,t+o),i>>>0),0}catch{return 4}}};function fr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Te=e=>{e.terminate(),e.onmessage=()=>{}},Or=e=>{I.ob.length==0&&(Hr(),I.Bb(I.ob[0]));var t=I.ob.pop();if(!t)return 6;I.pb.push(t),I.kb[e.nb]=t,t.nb=e.nb;var o={cmd:"run",start_routine:e.Ob,arg:e.Ib,pthread_ptr:e.nb};return W&&t.unref(),t.postMessage(o,e.Ub),0},Ze=0,ve=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,lr=(e,t,o)=>{t>>>=0;var i=t+o;for(o=t;e[o]&&!(o>=i);)++o;if(16<o-t&&e.buffer&&ve)return ve.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,o):e.subarray(t,o));for(i="";t<o;){var c=e[t++];if(c&128){var m=e[t++]&63;if((c&224)==192)i+=String.fromCharCode((c&31)<<6|m);else{var O=e[t++]&63;c=(c&240)==224?(c&15)<<12|m<<6|O:(c&7)<<18|m<<12|O<<6|e[t++]&63,65536>c?i+=String.fromCharCode(c):(c-=65536,i+=String.fromCharCode(55296|c>>10,56320|c&1023))}}else i+=String.fromCharCode(c)}return i},fe=(e,t)=>(e>>>=0)?lr(v(),e,t):"",Fe=e=>{var t=ct();return e=e(),et(t),e};function G(e,t){var o=arguments.length-2,i=arguments;return Fe(()=>{for(var c=2*o,m=dt(8*c),O=m>>>3,S=0;S<o;S++){var k=i[2+S];typeof k=="bigint"?(_e[O+2*S]=1n,_e[O+2*S+1]=k):(_e[O+2*S]=0n,R()[O+2*S+1>>>0]=k)}return Zt(e,c,m,t)})}function $r(e){if(E)return G(0,1,e);me=e,0<Ze||(I.Pb(),f.onExit?.(e),Ue=!0),q(e,new fr(e))}var _r=e=>{if(me=e,E)throw jr(e),"unwind";$r(e)};function Nr(){for(var e=f.numThreads;e--;)Hr();ue.unshift(()=>{$e++,ot(()=>qe())})}function Hr(){var e=ye("ort-wasm-threaded.worker.js");e=new Worker(e),I.ob.push(e)}function ot(e){E?e():Promise.all(I.ob.map(I.Bb)).then(e)}var I={ob:[],pb:[],Gb:[],kb:{},wb(){E?(I.receiveObjectTransfer=I.Nb,I.threadInitTLS=I.Fb,I.setExitStatus=I.Eb):Nr()},Eb:e=>me=e,Xb:["$terminateWorker"],Pb:()=>{for(var e of I.pb)Te(e);for(e of I.ob)Te(e);I.ob=[],I.pb=[],I.kb=[]},Db:e=>{var t=e.nb;delete I.kb[t],I.ob.push(e),I.pb.splice(I.pb.indexOf(e),1),e.nb=0,ft(t)},Nb(){},Fb(){I.Gb.forEach(e=>e())},Bb:e=>new Promise(t=>{e.onmessage=m=>{m=m.data;var O=m.cmd;if(m.targetThread&&m.targetThread!=Kr()){var S=I.kb[m.targetThread];S?S.postMessage(m,m.transferList):Q(`Internal error! Worker sent a message "${O}" to target pthread ${m.targetThread}, but that thread no longer exists!`)}else O==="checkMailbox"?pe():O==="spawnThread"?Or(m):O==="cleanupThread"?I.Db(I.kb[m.thread]):O==="killThread"?(m=m.thread,O=I.kb[m],delete I.kb[m],Te(O),ft(m),I.pb.splice(I.pb.indexOf(O),1),O.nb=0):O==="cancelThread"?I.kb[m.thread].postMessage({cmd:"cancel"}):O==="loaded"?(e.loaded=!0,W&&!e.nb&&e.unref(),t(e)):O==="alert"?alert(`Thread ${m.threadId}: ${m.text}`):m.target==="setimmediate"?e.postMessage(m):O==="callHandler"?f[m.handler](...m.args):O&&Q(`worker sent an unknown command ${O}`)},e.onerror=m=>{throw Q(`worker sent an error! ${m.filename}:${m.lineno}: ${m.message}`),m},W&&(e.on("message",m=>e.onmessage({data:m})),e.on("error",m=>e.onerror(m)));var o=[],i=["onExit"],c;for(c of i)f.hasOwnProperty(c)&&o.push(c);e.postMessage({cmd:"load",handlers:o,urlOrBlob:f.mainScriptUrlOrBlob||l,wasmMemory:F,wasmModule:Pe})})};f.PThread=I;var cr=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=Kr(),t=T()[e+52>>>2>>>0];e=T()[e+56>>>2>>>0],Qt(t,t-e),et(t)};function jr(e){if(E)return G(1,0,e);_r(e)}var dr=[],pr;f.invokeEntryPoint=(e,t)=>{var o=dr[e];o||(e>=dr.length&&(dr.length=e+1),dr[e]=o=pr.get(e)),e=o(t),0<Ze?I.Eb(e):lt(e)};function zr(e){this.tb=e-24,this.Mb=function(t){T()[this.tb+4>>>2>>>0]=t},this.yb=function(t){T()[this.tb+8>>>2>>>0]=t},this.wb=function(t,o){this.xb(),this.Mb(t),this.yb(o)},this.xb=function(){T()[this.tb+16>>>2>>>0]=0}}var or=0,at=0;function mr(e,t,o,i){return E?G(2,1,e,t,o,i):Tr(e,t,o,i)}function Tr(e,t,o,i){if(e>>>=0,t>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return Q("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var c=[];return E&&c.length===0?mr(e,t,o,i):(e={Ob:o,nb:e,Ib:i,Ub:c},E?(e.Wb="spawnThread",postMessage(e,c),0):Or(e))}function Yr(e,t,o){return E?G(3,1,e,t,o):0}function Gr(e,t){if(E)return G(4,1,e,t)}var ar=e=>{for(var t=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);127>=i?t++:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,++o):t+=3}return t},Vr=(e,t,o,i)=>{if(o>>>=0,!(0<i))return 0;var c=o;i=o+i-1;for(var m=0;m<e.length;++m){var O=e.charCodeAt(m);if(55296<=O&&57343>=O){var S=e.charCodeAt(++m);O=65536+((O&1023)<<10)|S&1023}if(127>=O){if(o>=i)break;t[o++>>>0]=O}else{if(2047>=O){if(o+1>=i)break;t[o++>>>0]=192|O>>6}else{if(65535>=O){if(o+2>=i)break;t[o++>>>0]=224|O>>12}else{if(o+3>=i)break;t[o++>>>0]=240|O>>18,t[o++>>>0]=128|O>>12&63}t[o++>>>0]=128|O>>6&63}t[o++>>>0]=128|O&63}}return t[o>>>0]=0,o-c},Ne=(e,t,o)=>Vr(e,v(),t,o);function Ar(e,t){if(E)return G(5,1,e,t)}function Er(e,t,o){if(E)return G(6,1,e,t,o)}function Sr(e,t,o){return E?G(7,1,e,t,o):0}function gr(e,t){if(E)return G(8,1,e,t)}function hr(e,t,o){if(E)return G(9,1,e,t,o)}function Cr(e,t,o,i){if(E)return G(10,1,e,t,o,i)}function yr(e,t,o,i){if(E)return G(11,1,e,t,o,i)}function qr(e,t,o,i){if(E)return G(12,1,e,t,o,i)}function Mr(e){if(E)return G(13,1,e)}function Pr(e,t){if(E)return G(14,1,e,t)}function Jr(e,t,o){if(E)return G(15,1,e,t,o)}var Fr=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Dr,he=e=>{for(var t="";v()[e>>>0];)t+=Dr[v()[e++>>>0]];return t},Ur={},x={},Xr={},Ae;function xe(e,t,o={}){var i=t.name;if(!e)throw new Ae(`type "${i}" must have a positive integer typeid pointer`);if(x.hasOwnProperty(e)){if(o.Kb)return;throw new Ae(`Cannot register type \'${i}\' twice`)}x[e]=t,delete Xr[e],Ur.hasOwnProperty(e)&&(t=Ur[e],delete Ur[e],t.forEach(c=>c()))}function De(e,t,o={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");xe(e,t,o)}var Ir=(e,t,o)=>{switch(t){case 1:return o?i=>u()[i>>>0>>>0]:i=>v()[i>>>0>>>0];case 2:return o?i=>w()[i>>>1>>>0]:i=>_()[i>>>1>>>0];case 4:return o?i=>d()[i>>>2>>>0]:i=>T()[i>>>2>>>0];case 8:return o?i=>_e[i>>>3]:i=>We[i>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function Wr(){this.mb=[void 0],this.Ab=[]}var we=new Wr;function Rr(e){e>>>=0,e>=we.tb&&--we.get(e).Cb===0&&we.yb(e)}var de=e=>{if(!e)throw new Ae("Cannot use deleted val. handle = "+e);return we.get(e).value},Ee=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return we.xb({Cb:1,value:e})}};function r(e){return this.fromWireType(d()[e>>>2>>>0])}var n=(e,t)=>{switch(t){case 4:return function(o){var i=this.fromWireType;return F.buffer!=oe.buffer&&ge(),i.call(this,Ie[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(R()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function a(e){return this.fromWireType(T()[e>>>2>>>0])}var s=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,p=(e,t)=>{for(var o=e>>1,i=o+t/2;!(o>=i)&&_()[o>>>0];)++o;if(o<<=1,32<o-e&&s)return s.decode(v().slice(e,o));for(o="",i=0;!(i>=t/2);++i){var c=w()[e+2*i>>>1>>>0];if(c==0)break;o+=String.fromCharCode(c)}return o},b=(e,t,o)=>{if(o??=2147483647,2>o)return 0;o-=2;var i=t;o=o<2*e.length?o/2:e.length;for(var c=0;c<o;++c){var m=e.charCodeAt(c);w()[t>>>1>>>0]=m,t+=2}return w()[t>>>1>>>0]=0,t-i},C=e=>2*e.length,M=(e,t)=>{for(var o=0,i="";!(o>=t/4);){var c=d()[e+4*o>>>2>>>0];if(c==0)break;++o,65536<=c?(c-=65536,i+=String.fromCharCode(55296|c>>10,56320|c&1023)):i+=String.fromCharCode(c)}return i},B=(e,t,o)=>{if(t>>>=0,o??=2147483647,4>o)return 0;var i=t;o=i+o-4;for(var c=0;c<e.length;++c){var m=e.charCodeAt(c);if(55296<=m&&57343>=m){var O=e.charCodeAt(++c);m=65536+((m&1023)<<10)|O&1023}if(d()[t>>>2>>>0]=m,t+=4,t+4>o)break}return d()[t>>>2>>>0]=0,t-i},U=e=>{for(var t=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);55296<=i&&57343>=i&&++o,t+=4}return t};function J(e){e>>>=0,typeof Atomics.Vb=="function"&&(Atomics.Vb(d(),e>>>2,e).value.then(pe),e+=128,Atomics.store(d(),e>>>2,1))}f.__emscripten_thread_mailbox_await=J;var pe=()=>{var e=Kr();if(e&&(J(e),e=Kt,!Ue))try{if(e(),!(0<Ze))try{E?lt(me):_r(me)}catch(t){t instanceof fr||t=="unwind"||q(1,t)}}catch(t){t instanceof fr||t=="unwind"||q(1,t)}};f.checkMailbox=pe;var Se=[],g=(e,t)=>{var o=x[e];if(o===void 0)throw e=Jt(e),o=he(e),ze(e),new Ae(t+" has unknown type "+o);return o},j=(e,t,o)=>{var i=[];return e=e.toWireType(i,o),i.length&&(T()[t>>>2>>>0]=Ee(i)),e},V=[],je={},vr=e=>{var t=je[e];return t===void 0?he(e):t},Ft=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Un=e=>{var t=V.length;return V.push(e),t},In=(e,t)=>{for(var o=Array(e),i=0;i<e;++i)o[i]=g(T()[t+4*i>>>2>>>0],"parameter "+i);return o},Dt=(e,t)=>Object.defineProperty(t,"name",{value:e});function Wn(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var o=Dt(t.name||"unknownFunctionName",function(){});return o.prototype=t.prototype,o=new o,e=t.apply(o,e),e instanceof Object?e:o}var wr=e=>e%4===0&&(e%100!==0||e%400===0),Ut=[0,31,60,91,121,152,182,213,244,274,305,335],It=[0,31,59,90,120,151,181,212,243,273,304,334];function Wt(e,t,o,i,c,m,O){return E?G(16,1,e,t,o,i,c,m,O):-52}function Rt(e,t,o,i,c,m){if(E)return G(17,1,e,t,o,i,c,m)}var xt=e=>{var t=ar(e)+1,o=Qr(t);return o&&Ne(e,o,t),o},it=[],st={},Bt=()=>{if(!ut){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:$||"./this.program"},t;for(t in st)st[t]===void 0?delete e[t]:e[t]=st[t];var o=[];for(t in e)o.push(`${t}=${e[t]}`);ut=o}return ut},ut;function kt(e,t){if(E)return G(18,1,e,t);e>>>=0,t>>>=0;var o=0;return Bt().forEach((i,c)=>{var m=t+o;for(c=T()[e+4*c>>>2>>>0]=m,m=0;m<i.length;++m)u()[c++>>>0>>>0]=i.charCodeAt(m);u()[c>>>0>>>0]=0,o+=i.length+1}),0}function Lt(e,t){if(E)return G(19,1,e,t);e>>>=0,t>>>=0;var o=Bt();T()[e>>>2>>>0]=o.length;var i=0;return o.forEach(c=>i+=c.length+1),T()[t>>>2>>>0]=i,0}function $t(e){return E?G(20,1,e):52}function Nt(e,t,o,i){return E?G(21,1,e,t,o,i):52}function Ht(e,t,o,i){return E?G(22,1,e,t,o,i):70}var Rn=[null,[],[]];function jt(e,t,o,i){if(E)return G(23,1,e,t,o,i);t>>>=0,o>>>=0,i>>>=0;for(var c=0,m=0;m<o;m++){var O=T()[t>>>2>>>0],S=T()[t+4>>>2>>>0];t+=8;for(var k=0;k<S;k++){var P=v()[O+k>>>0],ee=Rn[e];P===0||P===10?((e===1?Qe:Q)(lr(ee,0)),ee.length=0):ee.push(P)}c+=S}return T()[i>>>2>>>0]=c,0}var zt=[31,29,31,30,31,30,31,31,30,31,30,31],Yt=[31,28,31,30,31,30,31,31,30,31,30,31];function xn(e){var t=Array(ar(e)+1);return Vr(e,t,0,t.length),t}var Bn=(e,t)=>{u().set(e,t>>>0)};function Gt(e,t,o,i){function c(h,Y,re){for(h=typeof h=="number"?h.toString():h||"";h.length<Y;)h=re[0]+h;return h}function m(h,Y){return c(h,Y,"0")}function O(h,Y){function re(rn){return 0>rn?-1:0<rn?1:0}var ir;return(ir=re(h.getFullYear()-Y.getFullYear()))===0&&(ir=re(h.getMonth()-Y.getMonth()))===0&&(ir=re(h.getDate()-Y.getDate())),ir}function S(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function k(h){var Y=h.qb;for(h=new Date(new Date(h.rb+1900,0,1).getTime());0<Y;){var re=h.getMonth(),ir=(wr(h.getFullYear())?zt:Yt)[re];if(Y>ir-h.getDate())Y-=ir-h.getDate()+1,h.setDate(1),11>re?h.setMonth(re+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+Y);break}}return re=new Date(h.getFullYear()+1,0,4),Y=S(new Date(h.getFullYear(),0,4)),re=S(re),0>=O(Y,h)?0>=O(re,h)?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}e>>>=0,t>>>=0,o>>>=0,i>>>=0;var P=T()[i+40>>>2>>>0];i={Sb:d()[i>>>2>>>0],Rb:d()[i+4>>>2>>>0],ub:d()[i+8>>>2>>>0],zb:d()[i+12>>>2>>>0],vb:d()[i+16>>>2>>>0],rb:d()[i+20>>>2>>>0],lb:d()[i+24>>>2>>>0],qb:d()[i+28>>>2>>>0],Yb:d()[i+32>>>2>>>0],Qb:d()[i+36>>>2>>>0],Tb:P?fe(P):""},o=fe(o),P={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ee in P)o=o.replace(new RegExp(ee,"g"),P[ee]);var Ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ye="January February March April May June July August September October November December".split(" ");P={"%a":h=>Ce[h.lb].substring(0,3),"%A":h=>Ce[h.lb],"%b":h=>Ye[h.vb].substring(0,3),"%B":h=>Ye[h.vb],"%C":h=>m((h.rb+1900)/100|0,2),"%d":h=>m(h.zb,2),"%e":h=>c(h.zb,2," "),"%g":h=>k(h).toString().substring(2),"%G":h=>k(h),"%H":h=>m(h.ub,2),"%I":h=>(h=h.ub,h==0?h=12:12<h&&(h-=12),m(h,2)),"%j":h=>{for(var Y=0,re=0;re<=h.vb-1;Y+=(wr(h.rb+1900)?zt:Yt)[re++]);return m(h.zb+Y,3)},"%m":h=>m(h.vb+1,2),"%M":h=>m(h.Rb,2),"%n":()=>`\n`,"%p":h=>0<=h.ub&&12>h.ub?"AM":"PM","%S":h=>m(h.Sb,2),"%t":()=>"	","%u":h=>h.lb||7,"%U":h=>m(Math.floor((h.qb+7-h.lb)/7),2),"%V":h=>{var Y=Math.floor((h.qb+7-(h.lb+6)%7)/7);if(2>=(h.lb+371-h.qb-2)%7&&Y++,Y)Y==53&&(re=(h.lb+371-h.qb)%7,re==4||re==3&&wr(h.rb)||(Y=1));else{Y=52;var re=(h.lb+7-h.qb-1)%7;(re==4||re==5&&wr(h.rb%400-1))&&Y++}return m(Y,2)},"%w":h=>h.lb,"%W":h=>m(Math.floor((h.qb+7-(h.lb+6)%7)/7),2),"%y":h=>(h.rb+1900).toString().substring(2),"%Y":h=>h.rb+1900,"%z":h=>{h=h.Qb;var Y=0<=h;return h=Math.abs(h)/60,(Y?"+":"-")+("0000"+(h/60*100+h%60)).slice(-4)},"%Z":h=>h.Tb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(ee in P)o.includes(ee)&&(o=o.replace(new RegExp(ee,"g"),P[ee](i)));return o=o.replace(/\\0\\0/g,"%"),ee=xn(o),ee.length>t?0:(Bn(ee,e),ee.length-1)}I.wb();for(var Vt=Array(256),Zr=0;256>Zr;++Zr)Vt[Zr]=String.fromCharCode(Zr);Dr=Vt,Ae=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Wr.prototype,{get(e){return this.mb[e]},has(e){return this.mb[e]!==void 0},xb(e){var t=this.Ab.pop()||this.mb.length;return this.mb[t]=e,t},yb(e){this.mb[e]=void 0,this.Ab.push(e)}}),we.mb.push({value:void 0},{value:null},{value:!0},{value:!1}),we.tb=we.mb.length,f.count_emval_handles=()=>{for(var e=0,t=we.tb;t<we.mb.length;++t)we.mb[t]!==void 0&&++e;return e};var kn=[$r,jr,mr,Yr,Gr,Ar,Er,Sr,gr,hr,Cr,yr,qr,Mr,Pr,Jr,Wt,Rt,kt,Lt,$t,Nt,Ht,jt],Ln={b:function(e,t,o){throw e>>>=0,new zr(e).wb(t>>>0,o>>>0),or=e,at++,or},da:function(e){Xt(e>>>0,!ne,1,!K,131072,!1),I.Fb()},D:function(e){e>>>=0,E?postMessage({cmd:"cleanupThread",thread:e}):I.Db(I.kb[e])},V:Tr,x:Yr,ka:Gr,R:Ar,T:Er,K:Sr,ia:gr,aa:hr,ga:Cr,F:yr,S:qr,P:Mr,ja:Pr,Q:Jr,I:function(e,t,o,i,c){e>>>=0,t>>>=0,o>>>=0,t=he(t);var m=t.indexOf("u")!=-1;m&&(c=(1n<<64n)-1n),De(e,{name:t,fromWireType:O=>O,toWireType:function(O,S){if(typeof S!="bigint"&&typeof S!="number")throw new TypeError(`Cannot convert "${Fr(S)}" to ${this.name}`);if(S<i||S>c)throw new TypeError(`Passing a number "${Fr(S)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${i}, ${c}]!`);return S},argPackAdvance:8,readValueFromPointer:Ir(t,o,!m),sb:null})},pa:function(e,t,o,i){e>>>=0,t=he(t>>>0),De(e,{name:t,fromWireType:function(c){return!!c},toWireType:function(c,m){return m?o:i},argPackAdvance:8,readValueFromPointer:function(c){return this.fromWireType(v()[c>>>0])},sb:null})},oa:function(e,t){e>>>=0,t=he(t>>>0),De(e,{name:t,fromWireType:o=>{var i=de(o);return Rr(o),i},toWireType:(o,i)=>Ee(i),argPackAdvance:8,readValueFromPointer:r,sb:null})},H:function(e,t,o){e>>>=0,o>>>=0,t=he(t>>>0),De(e,{name:t,fromWireType:i=>i,toWireType:(i,c)=>c,argPackAdvance:8,readValueFromPointer:n(t,o),sb:null})},u:function(e,t,o,i,c){if(e>>>=0,o>>>=0,t=he(t>>>0),c===-1&&(c=4294967295),c=S=>S,i===0){var m=32-8*o;c=S=>S<<m>>>m}var O=t.includes("unsigned")?function(S,k){return k>>>0}:function(S,k){return k};De(e,{name:t,fromWireType:c,toWireType:O,argPackAdvance:8,readValueFromPointer:Ir(t,o,i!==0),sb:null})},n:function(e,t,o){function i(m){var O=T()[m>>>2>>>0];return m=T()[m+4>>>2>>>0],new c(u().buffer,m,O)}e>>>=0;var c=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];o=he(o>>>0),De(e,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Kb:!0})},J:function(e,t){e>>>=0,t=he(t>>>0);var o=t==="std::string";De(e,{name:t,fromWireType:function(i){var c=T()[i>>>2>>>0],m=i+4;if(o)for(var O=m,S=0;S<=c;++S){var k=m+S;if(S==c||v()[k>>>0]==0){if(O=fe(O,k-O),P===void 0)var P=O;else P+=String.fromCharCode(0),P+=O;O=k+1}}else{for(P=Array(c),S=0;S<c;++S)P[S]=String.fromCharCode(v()[m+S>>>0]);P=P.join("")}return ze(i),P},toWireType:function(i,c){c instanceof ArrayBuffer&&(c=new Uint8Array(c));var m=typeof c=="string";if(!(m||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Int8Array))throw new Ae("Cannot pass non-string to std::string");var O=o&&m?ar(c):c.length,S=Qr(4+O+1),k=S+4;if(T()[S>>>2>>>0]=O,o&&m)Ne(c,k,O+1);else if(m)for(m=0;m<O;++m){var P=c.charCodeAt(m);if(255<P)throw ze(k),new Ae("String has UTF-16 code units that do not fit in 8 bits");v()[k+m>>>0]=P}else for(m=0;m<O;++m)v()[k+m>>>0]=c[m];return i!==null&&i.push(ze,S),S},argPackAdvance:8,readValueFromPointer:a,sb(i){ze(i)}})},z:function(e,t,o){if(e>>>=0,t>>>=0,o>>>=0,o=he(o),t===2)var i=p,c=b,m=C,O=()=>_(),S=1;else t===4&&(i=M,c=B,m=U,O=()=>T(),S=2);De(e,{name:o,fromWireType:k=>{for(var P=T()[k>>>2>>>0],ee=O(),Ce,Ye=k+4,h=0;h<=P;++h){var Y=k+4+h*t;(h==P||ee[Y>>>S]==0)&&(Ye=i(Ye,Y-Ye),Ce===void 0?Ce=Ye:(Ce+=String.fromCharCode(0),Ce+=Ye),Ye=Y+t)}return ze(k),Ce},toWireType:(k,P)=>{if(typeof P!="string")throw new Ae(`Cannot pass non-string to C++ string type ${o}`);var ee=m(P),Ce=Qr(4+ee+t);return T()[Ce>>>2]=ee>>S,c(P,Ce+4,ee+t),k!==null&&k.push(ze,Ce),Ce},argPackAdvance:8,readValueFromPointer:r,sb(k){ze(k)}})},qa:function(e,t){e>>>=0,t=he(t>>>0),De(e,{Lb:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>1,N:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>pe()):E?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=I.kb[e])&&e.postMessage({cmd:"checkMailbox"})},W:function(e,t,o,i){t>>>=0,o/=2,Se.length=o,i=i>>>0>>>3;for(var c=0;c<o;c++)Se[c]=_e[i+2*c]?_e[i+2*c+1]:R()[i+2*c+1>>>0];return e=0>e?Re[-e-1]:kn[e],I.Jb=t,t=e.apply(null,Se),I.Jb=0,t},ca:J,ma:function(e){W&&I.kb[e>>>0].ref()},s:function(e,t,o){return t>>>=0,o>>>=0,e=de(e>>>0),t=g(t,"emval::as"),j(t,o,e)},o:function(e,t,o,i){return o>>>=0,i>>>=0,e=V[e>>>0],t=de(t>>>0),e(null,t,o,i)},j:function(e,t,o,i,c){return o>>>=0,i>>>=0,c>>>=0,e=V[e>>>0],t=de(t>>>0),o=vr(o),e(t,t[o],i,c)},c:Rr,A:function(e,t){return t>>>=0,e=de(e>>>0),t=de(t),e==t},m:function(e){return e>>>=0,e===0?Ee(Ft()):(e=vr(e),Ee(Ft()[e]))},i:function(e,t,o){t=In(e,t>>>0);var i=t.shift();e--;var c=`return function (obj, func, destructorsRef, args) {\n`,m=0,O=[];o===0&&O.push("obj");for(var S=["retType"],k=[i],P=0;P<e;++P)O.push("arg"+P),S.push("argType"+P),k.push(t[P]),c+=`  var arg${P} = argType${P}.readValueFromPointer(args${m?"+"+m:""});\n`,m+=t[P].argPackAdvance;for(c+=`  var rv = ${o===1?"new func":"func.call"}(${O.join(", ")});\n`,P=0;P<e;++P)t[P].deleteObject&&(c+=`  argType${P}.deleteObject(arg${P});\n`);return i.Lb||(S.push("emval_returnValue"),k.push(j),c+=`  return emval_returnValue(retType, destructorsRef, rv);\n`),S.push(c+`};\n`),e=Wn(S).apply(null,k),o=`methodCaller<(${t.map(ee=>ee.name).join(", ")}) => ${i.name}>`,Un(Dt(o,e))},r:function(e,t){return t>>>=0,e=de(e>>>0),t=de(t),Ee(e[t])},d:function(e){e>>>=0,4<e&&(we.get(e).Cb+=1)},v:function(){return Ee([])},l:function(e){e=de(e>>>0);for(var t=Array(e.length),o=0;o<e.length;o++)t[o]=e[o];return Ee(t)},f:function(e){return Ee(vr(e>>>0))},k:function(){return Ee({})},h:function(e){e>>>=0;for(var t=de(e);t.length;){var o=t.pop();t.pop()(o)}Rr(e)},g:function(e,t,o){t>>>=0,o>>>=0,e=de(e>>>0),t=de(t),o=de(o),e[t]=o},e:function(e,t){return t>>>=0,e=g(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Ee(e)},Z:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),d()[t>>>2>>>0]=e.getUTCSeconds(),d()[t+4>>>2>>>0]=e.getUTCMinutes(),d()[t+8>>>2>>>0]=e.getUTCHours(),d()[t+12>>>2>>>0]=e.getUTCDate(),d()[t+16>>>2>>>0]=e.getUTCMonth(),d()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[t+28>>>2>>>0]=e},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),d()[t>>>2>>>0]=e.getSeconds(),d()[t+4>>>2>>>0]=e.getMinutes(),d()[t+8>>>2>>>0]=e.getHours(),d()[t+12>>>2>>>0]=e.getDate(),d()[t+16>>>2>>>0]=e.getMonth(),d()[t+20>>>2>>>0]=e.getFullYear()-1900,d()[t+24>>>2>>>0]=e.getDay();var o=(wr(e.getFullYear())?Ut:It)[e.getMonth()]+e.getDate()-1|0;d()[t+28>>>2>>>0]=o,d()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=i&&e.getTimezoneOffset()==Math.min(i,o))|0,d()[t+32>>>2>>>0]=e},$:function(e){e>>>=0;var t=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),o=d()[e+32>>>2>>>0],i=t.getTimezoneOffset(),c=new Date(t.getFullYear(),6,1).getTimezoneOffset(),m=new Date(t.getFullYear(),0,1).getTimezoneOffset(),O=Math.min(m,c);return 0>o?d()[e+32>>>2>>>0]=+(c!=m&&O==i):0<o!=(O==i)&&(c=Math.max(m,c),t.setTime(t.getTime()+6e4*((0<o?O:c)-i))),d()[e+24>>>2>>>0]=t.getDay(),o=(wr(t.getFullYear())?Ut:It)[t.getMonth()]+t.getDate()-1|0,d()[e+28>>>2>>>0]=o,d()[e>>>2>>>0]=t.getSeconds(),d()[e+4>>>2>>>0]=t.getMinutes(),d()[e+8>>>2>>>0]=t.getHours(),d()[e+12>>>2>>>0]=t.getDate(),d()[e+16>>>2>>>0]=t.getMonth(),d()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(d()[qt()>>>2>>>0]=61,e=-1):e/=1e3,BigInt(e)},X:Wt,Y:Rt,M:function(e,t,o){function i(P){return(P=P.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?P[1]:"GMT"}e>>>=0,t>>>=0,o>>>=0;var c=new Date().getFullYear(),m=new Date(c,0,1),O=new Date(c,6,1);c=m.getTimezoneOffset();var S=O.getTimezoneOffset(),k=Math.max(c,S);T()[e>>>2>>>0]=60*k,d()[t>>>2>>>0]=+(c!=S),e=i(m),t=i(O),e=xt(e),t=xt(t),S<c?(T()[o>>>2>>>0]=e,T()[o+4>>>2>>>0]=t):(T()[o>>>2>>>0]=t,T()[o+4>>>2>>>0]=e)},p:()=>{Je("")},ra:function(e,t,o){e>>>=0,t>>>=0,o>>>=0,it.length=0;for(var i;i=v()[t++>>>0];){var c=i!=105;c&=i!=112,o+=c&&o%8?4:0,it.push(i==112?T()[o>>>2>>>0]:i==106?_e[o>>>3]:i==105?d()[o>>>2>>>0]:R()[o>>>3>>>0]),o+=c?8:4}return Re[e].apply(null,it)},E:()=>{},G:()=>Date.now(),la:()=>{throw Ze+=1,"unwind"},O:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>W?(fn(),Br(un)).cpus().length:navigator.hardwareConcurrency,L:function(e){e>>>=0;var t=v().length;if(e<=t||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var i=t*(1+.2/o);i=Math.min(i,e+100663296);var c=Math;i=Math.max(e,i);e:{c=(c.min.call(c,4294901760,i+(65536-i%65536)%65536)-F.buffer.byteLength+65535)/65536;try{F.grow(c),ge();var m=1;break e}catch{}m=void 0}if(m)return!0}return!1},ea:kt,fa:Lt,U:_r,y:$t,C:Nt,ba:Ht,B:jt,a:F||f.wasmMemory,ha:Gt,q:function(e,t,o,i){return Gt(e>>>0,t>>>0,o>>>0,i>>>0)}},D=function(){function e(o,i){return D=o.exports,D=$n(),I.Gb.push(D.Ya),pr=D.$a,He.unshift(D.sa),Pe=i,qe(),D}var t={a:Ln};if($e++,f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(o){Q(`Module.instantiateWasm callback failed with error: ${o}`),z(o)}return nt(t,function(o){e(o.instance,o.module)}).catch(z),{}}();f._OrtInit=(e,t)=>(f._OrtInit=D.ta)(e,t),f._OrtGetLastError=(e,t)=>(f._OrtGetLastError=D.ua)(e,t),f._OrtCreateSessionOptions=(e,t,o,i,c,m,O,S,k,P)=>(f._OrtCreateSessionOptions=D.va)(e,t,o,i,c,m,O,S,k,P),f._OrtAppendExecutionProvider=(e,t)=>(f._OrtAppendExecutionProvider=D.wa)(e,t),f._OrtAddFreeDimensionOverride=(e,t,o)=>(f._OrtAddFreeDimensionOverride=D.xa)(e,t,o),f._OrtAddSessionConfigEntry=(e,t,o)=>(f._OrtAddSessionConfigEntry=D.ya)(e,t,o),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=D.za)(e),f._OrtCreateSession=(e,t,o)=>(f._OrtCreateSession=D.Aa)(e,t,o),f._OrtReleaseSession=e=>(f._OrtReleaseSession=D.Ba)(e),f._OrtGetInputOutputCount=(e,t,o)=>(f._OrtGetInputOutputCount=D.Ca)(e,t,o),f._OrtGetInputName=(e,t)=>(f._OrtGetInputName=D.Da)(e,t),f._OrtGetOutputName=(e,t)=>(f._OrtGetOutputName=D.Ea)(e,t),f._OrtFree=e=>(f._OrtFree=D.Fa)(e),f._OrtCreateTensor=(e,t,o,i,c,m)=>(f._OrtCreateTensor=D.Ga)(e,t,o,i,c,m),f._OrtGetTensorData=(e,t,o,i,c)=>(f._OrtGetTensorData=D.Ha)(e,t,o,i,c),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=D.Ia)(e),f._OrtCreateRunOptions=(e,t,o,i)=>(f._OrtCreateRunOptions=D.Ja)(e,t,o,i),f._OrtAddRunConfigEntry=(e,t,o)=>(f._OrtAddRunConfigEntry=D.Ka)(e,t,o),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=D.La)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=D.Ma)(e),f._OrtBindInput=(e,t,o)=>(f._OrtBindInput=D.Na)(e,t,o),f._OrtBindOutput=(e,t,o,i)=>(f._OrtBindOutput=D.Oa)(e,t,o,i),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=D.Pa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=D.Qa)(e),f._OrtRunWithBinding=(e,t,o,i,c)=>(f._OrtRunWithBinding=D.Ra)(e,t,o,i,c),f._OrtRun=(e,t,o,i,c,m,O,S)=>(f._OrtRun=D.Sa)(e,t,o,i,c,m,O,S),f._OrtEndProfiling=e=>(f._OrtEndProfiling=D.Ta)(e);var qt=()=>(qt=D.Ua)(),Kr=f._pthread_self=()=>(Kr=f._pthread_self=D.Va)(),Qr=f._malloc=e=>(Qr=f._malloc=D.Wa)(e),ze=f._free=e=>(ze=f._free=D.Xa)(e);f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=D.Ya)();var Jt=e=>(Jt=D.Za)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=D._a)();var Xt=f.__emscripten_thread_init=(e,t,o,i,c,m)=>(Xt=f.__emscripten_thread_init=D.ab)(e,t,o,i,c,m);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=D.bb)();var Zt=(e,t,o,i)=>(Zt=D.cb)(e,t,o,i),ft=e=>(ft=D.db)(e),lt=f.__emscripten_thread_exit=e=>(lt=f.__emscripten_thread_exit=D.eb)(e),Kt=()=>(Kt=D.fb)(),Qt=(e,t)=>(Qt=D.gb)(e,t),ct=()=>(ct=D.hb)(),et=e=>(et=D.ib)(e),dt=e=>(dt=D.jb)(e);function $n(){var e=D;e=Object.assign({},e);var t=i=>()=>i()>>>0,o=i=>c=>i(c)>>>0;return e.Ua=t(e.Ua),e.Va=t(e.Va),e.Wa=o(e.Wa),e.Za=o(e.Za),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.hb=t(e.hb),e.jb=o(e.jb),e}f.wasmMemory=F,f.stackAlloc=dt,f.stackSave=ct,f.stackRestore=et,f.keepRuntimeAlive=()=>0<Ze,f.UTF8ToString=fe,f.stringToUTF8=Ne,f.lengthBytesUTF8=ar,f.ExitStatus=fr,f.PThread=I;var rt;Ve=function e(){rt||en(),rt||(Ve=e)};function en(){if(!(0<$e))if(E)L(f),E||cr(He),startWorker(f);else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ue.unshift(f.preRun.shift());cr(ue),0<$e||rt||(rt=!0,f.calledRun=!0,Ue||(E||cr(He),L(f),E||cr(rr)))}}return en(),y.ready}})();typeof cn=="object"&&typeof _t=="object"?_t.exports=ln:typeof define=="function"&&define.amd&&define([],()=>ln)});var dn=xr((go,Jn)=>{Jn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var At;At=Ot();var pn=Tt(),Et,St=!1,tt=!1,mn=!1,Xn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Zn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Kn=(l,y)=>l?y?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":y?"ort-wasm-threaded.wasm":"ort-wasm.wasm",gn=async(l,y)=>{if(St)return Promise.resolve();if(tt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(mn)throw new Error("previous call to \'initializeWebAssembly()\' failed.");tt=!0;let u=l.initTimeout,v=l.numThreads,w=l.simd,_=v>1&&Xn(),d=w&&Zn();y!="webgpu"&&(At=Ot()),_&&y!="webgpu"&&(pn=Tt());let T=l.wasmPaths,R=typeof T=="string"?T:void 0,f=Kn(d,_),L=typeof T=="object"?T[f]:void 0,z=!1,N=[];if(u>0&&N.push(new Promise($=>{setTimeout(()=>{z=!0,$()},u)})),N.push(new Promise(($,q)=>{let K=_?pn:At,ne={locateFile:(W,E)=>{if(_&&W.endsWith(".worker.js")&&typeof Blob<"u")return URL.createObjectURL(new Blob([dn()],{type:"text/javascript"}));if(W.endsWith(".wasm")){if(L)return L;let X=R??E;if(y=="webgpu"){if(f==="ort-wasm-simd.wasm")return X+"ort-wasm-simd.jsep.wasm";if(f==="ort-wasm-simd-threaded.wasm")return X+"ort-wasm-simd-threaded.jsep.wasm"}return X+f}return E+W}};if(_)if(ne.numThreads=v,typeof Blob>"u")ne.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let W=`var ortWasmThreaded=${K.toString()};`;ne.mainScriptUrlOrBlob=new Blob([W],{type:"text/javascript"})}K(ne).then(W=>{tt=!1,St=!0,Et=W,$()},W=>{tt=!1,mn=!0,q(W)})})),await Promise.race(N),z)throw new Error(`WebAssembly backend initializing failed due to timeout: ${u}ms`)},ae=()=>{if(St&&Et)return Et;throw new Error("WebAssembly is not initialized yet.")};var ie=(l,y)=>{let u=ae(),v=u.lengthBytesUTF8(l)+1,w=u._malloc(v);return u.stringToUTF8(l,w,v),y.push(w),w},kr=(l,y,u,v)=>{if(typeof l=="object"&&l!==null){if(u.has(l))throw new Error("Circular reference in options");u.add(l)}Object.entries(l).forEach(([w,_])=>{let d=y?y+w:w;if(typeof _=="object")kr(_,d+".",u,v);else if(typeof _=="string"||typeof _=="number")v(d,_.toString());else if(typeof _=="boolean")v(d,_?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof _}`)})},te=l=>{let y=ae(),u=y.stackSave();try{let v=y.stackAlloc(8);y._OrtGetLastError(v,v+4);let w=y.HEAP32[v/4],_=y.HEAPU32[v/4+1],d=_?y.UTF8ToString(_):"";throw new Error(`${l} ERROR_CODE: ${w}, ERROR_MESSAGE: ${d}`)}finally{y.stackRestore(u)}};var hn=l=>{let y=ae(),u=0,v=[],w=l||{};try{if(l?.logSeverityLevel===void 0)w.logSeverityLevel=2;else if(typeof l.logSeverityLevel!="number"||!Number.isInteger(l.logSeverityLevel)||l.logSeverityLevel<0||l.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${l.logSeverityLevel}`);if(l?.logVerbosityLevel===void 0)w.logVerbosityLevel=0;else if(typeof l.logVerbosityLevel!="number"||!Number.isInteger(l.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${l.logVerbosityLevel}`);l?.terminate===void 0&&(w.terminate=!1);let _=0;return l?.tag!==void 0&&(_=ie(l.tag,v)),u=y._OrtCreateRunOptions(w.logSeverityLevel,w.logVerbosityLevel,!!w.terminate,_),u===0&&te("Can\'t create run options."),l?.extra!==void 0&&kr(l.extra,"",new WeakSet,(d,T)=>{let R=ie(d,v),f=ie(T,v);y._OrtAddRunConfigEntry(u,R,f)!==0&&te(`Can\'t set a run config entry: ${d} - ${T}.`)}),[u,v]}catch(_){throw u!==0&&y._OrtReleaseRunOptions(u),v.forEach(d=>y._free(d)),_}};var Qn=l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}},eo=l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}},ro=l=>{l.extra||(l.extra={}),l.extra.session||(l.extra.session={});let y=l.extra.session;y.use_ort_model_bytes_directly||(y.use_ort_model_bytes_directly="1"),l.executionProviders&&l.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(l.enableMemPattern=!1)},to=(l,y,u)=>{for(let v of y){let w=typeof v=="string"?v:v.name;switch(w){case"xnnpack":w="XNNPACK";break;case"webnn":if(w="WEBNN",typeof v!="string"){let d=v;if(d?.deviceType){let T=ie("deviceType",u),R=ie(d.deviceType,u);ae()._OrtAddSessionConfigEntry(l,T,R)!==0&&te(`Can\'t set a session config entry: \'deviceType\' - ${d.deviceType}.`)}if(d?.numThreads){let T=d.numThreads;(typeof T!="number"||!Number.isInteger(T)||T<0)&&(T=0);let R=ie("numThreads",u),f=ie(T.toString(),u);ae()._OrtAddSessionConfigEntry(l,R,f)!==0&&te(`Can\'t set a session config entry: \'numThreads\' - ${d.numThreads}.`)}if(d?.powerPreference){let T=ie("powerPreference",u),R=ie(d.powerPreference,u);ae()._OrtAddSessionConfigEntry(l,T,R)!==0&&te(`Can\'t set a session config entry: \'powerPreference\' - ${d.powerPreference}.`)}}break;case"webgpu":if(w="JS",typeof v!="string"){let d=v;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${d.preferredLayout}`);let T=ie("preferredLayout",u),R=ie(d.preferredLayout,u);ae()._OrtAddSessionConfigEntry(l,T,R)!==0&&te(`Can\'t set a session config entry: \'preferredLayout\' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${w}`)}let _=ie(w,u);ae()._OrtAppendExecutionProvider(l,_)!==0&&te(`Can\'t append execution provider: ${w}.`)}},yn=l=>{let y=ae(),u=0,v=[],w=l||{};ro(w);try{let _=Qn(w.graphOptimizationLevel??"all"),d=eo(w.executionMode??"sequential"),T=typeof w.logId=="string"?ie(w.logId,v):0,R=w.logSeverityLevel??2;if(!Number.isInteger(R)||R<0||R>4)throw new Error(`log serverity level is not valid: ${R}`);let f=w.logVerbosityLevel??0;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log verbosity level is not valid: ${f}`);let L=typeof w.optimizedModelFilePath=="string"?ie(w.optimizedModelFilePath,v):0;if(u=y._OrtCreateSessionOptions(_,!!w.enableCpuMemArena,!!w.enableMemPattern,d,!!w.enableProfiling,0,T,R,f,L),u===0&&te("Can\'t create session options."),w.executionProviders&&to(u,w.executionProviders,v),w.freeDimensionOverrides)for(let[z,N]of Object.entries(w.freeDimensionOverrides)){if(typeof z!="string")throw new Error(`free dimension override name must be a string: ${z}`);if(typeof N!="number"||!Number.isInteger(N)||N<0)throw new Error(`free dimension override value must be a non-negative integer: ${N}`);let $=ie(z,v);y._OrtAddFreeDimensionOverride(u,$,N)!==0&&te(`Can\'t set a free dimension override: ${z} - ${N}.`)}return w.extra!==void 0&&kr(w.extra,"",new WeakSet,(z,N)=>{let $=ie(z,v),q=ie(N,v);y._OrtAddSessionConfigEntry(u,$,q)!==0&&te(`Can\'t set a session config entry: ${z} - ${N}.`)}),[u,v]}catch(_){throw u!==0&&y._OrtReleaseSessionOptions(u),v.forEach(d=>y._free(d)),_}};var Ct=l=>{switch(l){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${l}`)}},vn=l=>{switch(l){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${l}`)}},Mt=l=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][l],wn=l=>{switch(l){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${l}`)}},bn=l=>{switch(l){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${l}`)}},On=l=>l==="float32"||l==="int32"||l==="int64"||l==="bool"||l==="float16"||l==="uint32",_n=l=>{switch(l){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${l}`)}};var Tn=async l=>{if(typeof l=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(l))}catch(y){if(y.code==="ERR_FS_FILE_TOO_LARGE"){let u=(void 0)(l),v=[];for await(let w of u)v.push(w);return new Uint8Array(Buffer.concat(v))}throw y}else{let y=await fetch(l);if(!y.ok)throw new Error(`failed to load external data file: ${l}`);let u=y.headers.get("Content-Length"),v=u?parseInt(u,10):0;if(v<1073741824)return new Uint8Array(await y.arrayBuffer());{if(!y.body)throw new Error(`failed to load external data file: ${l}, no response body.`);let w=y.body.getReader(),_=Math.ceil(v/65536),d=new WebAssembly.Memory({initial:_,maximum:_}).buffer,T=0;for(;;){let{done:R,value:f}=await w.read();if(R)break;let L=f.byteLength;new Uint8Array(d,T,L).set(f),T+=L}return new Uint8Array(d,0,v)}}else return l instanceof Blob?new Uint8Array(await l.arrayBuffer()):l instanceof Uint8Array?l:new Uint8Array(l)};var no=(l,y)=>{ae()._OrtInit(l,y)!==0&&te("Can\'t initialize onnxruntime.")},En=async l=>{no(l.wasm.numThreads,bn(l.logLevel))},Sn=async(l,y)=>{},Lr=new Map,oo=l=>{let y=ae(),u=y.stackSave();try{let v=y.stackAlloc(8);return y._OrtGetInputOutputCount(l,v,v+4)!==0&&te("Can\'t get session input/output count."),[y.HEAP32[v/4],y.HEAP32[v/4+1]]}finally{y.stackRestore(u)}},Pt=l=>{let y=ae(),u=y._malloc(l.byteLength);if(u===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${l.byteLength}.`);return y.HEAPU8.set(l,u),[u,l.byteLength]},Cn=async(l,y)=>{let u,v,w=ae();Array.isArray(l)?[u,v]=l:l.buffer===w.HEAPU8.buffer?[u,v]=[l.byteOffset,l.byteLength]:[u,v]=Pt(l);let _=0,d=0,T=0,R=[],f=[],L=[];try{if([d,R]=yn(y),y?.externalData&&w.mountExternalData){let W=[];for(let E of y.externalData){let X=typeof E=="string"?E:E.path;W.push(Tn(typeof E=="string"?E:E.data).then(ye=>{w.mountExternalData(X,ye)}))}await Promise.all(W)}_=w._OrtCreateSession(u,v,d),_===0&&te("Can\'t create a session.");let[z,N]=oo(_),$=[],q=[],K=[];for(let W=0;W<z;W++){let E=w._OrtGetInputName(_,W);E===0&&te("Can\'t get an input name."),f.push(E),$.push(w.UTF8ToString(E))}for(let W=0;W<N;W++){let E=w._OrtGetOutputName(_,W);E===0&&te("Can\'t get an output name."),L.push(E);let X=w.UTF8ToString(E);q.push(X)}let ne=null;return Lr.set(_,[_,f,L,ne]),[_,$,q]}catch(z){throw f.forEach(N=>w._OrtFree(N)),L.forEach(N=>w._OrtFree(N)),T!==0&&w._OrtReleaseBinding(T),_!==0&&w._OrtReleaseSession(_),z}finally{w._free(u),d!==0&&w._OrtReleaseSessionOptions(d),R.forEach(z=>w._free(z)),w.unmountExternalData?.()}},Mn=l=>{let y=ae(),u=Lr.get(l);if(!u)throw new Error(`cannot release session. invalid session id: ${l}`);let[v,w,_,d]=u;d&&y._OrtReleaseBinding(d.handle),y.jsepUnregisterBuffers?.(l),w.forEach(T=>y._OrtFree(T)),_.forEach(T=>y._OrtFree(T)),y._OrtReleaseSession(v),Lr.delete(l)},An=(l,y,u,v,w)=>{if(!l){y.push(0);return}let _=ae(),d=l[0],T=l[1],R=l[3],f,L;if(d==="string"&&R==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(R==="gpu-buffer"){let $=l[2].gpuBuffer,q=Mt(Ct(d));L=T.reduce((K,ne)=>K*ne,1)*q,f=_.jsepRegisterBuffer(v,w,$,L)}else{let $=l[2];if(Array.isArray($)){L=4*$.length,f=_._malloc(L),u.push(f);let q=f/4;for(let K=0;K<$.length;K++){if(typeof $[K]!="string")throw new TypeError(`tensor data at index ${K} is not a string`);_.HEAPU32[q++]=ie($[K],u)}}else L=$.byteLength,f=_._malloc(L),u.push(f),_.HEAPU8.set(new Uint8Array($.buffer,$.byteOffset,L),f)}let z=_.stackSave(),N=_.stackAlloc(4*T.length);try{let $=N/4;T.forEach(K=>_.HEAP32[$++]=K);let q=_._OrtCreateTensor(Ct(d),f,L,N,T.length,_n(R));q===0&&te(`Can\'t create tensor for input/output. session=${v}, index=${w}.`),y.push(q)}finally{_.stackRestore(z)}},Pn=async(l,y,u,v,w,_)=>{let d=ae(),T=Lr.get(l);if(!T)throw new Error(`cannot run inference. invalid session id: ${l}`);let[R,f,L,z]=T,N=y.length,$=v.length,q=0,K=[],ne=[],W=[],E=[],X=d.stackSave(),ye=d.stackAlloc(N*4),Z=d.stackAlloc(N*4),be=d.stackAlloc($*4),Me=d.stackAlloc($*4);try{[q,K]=hn(_);for(let F=0;F<N;F++)An(u[F],ne,E,l,y[F]);for(let F=0;F<$;F++)An(w[F],W,E,l,N+v[F]);let A=ye/4,H=Z/4,Ke=be/4,Ge=Me/4;for(let F=0;F<N;F++)d.HEAPU32[A++]=ne[F],d.HEAPU32[H++]=f[y[F]];for(let F=0;F<$;F++)d.HEAPU32[Ke++]=W[F],d.HEAPU32[Ge++]=L[v[F]];let Qe;Qe=await d._OrtRun(R,Z,ye,N,Me,$,be,q),Qe!==0&&te("failed to call OrtRun().");let Q=[];for(let F=0;F<$;F++){let Pe=d.HEAPU32[be/4+F];if(Pe===W[F]){Q.push(w[F]);continue}let Ue=d.stackSave(),me=d.stackAlloc(4*4),oe=!1,se,le=0;try{d._OrtGetTensorData(Pe,me,me+4,me+8,me+12)!==0&&te(`Can\'t access output tensor data on index ${F}.`);let Be=me/4,ke=d.HEAPU32[Be++];le=d.HEAPU32[Be++];let Ie=d.HEAPU32[Be++],_e=d.HEAPU32[Be++],We=[];for(let ce=0;ce<_e;ce++)We.push(d.HEAPU32[Ie/4+ce]);d._OrtFree(Ie);let Le=We.reduce((ce,ue)=>ce*ue,1);se=vn(ke);let ge=z?.outputPreferredLocations[v[F]];if(se==="string"){if(ge==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ce=[],ue=le/4;for(let He=0;He<Le;He++){let rr=d.HEAPU32[ue++],$e=He===Le-1?void 0:d.HEAPU32[ue]-rr;ce.push(d.UTF8ToString(rr,$e))}Q.push([se,We,ce,"cpu"])}else if(ge==="gpu-buffer"&&Le>0){let ce=d.jsepGetBuffer(le),ue=Mt(ke);if(ue===void 0||!On(se))throw new Error(`Unsupported data type: ${se}`);oe=!0,Q.push([se,We,{gpuBuffer:ce,download:d.jsepCreateDownloader(ce,Le*ue,se),dispose:()=>{d._OrtReleaseTensor(Pe)}},"gpu-buffer"])}else{let ce=wn(se),ue=new ce(Le);new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength).set(d.HEAPU8.subarray(le,le+ue.byteLength)),Q.push([se,We,ue,"cpu"])}}finally{d.stackRestore(Ue),se==="string"&&le&&d._free(le),oe||d._OrtReleaseTensor(Pe)}}return z&&d._OrtClearBoundOutputs(z.handle),Q}finally{d.stackRestore(X),ne.forEach(A=>d._OrtReleaseTensor(A)),W.forEach(A=>d._OrtReleaseTensor(A)),E.forEach(A=>d._free(A)),q!==0&&d._OrtReleaseRunOptions(q),K.forEach(A=>d._free(A))}},Fn=l=>{let y=ae(),u=Lr.get(l);if(!u)throw new Error("invalid session id");let v=u[0],w=y._OrtEndProfiling(v);w===0&&te("Can\'t get an profile file name."),y._OrtFree(w)},Dn=l=>{let y=[];for(let u of l){let v=u[2];!Array.isArray(v)&&"buffer"in v&&y.push(v.buffer)}return y};self.onmessage=l=>{let{type:y,in:u}=l.data;try{switch(y){case"init-wasm":{let{env:v,epName:w}=u;gn(v.wasm,w).then(()=>{En(v).then(()=>{postMessage({type:y})},_=>{postMessage({type:y,err:_})})},_=>{postMessage({type:y,err:_})});break}case"init-ep":{let{epName:v,env:w}=u;Sn(w,v).then(()=>{postMessage({type:y})},_=>{postMessage({type:y,err:_})});break}case"copy-from":{let{buffer:v}=u,w=Pt(v);postMessage({type:y,out:w});break}case"create":{let{model:v,options:w}=u;Cn(v,w).then(_=>{postMessage({type:y,out:_})},_=>{postMessage({type:y,err:_})});break}case"release":Mn(u),postMessage({type:y});break;case"run":{let{sessionId:v,inputIndices:w,inputs:_,outputIndices:d,options:T}=u;Pn(v,w,_,d,new Array(d.length).fill(null),T).then(R=>{R.some(f=>f[3]!=="cpu")?postMessage({type:y,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:y,out:R},Dn(R))},R=>{postMessage({type:y,err:R})});break}case"end-profiling":Fn(u),postMessage({type:y});break;default:}}catch(v){postMessage({type:y,err:v})}};})();\n'});var wr,Be,at,It,Rt,hn,gn,xr,Br,Lo,Ft,qa,Xa,Ja,Za,Ka,Qa,eo,yn=X(()=>{"use strict";yr();Ya();Rr();wr=()=>!!re.wasm.proxy&&typeof document<"u",at=!1,It=!1,Rt=!1,gn=new Map,xr=(o,i)=>{let s=gn.get(o);s?s.push(i):gn.set(o,[i])},Br=()=>{if(at||!It||Rt||!Be)throw new Error("worker not ready")},Lo=o=>{switch(o.data.type){case"init-wasm":at=!1,o.data.err?(Rt=!0,hn[1](o.data.err)):(It=!0,hn[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let i=gn.get(o.data.type);o.data.err?i.shift()[1](o.data.err):i.shift()[0](o.data.out);break}default:}},Ft=typeof document<"u"?document?.currentScript?.src:void 0,qa=async o=>{if(!It){if(at)throw new Error("multiple calls to 'initWasm()' detected.");if(Rt)throw new Error("previous call to 'initWasm()' failed.");if(at=!0,wr())return re.wasm.wasmPaths===void 0&&Ft&&Ft.indexOf("blob:")!==0&&(re.wasm.wasmPaths=Ft.substr(0,+Ft.lastIndexOf("/")+1)),new Promise((i,s)=>{Be?.terminate();let m=URL.createObjectURL(new Blob([Va()],{type:"text/javascript"}));Be=new Worker(m,{name:"ort-wasm-proxy-worker"}),Be.onerror=y=>s(y),Be.onmessage=Lo,URL.revokeObjectURL(m),hn=[i,s];let c={type:"init-wasm",in:{env:re,epName:o}};Be.postMessage(c)});try{await Pa(re.wasm,o),await La(re),It=!0}catch(i){throw Rt=!0,i}finally{at=!1}}},Xa=async o=>{if(wr())return Br(),new Promise((i,s)=>{xr("init-ep",[i,s]);let m={type:"init-ep",in:{epName:o,env:re}};Be.postMessage(m)});await $a(re,o)},Ja=async o=>wr()?(Br(),new Promise((i,s)=>{xr("copy-from",[i,s]);let m={type:"copy-from",in:{buffer:o}};Be.postMessage(m,[o.buffer])})):mn(o),Za=async(o,i)=>{if(wr()){if(i?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Br(),new Promise((s,m)=>{xr("create",[s,m]);let c={type:"create",in:{model:o,options:i}},y=[];o instanceof Uint8Array&&y.push(o.buffer),Be.postMessage(c,y)})}else return Na(o,i)},Ka=async o=>{if(wr())return Br(),new Promise((i,s)=>{xr("release",[i,s]);let m={type:"release",in:o};Be.postMessage(m)});Ha(o)},Qa=async(o,i,s,m,c,y)=>{if(wr()){if(s.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(c.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return Br(),new Promise((d,g)=>{xr("run",[d,g]);let T=s,f={type:"run",in:{sessionId:o,inputIndices:i,inputs:T,outputIndices:m,options:y}};Be.postMessage(f,Ga(T))})}else return ja(o,i,s,m,c,y)},eo=async o=>{if(wr())return Br(),new Promise((i,s)=>{xr("end-profiling",[i,s]);let m={type:"end-profiling",in:o};Be.postMessage(m)});za(o)}});var ro,$o,xt,to=X(()=>{"use strict";yr();yn();dn();pn();ro=(o,i)=>{switch(o.location){case"cpu":return[o.type,o.dims,o.data,"cpu"];case"gpu-buffer":return[o.type,o.dims,{gpuBuffer:o.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${o.location} for ${i()}`)}},$o=o=>{switch(o[3]){case"cpu":return new ve(o[0],o[2],o[1]);case"gpu-buffer":{let i=o[0];if(!Dt(i))throw new Error(`not supported data type: ${i} for deserializing GPU tensor`);let{gpuBuffer:s,download:m,dispose:c}=o[2];return ve.fromGpuBuffer(s,{dataType:i,dims:o[1],download:m,dispose:c})}default:throw new Error(`invalid data location: ${o[3]}`)}},xt=class{async fetchModelAndCopyToWasmMemory(i){return Ja(await tt(i))}async loadModel(i,s){hr();let m;typeof i=="string"?typeof process<"u"&&process.versions&&process.versions.node?m=await tt(i):m=await this.fetchModelAndCopyToWasmMemory(i):m=i,[this.sessionId,this.inputNames,this.outputNames]=await Za(m,s),gr()}async dispose(){return Ka(this.sessionId)}async run(i,s,m){hr();let c=[],y=[];Object.entries(i).forEach(A=>{let M=A[0],L=A[1],N=this.inputNames.indexOf(M);if(N===-1)throw new Error(`invalid input '${M}'`);c.push(L),y.push(N)});let d=[],g=[];Object.entries(s).forEach(A=>{let M=A[0],L=A[1],N=this.outputNames.indexOf(M);if(N===-1)throw new Error(`invalid output '${M}'`);d.push(L),g.push(N)});let T=c.map((A,M)=>ro(A,()=>`input "${this.inputNames[y[M]]}"`)),f=d.map((A,M)=>A?ro(A,()=>`output "${this.outputNames[g[M]]}"`):null),_=await Qa(this.sessionId,y,T,g,f,m),S={};for(let A=0;A<_.length;A++)S[this.outputNames[g[A]]]=d[A]??$o(_[A]);return gr(),S}startProfiling(){}endProfiling(){eo(this.sessionId)}}});var No,Bt,no=X(()=>{"use strict";yr();yn();to();No=()=>{if((typeof re.wasm.initTimeout!="number"||re.wasm.initTimeout<0)&&(re.wasm.initTimeout=0),typeof re.wasm.simd!="boolean"&&(re.wasm.simd=!0),typeof re.wasm.proxy!="boolean"&&(re.wasm.proxy=!1),typeof re.wasm.trace!="boolean"&&(re.wasm.trace=!1),typeof re.wasm.numThreads!="number"||!Number.isInteger(re.wasm.numThreads)||re.wasm.numThreads<=0){let o=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;re.wasm.numThreads=Math.min(4,Math.ceil((o||1)/2))}},Bt=class{async init(i){No(),await qa(i),await Xa(i)}async createInferenceSessionHandler(i,s){let m=new xt;return await m.loadModel(i,s),Promise.resolve(m)}}});var ao={};Qr(ao,{wasmBackend:()=>Ho});var Ho,oo=X(()=>{"use strict";no();Ho=new Bt});yr();yr();yr();var ga="1.17.0";var Ms=Zt;{let o=(oo(),Ir(ao)).wasmBackend;pr("cpu",o,10),pr("wasm",o,10),pr("xnnpack",o,9),pr("webnn",o,9)}Object.defineProperty(re.versions,"web",{value:ga,enumerable:!0});export{vo as InferenceSession,fa as TRACE,hr as TRACE_FUNC_BEGIN,gr as TRACE_FUNC_END,ve as Tensor,To as TrainingSession,Ms as default,re as env,pr as registerBackend};
//# sourceMappingURL=ort.wasm.min.js.map
