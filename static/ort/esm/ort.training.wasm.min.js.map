{
  "version": 3,
  "sources": ["../../../common/lib/backend-impl.ts", "../../../common/lib/backend.ts", "../../../common/lib/version.ts", "../../../common/lib/env-impl.ts", "../../../common/lib/env.ts", "../../../common/lib/tensor-conversion-impl.ts", "../../../common/lib/tensor-factory-impl.ts", "../../../common/lib/tensor-impl-type-mapping.ts", "../../../common/lib/tensor-utils-impl.ts", "../../../common/lib/tensor-impl.ts", "../../../common/lib/tensor.ts", "../../../common/lib/inference-session-impl.ts", "../../../common/lib/inference-session.ts", "../../../common/lib/onnx-value.ts", "../../../common/lib/training-session-impl.ts", "../../../common/lib/training-session.ts", "../../../common/lib/index.ts", "nodejs-ignore:fs", "nodejs-ignore:path", "../../lib/wasm/binding/ort-training-wasm-simd.js", "nodejs-ignore:worker_threads", "nodejs-ignore:perf_hooks", "nodejs-ignore:os", "../../lib/wasm/binding/ort-wasm-threaded.js", "../../lib/wasm/binding/ort-wasm-threaded.worker.js", "../../lib/wasm/wasm-factory.ts", "../../lib/wasm/wasm-utils.ts", "../../lib/wasm/run-options.ts", "../../lib/wasm/session-options.ts", "../../lib/wasm/wasm-common.ts", "../../lib/wasm/wasm-core-impl.ts", "proxy-worker:./proxy-worker/main", "../../lib/wasm/proxy-wrapper.ts", "../../lib/wasm/session-handler-inference.ts", "../../lib/backend-wasm.ts", "../../lib/wasm/wasm-training-core-impl.ts", "../../lib/wasm/session-handler-training.ts", "../../lib/backend-wasm-training.ts", "../../lib/index.ts", "../../lib/version.ts"],
  "sourcesContent": ["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {Backend} from './backend.js';\n\ninterface BackendInfo {\n  backend: Backend;\n  priority: number;\n\n  initPromise?: Promise<void>;\n  initialized?: boolean;\n  aborted?: boolean;\n}\n\nconst backends: Map<string, BackendInfo> = new Map();\nconst backendsSortedByPriority: string[] = [];\n\n/**\n * Register a backend.\n *\n * @param name - the name as a key to lookup as an execution provider.\n * @param backend - the backend object.\n * @param priority - an integer indicating the priority of the backend. Higher number means higher priority. if priority\n * < 0, it will be considered as a 'beta' version and will not be used as a fallback backend by default.\n *\n * @ignore\n */\nexport const registerBackend = (name: string, backend: Backend, priority: number): void => {\n  if (backend && typeof backend.init === 'function' && typeof backend.createInferenceSessionHandler === 'function') {\n    const currentBackend = backends.get(name);\n    if (currentBackend === undefined) {\n      backends.set(name, {backend, priority});\n    } else if (currentBackend.priority > priority) {\n      // same name is already registered with a higher priority. skip registeration.\n      return;\n    } else if (currentBackend.priority === priority) {\n      if (currentBackend.backend !== backend) {\n        throw new Error(`cannot register backend \"${name}\" using priority ${priority}`);\n      }\n    }\n\n    if (priority >= 0) {\n      const i = backendsSortedByPriority.indexOf(name);\n      if (i !== -1) {\n        backendsSortedByPriority.splice(i, 1);\n      }\n\n      for (let i = 0; i < backendsSortedByPriority.length; i++) {\n        if (backends.get(backendsSortedByPriority[i])!.priority <= priority) {\n          backendsSortedByPriority.splice(i, 0, name);\n          return;\n        }\n      }\n      backendsSortedByPriority.push(name);\n    }\n    return;\n  }\n\n  throw new TypeError('not a valid backend');\n};\n\n/**\n * Resolve backend by specified hints.\n *\n * @param backendHints - a list of execution provider names to lookup. If omitted use registered backends as list.\n * @returns a promise that resolves to the backend.\n *\n * @ignore\n */\nexport const resolveBackend = async(backendHints: readonly string[]): Promise<Backend> => {\n  const backendNames = backendHints.length === 0 ? backendsSortedByPriority : backendHints;\n  const errors = [];\n  for (const backendName of backendNames) {\n    const backendInfo = backends.get(backendName);\n    if (backendInfo) {\n      if (backendInfo.initialized) {\n        return backendInfo.backend;\n      } else if (backendInfo.aborted) {\n        continue;  // current backend is unavailable; try next\n      }\n\n      const isInitializing = !!backendInfo.initPromise;\n      try {\n        if (!isInitializing) {\n          backendInfo.initPromise = backendInfo.backend.init(backendName);\n        }\n        await backendInfo.initPromise;\n        backendInfo.initialized = true;\n        return backendInfo.backend;\n      } catch (e) {\n        if (!isInitializing) {\n          errors.push({name: backendName, err: e});\n        }\n        backendInfo.aborted = true;\n      } finally {\n        delete backendInfo.initPromise;\n      }\n    }\n  }\n\n  throw new Error(`no available backend found. ERR: ${errors.map(e => `[${e.name}] ${e.err}`).join(', ')}`);\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession} from './inference-session.js';\nimport {OnnxValue} from './onnx-value.js';\nimport {TrainingSession} from './training-session.js';\n\n/**\n * @ignore\n */\nexport declare namespace SessionHandler {\n  type FeedsType = {[name: string]: OnnxValue};\n  type FetchesType = {[name: string]: OnnxValue | null};\n  type ReturnType = {[name: string]: OnnxValue};\n}\n\n/**\n * Represents shared SessionHandler functionality\n *\n * @ignore\n */\ninterface SessionHandler {\n  dispose(): Promise<void>;\n\n  readonly inputNames: readonly string[];\n  readonly outputNames: readonly string[];\n}\n\n/**\n * Represent a handler instance of an inference session.\n *\n * @ignore\n */\nexport interface InferenceSessionHandler extends SessionHandler {\n  startProfiling(): void;\n  endProfiling(): void;\n\n  run(feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType,\n      options: InferenceSession.RunOptions): Promise<SessionHandler.ReturnType>;\n}\n\n/**\n * Represent a handler instance of a training inference session.\n *\n * @ignore\n */\nexport interface TrainingSessionHandler extends SessionHandler {\n  readonly evalInputNames: readonly string[];\n  readonly evalOutputNames: readonly string[];\n\n  lazyResetGrad(): Promise<void>;\n  runTrainStep(\n      feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType,\n      options: InferenceSession.RunOptions): Promise<SessionHandler.ReturnType>;\n  runOptimizerStep(options: InferenceSession.RunOptions): Promise<void>;\n  runEvalStep(\n      feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType,\n      options: InferenceSession.RunOptions): Promise<SessionHandler.ReturnType>;\n\n  getParametersSize(trainableOnly: boolean): Promise<number>;\n  loadParametersBuffer(array: Uint8Array, trainableOnly: boolean): Promise<void>;\n  getContiguousParameters(trainableOnly: boolean): Promise<OnnxValue>;\n}\n\n/**\n * Represent a backend that provides implementation of model inferencing.\n *\n * @ignore\n */\nexport interface Backend {\n  /**\n   * Initialize the backend asynchronously. Should throw when failed.\n   */\n  init(backendName: string): Promise<void>;\n\n  createInferenceSessionHandler(uriOrBuffer: string|Uint8Array, options?: InferenceSession.SessionOptions):\n      Promise<InferenceSessionHandler>;\n\n  createTrainingSessionHandler?\n      (checkpointStateUriOrBuffer: TrainingSession.URIorBuffer, trainModelUriOrBuffer: TrainingSession.URIorBuffer,\n       evalModelUriOrBuffer: TrainingSession.URIorBuffer, optimizerModelUriOrBuffer: TrainingSession.URIorBuffer,\n       options: InferenceSession.SessionOptions): Promise<TrainingSessionHandler>;\n}\n\nexport {registerBackend} from './backend-impl.js';\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// This file is generated by /js/scripts/update-version.ts\n// Do not modify file content manually.\n\nexport const version = '1.17.0';\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {Env} from './env.js';\nimport {version} from './version.js';\n\ntype LogLevelType = Env['logLevel'];\n\nlet logLevelValue: Required<LogLevelType> = 'warning';\n\nexport const env: Env = {\n  wasm: {} as Env.WebAssemblyFlags,\n  webgl: {} as Env.WebGLFlags,\n  webgpu: {} as Env.WebGpuFlags,\n  versions: {common: version},\n\n  set logLevel(value: LogLevelType) {\n    if (value === undefined) {\n      return;\n    }\n    if (typeof value !== 'string' || ['verbose', 'info', 'warning', 'error', 'fatal'].indexOf(value) === -1) {\n      throw new Error(`Unsupported logging level: ${value}`);\n    }\n    logLevelValue = value;\n  },\n  get logLevel(): Required<LogLevelType> {\n    return logLevelValue;\n  },\n};\n\n// set property 'logLevel' so that they can be correctly transferred to worker by `postMessage()`.\nObject.defineProperty(env, 'logLevel', {enumerable: true});\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {env as envImpl} from './env-impl.js';\n\nexport declare namespace Env {\n  export type WasmPrefixOrFilePaths = string|{\n    /* eslint-disable @typescript-eslint/naming-convention */\n    'ort-wasm.wasm'?: string;\n    'ort-wasm-threaded.wasm'?: string;\n    'ort-wasm-simd.wasm'?: string;\n    'ort-training-wasm-simd.wasm'?: string;\n    'ort-wasm-simd-threaded.wasm'?: string;\n    /* eslint-enable @typescript-eslint/naming-convention */\n  };\n  export interface WebAssemblyFlags {\n    /**\n     * set or get number of thread(s). If omitted or set to 0, number of thread(s) will be determined by system. If set\n     * to 1, no worker thread will be spawned.\n     *\n     * This setting is available only when WebAssembly multithread feature is available in current context.\n     *\n     * @defaultValue `0`\n     */\n    numThreads?: number;\n\n    /**\n     * set or get a boolean value indicating whether to enable SIMD. If set to false, SIMD will be forcely disabled.\n     *\n     * This setting is available only when WebAssembly SIMD feature is available in current context.\n     *\n     * @defaultValue `true`\n     */\n    simd?: boolean;\n\n    /**\n     * Set or get a number specifying the timeout for initialization of WebAssembly backend, in milliseconds. A zero\n     * value indicates no timeout is set.\n     *\n     * @defaultValue `0`\n     */\n    initTimeout?: number;\n\n    /**\n     * Set a custom URL prefix to the .wasm files or a set of overrides for each .wasm file. The override path should be\n     * an absolute path.\n     */\n    wasmPaths?: WasmPrefixOrFilePaths;\n\n    /**\n     * Set or get a boolean value indicating whether to proxy the execution of main thread to a worker thread.\n     *\n     * @defaultValue `false`\n     */\n    proxy?: boolean;\n  }\n\n  export interface WebGLFlags {\n    /**\n     * Set or get the WebGL Context ID (webgl or webgl2).\n     *\n     * @defaultValue `'webgl2'`\n     */\n    contextId?: 'webgl'|'webgl2';\n    /**\n     * Get the WebGL rendering context.\n     */\n    readonly context: WebGLRenderingContext;\n    /**\n     * Set or get the maximum batch size for matmul. 0 means to disable batching.\n     *\n     * @deprecated\n     */\n    matmulMaxBatchSize?: number;\n    /**\n     * Set or get the texture cache mode.\n     *\n     * @defaultValue `'full'`\n     */\n    textureCacheMode?: 'initializerOnly'|'full';\n    /**\n     * Set or get the packed texture mode\n     *\n     * @defaultValue `false`\n     */\n    pack?: boolean;\n    /**\n     * Set or get whether enable async download.\n     *\n     * @defaultValue `false`\n     */\n    async?: boolean;\n  }\n\n  export interface WebGpuProfilingDataV1TensorMetadata {\n    dims: readonly number[];\n    dataType: string;\n  }\n  export interface WebGpuProfilingDataV1 {\n    version: 1;\n    inputsMetadata: readonly WebGpuProfilingDataV1TensorMetadata[];\n    outputsMetadata: readonly WebGpuProfilingDataV1TensorMetadata[];\n    kernelId: number;\n    kernelType: string;\n    kernelName: string;\n    startTime: number;\n    endTime: number;\n  }\n\n  export type WebGpuProfilingData = WebGpuProfilingDataV1;\n\n  export interface WebGpuFlags {\n    /**\n     * Set or get the profiling mode.\n     *\n     * @deprecated Use `env.webgpu.profiling.mode` instead. If `env.webgpu.profiling.mode` is set, this property will be\n     * ignored.\n     */\n    profilingMode?: 'off'|'default';\n    /**\n     * Set or get the profiling configuration.\n     */\n    profiling?: {\n      /**\n       * Set or get the profiling mode.\n       *\n       * @defaultValue `'off'`\n       */\n      mode?: 'off'|'default';\n\n      /**\n       * Set or get a callback function when a profiling data is received. If not set, the profiling data will be\n       * printed to console.\n       */\n      ondata?: (data: WebGpuProfilingData) => void;\n    };\n    /**\n     * Get the device for WebGPU.\n     *\n     * When use with TypeScript, the type of this property is `GPUDevice` defined in \"@webgpu/types\".\n     * Use `const device = env.webgpu.device as GPUDevice;` in TypeScript to access this property with correct type.\n     *\n     * see comments on {@link GpuBufferType} for more details about why not use types defined in \"@webgpu/types\".\n     */\n    readonly device: unknown;\n    /**\n     * Set or get whether validate input content.\n     *\n     * @defaultValue `false`\n     */\n    validateInputContent?: boolean;\n  }\n}\n\nexport interface Env {\n  /**\n   * set the severity level for logging.\n   *\n   * @defaultValue `'warning'`\n   */\n  logLevel?: 'verbose'|'info'|'warning'|'error'|'fatal';\n  /**\n   * Indicate whether run in debug mode.\n   *\n   * @defaultValue `false`\n   */\n  debug?: boolean;\n\n  /**\n   * Get version of the current package.\n   */\n  readonly versions: {\n    readonly common: string;\n    readonly web?: string;\n    readonly node?: string;\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    readonly 'react-native'?: string;\n  };\n\n  /**\n   * Represent a set of flags for WebAssembly\n   */\n  readonly wasm: Env.WebAssemblyFlags;\n\n  /**\n   * Represent a set of flags for WebGL\n   */\n  readonly webgl: Env.WebGLFlags;\n\n  /**\n   * Represent a set of flags for WebGPU\n   */\n  readonly webgpu: Env.WebGpuFlags;\n\n  [name: string]: unknown;\n}\n\n/**\n * Represent a set of flags as a global singleton.\n */\nexport const env: Env = envImpl;\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {TensorToDataUrlOptions, TensorToImageDataOptions} from './tensor-conversion.js';\nimport {Tensor} from './tensor.js';\n\n/**\n * implementation of Tensor.toDataURL()\n */\nexport const tensorToDataURL = (tensor: Tensor, options?: TensorToDataUrlOptions): string => {\n  const canvas = document.createElement('canvas');\n  canvas.width = tensor.dims[3];\n  canvas.height = tensor.dims[2];\n  const pixels2DContext = canvas.getContext('2d');\n\n  if (pixels2DContext != null) {\n    // Default values for height and width & format\n    let width: number;\n    let height: number;\n    if (options?.tensorLayout !== undefined && options.tensorLayout === 'NHWC') {\n      width = tensor.dims[2];\n      height = tensor.dims[3];\n    } else {  // Default layout is NCWH\n      width = tensor.dims[3];\n      height = tensor.dims[2];\n    }\n\n    const inputformat = options?.format !== undefined ? options.format : 'RGB';\n\n    const norm = options?.norm;\n    let normMean: [number, number, number, number];\n    let normBias: [number, number, number, number];\n    if (norm === undefined || norm.mean === undefined) {\n      normMean = [255, 255, 255, 255];\n    } else {\n      if (typeof (norm.mean) === 'number') {\n        normMean = [norm.mean, norm.mean, norm.mean, norm.mean];\n      } else {\n        normMean = [norm.mean[0], norm.mean[1], norm.mean[2], 0];\n        if (norm.mean[3] !== undefined) {\n          normMean[3] = norm.mean[3];\n        }\n      }\n    }\n    if (norm === undefined || norm.bias === undefined) {\n      normBias = [0, 0, 0, 0];\n    } else {\n      if (typeof (norm.bias) === 'number') {\n        normBias = [norm.bias, norm.bias, norm.bias, norm.bias];\n      } else {\n        normBias = [norm.bias[0], norm.bias[1], norm.bias[2], 0];\n        if (norm.bias[3] !== undefined) {\n          normBias[3] = norm.bias[3];\n        }\n      }\n    }\n\n    const stride = height * width;\n    // Default pointer assignments\n    let rTensorPointer = 0, gTensorPointer = stride, bTensorPointer = stride * 2, aTensorPointer = -1;\n\n    // Updating the pointer assignments based on the input image format\n    if (inputformat === 'RGBA') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n      aTensorPointer = stride * 3;\n    } else if (inputformat === 'RGB') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n    } else if (inputformat === 'RBG') {\n      rTensorPointer = 0;\n      bTensorPointer = stride;\n      gTensorPointer = stride * 2;\n    }\n\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const R = ((tensor.data[rTensorPointer++] as number) - normBias[0]) * normMean[0];  // R value\n        const G = ((tensor.data[gTensorPointer++] as number) - normBias[1]) * normMean[1];  // G value\n        const B = ((tensor.data[bTensorPointer++] as number) - normBias[2]) * normMean[2];  // B value\n        const A = aTensorPointer === -1 ?\n            255 :\n            ((tensor.data[aTensorPointer++] as number) - normBias[3]) * normMean[3];  // A value\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        pixels2DContext.fillStyle = 'rgba(' + R + ',' + G + ',' + B + ',' + A + ')';\n        pixels2DContext.fillRect(j, i, 1, 1);\n      }\n    }\n    return canvas.toDataURL();\n  } else {\n    throw new Error('Can not access image data');\n  }\n};\n\n/**\n * implementation of Tensor.toImageData()\n */\nexport const tensorToImageData = (tensor: Tensor, options?: TensorToImageDataOptions): ImageData => {\n  const pixels2DContext = document.createElement('canvas').getContext('2d');\n  let image: ImageData;\n  if (pixels2DContext != null) {\n    // Default values for height and width & format\n    let width: number;\n    let height: number;\n    let channels: number;\n    if (options?.tensorLayout !== undefined && options.tensorLayout === 'NHWC') {\n      width = tensor.dims[2];\n      height = tensor.dims[1];\n      channels = tensor.dims[3];\n    } else {  // Default layout is NCWH\n      width = tensor.dims[3];\n      height = tensor.dims[2];\n      channels = tensor.dims[1];\n    }\n    const inputformat = options !== undefined ? (options.format !== undefined ? options.format : 'RGB') : 'RGB';\n\n    const norm = options?.norm;\n    let normMean: [number, number, number, number];\n    let normBias: [number, number, number, number];\n    if (norm === undefined || norm.mean === undefined) {\n      normMean = [255, 255, 255, 255];\n    } else {\n      if (typeof (norm.mean) === 'number') {\n        normMean = [norm.mean, norm.mean, norm.mean, norm.mean];\n      } else {\n        normMean = [norm.mean[0], norm.mean[1], norm.mean[2], 255];\n        if (norm.mean[3] !== undefined) {\n          normMean[3] = norm.mean[3];\n        }\n      }\n    }\n    if (norm === undefined || norm.bias === undefined) {\n      normBias = [0, 0, 0, 0];\n    } else {\n      if (typeof (norm.bias) === 'number') {\n        normBias = [norm.bias, norm.bias, norm.bias, norm.bias];\n      } else {\n        normBias = [norm.bias[0], norm.bias[1], norm.bias[2], 0];\n        if (norm.bias[3] !== undefined) {\n          normBias[3] = norm.bias[3];\n        }\n      }\n    }\n\n    const stride = height * width;\n    if (options !== undefined) {\n      if (options.format !== undefined && (channels === 4 && options.format !== 'RGBA') ||\n          (channels === 3 && (options.format !== 'RGB' && options.format !== 'BGR'))) {\n        throw new Error('Tensor format doesn\\'t match input tensor dims');\n      }\n    }\n\n    // Default pointer assignments\n    const step = 4;\n    let rImagePointer = 0, gImagePointer = 1, bImagePointer = 2, aImagePointer = 3;\n    let rTensorPointer = 0, gTensorPointer = stride, bTensorPointer = stride * 2, aTensorPointer = -1;\n\n    // Updating the pointer assignments based on the input image format\n    if (inputformat === 'RGBA') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n      aTensorPointer = stride * 3;\n    } else if (inputformat === 'RGB') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n    } else if (inputformat === 'RBG') {\n      rTensorPointer = 0;\n      bTensorPointer = stride;\n      gTensorPointer = stride * 2;\n    }\n\n    image = pixels2DContext.createImageData(width, height);\n\n    for (let i = 0; i < height * width;\n         rImagePointer += step, gImagePointer += step, bImagePointer += step, aImagePointer += step, i++) {\n      image.data[rImagePointer] = ((tensor.data[rTensorPointer++] as number) - normBias[0]) * normMean[0];  // R value\n      image.data[gImagePointer] = ((tensor.data[gTensorPointer++] as number) - normBias[1]) * normMean[1];  // G value\n      image.data[bImagePointer] = ((tensor.data[bTensorPointer++] as number) - normBias[2]) * normMean[2];  // B value\n      image.data[aImagePointer] = aTensorPointer === -1 ?\n          255 :\n          ((tensor.data[aTensorPointer++] as number) - normBias[3]) * normMean[3];  // A value\n    }\n\n  } else {\n    throw new Error('Can not access image data');\n  }\n  return image;\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {OptionsDimensions, OptionsFormat, OptionsNormalizationParameters, OptionsTensorFormat, OptionsTensorLayout, TensorFromGpuBufferOptions, TensorFromImageBitmapOptions, TensorFromImageDataOptions, TensorFromImageElementOptions, TensorFromTextureOptions, TensorFromUrlOptions} from './tensor-factory.js';\nimport {Tensor} from './tensor-impl.js';\nimport {Tensor as TensorInterface} from './tensor.js';\n\ninterface BufferToTensorOptions extends OptionsDimensions, OptionsTensorLayout, OptionsNormalizationParameters,\n                                        OptionsFormat, OptionsTensorFormat {}\n\n/**\n * Create a new tensor object from image object\n *\n * @param buffer - Extracted image buffer data - assuming RGBA format\n * @param imageFormat - input image configuration - required configurations height, width, format\n * @param tensorFormat - output tensor configuration - Default is RGB format\n */\nexport const bufferToTensor = (buffer: Uint8ClampedArray|undefined, options: BufferToTensorOptions): Tensor => {\n  if (buffer === undefined) {\n    throw new Error('Image buffer must be defined');\n  }\n  if (options.height === undefined || options.width === undefined) {\n    throw new Error('Image height and width must be defined');\n  }\n  if (options.tensorLayout === 'NHWC') {\n    throw new Error('NHWC Tensor layout is not supported yet');\n  }\n\n  const {height, width} = options;\n\n  const norm = options.norm ?? {mean: 255, bias: 0};\n  let normMean: [number, number, number, number];\n  let normBias: [number, number, number, number];\n\n  if (typeof (norm.mean) === 'number') {\n    normMean = [norm.mean, norm.mean, norm.mean, norm.mean];\n  } else {\n    normMean = [norm.mean![0], norm.mean![1], norm.mean![2], norm.mean![3] ?? 255];\n  }\n\n  if (typeof (norm.bias) === 'number') {\n    normBias = [norm.bias, norm.bias, norm.bias, norm.bias];\n  } else {\n    normBias = [norm.bias![0], norm.bias![1], norm.bias![2], norm.bias![3] ?? 0];\n  }\n\n  const inputformat = options.format !== undefined ? options.format : 'RGBA';\n  // default value is RGBA since imagedata and HTMLImageElement uses it\n\n  const outputformat =\n      options.tensorFormat !== undefined ? (options.tensorFormat !== undefined ? options.tensorFormat : 'RGB') : 'RGB';\n  const stride = height * width;\n  const float32Data = outputformat === 'RGBA' ? new Float32Array(stride * 4) : new Float32Array(stride * 3);\n\n  // Default pointer assignments\n  let step = 4, rImagePointer = 0, gImagePointer = 1, bImagePointer = 2, aImagePointer = 3;\n  let rTensorPointer = 0, gTensorPointer = stride, bTensorPointer = stride * 2, aTensorPointer = -1;\n\n  // Updating the pointer assignments based on the input image format\n  if (inputformat === 'RGB') {\n    step = 3;\n    rImagePointer = 0;\n    gImagePointer = 1;\n    bImagePointer = 2;\n    aImagePointer = -1;\n  }\n\n  // Updating the pointer assignments based on the output tensor format\n  if (outputformat === 'RGBA') {\n    aTensorPointer = stride * 3;\n  } else if (outputformat === 'RBG') {\n    rTensorPointer = 0;\n    bTensorPointer = stride;\n    gTensorPointer = stride * 2;\n  } else if (outputformat === 'BGR') {\n    bTensorPointer = 0;\n    gTensorPointer = stride;\n    rTensorPointer = stride * 2;\n  }\n\n  for (let i = 0; i < stride;\n       i++, rImagePointer += step, bImagePointer += step, gImagePointer += step, aImagePointer += step) {\n    float32Data[rTensorPointer++] = (buffer[rImagePointer] + normBias[0]) / normMean[0];\n    float32Data[gTensorPointer++] = (buffer[gImagePointer] + normBias[1]) / normMean[1];\n    float32Data[bTensorPointer++] = (buffer[bImagePointer] + normBias[2]) / normMean[2];\n    if (aTensorPointer !== -1 && aImagePointer !== -1) {\n      float32Data[aTensorPointer++] = (buffer[aImagePointer] + normBias[3]) / normMean[3];\n    }\n  }\n\n  // Float32Array -> ort.Tensor\n  const outputTensor = outputformat === 'RGBA' ? new Tensor('float32', float32Data, [1, 4, height, width]) :\n                                                 new Tensor('float32', float32Data, [1, 3, height, width]);\n  return outputTensor;\n};\n\n/**\n * implementation of Tensor.fromImage().\n */\nexport const tensorFromImage = async(\n    image: ImageData|HTMLImageElement|ImageBitmap|string,\n    options?: TensorFromImageDataOptions|TensorFromImageElementOptions|TensorFromImageBitmapOptions|\n    TensorFromUrlOptions): Promise<Tensor> => {\n  // checking the type of image object\n  const isHTMLImageEle = typeof (HTMLImageElement) !== 'undefined' && image instanceof HTMLImageElement;\n  const isImageDataEle = typeof (ImageData) !== 'undefined' && image instanceof ImageData;\n  const isImageBitmap = typeof (ImageBitmap) !== 'undefined' && image instanceof ImageBitmap;\n  const isString = typeof image === 'string';\n\n  let data: Uint8ClampedArray|undefined;\n  let bufferToTensorOptions: BufferToTensorOptions = options ?? {};\n\n  // filling and checking image configuration options\n  if (isHTMLImageEle) {\n    // HTMLImageElement - image object - format is RGBA by default\n    const canvas = document.createElement('canvas');\n    canvas.width = image.width;\n    canvas.height = image.height;\n    const pixels2DContext = canvas.getContext('2d');\n\n    if (pixels2DContext != null) {\n      let height = image.height;\n      let width = image.width;\n      if (options !== undefined && options.resizedHeight !== undefined && options.resizedWidth !== undefined) {\n        height = options.resizedHeight;\n        width = options.resizedWidth;\n      }\n\n      if (options !== undefined) {\n        bufferToTensorOptions = options;\n        if (options.tensorFormat !== undefined) {\n          throw new Error('Image input config format must be RGBA for HTMLImageElement');\n        } else {\n          bufferToTensorOptions.tensorFormat = 'RGBA';\n        }\n        bufferToTensorOptions.height = height;\n        bufferToTensorOptions.width = width;\n      } else {\n        bufferToTensorOptions.tensorFormat = 'RGBA';\n        bufferToTensorOptions.height = height;\n        bufferToTensorOptions.width = width;\n      }\n\n      pixels2DContext.drawImage(image, 0, 0);\n      data = pixels2DContext.getImageData(0, 0, width, height).data;\n    } else {\n      throw new Error('Can not access image data');\n    }\n  } else if (isImageDataEle) {\n    let height: number;\n    let width: number;\n\n    if (options !== undefined && options.resizedWidth !== undefined && options.resizedHeight !== undefined) {\n      height = options.resizedHeight;\n      width = options.resizedWidth;\n    } else {\n      height = image.height;\n      width = image.width;\n    }\n\n    if (options !== undefined) {\n      bufferToTensorOptions = options;\n    }\n    bufferToTensorOptions.format = 'RGBA';\n    bufferToTensorOptions.height = height;\n    bufferToTensorOptions.width = width;\n\n    if (options !== undefined) {\n      const tempCanvas = document.createElement('canvas');\n\n      tempCanvas.width = width;\n      tempCanvas.height = height;\n\n      const pixels2DContext = tempCanvas.getContext('2d');\n\n      if (pixels2DContext != null) {\n        pixels2DContext.putImageData(image, 0, 0);\n        data = pixels2DContext.getImageData(0, 0, width, height).data;\n      } else {\n        throw new Error('Can not access image data');\n      }\n    } else {\n      data = image.data;\n    }\n  } else if (isImageBitmap) {\n    // ImageBitmap - image object - format must be provided by user\n    if (options === undefined) {\n      throw new Error('Please provide image config with format for Imagebitmap');\n    }\n\n    const canvas = document.createElement('canvas');\n    canvas.width = image.width;\n    canvas.height = image.height;\n    const pixels2DContext = canvas.getContext('2d');\n\n    if (pixels2DContext != null) {\n      const height = image.height;\n      const width = image.width;\n      pixels2DContext.drawImage(image, 0, 0, width, height);\n      data = pixels2DContext.getImageData(0, 0, width, height).data;\n      bufferToTensorOptions.height = height;\n      bufferToTensorOptions.width = width;\n      return bufferToTensor(data, bufferToTensorOptions);\n    } else {\n      throw new Error('Can not access image data');\n    }\n  } else if (isString) {\n    return new Promise((resolve, reject) => {\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      if (!image || !context) {\n        return reject();\n      }\n      const newImage = new Image();\n      newImage.crossOrigin = 'Anonymous';\n      newImage.src = image;\n      newImage.onload = () => {\n        canvas.width = newImage.width;\n        canvas.height = newImage.height;\n        context.drawImage(newImage, 0, 0, canvas.width, canvas.height);\n        const img = context.getImageData(0, 0, canvas.width, canvas.height);\n\n        bufferToTensorOptions.height = canvas.height;\n        bufferToTensorOptions.width = canvas.width;\n        resolve(bufferToTensor(img.data, bufferToTensorOptions));\n      };\n    });\n  } else {\n    throw new Error('Input data provided is not supported - aborted tensor creation');\n  }\n\n  if (data !== undefined) {\n    return bufferToTensor(data, bufferToTensorOptions);\n  } else {\n    throw new Error('Input data provided is not supported - aborted tensor creation');\n  }\n};\n\n/**\n * implementation of Tensor.fromTexture().\n */\nexport const tensorFromTexture = <T extends TensorInterface.TextureDataTypes>(\n    texture: TensorInterface.TextureType, options: TensorFromTextureOptions<T>): Tensor => {\n  const {width, height, download, dispose} = options;\n  // Always assume RGBAF32. TODO: support different texture format\n  const dims = [1, height, width, 4];\n  return new Tensor({location: 'texture', type: 'float32', texture, dims, download, dispose});\n};\n\n/**\n * implementation of Tensor.fromGpuBuffer().\n */\nexport const tensorFromGpuBuffer = <T extends TensorInterface.GpuBufferDataTypes>(\n    gpuBuffer: TensorInterface.GpuBufferType, options: TensorFromGpuBufferOptions<T>): Tensor => {\n  const {dataType, dims, download, dispose} = options;\n  return new Tensor({location: 'gpu-buffer', type: dataType ?? 'float32', gpuBuffer, dims, download, dispose});\n};\n\n/**\n * implementation of Tensor.fromPinnedBuffer().\n */\nexport const tensorFromPinnedBuffer = <T extends TensorInterface.CpuPinnedDataTypes>(\n    type: T, buffer: TensorInterface.DataTypeMap[T], dims?: readonly number[]): Tensor =>\n    new Tensor({location: 'cpu-pinned', type, data: buffer, dims: dims ?? [buffer.length]});\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {Tensor} from './tensor.js';\n\nexport type SupportedTypedArrayConstructors = Float32ArrayConstructor|Uint8ArrayConstructor|Int8ArrayConstructor|\n    Uint16ArrayConstructor|Int16ArrayConstructor|Int32ArrayConstructor|BigInt64ArrayConstructor|Uint8ArrayConstructor|\n    Float64ArrayConstructor|Uint32ArrayConstructor|BigUint64ArrayConstructor;\nexport type SupportedTypedArray = InstanceType<SupportedTypedArrayConstructors>;\n\n// a runtime map that maps type string to TypedArray constructor. Should match Tensor.DataTypeMap.\nexport const NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP = new Map<string, SupportedTypedArrayConstructors>([\n  ['float32', Float32Array],\n  ['uint8', Uint8Array],\n  ['int8', Int8Array],\n  ['uint16', Uint16Array],\n  ['float16', Uint16Array],\n  ['int16', Int16Array],\n  ['int32', Int32Array],\n  ['bool', Uint8Array],\n  ['float64', Float64Array],\n  ['uint32', Uint32Array],\n]);\n\n// a runtime map that maps type string to TypedArray constructor. Should match Tensor.DataTypeMap.\nexport const NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP = new Map<SupportedTypedArrayConstructors, Tensor.Type>([\n  [Float32Array, 'float32'],\n  [Uint8Array, 'uint8'],\n  [Int8Array, 'int8'],\n  [Uint16Array, 'uint16'],\n  [Int16Array, 'int16'],\n  [Int32Array, 'int32'],\n  [Float64Array, 'float64'],\n  [Uint32Array, 'uint32'],\n]);\n\n// the following code allows delaying execution of BigInt checking. This allows lazy initialization for\n// NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP and NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP, which allows BigInt polyfill\n// if available.\nlet isBigIntChecked = false;\nexport const checkBigInt = () => {\n  if (!isBigIntChecked) {\n    isBigIntChecked = true;\n    const isBigInt64ArrayAvailable = typeof BigInt64Array !== 'undefined' && typeof BigInt64Array.from === 'function';\n    const isBigUint64ArrayAvailable =\n        typeof BigUint64Array !== 'undefined' && typeof BigUint64Array.from === 'function';\n\n    if (isBigInt64ArrayAvailable) {\n      NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('int64', BigInt64Array);\n      NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array, 'int64');\n    }\n    if (isBigUint64ArrayAvailable) {\n      NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('uint64', BigUint64Array);\n      NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array, 'uint64');\n    }\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {CpuPinnedConstructorParameters, GpuBufferConstructorParameters, TextureConstructorParameters} from './tensor-factory.js';\nimport {Tensor} from './tensor-impl.js';\n\n/**\n * calculate size from dims.\n *\n * @param dims the dims array. May be an illegal input.\n */\nexport const calculateSize = (dims: readonly unknown[]): number => {\n  let size = 1;\n  for (let i = 0; i < dims.length; i++) {\n    const dim = dims[i];\n    if (typeof dim !== 'number' || !Number.isSafeInteger(dim)) {\n      throw new TypeError(`dims[${i}] must be an integer, got: ${dim}`);\n    }\n    if (dim < 0) {\n      throw new RangeError(`dims[${i}] must be a non-negative integer, got: ${dim}`);\n    }\n    size *= dim;\n  }\n  return size;\n};\n\n/**\n * implementation of Tensor.reshape()\n */\nexport const tensorReshape = (tensor: Tensor, dims: readonly number[]): Tensor => {\n  switch (tensor.location) {\n    case 'cpu':\n      return new Tensor(tensor.type, tensor.data, dims);\n    case 'cpu-pinned':\n      return new Tensor({\n        location: 'cpu-pinned',\n        data: tensor.data as CpuPinnedConstructorParameters['data'],\n        type: tensor.type as CpuPinnedConstructorParameters['type'],\n        dims,\n      });\n    case 'texture':\n      return new Tensor({\n        location: 'texture',\n        texture: tensor.texture,\n        type: tensor.type as TextureConstructorParameters['type'],\n        dims,\n      });\n    case 'gpu-buffer':\n      return new Tensor({\n        location: 'gpu-buffer',\n        gpuBuffer: tensor.gpuBuffer,\n        type: tensor.type as GpuBufferConstructorParameters['type'],\n        dims,\n      });\n    default:\n      throw new Error(`tensorReshape: tensor location ${tensor.location} is not supported`);\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {tensorToDataURL, tensorToImageData} from './tensor-conversion-impl.js';\nimport {TensorToDataUrlOptions, TensorToImageDataOptions} from './tensor-conversion.js';\nimport {tensorFromGpuBuffer, tensorFromImage, tensorFromPinnedBuffer, tensorFromTexture} from './tensor-factory-impl.js';\nimport {CpuPinnedConstructorParameters, GpuBufferConstructorParameters, TensorFromGpuBufferOptions, TensorFromImageBitmapOptions, TensorFromImageDataOptions, TensorFromImageElementOptions, TensorFromTextureOptions, TensorFromUrlOptions, TextureConstructorParameters} from './tensor-factory.js';\nimport {checkBigInt, NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP, NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP, SupportedTypedArray, SupportedTypedArrayConstructors} from './tensor-impl-type-mapping.js';\nimport {calculateSize, tensorReshape} from './tensor-utils-impl.js';\nimport {Tensor as TensorInterface} from './tensor.js';\n\n// type aliases for those exported from Tensor interface\n\ntype TensorType = TensorInterface.Type;\ntype TensorDataType = TensorInterface.DataType;\ntype TensorDataLocation = TensorInterface.DataLocation;\ntype TensorTextureType = TensorInterface.TextureType;\ntype TensorGpuBufferType = TensorInterface.GpuBufferType;\n\n/**\n * the implementation of Tensor interface.\n *\n * @ignore\n */\nexport class Tensor implements TensorInterface {\n  // #region constructors\n\n  /**\n   * Construct a new CPU tensor object from the given type, data and dims.\n   */\n  constructor(\n      type: TensorType, data: TensorDataType|readonly string[]|readonly number[]|readonly boolean[],\n      dims?: readonly number[]);\n  /**\n   * Construct a new CPU tensor object from the given data and dims. Type is inferred from data.\n   */\n  constructor(data: TensorDataType|readonly string[]|readonly boolean[], dims?: readonly number[]);\n  /**\n   * Construct a new tensor object from the pinned CPU data with the given type and dims.\n   *\n   * Tensor's location will be set to 'cpu-pinned'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: CpuPinnedConstructorParameters);\n  /**\n   * Construct a new tensor object from the WebGL texture with the given type and dims.\n   *\n   * Tensor's location will be set to 'texture'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: TextureConstructorParameters);\n  /**\n   * Construct a new tensor object from the WebGPU buffer with the given type and dims.\n   *\n   * Tensor's location will be set to 'gpu-buffer'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: GpuBufferConstructorParameters);\n\n  /**\n   * implementation.\n   */\n  constructor(\n      arg0: TensorType|TensorDataType|readonly string[]|readonly boolean[]|CpuPinnedConstructorParameters|\n      TextureConstructorParameters|GpuBufferConstructorParameters,\n      arg1?: TensorDataType|readonly number[]|readonly string[]|readonly boolean[], arg2?: readonly number[]) {\n    // perform one-time check for BigInt support\n    checkBigInt();\n\n    let type: TensorType;\n    let dims: readonly number[];\n\n    if (typeof arg0 === 'object' && 'location' in arg0) {\n      //\n      // constructing tensor from specific location\n      //\n      this.dataLocation = arg0.location;\n      type = arg0.type;\n      dims = arg0.dims;\n      switch (arg0.location) {\n        case 'cpu-pinned': {\n          const expectedTypedArrayConstructor = NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(type);\n          if (!expectedTypedArrayConstructor) {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from pinned buffer`);\n          }\n          if (!(arg0.data instanceof expectedTypedArrayConstructor)) {\n            throw new TypeError(`buffer should be of type ${expectedTypedArrayConstructor.name}`);\n          }\n          this.cpuData = arg0.data;\n          break;\n        }\n        case 'texture': {\n          if (type !== 'float32') {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from texture`);\n          }\n          this.gpuTextureData = arg0.texture;\n          this.downloader = arg0.download;\n          this.disposer = arg0.dispose;\n          break;\n        }\n        case 'gpu-buffer': {\n          if ((type !== 'float32' && type !== 'float16' && type !== 'int32' && type !== 'int64' && type !== 'uint32' &&\n               type !== 'bool')) {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from gpu buffer`);\n          }\n          this.gpuBufferData = arg0.gpuBuffer;\n          this.downloader = arg0.download;\n          this.disposer = arg0.dispose;\n          break;\n        }\n        default:\n          throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`);\n      }\n    } else {\n      //\n      // constructing tensor of location 'cpu'\n      //\n      let data: TensorDataType;\n      let maybeDims: typeof arg1|typeof arg2;\n      // check whether arg0 is type or data\n      if (typeof arg0 === 'string') {\n        //\n        // Override: constructor(type, data, ...)\n        //\n        type = arg0;\n        maybeDims = arg2;\n        if (arg0 === 'string') {\n          // string tensor\n          if (!Array.isArray(arg1)) {\n            throw new TypeError('A string tensor\\'s data must be a string array.');\n          }\n          // we don't check whether every element in the array is string; this is too slow. we assume it's correct and\n          // error will be populated at inference\n          data = arg1;\n        } else {\n          // numeric tensor\n          const typedArrayConstructor = NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(arg0);\n          if (typedArrayConstructor === undefined) {\n            throw new TypeError(`Unsupported tensor type: ${arg0}.`);\n          }\n          if (Array.isArray(arg1)) {\n            if (arg0 === 'float16') {\n              // Throw error here because when user try to use number array as data,\n              // e.g. new Tensor('float16', [1, 2, 3, 4], dims)), it will actually call\n              // Uint16Array.from(arg1) which generates wrong data.\n              throw new TypeError(\n                  'Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.');\n            } else if (arg0 === 'uint64' || arg0 === 'int64') {\n              // use 'as any' here because:\n              // 1. TypeScript's check on type of 'Array.isArray()' does not work with readonly arrays.\n              // see https://github.com/microsoft/TypeScript/issues/17002\n              // 2. TypeScript's check on union type of '(BigInt64ArrayConstructor|BigUint64ArrayConstructor).from()'\n              // does not accept parameter mapFn.\n              // 3. parameters of 'SupportedTypedArrayConstructors.from()' does not match the requirement of the union\n              // type.\n\n              // assume 'arg1' is of type \"readonly number[]|readonly bigint[]\" here.\n\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              data = (typedArrayConstructor as any).from(arg1, BigInt);\n            } else {\n              // assume 'arg1' is of type \"readonly number[]\" here.\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              data = (typedArrayConstructor as any).from(arg1);\n            }\n          } else if (arg1 instanceof typedArrayConstructor) {\n            data = arg1;\n          } else {\n            throw new TypeError(`A ${type} tensor's data must be type of ${typedArrayConstructor}`);\n          }\n        }\n      } else {\n        //\n        // Override: constructor(data, ...)\n        //\n        maybeDims = arg1;\n        if (Array.isArray(arg0)) {\n          // only boolean[] and string[] is supported\n          if (arg0.length === 0) {\n            throw new TypeError('Tensor type cannot be inferred from an empty array.');\n          }\n          const firstElementType = typeof arg0[0];\n          if (firstElementType === 'string') {\n            type = 'string';\n            data = arg0;\n          } else if (firstElementType === 'boolean') {\n            type = 'bool';\n            // 'arg0' is of type 'boolean[]'. Uint8Array.from(boolean[]) actually works, but typescript thinks this is\n            // wrong type. We use 'as any' to make it happy.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data = Uint8Array.from(arg0 as any[]);\n          } else {\n            throw new TypeError(`Invalid element type of data array: ${firstElementType}.`);\n          }\n        } else {\n          // get tensor type from TypedArray\n          const mappedType =\n              NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(arg0.constructor as SupportedTypedArrayConstructors);\n          if (mappedType === undefined) {\n            throw new TypeError(`Unsupported type for tensor data: ${arg0.constructor}.`);\n          }\n          type = mappedType;\n          data = arg0 as SupportedTypedArray;\n        }\n      }\n\n      // type and data is processed, now processing dims\n      if (maybeDims === undefined) {\n        // assume 1-D tensor if dims omitted\n        maybeDims = [data.length];\n      } else if (!Array.isArray(maybeDims)) {\n        throw new TypeError('A tensor\\'s dims must be a number array');\n      }\n      dims = maybeDims as readonly number[];\n\n      this.cpuData = data;\n      this.dataLocation = 'cpu';\n    }\n\n    // perform check on dims\n    const size = calculateSize(dims);\n    // if data is on CPU, check whether data length matches tensor size\n    if (this.cpuData && size !== this.cpuData.length) {\n      throw new Error(`Tensor's size(${size}) does not match data length(${this.cpuData.length}).`);\n    }\n\n    this.type = type;\n    this.dims = dims;\n    this.size = size;\n  }\n  // #endregion\n\n  // #region factory\n  static async fromImage(\n      image: ImageData|HTMLImageElement|ImageBitmap|string,\n      options?: TensorFromImageDataOptions|TensorFromImageElementOptions|TensorFromImageBitmapOptions|\n      TensorFromUrlOptions): Promise<TensorInterface> {\n    return tensorFromImage(image, options);\n  }\n\n  static fromTexture<T extends TensorInterface.TextureDataTypes>(\n      texture: TensorTextureType, options: TensorFromTextureOptions<T>): TensorInterface {\n    return tensorFromTexture(texture, options);\n  }\n\n  static fromGpuBuffer<T extends TensorInterface.GpuBufferDataTypes>(\n      gpuBuffer: TensorGpuBufferType, options: TensorFromGpuBufferOptions<T>): TensorInterface {\n    return tensorFromGpuBuffer(gpuBuffer, options);\n  }\n\n  static fromPinnedBuffer<T extends TensorInterface.CpuPinnedDataTypes>(\n      type: T, buffer: TensorInterface.DataTypeMap[T], dims?: readonly number[]): Tensor {\n    return tensorFromPinnedBuffer(type, buffer, dims);\n  }\n\n  // #endregion\n\n  // #region conversions\n  toDataURL(options?: TensorToDataUrlOptions): string {\n    return tensorToDataURL(this, options);\n  }\n\n  toImageData(options?: TensorToImageDataOptions): ImageData {\n    return tensorToImageData(this, options);\n  }\n  // #endregion\n\n  // #region public fields\n  readonly dims: readonly number[];\n  readonly type: TensorType;\n  readonly size: number;\n  // #endregion\n\n  // #region private fields\n\n  /**\n   * stores the location of the data.\n   */\n  private dataLocation: TensorDataLocation;\n\n  /**\n   * stores the data on CPU, if location is 'cpu' or 'cpu-pinned'. otherwise empty.\n   */\n  private cpuData?: TensorDataType;\n\n  /**\n   * stores the underlying texture when location is 'texture'. otherwise empty.\n   */\n  private gpuTextureData?: TensorTextureType;\n\n  /**\n   * stores the underlying GPU buffer when location is 'gpu-buffer'. otherwise empty.\n   */\n  private gpuBufferData?: TensorGpuBufferType;\n\n  /**\n   * stores an optional downloader function to download data from GPU to CPU.\n   */\n  private downloader?(): Promise<TensorDataType>;\n\n  /**\n   * a flag indicating whether the data is being downloaded from GPU to CPU.\n   */\n  private isDownloading?: boolean;\n\n  /**\n   * stores an optional disposer function to dispose the underlying data.\n   */\n  private disposer?(): void;\n  // #endregion\n\n  // #region properties\n  get data(): TensorDataType {\n    this.ensureValid();\n    if (!this.cpuData) {\n      throw new Error(\n          'The data is not on CPU. Use `getData()` to download GPU data to CPU, ' +\n          'or use `texture` or `gpuBuffer` property to access the GPU data directly.');\n    }\n    return this.cpuData;\n  }\n\n  get location(): TensorDataLocation {\n    return this.dataLocation;\n  }\n\n  get texture(): TensorTextureType {\n    this.ensureValid();\n    if (!this.gpuTextureData) {\n      throw new Error('The data is not stored as a WebGL texture.');\n    }\n    return this.gpuTextureData;\n  }\n\n  get gpuBuffer(): TensorGpuBufferType {\n    this.ensureValid();\n    if (!this.gpuBufferData) {\n      throw new Error('The data is not stored as a WebGPU buffer.');\n    }\n    return this.gpuBufferData;\n  }\n  // #endregion\n\n  // #region methods\n\n  async getData(releaseData?: boolean): Promise<TensorDataType> {\n    this.ensureValid();\n    switch (this.dataLocation) {\n      case 'cpu':\n      case 'cpu-pinned':\n        return this.data;\n      case 'texture':\n      case 'gpu-buffer': {\n        if (!this.downloader) {\n          throw new Error('The current tensor is not created with a specified data downloader.');\n        }\n        if (this.isDownloading) {\n          throw new Error('The current tensor is being downloaded.');\n        }\n        try {\n          this.isDownloading = true;\n          const data = await this.downloader();\n          this.downloader = undefined;\n          this.dataLocation = 'cpu';\n          this.cpuData = data;\n\n          if (releaseData && this.disposer) {\n            this.disposer();\n            this.disposer = undefined;\n          }\n\n          return data;\n\n        } finally {\n          this.isDownloading = false;\n        }\n      }\n      default:\n        throw new Error(`cannot get data from location: ${this.dataLocation}`);\n    }\n  }\n\n  dispose(): void {\n    if (this.isDownloading) {\n      throw new Error('The current tensor is being downloaded.');\n    }\n\n    if (this.disposer) {\n      this.disposer();\n      this.disposer = undefined;\n    }\n    this.cpuData = undefined;\n    this.gpuTextureData = undefined;\n    this.gpuBufferData = undefined;\n    this.downloader = undefined;\n    this.isDownloading = undefined;\n\n    this.dataLocation = 'none';\n  }\n\n  // #endregion\n\n  // #region tensor utilities\n  private ensureValid(): void {\n    if (this.dataLocation === 'none') {\n      throw new Error('The tensor is disposed.');\n    }\n  }\n\n  reshape(dims: readonly number[]): TensorInterface {\n    this.ensureValid();\n    if (this.downloader || this.disposer) {\n      throw new Error('Cannot reshape a tensor that owns GPU resource.');\n    }\n    return tensorReshape(this, dims);\n  }\n  // #endregion\n}\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {TensorFactory} from './tensor-factory.js';\nimport {Tensor as TensorImpl} from './tensor-impl.js';\nimport {TypedTensorUtils} from './tensor-utils.js';\n\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/**\n * represent a basic tensor with specified dimensions and data type.\n */\ninterface TypedTensorBase<T extends Tensor.Type> {\n  /**\n   * Get the dimensions of the tensor.\n   */\n  readonly dims: readonly number[];\n  /**\n   * Get the data type of the tensor.\n   */\n  readonly type: T;\n  /**\n   * Get the buffer data of the tensor.\n   *\n   * If the data is not on CPU (eg. it's in the form of WebGL texture or WebGPU buffer), throw error.\n   */\n  readonly data: Tensor.DataTypeMap[T];\n  /**\n   * Get the location of the data.\n   */\n  readonly location: Tensor.DataLocation;\n  /**\n   * Get the WebGL texture that holds the tensor data.\n   *\n   * If the data is not on GPU as WebGL texture, throw error.\n   */\n  readonly texture: Tensor.TextureType;\n  /**\n   * Get the WebGPU buffer that holds the tensor data.\n   *\n   * If the data is not on GPU as WebGPU buffer, throw error.\n   */\n  readonly gpuBuffer: Tensor.GpuBufferType;\n\n  /**\n   * Get the buffer data of the tensor.\n   *\n   * If the data is on CPU, returns the data immediately.\n   * If the data is on GPU, downloads the data and returns the promise.\n   *\n   * @param releaseData - whether release the data on GPU. Ignore if data is already on CPU.\n   */\n  getData(releaseData?: boolean): Promise<Tensor.DataTypeMap[T]>;\n\n  /**\n   * Dispose the tensor data.\n   *\n   * If the data is on CPU, remove its internal reference to the underlying data.\n   * If the data is on GPU, release the data on GPU.\n   *\n   * After calling this function, the tensor is considered no longer valid. Its location will be set to 'none'.\n   */\n  dispose(): void;\n}\n\nexport declare namespace Tensor {\n  interface DataTypeMap {\n    float32: Float32Array;\n    uint8: Uint8Array;\n    int8: Int8Array;\n    uint16: Uint16Array;\n    int16: Int16Array;\n    int32: Int32Array;\n    int64: BigInt64Array;\n    string: string[];\n    bool: Uint8Array;\n    float16: Uint16Array;  // Keep using Uint16Array until we have a concrete solution for float 16.\n    float64: Float64Array;\n    uint32: Uint32Array;\n    uint64: BigUint64Array;\n    // complex64: never;\n    // complex128: never;\n    // bfloat16: never;\n  }\n\n  interface ElementTypeMap {\n    float32: number;\n    uint8: number;\n    int8: number;\n    uint16: number;\n    int16: number;\n    int32: number;\n    int64: bigint;\n    string: string;\n    bool: boolean;\n    float16: number;  // Keep using Uint16Array until we have a concrete solution for float 16.\n    float64: number;\n    uint32: number;\n    uint64: bigint;\n    // complex64: never;\n    // complex128: never;\n    // bfloat16: never;\n  }\n\n  type DataType = DataTypeMap[Type];\n  type ElementType = ElementTypeMap[Type];\n\n  /**\n   * supported data types for constructing a tensor from a pinned CPU buffer\n   */\n  export type CpuPinnedDataTypes = Exclude<Tensor.Type, 'string'>;\n\n  /**\n   * type alias for WebGL texture\n   */\n  export type TextureType = WebGLTexture;\n\n  /**\n   * supported data types for constructing a tensor from a WebGL texture\n   */\n  export type TextureDataTypes = 'float32';\n\n  /**\n   * type alias for WebGPU buffer\n   *\n   * The reason why we don't use type \"GPUBuffer\" defined in webgpu.d.ts from @webgpu/types is because \"@webgpu/types\"\n   * requires \"@types/dom-webcodecs\" as peer dependency when using TypeScript < v5.1 and its version need to be chosen\n   * carefully according to the TypeScript version being used. This means so far there is not a way to keep every\n   * TypeScript version happy. It turns out that we will easily broke users on some TypeScript version.\n   *\n   * for more info see https://github.com/gpuweb/types/issues/127\n   */\n  export type GpuBufferType = {size: number; mapState: 'unmapped' | 'pending' | 'mapped'};\n\n  /**\n   * supported data types for constructing a tensor from a WebGPU buffer\n   */\n  export type GpuBufferDataTypes = 'float32'|'float16'|'int32'|'int64'|'uint32'|'bool';\n\n  /**\n   * represent where the tensor data is stored\n   */\n  export type DataLocation = 'none'|'cpu'|'cpu-pinned'|'texture'|'gpu-buffer';\n\n  /**\n   * represent the data type of a tensor\n   */\n  export type Type = keyof DataTypeMap;\n}\n\n/**\n * Represent multi-dimensional arrays to feed to or fetch from model inferencing.\n */\nexport interface TypedTensor<T extends Tensor.Type> extends TypedTensorBase<T>, TypedTensorUtils<T> {}\n/**\n * Represent multi-dimensional arrays to feed to or fetch from model inferencing.\n */\nexport interface Tensor extends TypedTensorBase<Tensor.Type>, TypedTensorUtils<Tensor.Type> {}\n\n/**\n * type TensorConstructor defines the constructors of 'Tensor' to create CPU tensor instances.\n */\nexport interface TensorConstructor {\n  // #region CPU tensor - specify element type\n  /**\n   * Construct a new string tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(type: 'string', data: Tensor.DataTypeMap['string']|readonly string[],\n      dims?: readonly number[]): TypedTensor<'string'>;\n\n  /**\n   * Construct a new bool tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(type: 'bool', data: Tensor.DataTypeMap['bool']|readonly boolean[], dims?: readonly number[]): TypedTensor<'bool'>;\n\n  /**\n   * Construct a new 64-bit integer typed tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new<T extends 'uint64'|'int64'>(\n      type: T, data: Tensor.DataTypeMap[T]|readonly bigint[]|readonly number[],\n      dims?: readonly number[]): TypedTensor<T>;\n\n  /**\n   * Construct a new numeric tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new<T extends Exclude<Tensor.Type, 'string'|'bool'|'uint64'|'int64'>>(\n      type: T, data: Tensor.DataTypeMap[T]|readonly number[], dims?: readonly number[]): TypedTensor<T>;\n  // #endregion\n\n  // #region CPU tensor - infer element types\n\n  /**\n   * Construct a new float32 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Float32Array, dims?: readonly number[]): TypedTensor<'float32'>;\n\n  /**\n   * Construct a new int8 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Int8Array, dims?: readonly number[]): TypedTensor<'int8'>;\n\n  /**\n   * Construct a new uint8 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Uint8Array, dims?: readonly number[]): TypedTensor<'uint8'>;\n\n  /**\n   * Construct a new uint16 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Uint16Array, dims?: readonly number[]): TypedTensor<'uint16'>;\n\n  /**\n   * Construct a new int16 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Int16Array, dims?: readonly number[]): TypedTensor<'int16'>;\n\n  /**\n   * Construct a new int32 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Int32Array, dims?: readonly number[]): TypedTensor<'int32'>;\n\n  /**\n   * Construct a new int64 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: BigInt64Array, dims?: readonly number[]): TypedTensor<'int64'>;\n\n  /**\n   * Construct a new string tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: readonly string[], dims?: readonly number[]): TypedTensor<'string'>;\n\n  /**\n   * Construct a new bool tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: readonly boolean[], dims?: readonly number[]): TypedTensor<'bool'>;\n\n  /**\n   * Construct a new float64 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Float64Array, dims?: readonly number[]): TypedTensor<'float64'>;\n\n  /**\n   * Construct a new uint32 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Uint32Array, dims?: readonly number[]): TypedTensor<'uint32'>;\n\n  /**\n   * Construct a new uint64 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: BigUint64Array, dims?: readonly number[]): TypedTensor<'uint64'>;\n\n  // #endregion\n\n  // #region CPU tensor - fall back to non-generic tensor type declaration\n\n  /**\n   * Construct a new tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(type: Tensor.Type, data: Tensor.DataType|readonly number[]|readonly string[]|readonly bigint[]|readonly boolean[],\n      dims?: readonly number[]): Tensor;\n\n  /**\n   * Construct a new tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new(data: Tensor.DataType, dims?: readonly number[]): Tensor;\n  // #endregion\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const Tensor = TensorImpl as (TensorConstructor & TensorFactory);\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {resolveBackend} from './backend-impl.js';\nimport {InferenceSessionHandler} from './backend.js';\nimport {InferenceSession as InferenceSessionInterface} from './inference-session.js';\nimport {OnnxValue} from './onnx-value.js';\nimport {Tensor} from './tensor.js';\n\ntype SessionOptions = InferenceSessionInterface.SessionOptions;\ntype RunOptions = InferenceSessionInterface.RunOptions;\ntype FeedsType = InferenceSessionInterface.FeedsType;\ntype FetchesType = InferenceSessionInterface.FetchesType;\ntype ReturnType = InferenceSessionInterface.ReturnType;\n\nexport class InferenceSession implements InferenceSessionInterface {\n  private constructor(handler: InferenceSessionHandler) {\n    this.handler = handler;\n  }\n  run(feeds: FeedsType, options?: RunOptions): Promise<ReturnType>;\n  run(feeds: FeedsType, fetches: FetchesType, options?: RunOptions): Promise<ReturnType>;\n  async run(feeds: FeedsType, arg1?: FetchesType|RunOptions, arg2?: RunOptions): Promise<ReturnType> {\n    const fetches: {[name: string]: OnnxValue|null} = {};\n    let options: RunOptions = {};\n    // check inputs\n    if (typeof feeds !== 'object' || feeds === null || feeds instanceof Tensor || Array.isArray(feeds)) {\n      throw new TypeError(\n          '\\'feeds\\' must be an object that use input names as keys and OnnxValue as corresponding values.');\n    }\n\n    let isFetchesEmpty = true;\n    // determine which override is being used\n    if (typeof arg1 === 'object') {\n      if (arg1 === null) {\n        throw new TypeError('Unexpected argument[1]: cannot be null.');\n      }\n      if (arg1 instanceof Tensor) {\n        throw new TypeError('\\'fetches\\' cannot be a Tensor');\n      }\n\n      if (Array.isArray(arg1)) {\n        if (arg1.length === 0) {\n          throw new TypeError('\\'fetches\\' cannot be an empty array.');\n        }\n        isFetchesEmpty = false;\n        // output names\n        for (const name of arg1) {\n          if (typeof name !== 'string') {\n            throw new TypeError('\\'fetches\\' must be a string array or an object.');\n          }\n          if (this.outputNames.indexOf(name) === -1) {\n            throw new RangeError(`'fetches' contains invalid output name: ${name}.`);\n          }\n          fetches[name] = null;\n        }\n\n        if (typeof arg2 === 'object' && arg2 !== null) {\n          options = arg2;\n        } else if (typeof arg2 !== 'undefined') {\n          throw new TypeError('\\'options\\' must be an object.');\n        }\n      } else {\n        // decide whether arg1 is fetches or options\n        // if any output name is present and its value is valid OnnxValue, we consider it fetches\n        let isFetches = false;\n        const arg1Keys = Object.getOwnPropertyNames(arg1);\n        for (const name of this.outputNames) {\n          if (arg1Keys.indexOf(name) !== -1) {\n            const v = (arg1 as InferenceSessionInterface.NullableOnnxValueMapType)[name];\n            if (v === null || v instanceof Tensor) {\n              isFetches = true;\n              isFetchesEmpty = false;\n              fetches[name] = v;\n            }\n          }\n        }\n\n        if (isFetches) {\n          if (typeof arg2 === 'object' && arg2 !== null) {\n            options = arg2;\n          } else if (typeof arg2 !== 'undefined') {\n            throw new TypeError('\\'options\\' must be an object.');\n          }\n        } else {\n          options = arg1 as RunOptions;\n        }\n      }\n    } else if (typeof arg1 !== 'undefined') {\n      throw new TypeError('Unexpected argument[1]: must be \\'fetches\\' or \\'options\\'.');\n    }\n\n    // check if all inputs are in feed\n    for (const name of this.inputNames) {\n      if (typeof feeds[name] === 'undefined') {\n        throw new Error(`input '${name}' is missing in 'feeds'.`);\n      }\n    }\n\n    // if no fetches is specified, we use the full output names list\n    if (isFetchesEmpty) {\n      for (const name of this.outputNames) {\n        fetches[name] = null;\n      }\n    }\n\n    // feeds, fetches and options are prepared\n\n    const results = await this.handler.run(feeds, fetches, options);\n    const returnValue: {[name: string]: OnnxValue} = {};\n    for (const key in results) {\n      if (Object.hasOwnProperty.call(results, key)) {\n        const result = results[key];\n        if (result instanceof Tensor) {\n          returnValue[key] = result;\n        } else {\n          returnValue[key] = new Tensor(result.type, result.data, result.dims);\n        }\n      }\n    }\n    return returnValue;\n  }\n\n  async release(): Promise<void> {\n    return this.handler.dispose();\n  }\n\n  static create(path: string, options?: SessionOptions): Promise<InferenceSessionInterface>;\n  static create(buffer: ArrayBufferLike, options?: SessionOptions): Promise<InferenceSessionInterface>;\n  static create(buffer: ArrayBufferLike, byteOffset: number, byteLength?: number, options?: SessionOptions):\n      Promise<InferenceSessionInterface>;\n  static create(buffer: Uint8Array, options?: SessionOptions): Promise<InferenceSessionInterface>;\n  static async create(\n      arg0: string|ArrayBufferLike|Uint8Array, arg1?: SessionOptions|number, arg2?: number,\n      arg3?: SessionOptions): Promise<InferenceSessionInterface> {\n    // either load from a file or buffer\n    let filePathOrUint8Array: string|Uint8Array;\n    let options: SessionOptions = {};\n\n    if (typeof arg0 === 'string') {\n      filePathOrUint8Array = arg0;\n      if (typeof arg1 === 'object' && arg1 !== null) {\n        options = arg1;\n      } else if (typeof arg1 !== 'undefined') {\n        throw new TypeError('\\'options\\' must be an object.');\n      }\n    } else if (arg0 instanceof Uint8Array) {\n      filePathOrUint8Array = arg0;\n      if (typeof arg1 === 'object' && arg1 !== null) {\n        options = arg1;\n      } else if (typeof arg1 !== 'undefined') {\n        throw new TypeError('\\'options\\' must be an object.');\n      }\n    } else if (\n        arg0 instanceof ArrayBuffer ||\n        (typeof SharedArrayBuffer !== 'undefined' && arg0 instanceof SharedArrayBuffer)) {\n      const buffer = arg0;\n      let byteOffset = 0;\n      let byteLength = arg0.byteLength;\n      if (typeof arg1 === 'object' && arg1 !== null) {\n        options = arg1;\n      } else if (typeof arg1 === 'number') {\n        byteOffset = arg1;\n        if (!Number.isSafeInteger(byteOffset)) {\n          throw new RangeError('\\'byteOffset\\' must be an integer.');\n        }\n        if (byteOffset < 0 || byteOffset >= buffer.byteLength) {\n          throw new RangeError(`'byteOffset' is out of range [0, ${buffer.byteLength}).`);\n        }\n        byteLength = arg0.byteLength - byteOffset;\n        if (typeof arg2 === 'number') {\n          byteLength = arg2;\n          if (!Number.isSafeInteger(byteLength)) {\n            throw new RangeError('\\'byteLength\\' must be an integer.');\n          }\n          if (byteLength <= 0 || byteOffset + byteLength > buffer.byteLength) {\n            throw new RangeError(`'byteLength' is out of range (0, ${buffer.byteLength - byteOffset}].`);\n          }\n          if (typeof arg3 === 'object' && arg3 !== null) {\n            options = arg3;\n          } else if (typeof arg3 !== 'undefined') {\n            throw new TypeError('\\'options\\' must be an object.');\n          }\n        } else if (typeof arg2 !== 'undefined') {\n          throw new TypeError('\\'byteLength\\' must be a number.');\n        }\n      } else if (typeof arg1 !== 'undefined') {\n        throw new TypeError('\\'options\\' must be an object.');\n      }\n      filePathOrUint8Array = new Uint8Array(buffer, byteOffset, byteLength);\n    } else {\n      throw new TypeError('Unexpected argument[0]: must be \\'path\\' or \\'buffer\\'.');\n    }\n\n    // get backend hints\n    const eps = options.executionProviders || [];\n    const backendHints = eps.map(i => typeof i === 'string' ? i : i.name);\n    const backend = await resolveBackend(backendHints);\n    const handler = await backend.createInferenceSessionHandler(filePathOrUint8Array, options);\n    return new InferenceSession(handler);\n  }\n\n  startProfiling(): void {\n    this.handler.startProfiling();\n  }\n  endProfiling(): void {\n    this.handler.endProfiling();\n  }\n\n  get inputNames(): readonly string[] {\n    return this.handler.inputNames;\n  }\n  get outputNames(): readonly string[] {\n    return this.handler.outputNames;\n  }\n\n  private handler: InferenceSessionHandler;\n}\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession as InferenceSessionImpl} from './inference-session-impl.js';\nimport {OnnxValue, OnnxValueDataLocation} from './onnx-value.js';\n\n/* eslint-disable @typescript-eslint/no-redeclare */\n\nexport declare namespace InferenceSession {\n  // #region input/output types\n\n  type OnnxValueMapType = {readonly [name: string]: OnnxValue};\n  type NullableOnnxValueMapType = {readonly [name: string]: OnnxValue | null};\n\n  /**\n   * A feeds (model inputs) is an object that uses input names as keys and OnnxValue as corresponding values.\n   */\n  type FeedsType = OnnxValueMapType;\n\n  /**\n   * A fetches (model outputs) could be one of the following:\n   *\n   * - Omitted. Use model's output names definition.\n   * - An array of string indicating the output names.\n   * - An object that use output names as keys and OnnxValue or null as corresponding values.\n   *\n   * @remark\n   * different from input argument, in output, OnnxValue is optional. If an OnnxValue is present it will be\n   * used as a pre-allocated value by the inference engine; if omitted, inference engine will allocate buffer\n   * internally.\n   */\n  type FetchesType = readonly string[]|NullableOnnxValueMapType;\n\n  /**\n   * A inferencing return type is an object that uses output names as keys and OnnxValue as corresponding values.\n   */\n  type ReturnType = OnnxValueMapType;\n\n  // #endregion\n\n  // #region session options\n\n  /**\n   * A set of configurations for session behavior.\n   */\n  export interface SessionOptions {\n    /**\n     * An array of execution provider options.\n     *\n     * An execution provider option can be a string indicating the name of the execution provider,\n     * or an object of corresponding type.\n     */\n    executionProviders?: readonly ExecutionProviderConfig[];\n\n    /**\n     * The intra OP threads number.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native).\n     */\n    intraOpNumThreads?: number;\n\n    /**\n     * The inter OP threads number.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native).\n     */\n    interOpNumThreads?: number;\n\n    /**\n     * The free dimension override.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    freeDimensionOverrides?: {readonly [dimensionName: string]: number};\n\n    /**\n     * The optimization level.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    graphOptimizationLevel?: 'disabled'|'basic'|'extended'|'all';\n\n    /**\n     * Whether enable CPU memory arena.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    enableCpuMemArena?: boolean;\n\n    /**\n     * Whether enable memory pattern.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    enableMemPattern?: boolean;\n\n    /**\n     * Execution mode.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    executionMode?: 'sequential'|'parallel';\n\n    /**\n     * Optimized model file path.\n     *\n     * If this setting is specified, the optimized model will be dumped. In browser, a blob will be created\n     * with a pop-up window.\n     */\n    optimizedModelFilePath?: string;\n\n    /**\n     * Wether enable profiling.\n     *\n     * This setting is a placeholder for a future use.\n     */\n    enableProfiling?: boolean;\n\n    /**\n     * File prefix for profiling.\n     *\n     * This setting is a placeholder for a future use.\n     */\n    profileFilePrefix?: string;\n\n    /**\n     * Log ID.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    logId?: string;\n\n    /**\n     * Log severity level. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/common/logging/severity.h\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    logSeverityLevel?: 0|1|2|3|4;\n\n    /**\n     * Log verbosity level.\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     */\n    logVerbosityLevel?: number;\n\n    /**\n     * Specify string as a preferred data location for all outputs, or an object that use output names as keys and a\n     * preferred data location as corresponding values.\n     *\n     * This setting is available only in ONNXRuntime Web for WebGL and WebGPU EP.\n     */\n    preferredOutputLocation?: OnnxValueDataLocation|{readonly [outputName: string]: OnnxValueDataLocation};\n\n    /**\n     * Store configurations for a session. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/session/\n     * onnxruntime_session_options_config_keys.h\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     *\n     * @example\n     * ```js\n     * extra: {\n     *   session: {\n     *     set_denormal_as_zero: \"1\",\n     *     disable_prepacking: \"1\"\n     *   },\n     *   optimization: {\n     *     enable_gelu_approximation: \"1\"\n     *   }\n     * }\n     * ```\n     */\n    extra?: Record<string, unknown>;\n  }\n\n  // #region execution providers\n\n  // Currently, we have the following backends to support execution providers:\n  // Backend Node.js binding: supports 'cpu' and 'cuda'.\n  // Backend WebAssembly: supports 'cpu', 'wasm', 'xnnpack' and 'webnn'.\n  // Backend ONNX.js: supports 'webgl'.\n  // Backend React Native: supports 'cpu', 'xnnpack', 'coreml' (iOS), 'nnapi' (Android).\n  interface ExecutionProviderOptionMap {\n    cpu: CpuExecutionProviderOption;\n    coreml: CoreMlExecutionProviderOption;\n    cuda: CudaExecutionProviderOption;\n    dml: DmlExecutionProviderOption;\n    tensorrt: TensorRtExecutionProviderOption;\n    wasm: WebAssemblyExecutionProviderOption;\n    webgl: WebGLExecutionProviderOption;\n    xnnpack: XnnpackExecutionProviderOption;\n    webgpu: WebGpuExecutionProviderOption;\n    webnn: WebNNExecutionProviderOption;\n    nnapi: NnapiExecutionProviderOption;\n  }\n\n  type ExecutionProviderName = keyof ExecutionProviderOptionMap;\n  type ExecutionProviderConfig =\n      ExecutionProviderOptionMap[ExecutionProviderName]|ExecutionProviderOption|ExecutionProviderName|string;\n\n  export interface ExecutionProviderOption {\n    readonly name: string;\n  }\n  export interface CpuExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'cpu';\n    useArena?: boolean;\n  }\n  export interface CudaExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'cuda';\n    deviceId?: number;\n  }\n  export interface CoreMlExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'coreml';\n    coreMlFlags?: number;\n  }\n  export interface DmlExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'dml';\n    deviceId?: number;\n  }\n  export interface TensorRtExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'tensorrt';\n    deviceId?: number;\n  }\n  export interface WebAssemblyExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'wasm';\n  }\n  export interface WebGLExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'webgl';\n    // TODO: add flags\n  }\n  export interface XnnpackExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'xnnpack';\n  }\n  export interface WebGpuExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'webgpu';\n    preferredLayout?: 'NCHW'|'NHWC';\n  }\n  export interface WebNNExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'webnn';\n    deviceType?: 'cpu'|'gpu'|'npu';\n    numThreads?: number;\n    powerPreference?: 'default'|'low-power'|'high-performance';\n  }\n  export interface CoreMLExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'coreml';\n    useCPUOnly?: boolean;\n    enableOnSubgraph?: boolean;\n    onlyEnableDeviceWithANE?: boolean;\n  }\n  export interface NnapiExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'nnapi';\n    useFP16?: boolean;\n    useNCHW?: boolean;\n    cpuDisabled?: boolean;\n    cpuOnly?: boolean;\n  }\n  // #endregion\n\n  // #endregion\n\n  // #region run options\n\n  /**\n   * A set of configurations for inference run behavior\n   */\n  export interface RunOptions {\n    /**\n     * Log severity level. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/common/logging/severity.h\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    logSeverityLevel?: 0|1|2|3|4;\n\n    /**\n     * Log verbosity level.\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     */\n    logVerbosityLevel?: number;\n\n    /**\n     * Terminate all incomplete OrtRun calls as soon as possible if true\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     */\n    terminate?: boolean;\n\n    /**\n     * A tag for the Run() calls using this\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    tag?: string;\n\n    /**\n     * Set a single run configuration entry. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/session/\n     * onnxruntime_run_options_config_keys.h\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     *\n     * @example\n     *\n     * ```js\n     * extra: {\n     *   memory: {\n     *     enable_memory_arena_shrinkage: \"1\",\n     *   }\n     * }\n     * ```\n     */\n    extra?: Record<string, unknown>;\n  }\n\n  // #endregion\n\n  // #region value metadata\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-interface\n  interface ValueMetadata {\n    // TBD\n  }\n\n  // #endregion\n}\n\n/**\n * Represent a runtime instance of an ONNX model.\n */\nexport interface InferenceSession {\n  // #region run()\n\n  /**\n   * Execute the model asynchronously with the given feeds and options.\n   *\n   * @param feeds - Representation of the model input. See type description of `InferenceSession.InputType` for detail.\n   * @param options - Optional. A set of options that controls the behavior of model inference.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding values.\n   */\n  run(feeds: InferenceSession.FeedsType, options?: InferenceSession.RunOptions): Promise<InferenceSession.ReturnType>;\n\n  /**\n   * Execute the model asynchronously with the given feeds, fetches and options.\n   *\n   * @param feeds - Representation of the model input. See type description of `InferenceSession.InputType` for detail.\n   * @param fetches - Representation of the model output. See type description of `InferenceSession.OutputType` for\n   * detail.\n   * @param options - Optional. A set of options that controls the behavior of model inference.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding values.\n   */\n  run(feeds: InferenceSession.FeedsType, fetches: InferenceSession.FetchesType,\n      options?: InferenceSession.RunOptions): Promise<InferenceSession.ReturnType>;\n\n  // #endregion\n\n  // #region release()\n\n  /**\n   * Release the inference session and the underlying resources.\n   */\n  release(): Promise<void>;\n\n  // #endregion\n\n  // #region profiling\n\n  /**\n   * Start profiling.\n   */\n  startProfiling(): void;\n\n  /**\n   * End profiling.\n   */\n  endProfiling(): void;\n\n  // #endregion\n\n  // #region metadata\n\n  /**\n   * Get input names of the loaded model.\n   */\n  readonly inputNames: readonly string[];\n\n  /**\n   * Get output names of the loaded model.\n   */\n  readonly outputNames: readonly string[];\n\n  // /**\n  //  * Get input metadata of the loaded model.\n  //  */\n  // readonly inputMetadata: ReadonlyArray<Readonly<InferenceSession.ValueMetadata>>;\n\n  // /**\n  //  * Get output metadata of the loaded model.\n  //  */\n  // readonly outputMetadata: ReadonlyArray<Readonly<InferenceSession.ValueMetadata>>;\n\n  // #endregion\n}\n\nexport interface InferenceSessionFactory {\n  // #region create()\n\n  /**\n   * Create a new inference session and load model asynchronously from an ONNX model file.\n   *\n   * @param uri - The URI or file path of the model to load.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(uri: string, options?: InferenceSession.SessionOptions): Promise<InferenceSession>;\n\n  /**\n   * Create a new inference session and load model asynchronously from an array bufer.\n   *\n   * @param buffer - An ArrayBuffer representation of an ONNX model.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(buffer: ArrayBufferLike, options?: InferenceSession.SessionOptions): Promise<InferenceSession>;\n\n  /**\n   * Create a new inference session and load model asynchronously from segment of an array bufer.\n   *\n   * @param buffer - An ArrayBuffer representation of an ONNX model.\n   * @param byteOffset - The beginning of the specified portion of the array buffer.\n   * @param byteLength - The length in bytes of the array buffer.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(buffer: ArrayBufferLike, byteOffset: number, byteLength?: number, options?: InferenceSession.SessionOptions):\n      Promise<InferenceSession>;\n\n  /**\n   * Create a new inference session and load model asynchronously from a Uint8Array.\n   *\n   * @param buffer - A Uint8Array representation of an ONNX model.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(buffer: Uint8Array, options?: InferenceSession.SessionOptions): Promise<InferenceSession>;\n\n  // #endregion\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const InferenceSession: InferenceSessionFactory = InferenceSessionImpl;\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {Tensor} from './tensor.js';\n\ntype NonTensorType = never;\n\n/**\n * Type OnnxValue Represents both tensors and non-tensors value for model's inputs/outputs.\n *\n * NOTE: currently not support non-tensor\n */\nexport type OnnxValue = Tensor|NonTensorType;\n\n/**\n * Type OnnxValueDataLocation represents the location of the data of an OnnxValue.\n */\nexport type OnnxValueDataLocation = Tensor.DataLocation;\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {resolveBackend} from './backend-impl.js';\nimport {SessionHandler, TrainingSessionHandler} from './backend.js';\nimport {InferenceSession as InferenceSession} from './inference-session.js';\nimport {OnnxValue} from './onnx-value.js';\nimport {Tensor} from './tensor.js';\nimport {TrainingSession as TrainingSessionInterface, TrainingSessionCreateOptions} from './training-session.js';\n\ntype SessionOptions = InferenceSession.SessionOptions;\ntype FeedsType = InferenceSession.FeedsType;\ntype FetchesType = InferenceSession.FetchesType;\ntype ReturnType = InferenceSession.ReturnType;\ntype RunOptions = InferenceSession.RunOptions;\n\nconst noBackendErrMsg: string = 'Training backend could not be resolved. ' +\n    'Make sure you\\'re using the correct configuration & WebAssembly files.';\n\nexport class TrainingSession implements TrainingSessionInterface {\n  private constructor(handler: TrainingSessionHandler, hasOptimizerModel: boolean, hasEvalModel: boolean) {\n    this.handler = handler;\n    this.hasOptimizerModel = hasOptimizerModel;\n    this.hasEvalModel = hasEvalModel;\n  }\n  private handler: TrainingSessionHandler;\n  private hasOptimizerModel: boolean;\n  private hasEvalModel: boolean;\n\n  get trainingInputNames(): readonly string[] {\n    return this.handler.inputNames;\n  }\n  get trainingOutputNames(): readonly string[] {\n    return this.handler.outputNames;\n  }\n\n  get evalInputNames(): readonly string[] {\n    if (this.hasEvalModel) {\n      return this.handler.evalInputNames;\n    } else {\n      throw new Error('This training session has no evalModel loaded.');\n    }\n  }\n  get evalOutputNames(): readonly string[] {\n    if (this.hasEvalModel) {\n      return this.handler.evalOutputNames;\n    } else {\n      throw new Error('This training session has no evalModel loaded.');\n    }\n  }\n\n  static async create(trainingOptions: TrainingSessionCreateOptions, sessionOptions?: SessionOptions):\n      Promise<TrainingSession> {\n    const evalModel: string|Uint8Array = trainingOptions.evalModel || '';\n    const optimizerModel: string|Uint8Array = trainingOptions.optimizerModel || '';\n    const options: SessionOptions = sessionOptions || {};\n\n    // get backend hints\n    const eps = options.executionProviders || [];\n    const backendHints = eps.map(i => typeof i === 'string' ? i : i.name);\n    const backend = await resolveBackend(backendHints);\n    if (backend.createTrainingSessionHandler) {\n      const handler = await backend.createTrainingSessionHandler(\n          trainingOptions.checkpointState, trainingOptions.trainModel, evalModel, optimizerModel, options);\n      return new TrainingSession(handler, !!trainingOptions.optimizerModel, !!trainingOptions.evalModel);\n    } else {\n      throw new Error(noBackendErrMsg);\n    }\n  }\n\n  /**\n   * Helper function for runTrainStep and future runStep methods that handles the type-narrowing conversion from\n   * the given parameters to SessionHandler.FetchesType and RunOptions.\n   *\n   * @param inputNames the feeds object is checked that they contain all input names in the provided list of input\n   * names.\n   * @param outputNames the fetches object is checked that their keys match up with valid names in the list of output\n   * names.\n   * @param feeds the required input\n   * @param arg1 narrowed & converted into the SessionHandler.FetchesType or RunOptions object\n   * @param arg2 optional RunOptions object.\n   * @returns\n   */\n  typeNarrowingForRunStep(\n      inputNames: readonly string[], outputNames: readonly string[], feeds: FeedsType, arg1?: FetchesType|RunOptions,\n      arg2?: RunOptions): [SessionHandler.FetchesType, RunOptions] {\n    const fetches: {[name: string]: OnnxValue|null} = {};\n    let options: RunOptions = {};\n    // check inputs\n    if (typeof feeds !== 'object' || feeds === null || feeds instanceof Tensor || Array.isArray(feeds)) {\n      throw new TypeError(\n          '\\'feeds\\' must be an object that use input names as keys and OnnxValue as corresponding values.');\n    }\n\n    let isFetchesEmpty = true;\n    // determine which override is being used\n    if (typeof arg1 === 'object') {\n      if (arg1 === null) {\n        throw new TypeError('Unexpected argument[1]: cannot be null.');\n      }\n      if (arg1 instanceof Tensor) {\n        throw new TypeError('\\'fetches\\' cannot be a Tensor');\n      }\n\n      if (Array.isArray(arg1)) {\n        if (arg1.length === 0) {\n          throw new TypeError('\\'fetches\\' cannot be an empty array.');\n        }\n        isFetchesEmpty = false;\n        // output names\n        for (const name of arg1) {\n          if (typeof name !== 'string') {\n            throw new TypeError('\\'fetches\\' must be a string array or an object.');\n          }\n          if (outputNames.indexOf(name) === -1) {\n            throw new RangeError(`'fetches' contains invalid output name: ${name}.`);\n          }\n          fetches[name] = null;\n        }\n\n        if (typeof arg2 === 'object' && arg2 !== null) {\n          options = arg2;\n        } else if (typeof arg2 !== 'undefined') {\n          throw new TypeError('\\'options\\' must be an object.');\n        }\n      } else {\n        // decide whether arg1 is fetches or options\n        // if any output name is present and its value is valid OnnxValue, we consider it fetches\n        let isFetches = false;\n        const arg1Keys = Object.getOwnPropertyNames(arg1);\n        for (const name of outputNames) {\n          if (arg1Keys.indexOf(name) !== -1) {\n            const v = (arg1 as InferenceSession.NullableOnnxValueMapType)[name];\n            if (v === null || v instanceof Tensor) {\n              isFetches = true;\n              isFetchesEmpty = false;\n              fetches[name] = v;\n            }\n          }\n        }\n\n        if (isFetches) {\n          if (typeof arg2 === 'object' && arg2 !== null) {\n            options = arg2;\n          } else if (typeof arg2 !== 'undefined') {\n            throw new TypeError('\\'options\\' must be an object.');\n          }\n        } else {\n          options = arg1 as RunOptions;\n        }\n      }\n    } else if (typeof arg1 !== 'undefined') {\n      throw new TypeError('Unexpected argument[1]: must be \\'fetches\\' or \\'options\\'.');\n    }\n\n    // check if all inputs are in feed\n    for (const name of inputNames) {\n      if (typeof feeds[name] === 'undefined') {\n        throw new Error(`input '${name}' is missing in 'feeds'.`);\n      }\n    }\n\n    // if no fetches is specified, we use the full output names list\n    if (isFetchesEmpty) {\n      for (const name of outputNames) {\n        fetches[name] = null;\n      }\n    }\n\n    return [fetches, options];\n  }\n\n  /**\n   * Helper method for runTrainStep and any other runStep methods. Takes the ReturnType result from the SessionHandler\n   * and changes it into a map of Tensors.\n   *\n   * @param results\n   * @returns\n   */\n  convertHandlerReturnTypeToMapOfTensors(results: SessionHandler.ReturnType): ReturnType {\n    const returnValue: {[name: string]: OnnxValue} = {};\n    for (const key in results) {\n      if (Object.hasOwnProperty.call(results, key)) {\n        const result = results[key];\n        if (result instanceof Tensor) {\n          returnValue[key] = result;\n        } else {\n          returnValue[key] = new Tensor(result.type, result.data, result.dims);\n        }\n      }\n    }\n    return returnValue;\n  }\n\n  async lazyResetGrad(): Promise<void> {\n    await this.handler.lazyResetGrad();\n  }\n\n  runTrainStep(feeds: FeedsType, options?: RunOptions): Promise<ReturnType>;\n  runTrainStep(feeds: FeedsType, fetches: FetchesType, options?: RunOptions): Promise<ReturnType>;\n  async runTrainStep(feeds: FeedsType, arg1?: FetchesType|RunOptions, arg2?: RunOptions): Promise<ReturnType> {\n    const [fetches, options] =\n        this.typeNarrowingForRunStep(this.trainingInputNames, this.trainingOutputNames, feeds, arg1, arg2);\n    const results = await this.handler.runTrainStep(feeds, fetches, options);\n    return this.convertHandlerReturnTypeToMapOfTensors(results);\n  }\n\n  async runOptimizerStep(options?: InferenceSession.RunOptions|undefined): Promise<void> {\n    if (this.hasOptimizerModel) {\n      await this.handler.runOptimizerStep(options || {});\n    } else {\n      throw new Error('This TrainingSession has no OptimizerModel loaded.');\n    }\n  }\n\n  runEvalStep(feeds: FeedsType, options?: RunOptions|undefined): Promise<ReturnType>;\n  runEvalStep(feeds: FeedsType, fetches: FetchesType, options?: RunOptions|undefined): Promise<ReturnType>;\n  async runEvalStep(feeds: FeedsType, arg1?: FetchesType|RunOptions, arg2?: RunOptions): Promise<ReturnType> {\n    if (this.hasEvalModel) {\n      const [fetches, options] =\n          this.typeNarrowingForRunStep(this.evalInputNames, this.evalOutputNames, feeds, arg1, arg2);\n      const results = await this.handler.runEvalStep(feeds, fetches, options);\n      return this.convertHandlerReturnTypeToMapOfTensors(results);\n    } else {\n      throw new Error('This TrainingSession has no EvalModel loaded.');\n    }\n  }\n\n  async getParametersSize(trainableOnly = true): Promise<number> {\n    return this.handler.getParametersSize(trainableOnly);\n  }\n\n  async loadParametersBuffer(array: Uint8Array, trainableOnly = true): Promise<void> {\n    const paramsSize = await this.getParametersSize(trainableOnly);\n    // checking that the size of the Uint8Array is equivalent to the byte length of a Float32Array of the number\n    // of parameters\n    if (array.length !== 4 * paramsSize) {\n      throw new Error(\n          'Size of the buffer passed into loadParametersBuffer must match the number of parameters in ' +\n          'the model. Please use getParametersSize method to check.');\n    }\n    return this.handler.loadParametersBuffer(array, trainableOnly);\n  }\n\n  async getContiguousParameters(trainableOnly = true): Promise<OnnxValue> {\n    return this.handler.getContiguousParameters(trainableOnly);\n  }\n\n  async release(): Promise<void> {\n    return this.handler.dispose();\n  }\n}\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession} from './inference-session.js';\nimport {OnnxValue} from './onnx-value.js';\nimport {TrainingSession as TrainingSessionImpl} from './training-session-impl.js';\n\n/* eslint-disable @typescript-eslint/no-redeclare */\n\nexport declare namespace TrainingSession {\n  /**\n   * Either URI file path (string) or Uint8Array containing model or checkpoint information.\n   */\n  type URIorBuffer = string|Uint8Array;\n}\n\n/**\n * Represent a runtime instance of an ONNX training session,\n * which contains a model that can be trained, and, optionally,\n * an eval and optimizer model.\n */\nexport interface TrainingSession {\n  // #region run()\n\n  /**\n   * Lazily resets the gradients of all trainable parameters to zero. Should happen after the invocation of\n   * runOptimizerStep.\n   */\n  lazyResetGrad(): Promise<void>;\n\n  /**\n   * Run TrainStep asynchronously with the given feeds and options.\n   *\n   * @param feeds - Representation of the model input. See type description of `InferenceSession.InputType` for\n   detail.\n   * @param options - Optional. A set of options that controls the behavior of model training.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding values.\n   */\n  runTrainStep(feeds: InferenceSession.FeedsType, options?: InferenceSession.RunOptions):\n      Promise<InferenceSession.ReturnType>;\n\n  /**\n   * Run a single train step with the given inputs and options.\n   *\n   * @param feeds - Representation of the model input.\n   * @param fetches - Representation of the model output.\n   * detail.\n   * @param options - Optional. A set of options that controls the behavior of model training.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding\n   values.\n   */\n  runTrainStep(\n      feeds: InferenceSession.FeedsType, fetches: InferenceSession.FetchesType,\n      options?: InferenceSession.RunOptions): Promise<InferenceSession.ReturnType>;\n\n  /**\n   * Runs a single optimizer step, which performs weight updates for the trainable parameters using the optimizer model.\n   *\n   * @param options - Optional. A set of options that controls the behavior of model optimizing.\n   */\n  runOptimizerStep(options?: InferenceSession.RunOptions): Promise<void>;\n\n  /**\n   * Run a single eval step with the given inputs and options using the eval model.\n   *\n   * @param feeds - Representation of the model input.\n   * @param options - Optional. A set of options that controls the behavior of model eval step.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding\n   values.\n   */\n  runEvalStep(feeds: InferenceSession.FeedsType, options?: InferenceSession.RunOptions):\n      Promise<InferenceSession.ReturnType>;\n\n  /**\n   * Run a single eval step with the given inputs and options using the eval model.\n   *\n   * @param feeds - Representation of the model input.\n   * @param fetches - Representation of the model output.\n   * detail.\n   * @param options - Optional. A set of options that controls the behavior of model eval step.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding\n   values.\n   */\n  runEvalStep(\n      feeds: InferenceSession.FeedsType, fetches: InferenceSession.FetchesType,\n      options?: InferenceSession.RunOptions): Promise<InferenceSession.ReturnType>;\n\n  // #endregion\n\n  // #region copy parameters\n\n  /**\n   * Retrieves the size of all parameters for the training state. Calculates the total number of primitive (datatype of\n   * the parameters) elements of all the parameters in the training state.\n   *\n   * @param trainableOnly - When set to true, the size is calculated for trainable params only. Default value is true.\n   */\n  getParametersSize(trainableOnly: boolean): Promise<number>;\n\n  /**\n   * Copies parameter values from the given array to the training state. Currently, only supporting models with\n   * parameters of type Float32.\n   *\n   * @param buffer - Float32 buffer containing parameters converted to a Uint8Array.\n   * @param trainableOnly - True if trainable parameters only to be modified, false otherwise. Default value is true.\n   */\n  loadParametersBuffer(array: Uint8Array, trainableOnly: boolean): Promise<void>;\n\n  /**\n   * Copies the model parameters to a contiguous buffer. Usually used in the context of Federated Learning.\n   * Currently, only supporting models with parameters of type Float32.\n   *\n   * @param trainableOnly - When set to true, only trainable parameters are copied. Trainable parameters are parameters\n   * for which requires_grad is set to true. Default value is true.\n   * @returns A promise that resolves to a Float32 OnnxValue of the requested parameters.\n   */\n  getContiguousParameters(trainableOnly: boolean): Promise<OnnxValue>;\n  // #endregion\n\n  // #region release()\n\n  /**\n   * Release the inference session and the underlying resources.\n   */\n  release(): Promise<void>;\n  // #endregion\n\n  // #region metadata\n\n  /**\n   * Get input names of the loaded training model.\n   */\n  readonly trainingInputNames: readonly string[];\n\n  /**\n   * Get output names of the loaded training model.\n   */\n  readonly trainingOutputNames: readonly string[];\n\n  /**\n   * Get input names of the loaded eval model. Is an empty array if no eval model is loaded.\n   */\n  readonly evalInputNames: readonly string[];\n\n  /**\n   * Get output names of the loaded eval model. Is an empty array if no eval model is loaded.\n   */\n  readonly evalOutputNames: readonly string[];\n\n  // #endregion\n}\n\n/**\n * Represents the optional parameters that can be passed into the TrainingSessionFactory.\n */\nexport interface TrainingSessionCreateOptions {\n  /**\n   * URI or buffer for a .ckpt file that contains the checkpoint for the training model.\n   */\n  checkpointState: TrainingSession.URIorBuffer;\n  /**\n   * URI or buffer for the .onnx training file.\n   */\n  trainModel: TrainingSession.URIorBuffer;\n  /**\n   * Optional. URI or buffer for the .onnx optimizer model file.\n   */\n  optimizerModel?: TrainingSession.URIorBuffer;\n  /**\n   * Optional. URI or buffer for the .onnx eval model file.\n   */\n  evalModel?: TrainingSession.URIorBuffer;\n}\n\n/**\n * Defines method overload possibilities for creating a TrainingSession.\n */\nexport interface TrainingSessionFactory {\n  // #region create()\n\n  /**\n   * Creates a new TrainingSession and asynchronously loads any models passed in through trainingOptions\n   *\n   * @param trainingOptions specify models and checkpoints to load into the Training Session\n   * @param sessionOptions specify configuration for training session behavior\n   *\n   * @returns Promise that resolves to a TrainingSession object\n   */\n  create(trainingOptions: TrainingSessionCreateOptions, sessionOptions?: InferenceSession.SessionOptions):\n      Promise<TrainingSession>;\n\n  // #endregion\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const TrainingSession: TrainingSessionFactory = TrainingSessionImpl;\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/**\n * # ONNX Runtime JavaScript API\n *\n * ONNX Runtime JavaScript API is a unified API for all JavaScript usages, including the following NPM packages:\n *\n * - [onnxruntime-node](https://www.npmjs.com/package/onnxruntime-node)\n * - [onnxruntime-web](https://www.npmjs.com/package/onnxruntime-web)\n * - [onnxruntime-react-native](https://www.npmjs.com/package/onnxruntime-react-native)\n *\n * See also:\n * - [Get Started](https://onnxruntime.ai/docs/get-started/with-javascript.html)\n * - [Inference examples](https://github.com/microsoft/onnxruntime-inference-examples/tree/main/js)\n *\n * @packageDocumentation\n */\n\nexport * from './backend.js';\nexport * from './env.js';\nexport * from './inference-session.js';\nexport * from './tensor.js';\nexport * from './onnx-value.js';\nexport * from './training-session.js';\n", "export const readFile = undefined;", "export const join = undefined;", "\nvar ortWasm = (() => {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(moduleArg = {}) {\n\nvar d=moduleArg,k,l;d.ready=new Promise((a,b)=>{k=a;l=b});var r=Object.assign({},d),v=\"./this.program\",aa=\"object\"==typeof window,x=\"function\"==typeof importScripts,ba=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,y=\"\",A,B,C;\nif(ba){var fs=require(\"fs\"),D=require(\"path\");y=x?D.dirname(y)+\"/\":__dirname+\"/\";A=(a,b)=>{a=a.startsWith(\"file://\")?new URL(a):D.normalize(a);return fs.readFileSync(a,b?void 0:\"utf8\")};C=a=>{a=A(a,!0);a.buffer||(a=new Uint8Array(a));return a};B=(a,b,c,e=!0)=>{a=a.startsWith(\"file://\")?new URL(a):D.normalize(a);fs.readFile(a,e?void 0:\"utf8\",(g,h)=>{g?c(g):b(e?h.buffer:h)})};!d.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\\\/g,\"/\"));process.argv.slice(2);d.inspect=()=>\"[Emscripten Module object]\"}else if(aa||\nx)x?y=self.location.href:\"undefined\"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),0!==y.indexOf(\"blob:\")?y=y.substr(0,y.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):y=\"\",A=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},x&&(C=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";b.send(null);return new Uint8Array(b.response)}),B=(a,b,c)=>{var e=new XMLHttpRequest;e.open(\"GET\",a,!0);e.responseType=\n\"arraybuffer\";e.onload=()=>{200==e.status||0==e.status&&e.response?b(e.response):c()};e.onerror=c;e.send(null)};var ca=d.print||console.log.bind(console),E=d.printErr||console.error.bind(console);Object.assign(d,r);r=null;d.thisProgram&&(v=d.thisProgram);var F;d.wasmBinary&&(F=d.wasmBinary);var noExitRuntime=d.noExitRuntime||!0;\"object\"!=typeof WebAssembly&&G(\"no native wasm support detected\");var H,I,da=!1,J,K,L,M;\nfunction ea(){var a=H.buffer;d.HEAP8=J=new Int8Array(a);d.HEAP16=new Int16Array(a);d.HEAP32=L=new Int32Array(a);d.HEAPU8=K=new Uint8Array(a);d.HEAPU16=new Uint16Array(a);d.HEAPU32=M=new Uint32Array(a);d.HEAPF32=new Float32Array(a);d.HEAPF64=new Float64Array(a)}var fa=[],ha=[],ia=[];function ja(){var a=d.preRun.shift();fa.unshift(a)}var N=0,O=null,P=null;\nfunction G(a){if(d.onAbort)d.onAbort(a);a=\"Aborted(\"+a+\")\";E(a);da=!0;a=new WebAssembly.RuntimeError(a+\". Build with -sASSERTIONS for more info.\");l(a);throw a;}function ka(a){return a.startsWith(\"data:application/octet-stream;base64,\")}var Q;Q=\"ort-training-wasm-simd.wasm\";if(!ka(Q)){var la=Q;Q=d.locateFile?d.locateFile(la,y):y+la}function ma(a){if(a==Q&&F)return new Uint8Array(F);if(C)return C(a);throw\"both async and sync fetching of the wasm failed\";}\nfunction na(a){if(!F&&(aa||x)){if(\"function\"==typeof fetch&&!a.startsWith(\"file://\"))return fetch(a,{credentials:\"same-origin\"}).then(b=>{if(!b.ok)throw\"failed to load wasm binary file at '\"+a+\"'\";return b.arrayBuffer()}).catch(()=>ma(a));if(B)return new Promise((b,c)=>{B(a,e=>b(new Uint8Array(e)),c)})}return Promise.resolve().then(()=>ma(a))}function oa(a,b,c){return na(a).then(e=>WebAssembly.instantiate(e,b)).then(e=>e).then(c,e=>{E(\"failed to asynchronously prepare wasm: \"+e);G(e)})}\nfunction pa(a,b){var c=Q;return F||\"function\"!=typeof WebAssembly.instantiateStreaming||ka(c)||c.startsWith(\"file://\")||ba||\"function\"!=typeof fetch?oa(c,a,b):fetch(c,{credentials:\"same-origin\"}).then(e=>WebAssembly.instantiateStreaming(e,a).then(b,function(g){E(\"wasm streaming compile failed: \"+g);E(\"falling back to ArrayBuffer instantiation\");return oa(c,a,b)}))}var R,S=a=>{for(;0<a.length;)a.shift()(d)};\nfunction qa(a){this.Ja=a-24;this.Na=function(b){M[this.Ja+4>>2>>>0]=b};this.Ma=function(b){M[this.Ja+8>>2>>>0]=b};this.Ka=function(b,c){this.La();this.Na(b);this.Ma(c)};this.La=function(){M[this.Ja+16>>2>>>0]=0}}\nvar ra=0,sa=0,ta=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0,ua=(a,b,c)=>{b>>>=0;var e=b+c;for(c=b;a[c]&&!(c>=e);)++c;if(16<c-b&&a.buffer&&ta)return ta.decode(a.subarray(b,c));for(e=\"\";b<c;){var g=a[b++];if(g&128){var h=a[b++]&63;if(192==(g&224))e+=String.fromCharCode((g&31)<<6|h);else{var m=a[b++]&63;g=224==(g&240)?(g&15)<<12|h<<6|m:(g&7)<<18|h<<12|m<<6|a[b++]&63;65536>g?e+=String.fromCharCode(g):(g-=65536,e+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else e+=String.fromCharCode(g)}return e},\nT=(a,b)=>(a>>>=0)?ua(K,a,b):\"\",U=a=>{for(var b=0,c=0;c<a.length;++c){var e=a.charCodeAt(c);127>=e?b++:2047>=e?b+=2:55296<=e&&57343>=e?(b+=4,++c):b+=3}return b},V=(a,b,c,e)=>{c>>>=0;if(!(0<e))return 0;var g=c;e=c+e-1;for(var h=0;h<a.length;++h){var m=a.charCodeAt(h);if(55296<=m&&57343>=m){var q=a.charCodeAt(++h);m=65536+((m&1023)<<10)|q&1023}if(127>=m){if(c>=e)break;b[c++>>>0]=m}else{if(2047>=m){if(c+1>=e)break;b[c++>>>0]=192|m>>6}else{if(65535>=m){if(c+2>=e)break;b[c++>>>0]=224|m>>12}else{if(c+3>=\ne)break;b[c++>>>0]=240|m>>18;b[c++>>>0]=128|m>>12&63}b[c++>>>0]=128|m>>6&63}b[c++>>>0]=128|m&63}}b[c>>>0]=0;return c-g},W=a=>0===a%4&&(0!==a%100||0===a%400),va=[0,31,60,91,121,152,182,213,244,274,305,335],wa=[0,31,59,90,120,151,181,212,243,273,304,334],Ba=a=>{var b=U(a)+1,c=Aa(b);c&&V(a,K,c,b);return c},X={},Ca=()=>{if(!Y){var a={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\n\"_\")+\".UTF-8\",_:v||\"./this.program\"},b;for(b in X)void 0===X[b]?delete a[b]:a[b]=X[b];var c=[];for(b in a)c.push(`${b}=${a[b]}`);Y=c}return Y},Y,Da=[null,[],[]],Ea=[31,29,31,30,31,30,31,31,30,31,30,31],Fa=[31,28,31,30,31,30,31,31,30,31,30,31];function Ga(a){var b=Array(U(a)+1);V(a,b,0,b.length);return b}\nfunction Ha(a,b,c,e){function g(f,n,p){for(f=\"number\"==typeof f?f.toString():f||\"\";f.length<n;)f=p[0]+f;return f}function h(f,n){return g(f,n,\"0\")}function m(f,n){function p(xa){return 0>xa?-1:0<xa?1:0}var z;0===(z=p(f.getFullYear()-n.getFullYear()))&&0===(z=p(f.getMonth()-n.getMonth()))&&(z=p(f.getDate()-n.getDate()));return z}function q(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),\n0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function w(f){var n=f.Ea;for(f=new Date((new Date(f.Fa+1900,0,1)).getTime());0<n;){var p=f.getMonth(),z=(W(f.getFullYear())?Ea:Fa)[p];if(n>z-f.getDate())n-=z-f.getDate()+1,f.setDate(1),11>p?f.setMonth(p+1):(f.setMonth(0),f.setFullYear(f.getFullYear()+1));else{f.setDate(f.getDate()+n);break}}p=new Date(f.getFullYear()+1,0,4);n=q(new Date(f.getFullYear(),\n0,4));p=q(p);return 0>=m(n,f)?0>=m(p,f)?f.getFullYear()+1:f.getFullYear():f.getFullYear()-1}a>>>=0;b>>>=0;c>>>=0;e>>>=0;var t=L[e+40>>2>>>0];e={Qa:L[e>>2>>>0],Pa:L[e+4>>2>>>0],Ga:L[e+8>>2>>>0],Ia:L[e+12>>2>>>0],Ha:L[e+16>>2>>>0],Fa:L[e+20>>2>>>0],za:L[e+24>>2>>>0],Ea:L[e+28>>2>>>0],Sa:L[e+32>>2>>>0],Oa:L[e+36>>2>>>0],Ra:t?T(t):\"\"};c=T(c);t={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\n\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var u in t)c=c.replace(new RegExp(u,\"g\"),t[u]);var ya=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),za=\"January February March April May June July August September October November December\".split(\" \");t={\"%a\":f=>ya[f.za].substring(0,3),\"%A\":f=>ya[f.za],\"%b\":f=>\nza[f.Ha].substring(0,3),\"%B\":f=>za[f.Ha],\"%C\":f=>h((f.Fa+1900)/100|0,2),\"%d\":f=>h(f.Ia,2),\"%e\":f=>g(f.Ia,2,\" \"),\"%g\":f=>w(f).toString().substring(2),\"%G\":f=>w(f),\"%H\":f=>h(f.Ga,2),\"%I\":f=>{f=f.Ga;0==f?f=12:12<f&&(f-=12);return h(f,2)},\"%j\":f=>{for(var n=0,p=0;p<=f.Ha-1;n+=(W(f.Fa+1900)?Ea:Fa)[p++]);return h(f.Ia+n,3)},\"%m\":f=>h(f.Ha+1,2),\"%M\":f=>h(f.Pa,2),\"%n\":()=>\"\\n\",\"%p\":f=>0<=f.Ga&&12>f.Ga?\"AM\":\"PM\",\"%S\":f=>h(f.Qa,2),\"%t\":()=>\"\\t\",\"%u\":f=>f.za||7,\"%U\":f=>h(Math.floor((f.Ea+7-f.za)/7),2),\"%V\":f=>\n{var n=Math.floor((f.Ea+7-(f.za+6)%7)/7);2>=(f.za+371-f.Ea-2)%7&&n++;if(n)53==n&&(p=(f.za+371-f.Ea)%7,4==p||3==p&&W(f.Fa)||(n=1));else{n=52;var p=(f.za+7-f.Ea-1)%7;(4==p||5==p&&W(f.Fa%400-1))&&n++}return h(n,2)},\"%w\":f=>f.za,\"%W\":f=>h(Math.floor((f.Ea+7-(f.za+6)%7)/7),2),\"%y\":f=>(f.Fa+1900).toString().substring(2),\"%Y\":f=>f.Fa+1900,\"%z\":f=>{f=f.Oa;var n=0<=f;f=Math.abs(f)/60;return(n?\"+\":\"-\")+String(\"0000\"+(f/60*100+f%60)).slice(-4)},\"%Z\":f=>f.Ra,\"%%\":()=>\"%\"};c=c.replace(/%%/g,\"\\x00\\x00\");for(u in t)c.includes(u)&&\n(c=c.replace(new RegExp(u,\"g\"),t[u](e)));c=c.replace(/\\0\\0/g,\"%\");u=Ga(c);if(u.length>b)return 0;J.set(u,a>>>0);return u.length-1}\nvar Ja={a:function(a,b,c){a>>>=0;(new qa(a)).Ka(b>>>0,c>>>0);ra=a;sa++;throw ra;},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(a,b,c){a=b+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*b:NaN;c>>>=0;a=new Date(1E3*a);L[c>>2>>>0]=a.getUTCSeconds();L[c+4>>2>>>0]=a.getUTCMinutes();L[c+8>>2>>>0]=a.getUTCHours();L[c+12>>2>>>\n0]=a.getUTCDate();L[c+16>>2>>>0]=a.getUTCMonth();L[c+20>>2>>>0]=a.getUTCFullYear()-1900;L[c+24>>2>>>0]=a.getUTCDay();L[c+28>>2>>>0]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0},p:function(a,b,c){a=b+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*b:NaN;c>>>=0;a=new Date(1E3*a);L[c>>2>>>0]=a.getSeconds();L[c+4>>2>>>0]=a.getMinutes();L[c+8>>2>>>0]=a.getHours();L[c+12>>2>>>0]=a.getDate();L[c+16>>2>>>0]=a.getMonth();L[c+20>>2>>>0]=a.getFullYear()-1900;L[c+24>>2>>>0]=a.getDay();L[c+28>>2>>>\n0]=(W(a.getFullYear())?va:wa)[a.getMonth()]+a.getDate()-1|0;L[c+36>>2>>>0]=-(60*a.getTimezoneOffset());b=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();var e=(new Date(a.getFullYear(),0,1)).getTimezoneOffset();L[c+32>>2>>>0]=(b!=e&&a.getTimezoneOffset()==Math.min(e,b))|0},q:function(a){a>>>=0;var b=new Date(L[a+20>>2>>>0]+1900,L[a+16>>2>>>0],L[a+12>>2>>>0],L[a+8>>2>>>0],L[a+4>>2>>>0],L[a>>2>>>0],0),c=L[a+32>>2>>>0],e=b.getTimezoneOffset(),g=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),\nh=(new Date(b.getFullYear(),0,1)).getTimezoneOffset(),m=Math.min(h,g);0>c?L[a+32>>2>>>0]=Number(g!=h&&m==e):0<c!=(m==e)&&(g=Math.max(h,g),b.setTime(b.getTime()+6E4*((0<c?m:g)-e)));L[a+24>>2>>>0]=b.getDay();L[a+28>>2>>>0]=(W(b.getFullYear())?va:wa)[b.getMonth()]+b.getDate()-1|0;L[a>>2>>>0]=b.getSeconds();L[a+4>>2>>>0]=b.getMinutes();L[a+8>>2>>>0]=b.getHours();L[a+12>>2>>>0]=b.getDate();L[a+16>>2>>>0]=b.getMonth();L[a+20>>2>>>0]=b.getYear();a=b.getTime()/1E3;return Ia((R=a,1<=+Math.abs(R)?0<R?+Math.floor(R/\n4294967296)>>>0:~~+Math.ceil((R-+(~~R>>>0))/4294967296)>>>0:0)),a>>>0},m:function(){return-52},n:function(){},t:function(a,b,c){function e(w){return(w=w.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?w[1]:\"GMT\"}c>>>=0;var g=(new Date).getFullYear(),h=new Date(g,0,1),m=new Date(g,6,1);g=h.getTimezoneOffset();var q=m.getTimezoneOffset();M[a>>>0>>2>>>0]=60*Math.max(g,q);L[b>>>0>>2>>>0]=Number(g!=q);a=e(h);b=e(m);a=Ba(a);b=Ba(b);q<g?(M[c>>2>>>0]=a,M[c+4>>2>>>0]=b):(M[c>>2>>>0]=b,M[c+4>>2>>>0]=a)},d:()=>{G(\"\")},\nh:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(a,b,c){b>>>=0;return K.copyWithin(a>>>0>>>0,b>>>0,b+(c>>>0)>>>0)},s:function(a){a>>>=0;var b=K.length;if(4294901760<a)return!1;for(var c=1;4>=c;c*=2){var e=b*(1+.2/c);e=Math.min(e,a+100663296);var g=Math;e=Math.max(a,e);a:{g=g.min.call(g,4294901760,e+(65536-e%65536)%65536)-H.buffer.byteLength+65535>>>16;try{H.grow(g);ea();var h=1;break a}catch(m){}h=void 0}if(h)return!0}return!1},C:function(a,b){a>>>=\n0;b>>>=0;var c=0;Ca().forEach(function(e,g){var h=b+c;g=M[a+4*g>>2>>>0]=h;for(h=0;h<e.length;++h)J[g++>>0>>>0]=e.charCodeAt(h);J[g>>0>>>0]=0;c+=e.length+1});return 0},D:function(a,b){a>>>=0;b>>>=0;var c=Ca();M[a>>2>>>0]=c.length;var e=0;c.forEach(function(g){e+=g.length+1});M[b>>2>>>0]=e;return 0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(a,b,c,e){b>>>=0;c>>>=0;e>>>=0;for(var g=0,h=0;h<c;h++){var m=M[b>>2>>>0],q=M[b+4>>2>>>0];b+=8;for(var w=0;w<q;w++){var t=K[m+w>>>0],u=\nDa[a];0===t||10===t?((1===a?ca:E)(ua(u,0)),u.length=0):u.push(t)}g+=q}M[e>>2>>>0]=g;return 0},A:Ha,c:function(a,b,c,e){return Ha(a>>>0,b>>>0,c>>>0,e>>>0)}};\n(function(){function a(c){c=c.exports;I=c=Ka(c);H=I.J;ea();ha.unshift(I.K);N--;d.monitorRunDependencies&&d.monitorRunDependencies(N);if(0==N&&(null!==O&&(clearInterval(O),O=null),P)){var e=P;P=null;e()}return c}var b={a:Ja};N++;d.monitorRunDependencies&&d.monitorRunDependencies(N);if(d.instantiateWasm)try{return d.instantiateWasm(b,a)}catch(c){E(\"Module.instantiateWasm callback failed with error: \"+c),l(c)}pa(b,function(c){a(c.instance)}).catch(l);return{}})();\nd._OrtInit=(a,b)=>(d._OrtInit=I.L)(a,b);d._OrtGetLastError=(a,b)=>(d._OrtGetLastError=I.M)(a,b);d._OrtCreateSessionOptions=(a,b,c,e,g,h,m,q,w,t)=>(d._OrtCreateSessionOptions=I.N)(a,b,c,e,g,h,m,q,w,t);d._OrtAppendExecutionProvider=(a,b)=>(d._OrtAppendExecutionProvider=I.O)(a,b);d._OrtAddFreeDimensionOverride=(a,b,c)=>(d._OrtAddFreeDimensionOverride=I.P)(a,b,c);d._OrtAddSessionConfigEntry=(a,b,c)=>(d._OrtAddSessionConfigEntry=I.Q)(a,b,c);d._OrtReleaseSessionOptions=a=>(d._OrtReleaseSessionOptions=I.R)(a);\nd._OrtCreateSession=(a,b,c)=>(d._OrtCreateSession=I.S)(a,b,c);d._OrtReleaseSession=a=>(d._OrtReleaseSession=I.T)(a);d._OrtGetInputOutputCount=(a,b,c)=>(d._OrtGetInputOutputCount=I.U)(a,b,c);d._OrtGetInputName=(a,b)=>(d._OrtGetInputName=I.V)(a,b);d._OrtGetOutputName=(a,b)=>(d._OrtGetOutputName=I.W)(a,b);d._OrtFree=a=>(d._OrtFree=I.X)(a);d._OrtCreateTensor=(a,b,c,e,g,h)=>(d._OrtCreateTensor=I.Y)(a,b,c,e,g,h);d._OrtGetTensorData=(a,b,c,e,g)=>(d._OrtGetTensorData=I.Z)(a,b,c,e,g);\nd._OrtReleaseTensor=a=>(d._OrtReleaseTensor=I._)(a);d._OrtCreateRunOptions=(a,b,c,e)=>(d._OrtCreateRunOptions=I.$)(a,b,c,e);d._OrtAddRunConfigEntry=(a,b,c)=>(d._OrtAddRunConfigEntry=I.aa)(a,b,c);d._OrtReleaseRunOptions=a=>(d._OrtReleaseRunOptions=I.ba)(a);d._OrtCreateBinding=a=>(d._OrtCreateBinding=I.ca)(a);d._OrtBindInput=(a,b,c)=>(d._OrtBindInput=I.da)(a,b,c);d._OrtBindOutput=(a,b,c,e)=>(d._OrtBindOutput=I.ea)(a,b,c,e);d._OrtClearBoundOutputs=a=>(d._OrtClearBoundOutputs=I.fa)(a);\nd._OrtReleaseBinding=a=>(d._OrtReleaseBinding=I.ga)(a);d._OrtRunWithBinding=(a,b,c,e,g)=>(d._OrtRunWithBinding=I.ha)(a,b,c,e,g);d._OrtRun=(a,b,c,e,g,h,m,q)=>(d._OrtRun=I.ia)(a,b,c,e,g,h,m,q);d._OrtEndProfiling=a=>(d._OrtEndProfiling=I.ja)(a);d._OrtTrainingLoadCheckpoint=(a,b)=>(d._OrtTrainingLoadCheckpoint=I.ka)(a,b);d._OrtTrainingReleaseCheckpoint=a=>(d._OrtTrainingReleaseCheckpoint=I.la)(a);d._OrtTrainingCreateSession=(a,b,c,e,g,h,m,q)=>(d._OrtTrainingCreateSession=I.ma)(a,b,c,e,g,h,m,q);\nd._OrtTrainingLazyResetGrad=a=>(d._OrtTrainingLazyResetGrad=I.na)(a);d._OrtTrainingRunTrainStep=(a,b,c,e,g,h)=>(d._OrtTrainingRunTrainStep=I.oa)(a,b,c,e,g,h);d._OrtTrainingOptimizerStep=(a,b)=>(d._OrtTrainingOptimizerStep=I.pa)(a,b);d._OrtTrainingEvalStep=(a,b,c,e,g,h)=>(d._OrtTrainingEvalStep=I.qa)(a,b,c,e,g,h);d._OrtTrainingGetParametersSize=(a,b,c)=>(d._OrtTrainingGetParametersSize=I.ra)(a,b,c);d._OrtTrainingCopyParametersToBuffer=(a,b,c,e)=>(d._OrtTrainingCopyParametersToBuffer=I.sa)(a,b,c,e);\nd._OrtTrainingCopyParametersFromBuffer=(a,b,c,e)=>(d._OrtTrainingCopyParametersFromBuffer=I.ta)(a,b,c,e);d._OrtTrainingGetModelInputOutputCount=(a,b,c,e)=>(d._OrtTrainingGetModelInputOutputCount=I.ua)(a,b,c,e);d._OrtTrainingGetModelInputOutputName=(a,b,c,e)=>(d._OrtTrainingGetModelInputOutputName=I.va)(a,b,c,e);d._OrtTrainingReleaseSession=a=>(d._OrtTrainingReleaseSession=I.wa)(a);var Aa=d._malloc=a=>(Aa=d._malloc=I.xa)(a);d._free=a=>(d._free=I.ya)(a);\nvar Ia=a=>(Ia=I.Aa)(a),La=()=>(La=I.Ba)(),Ma=a=>(Ma=I.Ca)(a),Na=a=>(Na=I.Da)(a);function Ka(a){a=Object.assign({},a);var b=e=>()=>e()>>>0,c=e=>g=>e(g)>>>0;a.__errno_location=b(a.__errno_location);a.malloc=c(a.malloc);a.stackSave=b(a.stackSave);a.stackAlloc=c(a.stackAlloc);return a}d.stackAlloc=Na;d.stackSave=La;d.stackRestore=Ma;d.UTF8ToString=T;d.stringToUTF8=(a,b,c)=>V(a,K,b,c);d.lengthBytesUTF8=U;var Z;P=function Oa(){Z||Pa();Z||(P=Oa)};\nfunction Pa(){function a(){if(!Z&&(Z=!0,d.calledRun=!0,!da)){S(ha);k(d);if(d.onRuntimeInitialized)d.onRuntimeInitialized();if(d.postRun)for(\"function\"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;){var b=d.postRun.shift();ia.unshift(b)}S(ia)}}if(!(0<N)){if(d.preRun)for(\"function\"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)ja();S(fa);0<N||(d.setStatus?(d.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){d.setStatus(\"\")},1);a()},1)):a())}}\nif(d.preInit)for(\"function\"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();Pa();\n\n\n  return moduleArg.ready\n}\n\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n  module.exports = ortWasm;\nelse if (typeof define === 'function' && define['amd'])\n  define([], () => ortWasm);\n", "", "", "export const cpus = undefined;", "\nvar ortWasmThreaded = (() => {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(moduleArg = {}) {\n\nfunction h(){m.buffer!=n.buffer&&p();return n}function t(){m.buffer!=n.buffer&&p();return aa}function v(){m.buffer!=n.buffer&&p();return ba}function ca(){m.buffer!=n.buffer&&p();return da}function w(){m.buffer!=n.buffer&&p();return ea}function z(){m.buffer!=n.buffer&&p();return fa}function ha(){m.buffer!=n.buffer&&p();return ia}var A=moduleArg,ja,ka;A.ready=new Promise((a,b)=>{ja=a;ka=b});\nvar la=Object.assign({},A),ma=\"./this.program\",na=(a,b)=>{throw b;},oa=\"object\"==typeof window,B=\"function\"==typeof importScripts,D=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,E=A.ENVIRONMENT_IS_PTHREAD||!1,F=\"\";function pa(a){return A.locateFile?A.locateFile(a,F):F+a}var qa,ra,sa;\nif(D){var fs=require(\"fs\"),ta=require(\"path\");F=B?ta.dirname(F)+\"/\":__dirname+\"/\";qa=(b,c)=>{b=b.startsWith(\"file://\")?new URL(b):ta.normalize(b);return fs.readFileSync(b,c?void 0:\"utf8\")};sa=b=>{b=qa(b,!0);b.buffer||(b=new Uint8Array(b));return b};ra=(b,c,d,e=!0)=>{b=b.startsWith(\"file://\")?new URL(b):ta.normalize(b);fs.readFile(b,e?void 0:\"utf8\",(f,k)=>{f?d(f):c(e?k.buffer:k)})};!A.thisProgram&&1<process.argv.length&&(ma=process.argv[1].replace(/\\\\/g,\"/\"));process.argv.slice(2);na=(b,c)=>{process.exitCode=\nb;throw c;};A.inspect=()=>\"[Emscripten Module object]\";let a;try{a=require(\"worker_threads\")}catch(b){throw console.error('The \"worker_threads\" module is not supported in this node.js build - perhaps a newer version is needed?'),b;}global.Worker=a.Worker}else if(oa||B)B?F=self.location.href:\"undefined\"!=typeof document&&document.currentScript&&(F=document.currentScript.src),(typeof _scriptDir !== \"undefined\" && _scriptDir)&&(F=_scriptDir),0!==F.indexOf(\"blob:\")?F=F.substr(0,F.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):F=\"\",D||(qa=a=>{var b=\nnew XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},B&&(sa=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";b.send(null);return new Uint8Array(b.response)}),ra=(a,b,c)=>{var d=new XMLHttpRequest;d.open(\"GET\",a,!0);d.responseType=\"arraybuffer\";d.onload=()=>{200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)});D&&\"undefined\"==typeof performance&&(global.performance=require(\"perf_hooks\").performance);\nvar ua=console.log.bind(console),va=console.error.bind(console);D&&(ua=(...a)=>fs.writeSync(1,a.join(\" \")+\"\\n\"),va=(...a)=>fs.writeSync(2,a.join(\" \")+\"\\n\"));var wa=ua,G=va;Object.assign(A,la);la=null;var noExitRuntime=!0;\"object\"!=typeof WebAssembly&&H(\"no native wasm support detected\");var m,xa,ya=!1,I,n,aa,ba,da,ea,fa,za,J,Aa,ia;\nfunction p(){var a=m.buffer;A.HEAP8=n=new Int8Array(a);A.HEAP16=ba=new Int16Array(a);A.HEAPU8=aa=new Uint8Array(a);A.HEAPU16=da=new Uint16Array(a);A.HEAP32=ea=new Int32Array(a);A.HEAPU32=fa=new Uint32Array(a);A.HEAPF32=za=new Float32Array(a);A.HEAPF64=ia=new Float64Array(a);A.HEAP64=J=new BigInt64Array(a);A.HEAPU64=Aa=new BigUint64Array(a)}var Ba=16777216;5242880<=Ba||H(\"INITIAL_MEMORY should be larger than STACK_SIZE, was \"+Ba+\"! (STACK_SIZE=5242880)\");\nif(E)m=A.wasmMemory;else if(m=new WebAssembly.Memory({initial:Ba/65536,maximum:65536,shared:!0}),!(m.buffer instanceof SharedArrayBuffer))throw G(\"requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag\"),D&&G(\"(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)\"),Error(\"bad memory\");\np();Ba=m.buffer.byteLength;var Ca=[],Da=[],Ea=[],Fa=0;function Ga(){return noExitRuntime||0<Fa}var K=0,Ha=null,L=null;function Ia(){K--;if(0==K&&(null!==Ha&&(clearInterval(Ha),Ha=null),L)){var a=L;L=null;a()}}function H(a){a=\"Aborted(\"+a+\")\";G(a);ya=!0;I=1;a=new WebAssembly.RuntimeError(a+\". Build with -sASSERTIONS for more info.\");ka(a);throw a;}function Ja(a){return a.startsWith(\"data:application/octet-stream;base64,\")}var M;M=\"ort-wasm-threaded.wasm\";Ja(M)||(M=pa(M));\nfunction Ka(a){if(sa)return sa(a);throw\"both async and sync fetching of the wasm failed\";}function La(a){if(oa||B){if(\"function\"==typeof fetch&&!a.startsWith(\"file://\"))return fetch(a,{credentials:\"same-origin\"}).then(b=>{if(!b.ok)throw\"failed to load wasm binary file at '\"+a+\"'\";return b.arrayBuffer()}).catch(()=>Ka(a));if(ra)return new Promise((b,c)=>{ra(a,d=>b(new Uint8Array(d)),c)})}return Promise.resolve().then(()=>Ka(a))}\nfunction Ma(a,b,c){return La(a).then(d=>WebAssembly.instantiate(d,b)).then(d=>d).then(c,d=>{G(`failed to asynchronously prepare wasm: ${d}`);H(d)})}\nfunction Na(a,b){var c=M;return\"function\"!=typeof WebAssembly.instantiateStreaming||Ja(c)||c.startsWith(\"file://\")||D||\"function\"!=typeof fetch?Ma(c,a,b):fetch(c,{credentials:\"same-origin\"}).then(d=>WebAssembly.instantiateStreaming(d,a).then(b,function(e){G(`wasm streaming compile failed: ${e}`);G(\"falling back to ArrayBuffer instantiation\");return Ma(c,a,b)}))}function Oa(a){this.name=\"ExitStatus\";this.message=`Program terminated with exit(${a})`;this.status=a}\nvar Pa=a=>{a.terminate();a.onmessage=()=>{}},Qa=a=>{if(0==O.qb.length){var b=pa(\"ort-wasm-threaded.worker.js\");b=new Worker(b);O.qb.push(b);O.Jb(O.qb[0])}b=O.qb.pop();if(!b)return 6;O.nb.push(b);O.jb[a.mb]=b;b.mb=a.mb;var c={cmd:\"run\",start_routine:a.Mb,arg:a.Fb,pthread_ptr:a.mb};D&&b.unref();b.postMessage(c,a.Sb);return 0},Ra=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0,Sa=(a,b,c)=>{b>>>=0;var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&Ra)return Ra.decode(a.buffer instanceof\nSharedArrayBuffer?a.slice(b,c):a.subarray(b,c));for(d=\"\";b<c;){var e=a[b++];if(e&128){var f=a[b++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|f);else{var k=a[b++]&63;e=224==(e&240)?(e&15)<<12|f<<6|k:(e&7)<<18|f<<12|k<<6|a[b++]&63;65536>e?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023))}}else d+=String.fromCharCode(e)}return d},Ta=(a,b)=>(a>>>=0)?Sa(t(),a,b):\"\";function Ua(a){if(E)return P(0,1,a);I=a;Ga()||(O.Nb(),ya=!0);na(a,new Oa(a))}\nvar Wa=a=>{I=a;if(E)throw Va(a),\"unwind\";Ua(a)};function Xa(){Ca.unshift(()=>{K++;Ia()})}\nvar O={qb:[],nb:[],Eb:[],jb:{},vb(){E?(O.receiveObjectTransfer=O.Lb,O.threadInitTLS=O.Db,O.setExitStatus=O.Cb,noExitRuntime=!1):Xa()},Cb:a=>{I=a},Vb:[\"$terminateWorker\"],Nb:()=>{for(var a of O.nb)Pa(a);for(a of O.qb)Pa(a);O.qb=[];O.nb=[];O.jb=[]},Bb:a=>{var b=a.mb;delete O.jb[b];O.qb.push(a);O.nb.splice(O.nb.indexOf(a),1);a.mb=0;Ya(b)},Lb(){},Db(){O.Eb.forEach(a=>a())},Jb:a=>new Promise(b=>{a.onmessage=f=>{f=f.data;var k=f.cmd;if(f.targetThread&&f.targetThread!=Za()){var l=O.jb[f.targetThread];l?\nl.postMessage(f,f.transferList):G(`Internal error! Worker sent a message \"${k}\" to target pthread ${f.targetThread}, but that thread no longer exists!`)}else if(\"checkMailbox\"===k)$a();else if(\"spawnThread\"===k)Qa(f);else if(\"cleanupThread\"===k)(f=O.jb[f.thread])||H(),O.Bb(f);else if(\"killThread\"===k)f=f.thread,k=O.jb[f],delete O.jb[f],Pa(k),Ya(f),O.nb.splice(O.nb.indexOf(k),1),k.mb=0;else if(\"cancelThread\"===k)O.jb[f.thread].postMessage({cmd:\"cancel\"});else if(\"loaded\"===k)a.loaded=!0,b(a);else if(\"alert\"===\nk)alert(`Thread ${f.threadId}: ${f.text}`);else if(\"setimmediate\"===f.target)a.postMessage(f);else if(\"callHandler\"===k)A[f.handler](...f.args);else k&&G(`worker sent an unknown command ${k}`)};a.onerror=f=>{G(`${\"worker sent an error!\"} ${f.filename}:${f.lineno}: ${f.message}`);throw f;};D&&(a.on(\"message\",f=>a.onmessage({data:f})),a.on(\"error\",f=>a.onerror(f)));var c=[],d=[],e;for(e of d)A.hasOwnProperty(e)&&c.push(e);a.postMessage({cmd:\"load\",handlers:c,urlOrBlob:A.mainScriptUrlOrBlob||_scriptDir,\nwasmMemory:m,wasmModule:xa})})};A.PThread=O;var ab=a=>{for(;0<a.length;)a.shift()(A)};A.establishStackSpace=()=>{var a=Za(),b=z()[a+52>>>2>>>0];a=z()[a+56>>>2>>>0];bb(b,b-a);cb(b)};function Va(a){if(E)return P(1,0,a);Wa(a)}var db=[],eb;A.invokeEntryPoint=(a,b)=>{var c=db[a];c||(a>=db.length&&(db.length=a+1),db[a]=c=eb.get(a));a=c(b);Ga()?O.Cb(a):fb(a)};\nfunction gb(a){this.sb=a-24;this.Kb=function(b){z()[this.sb+4>>>2>>>0]=b};this.xb=function(b){z()[this.sb+8>>>2>>>0]=b};this.vb=function(b,c){this.wb();this.Kb(b);this.xb(c)};this.wb=function(){z()[this.sb+16>>>2>>>0]=0}}var hb=0,ib=0;function jb(a,b,c,d){return E?P(2,1,a,b,c,d):kb(a,b,c,d)}\nfunction kb(a,b,c,d){a>>>=0;b>>>=0;c>>>=0;d>>>=0;if(\"undefined\"==typeof SharedArrayBuffer)return G(\"Current environment does not support SharedArrayBuffer, pthreads are not available!\"),6;var e=[];if(E&&0===e.length)return jb(a,b,c,d);a={Mb:c,mb:a,Fb:d,Sb:e};return E?(a.Ub=\"spawnThread\",postMessage(a,e),0):Qa(a)}function lb(a,b,c){return E?P(3,1,a,b,c):0}function mb(a,b){if(E)return P(4,1,a,b)}\nvar nb=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);127>=d?b++:2047>=d?b+=2:55296<=d&&57343>=d?(b+=4,++c):b+=3}return b},ob=(a,b,c,d)=>{c>>>=0;if(!(0<d))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var k=a.charCodeAt(f);if(55296<=k&&57343>=k){var l=a.charCodeAt(++f);k=65536+((k&1023)<<10)|l&1023}if(127>=k){if(c>=d)break;b[c++>>>0]=k}else{if(2047>=k){if(c+1>=d)break;b[c++>>>0]=192|k>>6}else{if(65535>=k){if(c+2>=d)break;b[c++>>>0]=224|k>>12}else{if(c+3>=d)break;b[c++>>>0]=240|k>>\n18;b[c++>>>0]=128|k>>12&63}b[c++>>>0]=128|k>>6&63}b[c++>>>0]=128|k&63}}b[c>>>0]=0;return c-e},pb=(a,b,c)=>ob(a,t(),b,c);function qb(a,b){if(E)return P(5,1,a,b)}function rb(a,b,c){if(E)return P(6,1,a,b,c)}function sb(a,b,c){return E?P(7,1,a,b,c):0}function tb(a,b){if(E)return P(8,1,a,b)}function ub(a,b,c){if(E)return P(9,1,a,b,c)}function vb(a,b,c,d){if(E)return P(10,1,a,b,c,d)}function wb(a,b,c,d){if(E)return P(11,1,a,b,c,d)}function xb(a,b,c,d){if(E)return P(12,1,a,b,c,d)}\nfunction yb(a){if(E)return P(13,1,a)}function zb(a,b){if(E)return P(14,1,a,b)}function Ab(a,b,c){if(E)return P(15,1,a,b,c)}var Bb=a=>{if(null===a)return\"null\";var b=typeof a;return\"object\"===b||\"array\"===b||\"function\"===b?a.toString():\"\"+a},Cb,R=a=>{for(var b=\"\";t()[a>>>0];)b+=Cb[t()[a++>>>0]];return b},Db={},Eb={},Fb={},S;\nfunction Gb(a,b,c={}){var d=b.name;if(!a)throw new S(`type \"${d}\" must have a positive integer typeid pointer`);if(Eb.hasOwnProperty(a)){if(c.Hb)return;throw new S(`Cannot register type '${d}' twice`);}Eb[a]=b;delete Fb[a];Db.hasOwnProperty(a)&&(b=Db[a],delete Db[a],b.forEach(e=>e()))}function T(a,b,c={}){if(!(\"argPackAdvance\"in b))throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");Gb(a,b,c)}\nvar Hb=(a,b,c)=>{switch(b){case 1:return c?d=>h()[d>>>0>>>0]:d=>t()[d>>>0>>>0];case 2:return c?d=>v()[d>>>1>>>0]:d=>ca()[d>>>1>>>0];case 4:return c?d=>w()[d>>>2>>>0]:d=>z()[d>>>2>>>0];case 8:return c?d=>J[d>>>3]:d=>Aa[d>>>3];default:throw new TypeError(`invalid integer width (${b}): ${a}`);}};function Ib(){this.lb=[void 0];this.zb=[]}var U=new Ib;function Jb(a){a>>>=0;a>=U.sb&&0===--U.get(a).Ab&&U.xb(a)}\nvar V=a=>{if(!a)throw new S(\"Cannot use deleted val. handle = \"+a);return U.get(a).value},W=a=>{switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:return U.wb({Ab:1,value:a})}};function Kb(a){return this.fromWireType(w()[a>>>2>>>0])}\nvar Lb=(a,b)=>{switch(b){case 4:return function(c){var d=this.fromWireType;m.buffer!=n.buffer&&p();return d.call(this,za[c>>>2>>>0])};case 8:return function(c){return this.fromWireType(ha()[c>>>3>>>0])};default:throw new TypeError(`invalid float width (${b}): ${a}`);}};function Mb(a){return this.fromWireType(z()[a>>>2>>>0])}\nvar Nb=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-16le\"):void 0,Ob=(a,b)=>{var c=a>>1;for(var d=c+b/2;!(c>=d)&&ca()[c>>>0];)++c;c<<=1;if(32<c-a&&Nb)return Nb.decode(t().slice(a,c));c=\"\";for(d=0;!(d>=b/2);++d){var e=v()[a+2*d>>>1>>>0];if(0==e)break;c+=String.fromCharCode(e)}return c},Pb=(a,b,c)=>{void 0===c&&(c=2147483647);if(2>c)return 0;c-=2;var d=b;c=c<2*a.length?c/2:a.length;for(var e=0;e<c;++e){var f=a.charCodeAt(e);v()[b>>>1>>>0]=f;b+=2}v()[b>>>1>>>0]=0;return b-d},Qb=a=>2*a.length,\nRb=(a,b)=>{for(var c=0,d=\"\";!(c>=b/4);){var e=w()[a+4*c>>>2>>>0];if(0==e)break;++c;65536<=e?(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023)):d+=String.fromCharCode(e)}return d},Sb=(a,b,c)=>{b>>>=0;void 0===c&&(c=2147483647);if(4>c)return 0;var d=b;c=d+c-4;for(var e=0;e<a.length;++e){var f=a.charCodeAt(e);if(55296<=f&&57343>=f){var k=a.charCodeAt(++e);f=65536+((f&1023)<<10)|k&1023}w()[b>>>2>>>0]=f;b+=4;if(b+4>c)break}w()[b>>>2>>>0]=0;return b-d},Tb=a=>{for(var b=0,c=0;c<a.length;++c){var d=\na.charCodeAt(c);55296<=d&&57343>=d&&++c;b+=4}return b},Ub=a=>{if(!ya)try{if(a(),!Ga())try{E?fb(I):Wa(I)}catch(b){b instanceof Oa||\"unwind\"==b||na(1,b)}}catch(b){b instanceof Oa||\"unwind\"==b||na(1,b)}};function Vb(a){a>>>=0;\"function\"===typeof Atomics.Tb&&(Atomics.Tb(w(),a>>>2,a).value.then($a),a+=128,Atomics.store(w(),a>>>2,1))}A.__emscripten_thread_mailbox_await=Vb;var $a=()=>{var a=Za();a&&(Vb(a),Ub(()=>Wb()))};A.checkMailbox=$a;var Yb=a=>{var b=Xb();a=a();cb(b);return a};\nfunction P(a,b){var c=arguments.length-2,d=arguments;return Yb(()=>{for(var e=2*c,f=Zb(8*e),k=f>>>3,l=0;l<c;l++){var q=d[2+l];\"bigint\"==typeof q?(J[k+2*l]=1n,J[k+2*l+1]=q):(J[k+2*l]=0n,ha()[k+2*l+1>>>0]=q)}return $b(a,e,f,b)})}\nvar ac=[],cc=(a,b)=>{var c=Eb[a];if(void 0===c)throw a=bc(a),c=R(a),X(a),new S(b+\" has unknown type \"+c);return c},dc={},ec=a=>{var b=dc[a];return void 0===b?R(a):b},fc=[],gc=()=>\"object\"==typeof globalThis?globalThis:Function(\"return this\")(),hc=a=>{var b=fc.length;fc.push(a);return b},ic=(a,b)=>{for(var c=Array(a),d=0;d<a;++d)c[d]=cc(z()[b+4*d>>>2>>>0],\"parameter \"+d);return c},jc=a=>{if(void 0===a)return\"_unknown\";a=a.replace(/[^a-zA-Z0-9_]/g,\"$\");var b=a.charCodeAt(0);return 48<=b&&57>=b?`_${a}`:\na},lc={};function mc(a,b){a=jc(a);return{[a]:function(){return b.apply(this,arguments)}}[a]}function nc(a){var b=Function;if(!(b instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof b} which is not a function`);var c=mc(b.name||\"unknownFunctionName\",function(){});c.prototype=b.prototype;c=new c;a=b.apply(c,a);return a instanceof Object?a:c}\nvar oc=a=>{for(var b=\"\",c=0;c<a;++c)b+=(0!==c?\", \":\"\")+\"arg\"+c;var d=\"return function emval_allocator_\"+a+\"(constructor, argTypes, args) {\\n  var HEAPU32 = getMemory();\\n\";for(c=0;c<a;++c)d+=\"var argType\"+c+\" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter \"+c+\"');\\nvar arg\"+c+\" = argType\"+c+\".readValueFromPointer(args);\\nargs += argType\"+c+\"['argPackAdvance'];\\nargTypes += 4;\\n\";return(new Function(\"requireRegisteredType\",\"Module\",\"valueToHandle\",\"getMemory\",d+(\"var obj = new constructor(\"+\nb+\");\\nreturn valueToHandle(obj);\\n}\\n\")))(cc,A,W,()=>z())},pc={},Y=a=>0===a%4&&(0!==a%100||0===a%400),qc=[0,31,60,91,121,152,182,213,244,274,305,335],rc=[0,31,59,90,120,151,181,212,243,273,304,334];function sc(a,b,c,d,e,f,k){return E?P(16,1,a,b,c,d,e,f,k):-52}function tc(a,b,c,d,e,f){if(E)return P(17,1,a,b,c,d,e,f)}\nvar vc=a=>{var b=nb(a)+1,c=uc(b);c&&pb(a,c,b);return c},wc={},yc=()=>{if(!xc){var a={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:ma||\"./this.program\"},b;for(b in wc)void 0===wc[b]?delete a[b]:a[b]=wc[b];var c=[];for(b in a)c.push(`${b}=${a[b]}`);xc=c}return xc},xc;\nfunction zc(a,b){if(E)return P(18,1,a,b);a>>>=0;b>>>=0;var c=0;yc().forEach((d,e)=>{var f=b+c;e=z()[a+4*e>>>2>>>0]=f;for(f=0;f<d.length;++f)h()[e++>>>0>>>0]=d.charCodeAt(f);h()[e>>>0>>>0]=0;c+=d.length+1});return 0}function Ac(a,b){if(E)return P(19,1,a,b);a>>>=0;b>>>=0;var c=yc();z()[a>>>2>>>0]=c.length;var d=0;c.forEach(e=>d+=e.length+1);z()[b>>>2>>>0]=d;return 0}function Bc(a){return E?P(20,1,a):52}function Cc(a,b,c,d){return E?P(21,1,a,b,c,d):52}\nfunction Dc(a,b,c,d){return E?P(22,1,a,b,c,d):70}var Ec=[null,[],[]];function Fc(a,b,c,d){if(E)return P(23,1,a,b,c,d);b>>>=0;c>>>=0;d>>>=0;for(var e=0,f=0;f<c;f++){var k=z()[b>>>2>>>0],l=z()[b+4>>>2>>>0];b+=8;for(var q=0;q<l;q++){var r=t()[k+q>>>0],x=Ec[a];0===r||10===r?((1===a?wa:G)(Sa(x,0)),x.length=0):x.push(r)}e+=l}z()[d>>>2>>>0]=e;return 0}var Gc=[31,29,31,30,31,30,31,31,30,31,30,31],Hc=[31,28,31,30,31,30,31,31,30,31,30,31];function Ic(a){var b=Array(nb(a)+1);ob(a,b,0,b.length);return b}\nvar Jc=(a,b)=>{h().set(a,b>>>0)};\nfunction Kc(a,b,c,d){function e(g,u,y){for(g=\"number\"==typeof g?g.toString():g||\"\";g.length<u;)g=y[0]+g;return g}function f(g,u){return e(g,u,\"0\")}function k(g,u){function y(kc){return 0>kc?-1:0<kc?1:0}var Q;0===(Q=y(g.getFullYear()-u.getFullYear()))&&0===(Q=y(g.getMonth()-u.getMonth()))&&(Q=y(g.getDate()-u.getDate()));return Q}function l(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),\n0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function q(g){var u=g.ob;for(g=new Date((new Date(g.pb+1900,0,1)).getTime());0<u;){var y=g.getMonth(),Q=(Y(g.getFullYear())?Gc:Hc)[y];if(u>Q-g.getDate())u-=Q-g.getDate()+1,g.setDate(1),11>y?g.setMonth(y+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+u);break}}y=new Date(g.getFullYear()+1,0,4);u=l(new Date(g.getFullYear(),\n0,4));y=l(y);return 0>=k(u,g)?0>=k(y,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}a>>>=0;b>>>=0;c>>>=0;d>>>=0;var r=z()[d+40>>>2>>>0];d={Qb:w()[d>>>2>>>0],Pb:w()[d+4>>>2>>>0],tb:w()[d+8>>>2>>>0],yb:w()[d+12>>>2>>>0],ub:w()[d+16>>>2>>>0],pb:w()[d+20>>>2>>>0],kb:w()[d+24>>>2>>>0],ob:w()[d+28>>>2>>>0],Wb:w()[d+32>>>2>>>0],Ob:w()[d+36>>>2>>>0],Rb:r?Ta(r):\"\"};c=Ta(c);r={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\n\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var x in r)c=c.replace(new RegExp(x,\"g\"),r[x]);var C=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),N=\"January February March April May June July August September October November December\".split(\" \");r={\"%a\":g=>C[g.kb].substring(0,3),\"%A\":g=>\nC[g.kb],\"%b\":g=>N[g.ub].substring(0,3),\"%B\":g=>N[g.ub],\"%C\":g=>f((g.pb+1900)/100|0,2),\"%d\":g=>f(g.yb,2),\"%e\":g=>e(g.yb,2,\" \"),\"%g\":g=>q(g).toString().substring(2),\"%G\":g=>q(g),\"%H\":g=>f(g.tb,2),\"%I\":g=>{g=g.tb;0==g?g=12:12<g&&(g-=12);return f(g,2)},\"%j\":g=>{for(var u=0,y=0;y<=g.ub-1;u+=(Y(g.pb+1900)?Gc:Hc)[y++]);return f(g.yb+u,3)},\"%m\":g=>f(g.ub+1,2),\"%M\":g=>f(g.Pb,2),\"%n\":()=>\"\\n\",\"%p\":g=>0<=g.tb&&12>g.tb?\"AM\":\"PM\",\"%S\":g=>f(g.Qb,2),\"%t\":()=>\"\\t\",\"%u\":g=>g.kb||7,\"%U\":g=>f(Math.floor((g.ob+7-g.kb)/\n7),2),\"%V\":g=>{var u=Math.floor((g.ob+7-(g.kb+6)%7)/7);2>=(g.kb+371-g.ob-2)%7&&u++;if(u)53==u&&(y=(g.kb+371-g.ob)%7,4==y||3==y&&Y(g.pb)||(u=1));else{u=52;var y=(g.kb+7-g.ob-1)%7;(4==y||5==y&&Y(g.pb%400-1))&&u++}return f(u,2)},\"%w\":g=>g.kb,\"%W\":g=>f(Math.floor((g.ob+7-(g.kb+6)%7)/7),2),\"%y\":g=>(g.pb+1900).toString().substring(2),\"%Y\":g=>g.pb+1900,\"%z\":g=>{g=g.Ob;var u=0<=g;g=Math.abs(g)/60;return(u?\"+\":\"-\")+String(\"0000\"+(g/60*100+g%60)).slice(-4)},\"%Z\":g=>g.Rb,\"%%\":()=>\"%\"};c=c.replace(/%%/g,\"\\x00\\x00\");\nfor(x in r)c.includes(x)&&(c=c.replace(new RegExp(x,\"g\"),r[x](d)));c=c.replace(/\\0\\0/g,\"%\");x=Ic(c);if(x.length>b)return 0;Jc(x,a);return x.length-1}O.vb();for(var Lc=Array(256),Mc=0;256>Mc;++Mc)Lc[Mc]=String.fromCharCode(Mc);Cb=Lc;S=A.BindingError=class extends Error{constructor(a){super(a);this.name=\"BindingError\"}};A.InternalError=class extends Error{constructor(a){super(a);this.name=\"InternalError\"}};\nObject.assign(Ib.prototype,{get(a){return this.lb[a]},has(a){return void 0!==this.lb[a]},wb(a){var b=this.zb.pop()||this.lb.length;this.lb[b]=a;return b},xb(a){this.lb[a]=void 0;this.zb.push(a)}});U.lb.push({value:void 0},{value:null},{value:!0},{value:!1});U.sb=U.lb.length;A.count_emval_handles=()=>{for(var a=0,b=U.sb;b<U.lb.length;++b)void 0!==U.lb[b]&&++a;return a};\nvar Nc=[Ua,Va,jb,lb,mb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,sc,tc,zc,Ac,Bc,Cc,Dc,Fc],Pc={b:function(a,b,c){a>>>=0;(new gb(a)).vb(b>>>0,c>>>0);hb=a;ib++;throw hb;},ea:function(a){Oc(a>>>0,!B,1,!oa,131072,!1);O.Db()},E:function(a){a>>>=0;E?postMessage({cmd:\"cleanupThread\",thread:a}):((a=O.jb[a])||H(),O.Bb(a))},W:kb,y:lb,ka:mb,S:qb,U:rb,L:sb,ia:tb,ba:ub,ha:vb,G:wb,T:xb,Q:yb,ja:zb,R:Ab,J:function(a,b,c,d,e){a>>>=0;b>>>=0;c>>>=0;b=R(b);var f=-1!=b.indexOf(\"u\");f&&(e=(1n<<64n)-1n);T(a,{name:b,fromWireType:k=>\nk,toWireType:function(k,l){if(\"bigint\"!=typeof l&&\"number\"!=typeof l)throw new TypeError(`Cannot convert \"${Bb(l)}\" to ${this.name}`);if(l<d||l>e)throw new TypeError(`Passing a number \"${Bb(l)}\" from JS side to C/C++ side to an argument of type \"${b}\", which is outside the valid range [${d}, ${e}]!`);return l},argPackAdvance:8,readValueFromPointer:Hb(b,c,!f),rb:null})},qa:function(a,b,c,d){a>>>=0;b=R(b>>>0);T(a,{name:b,fromWireType:function(e){return!!e},toWireType:function(e,f){return f?c:d},argPackAdvance:8,\nreadValueFromPointer:function(e){return this.fromWireType(t()[e>>>0])},rb:null})},pa:function(a,b){a>>>=0;b=R(b>>>0);T(a,{name:b,fromWireType:c=>{var d=V(c);Jb(c);return d},toWireType:(c,d)=>W(d),argPackAdvance:8,readValueFromPointer:Kb,rb:null})},I:function(a,b,c){a>>>=0;c>>>=0;b=R(b>>>0);T(a,{name:b,fromWireType:d=>d,toWireType:(d,e)=>e,argPackAdvance:8,readValueFromPointer:Lb(b,c),rb:null})},u:function(a,b,c,d,e){a>>>=0;c>>>=0;b=R(b>>>0);-1===e&&(e=4294967295);e=l=>l;if(0===d){var f=32-8*c;e=l=>\nl<<f>>>f}var k=b.includes(\"unsigned\")?function(l,q){return q>>>0}:function(l,q){return q};T(a,{name:b,fromWireType:e,toWireType:k,argPackAdvance:8,readValueFromPointer:Hb(b,c,0!==d),rb:null})},m:function(a,b,c){function d(f){var k=z()[f>>>2>>>0];f=z()[f+4>>>2>>>0];return new e(h().buffer,f,k)}a>>>=0;var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][b];c=R(c>>>0);T(a,{name:c,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},\n{Hb:!0})},K:function(a,b){a>>>=0;b=R(b>>>0);var c=\"std::string\"===b;T(a,{name:b,fromWireType:function(d){var e=z()[d>>>2>>>0],f=d+4;if(c)for(var k=f,l=0;l<=e;++l){var q=f+l;if(l==e||0==t()[q>>>0]){k=Ta(k,q-k);if(void 0===r)var r=k;else r+=String.fromCharCode(0),r+=k;k=q+1}}else{r=Array(e);for(l=0;l<e;++l)r[l]=String.fromCharCode(t()[f+l>>>0]);r=r.join(\"\")}X(d);return r},toWireType:function(d,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var f=\"string\"==typeof e;if(!(f||e instanceof Uint8Array||\ne instanceof Uint8ClampedArray||e instanceof Int8Array))throw new S(\"Cannot pass non-string to std::string\");var k=c&&f?nb(e):e.length;var l=uc(4+k+1),q=l+4;z()[l>>>2>>>0]=k;if(c&&f)pb(e,q,k+1);else if(f)for(f=0;f<k;++f){var r=e.charCodeAt(f);if(255<r)throw X(q),new S(\"String has UTF-16 code units that do not fit in 8 bits\");t()[q+f>>>0]=r}else for(f=0;f<k;++f)t()[q+f>>>0]=e[f];null!==d&&d.push(X,l);return l},argPackAdvance:8,readValueFromPointer:Mb,rb(d){X(d)}})},A:function(a,b,c){a>>>=0;b>>>=0;\nc>>>=0;c=R(c);if(2===b){var d=Ob;var e=Pb;var f=Qb;var k=()=>ca();var l=1}else 4===b&&(d=Rb,e=Sb,f=Tb,k=()=>z(),l=2);T(a,{name:c,fromWireType:q=>{for(var r=z()[q>>>2>>>0],x=k(),C,N=q+4,g=0;g<=r;++g){var u=q+4+g*b;if(g==r||0==x[u>>>l])N=d(N,u-N),void 0===C?C=N:(C+=String.fromCharCode(0),C+=N),N=u+b}X(q);return C},toWireType:(q,r)=>{if(\"string\"!=typeof r)throw new S(`Cannot pass non-string to C++ string type ${c}`);var x=f(r),C=uc(4+x+b);z()[C>>>2]=x>>l;e(r,C+4,x+b);null!==q&&q.push(X,C);return C},\nargPackAdvance:8,readValueFromPointer:Kb,rb(q){X(q)}})},ra:function(a,b){a>>>=0;b=R(b>>>0);T(a,{Ib:!0,name:b,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(a,b){a>>>=0;a==b>>>0?setTimeout(()=>$a()):E?postMessage({targetThread:a,cmd:\"checkMailbox\"}):(a=O.jb[a])&&a.postMessage({cmd:\"checkMailbox\"})},X:function(a,b,c,d){b>>>=0;c/=2;ac.length=c;d=d>>>0>>>3;for(var e=0;e<c;e++)ac[e]=J[d+2*e]?J[d+2*e+1]:ha()[d+2*e+1>>>0];a=Nc[a];O.Gb=b;b=a.apply(null,ac);O.Gb=0;return b},\nda:Vb,ma:function(a){D&&O.jb[a>>>0].ref()},r:function(a,b,c){b>>>=0;c>>>=0;a=V(a>>>0);b=cc(b,\"emval::as\");var d=[],e=W(d);z()[c>>>2>>>0]=e;return b.toWireType(d,a)},i:function(a,b,c,d,e){c>>>=0;d>>>=0;e>>>=0;a=fc[a>>>0];b=V(b>>>0);c=ec(c);var f=[];z()[d>>>2>>>0]=W(f);return a(b,c,f,e)},s:function(a,b,c,d){c>>>=0;d>>>=0;a=fc[a>>>0];b=V(b>>>0);c=ec(c);a(b,c,null,d)},c:Jb,B:function(a,b){b>>>=0;a=V(a>>>0);b=V(b);return a==b},o:function(a){a>>>=0;if(0===a)return W(gc());a=ec(a);return W(gc()[a])},g:function(a,\nb){var c=ic(a,b>>>0),d=c[0];b=d.name+\"_$\"+c.slice(1).map(function(x){return x.name}).join(\"_\")+\"$\";var e=lc[b];if(void 0!==e)return e;e=[\"retType\"];for(var f=[d],k=\"\",l=0;l<a-1;++l)k+=(0!==l?\", \":\"\")+\"arg\"+l,e.push(\"argType\"+l),f.push(c[1+l]);var q=\"return function \"+jc(\"methodCaller_\"+b)+\"(handle, name, destructors, args) {\\n\",r=0;for(l=0;l<a-1;++l)q+=\"    var arg\"+l+\" = argType\"+l+\".readValueFromPointer(args\"+(r?\"+\"+r:\"\")+\");\\n\",r+=c[l+1].argPackAdvance;q+=\"    var rv = handle[name](\"+k+\");\\n\";\nfor(l=0;l<a-1;++l)c[l+1].deleteObject&&(q+=\"    argType\"+l+\".deleteObject(arg\"+l+\");\\n\");d.Ib||(q+=\"    return retType.toWireType(destructors, rv);\\n\");e.push(q+\"};\\n\");a=nc(e).apply(null,f);e=hc(a);return lc[b]=e},q:function(a,b){b>>>=0;a=V(a>>>0);b=V(b);return W(a[b])},d:function(a){a>>>=0;4<a&&(U.get(a).Ab+=1)},x:function(a,b,c,d){c>>>=0;d>>>=0;a=V(a>>>0);var e=pc[b];e||(e=oc(b),pc[b]=e);return e(a,c,d)},v:function(){return W([])},l:function(a){a=V(a>>>0);for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=\na[c];return W(b)},e:function(a){return W(ec(a>>>0))},k:function(){return W({})},f:function(a){a>>>=0;for(var b=V(a);b.length;){var c=b.pop();b.pop()(c)}Jb(a)},j:function(a,b,c){b>>>=0;c>>>=0;a=V(a>>>0);b=V(b);c=V(c);a[b]=c},h:function(a,b){b>>>=0;a=cc(a>>>0,\"_emval_take_value\");a=a.readValueFromPointer(b);return W(a)},_:function(a,b){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a);b>>>=0;a=new Date(1E3*a);w()[b>>>2>>>0]=a.getUTCSeconds();w()[b+4>>>2>>>0]=a.getUTCMinutes();w()[b+8>>>2>>>0]=\na.getUTCHours();w()[b+12>>>2>>>0]=a.getUTCDate();w()[b+16>>>2>>>0]=a.getUTCMonth();w()[b+20>>>2>>>0]=a.getUTCFullYear()-1900;w()[b+24>>>2>>>0]=a.getUTCDay();a=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0;w()[b+28>>>2>>>0]=a},$:function(a,b){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a);b>>>=0;a=new Date(1E3*a);w()[b>>>2>>>0]=a.getSeconds();w()[b+4>>>2>>>0]=a.getMinutes();w()[b+8>>>2>>>0]=a.getHours();w()[b+12>>>2>>>0]=a.getDate();w()[b+16>>>2>>>0]=a.getMonth();w()[b+20>>>\n2>>>0]=a.getFullYear()-1900;w()[b+24>>>2>>>0]=a.getDay();var c=(Y(a.getFullYear())?qc:rc)[a.getMonth()]+a.getDate()-1|0;w()[b+28>>>2>>>0]=c;w()[b+36>>>2>>>0]=-(60*a.getTimezoneOffset());c=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();var d=(new Date(a.getFullYear(),0,1)).getTimezoneOffset();a=(c!=d&&a.getTimezoneOffset()==Math.min(d,c))|0;w()[b+32>>>2>>>0]=a},aa:function(a){a>>>=0;var b=new Date(w()[a+20>>>2>>>0]+1900,w()[a+16>>>2>>>0],w()[a+12>>>2>>>0],w()[a+8>>>2>>>0],w()[a+4>>>2>>>0],w()[a>>>\n2>>>0],0),c=w()[a+32>>>2>>>0],d=b.getTimezoneOffset(),e=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),f=(new Date(b.getFullYear(),0,1)).getTimezoneOffset(),k=Math.min(f,e);0>c?w()[a+32>>>2>>>0]=Number(e!=f&&k==d):0<c!=(k==d)&&(e=Math.max(f,e),b.setTime(b.getTime()+6E4*((0<c?k:e)-d)));w()[a+24>>>2>>>0]=b.getDay();c=(Y(b.getFullYear())?qc:rc)[b.getMonth()]+b.getDate()-1|0;w()[a+28>>>2>>>0]=c;w()[a>>>2>>>0]=b.getSeconds();w()[a+4>>>2>>>0]=b.getMinutes();w()[a+8>>>2>>>0]=b.getHours();w()[a+12>>>\n2>>>0]=b.getDate();w()[a+16>>>2>>>0]=b.getMonth();w()[a+20>>>2>>>0]=b.getYear();return BigInt(b.getTime()/1E3)},Y:sc,Z:tc,N:function(a,b,c){function d(r){return(r=r.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?r[1]:\"GMT\"}a>>>=0;b>>>=0;c>>>=0;var e=(new Date).getFullYear(),f=new Date(e,0,1),k=new Date(e,6,1);e=f.getTimezoneOffset();var l=k.getTimezoneOffset(),q=Math.max(e,l);z()[a>>>2>>>0]=60*q;w()[b>>>2>>>0]=Number(e!=l);a=d(f);b=d(k);a=vc(a);b=vc(b);l<e?(z()[c>>>2>>>0]=a,z()[c+4>>>2>>>0]=b):(z()[c>>>\n2>>>0]=b,z()[c+4>>>2>>>0]=a)},n:()=>{H(\"\")},F:()=>{},H:()=>Date.now(),la:()=>{Fa+=1;throw\"unwind\";},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>D?require(\"os\").cpus().length:navigator.hardwareConcurrency,M:function(a){a>>>=0;var b=t().length;if(a<=b||4294901760<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);var e=Math;d=Math.max(a,d);a:{e=(e.min.call(e,4294901760,d+(65536-d%65536)%65536)-m.buffer.byteLength+65535)/65536;try{m.grow(e);\np();var f=1;break a}catch(k){}f=void 0}if(f)return!0}return!1},fa:zc,ga:Ac,V:Wa,z:Bc,D:Cc,ca:Dc,C:Fc,a:m||A.wasmMemory,oa:Kc,p:function(a,b,c,d){return Kc(a>>>0,b>>>0,c>>>0,d>>>0)}},Z=function(){var a={a:Pc};K++;Na(a,function(b){var c=b.module;Z=b.instance.exports;Z=Qc();O.Eb.push(Z.Xa);eb=Z._a;Da.unshift(Z.sa);xa=c;Ia()}).catch(ka);return{}}();A._OrtInit=(a,b)=>(A._OrtInit=Z.ta)(a,b);A._OrtGetLastError=(a,b)=>(A._OrtGetLastError=Z.ua)(a,b);\nA._OrtCreateSessionOptions=(a,b,c,d,e,f,k,l,q,r)=>(A._OrtCreateSessionOptions=Z.va)(a,b,c,d,e,f,k,l,q,r);A._OrtAppendExecutionProvider=(a,b)=>(A._OrtAppendExecutionProvider=Z.wa)(a,b);A._OrtAddFreeDimensionOverride=(a,b,c)=>(A._OrtAddFreeDimensionOverride=Z.xa)(a,b,c);A._OrtAddSessionConfigEntry=(a,b,c)=>(A._OrtAddSessionConfigEntry=Z.ya)(a,b,c);A._OrtReleaseSessionOptions=a=>(A._OrtReleaseSessionOptions=Z.za)(a);A._OrtCreateSession=(a,b,c)=>(A._OrtCreateSession=Z.Aa)(a,b,c);\nA._OrtReleaseSession=a=>(A._OrtReleaseSession=Z.Ba)(a);A._OrtGetInputOutputCount=(a,b,c)=>(A._OrtGetInputOutputCount=Z.Ca)(a,b,c);A._OrtGetInputName=(a,b)=>(A._OrtGetInputName=Z.Da)(a,b);A._OrtGetOutputName=(a,b)=>(A._OrtGetOutputName=Z.Ea)(a,b);A._OrtFree=a=>(A._OrtFree=Z.Fa)(a);A._OrtCreateTensor=(a,b,c,d,e,f)=>(A._OrtCreateTensor=Z.Ga)(a,b,c,d,e,f);A._OrtGetTensorData=(a,b,c,d,e)=>(A._OrtGetTensorData=Z.Ha)(a,b,c,d,e);A._OrtReleaseTensor=a=>(A._OrtReleaseTensor=Z.Ia)(a);\nA._OrtCreateRunOptions=(a,b,c,d)=>(A._OrtCreateRunOptions=Z.Ja)(a,b,c,d);A._OrtAddRunConfigEntry=(a,b,c)=>(A._OrtAddRunConfigEntry=Z.Ka)(a,b,c);A._OrtReleaseRunOptions=a=>(A._OrtReleaseRunOptions=Z.La)(a);A._OrtCreateBinding=a=>(A._OrtCreateBinding=Z.Ma)(a);A._OrtBindInput=(a,b,c)=>(A._OrtBindInput=Z.Na)(a,b,c);A._OrtBindOutput=(a,b,c,d)=>(A._OrtBindOutput=Z.Oa)(a,b,c,d);A._OrtClearBoundOutputs=a=>(A._OrtClearBoundOutputs=Z.Pa)(a);A._OrtReleaseBinding=a=>(A._OrtReleaseBinding=Z.Qa)(a);\nA._OrtRunWithBinding=(a,b,c,d,e)=>(A._OrtRunWithBinding=Z.Ra)(a,b,c,d,e);A._OrtRun=(a,b,c,d,e,f,k,l)=>(A._OrtRun=Z.Sa)(a,b,c,d,e,f,k,l);A._OrtEndProfiling=a=>(A._OrtEndProfiling=Z.Ta)(a);var Za=A._pthread_self=()=>(Za=A._pthread_self=Z.Ua)(),uc=A._malloc=a=>(uc=A._malloc=Z.Va)(a),X=A._free=a=>(X=A._free=Z.Wa)(a);A.__emscripten_tls_init=()=>(A.__emscripten_tls_init=Z.Xa)();var bc=a=>(bc=Z.Ya)(a);A.__embind_initialize_bindings=()=>(A.__embind_initialize_bindings=Z.Za)();\nvar Oc=A.__emscripten_thread_init=(a,b,c,d,e,f)=>(Oc=A.__emscripten_thread_init=Z.$a)(a,b,c,d,e,f);A.__emscripten_thread_crashed=()=>(A.__emscripten_thread_crashed=Z.ab)();var $b=(a,b,c,d)=>($b=Z.bb)(a,b,c,d),Ya=a=>(Ya=Z.cb)(a),fb=A.__emscripten_thread_exit=a=>(fb=A.__emscripten_thread_exit=Z.db)(a),Wb=A.__emscripten_check_mailbox=()=>(Wb=A.__emscripten_check_mailbox=Z.eb)(),bb=(a,b)=>(bb=Z.fb)(a,b),Xb=()=>(Xb=Z.gb)(),cb=a=>(cb=Z.hb)(a),Zb=a=>(Zb=Z.ib)(a);\nfunction Qc(){var a=Z;a=Object.assign({},a);var b=d=>()=>d()>>>0,c=d=>e=>d(e)>>>0;a.__errno_location=b(a.__errno_location);a.Ua=b(a.Ua);a.Va=c(a.Va);a.Ya=c(a.Ya);a.gb=b(a.gb);a.ib=c(a.ib);return a}A.keepRuntimeAlive=Ga;A.wasmMemory=m;A.stackAlloc=Zb;A.stackSave=Xb;A.stackRestore=cb;A.UTF8ToString=Ta;A.stringToUTF8=pb;A.lengthBytesUTF8=nb;A.ExitStatus=Oa;A.PThread=O;var Rc;L=function Sc(){Rc||Tc();Rc||(L=Sc)};\nfunction Tc(){0<K||(E?(ja(A),E||ab(Da),startWorker(A)):(ab(Ca),0<K||Rc||(Rc=!0,A.calledRun=!0,ya||(E||ab(Da),ja(A),E||ab(Ea)))))}Tc();\n\n\n  return moduleArg.ready\n}\n\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n  module.exports = ortWasmThreaded;\nelse if (typeof define === 'function' && define['amd'])\n  define([], () => ortWasmThreaded);\n", "\"use strict\";var Module={},ENVIRONMENT_IS_NODE=typeof process==\"object\"&&typeof process.versions==\"object\"&&typeof process.versions.node==\"string\";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require(\"worker_threads\"),parentPort=nodeWorkerThreads.parentPort;parentPort.on(\"message\",e=>onmessage({data:e}));var fs=require(\"fs\");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,\"utf8\")+\"//# sourceURL=\"+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(\" \");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(\" \");postMessage({cmd:\"alert\",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd===\"load\"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:\"loaded\"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:\"callHandler\",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob==\"string\")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd===\"run\"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!=\"unwind\")throw a}}else e.data.cmd===\"cancel\"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target===\"setimmediate\"||(e.data.cmd===\"checkMailbox\"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport * as path from 'node:path';\nimport {Env} from 'onnxruntime-common';\n\nimport {OrtWasmModule} from './binding/ort-wasm';\nimport {OrtWasmThreadedModule} from './binding/ort-wasm-threaded';\n\n/* eslint-disable @typescript-eslint/no-require-imports */\nlet ortWasmFactory: EmscriptenModuleFactory<OrtWasmModule>;\n\nif (!BUILD_DEFS.DISABLE_TRAINING) {\n  ortWasmFactory = require('./binding/ort-training-wasm-simd.js');\n} else {\n  ortWasmFactory =\n      BUILD_DEFS.DISABLE_WEBGPU ? require('./binding/ort-wasm.js') : require('./binding/ort-wasm-simd.jsep.js');\n}\n\nconst ortWasmFactoryThreaded: EmscriptenModuleFactory<OrtWasmModule> = !BUILD_DEFS.DISABLE_WASM_THREAD ?\n    (BUILD_DEFS.DISABLE_WEBGPU ? require('./binding/ort-wasm-threaded.js') :\n                                 require('./binding/ort-wasm-simd-threaded.jsep.js')) :\n    ortWasmFactory;\n/* eslint-enable @typescript-eslint/no-require-imports */\n\nlet wasm: OrtWasmModule|undefined;\nlet initialized = false;\nlet initializing = false;\nlet aborted = false;\n\nconst isMultiThreadSupported = (): boolean => {\n  try {\n    // If 'SharedArrayBuffer' is not available, WebAssembly threads will not work.\n    if (typeof SharedArrayBuffer === 'undefined') {\n      return false;\n    }\n\n    // Test for transferability of SABs (for browsers. needed for Firefox)\n    // https://groups.google.com/forum/#!msg/mozilla.dev.platform/IHkBZlHETpA/dwsMNchWEQAJ\n    if (typeof MessageChannel !== 'undefined') {\n      new MessageChannel().port1.postMessage(new SharedArrayBuffer(1));\n    }\n\n    // Test for WebAssembly threads capability (for both browsers and Node.js)\n    // This typed array is a WebAssembly program containing threaded instructions.\n    return WebAssembly.validate(new Uint8Array([\n      0, 97, 115, 109, 1, 0,  0,  0, 1, 4, 1,  96, 0,   0,  3, 2, 1,  0, 5,\n      4, 1,  3,   1,   1, 10, 11, 1, 9, 0, 65, 0,  254, 16, 2, 0, 26, 11\n    ]));\n  } catch (e) {\n    return false;\n  }\n};\n\nconst isSimdSupported = (): boolean => {\n  try {\n    // Test for WebAssembly SIMD capability (for both browsers and Node.js)\n    // This typed array is a WebAssembly program containing SIMD instructions.\n\n    // The binary data is generated from the following code by wat2wasm:\n    //\n    // (module\n    //   (type $t0 (func))\n    //   (func $f0 (type $t0)\n    //     (drop\n    //       (i32x4.dot_i16x8_s\n    //         (i8x16.splat\n    //           (i32.const 0))\n    //         (v128.const i32x4 0x00000000 0x00000000 0x00000000 0x00000000)))))\n\n    return WebAssembly.validate(new Uint8Array([\n      0,   97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 10, 30, 1,   28,  0, 65, 0,\n      253, 15, 253, 12,  0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0,  0,  253, 186, 1, 26, 11\n    ]));\n  } catch (e) {\n    return false;\n  }\n};\n\nconst getWasmFileName = (useSimd: boolean, useThreads: boolean) => {\n  if (useSimd) {\n    if (!BUILD_DEFS.DISABLE_TRAINING) {\n      return 'ort-training-wasm-simd.wasm';\n    }\n    return useThreads ? 'ort-wasm-simd-threaded.wasm' : 'ort-wasm-simd.wasm';\n  } else {\n    return useThreads ? 'ort-wasm-threaded.wasm' : 'ort-wasm.wasm';\n  }\n};\n\nexport const initializeWebAssembly = async(flags: Env.WebAssemblyFlags): Promise<void> => {\n  if (initialized) {\n    return Promise.resolve();\n  }\n  if (initializing) {\n    throw new Error('multiple calls to \\'initializeWebAssembly()\\' detected.');\n  }\n  if (aborted) {\n    throw new Error('previous call to \\'initializeWebAssembly()\\' failed.');\n  }\n\n  initializing = true;\n\n  // wasm flags are already initialized\n  const timeout = flags.initTimeout!;\n  const numThreads = flags.numThreads!;\n  const simd = flags.simd!;\n\n  const useThreads = numThreads > 1 && isMultiThreadSupported();\n  const useSimd = simd && isSimdSupported();\n\n  const wasmPaths = flags.wasmPaths;\n  const wasmPrefixOverride = typeof wasmPaths === 'string' ? wasmPaths : undefined;\n  const wasmFileName = getWasmFileName(useSimd, useThreads);\n  const wasmPathOverride = typeof wasmPaths === 'object' ? wasmPaths[wasmFileName] : undefined;\n\n  let isTimeout = false;\n\n  const tasks: Array<Promise<void>> = [];\n\n  // promise for timeout\n  if (timeout > 0) {\n    tasks.push(new Promise((resolve) => {\n      setTimeout(() => {\n        isTimeout = true;\n        resolve();\n      }, timeout);\n    }));\n  }\n\n  // promise for module initialization\n  tasks.push(new Promise((resolve, reject) => {\n    const factory = useThreads ? ortWasmFactoryThreaded : ortWasmFactory;\n    const config: Partial<OrtWasmModule> = {\n      locateFile: (fileName: string, scriptDirectory: string) => {\n        if (!BUILD_DEFS.DISABLE_WASM_THREAD && useThreads && fileName.endsWith('.worker.js') &&\n            typeof Blob !== 'undefined') {\n          return URL.createObjectURL(new Blob(\n              [\n                // This require() function is handled by esbuild plugin to load file content as string.\n                // eslint-disable-next-line @typescript-eslint/no-require-imports\n                require('./binding/ort-wasm-threaded.worker.js')\n              ],\n              {type: 'text/javascript'}));\n        }\n\n        if (fileName.endsWith('.wasm')) {\n          if (wasmPathOverride) {\n            return wasmPathOverride;\n          }\n\n          const prefix = wasmPrefixOverride ?? scriptDirectory;\n\n          if (!BUILD_DEFS.DISABLE_WEBGPU) {\n            if (wasmFileName === 'ort-wasm-simd.wasm') {\n              return prefix + 'ort-wasm-simd.jsep.wasm';\n            } else if (wasmFileName === 'ort-wasm-simd-threaded.wasm') {\n              return prefix + 'ort-wasm-simd-threaded.jsep.wasm';\n            }\n          }\n\n          return prefix + wasmFileName;\n        }\n\n        return scriptDirectory + fileName;\n      }\n    };\n\n    if (!BUILD_DEFS.DISABLE_WASM_THREAD && useThreads) {\n      if (typeof Blob === 'undefined') {\n        config.mainScriptUrlOrBlob = path.join(__dirname, 'ort-wasm-threaded.js');\n      } else {\n        const scriptSourceCode = `var ortWasmThreaded=${factory.toString()};`;\n        config.mainScriptUrlOrBlob = new Blob([scriptSourceCode], {type: 'text/javascript'});\n      }\n    }\n\n    factory(config).then(\n        // wasm module initialized successfully\n        module => {\n          initializing = false;\n          initialized = true;\n          wasm = module;\n          resolve();\n        },\n        // wasm module failed to initialize\n        (what) => {\n          initializing = false;\n          aborted = true;\n          reject(what);\n        });\n  }));\n\n  await Promise.race(tasks);\n\n  if (isTimeout) {\n    throw new Error(`WebAssembly backend initializing failed due to timeout: ${timeout}ms`);\n  }\n};\n\nexport const getInstance = (): OrtWasmModule => {\n  if (initialized && wasm) {\n    return wasm;\n  }\n\n  throw new Error('WebAssembly is not initialized yet.');\n};\n\nexport const dispose = (): void => {\n  if (initialized && !initializing && !aborted) {\n    initializing = true;\n\n    (wasm as OrtWasmThreadedModule).PThread?.terminateAllThreads();\n    wasm = undefined;\n\n    initializing = false;\n    initialized = false;\n    aborted = true;\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {getInstance} from './wasm-factory';\n\nexport const allocWasmString = (data: string, allocs: number[]): number => {\n  const wasm = getInstance();\n\n  const dataLength = wasm.lengthBytesUTF8(data) + 1;\n  const dataOffset = wasm._malloc(dataLength);\n  wasm.stringToUTF8(data, dataOffset, dataLength);\n  allocs.push(dataOffset);\n\n  return dataOffset;\n};\n\ninterface ExtraOptionsHandler {\n  (name: string, value: string): void;\n}\n\nexport const iterateExtraOptions =\n    (options: Record<string, unknown>, prefix: string, seen: WeakSet<Record<string, unknown>>,\n     handler: ExtraOptionsHandler): void => {\n      if (typeof options == 'object' && options !== null) {\n        if (seen.has(options)) {\n          throw new Error('Circular reference in options');\n        } else {\n          seen.add(options);\n        }\n      }\n\n      Object.entries(options).forEach(([key, value]) => {\n        const name = (prefix) ? prefix + key : key;\n        if (typeof value === 'object') {\n          iterateExtraOptions(value as Record<string, unknown>, name + '.', seen, handler);\n        } else if (typeof value === 'string' || typeof value === 'number') {\n          handler(name, value.toString());\n        } else if (typeof value === 'boolean') {\n          handler(name, (value) ? '1' : '0');\n        } else {\n          throw new Error(`Can't handle extra config type: ${typeof value}`);\n        }\n      });\n    };\n\n/**\n * check web assembly API's last error and throw error if any error occurred.\n * @param message a message used when an error occurred.\n */\nexport const checkLastError = (message: string): void => {\n  const wasm = getInstance();\n\n  const stack = wasm.stackSave();\n  try {\n    const paramsOffset = wasm.stackAlloc(8);\n    wasm._OrtGetLastError(paramsOffset, paramsOffset + 4);\n    const errorCode = wasm.HEAP32[paramsOffset / 4];\n    const errorMessagePointer = wasm.HEAPU32[paramsOffset / 4 + 1];\n    const errorMessage = errorMessagePointer ? wasm.UTF8ToString(errorMessagePointer) : '';\n    throw new Error(`${message} ERROR_CODE: ${errorCode}, ERROR_MESSAGE: ${errorMessage}`);\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession} from 'onnxruntime-common';\n\nimport {getInstance} from './wasm-factory';\nimport {allocWasmString, checkLastError, iterateExtraOptions} from './wasm-utils';\n\nexport const setRunOptions = (options: InferenceSession.RunOptions): [number, number[]] => {\n  const wasm = getInstance();\n  let runOptionsHandle = 0;\n  const allocs: number[] = [];\n\n  const runOptions: InferenceSession.RunOptions = options || {};\n\n  try {\n    if (options?.logSeverityLevel === undefined) {\n      runOptions.logSeverityLevel = 2;  // Default to warning\n    } else if (\n        typeof options.logSeverityLevel !== 'number' || !Number.isInteger(options.logSeverityLevel) ||\n        options.logSeverityLevel < 0 || options.logSeverityLevel > 4) {\n      throw new Error(`log serverity level is not valid: ${options.logSeverityLevel}`);\n    }\n\n    if (options?.logVerbosityLevel === undefined) {\n      runOptions.logVerbosityLevel = 0;  // Default to 0\n    } else if (typeof options.logVerbosityLevel !== 'number' || !Number.isInteger(options.logVerbosityLevel)) {\n      throw new Error(`log verbosity level is not valid: ${options.logVerbosityLevel}`);\n    }\n\n    if (options?.terminate === undefined) {\n      runOptions.terminate = false;\n    }\n\n    let tagDataOffset = 0;\n    if (options?.tag !== undefined) {\n      tagDataOffset = allocWasmString(options.tag, allocs);\n    }\n\n    runOptionsHandle = wasm._OrtCreateRunOptions(\n        runOptions.logSeverityLevel!, runOptions.logVerbosityLevel!, !!runOptions.terminate!, tagDataOffset);\n    if (runOptionsHandle === 0) {\n      checkLastError('Can\\'t create run options.');\n    }\n\n    if (options?.extra !== undefined) {\n      iterateExtraOptions(options.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\n        const keyDataOffset = allocWasmString(key, allocs);\n        const valueDataOffset = allocWasmString(value, allocs);\n\n        if (wasm._OrtAddRunConfigEntry(runOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\n          checkLastError(`Can't set a run config entry: ${key} - ${value}.`);\n        }\n      });\n    }\n\n    return [runOptionsHandle, allocs];\n  } catch (e) {\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    allocs.forEach(alloc => wasm._free(alloc));\n    throw e;\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession} from 'onnxruntime-common';\n\nimport {getInstance} from './wasm-factory';\nimport {allocWasmString, checkLastError, iterateExtraOptions} from './wasm-utils';\n\nconst getGraphOptimzationLevel = (graphOptimizationLevel: string|unknown): number => {\n  switch (graphOptimizationLevel) {\n    case 'disabled':\n      return 0;\n    case 'basic':\n      return 1;\n    case 'extended':\n      return 2;\n    case 'all':\n      return 99;\n    default:\n      throw new Error(`unsupported graph optimization level: ${graphOptimizationLevel}`);\n  }\n};\n\nconst getExecutionMode = (executionMode: 'sequential'|'parallel'): number => {\n  switch (executionMode) {\n    case 'sequential':\n      return 0;\n    case 'parallel':\n      return 1;\n    default:\n      throw new Error(`unsupported execution mode: ${executionMode}`);\n  }\n};\n\nconst appendDefaultOptions = (options: InferenceSession.SessionOptions): void => {\n  if (!options.extra) {\n    options.extra = {};\n  }\n  if (!options.extra.session) {\n    options.extra.session = {};\n  }\n  const session = options.extra.session as Record<string, string>;\n  if (!session.use_ort_model_bytes_directly) {\n    // eslint-disable-next-line camelcase\n    session.use_ort_model_bytes_directly = '1';\n  }\n\n  // if using JSEP with WebGPU, always disable memory pattern\n  if (options.executionProviders &&\n      options.executionProviders.some(ep => (typeof ep === 'string' ? ep : ep.name) === 'webgpu')) {\n    options.enableMemPattern = false;\n  }\n};\n\nconst setExecutionProviders =\n    (sessionOptionsHandle: number, executionProviders: readonly InferenceSession.ExecutionProviderConfig[],\n     allocs: number[]): void => {\n      for (const ep of executionProviders) {\n        let epName = typeof ep === 'string' ? ep : ep.name;\n\n        // check EP name\n        switch (epName) {\n          case 'xnnpack':\n            epName = 'XNNPACK';\n            break;\n          case 'webnn':\n            epName = 'WEBNN';\n            if (typeof ep !== 'string') {\n              const webnnOptions = ep as InferenceSession.WebNNExecutionProviderOption;\n              if (webnnOptions?.deviceType) {\n                const keyDataOffset = allocWasmString('deviceType', allocs);\n                const valueDataOffset = allocWasmString(webnnOptions.deviceType, allocs);\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\n                    0) {\n                  checkLastError(`Can't set a session config entry: 'deviceType' - ${webnnOptions.deviceType}.`);\n                }\n              }\n              if (webnnOptions?.numThreads) {\n                let numThreads = webnnOptions.numThreads;\n                // Just ignore invalid webnnOptions.numThreads.\n                if (typeof numThreads != 'number' || !Number.isInteger(numThreads) || numThreads < 0) {\n                  numThreads = 0;\n                }\n                const keyDataOffset = allocWasmString('numThreads', allocs);\n                const valueDataOffset = allocWasmString(numThreads.toString(), allocs);\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\n                    0) {\n                  checkLastError(`Can't set a session config entry: 'numThreads' - ${webnnOptions.numThreads}.`);\n                }\n              }\n              if (webnnOptions?.powerPreference) {\n                const keyDataOffset = allocWasmString('powerPreference', allocs);\n                const valueDataOffset = allocWasmString(webnnOptions.powerPreference, allocs);\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\n                    0) {\n                  checkLastError(\n                      `Can't set a session config entry: 'powerPreference' - ${webnnOptions.powerPreference}.`);\n                }\n              }\n            }\n            break;\n          case 'webgpu':\n            epName = 'JS';\n            if (typeof ep !== 'string') {\n              const webgpuOptions = ep as InferenceSession.WebGpuExecutionProviderOption;\n              if (webgpuOptions?.preferredLayout) {\n                if (webgpuOptions.preferredLayout !== 'NCHW' && webgpuOptions.preferredLayout !== 'NHWC') {\n                  throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${webgpuOptions.preferredLayout}`);\n                }\n                const keyDataOffset = allocWasmString('preferredLayout', allocs);\n                const valueDataOffset = allocWasmString(webgpuOptions.preferredLayout, allocs);\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\n                    0) {\n                  checkLastError(\n                      `Can't set a session config entry: 'preferredLayout' - ${webgpuOptions.preferredLayout}.`);\n                }\n              }\n            }\n            break;\n          case 'wasm':\n          case 'cpu':\n            continue;\n          default:\n            throw new Error(`not supported execution provider: ${epName}`);\n        }\n\n        const epNameDataOffset = allocWasmString(epName, allocs);\n        if (getInstance()._OrtAppendExecutionProvider(sessionOptionsHandle, epNameDataOffset) !== 0) {\n          checkLastError(`Can't append execution provider: ${epName}.`);\n        }\n      }\n    };\n\nexport const setSessionOptions = (options?: InferenceSession.SessionOptions): [number, number[]] => {\n  const wasm = getInstance();\n  let sessionOptionsHandle = 0;\n  const allocs: number[] = [];\n\n  const sessionOptions: InferenceSession.SessionOptions = options || {};\n  appendDefaultOptions(sessionOptions);\n\n  try {\n    const graphOptimizationLevel = getGraphOptimzationLevel(sessionOptions.graphOptimizationLevel ?? 'all');\n    const executionMode = getExecutionMode(sessionOptions.executionMode ?? 'sequential');\n    const logIdDataOffset =\n        typeof sessionOptions.logId === 'string' ? allocWasmString(sessionOptions.logId, allocs) : 0;\n\n    const logSeverityLevel = sessionOptions.logSeverityLevel ?? 2;  // Default to 2 - warning\n    if (!Number.isInteger(logSeverityLevel) || logSeverityLevel < 0 || logSeverityLevel > 4) {\n      throw new Error(`log serverity level is not valid: ${logSeverityLevel}`);\n    }\n\n    const logVerbosityLevel = sessionOptions.logVerbosityLevel ?? 0;  // Default to 0 - verbose\n    if (!Number.isInteger(logVerbosityLevel) || logVerbosityLevel < 0 || logVerbosityLevel > 4) {\n      throw new Error(`log verbosity level is not valid: ${logVerbosityLevel}`);\n    }\n\n    const optimizedModelFilePathOffset = typeof sessionOptions.optimizedModelFilePath === 'string' ?\n        allocWasmString(sessionOptions.optimizedModelFilePath, allocs) :\n        0;\n\n    sessionOptionsHandle = wasm._OrtCreateSessionOptions(\n        graphOptimizationLevel, !!sessionOptions.enableCpuMemArena, !!sessionOptions.enableMemPattern, executionMode,\n        !!sessionOptions.enableProfiling, 0, logIdDataOffset, logSeverityLevel, logVerbosityLevel,\n        optimizedModelFilePathOffset);\n    if (sessionOptionsHandle === 0) {\n      checkLastError('Can\\'t create session options.');\n    }\n\n    if (sessionOptions.executionProviders) {\n      setExecutionProviders(sessionOptionsHandle, sessionOptions.executionProviders, allocs);\n    }\n\n    if (sessionOptions.freeDimensionOverrides) {\n      for (const [name, value] of Object.entries(sessionOptions.freeDimensionOverrides)) {\n        if (typeof name !== 'string') {\n          throw new Error(`free dimension override name must be a string: ${name}`);\n        }\n        if (typeof value !== 'number' || !Number.isInteger(value) || value < 0) {\n          throw new Error(`free dimension override value must be a non-negative integer: ${value}`);\n        }\n        const nameOffset = allocWasmString(name, allocs);\n        if (wasm._OrtAddFreeDimensionOverride(sessionOptionsHandle, nameOffset, value) !== 0) {\n          checkLastError(`Can't set a free dimension override: ${name} - ${value}.`);\n        }\n      }\n    }\n\n    if (sessionOptions.extra !== undefined) {\n      iterateExtraOptions(sessionOptions.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\n        const keyDataOffset = allocWasmString(key, allocs);\n        const valueDataOffset = allocWasmString(value, allocs);\n\n        if (wasm._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\n          checkLastError(`Can't set a session config entry: ${key} - ${value}.`);\n        }\n      });\n    }\n\n    return [sessionOptionsHandle, allocs];\n  } catch (e) {\n    if (sessionOptionsHandle !== 0) {\n      wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\n    }\n    allocs.forEach(alloc => wasm._free(alloc));\n    throw e;\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {Tensor} from 'onnxruntime-common';\n\n// This file includes common definitions. They do NOT have dependency on the WebAssembly instance.\n\n/**\n * Copied from ONNX definition. Use this to drop dependency 'onnx_proto' to decrease compiled .js file size.\n */\nexport const enum DataType {\n  undefined = 0,\n  float = 1,\n  uint8 = 2,\n  int8 = 3,\n  uint16 = 4,\n  int16 = 5,\n  int32 = 6,\n  int64 = 7,\n  string = 8,\n  bool = 9,\n  float16 = 10,\n  double = 11,\n  uint32 = 12,\n  uint64 = 13,\n  complex64 = 14,\n  complex128 = 15,\n  bfloat16 = 16\n}\n\n/**\n * Map string tensor data to enum value\n */\nexport const tensorDataTypeStringToEnum = (type: string): DataType => {\n  switch (type) {\n    case 'int8':\n      return DataType.int8;\n    case 'uint8':\n      return DataType.uint8;\n    case 'bool':\n      return DataType.bool;\n    case 'int16':\n      return DataType.int16;\n    case 'uint16':\n      return DataType.uint16;\n    case 'int32':\n      return DataType.int32;\n    case 'uint32':\n      return DataType.uint32;\n    case 'float16':\n      return DataType.float16;\n    case 'float32':\n      return DataType.float;\n    case 'float64':\n      return DataType.double;\n    case 'string':\n      return DataType.string;\n    case 'int64':\n      return DataType.int64;\n    case 'uint64':\n      return DataType.uint64;\n\n    default:\n      throw new Error(`unsupported data type: ${type}`);\n  }\n};\n\n/**\n * Map enum value to string tensor data\n */\nexport const tensorDataTypeEnumToString = (typeProto: DataType): Tensor.Type => {\n  switch (typeProto) {\n    case DataType.int8:\n      return 'int8';\n    case DataType.uint8:\n      return 'uint8';\n    case DataType.bool:\n      return 'bool';\n    case DataType.int16:\n      return 'int16';\n    case DataType.uint16:\n      return 'uint16';\n    case DataType.int32:\n      return 'int32';\n    case DataType.uint32:\n      return 'uint32';\n    case DataType.float16:\n      return 'float16';\n    case DataType.float:\n      return 'float32';\n    case DataType.double:\n      return 'float64';\n    case DataType.string:\n      return 'string';\n    case DataType.int64:\n      return 'int64';\n    case DataType.uint64:\n      return 'uint64';\n\n    default:\n      throw new Error(`unsupported data type: ${typeProto}`);\n  }\n};\n\n/**\n * get tensor element size in bytes by the given data type\n * @returns size in integer or undefined if the data type is not supported\n */\nexport const getTensorElementSize = (dateType: number): number|\n    undefined => [undefined, 4, 1, 1, 2, 2, 4, 8, undefined, 1, 2, 8, 4, 8, undefined, undefined, undefined][dateType];\n\n/**\n * get typed array constructor by the given tensor type\n */\nexport const tensorTypeToTypedArrayConstructor = (type: Tensor.Type): Float32ArrayConstructor|Uint8ArrayConstructor|\n    Int8ArrayConstructor|Uint16ArrayConstructor|Int16ArrayConstructor|Int32ArrayConstructor|BigInt64ArrayConstructor|\n    Uint8ArrayConstructor|Float64ArrayConstructor|Uint32ArrayConstructor|BigUint64ArrayConstructor => {\n      switch (type) {\n        case 'float16':\n          return Uint16Array;\n        case 'float32':\n          return Float32Array;\n        case 'uint8':\n          return Uint8Array;\n        case 'int8':\n          return Int8Array;\n        case 'uint16':\n          return Uint16Array;\n        case 'int16':\n          return Int16Array;\n        case 'int32':\n          return Int32Array;\n        case 'bool':\n          return Uint8Array;\n        case 'float64':\n          return Float64Array;\n        case 'uint32':\n          return Uint32Array;\n        case 'int64':\n          return BigInt64Array;\n        case 'uint64':\n          return BigUint64Array;\n        default:\n          throw new Error(`unsupported type: ${type}`);\n      }\n    };\n\n/**\n * Map string log level to integer value\n */\nexport const logLevelStringToEnum = (logLevel?: 'verbose'|'info'|'warning'|'error'|'fatal'): number => {\n  switch (logLevel) {\n    case 'verbose':\n      return 0;\n    case 'info':\n      return 1;\n    case 'warning':\n      return 2;\n    case 'error':\n      return 3;\n    case 'fatal':\n      return 4;\n    default:\n      throw new Error(`unsupported logging level: ${logLevel}`);\n  }\n};\n\n/**\n * Check whether the given tensor type is supported by GPU buffer\n */\nexport const isGpuBufferSupportedType = (type: Tensor.Type): type is Tensor.GpuBufferDataTypes => type === 'float32' ||\n    type === 'int32' || type === 'int64' || type === 'bool' || type === 'float16' || type === 'uint32';\n\n/**\n * Map string data location to integer value\n */\nexport const dataLocationStringToEnum = (location: Tensor.DataLocation): number => {\n  switch (location) {\n    case 'none':\n      return 0;\n    case 'cpu':\n      return 1;\n    case 'cpu-pinned':\n      return 2;\n    case 'texture':\n      return 3;\n    case 'gpu-buffer':\n      return 4;\n    default:\n      throw new Error(`unsupported data location: ${location}`);\n  }\n};\n\n/**\n * Map integer data location to string value\n */\nexport const dataLocationEnumToString = (location: number): Tensor.DataLocation|undefined =>\n    (['none', 'cpu', 'cpu-pinned', 'texture', 'gpu-buffer'] as const)[location];\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {Env, InferenceSession, Tensor} from 'onnxruntime-common';\n\nimport {SerializableInternalBuffer, SerializableSessionMetadata, SerializableTensorMetadata, TensorMetadata} from './proxy-messages';\nimport {setRunOptions} from './run-options';\nimport {setSessionOptions} from './session-options';\nimport {dataLocationStringToEnum, getTensorElementSize, isGpuBufferSupportedType, logLevelStringToEnum, tensorDataTypeEnumToString, tensorDataTypeStringToEnum, tensorTypeToTypedArrayConstructor} from './wasm-common';\nimport {getInstance} from './wasm-factory';\nimport {allocWasmString, checkLastError} from './wasm-utils';\n\n// #region Initializations\n\n/**\n * There are 4 different \"initialization\" steps for ORT. They happen in different places and different time.\n *\n * 1. JavaScript initialization for onnxruntime-common and onnxruntime-web.\n *    This is the first initialization step. In this step, onnxruntime-web calls onnxruntime-common's registerBackend()\n * function multiple times to register all the available backends. The backend registration is very fast. It only\n * registers the backend name with the uninitialized backend object. No heavy initialization is done in this step.\n *    Refer to web/lib/index.ts for the backend registration.\n *\n * 2. WebAssembly artifact initialization.\n *    This happens when any registered wasm backend is used for the first time (ie. `ort.InferenceSession.create()` or\n * `ort.TrainingSession.create()` is called). In this step, onnxruntime-web does the followings:\n *     - create a proxy worker and make sure the proxy worker is ready to receive messages, if proxy is enabled.\n *     - perform feature detection, locate correct WebAssembly artifact path and call the Emscripten generated\n * JavaScript code to initialize the WebAssembly runtime.\n *         - if proxy is enabled, this step happens in the proxy worker using message 'init-wasm'.\n *         - downloading the 'ort-wasm{...}.wasm' file is done in this step.\n *         - if multi-thread is enabled, one or more webworker will be created to initialize the PThread threadpool.\n *\n * 3. ORT environment initialization.\n *    This happens after step 2. In this step, onnxruntime-web performs ONNX Runtime environment initialization.\n * Function `_OrtInit()` is called in this step.\n *     - if proxy is enabled, this step happens in the proxy worker using message 'init-ort'.\n *     - logging level (ort.env.logLevel) and thread number (ort.env.wasm.numThreads) are set in this step.\n *\n * 4. Session initialization.\n *    This happens when `ort.InferenceSession.create()` or `ort.TrainingSession.create()` is called. Unlike the first 3\n * steps (they only called once), this step will be done for each session. In this step, onnxruntime-web does the\n * followings:\n *    If the parameter is a URL:\n *    - download the model data from the URL.\n *    - copy the model data to the WASM heap. (proxy: 'copy-from')\n *    - dereference the model buffer. This step allows the original ArrayBuffer to be garbage collected.\n *    - call `_OrtCreateSession()` to create the session. (proxy: 'create')\n *\n *    If the parameter is a Uint8Array object:\n *    - copy the model data to the WASM heap. (proxy: 'copy-from')\n *    - call `_OrtCreateSession()` to create the session. (proxy: 'create')\n *\n *\n */\n\n/**\n * initialize ORT environment.\n *\n * @param numThreads SetGlobalIntraOpNumThreads(numThreads)\n * @param loggingLevel CreateEnv(static_cast<OrtLoggingLevel>(logging_level))\n */\nconst initOrt = (numThreads: number, loggingLevel: number): void => {\n  const errorCode = getInstance()._OrtInit(numThreads, loggingLevel);\n  if (errorCode !== 0) {\n    checkLastError('Can\\'t initialize onnxruntime.');\n  }\n};\n\n/**\n * intialize runtime environment.\n * @param env passed in the environment config object.\n */\nexport const initRuntime = async(env: Env): Promise<void> => {\n  // init ORT\n  initOrt(env.wasm.numThreads!, logLevelStringToEnum(env.logLevel));\n};\n\n/**\n * perform EP specific initialization.\n *\n * @param env\n * @param epName\n */\nexport const initEp = async(env: Env, epName: string): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WEBGPU && epName === 'webgpu') {\n    // perform WebGPU availability check\n    if (typeof navigator === 'undefined' || !navigator.gpu) {\n      throw new Error('WebGPU is not supported in current environment');\n    }\n    const adapter = await navigator.gpu.requestAdapter();\n    if (!adapter) {\n      throw new Error(\n          'Failed to get GPU adapter. You may need to enable flag \"--enable-unsafe-webgpu\" if you are using Chrome.');\n    }\n\n    if (!env.wasm.simd) {\n      throw new Error(\n          'Not supported for WebGPU=ON and SIMD=OFF. Please set `env.wasm.simd` to true when using `webgpu` EP');\n    }\n\n    // init JSEP if available\n\n    // eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires\n    const initJsep = require('./jsep/init').init;\n    await initJsep(getInstance(), env, adapter);\n  }\n};\n\n// #endregion Initializations\n\n/**\n * valid data locations for input/output tensors.\n */\ntype SupportedTensorDataLocationForInputOutput = 'cpu'|'cpu-pinned'|'gpu-buffer';\n\ntype IOBindingState = {\n  /**\n   * the handle of IO binding.\n   */\n  readonly handle: number;\n\n  /**\n   * the preferred location for each output tensor.\n   *\n   * value is one of 'cpu', 'cpu-pinned', 'gpu-buffer'.\n   */\n  readonly outputPreferredLocations: readonly SupportedTensorDataLocationForInputOutput[];\n\n  /**\n   * enum value of the preferred location for each output tensor.\n   */\n  readonly outputPreferredLocationsEncoded: readonly number[];\n};\n\n/**\n *  tuple elements are: InferenceSession ID; inputNamesUTF8Encoded; outputNamesUTF8Encoded; bindingState\n */\ntype SessionMetadata = [\n  inferenceSessionId: number, inputNamesUTF8Encoded: number[], outputNamesUTF8Encoded: number[],\n  bindingState: IOBindingState|null\n];\n\nconst activeSessions = new Map<number, SessionMetadata>();\n\n/**\n * get the input/output count of the session.\n * @param sessionHandle the handle representing the session. should be non-zero.\n * @returns a tuple including 2 numbers, representing the input count and output count.\n */\nconst getSessionInputOutputCount = (sessionHandle: number): [number, number] => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n  try {\n    const dataOffset = wasm.stackAlloc(8);\n    const errorCode = wasm._OrtGetInputOutputCount(sessionHandle, dataOffset, dataOffset + 4);\n    if (errorCode !== 0) {\n      checkLastError('Can\\'t get session input/output count.');\n    }\n    return [wasm.HEAP32[dataOffset / 4], wasm.HEAP32[dataOffset / 4 + 1]];\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n\n/**\n * allocate the memory and memcpy the external buffer.\n *\n * @param model - the external buffer containing the model data. Must not be the same buffer as the WASM heap.\n * @returns a 2-elements tuple - the pointer and size of the allocated buffer\n */\nexport const copyFromExternalBuffer = (model: Uint8Array): [number, number] => {\n  const wasm = getInstance();\n  const modelDataOffset = wasm._malloc(model.byteLength);\n  if (modelDataOffset === 0) {\n    throw new Error(`Can't create a session. failed to allocate a buffer of size ${model.byteLength}.`);\n  }\n  wasm.HEAPU8.set(model, modelDataOffset);\n  return [modelDataOffset, model.byteLength];\n};\n\n/**\n * create an inference session from a model data buffer.\n *\n * @param modelData - either a Uint8Array object representing the model data, or a 2-elements tuple containing the\n *     pointer and size of the model data buffer.\n * @param options an optional session options object.\n * @returns a 3-elements tuple containing [session handle, input names, output names]\n */\nexport const createSession =\n    (modelData: Uint8Array|SerializableInternalBuffer,\n     options?: InferenceSession.SessionOptions): SerializableSessionMetadata => {\n      let modelDataOffset: number, modelDataLength: number;\n      const wasm = getInstance();\n\n      if (Array.isArray(modelData)) {\n        // if model data is an array, it must be a 2-elements tuple containing the pointer and size of the model data\n        [modelDataOffset, modelDataLength] = modelData;\n      } else if (modelData.buffer === wasm.HEAPU8.buffer) {\n        // if model data uses the same buffer as the WASM heap, we don't need to copy it.\n        [modelDataOffset, modelDataLength] = [modelData.byteOffset, modelData.byteLength];\n      } else {\n        // otherwise, copy the model data to the WASM heap.\n        [modelDataOffset, modelDataLength] = copyFromExternalBuffer(modelData);\n      }\n\n      let sessionHandle = 0;\n      let sessionOptionsHandle = 0;\n      let ioBindingHandle = 0;\n      let allocs: number[] = [];\n      const inputNamesUTF8Encoded = [];\n      const outputNamesUTF8Encoded = [];\n\n      try {\n        [sessionOptionsHandle, allocs] = setSessionOptions(options);\n\n        sessionHandle = wasm._OrtCreateSession(modelDataOffset, modelDataLength, sessionOptionsHandle);\n        if (sessionHandle === 0) {\n          checkLastError('Can\\'t create a session.');\n        }\n\n        const [inputCount, outputCount] = getSessionInputOutputCount(sessionHandle);\n\n        const inputNames = [];\n        const outputNames = [];\n        const outputPreferredLocations: SupportedTensorDataLocationForInputOutput[] = [];\n        for (let i = 0; i < inputCount; i++) {\n          const name = wasm._OrtGetInputName(sessionHandle, i);\n          if (name === 0) {\n            checkLastError('Can\\'t get an input name.');\n          }\n          inputNamesUTF8Encoded.push(name);\n          inputNames.push(wasm.UTF8ToString(name));\n        }\n        for (let i = 0; i < outputCount; i++) {\n          const name = wasm._OrtGetOutputName(sessionHandle, i);\n          if (name === 0) {\n            checkLastError('Can\\'t get an output name.');\n          }\n          outputNamesUTF8Encoded.push(name);\n          const nameString = wasm.UTF8ToString(name);\n          outputNames.push(nameString);\n\n          if (!BUILD_DEFS.DISABLE_WEBGPU) {\n            const location = typeof options?.preferredOutputLocation === 'string' ?\n                options.preferredOutputLocation :\n                options?.preferredOutputLocation?.[nameString] ?? 'cpu';\n            if (location !== 'cpu' && location !== 'cpu-pinned' && location !== 'gpu-buffer') {\n              throw new Error(`Not supported preferred output location: ${location}.`);\n            }\n            outputPreferredLocations.push(location);\n          }\n        }\n\n        // use IO binding only when at least one output is preffered to be on GPU.\n        let bindingState: IOBindingState|null = null;\n        if (!BUILD_DEFS.DISABLE_WEBGPU && outputPreferredLocations.some(l => l === 'gpu-buffer')) {\n          ioBindingHandle = wasm._OrtCreateBinding(sessionHandle);\n          if (ioBindingHandle === 0) {\n            checkLastError('Can\\'t create IO binding.');\n          }\n\n          bindingState = {\n            handle: ioBindingHandle,\n            outputPreferredLocations,\n            outputPreferredLocationsEncoded: outputPreferredLocations.map(l => dataLocationStringToEnum(l)),\n          };\n        }\n\n        activeSessions.set(sessionHandle, [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, bindingState]);\n        return [sessionHandle, inputNames, outputNames];\n      } catch (e) {\n        inputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\n        outputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\n\n        if (ioBindingHandle !== 0) {\n          wasm._OrtReleaseBinding(ioBindingHandle);\n        }\n\n        if (sessionHandle !== 0) {\n          wasm._OrtReleaseSession(sessionHandle);\n        }\n        throw e;\n      } finally {\n        wasm._free(modelDataOffset);\n        if (sessionOptionsHandle !== 0) {\n          wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\n        }\n        allocs.forEach(alloc => wasm._free(alloc));\n      }\n    };\n\nexport const releaseSession = (sessionId: number): void => {\n  const wasm = getInstance();\n  const session = activeSessions.get(sessionId);\n  if (!session) {\n    throw new Error(`cannot release session. invalid session id: ${sessionId}`);\n  }\n  const [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, ioBindingState] = session;\n\n  if (ioBindingState) {\n    wasm._OrtReleaseBinding(ioBindingState.handle);\n  }\n\n  wasm.jsepUnregisterBuffers?.(sessionId);\n\n  inputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\n  outputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\n  wasm._OrtReleaseSession(sessionHandle);\n  activeSessions.delete(sessionId);\n};\n\nexport const prepareInputOutputTensor =\n    (tensor: TensorMetadata|null, tensorHandles: number[], allocs: number[], sessionId: number, index: number):\n        void => {\n          if (!tensor) {\n            tensorHandles.push(0);\n            return;\n          }\n\n          const wasm = getInstance();\n\n          const dataType = tensor[0];\n          const dims = tensor[1];\n          const location = tensor[3];\n\n          let rawData: number;\n          let dataByteLength: number;\n\n          if (dataType === 'string' && location === 'gpu-buffer') {\n            throw new Error('String tensor is not supported on GPU.');\n          }\n\n          if (location === 'gpu-buffer') {\n            const gpuBuffer = tensor[2].gpuBuffer as GPUBuffer;\n            const elementSizeInBytes = getTensorElementSize(tensorDataTypeStringToEnum(dataType))!;\n            dataByteLength = dims.reduce((a, b) => a * b, 1) * elementSizeInBytes;\n            rawData = wasm.jsepRegisterBuffer(sessionId, index, gpuBuffer, dataByteLength);\n          } else {\n            const data = tensor[2];\n\n            if (Array.isArray(data)) {\n              // string tensor\n              dataByteLength = 4 * data.length;\n              rawData = wasm._malloc(dataByteLength);\n              allocs.push(rawData);\n              let dataIndex = rawData / 4;\n              for (let i = 0; i < data.length; i++) {\n                if (typeof data[i] !== 'string') {\n                  throw new TypeError(`tensor data at index ${i} is not a string`);\n                }\n                wasm.HEAPU32[dataIndex++] = allocWasmString(data[i], allocs);\n              }\n            } else {\n              dataByteLength = data.byteLength;\n              rawData = wasm._malloc(dataByteLength);\n              allocs.push(rawData);\n              wasm.HEAPU8.set(new Uint8Array(data.buffer, data.byteOffset, dataByteLength), rawData);\n            }\n          }\n\n          const stack = wasm.stackSave();\n          const dimsOffset = wasm.stackAlloc(4 * dims.length);\n          try {\n            let dimIndex = dimsOffset / 4;\n            dims.forEach(d => wasm.HEAP32[dimIndex++] = d);\n            const tensor = wasm._OrtCreateTensor(\n                tensorDataTypeStringToEnum(dataType), rawData, dataByteLength, dimsOffset, dims.length,\n                dataLocationStringToEnum(location));\n            if (tensor === 0) {\n              checkLastError(`Can't create tensor for input/output. session=${sessionId}, index=${index}.`);\n            }\n            tensorHandles.push(tensor);\n          } finally {\n            wasm.stackRestore(stack);\n          }\n        };\n\n/**\n * perform inference run\n */\nexport const run = async(\n    sessionId: number, inputIndices: number[], inputTensors: TensorMetadata[], outputIndices: number[],\n    outputTensors: Array<TensorMetadata|null>, options: InferenceSession.RunOptions): Promise<TensorMetadata[]> => {\n  const wasm = getInstance();\n  const session = activeSessions.get(sessionId);\n  if (!session) {\n    throw new Error(`cannot run inference. invalid session id: ${sessionId}`);\n  }\n  const [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, ioBindingState] = session;\n\n  const inputCount = inputIndices.length;\n  const outputCount = outputIndices.length;\n\n  let runOptionsHandle = 0;\n  let runOptionsAllocs: number[] = [];\n\n  const inputTensorHandles: number[] = [];\n  const outputTensorHandles: number[] = [];\n  const inputOutputAllocs: number[] = [];\n\n  const beforeRunStack = wasm.stackSave();\n  const inputValuesOffset = wasm.stackAlloc(inputCount * 4);\n  const inputNamesOffset = wasm.stackAlloc(inputCount * 4);\n  const outputValuesOffset = wasm.stackAlloc(outputCount * 4);\n  const outputNamesOffset = wasm.stackAlloc(outputCount * 4);\n\n  try {\n    [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\n\n    // create input tensors\n    for (let i = 0; i < inputCount; i++) {\n      prepareInputOutputTensor(inputTensors[i], inputTensorHandles, inputOutputAllocs, sessionId, inputIndices[i]);\n    }\n\n    // create output tensors\n    for (let i = 0; i < outputCount; i++) {\n      prepareInputOutputTensor(\n          outputTensors[i], outputTensorHandles, inputOutputAllocs, sessionId, inputCount + outputIndices[i]);\n    }\n\n    let inputValuesIndex = inputValuesOffset / 4;\n    let inputNamesIndex = inputNamesOffset / 4;\n    let outputValuesIndex = outputValuesOffset / 4;\n    let outputNamesIndex = outputNamesOffset / 4;\n    for (let i = 0; i < inputCount; i++) {\n      wasm.HEAPU32[inputValuesIndex++] = inputTensorHandles[i];\n      wasm.HEAPU32[inputNamesIndex++] = inputNamesUTF8Encoded[inputIndices[i]];\n    }\n    for (let i = 0; i < outputCount; i++) {\n      wasm.HEAPU32[outputValuesIndex++] = outputTensorHandles[i];\n      wasm.HEAPU32[outputNamesIndex++] = outputNamesUTF8Encoded[outputIndices[i]];\n    }\n\n    if (!BUILD_DEFS.DISABLE_WEBGPU && ioBindingState) {\n      const {handle, outputPreferredLocations, outputPreferredLocationsEncoded} = ioBindingState;\n\n      if (inputNamesUTF8Encoded.length !== inputCount) {\n        throw new Error(`input count from feeds (${\n            inputCount}) is expected to be always equal to model's input count (${inputNamesUTF8Encoded.length}).`);\n      }\n\n      // process inputs\n      for (let i = 0; i < inputCount; i++) {\n        const index = inputIndices[i];\n        const errorCode = await wasm._OrtBindInput(handle, inputNamesUTF8Encoded[index], inputTensorHandles[i]);\n        if (errorCode !== 0) {\n          checkLastError(`Can't bind input[${i}] for session=${sessionId}.`);\n        }\n      }\n\n      // process pre-allocated outputs\n      for (let i = 0; i < outputCount; i++) {\n        const index = outputIndices[i];\n        const location = outputTensors[i]?.[3];  // undefined means output is not pre-allocated.\n\n        if (location) {\n          // output is pre-allocated. bind the tensor.\n          const errorCode = wasm._OrtBindOutput(handle, outputNamesUTF8Encoded[index], outputTensorHandles[i], 0);\n          if (errorCode !== 0) {\n            checkLastError(`Can't bind pre-allocated output[${i}] for session=${sessionId}.`);\n          }\n        } else {\n          // output is not pre-allocated. reset preferred location.\n          const errorCode =\n              wasm._OrtBindOutput(handle, outputNamesUTF8Encoded[index], 0, outputPreferredLocationsEncoded[index]);\n          if (errorCode !== 0) {\n            checkLastError(`Can't bind output[${i}] to ${outputPreferredLocations[i]} for session=${sessionId}.`);\n          }\n        }\n      }\n    }\n\n    let errorCode: number;\n\n    if (!BUILD_DEFS.DISABLE_WEBGPU && ioBindingState) {\n      errorCode = await wasm._OrtRunWithBinding(\n          sessionHandle, ioBindingState.handle, outputCount, outputValuesOffset, runOptionsHandle);\n    } else {\n      errorCode = await wasm._OrtRun(\n          sessionHandle, inputNamesOffset, inputValuesOffset, inputCount, outputNamesOffset, outputCount,\n          outputValuesOffset, runOptionsHandle);\n    }\n\n    if (errorCode !== 0) {\n      checkLastError('failed to call OrtRun().');\n    }\n\n    const output: TensorMetadata[] = [];\n\n    for (let i = 0; i < outputCount; i++) {\n      const tensor = wasm.HEAPU32[outputValuesOffset / 4 + i];\n      if (tensor === outputTensorHandles[i]) {\n        // output tensor is pre-allocated. no need to copy data.\n        output.push(outputTensors[i]!);\n        continue;\n      }\n\n      const beforeGetTensorDataStack = wasm.stackSave();\n      // stack allocate 4 pointer value\n      const tensorDataOffset = wasm.stackAlloc(4 * 4);\n\n      let keepOutputTensor = false;\n      let type: Tensor.Type|undefined, dataOffset = 0;\n      try {\n        const errorCode = wasm._OrtGetTensorData(\n            tensor, tensorDataOffset, tensorDataOffset + 4, tensorDataOffset + 8, tensorDataOffset + 12);\n        if (errorCode !== 0) {\n          checkLastError(`Can't access output tensor data on index ${i}.`);\n        }\n        let tensorDataIndex = tensorDataOffset / 4;\n        const dataType = wasm.HEAPU32[tensorDataIndex++];\n        dataOffset = wasm.HEAPU32[tensorDataIndex++];\n        const dimsOffset = wasm.HEAPU32[tensorDataIndex++];\n        const dimsLength = wasm.HEAPU32[tensorDataIndex++];\n        const dims = [];\n        for (let i = 0; i < dimsLength; i++) {\n          dims.push(wasm.HEAPU32[dimsOffset / 4 + i]);\n        }\n        wasm._OrtFree(dimsOffset);\n\n        const size = dims.reduce((a, b) => a * b, 1);\n        type = tensorDataTypeEnumToString(dataType);\n\n        const preferredLocation = ioBindingState?.outputPreferredLocations[outputIndices[i]];\n\n        if (type === 'string') {\n          if (preferredLocation === 'gpu-buffer') {\n            throw new Error('String tensor is not supported on GPU.');\n          }\n          const stringData: string[] = [];\n          let dataIndex = dataOffset / 4;\n          for (let i = 0; i < size; i++) {\n            const offset = wasm.HEAPU32[dataIndex++];\n            const maxBytesToRead = i === size - 1 ? undefined : wasm.HEAPU32[dataIndex] - offset;\n            stringData.push(wasm.UTF8ToString(offset, maxBytesToRead));\n          }\n          output.push([type, dims, stringData, 'cpu']);\n        } else {\n          // If a certain output's preferred location is GPU but the tensor is empty, we still need to create a CPU\n          // tensor for it. There is no mapping GPU buffer for an empty tensor.\n          if (preferredLocation === 'gpu-buffer' && size > 0) {\n            const gpuBuffer = wasm.jsepGetBuffer(dataOffset);\n            const elementSize = getTensorElementSize(dataType);\n            if (elementSize === undefined || !isGpuBufferSupportedType(type)) {\n              throw new Error(`Unsupported data type: ${type}`);\n            }\n\n            // do not release the tensor right now. it will be released when user calls tensor.dispose().\n            keepOutputTensor = true;\n\n            output.push([\n              type, dims, {\n                gpuBuffer,\n                download: wasm.jsepCreateDownloader(gpuBuffer, size * elementSize, type),\n                dispose: () => {\n                  wasm._OrtReleaseTensor(tensor);\n                }\n              },\n              'gpu-buffer'\n            ]);\n          } else {\n            const typedArrayConstructor = tensorTypeToTypedArrayConstructor(type);\n            const data = new typedArrayConstructor(size);\n            new Uint8Array(data.buffer, data.byteOffset, data.byteLength)\n                .set(wasm.HEAPU8.subarray(dataOffset, dataOffset + data.byteLength));\n            output.push([type, dims, data, 'cpu']);\n          }\n        }\n      } finally {\n        wasm.stackRestore(beforeGetTensorDataStack);\n        if (type === 'string' && dataOffset) {\n          wasm._free(dataOffset);\n        }\n        if (!keepOutputTensor) {\n          wasm._OrtReleaseTensor(tensor);\n        }\n      }\n    }\n\n    if (ioBindingState) {\n      wasm._OrtClearBoundOutputs(ioBindingState.handle);\n    }\n\n    return output;\n  } finally {\n    wasm.stackRestore(beforeRunStack);\n\n    inputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\n    outputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\n    inputOutputAllocs.forEach(p => wasm._free(p));\n\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    runOptionsAllocs.forEach(p => wasm._free(p));\n  }\n};\n\n/**\n * end profiling\n */\nexport const endProfiling = (sessionId: number): void => {\n  const wasm = getInstance();\n  const session = activeSessions.get(sessionId);\n  if (!session) {\n    throw new Error('invalid session id');\n  }\n  const sessionHandle = session[0];\n\n  // profile file name is not used yet, but it must be freed.\n  const profileFileName = wasm._OrtEndProfiling(sessionHandle);\n  if (profileFileName === 0) {\n    checkLastError('Can\\'t get an profile file name.');\n  }\n  wasm._OrtFree(profileFileName);\n};\n\nexport const extractTransferableBuffers = (tensors: readonly SerializableTensorMetadata[]): ArrayBufferLike[] => {\n  const buffers: ArrayBufferLike[] = [];\n  for (const tensor of tensors) {\n    const data = tensor[2];\n    if (!Array.isArray(data) && 'buffer' in data) {\n      buffers.push(data.buffer);\n    }\n  }\n  return buffers;\n};\n", "/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\"use strict\";(()=>{var Wt=Object.defineProperty;var kn=Object.getOwnPropertyDescriptor;var Wn=Object.getOwnPropertyNames;var Hn=Object.prototype.hasOwnProperty;var Ht=(f,h)=>()=>(f&&(h=f(f=0)),h);var lt=(f,h)=>()=>(h||f((h={exports:{}}).exports,h),h.exports),Nt=(f,h)=>{for(var o in h)Wt(f,o,{get:h[o],enumerable:!0})},Nn=(f,h,o,y)=>{if(h&&typeof h==\"object\"||typeof h==\"function\")for(let v of Wn(h))!Hn.call(f,v)&&v!==o&&Wt(f,v,{get:()=>h[v],enumerable:!(y=kn(h,v))||y.enumerable});return f};var ct=f=>Nn(Wt({},\"__esModule\",{value:!0}),f);var jt={};Nt(jt,{readFile:()=>jn});var jn,zt=Ht(()=>{jn=void 0});var $t={};Nt($t,{join:()=>zn});var zn,Gt=Ht(()=>{zn=void 0});var Hr=lt((Wr,Yt)=>{\"use strict\";var kr=(()=>{var f=typeof document<\"u\"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<\"u\"&&(f=f||__filename),function(h={}){var o=h,y,v;o.ready=new Promise((n,i)=>{y=n,v=i});var T=Object.assign({},o),c=\"./this.program\",_=typeof window==\"object\",P=typeof importScripts==\"function\",l=typeof process==\"object\"&&typeof process.versions==\"object\"&&typeof process.versions.node==\"string\",x=\"\",W,U,B;if(l){var j=(zt(),ct(jt)),V=(Gt(),ct($t));x=P?V.dirname(x)+\"/\":__dirname+\"/\",W=(n,i)=>(n=n.startsWith(\"file://\")?new URL(n):V.normalize(n),j.readFileSync(n,i?void 0:\"utf8\")),B=n=>(n=W(n,!0),n.buffer||(n=new Uint8Array(n)),n),U=(n,i,s,m=!0)=>{n=n.startsWith(\"file://\")?new URL(n):V.normalize(n),j.readFile(n,m?void 0:\"utf8\",(w,S)=>{w?s(w):i(m?S.buffer:S)})},!o.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,\"/\")),process.argv.slice(2),o.inspect=()=>\"[Emscripten Module object]\"}else(_||P)&&(P?x=self.location.href:typeof document<\"u\"&&document.currentScript&&(x=document.currentScript.src),f&&(x=f),x.indexOf(\"blob:\")!==0?x=x.substr(0,x.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):x=\"\",W=n=>{var i=new XMLHttpRequest;return i.open(\"GET\",n,!1),i.send(null),i.responseText},P&&(B=n=>{var i=new XMLHttpRequest;return i.open(\"GET\",n,!1),i.responseType=\"arraybuffer\",i.send(null),new Uint8Array(i.response)}),U=(n,i,s)=>{var m=new XMLHttpRequest;m.open(\"GET\",n,!0),m.responseType=\"arraybuffer\",m.onload=()=>{m.status==200||m.status==0&&m.response?i(m.response):s()},m.onerror=s,m.send(null)});var $=o.print||console.log.bind(console),L=o.printErr||console.error.bind(console);Object.assign(o,T),T=null,o.thisProgram&&(c=o.thisProgram);var A;o.wasmBinary&&(A=o.wasmBinary);var se=o.noExitRuntime||!0;typeof WebAssembly!=\"object\"&&z(\"no native wasm support detected\");var we,E,_e=!1,ve,X,M,ne;function Ne(){var n=we.buffer;o.HEAP8=ve=new Int8Array(n),o.HEAP16=new Int16Array(n),o.HEAP32=M=new Int32Array(n),o.HEAPU8=X=new Uint8Array(n),o.HEAPU16=new Uint16Array(n),o.HEAPU32=ne=new Uint32Array(n),o.HEAPF32=new Float32Array(n),o.HEAPF64=new Float64Array(n)}var je=[],oe=[],k=[];function G(){var n=o.preRun.shift();je.unshift(n)}var he=0,le=null,ue=null;function z(n){throw o.onAbort&&o.onAbort(n),n=\"Aborted(\"+n+\")\",L(n),_e=!0,n=new WebAssembly.RuntimeError(n+\". Build with -sASSERTIONS for more info.\"),v(n),n}function ce(n){return n.startsWith(\"data:application/octet-stream;base64,\")}var Ee;if(Ee=\"ort-training-wasm-simd.wasm\",!ce(Ee)){var Se=Ee;Ee=o.locateFile?o.locateFile(Se,x):x+Se}function xe(n){if(n==Ee&&A)return new Uint8Array(A);if(B)return B(n);throw\"both async and sync fetching of the wasm failed\"}function ze(n){if(!A&&(_||P)){if(typeof fetch==\"function\"&&!n.startsWith(\"file://\"))return fetch(n,{credentials:\"same-origin\"}).then(i=>{if(!i.ok)throw\"failed to load wasm binary file at '\"+n+\"'\";return i.arrayBuffer()}).catch(()=>xe(n));if(U)return new Promise((i,s)=>{U(n,m=>i(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>xe(n))}function $e(n,i,s){return ze(n).then(m=>WebAssembly.instantiate(m,i)).then(m=>m).then(s,m=>{L(\"failed to asynchronously prepare wasm: \"+m),z(m)})}function de(n,i){var s=Ee;return A||typeof WebAssembly.instantiateStreaming!=\"function\"||ce(s)||s.startsWith(\"file://\")||l||typeof fetch!=\"function\"?$e(s,n,i):fetch(s,{credentials:\"same-origin\"}).then(m=>WebAssembly.instantiateStreaming(m,n).then(i,function(w){return L(\"wasm streaming compile failed: \"+w),L(\"falling back to ArrayBuffer instantiation\"),$e(s,n,i)}))}var pe,Fe=n=>{for(;0<n.length;)n.shift()(o)};function Y(n){this.Ja=n-24,this.Na=function(i){ne[this.Ja+4>>2>>>0]=i},this.Ma=function(i){ne[this.Ja+8>>2>>>0]=i},this.Ka=function(i,s){this.La(),this.Na(i),this.Ma(s)},this.La=function(){ne[this.Ja+16>>2>>>0]=0}}var ee=0,Be=0,Pe=typeof TextDecoder<\"u\"?new TextDecoder(\"utf8\"):void 0,qe=(n,i,s)=>{i>>>=0;var m=i+s;for(s=i;n[s]&&!(s>=m);)++s;if(16<s-i&&n.buffer&&Pe)return Pe.decode(n.subarray(i,s));for(m=\"\";i<s;){var w=n[i++];if(w&128){var S=n[i++]&63;if((w&224)==192)m+=String.fromCharCode((w&31)<<6|S);else{var R=n[i++]&63;w=(w&240)==224?(w&15)<<12|S<<6|R:(w&7)<<18|S<<12|R<<6|n[i++]&63,65536>w?m+=String.fromCharCode(w):(w-=65536,m+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else m+=String.fromCharCode(w)}return m},Je=(n,i)=>(n>>>=0)?qe(X,n,i):\"\",Le=n=>{for(var i=0,s=0;s<n.length;++s){var m=n.charCodeAt(s);127>=m?i++:2047>=m?i+=2:55296<=m&&57343>=m?(i+=4,++s):i+=3}return i},Ae=(n,i,s,m)=>{if(s>>>=0,!(0<m))return 0;var w=s;m=s+m-1;for(var S=0;S<n.length;++S){var R=n.charCodeAt(S);if(55296<=R&&57343>=R){var ae=n.charCodeAt(++S);R=65536+((R&1023)<<10)|ae&1023}if(127>=R){if(s>=m)break;i[s++>>>0]=R}else{if(2047>=R){if(s+1>=m)break;i[s++>>>0]=192|R>>6}else{if(65535>=R){if(s+2>=m)break;i[s++>>>0]=224|R>>12}else{if(s+3>=m)break;i[s++>>>0]=240|R>>18,i[s++>>>0]=128|R>>12&63}i[s++>>>0]=128|R>>6&63}i[s++>>>0]=128|R&63}}return i[s>>>0]=0,s-w},Me=n=>n%4===0&&(n%100!==0||n%400===0),ke=[0,31,60,91,121,152,182,213,244,274,305,335],nt=[0,31,59,90,120,151,181,212,243,273,304,334],De=n=>{var i=Le(n)+1,s=at(i);return s&&Ae(n,X,s,i),s},Xe={},We=()=>{if(!Ke){var n={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(typeof navigator==\"object\"&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:c||\"./this.program\"},i;for(i in Xe)Xe[i]===void 0?delete n[i]:n[i]=Xe[i];var s=[];for(i in n)s.push(`${i}=${n[i]}`);Ke=s}return Ke},Ke,At=[null,[],[]],ot=[31,29,31,30,31,30,31,31,30,31,30,31],mt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ze(n){var i=Array(Le(n)+1);return Ae(n,i,0,i.length),i}function Qe(n,i,s,m){function w(g,N,q){for(g=typeof g==\"number\"?g.toString():g||\"\";g.length<N;)g=q[0]+g;return g}function S(g,N){return w(g,N,\"0\")}function R(g,N){function q(ft){return 0>ft?-1:0<ft?1:0}var Ce;return(Ce=q(g.getFullYear()-N.getFullYear()))===0&&(Ce=q(g.getMonth()-N.getMonth()))===0&&(Ce=q(g.getDate()-N.getDate())),Ce}function ae(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function me(g){var N=g.Ea;for(g=new Date(new Date(g.Fa+1900,0,1).getTime());0<N;){var q=g.getMonth(),Ce=(Me(g.getFullYear())?ot:mt)[q];if(N>Ce-g.getDate())N-=Ce-g.getDate()+1,g.setDate(1),11>q?g.setMonth(q+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+N);break}}return q=new Date(g.getFullYear()+1,0,4),N=ae(new Date(g.getFullYear(),0,4)),q=ae(q),0>=R(N,g)?0>=R(q,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}n>>>=0,i>>>=0,s>>>=0,m>>>=0;var fe=M[m+40>>2>>>0];m={Qa:M[m>>2>>>0],Pa:M[m+4>>2>>>0],Ga:M[m+8>>2>>>0],Ia:M[m+12>>2>>>0],Ha:M[m+16>>2>>>0],Fa:M[m+20>>2>>>0],za:M[m+24>>2>>>0],Ea:M[m+28>>2>>>0],Sa:M[m+32>>2>>>0],Oa:M[m+36>>2>>>0],Ra:fe?Je(fe):\"\"},s=Je(s),fe={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var ie in fe)s=s.replace(new RegExp(ie,\"g\"),fe[ie]);var ut=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),tt=\"January February March April May June July August September October November December\".split(\" \");fe={\"%a\":g=>ut[g.za].substring(0,3),\"%A\":g=>ut[g.za],\"%b\":g=>tt[g.Ha].substring(0,3),\"%B\":g=>tt[g.Ha],\"%C\":g=>S((g.Fa+1900)/100|0,2),\"%d\":g=>S(g.Ia,2),\"%e\":g=>w(g.Ia,2,\" \"),\"%g\":g=>me(g).toString().substring(2),\"%G\":g=>me(g),\"%H\":g=>S(g.Ga,2),\"%I\":g=>(g=g.Ga,g==0?g=12:12<g&&(g-=12),S(g,2)),\"%j\":g=>{for(var N=0,q=0;q<=g.Ha-1;N+=(Me(g.Fa+1900)?ot:mt)[q++]);return S(g.Ia+N,3)},\"%m\":g=>S(g.Ha+1,2),\"%M\":g=>S(g.Pa,2),\"%n\":()=>`\n`,\"%p\":g=>0<=g.Ga&&12>g.Ga?\"AM\":\"PM\",\"%S\":g=>S(g.Qa,2),\"%t\":()=>\"\t\",\"%u\":g=>g.za||7,\"%U\":g=>S(Math.floor((g.Ea+7-g.za)/7),2),\"%V\":g=>{var N=Math.floor((g.Ea+7-(g.za+6)%7)/7);if(2>=(g.za+371-g.Ea-2)%7&&N++,N)N==53&&(q=(g.za+371-g.Ea)%7,q==4||q==3&&Me(g.Fa)||(N=1));else{N=52;var q=(g.za+7-g.Ea-1)%7;(q==4||q==5&&Me(g.Fa%400-1))&&N++}return S(N,2)},\"%w\":g=>g.za,\"%W\":g=>S(Math.floor((g.Ea+7-(g.za+6)%7)/7),2),\"%y\":g=>(g.Fa+1900).toString().substring(2),\"%Y\":g=>g.Fa+1900,\"%z\":g=>{g=g.Oa;var N=0<=g;return g=Math.abs(g)/60,(N?\"+\":\"-\")+(\"0000\"+(g/60*100+g%60)).slice(-4)},\"%Z\":g=>g.Ra,\"%%\":()=>\"%\"},s=s.replace(/%%/g,\"\\0\\0\");for(ie in fe)s.includes(ie)&&(s=s.replace(new RegExp(ie,\"g\"),fe[ie](m)));return s=s.replace(/\\0\\0/g,\"%\"),ie=Ze(s),ie.length>i?0:(ve.set(ie,n>>>0),ie.length-1)}var gt={a:function(n,i,s){throw n>>>=0,new Y(n).Ka(i>>>0,s>>>0),ee=n,Be++,ee},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),M[s>>2>>>0]=n.getUTCSeconds(),M[s+4>>2>>>0]=n.getUTCMinutes(),M[s+8>>2>>>0]=n.getUTCHours(),M[s+12>>2>>>0]=n.getUTCDate(),M[s+16>>2>>>0]=n.getUTCMonth(),M[s+20>>2>>>0]=n.getUTCFullYear()-1900,M[s+24>>2>>>0]=n.getUTCDay(),M[s+28>>2>>>0]=(n.getTime()-Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),M[s>>2>>>0]=n.getSeconds(),M[s+4>>2>>>0]=n.getMinutes(),M[s+8>>2>>>0]=n.getHours(),M[s+12>>2>>>0]=n.getDate(),M[s+16>>2>>>0]=n.getMonth(),M[s+20>>2>>>0]=n.getFullYear()-1900,M[s+24>>2>>>0]=n.getDay(),M[s+28>>2>>>0]=(Me(n.getFullYear())?ke:nt)[n.getMonth()]+n.getDate()-1|0,M[s+36>>2>>>0]=-(60*n.getTimezoneOffset()),i=new Date(n.getFullYear(),6,1).getTimezoneOffset();var m=new Date(n.getFullYear(),0,1).getTimezoneOffset();M[s+32>>2>>>0]=(i!=m&&n.getTimezoneOffset()==Math.min(m,i))|0},q:function(n){n>>>=0;var i=new Date(M[n+20>>2>>>0]+1900,M[n+16>>2>>>0],M[n+12>>2>>>0],M[n+8>>2>>>0],M[n+4>>2>>>0],M[n>>2>>>0],0),s=M[n+32>>2>>>0],m=i.getTimezoneOffset(),w=new Date(i.getFullYear(),6,1).getTimezoneOffset(),S=new Date(i.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(S,w);return 0>s?M[n+32>>2>>>0]=+(w!=S&&R==m):0<s!=(R==m)&&(w=Math.max(S,w),i.setTime(i.getTime()+6e4*((0<s?R:w)-m))),M[n+24>>2>>>0]=i.getDay(),M[n+28>>2>>>0]=(Me(i.getFullYear())?ke:nt)[i.getMonth()]+i.getDate()-1|0,M[n>>2>>>0]=i.getSeconds(),M[n+4>>2>>>0]=i.getMinutes(),M[n+8>>2>>>0]=i.getHours(),M[n+12>>2>>>0]=i.getDate(),M[n+16>>2>>>0]=i.getMonth(),M[n+20>>2>>>0]=i.getYear(),n=i.getTime()/1e3,it((pe=n,1<=+Math.abs(pe)?0<pe?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)),n>>>0},m:function(){return-52},n:function(){},t:function(n,i,s){function m(me){return(me=me.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?me[1]:\"GMT\"}s>>>=0;var w=new Date().getFullYear(),S=new Date(w,0,1),R=new Date(w,6,1);w=S.getTimezoneOffset();var ae=R.getTimezoneOffset();ne[n>>>0>>2>>>0]=60*Math.max(w,ae),M[i>>>0>>2>>>0]=+(w!=ae),n=m(S),i=m(R),n=De(n),i=De(i),ae<w?(ne[s>>2>>>0]=n,ne[s+4>>2>>>0]=i):(ne[s>>2>>>0]=i,ne[s+4>>2>>>0]=n)},d:()=>{z(\"\")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(n,i,s){return i>>>=0,X.copyWithin(n>>>0>>>0,i>>>0,i+(s>>>0)>>>0)},s:function(n){n>>>=0;var i=X.length;if(4294901760<n)return!1;for(var s=1;4>=s;s*=2){var m=i*(1+.2/s);m=Math.min(m,n+100663296);var w=Math;m=Math.max(n,m);e:{w=w.min.call(w,4294901760,m+(65536-m%65536)%65536)-we.buffer.byteLength+65535>>>16;try{we.grow(w),Ne();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(n,i){n>>>=0,i>>>=0;var s=0;return We().forEach(function(m,w){var S=i+s;for(w=ne[n+4*w>>2>>>0]=S,S=0;S<m.length;++S)ve[w++>>0>>>0]=m.charCodeAt(S);ve[w>>0>>>0]=0,s+=m.length+1}),0},D:function(n,i){n>>>=0,i>>>=0;var s=We();ne[n>>2>>>0]=s.length;var m=0;return s.forEach(function(w){m+=w.length+1}),ne[i>>2>>>0]=m,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(n,i,s,m){i>>>=0,s>>>=0,m>>>=0;for(var w=0,S=0;S<s;S++){var R=ne[i>>2>>>0],ae=ne[i+4>>2>>>0];i+=8;for(var me=0;me<ae;me++){var fe=X[R+me>>>0],ie=At[n];fe===0||fe===10?((n===1?$:L)(qe(ie,0)),ie.length=0):ie.push(fe)}w+=ae}return ne[m>>2>>>0]=w,0},A:Qe,c:function(n,i,s,m){return Qe(n>>>0,i>>>0,s>>>0,m>>>0)}};(function(){function n(s){if(s=s.exports,E=s=Mt(s),we=E.J,Ne(),oe.unshift(E.K),he--,o.monitorRunDependencies&&o.monitorRunDependencies(he),he==0&&(le!==null&&(clearInterval(le),le=null),ue)){var m=ue;ue=null,m()}return s}var i={a:gt};if(he++,o.monitorRunDependencies&&o.monitorRunDependencies(he),o.instantiateWasm)try{return o.instantiateWasm(i,n)}catch(s){L(\"Module.instantiateWasm callback failed with error: \"+s),v(s)}return de(i,function(s){n(s.instance)}).catch(v),{}})(),o._OrtInit=(n,i)=>(o._OrtInit=E.L)(n,i),o._OrtGetLastError=(n,i)=>(o._OrtGetLastError=E.M)(n,i),o._OrtCreateSessionOptions=(n,i,s,m,w,S,R,ae,me,fe)=>(o._OrtCreateSessionOptions=E.N)(n,i,s,m,w,S,R,ae,me,fe),o._OrtAppendExecutionProvider=(n,i)=>(o._OrtAppendExecutionProvider=E.O)(n,i),o._OrtAddFreeDimensionOverride=(n,i,s)=>(o._OrtAddFreeDimensionOverride=E.P)(n,i,s),o._OrtAddSessionConfigEntry=(n,i,s)=>(o._OrtAddSessionConfigEntry=E.Q)(n,i,s),o._OrtReleaseSessionOptions=n=>(o._OrtReleaseSessionOptions=E.R)(n),o._OrtCreateSession=(n,i,s)=>(o._OrtCreateSession=E.S)(n,i,s),o._OrtReleaseSession=n=>(o._OrtReleaseSession=E.T)(n),o._OrtGetInputOutputCount=(n,i,s)=>(o._OrtGetInputOutputCount=E.U)(n,i,s),o._OrtGetInputName=(n,i)=>(o._OrtGetInputName=E.V)(n,i),o._OrtGetOutputName=(n,i)=>(o._OrtGetOutputName=E.W)(n,i),o._OrtFree=n=>(o._OrtFree=E.X)(n),o._OrtCreateTensor=(n,i,s,m,w,S)=>(o._OrtCreateTensor=E.Y)(n,i,s,m,w,S),o._OrtGetTensorData=(n,i,s,m,w)=>(o._OrtGetTensorData=E.Z)(n,i,s,m,w),o._OrtReleaseTensor=n=>(o._OrtReleaseTensor=E._)(n),o._OrtCreateRunOptions=(n,i,s,m)=>(o._OrtCreateRunOptions=E.$)(n,i,s,m),o._OrtAddRunConfigEntry=(n,i,s)=>(o._OrtAddRunConfigEntry=E.aa)(n,i,s),o._OrtReleaseRunOptions=n=>(o._OrtReleaseRunOptions=E.ba)(n),o._OrtCreateBinding=n=>(o._OrtCreateBinding=E.ca)(n),o._OrtBindInput=(n,i,s)=>(o._OrtBindInput=E.da)(n,i,s),o._OrtBindOutput=(n,i,s,m)=>(o._OrtBindOutput=E.ea)(n,i,s,m),o._OrtClearBoundOutputs=n=>(o._OrtClearBoundOutputs=E.fa)(n),o._OrtReleaseBinding=n=>(o._OrtReleaseBinding=E.ga)(n),o._OrtRunWithBinding=(n,i,s,m,w)=>(o._OrtRunWithBinding=E.ha)(n,i,s,m,w),o._OrtRun=(n,i,s,m,w,S,R,ae)=>(o._OrtRun=E.ia)(n,i,s,m,w,S,R,ae),o._OrtEndProfiling=n=>(o._OrtEndProfiling=E.ja)(n),o._OrtTrainingLoadCheckpoint=(n,i)=>(o._OrtTrainingLoadCheckpoint=E.ka)(n,i),o._OrtTrainingReleaseCheckpoint=n=>(o._OrtTrainingReleaseCheckpoint=E.la)(n),o._OrtTrainingCreateSession=(n,i,s,m,w,S,R,ae)=>(o._OrtTrainingCreateSession=E.ma)(n,i,s,m,w,S,R,ae),o._OrtTrainingLazyResetGrad=n=>(o._OrtTrainingLazyResetGrad=E.na)(n),o._OrtTrainingRunTrainStep=(n,i,s,m,w,S)=>(o._OrtTrainingRunTrainStep=E.oa)(n,i,s,m,w,S),o._OrtTrainingOptimizerStep=(n,i)=>(o._OrtTrainingOptimizerStep=E.pa)(n,i),o._OrtTrainingEvalStep=(n,i,s,m,w,S)=>(o._OrtTrainingEvalStep=E.qa)(n,i,s,m,w,S),o._OrtTrainingGetParametersSize=(n,i,s)=>(o._OrtTrainingGetParametersSize=E.ra)(n,i,s),o._OrtTrainingCopyParametersToBuffer=(n,i,s,m)=>(o._OrtTrainingCopyParametersToBuffer=E.sa)(n,i,s,m),o._OrtTrainingCopyParametersFromBuffer=(n,i,s,m)=>(o._OrtTrainingCopyParametersFromBuffer=E.ta)(n,i,s,m),o._OrtTrainingGetModelInputOutputCount=(n,i,s,m)=>(o._OrtTrainingGetModelInputOutputCount=E.ua)(n,i,s,m),o._OrtTrainingGetModelInputOutputName=(n,i,s,m)=>(o._OrtTrainingGetModelInputOutputName=E.va)(n,i,s,m),o._OrtTrainingReleaseSession=n=>(o._OrtTrainingReleaseSession=E.wa)(n);var at=o._malloc=n=>(at=o._malloc=E.xa)(n);o._free=n=>(o._free=E.ya)(n);var it=n=>(it=E.Aa)(n),Ge=()=>(Ge=E.Ba)(),st=n=>(st=E.Ca)(n),et=n=>(et=E.Da)(n);function Mt(n){n=Object.assign({},n);var i=m=>()=>m()>>>0,s=m=>w=>m(w)>>>0;return n.__errno_location=i(n.__errno_location),n.malloc=s(n.malloc),n.stackSave=i(n.stackSave),n.stackAlloc=s(n.stackAlloc),n}o.stackAlloc=et,o.stackSave=Ge,o.stackRestore=st,o.UTF8ToString=Je,o.stringToUTF8=(n,i,s)=>Ae(n,X,i,s),o.lengthBytesUTF8=Le;var C;ue=function n(){C||Ye(),C||(ue=n)};function Ye(){function n(){if(!C&&(C=!0,o.calledRun=!0,!_e)){if(Fe(oe),y(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for(typeof o.postRun==\"function\"&&(o.postRun=[o.postRun]);o.postRun.length;){var i=o.postRun.shift();k.unshift(i)}Fe(k)}}if(!(0<he)){if(o.preRun)for(typeof o.preRun==\"function\"&&(o.preRun=[o.preRun]);o.preRun.length;)G();Fe(je),0<he||(o.setStatus?(o.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){o.setStatus(\"\")},1),n()},1)):n())}}if(o.preInit)for(typeof o.preInit==\"function\"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Ye(),h.ready}})();typeof Wr==\"object\"&&typeof Yt==\"object\"?Yt.exports=kr:typeof define==\"function\"&&define.amd&&define([],()=>kr)});var Nr=lt(()=>{});var jr=lt(()=>{});var zr={};Nt(zr,{cpus:()=>$n});var $n,$r=Ht(()=>{$n=void 0});var Vr=lt((Yr,Vt)=>{\"use strict\";var Gr=(()=>{var f=typeof document<\"u\"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<\"u\"&&(f=f||__filename),function(h={}){function o(){return G.buffer!=z.buffer&&Y(),z}function y(){return G.buffer!=z.buffer&&Y(),ce}function v(){return G.buffer!=z.buffer&&Y(),Ee}function T(){return G.buffer!=z.buffer&&Y(),Se}function c(){return G.buffer!=z.buffer&&Y(),xe}function _(){return G.buffer!=z.buffer&&Y(),ze}function P(){return G.buffer!=z.buffer&&Y(),Fe}var l=h,x,W;l.ready=new Promise((e,t)=>{x=e,W=t});var U=Object.assign({},l),B=\"./this.program\",j=(e,t)=>{throw t},V=typeof window==\"object\",$=typeof importScripts==\"function\",L=typeof process==\"object\"&&typeof process.versions==\"object\"&&typeof process.versions.node==\"string\",A=l.ENVIRONMENT_IS_PTHREAD||!1,se=\"\";function we(e){return l.locateFile?l.locateFile(e,se):se+e}var E,_e,ve;if(L){var X=(zt(),ct(jt)),M=(Gt(),ct($t));se=$?M.dirname(se)+\"/\":__dirname+\"/\",E=(t,r)=>(t=t.startsWith(\"file://\")?new URL(t):M.normalize(t),X.readFileSync(t,r?void 0:\"utf8\")),ve=t=>(t=E(t,!0),t.buffer||(t=new Uint8Array(t)),t),_e=(t,r,a,u=!0)=>{t=t.startsWith(\"file://\")?new URL(t):M.normalize(t),X.readFile(t,u?void 0:\"utf8\",(d,b)=>{d?a(d):r(u?b.buffer:b)})},!l.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,\"/\")),process.argv.slice(2),j=(t,r)=>{throw process.exitCode=t,r},l.inspect=()=>\"[Emscripten Module object]\";let e;try{e=Nr()}catch(t){throw console.error('The \"worker_threads\" module is not supported in this node.js build - perhaps a newer version is needed?'),t}global.Worker=e.Worker}else(V||$)&&($?se=self.location.href:typeof document<\"u\"&&document.currentScript&&(se=document.currentScript.src),typeof f<\"u\"&&f&&(se=f),se.indexOf(\"blob:\")!==0?se=se.substr(0,se.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):se=\"\",L||(E=e=>{var t=new XMLHttpRequest;return t.open(\"GET\",e,!1),t.send(null),t.responseText},$&&(ve=e=>{var t=new XMLHttpRequest;return t.open(\"GET\",e,!1),t.responseType=\"arraybuffer\",t.send(null),new Uint8Array(t.response)}),_e=(e,t,r)=>{var a=new XMLHttpRequest;a.open(\"GET\",e,!0),a.responseType=\"arraybuffer\",a.onload=()=>{a.status==200||a.status==0&&a.response?t(a.response):r()},a.onerror=r,a.send(null)}));L&&typeof performance>\"u\"&&(global.performance=jr().performance);var ne=console.log.bind(console),Ne=console.error.bind(console);L&&(ne=(...e)=>X.writeSync(1,e.join(\" \")+`\n`),Ne=(...e)=>X.writeSync(2,e.join(\" \")+`\n`));var je=ne,oe=Ne;Object.assign(l,U),U=null;var k=!0;typeof WebAssembly!=\"object\"&&De(\"no native wasm support detected\");var G,he,le=!1,ue,z,ce,Ee,Se,xe,ze,$e,de,pe,Fe;function Y(){var e=G.buffer;l.HEAP8=z=new Int8Array(e),l.HEAP16=Ee=new Int16Array(e),l.HEAPU8=ce=new Uint8Array(e),l.HEAPU16=Se=new Uint16Array(e),l.HEAP32=xe=new Int32Array(e),l.HEAPU32=ze=new Uint32Array(e),l.HEAPF32=$e=new Float32Array(e),l.HEAPF64=Fe=new Float64Array(e),l.HEAP64=de=new BigInt64Array(e),l.HEAPU64=pe=new BigUint64Array(e)}var ee=16777216;if(5242880<=ee||De(\"INITIAL_MEMORY should be larger than STACK_SIZE, was \"+ee+\"! (STACK_SIZE=5242880)\"),A)G=l.wasmMemory;else if(G=new WebAssembly.Memory({initial:ee/65536,maximum:65536,shared:!0}),!(G.buffer instanceof SharedArrayBuffer))throw oe(\"requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag\"),L&&oe(\"(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)\"),Error(\"bad memory\");Y(),ee=G.buffer.byteLength;var Be=[],Pe=[],qe=[],Je=0;function Le(){return k||0<Je}var Ae=0,Me=null,ke=null;function nt(){if(Ae--,Ae==0&&(Me!==null&&(clearInterval(Me),Me=null),ke)){var e=ke;ke=null,e()}}function De(e){throw e=\"Aborted(\"+e+\")\",oe(e),le=!0,ue=1,e=new WebAssembly.RuntimeError(e+\". Build with -sASSERTIONS for more info.\"),W(e),e}function Xe(e){return e.startsWith(\"data:application/octet-stream;base64,\")}var We;We=\"ort-wasm-threaded.wasm\",Xe(We)||(We=we(We));function Ke(e){if(ve)return ve(e);throw\"both async and sync fetching of the wasm failed\"}function At(e){if(V||$){if(typeof fetch==\"function\"&&!e.startsWith(\"file://\"))return fetch(e,{credentials:\"same-origin\"}).then(t=>{if(!t.ok)throw\"failed to load wasm binary file at '\"+e+\"'\";return t.arrayBuffer()}).catch(()=>Ke(e));if(_e)return new Promise((t,r)=>{_e(e,a=>t(new Uint8Array(a)),r)})}return Promise.resolve().then(()=>Ke(e))}function ot(e,t,r){return At(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{oe(`failed to asynchronously prepare wasm: ${a}`),De(a)})}function mt(e,t){var r=We;return typeof WebAssembly.instantiateStreaming!=\"function\"||Xe(r)||r.startsWith(\"file://\")||L||typeof fetch!=\"function\"?ot(r,e,t):fetch(r,{credentials:\"same-origin\"}).then(a=>WebAssembly.instantiateStreaming(a,e).then(t,function(u){return oe(`wasm streaming compile failed: ${u}`),oe(\"falling back to ArrayBuffer instantiation\"),ot(r,e,t)}))}function Ze(e){this.name=\"ExitStatus\",this.message=`Program terminated with exit(${e})`,this.status=e}var Qe=e=>{e.terminate(),e.onmessage=()=>{}},gt=e=>{if(C.qb.length==0){var t=we(\"ort-wasm-threaded.worker.js\");t=new Worker(t),C.qb.push(t),C.Jb(C.qb[0])}if(t=C.qb.pop(),!t)return 6;C.nb.push(t),C.jb[e.mb]=t,t.mb=e.mb;var r={cmd:\"run\",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return L&&t.unref(),t.postMessage(r,e.Sb),0},at=typeof TextDecoder<\"u\"?new TextDecoder(\"utf8\"):void 0,it=(e,t,r)=>{t>>>=0;var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.buffer&&at)return at.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(a=\"\";t<r;){var u=e[t++];if(u&128){var d=e[t++]&63;if((u&224)==192)a+=String.fromCharCode((u&31)<<6|d);else{var b=e[t++]&63;u=(u&240)==224?(u&15)<<12|d<<6|b:(u&7)<<18|d<<12|b<<6|e[t++]&63,65536>u?a+=String.fromCharCode(u):(u-=65536,a+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else a+=String.fromCharCode(u)}return a},Ge=(e,t)=>(e>>>=0)?it(y(),e,t):\"\";function st(e){if(A)return J(0,1,e);ue=e,Le()||(C.Nb(),le=!0),j(e,new Ze(e))}var et=e=>{if(ue=e,A)throw n(e),\"unwind\";st(e)};function Mt(){Be.unshift(()=>{Ae++,nt()})}var C={qb:[],nb:[],Eb:[],jb:{},vb(){A?(C.receiveObjectTransfer=C.Lb,C.threadInitTLS=C.Db,C.setExitStatus=C.Cb,k=!1):Mt()},Cb:e=>{ue=e},Vb:[\"$terminateWorker\"],Nb:()=>{for(var e of C.nb)Qe(e);for(e of C.qb)Qe(e);C.qb=[],C.nb=[],C.jb=[]},Bb:e=>{var t=e.mb;delete C.jb[t],C.qb.push(e),C.nb.splice(C.nb.indexOf(e),1),e.mb=0,xt(t)},Lb(){},Db(){C.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=d=>{d=d.data;var b=d.cmd;if(d.targetThread&&d.targetThread!=wt()){var O=C.jb[d.targetThread];O?O.postMessage(d,d.transferList):oe(`Internal error! Worker sent a message \"${b}\" to target pthread ${d.targetThread}, but that thread no longer exists!`)}else b===\"checkMailbox\"?ht():b===\"spawnThread\"?gt(d):b===\"cleanupThread\"?((d=C.jb[d.thread])||De(),C.Bb(d)):b===\"killThread\"?(d=d.thread,b=C.jb[d],delete C.jb[d],Qe(b),xt(d),C.nb.splice(C.nb.indexOf(b),1),b.mb=0):b===\"cancelThread\"?C.jb[d.thread].postMessage({cmd:\"cancel\"}):b===\"loaded\"?(e.loaded=!0,t(e)):b===\"alert\"?alert(`Thread ${d.threadId}: ${d.text}`):d.target===\"setimmediate\"?e.postMessage(d):b===\"callHandler\"?l[d.handler](...d.args):b&&oe(`worker sent an unknown command ${b}`)},e.onerror=d=>{throw oe(`worker sent an error! ${d.filename}:${d.lineno}: ${d.message}`),d},L&&(e.on(\"message\",d=>e.onmessage({data:d})),e.on(\"error\",d=>e.onerror(d)));var r=[],a=[],u;for(u of a)l.hasOwnProperty(u)&&r.push(u);e.postMessage({cmd:\"load\",handlers:r,urlOrBlob:l.mainScriptUrlOrBlob||f,wasmMemory:G,wasmModule:he})})};l.PThread=C;var Ye=e=>{for(;0<e.length;)e.shift()(l)};l.establishStackSpace=()=>{var e=wt(),t=_()[e+52>>>2>>>0];e=_()[e+56>>>2>>>0],xr(t,t-e),Tt(t)};function n(e){if(A)return J(1,0,e);et(e)}var i=[],s;l.invokeEntryPoint=(e,t)=>{var r=i[e];r||(e>=i.length&&(i.length=e+1),i[e]=r=s.get(e)),e=r(t),Le()?C.Cb(e):Bt(e)};function m(e){this.sb=e-24,this.Kb=function(t){_()[this.sb+4>>>2>>>0]=t},this.xb=function(t){_()[this.sb+8>>>2>>>0]=t},this.vb=function(t,r){this.wb(),this.Kb(t),this.xb(r)},this.wb=function(){_()[this.sb+16>>>2>>>0]=0}}var w=0,S=0;function R(e,t,r,a){return A?J(2,1,e,t,r,a):ae(e,t,r,a)}function ae(e,t,r,a){if(e>>>=0,t>>>=0,r>>>=0,a>>>=0,typeof SharedArrayBuffer>\"u\")return oe(\"Current environment does not support SharedArrayBuffer, pthreads are not available!\"),6;var u=[];return A&&u.length===0?R(e,t,r,a):(e={Mb:r,mb:e,Fb:a,Sb:u},A?(e.Ub=\"spawnThread\",postMessage(e,u),0):gt(e))}function me(e,t,r){return A?J(3,1,e,t,r):0}function fe(e,t){if(A)return J(4,1,e,t)}var ie=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++r):t+=3}return t},ut=(e,t,r,a)=>{if(r>>>=0,!(0<a))return 0;var u=r;a=r+a-1;for(var d=0;d<e.length;++d){var b=e.charCodeAt(d);if(55296<=b&&57343>=b){var O=e.charCodeAt(++d);b=65536+((b&1023)<<10)|O&1023}if(127>=b){if(r>=a)break;t[r++>>>0]=b}else{if(2047>=b){if(r+1>=a)break;t[r++>>>0]=192|b>>6}else{if(65535>=b){if(r+2>=a)break;t[r++>>>0]=224|b>>12}else{if(r+3>=a)break;t[r++>>>0]=240|b>>18,t[r++>>>0]=128|b>>12&63}t[r++>>>0]=128|b>>6&63}t[r++>>>0]=128|b&63}}return t[r>>>0]=0,r-u},tt=(e,t,r)=>ut(e,y(),t,r);function g(e,t){if(A)return J(5,1,e,t)}function N(e,t,r){if(A)return J(6,1,e,t,r)}function q(e,t,r){return A?J(7,1,e,t,r):0}function Ce(e,t){if(A)return J(8,1,e,t)}function ft(e,t,r){if(A)return J(9,1,e,t,r)}function Qt(e,t,r,a){if(A)return J(10,1,e,t,r,a)}function er(e,t,r,a){if(A)return J(11,1,e,t,r,a)}function tr(e,t,r,a){if(A)return J(12,1,e,t,r,a)}function rr(e){if(A)return J(13,1,e)}function nr(e,t){if(A)return J(14,1,e,t)}function or(e,t,r){if(A)return J(15,1,e,t,r)}var ar=e=>{if(e===null)return\"null\";var t=typeof e;return t===\"object\"||t===\"array\"||t===\"function\"?e.toString():\"\"+e},ir,Te=e=>{for(var t=\"\";y()[e>>>0];)t+=ir[y()[e++>>>0]];return t},Ct={},Ft={},mn={},He;function gn(e,t,r={}){var a=t.name;if(!e)throw new He(`type \"${a}\" must have a positive integer typeid pointer`);if(Ft.hasOwnProperty(e)){if(r.Hb)return;throw new He(`Cannot register type '${a}' twice`)}Ft[e]=t,delete mn[e],Ct.hasOwnProperty(e)&&(t=Ct[e],delete Ct[e],t.forEach(u=>u()))}function Ie(e,t,r={}){if(!(\"argPackAdvance\"in t))throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");gn(e,t,r)}var sr=(e,t,r)=>{switch(t){case 1:return r?a=>o()[a>>>0>>>0]:a=>y()[a>>>0>>>0];case 2:return r?a=>v()[a>>>1>>>0]:a=>T()[a>>>1>>>0];case 4:return r?a=>c()[a>>>2>>>0]:a=>_()[a>>>2>>>0];case 8:return r?a=>de[a>>>3]:a=>pe[a>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function ur(){this.lb=[void 0],this.zb=[]}var be=new ur;function Pt(e){e>>>=0,e>=be.sb&&--be.get(e).Ab===0&&be.xb(e)}var ge=e=>{if(!e)throw new He(\"Cannot use deleted val. handle = \"+e);return be.get(e).value},Oe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return be.wb({Ab:1,value:e})}};function fr(e){return this.fromWireType(c()[e>>>2>>>0])}var hn=(e,t)=>{switch(t){case 4:return function(r){var a=this.fromWireType;return G.buffer!=z.buffer&&Y(),a.call(this,$e[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(P()[r>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function yn(e){return this.fromWireType(_()[e>>>2>>>0])}var lr=typeof TextDecoder<\"u\"?new TextDecoder(\"utf-16le\"):void 0,vn=(e,t)=>{for(var r=e>>1,a=r+t/2;!(r>=a)&&T()[r>>>0];)++r;if(r<<=1,32<r-e&&lr)return lr.decode(y().slice(e,r));for(r=\"\",a=0;!(a>=t/2);++a){var u=v()[e+2*a>>>1>>>0];if(u==0)break;r+=String.fromCharCode(u)}return r},bn=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var a=t;r=r<2*e.length?r/2:e.length;for(var u=0;u<r;++u){var d=e.charCodeAt(u);v()[t>>>1>>>0]=d,t+=2}return v()[t>>>1>>>0]=0,t-a},On=e=>2*e.length,wn=(e,t)=>{for(var r=0,a=\"\";!(r>=t/4);){var u=c()[e+4*r>>>2>>>0];if(u==0)break;++r,65536<=u?(u-=65536,a+=String.fromCharCode(55296|u>>10,56320|u&1023)):a+=String.fromCharCode(u)}return a},_n=(e,t,r)=>{if(t>>>=0,r===void 0&&(r=2147483647),4>r)return 0;var a=t;r=a+r-4;for(var u=0;u<e.length;++u){var d=e.charCodeAt(u);if(55296<=d&&57343>=d){var b=e.charCodeAt(++u);d=65536+((d&1023)<<10)|b&1023}if(c()[t>>>2>>>0]=d,t+=4,t+4>r)break}return c()[t>>>2>>>0]=0,t-a},Tn=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&++r,t+=4}return t},En=e=>{if(!le)try{if(e(),!Le())try{A?Bt(ue):et(ue)}catch(t){t instanceof Ze||t==\"unwind\"||j(1,t)}}catch(t){t instanceof Ze||t==\"unwind\"||j(1,t)}};function Dt(e){e>>>=0,typeof Atomics.Tb==\"function\"&&(Atomics.Tb(c(),e>>>2,e).value.then(ht),e+=128,Atomics.store(c(),e>>>2,1))}l.__emscripten_thread_mailbox_await=Dt;var ht=()=>{var e=wt();e&&(Dt(e),En(()=>Ur()))};l.checkMailbox=ht;var Sn=e=>{var t=Lt();return e=e(),Tt(t),e};function J(e,t){var r=arguments.length-2,a=arguments;return Sn(()=>{for(var u=2*r,d=kt(8*u),b=d>>>3,O=0;O<r;O++){var D=a[2+O];typeof D==\"bigint\"?(de[b+2*O]=1n,de[b+2*O+1]=D):(de[b+2*O]=0n,P()[b+2*O+1>>>0]=D)}return Rr(e,u,d,t)})}var It=[],yt=(e,t)=>{var r=Ft[e];if(r===void 0)throw e=Dr(e),r=Te(e),Re(e),new He(t+\" has unknown type \"+r);return r},An={},vt=e=>{var t=An[e];return t===void 0?Te(e):t},bt=[],cr=()=>typeof globalThis==\"object\"?globalThis:Function(\"return this\")(),Mn=e=>{var t=bt.length;return bt.push(e),t},Cn=(e,t)=>{for(var r=Array(e),a=0;a<e;++a)r[a]=yt(_()[t+4*a>>>2>>>0],\"parameter \"+a);return r},dr=e=>{if(e===void 0)return\"_unknown\";e=e.replace(/[^a-zA-Z0-9_]/g,\"$\");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},pr={};function Fn(e,t){return e=dr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Pn(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var r=Fn(t.name||\"unknownFunctionName\",function(){});return r.prototype=t.prototype,r=new r,e=t.apply(r,e),e instanceof Object?e:r}var Dn=e=>{for(var t=\"\",r=0;r<e;++r)t+=(r!==0?\", \":\"\")+\"arg\"+r;var a=\"return function emval_allocator_\"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(r=0;r<e;++r)a+=\"var argType\"+r+\" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter \"+r+`');\nvar arg`+r+\" = argType\"+r+`.readValueFromPointer(args);\nargs += argType`+r+`['argPackAdvance'];\nargTypes += 4;\n`;return new Function(\"requireRegisteredType\",\"Module\",\"valueToHandle\",\"getMemory\",a+(\"var obj = new constructor(\"+t+`);\nreturn valueToHandle(obj);\n}\n`))(yt,l,Oe,()=>_())},mr={},rt=e=>e%4===0&&(e%100!==0||e%400===0),gr=[0,31,60,91,121,152,182,213,244,274,305,335],hr=[0,31,59,90,120,151,181,212,243,273,304,334];function yr(e,t,r,a,u,d,b){return A?J(16,1,e,t,r,a,u,d,b):-52}function vr(e,t,r,a,u,d){if(A)return J(17,1,e,t,r,a,u,d)}var br=e=>{var t=ie(e)+1,r=_t(t);return r&&tt(e,r,t),r},Rt={},Or=()=>{if(!Ut){var e={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(typeof navigator==\"object\"&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:B||\"./this.program\"},t;for(t in Rt)Rt[t]===void 0?delete e[t]:e[t]=Rt[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ut=r}return Ut},Ut;function wr(e,t){if(A)return J(18,1,e,t);e>>>=0,t>>>=0;var r=0;return Or().forEach((a,u)=>{var d=t+r;for(u=_()[e+4*u>>>2>>>0]=d,d=0;d<a.length;++d)o()[u++>>>0>>>0]=a.charCodeAt(d);o()[u>>>0>>>0]=0,r+=a.length+1}),0}function _r(e,t){if(A)return J(19,1,e,t);e>>>=0,t>>>=0;var r=Or();_()[e>>>2>>>0]=r.length;var a=0;return r.forEach(u=>a+=u.length+1),_()[t>>>2>>>0]=a,0}function Tr(e){return A?J(20,1,e):52}function Er(e,t,r,a){return A?J(21,1,e,t,r,a):52}function Sr(e,t,r,a){return A?J(22,1,e,t,r,a):70}var In=[null,[],[]];function Ar(e,t,r,a){if(A)return J(23,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var u=0,d=0;d<r;d++){var b=_()[t>>>2>>>0],O=_()[t+4>>>2>>>0];t+=8;for(var D=0;D<O;D++){var I=y()[b+D>>>0],K=In[e];I===0||I===10?((e===1?je:oe)(it(K,0)),K.length=0):K.push(I)}u+=O}return _()[a>>>2>>>0]=u,0}var Mr=[31,29,31,30,31,30,31,31,30,31,30,31],Cr=[31,28,31,30,31,30,31,31,30,31,30,31];function Rn(e){var t=Array(ie(e)+1);return ut(e,t,0,t.length),t}var Un=(e,t)=>{o().set(e,t>>>0)};function Fr(e,t,r,a){function u(p,H,Z){for(p=typeof p==\"number\"?p.toString():p||\"\";p.length<H;)p=Z[0]+p;return p}function d(p,H){return u(p,H,\"0\")}function b(p,H){function Z(Lr){return 0>Lr?-1:0<Lr?1:0}var Ve;return(Ve=Z(p.getFullYear()-H.getFullYear()))===0&&(Ve=Z(p.getMonth()-H.getMonth()))===0&&(Ve=Z(p.getDate()-H.getDate())),Ve}function O(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function D(p){var H=p.ob;for(p=new Date(new Date(p.pb+1900,0,1).getTime());0<H;){var Z=p.getMonth(),Ve=(rt(p.getFullYear())?Mr:Cr)[Z];if(H>Ve-p.getDate())H-=Ve-p.getDate()+1,p.setDate(1),11>Z?p.setMonth(Z+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return Z=new Date(p.getFullYear()+1,0,4),H=O(new Date(p.getFullYear(),0,4)),Z=O(Z),0>=b(H,p)?0>=b(Z,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,a>>>=0;var I=_()[a+40>>>2>>>0];a={Qb:c()[a>>>2>>>0],Pb:c()[a+4>>>2>>>0],tb:c()[a+8>>>2>>>0],yb:c()[a+12>>>2>>>0],ub:c()[a+16>>>2>>>0],pb:c()[a+20>>>2>>>0],kb:c()[a+24>>>2>>>0],ob:c()[a+28>>>2>>>0],Wb:c()[a+32>>>2>>>0],Ob:c()[a+36>>>2>>>0],Rb:I?Ge(I):\"\"},r=Ge(r),I={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var K in I)r=r.replace(new RegExp(K,\"g\"),I[K]);var ye=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),Ue=\"January February March April May June July August September October November December\".split(\" \");I={\"%a\":p=>ye[p.kb].substring(0,3),\"%A\":p=>ye[p.kb],\"%b\":p=>Ue[p.ub].substring(0,3),\"%B\":p=>Ue[p.ub],\"%C\":p=>d((p.pb+1900)/100|0,2),\"%d\":p=>d(p.yb,2),\"%e\":p=>u(p.yb,2,\" \"),\"%g\":p=>D(p).toString().substring(2),\"%G\":p=>D(p),\"%H\":p=>d(p.tb,2),\"%I\":p=>(p=p.tb,p==0?p=12:12<p&&(p-=12),d(p,2)),\"%j\":p=>{for(var H=0,Z=0;Z<=p.ub-1;H+=(rt(p.pb+1900)?Mr:Cr)[Z++]);return d(p.yb+H,3)},\"%m\":p=>d(p.ub+1,2),\"%M\":p=>d(p.Pb,2),\"%n\":()=>`\n`,\"%p\":p=>0<=p.tb&&12>p.tb?\"AM\":\"PM\",\"%S\":p=>d(p.Qb,2),\"%t\":()=>\"\t\",\"%u\":p=>p.kb||7,\"%U\":p=>d(Math.floor((p.ob+7-p.kb)/7),2),\"%V\":p=>{var H=Math.floor((p.ob+7-(p.kb+6)%7)/7);if(2>=(p.kb+371-p.ob-2)%7&&H++,H)H==53&&(Z=(p.kb+371-p.ob)%7,Z==4||Z==3&&rt(p.pb)||(H=1));else{H=52;var Z=(p.kb+7-p.ob-1)%7;(Z==4||Z==5&&rt(p.pb%400-1))&&H++}return d(H,2)},\"%w\":p=>p.kb,\"%W\":p=>d(Math.floor((p.ob+7-(p.kb+6)%7)/7),2),\"%y\":p=>(p.pb+1900).toString().substring(2),\"%Y\":p=>p.pb+1900,\"%z\":p=>{p=p.Ob;var H=0<=p;return p=Math.abs(p)/60,(H?\"+\":\"-\")+(\"0000\"+(p/60*100+p%60)).slice(-4)},\"%Z\":p=>p.Rb,\"%%\":()=>\"%\"},r=r.replace(/%%/g,\"\\0\\0\");for(K in I)r.includes(K)&&(r=r.replace(new RegExp(K,\"g\"),I[K](a)));return r=r.replace(/\\0\\0/g,\"%\"),K=Rn(r),K.length>t?0:(Un(K,e),K.length-1)}C.vb();for(var Pr=Array(256),Ot=0;256>Ot;++Ot)Pr[Ot]=String.fromCharCode(Ot);ir=Pr,He=l.BindingError=class extends Error{constructor(e){super(e),this.name=\"BindingError\"}},l.InternalError=class extends Error{constructor(e){super(e),this.name=\"InternalError\"}},Object.assign(ur.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),be.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),be.sb=be.lb.length,l.count_emval_handles=()=>{for(var e=0,t=be.sb;t<be.lb.length;++t)be.lb[t]!==void 0&&++e;return e};var xn=[st,n,R,me,fe,g,N,q,Ce,ft,Qt,er,tr,rr,nr,or,yr,vr,wr,_r,Tr,Er,Sr,Ar],Bn={b:function(e,t,r){throw e>>>=0,new m(e).vb(t>>>0,r>>>0),w=e,S++,w},ea:function(e){Ir(e>>>0,!$,1,!V,131072,!1),C.Db()},E:function(e){e>>>=0,A?postMessage({cmd:\"cleanupThread\",thread:e}):((e=C.jb[e])||De(),C.Bb(e))},W:ae,y:me,ka:fe,S:g,U:N,L:q,ia:Ce,ba:ft,ha:Qt,G:er,T:tr,Q:rr,ja:nr,R:or,J:function(e,t,r,a,u){e>>>=0,t>>>=0,r>>>=0,t=Te(t);var d=t.indexOf(\"u\")!=-1;d&&(u=(1n<<64n)-1n),Ie(e,{name:t,fromWireType:b=>b,toWireType:function(b,O){if(typeof O!=\"bigint\"&&typeof O!=\"number\")throw new TypeError(`Cannot convert \"${ar(O)}\" to ${this.name}`);if(O<a||O>u)throw new TypeError(`Passing a number \"${ar(O)}\" from JS side to C/C++ side to an argument of type \"${t}\", which is outside the valid range [${a}, ${u}]!`);return O},argPackAdvance:8,readValueFromPointer:sr(t,r,!d),rb:null})},qa:function(e,t,r,a){e>>>=0,t=Te(t>>>0),Ie(e,{name:t,fromWireType:function(u){return!!u},toWireType:function(u,d){return d?r:a},argPackAdvance:8,readValueFromPointer:function(u){return this.fromWireType(y()[u>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=Te(t>>>0),Ie(e,{name:t,fromWireType:r=>{var a=ge(r);return Pt(r),a},toWireType:(r,a)=>Oe(a),argPackAdvance:8,readValueFromPointer:fr,rb:null})},I:function(e,t,r){e>>>=0,r>>>=0,t=Te(t>>>0),Ie(e,{name:t,fromWireType:a=>a,toWireType:(a,u)=>u,argPackAdvance:8,readValueFromPointer:hn(t,r),rb:null})},u:function(e,t,r,a,u){if(e>>>=0,r>>>=0,t=Te(t>>>0),u===-1&&(u=4294967295),u=O=>O,a===0){var d=32-8*r;u=O=>O<<d>>>d}var b=t.includes(\"unsigned\")?function(O,D){return D>>>0}:function(O,D){return D};Ie(e,{name:t,fromWireType:u,toWireType:b,argPackAdvance:8,readValueFromPointer:sr(t,r,a!==0),rb:null})},m:function(e,t,r){function a(d){var b=_()[d>>>2>>>0];return d=_()[d+4>>>2>>>0],new u(o().buffer,d,b)}e>>>=0;var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];r=Te(r>>>0),Ie(e,{name:r,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{Hb:!0})},K:function(e,t){e>>>=0,t=Te(t>>>0);var r=t===\"std::string\";Ie(e,{name:t,fromWireType:function(a){var u=_()[a>>>2>>>0],d=a+4;if(r)for(var b=d,O=0;O<=u;++O){var D=d+O;if(O==u||y()[D>>>0]==0){if(b=Ge(b,D-b),I===void 0)var I=b;else I+=String.fromCharCode(0),I+=b;b=D+1}}else{for(I=Array(u),O=0;O<u;++O)I[O]=String.fromCharCode(y()[d+O>>>0]);I=I.join(\"\")}return Re(a),I},toWireType:function(a,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var d=typeof u==\"string\";if(!(d||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array))throw new He(\"Cannot pass non-string to std::string\");var b=r&&d?ie(u):u.length,O=_t(4+b+1),D=O+4;if(_()[O>>>2>>>0]=b,r&&d)tt(u,D,b+1);else if(d)for(d=0;d<b;++d){var I=u.charCodeAt(d);if(255<I)throw Re(D),new He(\"String has UTF-16 code units that do not fit in 8 bits\");y()[D+d>>>0]=I}else for(d=0;d<b;++d)y()[D+d>>>0]=u[d];return a!==null&&a.push(Re,O),O},argPackAdvance:8,readValueFromPointer:yn,rb(a){Re(a)}})},A:function(e,t,r){if(e>>>=0,t>>>=0,r>>>=0,r=Te(r),t===2)var a=vn,u=bn,d=On,b=()=>T(),O=1;else t===4&&(a=wn,u=_n,d=Tn,b=()=>_(),O=2);Ie(e,{name:r,fromWireType:D=>{for(var I=_()[D>>>2>>>0],K=b(),ye,Ue=D+4,p=0;p<=I;++p){var H=D+4+p*t;(p==I||K[H>>>O]==0)&&(Ue=a(Ue,H-Ue),ye===void 0?ye=Ue:(ye+=String.fromCharCode(0),ye+=Ue),Ue=H+t)}return Re(D),ye},toWireType:(D,I)=>{if(typeof I!=\"string\")throw new He(`Cannot pass non-string to C++ string type ${r}`);var K=d(I),ye=_t(4+K+t);return _()[ye>>>2]=K>>O,u(I,ye+4,K+t),D!==null&&D.push(Re,ye),ye},argPackAdvance:8,readValueFromPointer:fr,rb(D){Re(D)}})},ra:function(e,t){e>>>=0,t=Te(t>>>0),Ie(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ht()):A?postMessage({targetThread:e,cmd:\"checkMailbox\"}):(e=C.jb[e])&&e.postMessage({cmd:\"checkMailbox\"})},X:function(e,t,r,a){t>>>=0,r/=2,It.length=r,a=a>>>0>>>3;for(var u=0;u<r;u++)It[u]=de[a+2*u]?de[a+2*u+1]:P()[a+2*u+1>>>0];return e=xn[e],C.Gb=t,t=e.apply(null,It),C.Gb=0,t},da:Dt,ma:function(e){L&&C.jb[e>>>0].ref()},r:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=yt(t,\"emval::as\");var a=[],u=Oe(a);return _()[r>>>2>>>0]=u,t.toWireType(a,e)},i:function(e,t,r,a,u){r>>>=0,a>>>=0,u>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r);var d=[];return _()[a>>>2>>>0]=Oe(d),e(t,r,d,u)},s:function(e,t,r,a){r>>>=0,a>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r),e(t,r,null,a)},c:Pt,B:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),e==t},o:function(e){return e>>>=0,e===0?Oe(cr()):(e=vt(e),Oe(cr()[e]))},g:function(e,t){var r=Cn(e,t>>>0),a=r[0];t=a.name+\"_$\"+r.slice(1).map(function(K){return K.name}).join(\"_\")+\"$\";var u=pr[t];if(u!==void 0)return u;u=[\"retType\"];for(var d=[a],b=\"\",O=0;O<e-1;++O)b+=(O!==0?\", \":\"\")+\"arg\"+O,u.push(\"argType\"+O),d.push(r[1+O]);var D=\"return function \"+dr(\"methodCaller_\"+t)+`(handle, name, destructors, args) {\n`,I=0;for(O=0;O<e-1;++O)D+=\"    var arg\"+O+\" = argType\"+O+\".readValueFromPointer(args\"+(I?\"+\"+I:\"\")+`);\n`,I+=r[O+1].argPackAdvance;for(D+=\"    var rv = handle[name](\"+b+`);\n`,O=0;O<e-1;++O)r[O+1].deleteObject&&(D+=\"    argType\"+O+\".deleteObject(arg\"+O+`);\n`);return a.Ib||(D+=`    return retType.toWireType(destructors, rv);\n`),u.push(D+`};\n`),e=Pn(u).apply(null,d),u=Mn(e),pr[t]=u},q:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),Oe(e[t])},d:function(e){e>>>=0,4<e&&(be.get(e).Ab+=1)},x:function(e,t,r,a){r>>>=0,a>>>=0,e=ge(e>>>0);var u=mr[t];return u||(u=Dn(t),mr[t]=u),u(e,r,a)},v:function(){return Oe([])},l:function(e){e=ge(e>>>0);for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return Oe(t)},e:function(e){return Oe(vt(e>>>0))},k:function(){return Oe({})},f:function(e){e>>>=0;for(var t=ge(e);t.length;){var r=t.pop();t.pop()(r)}Pt(e)},j:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=ge(t),r=ge(r),e[t]=r},h:function(e,t){return t>>>=0,e=yt(e>>>0,\"_emval_take_value\"),e=e.readValueFromPointer(t),Oe(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),c()[t>>>2>>>0]=e.getUTCSeconds(),c()[t+4>>>2>>>0]=e.getUTCMinutes(),c()[t+8>>>2>>>0]=e.getUTCHours(),c()[t+12>>>2>>>0]=e.getUTCDate(),c()[t+16>>>2>>>0]=e.getUTCMonth(),c()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,c()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),c()[t>>>2>>>0]=e.getSeconds(),c()[t+4>>>2>>>0]=e.getMinutes(),c()[t+8>>>2>>>0]=e.getHours(),c()[t+12>>>2>>>0]=e.getDate(),c()[t+16>>>2>>>0]=e.getMonth(),c()[t+20>>>2>>>0]=e.getFullYear()-1900,c()[t+24>>>2>>>0]=e.getDay();var r=(rt(e.getFullYear())?gr:hr)[e.getMonth()]+e.getDate()-1|0;c()[t+28>>>2>>>0]=r,c()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var a=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=a&&e.getTimezoneOffset()==Math.min(a,r))|0,c()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(c()[e+20>>>2>>>0]+1900,c()[e+16>>>2>>>0],c()[e+12>>>2>>>0],c()[e+8>>>2>>>0],c()[e+4>>>2>>>0],c()[e>>>2>>>0],0),r=c()[e+32>>>2>>>0],a=t.getTimezoneOffset(),u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),d=new Date(t.getFullYear(),0,1).getTimezoneOffset(),b=Math.min(d,u);return 0>r?c()[e+32>>>2>>>0]=+(u!=d&&b==a):0<r!=(b==a)&&(u=Math.max(d,u),t.setTime(t.getTime()+6e4*((0<r?b:u)-a))),c()[e+24>>>2>>>0]=t.getDay(),r=(rt(t.getFullYear())?gr:hr)[t.getMonth()]+t.getDate()-1|0,c()[e+28>>>2>>>0]=r,c()[e>>>2>>>0]=t.getSeconds(),c()[e+4>>>2>>>0]=t.getMinutes(),c()[e+8>>>2>>>0]=t.getHours(),c()[e+12>>>2>>>0]=t.getDate(),c()[e+16>>>2>>>0]=t.getMonth(),c()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:yr,Z:vr,N:function(e,t,r){function a(I){return(I=I.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?I[1]:\"GMT\"}e>>>=0,t>>>=0,r>>>=0;var u=new Date().getFullYear(),d=new Date(u,0,1),b=new Date(u,6,1);u=d.getTimezoneOffset();var O=b.getTimezoneOffset(),D=Math.max(u,O);_()[e>>>2>>>0]=60*D,c()[t>>>2>>>0]=+(u!=O),e=a(d),t=a(b),e=br(e),t=br(t),O<u?(_()[r>>>2>>>0]=e,_()[r+4>>>2>>>0]=t):(_()[r>>>2>>>0]=t,_()[r+4>>>2>>>0]=e)},n:()=>{De(\"\")},F:()=>{},H:()=>Date.now(),la:()=>{throw Je+=1,\"unwind\"},P:function(){return 4294901760},t:()=>performance.timeOrigin+performance.now(),w:()=>L?($r(),ct(zr)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=y().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var u=Math;a=Math.max(e,a);e:{u=(u.min.call(u,4294901760,a+(65536-a%65536)%65536)-G.buffer.byteLength+65535)/65536;try{G.grow(u),Y();var d=1;break e}catch{}d=void 0}if(d)return!0}return!1},fa:wr,ga:_r,V:et,z:Tr,D:Er,ca:Sr,C:Ar,a:G||l.wasmMemory,oa:Fr,p:function(e,t,r,a){return Fr(e>>>0,t>>>0,r>>>0,a>>>0)}},F=function(){var e={a:Bn};return Ae++,mt(e,function(t){var r=t.module;F=t.instance.exports,F=Ln(),C.Eb.push(F.Xa),s=F._a,Pe.unshift(F.sa),he=r,nt()}).catch(W),{}}();l._OrtInit=(e,t)=>(l._OrtInit=F.ta)(e,t),l._OrtGetLastError=(e,t)=>(l._OrtGetLastError=F.ua)(e,t),l._OrtCreateSessionOptions=(e,t,r,a,u,d,b,O,D,I)=>(l._OrtCreateSessionOptions=F.va)(e,t,r,a,u,d,b,O,D,I),l._OrtAppendExecutionProvider=(e,t)=>(l._OrtAppendExecutionProvider=F.wa)(e,t),l._OrtAddFreeDimensionOverride=(e,t,r)=>(l._OrtAddFreeDimensionOverride=F.xa)(e,t,r),l._OrtAddSessionConfigEntry=(e,t,r)=>(l._OrtAddSessionConfigEntry=F.ya)(e,t,r),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=F.za)(e),l._OrtCreateSession=(e,t,r)=>(l._OrtCreateSession=F.Aa)(e,t,r),l._OrtReleaseSession=e=>(l._OrtReleaseSession=F.Ba)(e),l._OrtGetInputOutputCount=(e,t,r)=>(l._OrtGetInputOutputCount=F.Ca)(e,t,r),l._OrtGetInputName=(e,t)=>(l._OrtGetInputName=F.Da)(e,t),l._OrtGetOutputName=(e,t)=>(l._OrtGetOutputName=F.Ea)(e,t),l._OrtFree=e=>(l._OrtFree=F.Fa)(e),l._OrtCreateTensor=(e,t,r,a,u,d)=>(l._OrtCreateTensor=F.Ga)(e,t,r,a,u,d),l._OrtGetTensorData=(e,t,r,a,u)=>(l._OrtGetTensorData=F.Ha)(e,t,r,a,u),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=F.Ia)(e),l._OrtCreateRunOptions=(e,t,r,a)=>(l._OrtCreateRunOptions=F.Ja)(e,t,r,a),l._OrtAddRunConfigEntry=(e,t,r)=>(l._OrtAddRunConfigEntry=F.Ka)(e,t,r),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=F.La)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=F.Ma)(e),l._OrtBindInput=(e,t,r)=>(l._OrtBindInput=F.Na)(e,t,r),l._OrtBindOutput=(e,t,r,a)=>(l._OrtBindOutput=F.Oa)(e,t,r,a),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=F.Pa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=F.Qa)(e),l._OrtRunWithBinding=(e,t,r,a,u)=>(l._OrtRunWithBinding=F.Ra)(e,t,r,a,u),l._OrtRun=(e,t,r,a,u,d,b,O)=>(l._OrtRun=F.Sa)(e,t,r,a,u,d,b,O),l._OrtEndProfiling=e=>(l._OrtEndProfiling=F.Ta)(e);var wt=l._pthread_self=()=>(wt=l._pthread_self=F.Ua)(),_t=l._malloc=e=>(_t=l._malloc=F.Va)(e),Re=l._free=e=>(Re=l._free=F.Wa)(e);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=F.Xa)();var Dr=e=>(Dr=F.Ya)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=F.Za)();var Ir=l.__emscripten_thread_init=(e,t,r,a,u,d)=>(Ir=l.__emscripten_thread_init=F.$a)(e,t,r,a,u,d);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=F.ab)();var Rr=(e,t,r,a)=>(Rr=F.bb)(e,t,r,a),xt=e=>(xt=F.cb)(e),Bt=l.__emscripten_thread_exit=e=>(Bt=l.__emscripten_thread_exit=F.db)(e),Ur=l.__emscripten_check_mailbox=()=>(Ur=l.__emscripten_check_mailbox=F.eb)(),xr=(e,t)=>(xr=F.fb)(e,t),Lt=()=>(Lt=F.gb)(),Tt=e=>(Tt=F.hb)(e),kt=e=>(kt=F.ib)(e);function Ln(){var e=F;e=Object.assign({},e);var t=a=>()=>a()>>>0,r=a=>u=>a(u)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=r(e.Va),e.Ya=r(e.Ya),e.gb=t(e.gb),e.ib=r(e.ib),e}l.keepRuntimeAlive=Le,l.wasmMemory=G,l.stackAlloc=kt,l.stackSave=Lt,l.stackRestore=Tt,l.UTF8ToString=Ge,l.stringToUTF8=tt,l.lengthBytesUTF8=ie,l.ExitStatus=Ze,l.PThread=C;var Et;ke=function e(){Et||Br(),Et||(ke=e)};function Br(){0<Ae||(A?(x(l),A||Ye(Pe),startWorker(l)):(Ye(Be),0<Ae||Et||(Et=!0,l.calledRun=!0,le||(A||Ye(Pe),x(l),A||Ye(qe)))))}return Br(),h.ready}})();typeof Yr==\"object\"&&typeof Vt==\"object\"?Vt.exports=Gr:typeof define==\"function\"&&define.amd&&define([],()=>Gr)});var qr=lt((fo,Gn)=>{Gn.exports='\"use strict\";var Module={},ENVIRONMENT_IS_NODE=typeof process==\"object\"&&typeof process.versions==\"object\"&&typeof process.versions.node==\"string\";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require(\"worker_threads\"),parentPort=nodeWorkerThreads.parentPort;parentPort.on(\"message\",e=>onmessage({data:e}));var fs=require(\"fs\");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,\"utf8\")+\"//# sourceURL=\"+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(\" \");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(\" \");postMessage({cmd:\"alert\",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd===\"load\"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:\"loaded\"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:\"callHandler\",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob==\"string\")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd===\"run\"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!=\"unwind\")throw a}}else e.data.cmd===\"cancel\"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target===\"setimmediate\"||(e.data.cmd===\"checkMailbox\"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n'});var Xr;Xr=Hr();var Yn=Vr(),qt,Jt=!1,St=!1,Jr=!1,Vn=()=>{try{return typeof SharedArrayBuffer>\"u\"?!1:(typeof MessageChannel<\"u\"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},qn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Jn=(f,h)=>f?\"ort-training-wasm-simd.wasm\":h?\"ort-wasm-threaded.wasm\":\"ort-wasm.wasm\",Kr=async f=>{if(Jt)return Promise.resolve();if(St)throw new Error(\"multiple calls to 'initializeWebAssembly()' detected.\");if(Jr)throw new Error(\"previous call to 'initializeWebAssembly()' failed.\");St=!0;let h=f.initTimeout,o=f.numThreads,y=f.simd,v=o>1&&Vn(),T=y&&qn(),c=f.wasmPaths,_=typeof c==\"string\"?c:void 0,P=Jn(T,v),l=typeof c==\"object\"?c[P]:void 0,x=!1,W=[];if(h>0&&W.push(new Promise(U=>{setTimeout(()=>{x=!0,U()},h)})),W.push(new Promise((U,B)=>{let j=v?Yn:Xr,V={locateFile:($,L)=>v&&$.endsWith(\".worker.js\")&&typeof Blob<\"u\"?URL.createObjectURL(new Blob([qr()],{type:\"text/javascript\"})):$.endsWith(\".wasm\")?l||(_??L)+P:L+$};if(v)if(typeof Blob>\"u\")V.mainScriptUrlOrBlob=(void 0)(__dirname,\"ort-wasm-threaded.js\");else{let $=`var ortWasmThreaded=${j.toString()};`;V.mainScriptUrlOrBlob=new Blob([$],{type:\"text/javascript\"})}j(V).then($=>{St=!1,Jt=!0,qt=$,U()},$=>{St=!1,Jr=!0,B($)})})),await Promise.race(W),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${h}ms`)},te=()=>{if(Jt&&qt)return qt;throw new Error(\"WebAssembly is not initialized yet.\")};var re=(f,h)=>{let o=te(),y=o.lengthBytesUTF8(f)+1,v=o._malloc(y);return o.stringToUTF8(f,v,y),h.push(v),v},dt=(f,h,o,y)=>{if(typeof f==\"object\"&&f!==null){if(o.has(f))throw new Error(\"Circular reference in options\");o.add(f)}Object.entries(f).forEach(([v,T])=>{let c=h?h+v:v;if(typeof T==\"object\")dt(T,c+\".\",o,y);else if(typeof T==\"string\"||typeof T==\"number\")y(c,T.toString());else if(typeof T==\"boolean\")y(c,T?\"1\":\"0\");else throw new Error(`Can't handle extra config type: ${typeof T}`)})},Q=f=>{let h=te(),o=h.stackSave();try{let y=h.stackAlloc(8);h._OrtGetLastError(y,y+4);let v=h.HEAP32[y/4],T=h.HEAPU32[y/4+1],c=T?h.UTF8ToString(T):\"\";throw new Error(`${f} ERROR_CODE: ${v}, ERROR_MESSAGE: ${c}`)}finally{h.stackRestore(o)}};var Zr=f=>{let h=te(),o=0,y=[],v=f||{};try{if(f?.logSeverityLevel===void 0)v.logSeverityLevel=2;else if(typeof f.logSeverityLevel!=\"number\"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if(f?.logVerbosityLevel===void 0)v.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!=\"number\"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);f?.terminate===void 0&&(v.terminate=!1);let T=0;return f?.tag!==void 0&&(T=re(f.tag,y)),o=h._OrtCreateRunOptions(v.logSeverityLevel,v.logVerbosityLevel,!!v.terminate,T),o===0&&Q(\"Can't create run options.\"),f?.extra!==void 0&&dt(f.extra,\"\",new WeakSet,(c,_)=>{let P=re(c,y),l=re(_,y);h._OrtAddRunConfigEntry(o,P,l)!==0&&Q(`Can't set a run config entry: ${c} - ${_}.`)}),[o,y]}catch(T){throw o!==0&&h._OrtReleaseRunOptions(o),y.forEach(c=>h._free(c)),T}};var Xn=f=>{switch(f){case\"disabled\":return 0;case\"basic\":return 1;case\"extended\":return 2;case\"all\":return 99;default:throw new Error(`unsupported graph optimization level: ${f}`)}},Kn=f=>{switch(f){case\"sequential\":return 0;case\"parallel\":return 1;default:throw new Error(`unsupported execution mode: ${f}`)}},Zn=f=>{f.extra||(f.extra={}),f.extra.session||(f.extra.session={});let h=f.extra.session;h.use_ort_model_bytes_directly||(h.use_ort_model_bytes_directly=\"1\"),f.executionProviders&&f.executionProviders.some(o=>(typeof o==\"string\"?o:o.name)===\"webgpu\")&&(f.enableMemPattern=!1)},Qn=(f,h,o)=>{for(let y of h){let v=typeof y==\"string\"?y:y.name;switch(v){case\"xnnpack\":v=\"XNNPACK\";break;case\"webnn\":if(v=\"WEBNN\",typeof y!=\"string\"){let c=y;if(c?.deviceType){let _=re(\"deviceType\",o),P=re(c.deviceType,o);te()._OrtAddSessionConfigEntry(f,_,P)!==0&&Q(`Can't set a session config entry: 'deviceType' - ${c.deviceType}.`)}if(c?.numThreads){let _=c.numThreads;(typeof _!=\"number\"||!Number.isInteger(_)||_<0)&&(_=0);let P=re(\"numThreads\",o),l=re(_.toString(),o);te()._OrtAddSessionConfigEntry(f,P,l)!==0&&Q(`Can't set a session config entry: 'numThreads' - ${c.numThreads}.`)}if(c?.powerPreference){let _=re(\"powerPreference\",o),P=re(c.powerPreference,o);te()._OrtAddSessionConfigEntry(f,_,P)!==0&&Q(`Can't set a session config entry: 'powerPreference' - ${c.powerPreference}.`)}}break;case\"webgpu\":if(v=\"JS\",typeof y!=\"string\"){let c=y;if(c?.preferredLayout){if(c.preferredLayout!==\"NCHW\"&&c.preferredLayout!==\"NHWC\")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${c.preferredLayout}`);let _=re(\"preferredLayout\",o),P=re(c.preferredLayout,o);te()._OrtAddSessionConfigEntry(f,_,P)!==0&&Q(`Can't set a session config entry: 'preferredLayout' - ${c.preferredLayout}.`)}}break;case\"wasm\":case\"cpu\":continue;default:throw new Error(`not supported execution provider: ${v}`)}let T=re(v,o);te()._OrtAppendExecutionProvider(f,T)!==0&&Q(`Can't append execution provider: ${v}.`)}},Qr=f=>{let h=te(),o=0,y=[],v=f||{};Zn(v);try{let T=Xn(v.graphOptimizationLevel??\"all\"),c=Kn(v.executionMode??\"sequential\"),_=typeof v.logId==\"string\"?re(v.logId,y):0,P=v.logSeverityLevel??2;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log serverity level is not valid: ${P}`);let l=v.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let x=typeof v.optimizedModelFilePath==\"string\"?re(v.optimizedModelFilePath,y):0;if(o=h._OrtCreateSessionOptions(T,!!v.enableCpuMemArena,!!v.enableMemPattern,c,!!v.enableProfiling,0,_,P,l,x),o===0&&Q(\"Can't create session options.\"),v.executionProviders&&Qn(o,v.executionProviders,y),v.freeDimensionOverrides)for(let[W,U]of Object.entries(v.freeDimensionOverrides)){if(typeof W!=\"string\")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof U!=\"number\"||!Number.isInteger(U)||U<0)throw new Error(`free dimension override value must be a non-negative integer: ${U}`);let B=re(W,y);h._OrtAddFreeDimensionOverride(o,B,U)!==0&&Q(`Can't set a free dimension override: ${W} - ${U}.`)}return v.extra!==void 0&&dt(v.extra,\"\",new WeakSet,(W,U)=>{let B=re(W,y),j=re(U,y);h._OrtAddSessionConfigEntry(o,B,j)!==0&&Q(`Can't set a session config entry: ${W} - ${U}.`)}),[o,y]}catch(T){throw o!==0&&h._OrtReleaseSessionOptions(o),y.forEach(c=>h._free(c)),T}};var Xt=f=>{switch(f){case\"int8\":return 3;case\"uint8\":return 2;case\"bool\":return 9;case\"int16\":return 5;case\"uint16\":return 4;case\"int32\":return 6;case\"uint32\":return 12;case\"float16\":return 10;case\"float32\":return 1;case\"float64\":return 11;case\"string\":return 8;case\"int64\":return 7;case\"uint64\":return 13;default:throw new Error(`unsupported data type: ${f}`)}},en=f=>{switch(f){case 3:return\"int8\";case 2:return\"uint8\";case 9:return\"bool\";case 5:return\"int16\";case 4:return\"uint16\";case 6:return\"int32\";case 12:return\"uint32\";case 10:return\"float16\";case 1:return\"float32\";case 11:return\"float64\";case 8:return\"string\";case 7:return\"int64\";case 13:return\"uint64\";default:throw new Error(`unsupported data type: ${f}`)}},Kt=f=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][f],tn=f=>{switch(f){case\"float16\":return Uint16Array;case\"float32\":return Float32Array;case\"uint8\":return Uint8Array;case\"int8\":return Int8Array;case\"uint16\":return Uint16Array;case\"int16\":return Int16Array;case\"int32\":return Int32Array;case\"bool\":return Uint8Array;case\"float64\":return Float64Array;case\"uint32\":return Uint32Array;case\"int64\":return BigInt64Array;case\"uint64\":return BigUint64Array;default:throw new Error(`unsupported type: ${f}`)}},rn=f=>{switch(f){case\"verbose\":return 0;case\"info\":return 1;case\"warning\":return 2;case\"error\":return 3;case\"fatal\":return 4;default:throw new Error(`unsupported logging level: ${f}`)}},nn=f=>f===\"float32\"||f===\"int32\"||f===\"int64\"||f===\"bool\"||f===\"float16\"||f===\"uint32\",on=f=>{switch(f){case\"none\":return 0;case\"cpu\":return 1;case\"cpu-pinned\":return 2;case\"texture\":return 3;case\"gpu-buffer\":return 4;default:throw new Error(`unsupported data location: ${f}`)}};var eo=(f,h)=>{te()._OrtInit(f,h)!==0&&Q(\"Can't initialize onnxruntime.\")},sn=async f=>{eo(f.wasm.numThreads,rn(f.logLevel))},un=async(f,h)=>{},pt=new Map,to=f=>{let h=te(),o=h.stackSave();try{let y=h.stackAlloc(8);return h._OrtGetInputOutputCount(f,y,y+4)!==0&&Q(\"Can't get session input/output count.\"),[h.HEAP32[y/4],h.HEAP32[y/4+1]]}finally{h.stackRestore(o)}},Zt=f=>{let h=te(),o=h._malloc(f.byteLength);if(o===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${f.byteLength}.`);return h.HEAPU8.set(f,o),[o,f.byteLength]},fn=(f,h)=>{let o,y,v=te();Array.isArray(f)?[o,y]=f:f.buffer===v.HEAPU8.buffer?[o,y]=[f.byteOffset,f.byteLength]:[o,y]=Zt(f);let T=0,c=0,_=0,P=[],l=[],x=[];try{[c,P]=Qr(h),T=v._OrtCreateSession(o,y,c),T===0&&Q(\"Can't create a session.\");let[W,U]=to(T),B=[],j=[],V=[];for(let L=0;L<W;L++){let A=v._OrtGetInputName(T,L);A===0&&Q(\"Can't get an input name.\"),l.push(A),B.push(v.UTF8ToString(A))}for(let L=0;L<U;L++){let A=v._OrtGetOutputName(T,L);A===0&&Q(\"Can't get an output name.\"),x.push(A);let se=v.UTF8ToString(A);j.push(se)}let $=null;return pt.set(T,[T,l,x,$]),[T,B,j]}catch(W){throw l.forEach(U=>v._OrtFree(U)),x.forEach(U=>v._OrtFree(U)),_!==0&&v._OrtReleaseBinding(_),T!==0&&v._OrtReleaseSession(T),W}finally{v._free(o),c!==0&&v._OrtReleaseSessionOptions(c),P.forEach(W=>v._free(W))}},ln=f=>{let h=te(),o=pt.get(f);if(!o)throw new Error(`cannot release session. invalid session id: ${f}`);let[y,v,T,c]=o;c&&h._OrtReleaseBinding(c.handle),h.jsepUnregisterBuffers?.(f),v.forEach(_=>h._OrtFree(_)),T.forEach(_=>h._OrtFree(_)),h._OrtReleaseSession(y),pt.delete(f)},an=(f,h,o,y,v)=>{if(!f){h.push(0);return}let T=te(),c=f[0],_=f[1],P=f[3],l,x;if(c===\"string\"&&P===\"gpu-buffer\")throw new Error(\"String tensor is not supported on GPU.\");if(P===\"gpu-buffer\"){let B=f[2].gpuBuffer,j=Kt(Xt(c));x=_.reduce((V,$)=>V*$,1)*j,l=T.jsepRegisterBuffer(y,v,B,x)}else{let B=f[2];if(Array.isArray(B)){x=4*B.length,l=T._malloc(x),o.push(l);let j=l/4;for(let V=0;V<B.length;V++){if(typeof B[V]!=\"string\")throw new TypeError(`tensor data at index ${V} is not a string`);T.HEAPU32[j++]=re(B[V],o)}}else x=B.byteLength,l=T._malloc(x),o.push(l),T.HEAPU8.set(new Uint8Array(B.buffer,B.byteOffset,x),l)}let W=T.stackSave(),U=T.stackAlloc(4*_.length);try{let B=U/4;_.forEach(V=>T.HEAP32[B++]=V);let j=T._OrtCreateTensor(Xt(c),l,x,U,_.length,on(P));j===0&&Q(`Can't create tensor for input/output. session=${y}, index=${v}.`),h.push(j)}finally{T.stackRestore(W)}},cn=async(f,h,o,y,v,T)=>{let c=te(),_=pt.get(f);if(!_)throw new Error(`cannot run inference. invalid session id: ${f}`);let[P,l,x,W]=_,U=h.length,B=y.length,j=0,V=[],$=[],L=[],A=[],se=c.stackSave(),we=c.stackAlloc(U*4),E=c.stackAlloc(U*4),_e=c.stackAlloc(B*4),ve=c.stackAlloc(B*4);try{[j,V]=Zr(T);for(let k=0;k<U;k++)an(o[k],$,A,f,h[k]);for(let k=0;k<B;k++)an(v[k],L,A,f,U+y[k]);let X=we/4,M=E/4,ne=_e/4,Ne=ve/4;for(let k=0;k<U;k++)c.HEAPU32[X++]=$[k],c.HEAPU32[M++]=l[h[k]];for(let k=0;k<B;k++)c.HEAPU32[ne++]=L[k],c.HEAPU32[Ne++]=x[y[k]];let je;je=await c._OrtRun(P,E,we,U,ve,B,_e,j),je!==0&&Q(\"failed to call OrtRun().\");let oe=[];for(let k=0;k<B;k++){let G=c.HEAPU32[_e/4+k];if(G===L[k]){oe.push(v[k]);continue}let he=c.stackSave(),le=c.stackAlloc(4*4),ue=!1,z,ce=0;try{c._OrtGetTensorData(G,le,le+4,le+8,le+12)!==0&&Q(`Can't access output tensor data on index ${k}.`);let Se=le/4,xe=c.HEAPU32[Se++];ce=c.HEAPU32[Se++];let ze=c.HEAPU32[Se++],$e=c.HEAPU32[Se++],de=[];for(let Y=0;Y<$e;Y++)de.push(c.HEAPU32[ze/4+Y]);c._OrtFree(ze);let pe=de.reduce((Y,ee)=>Y*ee,1);z=en(xe);let Fe=W?.outputPreferredLocations[y[k]];if(z===\"string\"){if(Fe===\"gpu-buffer\")throw new Error(\"String tensor is not supported on GPU.\");let Y=[],ee=ce/4;for(let Be=0;Be<pe;Be++){let Pe=c.HEAPU32[ee++],qe=Be===pe-1?void 0:c.HEAPU32[ee]-Pe;Y.push(c.UTF8ToString(Pe,qe))}oe.push([z,de,Y,\"cpu\"])}else if(Fe===\"gpu-buffer\"&&pe>0){let Y=c.jsepGetBuffer(ce),ee=Kt(xe);if(ee===void 0||!nn(z))throw new Error(`Unsupported data type: ${z}`);ue=!0,oe.push([z,de,{gpuBuffer:Y,download:c.jsepCreateDownloader(Y,pe*ee,z),dispose:()=>{c._OrtReleaseTensor(G)}},\"gpu-buffer\"])}else{let Y=tn(z),ee=new Y(pe);new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength).set(c.HEAPU8.subarray(ce,ce+ee.byteLength)),oe.push([z,de,ee,\"cpu\"])}}finally{c.stackRestore(he),z===\"string\"&&ce&&c._free(ce),ue||c._OrtReleaseTensor(G)}}return W&&c._OrtClearBoundOutputs(W.handle),oe}finally{c.stackRestore(se),$.forEach(X=>c._OrtReleaseTensor(X)),L.forEach(X=>c._OrtReleaseTensor(X)),A.forEach(X=>c._free(X)),j!==0&&c._OrtReleaseRunOptions(j),V.forEach(X=>c._free(X))}},dn=f=>{let h=te(),o=pt.get(f);if(!o)throw new Error(\"invalid session id\");let y=o[0],v=h._OrtEndProfiling(y);v===0&&Q(\"Can't get an profile file name.\"),h._OrtFree(v)},pn=f=>{let h=[];for(let o of f){let y=o[2];!Array.isArray(y)&&\"buffer\"in y&&h.push(y.buffer)}return h};self.onmessage=f=>{let{type:h,in:o}=f.data;try{switch(h){case\"init-wasm\":Kr(o.wasm).then(()=>{sn(o).then(()=>{postMessage({type:h})},y=>{postMessage({type:h,err:y})})},y=>{postMessage({type:h,err:y})});break;case\"init-ep\":{let{epName:y,env:v}=o;un(v,y).then(()=>{postMessage({type:h})},T=>{postMessage({type:h,err:T})});break}case\"copy-from\":{let{buffer:y}=o,v=Zt(y);postMessage({type:h,out:v});break}case\"create\":{let{model:y,options:v}=o,T=fn(y,v);postMessage({type:h,out:T});break}case\"release\":ln(o),postMessage({type:h});break;case\"run\":{let{sessionId:y,inputIndices:v,inputs:T,outputIndices:c,options:_}=o;cn(y,v,T,c,new Array(c.length).fill(null),_).then(P=>{P.some(l=>l[3]!==\"cpu\")?postMessage({type:h,err:\"Proxy does not support non-cpu tensor location.\"}):postMessage({type:h,out:P},pn(P))},P=>{postMessage({type:h,err:P})});break}case\"end-profiling\":dn(o),postMessage({type:h});break;default:}}catch(y){postMessage({type:h,err:y})}};})();\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {env, InferenceSession} from 'onnxruntime-common';\n\nimport {OrtWasmMessage, SerializableInternalBuffer, SerializableSessionMetadata, SerializableTensorMetadata, TensorMetadata} from './proxy-messages';\nimport * as core from './wasm-core-impl';\nimport {initializeWebAssembly} from './wasm-factory';\n\nconst isProxy = (): boolean => !!env.wasm.proxy && typeof document !== 'undefined';\nlet proxyWorker: Worker|undefined;\nlet initializing = false;\nlet initialized = false;\nlet aborted = false;\n\ntype PromiseCallbacks<T = void> = [resolve: (result: T) => void, reject: (reason: unknown) => void];\nlet initWasmCallbacks: PromiseCallbacks;\nconst queuedCallbacks: Map<OrtWasmMessage['type'], Array<PromiseCallbacks<unknown>>> = new Map();\n\nconst enqueueCallbacks = (type: OrtWasmMessage['type'], callbacks: PromiseCallbacks<unknown>): void => {\n  const queue = queuedCallbacks.get(type);\n  if (queue) {\n    queue.push(callbacks);\n  } else {\n    queuedCallbacks.set(type, [callbacks]);\n  }\n};\n\nconst ensureWorker = (): void => {\n  if (initializing || !initialized || aborted || !proxyWorker) {\n    throw new Error('worker not ready');\n  }\n};\n\nconst onProxyWorkerMessage = (ev: MessageEvent<OrtWasmMessage>): void => {\n  switch (ev.data.type) {\n    case 'init-wasm':\n      initializing = false;\n      if (ev.data.err) {\n        aborted = true;\n        initWasmCallbacks[1](ev.data.err);\n      } else {\n        initialized = true;\n        initWasmCallbacks[0]();\n      }\n      break;\n    case 'init-ep':\n    case 'copy-from':\n    case 'create':\n    case 'release':\n    case 'run':\n    case 'end-profiling': {\n      const callbacks = queuedCallbacks.get(ev.data.type)!;\n      if (ev.data.err) {\n        callbacks.shift()![1](ev.data.err);\n      } else {\n        callbacks.shift()![0](ev.data.out!);\n      }\n      break;\n    }\n    default:\n  }\n};\n\nconst scriptSrc = typeof document !== 'undefined' ? (document?.currentScript as HTMLScriptElement)?.src : undefined;\n\nexport const initializeWebAssemblyAndOrtRuntime = async(): Promise<void> => {\n  if (initialized) {\n    return;\n  }\n  if (initializing) {\n    throw new Error('multiple calls to \\'initWasm()\\' detected.');\n  }\n  if (aborted) {\n    throw new Error('previous call to \\'initWasm()\\' failed.');\n  }\n\n  initializing = true;\n\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    // overwrite wasm filepaths\n    if (env.wasm.wasmPaths === undefined) {\n      if (scriptSrc && scriptSrc.indexOf('blob:') !== 0) {\n        env.wasm.wasmPaths = scriptSrc.substr(0, +(scriptSrc).lastIndexOf('/') + 1);\n      }\n    }\n\n    return new Promise<void>((resolve, reject) => {\n      proxyWorker?.terminate();\n\n      const workerUrl = URL.createObjectURL(new Blob(\n          [\n            // This require() function is handled by esbuild plugin to load file content as string.\n            // eslint-disable-next-line @typescript-eslint/no-require-imports\n            require('./proxy-worker/main')\n          ],\n          {type: 'text/javascript'}));\n      proxyWorker = new Worker(workerUrl, {name: 'ort-wasm-proxy-worker'});\n      proxyWorker.onerror = (ev: ErrorEvent) => reject(ev);\n      proxyWorker.onmessage = onProxyWorkerMessage;\n      URL.revokeObjectURL(workerUrl);\n      initWasmCallbacks = [resolve, reject];\n      const message: OrtWasmMessage = {type: 'init-wasm', in : env};\n      proxyWorker.postMessage(message);\n    });\n\n  } else {\n    try {\n      await initializeWebAssembly(env.wasm);\n      await core.initRuntime(env);\n      initialized = true;\n    } catch (e) {\n      aborted = true;\n      throw e;\n    } finally {\n      initializing = false;\n    }\n  }\n};\n\nexport const initializeOrtEp = async(epName: string): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<void>((resolve, reject) => {\n      enqueueCallbacks('init-ep', [resolve, reject]);\n      const message: OrtWasmMessage = {type: 'init-ep', in : {epName, env}};\n      proxyWorker!.postMessage(message);\n    });\n  } else {\n    await core.initEp(env, epName);\n  }\n};\n\nexport const copyFromExternalBuffer = async(buffer: Uint8Array): Promise<SerializableInternalBuffer> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<SerializableInternalBuffer>((resolve, reject) => {\n      enqueueCallbacks('copy-from', [resolve, reject]);\n      const message: OrtWasmMessage = {type: 'copy-from', in : {buffer}};\n      proxyWorker!.postMessage(message, [buffer.buffer]);\n    });\n  } else {\n    return core.copyFromExternalBuffer(buffer);\n  }\n};\n\nexport const createSession =\n    async(model: SerializableInternalBuffer|Uint8Array, options?: InferenceSession.SessionOptions):\n        Promise<SerializableSessionMetadata> => {\n          if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n            // check unsupported options\n            if (options?.preferredOutputLocation) {\n              throw new Error('session option \"preferredOutputLocation\" is not supported for proxy.');\n            }\n            ensureWorker();\n            return new Promise<SerializableSessionMetadata>((resolve, reject) => {\n              enqueueCallbacks('create', [resolve, reject]);\n              const message: OrtWasmMessage = {type: 'create', in : {model, options}};\n              const transferable: Transferable[] = [];\n              if (model instanceof Uint8Array) {\n                transferable.push(model.buffer);\n              }\n              proxyWorker!.postMessage(message, transferable);\n            });\n          } else {\n            return core.createSession(model, options);\n          }\n        };\n\nexport const releaseSession = async(sessionId: number): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<void>((resolve, reject) => {\n      enqueueCallbacks('release', [resolve, reject]);\n      const message: OrtWasmMessage = {type: 'release', in : sessionId};\n      proxyWorker!.postMessage(message);\n    });\n  } else {\n    core.releaseSession(sessionId);\n  }\n};\n\nexport const run = async(\n    sessionId: number, inputIndices: number[], inputs: TensorMetadata[], outputIndices: number[],\n    outputs: Array<TensorMetadata|null>, options: InferenceSession.RunOptions): Promise<TensorMetadata[]> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    // check inputs location\n    if (inputs.some(t => t[3] !== 'cpu')) {\n      throw new Error('input tensor on GPU is not supported for proxy.');\n    }\n    // check outputs location\n    if (outputs.some(t => t)) {\n      throw new Error('pre-allocated output tensor is not supported for proxy.');\n    }\n    ensureWorker();\n    return new Promise<SerializableTensorMetadata[]>((resolve, reject) => {\n      enqueueCallbacks('run', [resolve, reject]);\n      const serializableInputs = inputs as SerializableTensorMetadata[];  // every input is on CPU.\n      const message: OrtWasmMessage =\n          {type: 'run', in : {sessionId, inputIndices, inputs: serializableInputs, outputIndices, options}};\n      proxyWorker!.postMessage(message, core.extractTransferableBuffers(serializableInputs));\n    });\n  } else {\n    return core.run(sessionId, inputIndices, inputs, outputIndices, outputs, options);\n  }\n};\n\nexport const endProfiling = async(sessionId: number): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<void>((resolve, reject) => {\n      enqueueCallbacks('end-profiling', [resolve, reject]);\n      const message: OrtWasmMessage = {type: 'end-profiling', in : sessionId};\n      proxyWorker!.postMessage(message);\n    });\n  } else {\n    core.endProfiling(sessionId);\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {readFile} from 'node:fs/promises';\nimport {InferenceSession, InferenceSessionHandler, SessionHandler, Tensor} from 'onnxruntime-common';\n\nimport {SerializableInternalBuffer, TensorMetadata} from './proxy-messages';\nimport {copyFromExternalBuffer, createSession, endProfiling, releaseSession, run} from './proxy-wrapper';\nimport {isGpuBufferSupportedType} from './wasm-common';\n\nexport const encodeTensorMetadata = (tensor: Tensor, getName: () => string): TensorMetadata => {\n  switch (tensor.location) {\n    case 'cpu':\n      return [tensor.type, tensor.dims, tensor.data, 'cpu'];\n    case 'gpu-buffer':\n      return [tensor.type, tensor.dims, {gpuBuffer: tensor.gpuBuffer}, 'gpu-buffer'];\n    default:\n      throw new Error(`invalid data location: ${tensor.location} for ${getName()}`);\n  }\n};\n\nexport const decodeTensorMetadata = (tensor: TensorMetadata): Tensor => {\n  switch (tensor[3]) {\n    case 'cpu':\n      return new Tensor(tensor[0], tensor[2], tensor[1]);\n    case 'gpu-buffer': {\n      const dataType = tensor[0];\n      if (!isGpuBufferSupportedType(dataType)) {\n        throw new Error(`not supported data type: ${dataType} for deserializing GPU tensor`);\n      }\n      const {gpuBuffer, download, dispose} = tensor[2];\n      return Tensor.fromGpuBuffer(gpuBuffer, {dataType, dims: tensor[1], download, dispose});\n    }\n    default:\n      throw new Error(`invalid data location: ${tensor[3]}`);\n  }\n};\n\nexport class OnnxruntimeWebAssemblySessionHandler implements InferenceSessionHandler {\n  private sessionId: number;\n\n  inputNames: string[];\n  outputNames: string[];\n\n  async fetchModelAndCopyToWasmMemory(path: string): Promise<SerializableInternalBuffer> {\n    // fetch model from url and move to wasm heap. The arraybufffer that held the http\n    // response is freed once we return\n    const response = await fetch(path);\n    if (response.status !== 200) {\n      throw new Error(`failed to load model: ${path}`);\n    }\n    const arrayBuffer = await response.arrayBuffer();\n    return copyFromExternalBuffer(new Uint8Array(arrayBuffer));\n  }\n\n  async loadModel(pathOrBuffer: string|Uint8Array, options?: InferenceSession.SessionOptions): Promise<void> {\n    let model: Parameters<typeof createSession>[0];\n\n    if (typeof pathOrBuffer === 'string') {\n      if (typeof process !== 'undefined' && process.versions && process.versions.node) {\n        // node\n        model = await readFile(pathOrBuffer);\n      } else {\n        // browser\n        // fetch model and copy to wasm heap.\n        model = await this.fetchModelAndCopyToWasmMemory(pathOrBuffer);\n      }\n    } else {\n      model = pathOrBuffer;\n    }\n\n    [this.sessionId, this.inputNames, this.outputNames] = await createSession(model, options);\n  }\n\n  async dispose(): Promise<void> {\n    return releaseSession(this.sessionId);\n  }\n\n  async run(feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType, options: InferenceSession.RunOptions):\n      Promise<SessionHandler.ReturnType> {\n    const inputArray: Tensor[] = [];\n    const inputIndices: number[] = [];\n    Object.entries(feeds).forEach(kvp => {\n      const name = kvp[0];\n      const tensor = kvp[1];\n      const index = this.inputNames.indexOf(name);\n      if (index === -1) {\n        throw new Error(`invalid input '${name}'`);\n      }\n      inputArray.push(tensor);\n      inputIndices.push(index);\n    });\n\n    const outputArray: Array<Tensor|null> = [];\n    const outputIndices: number[] = [];\n    Object.entries(fetches).forEach(kvp => {\n      const name = kvp[0];\n      const tensor = kvp[1];\n      const index = this.outputNames.indexOf(name);\n      if (index === -1) {\n        throw new Error(`invalid output '${name}'`);\n      }\n      outputArray.push(tensor);\n      outputIndices.push(index);\n    });\n\n    const inputs =\n        inputArray.map((t, i) => encodeTensorMetadata(t, () => `input \"${this.inputNames[inputIndices[i]]}\"`));\n    const outputs = outputArray.map(\n        (t, i) => t ? encodeTensorMetadata(t, () => `output \"${this.outputNames[outputIndices[i]]}\"`) : null);\n\n    const results = await run(this.sessionId, inputIndices, inputs, outputIndices, outputs, options);\n\n    const resultMap: SessionHandler.ReturnType = {};\n    for (let i = 0; i < results.length; i++) {\n      resultMap[this.outputNames[outputIndices[i]]] = outputArray[i] ?? decodeTensorMetadata(results[i]);\n    }\n    return resultMap;\n  }\n\n  startProfiling(): void {\n    // TODO: implement profiling\n  }\n\n  endProfiling(): void {\n    void endProfiling(this.sessionId);\n  }\n}\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {cpus} from 'node:os';\nimport {Backend, env, InferenceSession, InferenceSessionHandler} from 'onnxruntime-common';\n\nimport {initializeOrtEp, initializeWebAssemblyAndOrtRuntime} from './wasm/proxy-wrapper';\nimport {OnnxruntimeWebAssemblySessionHandler} from './wasm/session-handler-inference';\n\n/**\n * This function initializes all flags for WebAssembly.\n *\n * Those flags are accessible from `ort.env.wasm`. Users are allow to set those flags before the first inference session\n * being created, to override default value.\n */\nexport const initializeFlags = (): void => {\n  if (typeof env.wasm.initTimeout !== 'number' || env.wasm.initTimeout < 0) {\n    env.wasm.initTimeout = 0;\n  }\n\n  if (typeof env.wasm.simd !== 'boolean') {\n    env.wasm.simd = true;\n  }\n\n  if (typeof env.wasm.proxy !== 'boolean') {\n    env.wasm.proxy = false;\n  }\n\n  if (typeof env.wasm.numThreads !== 'number' || !Number.isInteger(env.wasm.numThreads) || env.wasm.numThreads <= 0) {\n    const numCpuLogicalCores = typeof navigator === 'undefined' ? cpus().length : navigator.hardwareConcurrency;\n    env.wasm.numThreads = Math.min(4, Math.ceil((numCpuLogicalCores || 1) / 2));\n  }\n};\n\nexport class OnnxruntimeWebAssemblyBackend implements Backend {\n  /**\n   * This function initializes the WebAssembly backend.\n   *\n   * This function will be called only once for each backend name. It will be called the first time when\n   * `ort.InferenceSession.create()` is called with a registered backend name.\n   *\n   * @param backendName - the registered backend name.\n   */\n  async init(backendName: string): Promise<void> {\n    // populate wasm flags\n    initializeFlags();\n\n    // init wasm\n    await initializeWebAssemblyAndOrtRuntime();\n\n    // performe EP specific initialization\n    await initializeOrtEp(backendName);\n  }\n  createInferenceSessionHandler(path: string, options?: InferenceSession.SessionOptions):\n      Promise<InferenceSessionHandler>;\n  createInferenceSessionHandler(buffer: Uint8Array, options?: InferenceSession.SessionOptions):\n      Promise<InferenceSessionHandler>;\n  async createInferenceSessionHandler(pathOrBuffer: string|Uint8Array, options?: InferenceSession.SessionOptions):\n      Promise<InferenceSessionHandler> {\n    const handler = new OnnxruntimeWebAssemblySessionHandler();\n    await handler.loadModel(pathOrBuffer, options);\n    return Promise.resolve(handler);\n  }\n}\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession, Tensor} from 'onnxruntime-common';\n\nimport {SerializableInternalBuffer, TensorMetadata} from './proxy-messages';\nimport {setRunOptions} from './run-options';\nimport {setSessionOptions} from './session-options';\nimport {dataLocationStringToEnum, tensorDataTypeEnumToString, tensorDataTypeStringToEnum, tensorTypeToTypedArrayConstructor} from './wasm-common';\nimport {prepareInputOutputTensor} from './wasm-core-impl';\nimport {getInstance} from './wasm-factory';\nimport {checkLastError} from './wasm-utils';\n\nconst NO_TRAIN_FUNCS_MSG =\n    'Built without training API\\'s enabled. Use the onnxruntime-web/training import for training ' +\n    'functionality, and make sure that all the correct artifacts are built & moved to the correct folder if ' +\n    'using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.';\n\n/**\n * Runs the checkLastError function which will throw an error, if the provided error code matches the specified\n * pattern for an error code.\n * @param errCode number to evaluated for if it's an error\n * @param message message to pass into checkLastError\n * @param checkNeqZero when true, treats not equal to zero as an error.\n *                     When false, treats equal to zero as an error.\n */\nconst ifErrCodeCheckLastError = (errCode: number, message: string, checkNeqZero = true) => {\n  if (checkNeqZero && errCode !== 0) {\n    checkLastError(message);\n  } else if (!checkNeqZero && errCode === 0) {\n    checkLastError(message);\n  }\n};\n\nexport const createCheckpointHandle = (checkpointData: SerializableInternalBuffer): number => {\n  const wasm = getInstance();\n\n  const [checkpointDataOffset, checkpointDataLength] = checkpointData;\n  let checkpointHandle = 0;\n\n  try {\n    if (wasm._OrtTrainingLoadCheckpoint) {\n      checkpointHandle = wasm._OrtTrainingLoadCheckpoint(checkpointDataOffset, checkpointDataLength);\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n\n    ifErrCodeCheckLastError(checkpointHandle, 'Error occurred when trying to create a CheckpointState', false);\n    return checkpointHandle;\n  } catch (e) {\n    if (wasm._OrtTrainingReleaseCheckpoint && checkpointHandle !== 0) {\n      wasm._OrtTrainingReleaseCheckpoint(checkpointHandle);\n    }\n    throw e;\n  } finally {\n    // free buffer from wasm heap\n    wasm._OrtFree(checkpointData[0]);\n  }\n};\n\nconst getModelInputOutputCount = (trainingSessionId: number, isEvalModel: boolean): [number, number] => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n  try {\n    const dataOffset = wasm.stackAlloc(8);\n    if (wasm._OrtTrainingGetModelInputOutputCount) {\n      const errorCode =\n          wasm._OrtTrainingGetModelInputOutputCount(trainingSessionId, dataOffset, dataOffset + 4, isEvalModel);\n      ifErrCodeCheckLastError(errorCode, 'Can\\'t get session input/output count.');\n      return [wasm.HEAP32[dataOffset / 4], wasm.HEAP32[dataOffset / 4 + 1]];\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n\nconst getModelInputOutputNamesLoop =\n    (trainingSessionId: number, count: number, isInput: boolean, isEvalModel: boolean): string[] => {\n      const names = [];\n      const wasm = getInstance();\n\n      for (let i = 0; i < count; i++) {\n        if (wasm._OrtTrainingGetModelInputOutputName) {\n          const name = wasm._OrtTrainingGetModelInputOutputName(trainingSessionId, i, isInput, isEvalModel);\n          ifErrCodeCheckLastError(name, `Can't get input or output name -- is input: ${isInput}, index ${i}`, false);\n\n          names.push(wasm.UTF8ToString(name));\n          wasm._free(name);\n        } else {\n          throw new Error(NO_TRAIN_FUNCS_MSG);\n        }\n      }\n      return names;\n    };\n\nexport const getModelInputOutputNames = (trainingSessionId: number, isEvalModel: boolean): [string[], string[]] => {\n  let inputNames: string[] = [];\n  let outputNames: string[] = [];\n\n  const [inputCount, outputCount] = getModelInputOutputCount(trainingSessionId, isEvalModel);\n\n  inputNames = getModelInputOutputNamesLoop(trainingSessionId, inputCount, true, isEvalModel);\n  outputNames = getModelInputOutputNamesLoop(trainingSessionId, outputCount, false, isEvalModel);\n\n  return [inputNames, outputNames];\n};\n\nexport const createTrainingSessionHandle =\n    (checkpointHandle: number, trainModelData: SerializableInternalBuffer, evalModelData: SerializableInternalBuffer,\n     optimizerModelData: SerializableInternalBuffer, options: InferenceSession.SessionOptions): number => {\n      const wasm = getInstance();\n\n      let trainingSessionHandle = 0;\n      let sessionOptionsHandle = 0;\n      let allocs: number[] = [];\n\n      try {\n        [sessionOptionsHandle, allocs] = setSessionOptions(options);\n        if (wasm._OrtTrainingCreateSession) {\n          trainingSessionHandle = wasm._OrtTrainingCreateSession(\n              sessionOptionsHandle, checkpointHandle, trainModelData[0], trainModelData[1], evalModelData[0],\n              evalModelData[1], optimizerModelData[0], optimizerModelData[1]);\n        } else {\n          throw new Error(NO_TRAIN_FUNCS_MSG);\n        }\n\n        ifErrCodeCheckLastError(trainingSessionHandle, 'Error occurred when trying to create a TrainingSession', false);\n        return trainingSessionHandle;\n      } catch (e) {\n        if (wasm._OrtTrainingReleaseSession && trainingSessionHandle !== 0) {\n          wasm._OrtTrainingReleaseSession(trainingSessionHandle);\n        }\n        throw e;\n      } finally {\n        wasm._free(trainModelData[0]);\n        wasm._free(evalModelData[0]);\n        wasm._free(optimizerModelData[0]);\n\n        if (sessionOptionsHandle !== 0) {\n          wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\n        }\n        allocs.forEach(alloc => wasm._free(alloc));\n      }\n    };\n\n/**\n * Prepares input and output tensors by creating the tensors in the WASM side then creates a list of the handles of the\n * WASM tensors.\n *\n * @param trainingSessionId\n * @param indices for each tensor, the index of the input or output name that the tensor corresponds with\n * @param tensors list of TensorMetaData\n * @param tensorHandles should pass in an empty list of numbers; modified in-place by this method & stores the resulting\n *                      handles of the allocated tensors on the heap\n * @param inputOutputAllocs modified in-place by this method\n * @param indexAdd constant to add to the index that is passed to prepareInputOutputTensor\n */\nconst createAndAllocateTensors =\n    (trainingSessionId: number, indices: number[], tensors: Array<TensorMetadata|null>, tensorHandles: number[],\n     inputOutputAllocs: number[], indexAdd: number) => {\n      const count = indices.length;\n\n      // creates the tensors\n      for (let i = 0; i < count; i++) {\n        prepareInputOutputTensor(\n            tensors[i], tensorHandles, inputOutputAllocs, trainingSessionId, indexAdd + indices[i]);\n      }\n\n      // moves to heap\n      const wasm = getInstance();\n      const valuesOffset = wasm.stackAlloc(count * 4);\n      let valuesIndex = valuesOffset / 4;\n      for (let i = 0; i < count; i++) {\n        wasm.HEAPU32[valuesIndex++] = tensorHandles[i];\n      }\n\n      return valuesOffset;\n    };\n\n/**\n * Retrieves the information from the output tensor handles, copies to an array, and frees the WASM information\n * associated with the tensor handle.\n *\n * @param outputValuesOffset\n * @param outputCount\n * @returns list of TensorMetadata retrieved from the output handles.\n */\nconst moveOutputToTensorMetadataArr =\n    (outputValuesOffset: number, outputCount: number, outputTensorHandles: number[],\n     outputTensors: Array<TensorMetadata|null>) => {\n      const wasm = getInstance();\n      const output: TensorMetadata[] = [];\n\n      for (let i = 0; i < outputCount; i++) {\n        const tensor = wasm.HEAPU32[outputValuesOffset / 4 + i];\n        if (tensor === outputTensorHandles[i]) {\n          // output tensor is pre-allocated. no need to copy data.\n          output.push(outputTensors[i]!);\n          continue;\n        }\n\n        const beforeGetTensorDataStack = wasm.stackSave();\n        // stack allocate 4 pointer value\n        const tensorDataOffset = wasm.stackAlloc(4 * 4);\n\n        let type: Tensor.Type|undefined, dataOffset = 0;\n        try {\n          const errorCode = wasm._OrtGetTensorData(\n              tensor, tensorDataOffset, tensorDataOffset + 4, tensorDataOffset + 8, tensorDataOffset + 12);\n          ifErrCodeCheckLastError(errorCode, `Can't access output tensor data on index ${i}.`);\n\n          let tensorDataIndex = tensorDataOffset / 4;\n          const dataType = wasm.HEAPU32[tensorDataIndex++];\n          dataOffset = wasm.HEAPU32[tensorDataIndex++];\n          const dimsOffset = wasm.HEAPU32[tensorDataIndex++];\n          const dimsLength = wasm.HEAPU32[tensorDataIndex++];\n          const dims = [];\n          for (let i = 0; i < dimsLength; i++) {\n            dims.push(wasm.HEAPU32[dimsOffset / 4 + i]);\n          }\n          wasm._OrtFree(dimsOffset);\n\n          const size = dims.reduce((a, b) => a * b, 1);\n          type = tensorDataTypeEnumToString(dataType);\n\n          if (type === 'string') {\n            const stringData: string[] = [];\n            let dataIndex = dataOffset / 4;\n            for (let i = 0; i < size; i++) {\n              const offset = wasm.HEAPU32[dataIndex++];\n              const maxBytesToRead = i === size - 1 ? undefined : wasm.HEAPU32[dataIndex] - offset;\n              stringData.push(wasm.UTF8ToString(offset, maxBytesToRead));\n            }\n            output.push([type, dims, stringData, 'cpu']);\n          } else {\n            const typedArrayConstructor = tensorTypeToTypedArrayConstructor(type);\n            const data = new typedArrayConstructor(size);\n            new Uint8Array(data.buffer, data.byteOffset, data.byteLength)\n                .set(wasm.HEAPU8.subarray(dataOffset, dataOffset + data.byteLength));\n            output.push([type, dims, data, 'cpu']);\n          }\n        } finally {\n          wasm.stackRestore(beforeGetTensorDataStack);\n          if (type === 'string' && dataOffset) {\n            wasm._free(dataOffset);\n          }\n          wasm._OrtReleaseTensor(tensor);\n        }\n      }\n\n      return output;\n    };\n\nexport const lazyResetGrad = async(trainingSessionId: number): Promise<void> => {\n  const wasm = getInstance();\n\n  if (wasm._OrtTrainingLazyResetGrad) {\n    const errorCode = wasm._OrtTrainingLazyResetGrad(trainingSessionId);\n    ifErrCodeCheckLastError(errorCode, 'Can\\'t call lazyResetGrad.');\n  } else {\n    throw new Error(NO_TRAIN_FUNCS_MSG);\n  }\n};\n\nexport const runTrainStep = async(\n    trainingSessionId: number, inputIndices: number[], inputTensors: TensorMetadata[], outputIndices: number[],\n    outputTensors: Array<TensorMetadata|null>, options: InferenceSession.RunOptions): Promise<TensorMetadata[]> => {\n  const wasm = getInstance();\n\n  const inputCount = inputIndices.length;\n  const outputCount = outputIndices.length;\n\n  let runOptionsHandle = 0;\n  let runOptionsAllocs: number[] = [];\n\n  const inputTensorHandles: number[] = [];\n  const outputTensorHandles: number[] = [];\n  const inputOutputAllocs: number[] = [];\n\n  const beforeRunStack = wasm.stackSave();\n\n  try {\n    // prepare parameters by moving them to heap\n    [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\n\n    // handle inputs -- you don't want anything added to the index\n    const inputValuesOffset = createAndAllocateTensors(\n        trainingSessionId, inputIndices, inputTensors, inputTensorHandles, inputOutputAllocs, 0);\n    // handle outputs\n    // you want inputCount to be added to the index of every output tensor passed to prepareInputOutputTensor\n    const outputValuesOffset = createAndAllocateTensors(\n        trainingSessionId, outputIndices, outputTensors, outputTensorHandles, inputOutputAllocs, inputCount);\n\n    if (wasm._OrtTrainingRunTrainStep) {\n      const errorCode = wasm._OrtTrainingRunTrainStep(\n          trainingSessionId, inputValuesOffset, inputCount, outputValuesOffset, outputCount, runOptionsHandle);\n      ifErrCodeCheckLastError(errorCode, 'failed to call OrtTrainingRunTrainStep in the WebAssembly layer');\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n\n    return moveOutputToTensorMetadataArr(outputValuesOffset, outputCount, outputTensorHandles, outputTensors);\n  } finally {\n    wasm.stackRestore(beforeRunStack);\n\n    inputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\n    outputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\n    inputOutputAllocs.forEach(p => wasm._free(p));\n\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    runOptionsAllocs.forEach(p => wasm._free(p));\n  }\n};\n\nexport const runOptimizerStep =\n    async(trainingSessionId: number, options: InferenceSession.RunOptions): Promise<void> => {\n  const wasm = getInstance();\n\n  let runOptionsHandle = 0;\n  let runOptionsAllocs: number[] = [];\n\n  try {\n    [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\n\n    if (wasm._OrtTrainingOptimizerStep) {\n      const errCode = wasm._OrtTrainingOptimizerStep(trainingSessionId, runOptionsHandle);\n      ifErrCodeCheckLastError(errCode, 'Failed to call OrtTrainingOptimizerStep in the WebAssembly layer');\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n  } finally {\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    runOptionsAllocs.forEach(p => wasm._free(p));\n  }\n};\n\nexport const runEvalStep = async(\n    trainingSessionId: number, inputIndices: number[], inputTensors: TensorMetadata[], outputIndices: number[],\n    outputTensors: Array<TensorMetadata|null>, options: InferenceSession.RunOptions): Promise<TensorMetadata[]> => {\n  const wasm = getInstance();\n\n  const inputCount = inputIndices.length;\n  const outputCount = outputIndices.length;\n\n  let runOptionsHandle = 0;\n  let runOptionsAllocs: number[] = [];\n\n  const inputTensorHandles: number[] = [];\n  const outputTensorHandles: number[] = [];\n  const inputOutputAllocs: number[] = [];\n\n  const beforeRunStack = wasm.stackSave();\n\n  try {\n    // prepare parameters by moving them to heap\n    [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\n\n    // handle inputs -- you don't want anything added to the index\n    const inputValuesOffset = createAndAllocateTensors(\n        trainingSessionId, inputIndices, inputTensors, inputTensorHandles, inputOutputAllocs, 0);\n    // handle outputs\n    // you want inputCount to be added to the index of every output tensor passed to prepareInputOutputTensor\n    const outputValuesOffset = createAndAllocateTensors(\n        trainingSessionId, outputIndices, outputTensors, outputTensorHandles, inputOutputAllocs, inputCount);\n\n    if (wasm._OrtTrainingEvalStep) {\n      const errorCode = wasm._OrtTrainingEvalStep(\n          trainingSessionId, inputValuesOffset, inputCount, outputValuesOffset, outputCount, runOptionsHandle);\n\n      ifErrCodeCheckLastError(errorCode, 'failed to call OrtTrainingEvalStep in the WebAssembly layer');\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n\n    return moveOutputToTensorMetadataArr(outputValuesOffset, outputCount, outputTensorHandles, outputTensors);\n  } finally {\n    wasm.stackRestore(beforeRunStack);\n\n    inputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\n    outputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\n    inputOutputAllocs.forEach(p => wasm._free(p));\n\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    runOptionsAllocs.forEach(p => wasm._free(p));\n  }\n};\n\nexport const getParametersSize = (trainingSessionId: number, trainableOnly: boolean): number => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n\n  try {\n    const sizeOffset = wasm.stackAlloc(4);\n    if (wasm._OrtTrainingGetParametersSize) {\n      const errorCode = wasm._OrtTrainingGetParametersSize(trainingSessionId, sizeOffset, trainableOnly);\n      ifErrCodeCheckLastError(errorCode, 'Can\\'t get parameters size');\n\n      return wasm.HEAP32[sizeOffset / 4];\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n\nexport const getContiguousParameters =\n    async(trainingSessionId: number, trainableOnly: boolean): Promise<TensorMetadata> => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n\n  const tensorTypeAsString = 'float32';\n  const locationAsString = 'cpu';\n\n  const parametersSize = getParametersSize(trainingSessionId, trainableOnly);\n  let tensor = 0;\n\n  // allocates a buffer of the correct size on the WASM heap\n  const paramsByteLength = 4 * parametersSize;\n  const paramsOffset = wasm._malloc(paramsByteLength);\n\n  // handles the dimensions-related createTensor parameters\n  const dims = [parametersSize];\n\n  const dimsOffset = wasm.stackAlloc(4);\n  const dimsIndex = dimsOffset / 4;\n  wasm.HEAP32[dimsIndex] = parametersSize;\n\n  try {\n    // wraps allocated array in a tensor\n    tensor = wasm._OrtCreateTensor(\n        tensorDataTypeStringToEnum(tensorTypeAsString), paramsOffset, paramsByteLength, dimsOffset, dims.length,\n        dataLocationStringToEnum(locationAsString));\n    ifErrCodeCheckLastError(\n        tensor, `Can't create tensor for getContiguousParameters. session=${trainingSessionId}.`, false);\n\n    if (wasm._OrtTrainingCopyParametersToBuffer) {\n      const errCode = wasm._OrtTrainingCopyParametersToBuffer(trainingSessionId, tensor, parametersSize, trainableOnly);\n      ifErrCodeCheckLastError(errCode, 'Can\\'t get contiguous parameters.');\n\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n\n    // copies from WASM memory to a JavaScript typed array, which is then put into a TensorMetadata object\n    const typedArrayConstructor = tensorTypeToTypedArrayConstructor(tensorTypeAsString);\n    const data = new typedArrayConstructor(parametersSize);\n    const output: TensorMetadata[] = [];\n    new Uint8Array(data.buffer, data.byteOffset, data.byteLength)\n        .set(wasm.HEAPU8.subarray(paramsOffset, paramsOffset + paramsByteLength));\n    output.push([tensorTypeAsString, dims, data, locationAsString]);\n    if (output.length !== 1) {\n      throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of\n     one, got ${output.length}`);\n    } else {\n      return output[0];\n    }\n  } finally {\n    if (tensor !== 0) {\n      wasm._OrtReleaseTensor(tensor);\n    }\n    wasm._free(paramsOffset);\n    wasm._free(dimsOffset);\n    wasm.stackRestore(stack);\n  }\n};\n\nexport const loadParametersBuffer =\n    async(trainingSessionId: number, buffer: Uint8Array, trainableOnly: boolean): Promise<void> => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n\n  const tensorTypeAsString = 'float32';\n  const locationAsString = 'cpu';\n\n  // allocates & copies JavaScript buffer to WASM heap\n  const bufferByteLength = buffer.length;\n  const bufferCount = bufferByteLength / 4;\n  const bufferOffset = wasm._malloc(bufferByteLength);\n  wasm.HEAPU8.set(buffer, bufferOffset);\n\n  // allocates and handles moving dimensions information to WASM memory\n  const dimsOffset = wasm.stackAlloc(4);\n  wasm.HEAP32[dimsOffset / 4] = bufferCount;\n  const dimsLength = 1;\n  let tensor = 0;\n\n  try {\n    tensor = wasm._OrtCreateTensor(\n        tensorDataTypeStringToEnum(tensorTypeAsString), bufferOffset, bufferByteLength, dimsOffset, dimsLength,\n        dataLocationStringToEnum(locationAsString));\n    ifErrCodeCheckLastError(tensor, `Can't create tensor for input/output. session=${trainingSessionId}`, false);\n\n    if (wasm._OrtTrainingCopyParametersFromBuffer) {\n      const errCode = wasm._OrtTrainingCopyParametersFromBuffer(trainingSessionId, tensor, bufferCount, trainableOnly);\n      ifErrCodeCheckLastError(errCode, 'Can\\'t copy buffer to parameters.');\n    } else {\n      throw new Error(NO_TRAIN_FUNCS_MSG);\n    }\n  } finally {\n    if (tensor !== 0) {\n      wasm._OrtReleaseTensor(tensor);\n    }\n    wasm.stackRestore(stack);\n    wasm._free(bufferOffset);\n    wasm._free(dimsOffset);\n  }\n};\n\nexport const releaseTrainingSessionAndCheckpoint = (checkpointId: number, sessionId: number): void => {\n  const wasm = getInstance();\n\n  if (wasm._OrtTrainingReleaseSession) {\n    wasm._OrtTrainingReleaseSession(sessionId);\n  }\n  if (wasm._OrtTrainingReleaseCheckpoint) {\n    wasm._OrtTrainingReleaseCheckpoint(checkpointId);\n  }\n};\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession, OnnxValue, SessionHandler, Tensor, TrainingSessionHandler} from 'onnxruntime-common';\n\nimport {SerializableInternalBuffer, TensorMetadata} from './proxy-messages';\nimport {decodeTensorMetadata, encodeTensorMetadata} from './session-handler-inference';\nimport {copyFromExternalBuffer} from './wasm-core-impl';\nimport {createCheckpointHandle, createTrainingSessionHandle, getContiguousParameters, getModelInputOutputNames, getParametersSize, lazyResetGrad, loadParametersBuffer, releaseTrainingSessionAndCheckpoint, runEvalStep, runOptimizerStep, runTrainStep} from './wasm-training-core-impl';\n\nexport class OnnxruntimeWebAssemblyTrainingSessionHandler implements TrainingSessionHandler {\n  private sessionId: number;\n  private checkpointId: number;\n\n  inputNames: string[];\n  outputNames: string[];\n\n  evalInputNames: string[] = [];\n  evalOutputNames: string[] = [];\n\n  async uriOrBufferToHeap(uriOrBuffer: string|Uint8Array): Promise<SerializableInternalBuffer> {\n    let buffer: Uint8Array;\n    if (typeof uriOrBuffer === 'string') {\n      const response = await fetch(uriOrBuffer);\n      const arrayBuffer = await response.arrayBuffer();\n      buffer = new Uint8Array(arrayBuffer);\n    } else {\n      buffer = uriOrBuffer;\n    }\n    return copyFromExternalBuffer(buffer);\n  }\n\n  async createTrainingSession(\n      checkpointStateUriOrBuffer: string|Uint8Array, trainModelUriOrBuffer: string|Uint8Array,\n      evalModelUriOrBuffer: string|Uint8Array, optimizerModelUriOrBuffer: string|Uint8Array,\n      options: InferenceSession.SessionOptions) {\n    const checkpointData: SerializableInternalBuffer = await this.uriOrBufferToHeap(checkpointStateUriOrBuffer);\n    const trainModelData: SerializableInternalBuffer = await this.uriOrBufferToHeap(trainModelUriOrBuffer);\n    // 0 is supposed to be the nullptr\n    let evalModelData: SerializableInternalBuffer = [0, 0];\n    let optimizerModelData: SerializableInternalBuffer = [0, 0];\n\n    if (evalModelUriOrBuffer !== '') {\n      evalModelData = await this.uriOrBufferToHeap(evalModelUriOrBuffer);\n    }\n    if (optimizerModelUriOrBuffer !== '') {\n      optimizerModelData = await this.uriOrBufferToHeap(optimizerModelUriOrBuffer);\n    }\n\n    this.checkpointId = createCheckpointHandle(checkpointData);\n    this.sessionId =\n        createTrainingSessionHandle(this.checkpointId, trainModelData, evalModelData, optimizerModelData, options);\n    [this.inputNames, this.outputNames] = getModelInputOutputNames(this.sessionId, false);\n    if (evalModelUriOrBuffer !== '') {\n      [this.evalInputNames, this.evalOutputNames] = getModelInputOutputNames(this.sessionId, true);\n    }\n  }\n\n  /**\n   * Helper method that converts a feeds or fetches datatype to two arrays, one of values and one that stores the\n   * corresponding name as a number referring to the index in the list of names provided.\n   *\n   * @param feeds meant to match either SessionHandler.FeedsType or SessionHandler.FetchesType\n   * @param names either inputNames or outputNames\n   * @returns a tuple of a list of values and a list of indices.\n   */\n  convertMapIntoValuesArrayAndIndicesArray<T, U>(\n      feeds: {[name: string]: T}, names: string[], mapFunc: (val: T, index: number) => U): [T[], number[], U[]] {\n    const values: T[] = [];\n    const indices: number[] = [];\n    Object.entries(feeds).forEach(kvp => {\n      const name = kvp[0];\n      const tensor = kvp[1];\n      const index = names.indexOf(name);\n      if (index === -1) {\n        throw new Error(`invalid input '${name}`);\n      }\n      values.push(tensor);\n      indices.push(index);\n    });\n\n    const uList = values.map(mapFunc);\n    return [values, indices, uList];\n  }\n\n  /**\n   * Helper method that converts the TensorMetadata that the wasm-core functions return to the\n   * SessionHandler.ReturnType. Any outputs in the provided outputArray that are falsy will be populated with the\n   * corresponding result.\n   *\n   * @param results used to populate the resultMap if there is no value for that outputName already\n   * @param outputArray used to populate the resultMap. If null or undefined, use the corresponding result from results\n   * @param outputIndices specifies which outputName the corresponding value for outputArray refers to.\n   * @returns a map of output names and OnnxValues.\n   */\n  convertTensorMetadataToReturnType(\n      results: TensorMetadata[], outputArray: Array<Tensor|null>, outputIndices: number[]): SessionHandler.ReturnType {\n    const resultMap: SessionHandler.ReturnType = {};\n    for (let i = 0; i < results.length; i++) {\n      resultMap[this.outputNames[outputIndices[i]]] = outputArray[i] ?? decodeTensorMetadata(results[i]);\n    }\n    return resultMap;\n  }\n\n  async lazyResetGrad(): Promise<void> {\n    await lazyResetGrad(this.sessionId);\n  }\n\n  async runTrainStep(\n      feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType,\n      options: InferenceSession.RunOptions): Promise<SessionHandler.ReturnType> {\n    const [, inputIndices, inputs] = this.convertMapIntoValuesArrayAndIndicesArray<Tensor, TensorMetadata>(\n        feeds, this.inputNames,\n        (t, i): TensorMetadata => encodeTensorMetadata(t, () => `input \"${this.inputNames[inputIndices[i]]}\"`));\n\n    const [outputArray, outputIndices, outputs] =\n        this.convertMapIntoValuesArrayAndIndicesArray<Tensor|null, TensorMetadata|null>(\n            fetches, this.outputNames,\n            (t, i): TensorMetadata|null =>\n                t ? encodeTensorMetadata(t, () => `output \"${this.outputNames[outputIndices[i]]}\"`) : null);\n\n    const results = await runTrainStep(this.sessionId, inputIndices, inputs, outputIndices, outputs, options);\n    return this.convertTensorMetadataToReturnType(results, outputArray, outputIndices);\n  }\n\n  async runOptimizerStep(options: InferenceSession.RunOptions): Promise<void> {\n    await runOptimizerStep(this.sessionId, options);\n  }\n\n  async runEvalStep(\n      feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType,\n      options: InferenceSession.RunOptions): Promise<SessionHandler.ReturnType> {\n    const [, inputIndices, inputs] = this.convertMapIntoValuesArrayAndIndicesArray<Tensor, TensorMetadata>(\n        feeds, this.evalInputNames,\n        (t, i): TensorMetadata => encodeTensorMetadata(t, () => `input \"${this.evalInputNames[inputIndices[i]]}\"`));\n\n    const [outputArray, outputIndices, outputs] =\n        this.convertMapIntoValuesArrayAndIndicesArray<Tensor|null, TensorMetadata|null>(\n            fetches, this.evalOutputNames,\n            (t, i): TensorMetadata|null =>\n                t ? encodeTensorMetadata(t, () => `output \"${this.evalOutputNames[outputIndices[i]]}\"`) : null);\n\n    const results = await runEvalStep(this.sessionId, inputIndices, inputs, outputIndices, outputs, options);\n    return this.convertTensorMetadataToReturnType(results, outputArray, outputIndices);\n  }\n\n  async getParametersSize(trainableOnly: boolean): Promise<number> {\n    return getParametersSize(this.sessionId, trainableOnly);\n  }\n\n  async loadParametersBuffer(array: Uint8Array, trainableOnly: boolean): Promise<void> {\n    await loadParametersBuffer(this.sessionId, array, trainableOnly);\n  }\n  async getContiguousParameters(trainableOnly: boolean): Promise<OnnxValue> {\n    const tensorResult = await getContiguousParameters(this.sessionId, trainableOnly);\n    return decodeTensorMetadata(tensorResult);\n  }\n\n  async dispose(): Promise<void> {\n    return releaseTrainingSessionAndCheckpoint(this.checkpointId, this.sessionId);\n  }\n}\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {InferenceSession, TrainingSessionHandler} from 'onnxruntime-common';\n\nimport {OnnxruntimeWebAssemblyBackend} from './backend-wasm';\nimport {OnnxruntimeWebAssemblyTrainingSessionHandler} from './wasm/session-handler-training';\n\nclass OnnxruntimeTrainingWebAssemblyBackend extends OnnxruntimeWebAssemblyBackend {\n  async createTrainingSessionHandler(\n      checkpointStateUriOrBuffer: string|Uint8Array, trainModelUriOrBuffer: string|Uint8Array,\n      evalModelUriOrBuffer: string|Uint8Array, optimizerModelUriOrBuffer: string|Uint8Array,\n      options: InferenceSession.SessionOptions): Promise<TrainingSessionHandler> {\n    const handler = new OnnxruntimeWebAssemblyTrainingSessionHandler();\n    await handler.createTrainingSession(\n        checkpointStateUriOrBuffer, trainModelUriOrBuffer, evalModelUriOrBuffer, optimizerModelUriOrBuffer, options);\n    return Promise.resolve(handler);\n  }\n}\n\nexport const wasmBackend = new OnnxruntimeTrainingWebAssemblyBackend();\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/* eslint-disable @typescript-eslint/no-var-requires, @typescript-eslint/no-require-imports */\n// We use \"require\" instead of \"import\" here because import statement must be put in top level. Our current code does\n// not allow bundler to tree-shaking code as expected because some codes are treated as having side effects.\n// So we import code inside the if-clause to allow bundler remove the code safely.\n\nexport * from 'onnxruntime-common';\nimport * as ort from 'onnxruntime-common';\nexport default ort;\n\nimport {registerBackend, env} from 'onnxruntime-common';\nimport {version} from './version';\n\nif (!BUILD_DEFS.DISABLE_WEBGL) {\n  const onnxjsBackend = require('./backend-onnxjs').onnxjsBackend;\n  registerBackend('webgl', onnxjsBackend, -10);\n}\n\nif (!BUILD_DEFS.DISABLE_WASM) {\n  const wasmBackend = BUILD_DEFS.DISABLE_TRAINING ? require('./backend-wasm-inference').wasmBackend :\n                                                    require('./backend-wasm-training').wasmBackend;\n  if (!BUILD_DEFS.DISABLE_WEBGPU) {\n    registerBackend('webgpu', wasmBackend, 5);\n  }\n  registerBackend('cpu', wasmBackend, 10);\n  registerBackend('wasm', wasmBackend, 10);\n  if (BUILD_DEFS.DISABLE_TRAINING) {\n    registerBackend('xnnpack', wasmBackend, 9);\n    registerBackend('webnn', wasmBackend, 9);\n  }\n}\n\nObject.defineProperty(env.versions, 'web', {value: version, enumerable: true});\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// This file is generated by /js/scripts/update-version.ts\n// Do not modify file content manually.\n\nexport const version = '1.17.0';\n"],
  "mappings": ";;;;;wgBAAA,IAcMA,GACAC,GAYOC,GA0CAC,GArEbC,GAAAC,EAAA,kBAcML,GAAqC,IAAI,IACzCC,GAAqC,CAAA,EAY9BC,GAAkB,CAACI,EAAcC,EAAkBC,IAA0B,CACxF,GAAID,GAAW,OAAOA,EAAQ,MAAS,YAAc,OAAOA,EAAQ,+BAAkC,WAAY,CAChH,IAAME,EAAiBT,GAAS,IAAIM,CAAI,EACxC,GAAIG,IAAmB,OACrBT,GAAS,IAAIM,EAAM,CAAC,QAAAC,EAAS,SAAAC,CAAQ,CAAC,MACjC,IAAIC,EAAe,SAAWD,EAEnC,OACK,GAAIC,EAAe,WAAaD,GACjCC,EAAe,UAAYF,EAC7B,MAAM,IAAI,MAAM,4BAA4BD,CAAI,oBAAoBE,CAAQ,EAAE,EAIlF,GAAIA,GAAY,EAAG,CACjB,IAAME,EAAIT,GAAyB,QAAQK,CAAI,EAC3CI,IAAM,IACRT,GAAyB,OAAOS,EAAG,CAAC,EAGtC,QAASA,EAAI,EAAGA,EAAIT,GAAyB,OAAQS,IACnD,GAAIV,GAAS,IAAIC,GAAyBS,CAAC,CAAC,EAAG,UAAYF,EAAU,CACnEP,GAAyB,OAAOS,EAAG,EAAGJ,CAAI,EAC1C,OAGJL,GAAyB,KAAKK,CAAI,EAEpC,OAGF,MAAM,IAAI,UAAU,qBAAqB,CAC3C,EAUaH,GAAiB,MAAMQ,GAAqD,CACvF,IAAMC,EAAeD,EAAa,SAAW,EAAIV,GAA2BU,EACtEE,EAAS,CAAA,EACf,QAAWC,KAAeF,EAAc,CACtC,IAAMG,EAAcf,GAAS,IAAIc,CAAW,EAC5C,GAAIC,EAAa,CACf,GAAIA,EAAY,YACd,OAAOA,EAAY,QACd,GAAIA,EAAY,QACrB,SAGF,IAAMC,EAAiB,CAAC,CAACD,EAAY,YACrC,GAAI,CACF,OAAKC,IACHD,EAAY,YAAcA,EAAY,QAAQ,KAAKD,CAAW,GAEhE,MAAMC,EAAY,YAClBA,EAAY,YAAc,GACnBA,EAAY,cACZE,EAAG,CACLD,GACHH,EAAO,KAAK,CAAC,KAAMC,EAAa,IAAKG,CAAC,CAAC,EAEzCF,EAAY,QAAU,WAEtB,OAAOA,EAAY,cAKzB,MAAM,IAAI,MAAM,oCAAoCF,EAAO,IAAII,GAAK,IAAIA,EAAE,IAAI,KAAKA,EAAE,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,EAAE,CAC1G,ICrGA,IAAAC,GAAAC,EAAA,kBAoFAC,OCpFA,IAMaC,GANbC,GAAAC,EAAA,kBAMaF,GAAU,WCNvB,IAQIG,GAESC,GAVbC,GAAAC,EAAA,kBAIAC,KAIIJ,GAAwC,UAE/BC,GAAW,CACtB,KAAM,CAAA,EACN,MAAO,CAAA,EACP,OAAQ,CAAA,EACR,SAAU,CAAC,OAAQI,EAAO,EAE1B,IAAI,SAASC,EAAmB,CAC9B,GAAIA,IAAU,OAGd,IAAI,OAAOA,GAAU,UAAY,CAAC,UAAW,OAAQ,UAAW,QAAS,OAAO,EAAE,QAAQA,CAAK,IAAM,GACnG,MAAM,IAAI,MAAM,8BAA8BA,CAAK,EAAE,EAEvDN,GAAgBM,EAClB,EACA,IAAI,UAAQ,CACV,OAAON,EACT,GAIF,OAAO,eAAeC,GAAK,WAAY,CAAC,WAAY,EAAI,CAAC,IC/BzD,IAwMaM,GAxMbC,GAAAC,EAAA,kBAGAC,KAqMaH,GAAWA,KCxMxB,IASaI,GA0FAC,GAnGbC,GAAAC,EAAA,kBASaH,GAAkB,CAACI,EAAgBC,IAA4C,CAC1F,IAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQF,EAAO,KAAK,CAAC,EAC5BE,EAAO,OAASF,EAAO,KAAK,CAAC,EAC7B,IAAMG,EAAkBD,EAAO,WAAW,IAAI,EAE9C,GAAIC,GAAmB,KAAM,CAE3B,IAAIC,EACAC,EACAJ,GAAS,eAAiB,QAAaA,EAAQ,eAAiB,QAClEG,EAAQJ,EAAO,KAAK,CAAC,EACrBK,EAASL,EAAO,KAAK,CAAC,IAEtBI,EAAQJ,EAAO,KAAK,CAAC,EACrBK,EAASL,EAAO,KAAK,CAAC,GAGxB,IAAMM,EAAcL,GAAS,SAAW,OAAYA,EAAQ,OAAS,MAE/DM,EAAON,GAAS,KAClBO,EACAC,EACAF,IAAS,QAAaA,EAAK,OAAS,OACtCC,EAAW,CAAC,IAAK,IAAK,IAAK,GAAG,EAE1B,OAAQD,EAAK,MAAU,SACzBC,EAAW,CAACD,EAAK,KAAMA,EAAK,KAAMA,EAAK,KAAMA,EAAK,IAAI,GAEtDC,EAAW,CAACD,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAG,CAAC,EACnDA,EAAK,KAAK,CAAC,IAAM,SACnBC,EAAS,CAAC,EAAID,EAAK,KAAK,CAAC,IAI3BA,IAAS,QAAaA,EAAK,OAAS,OACtCE,EAAW,CAAC,EAAG,EAAG,EAAG,CAAC,EAElB,OAAQF,EAAK,MAAU,SACzBE,EAAW,CAACF,EAAK,KAAMA,EAAK,KAAMA,EAAK,KAAMA,EAAK,IAAI,GAEtDE,EAAW,CAACF,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAG,CAAC,EACnDA,EAAK,KAAK,CAAC,IAAM,SACnBE,EAAS,CAAC,EAAIF,EAAK,KAAK,CAAC,IAK/B,IAAMG,EAASL,EAASD,EAEpBO,EAAiB,EAAGC,EAAiBF,EAAQG,EAAiBH,EAAS,EAAGI,EAAiB,GAG3FR,IAAgB,QAClBK,EAAiB,EACjBC,EAAiBF,EACjBG,EAAiBH,EAAS,EAC1BI,EAAiBJ,EAAS,GACjBJ,IAAgB,OACzBK,EAAiB,EACjBC,EAAiBF,EACjBG,EAAiBH,EAAS,GACjBJ,IAAgB,QACzBK,EAAiB,EACjBE,EAAiBH,EACjBE,EAAiBF,EAAS,GAG5B,QAASK,EAAI,EAAGA,EAAIV,EAAQU,IAC1B,QAASC,EAAI,EAAGA,EAAIZ,EAAOY,IAAK,CAC9B,IAAMC,GAAMjB,EAAO,KAAKW,GAAgB,EAAeF,EAAS,CAAC,GAAKD,EAAS,CAAC,EAC1EU,GAAMlB,EAAO,KAAKY,GAAgB,EAAeH,EAAS,CAAC,GAAKD,EAAS,CAAC,EAC1EW,GAAMnB,EAAO,KAAKa,GAAgB,EAAeJ,EAAS,CAAC,GAAKD,EAAS,CAAC,EAC1EY,EAAIN,IAAmB,GACzB,KACEd,EAAO,KAAKc,GAAgB,EAAeL,EAAS,CAAC,GAAKD,EAAS,CAAC,EAE1EL,EAAgB,UAAY,QAAUc,EAAI,IAAMC,EAAI,IAAMC,EAAI,IAAMC,EAAI,IACxEjB,EAAgB,SAASa,EAAGD,EAAG,EAAG,CAAC,EAGvC,OAAOb,EAAO,UAAS,MAEvB,OAAM,IAAI,MAAM,2BAA2B,CAE/C,EAKaL,GAAoB,CAACG,EAAgBC,IAAiD,CACjG,IAAME,EAAkB,SAAS,cAAc,QAAQ,EAAE,WAAW,IAAI,EACpEkB,EACJ,GAAIlB,GAAmB,KAAM,CAE3B,IAAIC,EACAC,EACAiB,EACArB,GAAS,eAAiB,QAAaA,EAAQ,eAAiB,QAClEG,EAAQJ,EAAO,KAAK,CAAC,EACrBK,EAASL,EAAO,KAAK,CAAC,EACtBsB,EAAWtB,EAAO,KAAK,CAAC,IAExBI,EAAQJ,EAAO,KAAK,CAAC,EACrBK,EAASL,EAAO,KAAK,CAAC,EACtBsB,EAAWtB,EAAO,KAAK,CAAC,GAE1B,IAAMM,EAAcL,IAAY,QAAaA,EAAQ,SAAW,OAAYA,EAAQ,OAAkB,MAEhGM,EAAON,GAAS,KAClBO,EACAC,EACAF,IAAS,QAAaA,EAAK,OAAS,OACtCC,EAAW,CAAC,IAAK,IAAK,IAAK,GAAG,EAE1B,OAAQD,EAAK,MAAU,SACzBC,EAAW,CAACD,EAAK,KAAMA,EAAK,KAAMA,EAAK,KAAMA,EAAK,IAAI,GAEtDC,EAAW,CAACD,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAG,GAAG,EACrDA,EAAK,KAAK,CAAC,IAAM,SACnBC,EAAS,CAAC,EAAID,EAAK,KAAK,CAAC,IAI3BA,IAAS,QAAaA,EAAK,OAAS,OACtCE,EAAW,CAAC,EAAG,EAAG,EAAG,CAAC,EAElB,OAAQF,EAAK,MAAU,SACzBE,EAAW,CAACF,EAAK,KAAMA,EAAK,KAAMA,EAAK,KAAMA,EAAK,IAAI,GAEtDE,EAAW,CAACF,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAGA,EAAK,KAAK,CAAC,EAAG,CAAC,EACnDA,EAAK,KAAK,CAAC,IAAM,SACnBE,EAAS,CAAC,EAAIF,EAAK,KAAK,CAAC,IAK/B,IAAMG,EAASL,EAASD,EACxB,GAAIH,IAAY,SACVA,EAAQ,SAAW,QAAcqB,IAAa,GAAKrB,EAAQ,SAAW,QACrEqB,IAAa,GAAMrB,EAAQ,SAAW,OAASA,EAAQ,SAAW,OACrE,MAAM,IAAI,MAAM,+CAAgD,EAKpE,IAAMsB,EAAO,EACTC,EAAgB,EAAGC,EAAgB,EAAGC,EAAgB,EAAGC,EAAgB,EACzEhB,EAAiB,EAAGC,EAAiBF,EAAQG,EAAiBH,EAAS,EAAGI,EAAiB,GAG3FR,IAAgB,QAClBK,EAAiB,EACjBC,EAAiBF,EACjBG,EAAiBH,EAAS,EAC1BI,EAAiBJ,EAAS,GACjBJ,IAAgB,OACzBK,EAAiB,EACjBC,EAAiBF,EACjBG,EAAiBH,EAAS,GACjBJ,IAAgB,QACzBK,EAAiB,EACjBE,EAAiBH,EACjBE,EAAiBF,EAAS,GAG5BW,EAAQlB,EAAgB,gBAAgBC,EAAOC,CAAM,EAErD,QAASU,EAAI,EAAGA,EAAIV,EAASD,EACxBoB,GAAiBD,EAAME,GAAiBF,EAAMG,GAAiBH,EAAMI,GAAiBJ,EAAMR,IAC/FM,EAAM,KAAKG,CAAa,GAAMxB,EAAO,KAAKW,GAAgB,EAAeF,EAAS,CAAC,GAAKD,EAAS,CAAC,EAClGa,EAAM,KAAKI,CAAa,GAAMzB,EAAO,KAAKY,GAAgB,EAAeH,EAAS,CAAC,GAAKD,EAAS,CAAC,EAClGa,EAAM,KAAKK,CAAa,GAAM1B,EAAO,KAAKa,GAAgB,EAAeJ,EAAS,CAAC,GAAKD,EAAS,CAAC,EAClGa,EAAM,KAAKM,CAAa,EAAIb,IAAmB,GAC3C,KACEd,EAAO,KAAKc,GAAgB,EAAeL,EAAS,CAAC,GAAKD,EAAS,CAAC,MAI5E,OAAM,IAAI,MAAM,2BAA2B,EAE7C,OAAOa,CACT,IC/LA,IAiBaO,GAkFAC,GA8IAC,GAWAC,GASAC,GArQbC,GAAAC,EAAA,kBAIAC,KAaaP,GAAiB,CAACQ,EAAqCC,IAA0C,CAC5G,GAAID,IAAW,OACb,MAAM,IAAI,MAAM,8BAA8B,EAEhD,GAAIC,EAAQ,SAAW,QAAaA,EAAQ,QAAU,OACpD,MAAM,IAAI,MAAM,wCAAwC,EAE1D,GAAIA,EAAQ,eAAiB,OAC3B,MAAM,IAAI,MAAM,yCAAyC,EAG3D,GAAM,CAAC,OAAAC,EAAQ,MAAAC,CAAK,EAAIF,EAElBG,EAAOH,EAAQ,MAAQ,CAAC,KAAM,IAAK,KAAM,CAAC,EAC5CI,EACAC,EAEA,OAAQF,EAAK,MAAU,SACzBC,EAAW,CAACD,EAAK,KAAMA,EAAK,KAAMA,EAAK,KAAMA,EAAK,IAAI,EAEtDC,EAAW,CAACD,EAAK,KAAM,CAAC,EAAGA,EAAK,KAAM,CAAC,EAAGA,EAAK,KAAM,CAAC,EAAGA,EAAK,KAAM,CAAC,GAAK,GAAG,EAG3E,OAAQA,EAAK,MAAU,SACzBE,EAAW,CAACF,EAAK,KAAMA,EAAK,KAAMA,EAAK,KAAMA,EAAK,IAAI,EAEtDE,EAAW,CAACF,EAAK,KAAM,CAAC,EAAGA,EAAK,KAAM,CAAC,EAAGA,EAAK,KAAM,CAAC,EAAGA,EAAK,KAAM,CAAC,GAAK,CAAC,EAG7E,IAAMG,EAAcN,EAAQ,SAAW,OAAYA,EAAQ,OAAS,OAG9DO,EACFP,EAAQ,eAAiB,QAAaA,EAAQ,eAAiB,OAAYA,EAAQ,aAAwB,MACzGQ,EAASP,EAASC,EAClBO,EAAcF,IAAiB,OAAS,IAAI,aAAaC,EAAS,CAAC,EAAI,IAAI,aAAaA,EAAS,CAAC,EAGpGE,EAAO,EAAGC,EAAgB,EAAGC,EAAgB,EAAGC,EAAgB,EAAGC,EAAgB,EACnFC,EAAiB,EAAGC,EAAiBR,EAAQS,EAAiBT,EAAS,EAAGU,EAAiB,GAG3FZ,IAAgB,QAClBI,EAAO,EACPC,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,IAIdP,IAAiB,OACnBW,EAAiBV,EAAS,EACjBD,IAAiB,OAC1BQ,EAAiB,EACjBE,EAAiBT,EACjBQ,EAAiBR,EAAS,GACjBD,IAAiB,QAC1BU,EAAiB,EACjBD,EAAiBR,EACjBO,EAAiBP,EAAS,GAG5B,QAASW,EAAI,EAAGA,EAAIX,EACfW,IAAKR,GAAiBD,EAAMG,GAAiBH,EAAME,GAAiBF,EAAMI,GAAiBJ,EAC9FD,EAAYM,GAAgB,GAAKhB,EAAOY,CAAa,EAAIN,EAAS,CAAC,GAAKD,EAAS,CAAC,EAClFK,EAAYO,GAAgB,GAAKjB,EAAOa,CAAa,EAAIP,EAAS,CAAC,GAAKD,EAAS,CAAC,EAClFK,EAAYQ,GAAgB,GAAKlB,EAAOc,CAAa,EAAIR,EAAS,CAAC,GAAKD,EAAS,CAAC,EAC9Ec,IAAmB,IAAMJ,IAAkB,KAC7CL,EAAYS,GAAgB,GAAKnB,EAAOe,CAAa,EAAIT,EAAS,CAAC,GAAKD,EAAS,CAAC,GAOtF,OAFqBG,IAAiB,OAAS,IAAIa,GAAO,UAAWX,EAAa,CAAC,EAAG,EAAGR,EAAQC,CAAK,CAAC,EACxD,IAAIkB,GAAO,UAAWX,EAAa,CAAC,EAAG,EAAGR,EAAQC,CAAK,CAAC,CAEzG,EAKaV,GAAkB,MAC3B6B,EACArB,IACyC,CAE3C,IAAMsB,EAAiB,OAAQ,iBAAsB,KAAeD,aAAiB,iBAC/EE,EAAiB,OAAQ,UAAe,KAAeF,aAAiB,UACxEG,EAAgB,OAAQ,YAAiB,KAAeH,aAAiB,YACzEI,EAAW,OAAOJ,GAAU,SAE9BK,EACAC,EAA+C3B,GAAW,CAAA,EAG9D,GAAIsB,EAAgB,CAElB,IAAMM,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQP,EAAM,MACrBO,EAAO,OAASP,EAAM,OACtB,IAAMQ,EAAkBD,EAAO,WAAW,IAAI,EAE9C,GAAIC,GAAmB,KAAM,CAC3B,IAAI5B,EAASoB,EAAM,OACfnB,EAAQmB,EAAM,MAMlB,GALIrB,IAAY,QAAaA,EAAQ,gBAAkB,QAAaA,EAAQ,eAAiB,SAC3FC,EAASD,EAAQ,cACjBE,EAAQF,EAAQ,cAGdA,IAAY,OAAW,CAEzB,GADA2B,EAAwB3B,EACpBA,EAAQ,eAAiB,OAC3B,MAAM,IAAI,MAAM,6DAA6D,EAE7E2B,EAAsB,aAAe,OAEvCA,EAAsB,OAAS1B,EAC/B0B,EAAsB,MAAQzB,OAE9ByB,EAAsB,aAAe,OACrCA,EAAsB,OAAS1B,EAC/B0B,EAAsB,MAAQzB,EAGhC2B,EAAgB,UAAUR,EAAO,EAAG,CAAC,EACrCK,EAAOG,EAAgB,aAAa,EAAG,EAAG3B,EAAOD,CAAM,EAAE,SAEzD,OAAM,IAAI,MAAM,2BAA2B,UAEpCsB,EAAgB,CACzB,IAAItB,EACAC,EAiBJ,GAfIF,IAAY,QAAaA,EAAQ,eAAiB,QAAaA,EAAQ,gBAAkB,QAC3FC,EAASD,EAAQ,cACjBE,EAAQF,EAAQ,eAEhBC,EAASoB,EAAM,OACfnB,EAAQmB,EAAM,OAGZrB,IAAY,SACd2B,EAAwB3B,GAE1B2B,EAAsB,OAAS,OAC/BA,EAAsB,OAAS1B,EAC/B0B,EAAsB,MAAQzB,EAE1BF,IAAY,OAAW,CACzB,IAAM8B,EAAa,SAAS,cAAc,QAAQ,EAElDA,EAAW,MAAQ5B,EACnB4B,EAAW,OAAS7B,EAEpB,IAAM4B,EAAkBC,EAAW,WAAW,IAAI,EAElD,GAAID,GAAmB,KACrBA,EAAgB,aAAaR,EAAO,EAAG,CAAC,EACxCK,EAAOG,EAAgB,aAAa,EAAG,EAAG3B,EAAOD,CAAM,EAAE,SAEzD,OAAM,IAAI,MAAM,2BAA2B,OAG7CyB,EAAOL,EAAM,aAENG,EAAe,CAExB,GAAIxB,IAAY,OACd,MAAM,IAAI,MAAM,yDAAyD,EAG3E,IAAM4B,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQP,EAAM,MACrBO,EAAO,OAASP,EAAM,OACtB,IAAMQ,EAAkBD,EAAO,WAAW,IAAI,EAE9C,GAAIC,GAAmB,KAAM,CAC3B,IAAM5B,EAASoB,EAAM,OACfnB,EAAQmB,EAAM,MACpB,OAAAQ,EAAgB,UAAUR,EAAO,EAAG,EAAGnB,EAAOD,CAAM,EACpDyB,EAAOG,EAAgB,aAAa,EAAG,EAAG3B,EAAOD,CAAM,EAAE,KACzD0B,EAAsB,OAAS1B,EAC/B0B,EAAsB,MAAQzB,EACvBX,GAAemC,EAAMC,CAAqB,MAEjD,OAAM,IAAI,MAAM,2BAA2B,MAExC,IAAIF,EACT,OAAO,IAAI,QAAQ,CAACM,EAASC,IAAU,CACrC,IAAMJ,EAAS,SAAS,cAAc,QAAQ,EACxCK,EAAUL,EAAO,WAAW,IAAI,EACtC,GAAI,CAACP,GAAS,CAACY,EACb,OAAOD,EAAM,EAEf,IAAME,EAAW,IAAI,MACrBA,EAAS,YAAc,YACvBA,EAAS,IAAMb,EACfa,EAAS,OAAS,IAAK,CACrBN,EAAO,MAAQM,EAAS,MACxBN,EAAO,OAASM,EAAS,OACzBD,EAAQ,UAAUC,EAAU,EAAG,EAAGN,EAAO,MAAOA,EAAO,MAAM,EAC7D,IAAMO,EAAMF,EAAQ,aAAa,EAAG,EAAGL,EAAO,MAAOA,EAAO,MAAM,EAElED,EAAsB,OAASC,EAAO,OACtCD,EAAsB,MAAQC,EAAO,MACrCG,EAAQxC,GAAe4C,EAAI,KAAMR,CAAqB,CAAC,CACzD,CACF,CAAC,EAED,MAAM,IAAI,MAAM,gEAAgE,EAGlF,GAAID,IAAS,OACX,OAAOnC,GAAemC,EAAMC,CAAqB,EAEjD,MAAM,IAAI,MAAM,gEAAgE,CAEpF,EAKalC,GAAoB,CAC7B2C,EAAsCpC,IAAgD,CACxF,GAAM,CAAC,MAAAE,EAAO,OAAAD,EAAQ,SAAAoC,EAAU,QAAAC,CAAO,EAAItC,EAErCuC,EAAO,CAAC,EAAGtC,EAAQC,EAAO,CAAC,EACjC,OAAO,IAAIkB,GAAO,CAAC,SAAU,UAAW,KAAM,UAAW,QAAAgB,EAAS,KAAAG,EAAM,SAAAF,EAAU,QAAAC,CAAO,CAAC,CAC5F,EAKa5C,GAAsB,CAC/B8C,EAA0CxC,IAAkD,CAC9F,GAAM,CAAC,SAAAyC,EAAU,KAAAF,EAAM,SAAAF,EAAU,QAAAC,CAAO,EAAItC,EAC5C,OAAO,IAAIoB,GAAO,CAAC,SAAU,aAAc,KAAMqB,GAAY,UAAW,UAAAD,EAAW,KAAAD,EAAM,SAAAF,EAAU,QAAAC,CAAO,CAAC,CAC7G,EAKa3C,GAAyB,CAClC+C,EAAS3C,EAAwCwC,IACjD,IAAInB,GAAO,CAAC,SAAU,aAAc,KAAAsB,EAAM,KAAM3C,EAAQ,KAAMwC,GAAQ,CAACxC,EAAO,MAAM,CAAC,CAAC,ICvQ1F,IAWa4C,GAcAC,GAcTC,GACSC,GAxCbC,GAAAC,EAAA,kBAWaL,GAAwC,IAAI,IAA6C,CACpG,CAAC,UAAW,YAAY,EACxB,CAAC,QAAS,UAAU,EACpB,CAAC,OAAQ,SAAS,EAClB,CAAC,SAAU,WAAW,EACtB,CAAC,UAAW,WAAW,EACvB,CAAC,QAAS,UAAU,EACpB,CAAC,QAAS,UAAU,EACpB,CAAC,OAAQ,UAAU,EACnB,CAAC,UAAW,YAAY,EACxB,CAAC,SAAU,WAAW,EACvB,EAGYC,GAAwC,IAAI,IAAkD,CACzG,CAAC,aAAc,SAAS,EACxB,CAAC,WAAY,OAAO,EACpB,CAAC,UAAW,MAAM,EAClB,CAAC,YAAa,QAAQ,EACtB,CAAC,WAAY,OAAO,EACpB,CAAC,WAAY,OAAO,EACpB,CAAC,aAAc,SAAS,EACxB,CAAC,YAAa,QAAQ,EACvB,EAKGC,GAAkB,GACTC,GAAc,IAAK,CAC9B,GAAI,CAACD,GAAiB,CACpBA,GAAkB,GAClB,IAAMI,EAA2B,OAAO,cAAkB,KAAe,OAAO,cAAc,MAAS,WACjGC,EACF,OAAO,eAAmB,KAAe,OAAO,eAAe,MAAS,WAExED,IACFN,GAAsC,IAAI,QAAS,aAAa,EAChEC,GAAsC,IAAI,cAAe,OAAO,GAE9DM,IACFP,GAAsC,IAAI,SAAU,cAAc,EAClEC,GAAsC,IAAI,eAAgB,QAAQ,GAGxE,ICxDA,IAWaO,GAkBAC,GA7BbC,GAAAC,EAAA,kBAIAC,KAOaJ,GAAiBK,GAAoC,CAChE,IAAIC,EAAO,EACX,QAASC,EAAI,EAAGA,EAAIF,EAAK,OAAQE,IAAK,CACpC,IAAMC,EAAMH,EAAKE,CAAC,EAClB,GAAI,OAAOC,GAAQ,UAAY,CAAC,OAAO,cAAcA,CAAG,EACtD,MAAM,IAAI,UAAU,QAAQD,CAAC,8BAA8BC,CAAG,EAAE,EAElE,GAAIA,EAAM,EACR,MAAM,IAAI,WAAW,QAAQD,CAAC,0CAA0CC,CAAG,EAAE,EAE/EF,GAAQE,EAEV,OAAOF,CACT,EAKaL,GAAgB,CAACQ,EAAgBJ,IAAmC,CAC/E,OAAQI,EAAO,SAAU,CACvB,IAAK,MACH,OAAO,IAAIC,GAAOD,EAAO,KAAMA,EAAO,KAAMJ,CAAI,EAClD,IAAK,aACH,OAAO,IAAIK,GAAO,CAChB,SAAU,aACV,KAAMD,EAAO,KACb,KAAMA,EAAO,KACb,KAAAJ,EACD,EACH,IAAK,UACH,OAAO,IAAIK,GAAO,CAChB,SAAU,UACV,QAASD,EAAO,QAChB,KAAMA,EAAO,KACb,KAAAJ,EACD,EACH,IAAK,aACH,OAAO,IAAIK,GAAO,CAChB,SAAU,aACV,UAAWD,EAAO,UAClB,KAAMA,EAAO,KACb,KAAAJ,EACD,EACH,QACE,MAAM,IAAI,MAAM,kCAAkCI,EAAO,QAAQ,mBAAmB,EAE1F,ICzDA,IAwBaE,GAxBbC,GAAAC,EAAA,kBAGAC,KAEAC,KAEAC,KACAC,KAgBaN,GAAP,KAAa,CAyCjB,YACIO,EAEAC,EAA8EC,EAAwB,CAExGC,GAAW,EAEX,IAAIC,EACAC,EAEJ,GAAI,OAAOL,GAAS,UAAY,aAAcA,EAO5C,OAHA,KAAK,aAAeA,EAAK,SACzBI,EAAOJ,EAAK,KACZK,EAAOL,EAAK,KACJA,EAAK,SAAU,CACrB,IAAK,aAAc,CACjB,IAAMM,EAAgCC,GAAsC,IAAIH,CAAI,EACpF,GAAI,CAACE,EACH,MAAM,IAAI,UAAU,qBAAqBF,CAAI,uCAAuC,EAEtF,GAAI,EAAEJ,EAAK,gBAAgBM,GACzB,MAAM,IAAI,UAAU,4BAA4BA,EAA8B,IAAI,EAAE,EAEtF,KAAK,QAAUN,EAAK,KACpB,MAEF,IAAK,UAAW,CACd,GAAII,IAAS,UACX,MAAM,IAAI,UAAU,qBAAqBA,CAAI,iCAAiC,EAEhF,KAAK,eAAiBJ,EAAK,QAC3B,KAAK,WAAaA,EAAK,SACvB,KAAK,SAAWA,EAAK,QACrB,MAEF,IAAK,aAAc,CACjB,GAAKI,IAAS,WAAaA,IAAS,WAAaA,IAAS,SAAWA,IAAS,SAAWA,IAAS,UAC7FA,IAAS,OACZ,MAAM,IAAI,UAAU,qBAAqBA,CAAI,oCAAoC,EAEnF,KAAK,cAAgBJ,EAAK,UAC1B,KAAK,WAAaA,EAAK,SACvB,KAAK,SAAWA,EAAK,QACrB,MAEF,QACE,MAAM,IAAI,MAAM,6CAA6C,KAAK,YAAY,GAAG,MAEhF,CAIL,IAAIQ,EACAC,EAEJ,GAAI,OAAOT,GAAS,SAMlB,GAFAI,EAAOJ,EACPS,EAAYP,EACRF,IAAS,SAAU,CAErB,GAAI,CAAC,MAAM,QAAQC,CAAI,EACrB,MAAM,IAAI,UAAU,gDAAiD,EAIvEO,EAAOP,MACF,CAEL,IAAMS,EAAwBH,GAAsC,IAAIP,CAAI,EAC5E,GAAIU,IAA0B,OAC5B,MAAM,IAAI,UAAU,4BAA4BV,CAAI,GAAG,EAEzD,GAAI,MAAM,QAAQC,CAAI,EAAG,CACvB,GAAID,IAAS,UAIX,MAAM,IAAI,UACN,+FAA+F,EAC1FA,IAAS,UAAYA,IAAS,QAYvCQ,EAAQE,EAA8B,KAAKT,EAAM,MAAM,EAIvDO,EAAQE,EAA8B,KAAKT,CAAI,UAExCA,aAAgBS,EACzBF,EAAOP,MAEP,OAAM,IAAI,UAAU,KAAKG,CAAI,kCAAkCM,CAAqB,EAAE,UAO1FD,EAAYR,EACR,MAAM,QAAQD,CAAI,EAAG,CAEvB,GAAIA,EAAK,SAAW,EAClB,MAAM,IAAI,UAAU,qDAAqD,EAE3E,IAAMW,EAAmB,OAAOX,EAAK,CAAC,EACtC,GAAIW,IAAqB,SACvBP,EAAO,SACPI,EAAOR,UACEW,IAAqB,UAC9BP,EAAO,OAIPI,EAAO,WAAW,KAAKR,CAAa,MAEpC,OAAM,IAAI,UAAU,uCAAuCW,CAAgB,GAAG,MAE3E,CAEL,IAAMC,EACFC,GAAsC,IAAIb,EAAK,WAA8C,EACjG,GAAIY,IAAe,OACjB,MAAM,IAAI,UAAU,qCAAqCZ,EAAK,WAAW,GAAG,EAE9EI,EAAOQ,EACPJ,EAAOR,EAKX,GAAIS,IAAc,OAEhBA,EAAY,CAACD,EAAK,MAAM,UACf,CAAC,MAAM,QAAQC,CAAS,EACjC,MAAM,IAAI,UAAU,wCAAyC,EAE/DJ,EAAOI,EAEP,KAAK,QAAUD,EACf,KAAK,aAAe,MAItB,IAAMM,EAAOC,GAAcV,CAAI,EAE/B,GAAI,KAAK,SAAWS,IAAS,KAAK,QAAQ,OACxC,MAAM,IAAI,MAAM,iBAAiBA,CAAI,gCAAgC,KAAK,QAAQ,MAAM,IAAI,EAG9F,KAAK,KAAOV,EACZ,KAAK,KAAOC,EACZ,KAAK,KAAOS,CACd,CAIA,aAAa,UACTE,EACAC,EACoB,CACtB,OAAOC,GAAgBF,EAAOC,CAAO,CACvC,CAEA,OAAO,YACHE,EAA4BF,EAAoC,CAClE,OAAOG,GAAkBD,EAASF,CAAO,CAC3C,CAEA,OAAO,cACHI,EAAgCJ,EAAsC,CACxE,OAAOK,GAAoBD,EAAWJ,CAAO,CAC/C,CAEA,OAAO,iBACHb,EAASmB,EAAwClB,EAAwB,CAC3E,OAAOmB,GAAuBpB,EAAMmB,EAAQlB,CAAI,CAClD,CAKA,UAAUY,EAAgC,CACxC,OAAOQ,GAAgB,KAAMR,CAAO,CACtC,CAEA,YAAYA,EAAkC,CAC5C,OAAOS,GAAkB,KAAMT,CAAO,CACxC,CAgDA,IAAI,MAAI,CAEN,GADA,KAAK,YAAW,EACZ,CAAC,KAAK,QACR,MAAM,IAAI,MACN,gJAC2E,EAEjF,OAAO,KAAK,OACd,CAEA,IAAI,UAAQ,CACV,OAAO,KAAK,YACd,CAEA,IAAI,SAAO,CAET,GADA,KAAK,YAAW,EACZ,CAAC,KAAK,eACR,MAAM,IAAI,MAAM,4CAA4C,EAE9D,OAAO,KAAK,cACd,CAEA,IAAI,WAAS,CAEX,GADA,KAAK,YAAW,EACZ,CAAC,KAAK,cACR,MAAM,IAAI,MAAM,4CAA4C,EAE9D,OAAO,KAAK,aACd,CAKA,MAAM,QAAQU,EAAqB,CAEjC,OADA,KAAK,YAAW,EACR,KAAK,aAAc,CACzB,IAAK,MACL,IAAK,aACH,OAAO,KAAK,KACd,IAAK,UACL,IAAK,aAAc,CACjB,GAAI,CAAC,KAAK,WACR,MAAM,IAAI,MAAM,qEAAqE,EAEvF,GAAI,KAAK,cACP,MAAM,IAAI,MAAM,yCAAyC,EAE3D,GAAI,CACF,KAAK,cAAgB,GACrB,IAAMnB,EAAO,MAAM,KAAK,WAAU,EAClC,YAAK,WAAa,OAClB,KAAK,aAAe,MACpB,KAAK,QAAUA,EAEXmB,GAAe,KAAK,WACtB,KAAK,SAAQ,EACb,KAAK,SAAW,QAGXnB,UAGP,KAAK,cAAgB,IAGzB,QACE,MAAM,IAAI,MAAM,kCAAkC,KAAK,YAAY,EAAE,EAE3E,CAEA,SAAO,CACL,GAAI,KAAK,cACP,MAAM,IAAI,MAAM,yCAAyC,EAGvD,KAAK,WACP,KAAK,SAAQ,EACb,KAAK,SAAW,QAElB,KAAK,QAAU,OACf,KAAK,eAAiB,OACtB,KAAK,cAAgB,OACrB,KAAK,WAAa,OAClB,KAAK,cAAgB,OAErB,KAAK,aAAe,MACtB,CAKQ,aAAW,CACjB,GAAI,KAAK,eAAiB,OACxB,MAAM,IAAI,MAAM,yBAAyB,CAE7C,CAEA,QAAQH,EAAuB,CAE7B,GADA,KAAK,YAAW,EACZ,KAAK,YAAc,KAAK,SAC1B,MAAM,IAAI,MAAM,iDAAiD,EAEnE,OAAOuB,GAAc,KAAMvB,CAAI,CACjC,KClaF,IAwUawB,GAxUbC,GAAAC,EAAA,kBAIAC,KAoUaH,GAASA,KCxUtB,IAeaI,GAfbC,GAAAC,EAAA,kBAGAC,KAIAC,KAQaJ,GAAP,MAAOK,CAAgB,CAC3B,YAAoBC,EAAgC,CAClD,KAAK,QAAUA,CACjB,CAGA,MAAM,IAAIC,EAAkBC,EAA+BC,EAAiB,CAC1E,IAAMC,EAA4C,CAAA,EAC9CC,EAAsB,CAAA,EAE1B,GAAI,OAAOJ,GAAU,UAAYA,IAAU,MAAQA,aAAiBK,IAAU,MAAM,QAAQL,CAAK,EAC/F,MAAM,IAAI,UACN,+FAAiG,EAGvG,IAAIM,EAAiB,GAErB,GAAI,OAAOL,GAAS,SAAU,CAC5B,GAAIA,IAAS,KACX,MAAM,IAAI,UAAU,yCAAyC,EAE/D,GAAIA,aAAgBI,GAClB,MAAM,IAAI,UAAU,8BAAgC,EAGtD,GAAI,MAAM,QAAQJ,CAAI,EAAG,CACvB,GAAIA,EAAK,SAAW,EAClB,MAAM,IAAI,UAAU,qCAAuC,EAE7DK,EAAiB,GAEjB,QAAWC,KAAQN,EAAM,CACvB,GAAI,OAAOM,GAAS,SAClB,MAAM,IAAI,UAAU,gDAAkD,EAExE,GAAI,KAAK,YAAY,QAAQA,CAAI,IAAM,GACrC,MAAM,IAAI,WAAW,2CAA2CA,CAAI,GAAG,EAEzEJ,EAAQI,CAAI,EAAI,KAGlB,GAAI,OAAOL,GAAS,UAAYA,IAAS,KACvCE,EAAUF,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,MAEjD,CAGL,IAAIM,EAAY,GACVC,EAAW,OAAO,oBAAoBR,CAAI,EAChD,QAAWM,KAAQ,KAAK,YACtB,GAAIE,EAAS,QAAQF,CAAI,IAAM,GAAI,CACjC,IAAMG,EAAKT,EAA4DM,CAAI,GACvEG,IAAM,MAAQA,aAAaL,MAC7BG,EAAY,GACZF,EAAiB,GACjBH,EAAQI,CAAI,EAAIG,GAKtB,GAAIF,GACF,GAAI,OAAON,GAAS,UAAYA,IAAS,KACvCE,EAAUF,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,OAGtDE,EAAUH,WAGL,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,yDAA6D,EAInF,QAAWM,KAAQ,KAAK,WACtB,GAAI,OAAOP,EAAMO,CAAI,EAAM,IACzB,MAAM,IAAI,MAAM,UAAUA,CAAI,0BAA0B,EAK5D,GAAID,EACF,QAAWC,KAAQ,KAAK,YACtBJ,EAAQI,CAAI,EAAI,KAMpB,IAAMI,EAAU,MAAM,KAAK,QAAQ,IAAIX,EAAOG,EAASC,CAAO,EACxDQ,EAA2C,CAAA,EACjD,QAAWC,KAAOF,EAChB,GAAI,OAAO,eAAe,KAAKA,EAASE,CAAG,EAAG,CAC5C,IAAMC,EAASH,EAAQE,CAAG,EACtBC,aAAkBT,GACpBO,EAAYC,CAAG,EAAIC,EAEnBF,EAAYC,CAAG,EAAI,IAAIR,GAAOS,EAAO,KAAMA,EAAO,KAAMA,EAAO,IAAI,EAIzE,OAAOF,CACT,CAEA,MAAM,SAAO,CACX,OAAO,KAAK,QAAQ,QAAO,CAC7B,CAOA,aAAa,OACTG,EAAyCd,EAA8BC,EACvEc,EAAqB,CAEvB,IAAIC,EACAb,EAA0B,CAAA,EAE9B,GAAI,OAAOW,GAAS,UAElB,GADAE,EAAuBF,EACnB,OAAOd,GAAS,UAAYA,IAAS,KACvCG,EAAUH,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,UAE7Cc,aAAgB,YAEzB,GADAE,EAAuBF,EACnB,OAAOd,GAAS,UAAYA,IAAS,KACvCG,EAAUH,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,UAGpDc,aAAgB,aACf,OAAO,kBAAsB,KAAeA,aAAgB,kBAAoB,CACnF,IAAMG,EAASH,EACXI,EAAa,EACbC,EAAaL,EAAK,WACtB,GAAI,OAAOd,GAAS,UAAYA,IAAS,KACvCG,EAAUH,UACD,OAAOA,GAAS,SAAU,CAEnC,GADAkB,EAAalB,EACT,CAAC,OAAO,cAAckB,CAAU,EAClC,MAAM,IAAI,WAAW,kCAAoC,EAE3D,GAAIA,EAAa,GAAKA,GAAcD,EAAO,WACzC,MAAM,IAAI,WAAW,oCAAoCA,EAAO,UAAU,IAAI,EAGhF,GADAE,EAAaL,EAAK,WAAaI,EAC3B,OAAOjB,GAAS,SAAU,CAE5B,GADAkB,EAAalB,EACT,CAAC,OAAO,cAAckB,CAAU,EAClC,MAAM,IAAI,WAAW,kCAAoC,EAE3D,GAAIA,GAAc,GAAKD,EAAaC,EAAaF,EAAO,WACtD,MAAM,IAAI,WAAW,oCAAoCA,EAAO,WAAaC,CAAU,IAAI,EAE7F,GAAI,OAAOH,GAAS,UAAYA,IAAS,KACvCZ,EAAUY,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,UAE7C,OAAOd,EAAS,IACzB,MAAM,IAAI,UAAU,gCAAkC,UAE/C,OAAOD,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,EAEtDgB,EAAuB,IAAI,WAAWC,EAAQC,EAAYC,CAAU,MAEpE,OAAM,IAAI,UAAU,qDAAyD,EAK/E,IAAMC,GADMjB,EAAQ,oBAAsB,CAAA,GACjB,IAAIkB,GAAK,OAAOA,GAAM,SAAWA,EAAIA,EAAE,IAAI,EAE9DvB,EAAU,MADA,MAAMwB,GAAeF,CAAY,GACnB,8BAA8BJ,EAAsBb,CAAO,EACzF,OAAO,IAAIN,EAAiBC,CAAO,CACrC,CAEA,gBAAc,CACZ,KAAK,QAAQ,eAAc,CAC7B,CACA,cAAY,CACV,KAAK,QAAQ,aAAY,CAC3B,CAEA,IAAI,YAAU,CACZ,OAAO,KAAK,QAAQ,UACtB,CACA,IAAI,aAAW,CACb,OAAO,KAAK,QAAQ,WACtB,KCrNF,IAqcayB,GArcbC,GAAAC,EAAA,kBAGAC,KAkcaH,GAA4CA,KCrczD,IAAAI,GAAAC,EAAA,oBCAA,IAgBMC,GAGOC,GAnBbC,GAAAC,EAAA,kBAGAC,KAIAC,KASML,GAA0B,gHAGnBC,GAAP,MAAOK,CAAe,CAC1B,YAAoBC,EAAiCC,EAA4BC,EAAqB,CACpG,KAAK,QAAUF,EACf,KAAK,kBAAoBC,EACzB,KAAK,aAAeC,CACtB,CAKA,IAAI,oBAAkB,CACpB,OAAO,KAAK,QAAQ,UACtB,CACA,IAAI,qBAAmB,CACrB,OAAO,KAAK,QAAQ,WACtB,CAEA,IAAI,gBAAc,CAChB,GAAI,KAAK,aACP,OAAO,KAAK,QAAQ,eAEpB,MAAM,IAAI,MAAM,gDAAgD,CAEpE,CACA,IAAI,iBAAe,CACjB,GAAI,KAAK,aACP,OAAO,KAAK,QAAQ,gBAEpB,MAAM,IAAI,MAAM,gDAAgD,CAEpE,CAEA,aAAa,OAAOC,EAA+CC,EAA+B,CAEhG,IAAMC,EAA+BF,EAAgB,WAAa,GAC5DG,EAAoCH,EAAgB,gBAAkB,GACtEI,EAA0BH,GAAkB,CAAA,EAI5CI,GADMD,EAAQ,oBAAsB,CAAA,GACjB,IAAIE,GAAK,OAAOA,GAAM,SAAWA,EAAIA,EAAE,IAAI,EAC9DC,EAAU,MAAMC,GAAeH,CAAY,EACjD,GAAIE,EAAQ,6BAA8B,CACxC,IAAMV,EAAU,MAAMU,EAAQ,6BAC1BP,EAAgB,gBAAiBA,EAAgB,WAAYE,EAAWC,EAAgBC,CAAO,EACnG,OAAO,IAAIR,EAAgBC,EAAS,CAAC,CAACG,EAAgB,eAAgB,CAAC,CAACA,EAAgB,SAAS,MAEjG,OAAM,IAAI,MAAMV,EAAe,CAEnC,CAeA,wBACImB,EAA+BC,EAAgCC,EAAkBC,EACjFC,EAAiB,CACnB,IAAMC,EAA4C,CAAA,EAC9CV,EAAsB,CAAA,EAE1B,GAAI,OAAOO,GAAU,UAAYA,IAAU,MAAQA,aAAiBI,IAAU,MAAM,QAAQJ,CAAK,EAC/F,MAAM,IAAI,UACN,+FAAiG,EAGvG,IAAIK,EAAiB,GAErB,GAAI,OAAOJ,GAAS,SAAU,CAC5B,GAAIA,IAAS,KACX,MAAM,IAAI,UAAU,yCAAyC,EAE/D,GAAIA,aAAgBG,GAClB,MAAM,IAAI,UAAU,8BAAgC,EAGtD,GAAI,MAAM,QAAQH,CAAI,EAAG,CACvB,GAAIA,EAAK,SAAW,EAClB,MAAM,IAAI,UAAU,qCAAuC,EAE7DI,EAAiB,GAEjB,QAAWC,KAAQL,EAAM,CACvB,GAAI,OAAOK,GAAS,SAClB,MAAM,IAAI,UAAU,gDAAkD,EAExE,GAAIP,EAAY,QAAQO,CAAI,IAAM,GAChC,MAAM,IAAI,WAAW,2CAA2CA,CAAI,GAAG,EAEzEH,EAAQG,CAAI,EAAI,KAGlB,GAAI,OAAOJ,GAAS,UAAYA,IAAS,KACvCT,EAAUS,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,MAEjD,CAGL,IAAIK,EAAY,GACVC,EAAW,OAAO,oBAAoBP,CAAI,EAChD,QAAWK,KAAQP,EACjB,GAAIS,EAAS,QAAQF,CAAI,IAAM,GAAI,CACjC,IAAMG,EAAKR,EAAmDK,CAAI,GAC9DG,IAAM,MAAQA,aAAaL,MAC7BG,EAAY,GACZF,EAAiB,GACjBF,EAAQG,CAAI,EAAIG,GAKtB,GAAIF,GACF,GAAI,OAAOL,GAAS,UAAYA,IAAS,KACvCT,EAAUS,UACD,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,8BAAgC,OAGtDT,EAAUQ,WAGL,OAAOA,EAAS,IACzB,MAAM,IAAI,UAAU,yDAA6D,EAInF,QAAWK,KAAQR,EACjB,GAAI,OAAOE,EAAMM,CAAI,EAAM,IACzB,MAAM,IAAI,MAAM,UAAUA,CAAI,0BAA0B,EAK5D,GAAID,EACF,QAAWC,KAAQP,EACjBI,EAAQG,CAAI,EAAI,KAIpB,MAAO,CAACH,EAASV,CAAO,CAC1B,CASA,uCAAuCiB,EAAkC,CACvE,IAAMC,EAA2C,CAAA,EACjD,QAAWC,KAAOF,EAChB,GAAI,OAAO,eAAe,KAAKA,EAASE,CAAG,EAAG,CAC5C,IAAMC,EAASH,EAAQE,CAAG,EACtBC,aAAkBT,GACpBO,EAAYC,CAAG,EAAIC,EAEnBF,EAAYC,CAAG,EAAI,IAAIR,GAAOS,EAAO,KAAMA,EAAO,KAAMA,EAAO,IAAI,EAIzE,OAAOF,CACT,CAEA,MAAM,eAAa,CACjB,MAAM,KAAK,QAAQ,cAAa,CAClC,CAIA,MAAM,aAAaX,EAAkBC,EAA+BC,EAAiB,CACnF,GAAM,CAACC,EAASV,CAAO,EACnB,KAAK,wBAAwB,KAAK,mBAAoB,KAAK,oBAAqBO,EAAOC,EAAMC,CAAI,EAC/FQ,EAAU,MAAM,KAAK,QAAQ,aAAaV,EAAOG,EAASV,CAAO,EACvE,OAAO,KAAK,uCAAuCiB,CAAO,CAC5D,CAEA,MAAM,iBAAiBjB,EAA+C,CACpE,GAAI,KAAK,kBACP,MAAM,KAAK,QAAQ,iBAAiBA,GAAW,CAAA,CAAE,MAEjD,OAAM,IAAI,MAAM,oDAAoD,CAExE,CAIA,MAAM,YAAYO,EAAkBC,EAA+BC,EAAiB,CAClF,GAAI,KAAK,aAAc,CACrB,GAAM,CAACC,EAASV,CAAO,EACnB,KAAK,wBAAwB,KAAK,eAAgB,KAAK,gBAAiBO,EAAOC,EAAMC,CAAI,EACvFQ,EAAU,MAAM,KAAK,QAAQ,YAAYV,EAAOG,EAASV,CAAO,EACtE,OAAO,KAAK,uCAAuCiB,CAAO,MAE1D,OAAM,IAAI,MAAM,+CAA+C,CAEnE,CAEA,MAAM,kBAAkBI,EAAgB,GAAI,CAC1C,OAAO,KAAK,QAAQ,kBAAkBA,CAAa,CACrD,CAEA,MAAM,qBAAqBC,EAAmBD,EAAgB,GAAI,CAChE,IAAME,EAAa,MAAM,KAAK,kBAAkBF,CAAa,EAG7D,GAAIC,EAAM,SAAW,EAAIC,EACvB,MAAM,IAAI,MACN,qJAC0D,EAEhE,OAAO,KAAK,QAAQ,qBAAqBD,EAAOD,CAAa,CAC/D,CAEA,MAAM,wBAAwBA,EAAgB,GAAI,CAChD,OAAO,KAAK,QAAQ,wBAAwBA,CAAa,CAC3D,CAEA,MAAM,SAAO,CACX,OAAO,KAAK,QAAQ,QAAO,CAC7B,KC1PF,IAmMaG,GAnMbC,GAAAC,EAAA,kBAKAC,KA8LaH,GAA0CA,KCnMvD,IAAAI,GAAA,GAAAC,GAAAD,GAAA,sBAAAE,GAAA,WAAAC,GAAA,oBAAAC,GAAA,QAAAC,GAAA,oBAAAC,KAAA,IAAAC,GAAAC,EAAA,kBAmBAC,KACAC,KACAC,KACAC,KACAC,KACAC,OCxBA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,cAAAE,KAAA,IAAaA,GAAbC,GAAAC,EAAA,KAAaF,GAAW,SCAxB,IAAAG,GAAA,GAAAC,GAAAD,GAAA,UAAAE,KAAA,IAAaA,GAAbC,GAAAC,EAAA,KAAaF,GAAO,SCApB,IAAAG,GAAAC,GAAA,CAAAC,GAAAC,KAAA,cACA,IAAIC,IAAW,IAAM,CACnB,IAAIC,EAAa,OAAO,SAAa,KAAe,SAAS,cAAgB,SAAS,cAAc,IAAM,OAC1G,OAAI,OAAO,WAAe,MAAaA,EAAaA,GAAc,YAEpE,SAASC,EAAY,CAAC,EAAG,CAEzB,IAAIC,EAAED,EAAUE,EAAEC,EAAEF,EAAE,MAAM,IAAI,QAAQ,CAACG,EAAEC,IAAI,CAACH,EAAEE,EAAED,EAAEE,CAAC,CAAC,EAAE,IAAIC,EAAE,OAAO,OAAO,CAAC,EAAEL,CAAC,EAAEM,EAAE,iBAAiBC,EAAa,OAAO,QAAjB,SAAwBC,EAAc,OAAO,eAAnB,WAAiCC,EAAa,OAAO,SAAjB,UAAoC,OAAO,QAAQ,UAAzB,UAA6C,OAAO,QAAQ,SAAS,MAAlC,SAAuCC,EAAE,GAAGC,EAAEC,EAAEC,EACrR,GAAGJ,EAAG,CAAC,IAAIK,EAAG,cAAcC,EAAE,cAAgBL,EAAEF,EAAEO,EAAE,QAAQL,CAAC,EAAE,IAAI,UAAU,IAAIC,EAAE,CAACR,EAAEC,KAAKD,EAAEA,EAAE,WAAW,SAAS,EAAE,IAAI,IAAIA,CAAC,EAAEY,EAAE,UAAUZ,CAAC,EAASW,EAAG,aAAaX,EAAEC,EAAE,OAAO,MAAM,GAAGS,EAAEV,IAAIA,EAAEQ,EAAER,EAAE,EAAE,EAAEA,EAAE,SAASA,EAAE,IAAI,WAAWA,CAAC,GAAUA,GAAGS,EAAE,CAACT,EAAEC,EAAEY,EAAEC,EAAE,KAAK,CAACd,EAAEA,EAAE,WAAW,SAAS,EAAE,IAAI,IAAIA,CAAC,EAAEY,EAAE,UAAUZ,CAAC,EAAEW,EAAG,SAASX,EAAEc,EAAE,OAAO,OAAO,CAACC,EAAEC,IAAI,CAACD,EAAEF,EAAEE,CAAC,EAAEd,EAAEa,EAAEE,EAAE,OAAOA,CAAC,CAAC,CAAC,CAAC,EAAE,CAACnB,EAAE,aAAa,EAAE,QAAQ,KAAK,SAASM,EAAE,QAAQ,KAAK,CAAC,EAAE,QAAQ,MAAM,GAAG,GAAG,QAAQ,KAAK,MAAM,CAAC,EAAEN,EAAE,QAAQ,IAAI,4BAA4B,MAASO,GAChhBC,KAAEA,EAAEE,EAAE,KAAK,SAAS,KAAkB,OAAO,SAApB,KAA8B,SAAS,gBAAgBA,EAAE,SAAS,cAAc,KAAKZ,IAAaY,EAAEZ,GAAgBY,EAAE,QAAQ,OAAO,IAArB,EAAuBA,EAAEA,EAAE,OAAO,EAAEA,EAAE,QAAQ,SAAS,EAAE,EAAE,YAAY,GAAG,EAAE,CAAC,EAAEA,EAAE,GAAGC,EAAER,GAAG,CAAC,IAAIC,EAAE,IAAI,eAAe,OAAAA,EAAE,KAAK,MAAMD,EAAE,EAAE,EAAEC,EAAE,KAAK,IAAI,EAASA,EAAE,YAAY,EAAEI,IAAIK,EAAEV,GAAG,CAAC,IAAIC,EAAE,IAAI,eAAe,OAAAA,EAAE,KAAK,MAAMD,EAAE,EAAE,EAAEC,EAAE,aAAa,cAAcA,EAAE,KAAK,IAAI,EAAS,IAAI,WAAWA,EAAE,QAAQ,CAAC,GAAGQ,EAAE,CAACT,EAAEC,EAAEY,IAAI,CAAC,IAAIC,EAAE,IAAI,eAAeA,EAAE,KAAK,MAAMd,EAAE,EAAE,EAAEc,EAAE,aACjf,cAAcA,EAAE,OAAO,IAAI,CAAMA,EAAE,QAAP,KAAkBA,EAAE,QAAL,GAAaA,EAAE,SAASb,EAAEa,EAAE,QAAQ,EAAED,EAAE,CAAC,EAAEC,EAAE,QAAQD,EAAEC,EAAE,KAAK,IAAI,CAAC,GAAE,IAAIG,EAAGpB,EAAE,OAAO,QAAQ,IAAI,KAAK,OAAO,EAAEqB,EAAErB,EAAE,UAAU,QAAQ,MAAM,KAAK,OAAO,EAAE,OAAO,OAAOA,EAAEK,CAAC,EAAEA,EAAE,KAAKL,EAAE,cAAcM,EAAEN,EAAE,aAAa,IAAIsB,EAAEtB,EAAE,aAAasB,EAAEtB,EAAE,YAAY,IAAIuB,EAAcvB,EAAE,eAAe,GAAa,OAAO,aAAjB,UAA8BwB,EAAE,iCAAiC,EAAE,IAAIC,EAAEC,EAAEC,GAAG,GAAGC,GAAEC,GAAEC,EAAEC,GACja,SAASC,IAAI,CAAC,IAAI7B,EAAEsB,EAAE,OAAOzB,EAAE,MAAM4B,GAAE,IAAI,UAAUzB,CAAC,EAAEH,EAAE,OAAO,IAAI,WAAWG,CAAC,EAAEH,EAAE,OAAO8B,EAAE,IAAI,WAAW3B,CAAC,EAAEH,EAAE,OAAO6B,GAAE,IAAI,WAAW1B,CAAC,EAAEH,EAAE,QAAQ,IAAI,YAAYG,CAAC,EAAEH,EAAE,QAAQ+B,GAAE,IAAI,YAAY5B,CAAC,EAAEH,EAAE,QAAQ,IAAI,aAAaG,CAAC,EAAEH,EAAE,QAAQ,IAAI,aAAaG,CAAC,CAAC,CAAC,IAAI8B,GAAG,CAAC,EAAEC,GAAG,CAAC,EAAEC,EAAG,CAAC,EAAE,SAASC,GAAI,CAAC,IAAIjC,EAAEH,EAAE,OAAO,MAAM,EAAEiC,GAAG,QAAQ9B,CAAC,CAAC,CAAC,IAAIkC,GAAE,EAAEC,GAAE,KAAKC,GAAE,KAC/V,SAASf,EAAErB,EAAE,CAAC,MAAGH,EAAE,SAAQA,EAAE,QAAQG,CAAC,EAAEA,EAAE,WAAWA,EAAE,IAAIkB,EAAElB,CAAC,EAAEwB,GAAG,GAAGxB,EAAE,IAAI,YAAY,aAAaA,EAAE,0CAA0C,EAAED,EAAEC,CAAC,EAAQA,CAAE,CAAC,SAASqC,GAAGrC,EAAE,CAAC,OAAOA,EAAE,WAAW,uCAAuC,CAAC,CAAC,IAAIsC,GAAkC,GAAhCA,GAAE,8BAAiC,CAACD,GAAGC,EAAC,EAAE,CAAC,IAAIC,GAAGD,GAAEA,GAAEzC,EAAE,WAAWA,EAAE,WAAW0C,GAAGhC,CAAC,EAAEA,EAAEgC,EAAE,CAAC,SAASC,GAAGxC,EAAE,CAAC,GAAGA,GAAGsC,IAAGnB,EAAE,OAAO,IAAI,WAAWA,CAAC,EAAE,GAAGT,EAAE,OAAOA,EAAEV,CAAC,EAAE,KAAK,iDAAkD,CACzc,SAASyC,GAAGzC,EAAE,CAAC,GAAG,CAACmB,IAAIf,GAAIC,GAAG,CAAC,GAAe,OAAO,OAAnB,YAA0B,CAACL,EAAE,WAAW,SAAS,EAAE,OAAO,MAAMA,EAAE,CAAC,YAAY,aAAa,CAAC,EAAE,KAAKC,GAAG,CAAC,GAAG,CAACA,EAAE,GAAG,KAAK,uCAAuCD,EAAE,IAAI,OAAOC,EAAE,YAAY,CAAC,CAAC,EAAE,MAAM,IAAIuC,GAAGxC,CAAC,CAAC,EAAE,GAAGS,EAAE,OAAO,IAAI,QAAQ,CAACR,EAAEY,IAAI,CAACJ,EAAET,EAAEc,GAAGb,EAAE,IAAI,WAAWa,CAAC,CAAC,EAAED,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,QAAQ,QAAQ,EAAE,KAAK,IAAI2B,GAAGxC,CAAC,CAAC,CAAC,CAAC,SAAS0C,GAAG1C,EAAEC,EAAEY,EAAE,CAAC,OAAO4B,GAAGzC,CAAC,EAAE,KAAKc,GAAG,YAAY,YAAYA,EAAEb,CAAC,CAAC,EAAE,KAAKa,GAAGA,CAAC,EAAE,KAAKD,EAAEC,GAAG,CAACI,EAAE,0CAA0CJ,CAAC,EAAEO,EAAEP,CAAC,CAAC,CAAC,CAAC,CAC1e,SAAS6B,GAAG3C,EAAEC,EAAE,CAAC,IAAIY,EAAEyB,GAAE,OAAOnB,GAAe,OAAO,YAAY,sBAA/B,YAAqDkB,GAAGxB,CAAC,GAAGA,EAAE,WAAW,SAAS,GAAGP,GAAgB,OAAO,OAAnB,WAAyBoC,GAAG7B,EAAEb,EAAEC,CAAC,EAAE,MAAMY,EAAE,CAAC,YAAY,aAAa,CAAC,EAAE,KAAKC,GAAG,YAAY,qBAAqBA,EAAEd,CAAC,EAAE,KAAKC,EAAE,SAASc,EAAE,CAAC,OAAAG,EAAE,kCAAkCH,CAAC,EAAEG,EAAE,2CAA2C,EAASwB,GAAG7B,EAAEb,EAAEC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI2C,GAAEC,GAAE7C,GAAG,CAAC,KAAK,EAAEA,EAAE,QAAQA,EAAE,MAAM,EAAEH,CAAC,CAAC,EACxZ,SAASiD,EAAG9C,EAAE,CAAC,KAAK,GAAGA,EAAE,GAAG,KAAK,GAAG,SAASC,EAAE,CAAC2B,GAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EAAE3B,CAAC,EAAE,KAAK,GAAG,SAASA,EAAE,CAAC2B,GAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EAAE3B,CAAC,EAAE,KAAK,GAAG,SAASA,EAAEY,EAAE,CAAC,KAAK,GAAG,EAAE,KAAK,GAAGZ,CAAC,EAAE,KAAK,GAAGY,CAAC,CAAC,EAAE,KAAK,GAAG,UAAU,CAACe,GAAE,KAAK,GAAG,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CACnN,IAAImB,GAAG,EAAEC,GAAG,EAAEC,GAAgB,OAAO,YAApB,IAAgC,IAAI,YAAY,MAAM,EAAE,OAAOC,GAAG,CAAClD,EAAEC,EAAEY,IAAI,CAACZ,KAAK,EAAE,IAAIa,EAAEb,EAAEY,EAAE,IAAIA,EAAEZ,EAAED,EAAEa,CAAC,GAAG,EAAEA,GAAGC,IAAI,EAAED,EAAE,GAAG,GAAGA,EAAEZ,GAAGD,EAAE,QAAQiD,GAAG,OAAOA,GAAG,OAAOjD,EAAE,SAASC,EAAEY,CAAC,CAAC,EAAE,IAAIC,EAAE,GAAGb,EAAEY,GAAG,CAAC,IAAIE,EAAEf,EAAEC,GAAG,EAAE,GAAGc,EAAE,IAAI,CAAC,IAAIC,EAAEhB,EAAEC,GAAG,EAAE,GAAG,IAASc,EAAE,MAAR,IAAaD,GAAG,OAAO,cAAcC,EAAE,KAAK,EAAEC,CAAC,MAAM,CAAC,IAAImC,EAAEnD,EAAEC,GAAG,EAAE,GAAGc,GAAQA,EAAE,MAAR,KAAcA,EAAE,KAAK,GAAGC,GAAG,EAAEmC,GAAGpC,EAAE,IAAI,GAAGC,GAAG,GAAGmC,GAAG,EAAEnD,EAAEC,GAAG,EAAE,GAAG,MAAMc,EAAED,GAAG,OAAO,aAAaC,CAAC,GAAGA,GAAG,MAAMD,GAAG,OAAO,aAAa,MAAMC,GAAG,GAAG,MAAMA,EAAE,IAAI,EAAE,CAAC,MAAMD,GAAG,OAAO,aAAaC,CAAC,CAAC,CAAC,OAAOD,CAAC,EACxgBsC,GAAE,CAACpD,EAAEC,KAAKD,KAAK,GAAGkD,GAAGxB,GAAE1B,EAAEC,CAAC,EAAE,GAAGoD,GAAErD,GAAG,CAAC,QAAQC,EAAE,EAAEY,EAAE,EAAEA,EAAEb,EAAE,OAAO,EAAEa,EAAE,CAAC,IAAIC,EAAEd,EAAE,WAAWa,CAAC,EAAE,KAAKC,EAAEb,IAAI,MAAMa,EAAEb,GAAG,EAAE,OAAOa,GAAG,OAAOA,GAAGb,GAAG,EAAE,EAAEY,GAAGZ,GAAG,CAAC,CAAC,OAAOA,CAAC,EAAEqD,GAAE,CAACtD,EAAEC,EAAEY,EAAEC,IAAI,CAAQ,GAAPD,KAAK,EAAK,EAAE,EAAEC,GAAG,MAAO,GAAE,IAAIC,EAAEF,EAAEC,EAAED,EAAEC,EAAE,EAAE,QAAQE,EAAE,EAAEA,EAAEhB,EAAE,OAAO,EAAEgB,EAAE,CAAC,IAAImC,EAAEnD,EAAE,WAAWgB,CAAC,EAAE,GAAG,OAAOmC,GAAG,OAAOA,EAAE,CAAC,IAAII,GAAEvD,EAAE,WAAW,EAAEgB,CAAC,EAAEmC,EAAE,QAAQA,EAAE,OAAO,IAAII,GAAE,IAAI,CAAC,GAAG,KAAKJ,EAAE,CAAC,GAAGtC,GAAGC,EAAE,MAAMb,EAAEY,MAAM,CAAC,EAAEsC,CAAC,KAAK,CAAC,GAAG,MAAMA,EAAE,CAAC,GAAGtC,EAAE,GAAGC,EAAE,MAAMb,EAAEY,MAAM,CAAC,EAAE,IAAIsC,GAAG,CAAC,KAAK,CAAC,GAAG,OAAOA,EAAE,CAAC,GAAGtC,EAAE,GAAGC,EAAE,MAAMb,EAAEY,MAAM,CAAC,EAAE,IAAIsC,GAAG,EAAE,KAAK,CAAC,GAAGtC,EAAE,GACnfC,EAAE,MAAMb,EAAEY,MAAM,CAAC,EAAE,IAAIsC,GAAG,GAAGlD,EAAEY,MAAM,CAAC,EAAE,IAAIsC,GAAG,GAAG,EAAE,CAAClD,EAAEY,MAAM,CAAC,EAAE,IAAIsC,GAAG,EAAE,EAAE,CAAClD,EAAEY,MAAM,CAAC,EAAE,IAAIsC,EAAE,EAAE,CAAC,CAAC,OAAAlD,EAAEY,IAAI,CAAC,EAAE,EAASA,EAAEE,CAAC,EAAEyC,GAAExD,GAAOA,EAAE,IAAN,IAAcA,EAAE,MAAN,GAAeA,EAAE,MAAN,GAAWyD,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,EAAEC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,EAAEC,GAAG3D,GAAG,CAAC,IAAIC,EAAEoD,GAAErD,CAAC,EAAE,EAAEa,EAAE+C,GAAG3D,CAAC,EAAE,OAAAY,GAAGyC,GAAEtD,EAAE0B,GAAEb,EAAEZ,CAAC,EAASY,CAAC,EAAEgD,GAAE,CAAC,EAAEC,GAAG,IAAI,CAAC,GAAG,CAACC,GAAE,CAAC,IAAI/D,EAAE,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,IAAI,IAAI,IAAI,KAAK,iBAAiB,MAAgB,OAAO,WAAjB,UAA4B,UAAU,WAAW,UAAU,UAAU,CAAC,GAAG,KAAK,QAAQ,IAClf,GAAG,EAAE,SAAS,EAAEG,GAAG,gBAAgB,EAAEF,EAAE,IAAIA,KAAK4D,GAAWA,GAAE5D,CAAC,IAAZ,OAAc,OAAOD,EAAEC,CAAC,EAAED,EAAEC,CAAC,EAAE4D,GAAE5D,CAAC,EAAE,IAAIY,EAAE,CAAC,EAAE,IAAIZ,KAAKD,EAAEa,EAAE,KAAK,GAAGZ,CAAC,IAAID,EAAEC,CAAC,CAAC,EAAE,EAAE8D,GAAElD,CAAC,CAAC,OAAOkD,EAAC,EAAEA,GAAEC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAEC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAEC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,SAASC,GAAGnE,EAAE,CAAC,IAAIC,EAAE,MAAMoD,GAAErD,CAAC,EAAE,CAAC,EAAE,OAAAsD,GAAEtD,EAAEC,EAAE,EAAEA,EAAE,MAAM,EAASA,CAAC,CAChT,SAASmE,GAAGpE,EAAEC,EAAEY,EAAEC,EAAE,CAAC,SAASC,EAAEsD,EAAEC,EAAEC,EAAE,CAAC,IAAIF,EAAY,OAAOA,GAAjB,SAAmBA,EAAE,SAAS,EAAEA,GAAG,GAAGA,EAAE,OAAOC,GAAGD,EAAEE,EAAE,CAAC,EAAEF,EAAE,OAAOA,CAAC,CAAC,SAASrD,EAAEqD,EAAEC,EAAE,CAAC,OAAOvD,EAAEsD,EAAEC,EAAE,GAAG,CAAC,CAAC,SAASnB,EAAEkB,EAAEC,EAAE,CAAC,SAASC,EAAEC,GAAG,CAAC,MAAO,GAAEA,GAAG,GAAG,EAAEA,GAAG,EAAE,CAAC,CAAC,IAAIC,GAAE,OAAKA,GAAEF,EAAEF,EAAE,YAAY,EAAEC,EAAE,YAAY,CAAC,KAAxC,IAAiDG,GAAEF,EAAEF,EAAE,SAAS,EAAEC,EAAE,SAAS,CAAC,KAAlC,IAAuCG,GAAEF,EAAEF,EAAE,QAAQ,EAAEC,EAAE,QAAQ,CAAC,GAAUG,EAAC,CAAC,SAASlB,GAAEc,EAAE,CAAC,OAAOA,EAAE,OAAO,EAAE,CAAC,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,EAAE,IAAK,GAAE,OAAOA,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,CAAC,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAC5f,EAAE,CAAC,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,CAAC,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,SAASK,GAAEL,EAAE,CAAC,IAAIC,EAAED,EAAE,GAAG,IAAIA,EAAE,IAAI,KAAM,IAAI,KAAKA,EAAE,GAAG,KAAK,EAAE,CAAC,EAAG,QAAQ,CAAC,EAAE,EAAEC,GAAG,CAAC,IAAIC,EAAEF,EAAE,SAAS,EAAEI,IAAGjB,GAAEa,EAAE,YAAY,CAAC,EAAEJ,GAAGC,IAAIK,CAAC,EAAE,GAAGD,EAAEG,GAAEJ,EAAE,QAAQ,EAAEC,GAAGG,GAAEJ,EAAE,QAAQ,EAAE,EAAEA,EAAE,QAAQ,CAAC,EAAE,GAAGE,EAAEF,EAAE,SAASE,EAAE,CAAC,GAAGF,EAAE,SAAS,CAAC,EAAEA,EAAE,YAAYA,EAAE,YAAY,EAAE,CAAC,OAAO,CAACA,EAAE,QAAQA,EAAE,QAAQ,EAAEC,CAAC,EAAE,KAAK,CAAC,CAAC,OAAAC,EAAE,IAAI,KAAKF,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,EAAEC,EAAEf,GAAE,IAAI,KAAKc,EAAE,YAAY,EACnf,EAAE,CAAC,CAAC,EAAEE,EAAEhB,GAAEgB,CAAC,EAAS,GAAGpB,EAAEmB,EAAED,CAAC,EAAE,GAAGlB,EAAEoB,EAAEF,CAAC,EAAEA,EAAE,YAAY,EAAE,EAAEA,EAAE,YAAY,EAAEA,EAAE,YAAY,EAAE,CAAC,CAACrE,KAAK,EAAEC,KAAK,EAAEY,KAAK,EAAEC,KAAK,EAAE,IAAI6D,GAAEhD,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAEA,EAAE,CAAC,GAAGa,EAAEb,GAAG,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,GAAG,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,GAAG,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAGa,EAAEb,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG6D,GAAEvB,GAAEuB,EAAC,EAAE,EAAE,EAAE9D,EAAEuC,GAAEvC,CAAC,EAAE8D,GAAE,CAAC,KAAK,uBAAuB,KAAK,WAAW,KAAK,WAAW,KAAK,KAAK,KAAK,cAAc,KAAK,QAAQ,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,MAAM,KACnf,MAAM,KAAK,MAAM,WAAW,MAAM,WAAW,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,IAAI,EAAE,QAAQC,MAAKD,GAAE9D,EAAEA,EAAE,QAAQ,IAAI,OAAO+D,GAAE,GAAG,EAAED,GAAEC,EAAC,CAAC,EAAE,IAAIC,GAAG,2DAA2D,MAAM,GAAG,EAAEC,GAAG,wFAAwF,MAAM,GAAG,EAAEH,GAAE,CAAC,KAAKN,GAAGQ,GAAGR,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,KAAKA,GAAGQ,GAAGR,EAAE,EAAE,EAAE,KAAKA,GAClfS,GAAGT,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,KAAKA,GAAGS,GAAGT,EAAE,EAAE,EAAE,KAAKA,GAAGrD,GAAGqD,EAAE,GAAG,MAAM,IAAI,EAAE,CAAC,EAAE,KAAKA,GAAGrD,EAAEqD,EAAE,GAAG,CAAC,EAAE,KAAKA,GAAGtD,EAAEsD,EAAE,GAAG,EAAE,GAAG,EAAE,KAAKA,GAAGK,GAAEL,CAAC,EAAE,SAAS,EAAE,UAAU,CAAC,EAAE,KAAKA,GAAGK,GAAEL,CAAC,EAAE,KAAKA,GAAGrD,EAAEqD,EAAE,GAAG,CAAC,EAAE,KAAKA,IAAIA,EAAEA,EAAE,GAAMA,GAAH,EAAKA,EAAE,GAAG,GAAGA,IAAIA,GAAG,IAAWrD,EAAEqD,EAAE,CAAC,GAAG,KAAKA,GAAG,CAAC,QAAQC,EAAE,EAAEC,EAAE,EAAEA,GAAGF,EAAE,GAAG,EAAEC,IAAId,GAAEa,EAAE,GAAG,IAAI,EAAEJ,GAAGC,IAAIK,GAAG,EAAE,CAAC,OAAOvD,EAAEqD,EAAE,GAAGC,EAAE,CAAC,CAAC,EAAE,KAAKD,GAAGrD,EAAEqD,EAAE,GAAG,EAAE,CAAC,EAAE,KAAKA,GAAGrD,EAAEqD,EAAE,GAAG,CAAC,EAAE,KAAK,IAAI;AAAA,EAAK,KAAKA,GAAG,GAAGA,EAAE,IAAI,GAAGA,EAAE,GAAG,KAAK,KAAK,KAAKA,GAAGrD,EAAEqD,EAAE,GAAG,CAAC,EAAE,KAAK,IAAI,IAAK,KAAKA,GAAGA,EAAE,IAAI,EAAE,KAAKA,GAAGrD,EAAE,KAAK,OAAOqD,EAAE,GAAG,EAAEA,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,KAAKA,GACrf,CAAC,IAAIC,EAAE,KAAK,OAAOD,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAG,GAAG,CAAC,EAA8B,GAA5B,IAAIA,EAAE,GAAG,IAAIA,EAAE,GAAG,GAAG,GAAGC,IAAOA,EAAMA,GAAJ,KAAQC,GAAGF,EAAE,GAAG,IAAIA,EAAE,IAAI,EAAKE,GAAH,GAASA,GAAH,GAAMf,GAAEa,EAAE,EAAE,IAAIC,EAAE,QAAQ,CAACA,EAAE,GAAG,IAAIC,GAAGF,EAAE,GAAG,EAAEA,EAAE,GAAG,GAAG,GAAME,GAAH,GAASA,GAAH,GAAMf,GAAEa,EAAE,GAAG,IAAI,CAAC,IAAIC,GAAG,CAAC,OAAOtD,EAAEsD,EAAE,CAAC,CAAC,EAAE,KAAKD,GAAGA,EAAE,GAAG,KAAKA,GAAGrD,EAAE,KAAK,OAAOqD,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,KAAKA,IAAIA,EAAE,GAAG,MAAM,SAAS,EAAE,UAAU,CAAC,EAAE,KAAKA,GAAGA,EAAE,GAAG,KAAK,KAAKA,GAAG,CAACA,EAAEA,EAAE,GAAG,IAAIC,EAAE,GAAGD,EAAE,OAAAA,EAAE,KAAK,IAAIA,CAAC,EAAE,IAAUC,EAAE,IAAI,MAAY,QAAQD,EAAE,GAAG,IAAIA,EAAE,KAAK,MAAM,EAAE,CAAC,EAAE,KAAKA,GAAGA,EAAE,GAAG,KAAK,IAAI,GAAG,EAAExD,EAAEA,EAAE,QAAQ,MAAM,MAAU,EAAE,IAAI+D,MAAKD,GAAE9D,EAAE,SAAS+D,EAAC,IACrgB/D,EAAEA,EAAE,QAAQ,IAAI,OAAO+D,GAAE,GAAG,EAAED,GAAEC,EAAC,EAAE9D,CAAC,CAAC,GAAoC,OAAjCD,EAAEA,EAAE,QAAQ,QAAQ,GAAG,EAAE+D,GAAET,GAAGtD,CAAC,EAAK+D,GAAE,OAAO3E,EAAS,GAAEwB,GAAE,IAAImD,GAAE5E,IAAI,CAAC,EAAS4E,GAAE,OAAO,EAAC,CACjI,IAAIG,GAAG,CAAC,EAAE,SAAS/E,EAAEC,EAAEY,EAAE,CAAC,MAAAb,KAAK,EAAG,IAAI8C,EAAG9C,CAAC,EAAG,GAAGC,IAAI,EAAEY,IAAI,CAAC,EAAEkC,GAAG/C,EAAEgD,KAAWD,EAAG,EAAE,EAAE,UAAU,CAAC,MAAO,EAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,MAAO,EAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,IAAI,GAAG,EAAE,SAAS/C,EAAEC,EAAEY,EAAE,CAACb,EAAEC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAACD,GAAGA,IAAI,GAAG,WAAWC,EAAE,IAAIY,KAAK,EAAEb,EAAE,IAAI,KAAK,IAAIA,CAAC,EAAE2B,EAAEd,GAAG,IAAI,CAAC,EAAEb,EAAE,cAAc,EAAE2B,EAAEd,EAAE,GAAG,IAAI,CAAC,EAAEb,EAAE,cAAc,EAAE2B,EAAEd,EAAE,GAAG,IAAI,CAAC,EAAEb,EAAE,YAAY,EAAE2B,EAAEd,EAAE,IAAI,IAClf,CAAC,EAAEb,EAAE,WAAW,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,YAAY,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,eAAe,EAAE,KAAK2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,UAAU,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,GAAGb,EAAE,QAAQ,EAAE,KAAK,IAAIA,EAAE,eAAe,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAEY,EAAE,CAACb,EAAEC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAACD,GAAGA,IAAI,GAAG,WAAWC,EAAE,IAAIY,KAAK,EAAEb,EAAE,IAAI,KAAK,IAAIA,CAAC,EAAE2B,EAAEd,GAAG,IAAI,CAAC,EAAEb,EAAE,WAAW,EAAE2B,EAAEd,EAAE,GAAG,IAAI,CAAC,EAAEb,EAAE,WAAW,EAAE2B,EAAEd,EAAE,GAAG,IAAI,CAAC,EAAEb,EAAE,SAAS,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,QAAQ,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,SAAS,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,YAAY,EAAE,KAAK2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAEb,EAAE,OAAO,EAAE2B,EAAEd,EAAE,IAAI,IACpf,CAAC,GAAG2C,GAAExD,EAAE,YAAY,CAAC,EAAEyD,GAAGC,IAAI1D,EAAE,SAAS,CAAC,EAAEA,EAAE,QAAQ,EAAE,EAAE,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,EAAE,EAAE,GAAGb,EAAE,kBAAkB,GAAGC,EAAG,IAAI,KAAKD,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAE,IAAIc,EAAG,IAAI,KAAKd,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAE2B,EAAEd,EAAE,IAAI,IAAI,CAAC,GAAGZ,GAAGa,GAAGd,EAAE,kBAAkB,GAAG,KAAK,IAAIc,EAAEb,CAAC,GAAG,CAAC,EAAE,EAAE,SAASD,EAAE,CAACA,KAAK,EAAE,IAAIC,EAAE,IAAI,KAAK0B,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAE,KAAK2B,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAE2B,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAE2B,EAAE3B,EAAE,GAAG,IAAI,CAAC,EAAE2B,EAAE3B,EAAE,GAAG,IAAI,CAAC,EAAE2B,EAAE3B,GAAG,IAAI,CAAC,EAAE,CAAC,EAAEa,EAAEc,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAEc,EAAEb,EAAE,kBAAkB,EAAEc,EAAG,IAAI,KAAKd,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EACpfe,EAAG,IAAI,KAAKf,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAEkD,EAAE,KAAK,IAAInC,EAAED,CAAC,EAAE,SAAEF,EAAEc,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAE,EAAOe,GAAGC,GAAGmC,GAAGrC,GAAG,EAAED,IAAIsC,GAAGrC,KAAKC,EAAE,KAAK,IAAIC,EAAED,CAAC,EAAEd,EAAE,QAAQA,EAAE,QAAQ,EAAE,MAAM,EAAEY,EAAEsC,EAAEpC,GAAGD,EAAE,GAAGa,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAEC,EAAE,OAAO,EAAE0B,EAAE3B,EAAE,IAAI,IAAI,CAAC,GAAGwD,GAAEvD,EAAE,YAAY,CAAC,EAAEwD,GAAGC,IAAIzD,EAAE,SAAS,CAAC,EAAEA,EAAE,QAAQ,EAAE,EAAE,EAAE0B,EAAE3B,GAAG,IAAI,CAAC,EAAEC,EAAE,WAAW,EAAE0B,EAAE3B,EAAE,GAAG,IAAI,CAAC,EAAEC,EAAE,WAAW,EAAE0B,EAAE3B,EAAE,GAAG,IAAI,CAAC,EAAEC,EAAE,SAAS,EAAE0B,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAEC,EAAE,QAAQ,EAAE0B,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAEC,EAAE,SAAS,EAAE0B,EAAE3B,EAAE,IAAI,IAAI,CAAC,EAAEC,EAAE,QAAQ,EAAED,EAAEC,EAAE,QAAQ,EAAE,IAAW+E,IAAIpC,GAAE5C,EAAE,GAAG,CAAC,KAAK,IAAI4C,EAAC,EAAE,EAAEA,GAAE,CAAC,KAAK,MAAMA,GAC5f,UAAU,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,MAAMA,GAAE,EAAE,CAAC,CAACA,KAAI,IAAI,UAAU,IAAI,EAAE,EAAE,EAAE5C,IAAI,CAAC,EAAE,EAAE,UAAU,CAAC,MAAM,GAAG,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAEY,EAAE,CAAC,SAASC,EAAE4D,GAAE,CAAC,OAAOA,GAAEA,GAAE,aAAa,EAAE,MAAM,mBAAmB,GAAGA,GAAE,CAAC,EAAE,KAAK,CAAC7D,KAAK,EAAE,IAAIE,EAAG,IAAI,OAAM,YAAY,EAAEC,EAAE,IAAI,KAAKD,EAAE,EAAE,CAAC,EAAEoC,EAAE,IAAI,KAAKpC,EAAE,EAAE,CAAC,EAAEA,EAAEC,EAAE,kBAAkB,EAAE,IAAIuC,GAAEJ,EAAE,kBAAkB,EAAEvB,GAAE5B,IAAI,GAAG,IAAI,CAAC,EAAE,GAAG,KAAK,IAAIe,EAAEwC,EAAC,EAAE5B,EAAE1B,IAAI,GAAG,IAAI,CAAC,EAAE,EAAOc,GAAGwC,IAAGvD,EAAEc,EAAEE,CAAC,EAAEf,EAAEa,EAAEqC,CAAC,EAAEnD,EAAE2D,GAAG3D,CAAC,EAAEC,EAAE0D,GAAG1D,CAAC,EAAEsD,GAAExC,GAAGa,GAAEf,GAAG,IAAI,CAAC,EAAEb,EAAE4B,GAAEf,EAAE,GAAG,IAAI,CAAC,EAAEZ,IAAI2B,GAAEf,GAAG,IAAI,CAAC,EAAEZ,EAAE2B,GAAEf,EAAE,GAAG,IAAI,CAAC,EAAEb,EAAE,EAAE,EAAE,IAAI,CAACqB,EAAE,EAAE,CAAC,EAC1f,EAAE,UAAU,CAAC,OAAO,KAAK,IAAI,CAAC,EAAE,EAAE,UAAU,CAAC,MAAO,WAAU,EAAE,EAAE,IAAI,YAAY,IAAI,EAAE,EAAE,SAASrB,EAAEC,EAAEY,EAAE,CAAC,OAAAZ,KAAK,EAASyB,GAAE,WAAW1B,IAAI,IAAI,EAAEC,IAAI,EAAEA,GAAGY,IAAI,KAAK,CAAC,CAAC,EAAE,EAAE,SAASb,EAAE,CAACA,KAAK,EAAE,IAAIC,EAAEyB,GAAE,OAAO,GAAG,WAAW1B,EAAE,MAAM,GAAG,QAAQa,EAAE,EAAE,GAAGA,EAAEA,GAAG,EAAE,CAAC,IAAIC,EAAEb,GAAG,EAAE,GAAGY,GAAGC,EAAE,KAAK,IAAIA,EAAEd,EAAE,SAAS,EAAE,IAAIe,EAAE,KAAKD,EAAE,KAAK,IAAId,EAAEc,CAAC,EAAEd,EAAE,CAACe,EAAEA,EAAE,IAAI,KAAKA,EAAE,WAAWD,GAAG,MAAMA,EAAE,OAAO,KAAK,EAAEQ,EAAE,OAAO,WAAW,QAAQ,GAAG,GAAG,CAACA,EAAE,KAAKP,CAAC,EAAEc,GAAG,EAAE,IAAIb,EAAE,EAAE,MAAMhB,CAAC,MAAS,CAAC,CAACgB,EAAE,MAAM,CAAC,GAAGA,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,SAAShB,EAAEC,EAAE,CAACD,KAClf,EAAEC,KAAK,EAAE,IAAIY,EAAE,EAAE,OAAAiD,GAAG,EAAE,QAAQ,SAAShD,EAAEC,EAAE,CAAC,IAAIC,EAAEf,EAAEY,EAAsB,IAApBE,EAAEa,GAAE5B,EAAE,EAAEe,GAAG,IAAI,CAAC,EAAEC,EAAMA,EAAE,EAAEA,EAAEF,EAAE,OAAO,EAAEE,EAAES,GAAEV,KAAK,IAAI,CAAC,EAAED,EAAE,WAAWE,CAAC,EAAES,GAAEV,GAAG,IAAI,CAAC,EAAE,EAAEF,GAAGC,EAAE,OAAO,CAAC,CAAC,EAAS,CAAC,EAAE,EAAE,SAASd,EAAEC,EAAE,CAACD,KAAK,EAAEC,KAAK,EAAE,IAAIY,EAAEiD,GAAG,EAAElC,GAAE5B,GAAG,IAAI,CAAC,EAAEa,EAAE,OAAO,IAAIC,EAAE,EAAE,OAAAD,EAAE,QAAQ,SAASE,EAAE,CAACD,GAAGC,EAAE,OAAO,CAAC,CAAC,EAAEa,GAAE3B,GAAG,IAAI,CAAC,EAAEa,EAAS,CAAC,EAAE,EAAE,IAAI,GAAG,EAAE,UAAU,CAAC,MAAO,GAAE,EAAE,EAAE,UAAU,CAAC,MAAO,GAAE,EAAE,EAAE,SAASd,EAAEC,EAAEY,EAAEC,EAAE,CAACb,KAAK,EAAEY,KAAK,EAAEC,KAAK,EAAE,QAAQC,EAAE,EAAEC,EAAE,EAAEA,EAAEH,EAAEG,IAAI,CAAC,IAAImC,EAAEvB,GAAE3B,GAAG,IAAI,CAAC,EAAEsD,GAAE3B,GAAE3B,EAAE,GAAG,IAAI,CAAC,EAAEA,GAAG,EAAE,QAAQyE,GAAE,EAAEA,GAAEnB,GAAEmB,KAAI,CAAC,IAAIC,GAAEjD,GAAEyB,EAAEuB,KAAI,CAAC,EAAEE,GACnfZ,GAAGhE,CAAC,EAAM2E,KAAJ,GAAYA,KAAL,KAAa3E,IAAJ,EAAMiB,EAAGC,GAAGgC,GAAG0B,GAAE,CAAC,CAAC,EAAEA,GAAE,OAAO,GAAGA,GAAE,KAAKD,EAAC,CAAC,CAAC5D,GAAGwC,EAAC,CAAC,OAAA3B,GAAEd,GAAG,IAAI,CAAC,EAAEC,EAAS,CAAC,EAAE,EAAEqD,GAAG,EAAE,SAASpE,EAAEC,EAAEY,EAAEC,EAAE,CAAC,OAAOsD,GAAGpE,IAAI,EAAEC,IAAI,EAAEY,IAAI,EAAEC,IAAI,CAAC,CAAC,CAAC,GACzJ,UAAU,CAAC,SAASd,EAAEa,EAAE,CAA4G,GAA3GA,EAAEA,EAAE,QAAQU,EAAEV,EAAEoE,GAAGpE,CAAC,EAAES,EAAEC,EAAE,EAAEM,GAAG,EAAEE,GAAG,QAAQR,EAAE,CAAC,EAAEW,KAAIrC,EAAE,wBAAwBA,EAAE,uBAAuBqC,EAAC,EAAQA,IAAH,IAAcC,KAAP,OAAW,cAAcA,EAAC,EAAEA,GAAE,MAAMC,IAAG,CAAC,IAAItB,EAAEsB,GAAEA,GAAE,KAAKtB,EAAE,CAAC,CAAC,OAAOD,CAAC,CAAC,IAAIZ,EAAE,CAAC,EAAE8E,EAAE,EAA4D,GAA1D7C,KAAIrC,EAAE,wBAAwBA,EAAE,uBAAuBqC,EAAC,EAAKrC,EAAE,gBAAgB,GAAG,CAAC,OAAOA,EAAE,gBAAgBI,EAAED,CAAC,CAAC,OAAOa,EAAE,CAACK,EAAE,sDAAsDL,CAAC,EAAEd,EAAEc,CAAC,CAAC,CAAC,OAAA8B,GAAG1C,EAAE,SAASY,EAAE,CAACb,EAAEa,EAAE,QAAQ,CAAC,CAAC,EAAE,MAAMd,CAAC,EAAQ,CAAC,CAAC,GAAG,EAC/cF,EAAE,SAAS,CAACG,EAAEC,KAAKJ,EAAE,SAAS0B,EAAE,GAAGvB,EAAEC,CAAC,EAAEJ,EAAE,iBAAiB,CAACG,EAAEC,KAAKJ,EAAE,iBAAiB0B,EAAE,GAAGvB,EAAEC,CAAC,EAAEJ,EAAE,yBAAyB,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,EAAEmC,EAAEI,GAAEmB,GAAEC,MAAK9E,EAAE,yBAAyB0B,EAAE,GAAGvB,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,EAAEmC,EAAEI,GAAEmB,GAAEC,EAAC,EAAE9E,EAAE,4BAA4B,CAACG,EAAEC,KAAKJ,EAAE,4BAA4B0B,EAAE,GAAGvB,EAAEC,CAAC,EAAEJ,EAAE,6BAA6B,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,6BAA6B0B,EAAE,GAAGvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,0BAA0B,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,0BAA0B0B,EAAE,GAAGvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,0BAA0BG,IAAIH,EAAE,0BAA0B0B,EAAE,GAAGvB,CAAC,EAC1fH,EAAE,kBAAkB,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,kBAAkB0B,EAAE,GAAGvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,mBAAmBG,IAAIH,EAAE,mBAAmB0B,EAAE,GAAGvB,CAAC,EAAEH,EAAE,wBAAwB,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,wBAAwB0B,EAAE,GAAGvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,iBAAiB,CAACG,EAAEC,KAAKJ,EAAE,iBAAiB0B,EAAE,GAAGvB,EAAEC,CAAC,EAAEJ,EAAE,kBAAkB,CAACG,EAAEC,KAAKJ,EAAE,kBAAkB0B,EAAE,GAAGvB,EAAEC,CAAC,EAAEJ,EAAE,SAASG,IAAIH,EAAE,SAAS0B,EAAE,GAAGvB,CAAC,EAAEH,EAAE,iBAAiB,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,KAAKnB,EAAE,iBAAiB0B,EAAE,GAAGvB,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,CAAC,EAAEnB,EAAE,kBAAkB,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,KAAKlB,EAAE,kBAAkB0B,EAAE,GAAGvB,EAAEC,EAAEY,EAAEC,EAAEC,CAAC,EAC9dlB,EAAE,kBAAkBG,IAAIH,EAAE,kBAAkB0B,EAAE,GAAGvB,CAAC,EAAEH,EAAE,qBAAqB,CAACG,EAAEC,EAAEY,EAAEC,KAAKjB,EAAE,qBAAqB0B,EAAE,GAAGvB,EAAEC,EAAEY,EAAEC,CAAC,EAAEjB,EAAE,sBAAsB,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,sBAAsB0B,EAAE,IAAIvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,sBAAsBG,IAAIH,EAAE,sBAAsB0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,kBAAkBG,IAAIH,EAAE,kBAAkB0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,cAAc,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,cAAc0B,EAAE,IAAIvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,eAAe,CAACG,EAAEC,EAAEY,EAAEC,KAAKjB,EAAE,eAAe0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,CAAC,EAAEjB,EAAE,sBAAsBG,IAAIH,EAAE,sBAAsB0B,EAAE,IAAIvB,CAAC,EACpeH,EAAE,mBAAmBG,IAAIH,EAAE,mBAAmB0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,mBAAmB,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,KAAKlB,EAAE,mBAAmB0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,EAAEC,CAAC,EAAElB,EAAE,QAAQ,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,EAAEmC,EAAEI,MAAK1D,EAAE,QAAQ0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,EAAEmC,EAAEI,EAAC,EAAE1D,EAAE,iBAAiBG,IAAIH,EAAE,iBAAiB0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,2BAA2B,CAACG,EAAEC,KAAKJ,EAAE,2BAA2B0B,EAAE,IAAIvB,EAAEC,CAAC,EAAEJ,EAAE,8BAA8BG,IAAIH,EAAE,8BAA8B0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,0BAA0B,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,EAAEmC,EAAEI,MAAK1D,EAAE,0BAA0B0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,EAAEmC,EAAEI,EAAC,EAC7e1D,EAAE,0BAA0BG,IAAIH,EAAE,0BAA0B0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,yBAAyB,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,KAAKnB,EAAE,yBAAyB0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,CAAC,EAAEnB,EAAE,0BAA0B,CAACG,EAAEC,KAAKJ,EAAE,0BAA0B0B,EAAE,IAAIvB,EAAEC,CAAC,EAAEJ,EAAE,qBAAqB,CAACG,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,KAAKnB,EAAE,qBAAqB0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,EAAEC,EAAEC,CAAC,EAAEnB,EAAE,8BAA8B,CAACG,EAAEC,EAAEY,KAAKhB,EAAE,8BAA8B0B,EAAE,IAAIvB,EAAEC,EAAEY,CAAC,EAAEhB,EAAE,mCAAmC,CAACG,EAAEC,EAAEY,EAAEC,KAAKjB,EAAE,mCAAmC0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,CAAC,EACpfjB,EAAE,qCAAqC,CAACG,EAAEC,EAAEY,EAAEC,KAAKjB,EAAE,qCAAqC0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,CAAC,EAAEjB,EAAE,qCAAqC,CAACG,EAAEC,EAAEY,EAAEC,KAAKjB,EAAE,qCAAqC0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,CAAC,EAAEjB,EAAE,oCAAoC,CAACG,EAAEC,EAAEY,EAAEC,KAAKjB,EAAE,oCAAoC0B,EAAE,IAAIvB,EAAEC,EAAEY,EAAEC,CAAC,EAAEjB,EAAE,2BAA2BG,IAAIH,EAAE,2BAA2B0B,EAAE,IAAIvB,CAAC,EAAE,IAAI4D,GAAG/D,EAAE,QAAQG,IAAI4D,GAAG/D,EAAE,QAAQ0B,EAAE,IAAIvB,CAAC,EAAEH,EAAE,MAAMG,IAAIH,EAAE,MAAM0B,EAAE,IAAIvB,CAAC,EACtc,IAAIgF,GAAGhF,IAAIgF,GAAGzD,EAAE,IAAIvB,CAAC,EAAEkF,GAAG,KAAKA,GAAG3D,EAAE,IAAI,EAAE4D,GAAGnF,IAAImF,GAAG5D,EAAE,IAAIvB,CAAC,EAAEoF,GAAGpF,IAAIoF,GAAG7D,EAAE,IAAIvB,CAAC,EAAE,SAASiF,GAAGjF,EAAE,CAACA,EAAE,OAAO,OAAO,CAAC,EAAEA,CAAC,EAAE,IAAIC,EAAEa,GAAG,IAAIA,EAAE,IAAI,EAAED,EAAEC,GAAGC,GAAGD,EAAEC,CAAC,IAAI,EAAE,OAAAf,EAAE,iBAAiBC,EAAED,EAAE,gBAAgB,EAAEA,EAAE,OAAOa,EAAEb,EAAE,MAAM,EAAEA,EAAE,UAAUC,EAAED,EAAE,SAAS,EAAEA,EAAE,WAAWa,EAAEb,EAAE,UAAU,EAASA,CAAC,CAACH,EAAE,WAAWuF,GAAGvF,EAAE,UAAUqF,GAAGrF,EAAE,aAAasF,GAAGtF,EAAE,aAAauD,GAAEvD,EAAE,aAAa,CAACG,EAAEC,EAAEY,IAAIyC,GAAEtD,EAAE0B,GAAEzB,EAAEY,CAAC,EAAEhB,EAAE,gBAAgBwD,GAAE,IAAIgC,EAAEjD,GAAE,SAASkD,GAAI,CAACD,GAAGE,GAAG,EAAEF,IAAIjD,GAAEkD,EAAG,EAC1b,SAASC,IAAI,CAAC,SAASvF,GAAG,CAAC,GAAG,CAACqF,IAAIA,EAAE,GAAGxF,EAAE,UAAU,GAAG,CAAC2B,IAAI,CAA+D,GAA9DqB,GAAEd,EAAE,EAAEjC,EAAED,CAAC,EAAKA,EAAE,sBAAqBA,EAAE,qBAAqB,EAAKA,EAAE,QAAQ,IAAgB,OAAOA,EAAE,SAArB,aAA+BA,EAAE,QAAQ,CAACA,EAAE,OAAO,GAAGA,EAAE,QAAQ,QAAQ,CAAC,IAAII,EAAEJ,EAAE,QAAQ,MAAM,EAAEmC,EAAG,QAAQ/B,CAAC,CAAC,CAAC4C,GAAEb,CAAE,CAAC,CAAC,CAAC,GAAG,EAAE,EAAEE,IAAG,CAAC,GAAGrC,EAAE,OAAO,IAAgB,OAAOA,EAAE,QAArB,aAA8BA,EAAE,OAAO,CAACA,EAAE,MAAM,GAAGA,EAAE,OAAO,QAAQoC,EAAG,EAAEY,GAAEf,EAAE,EAAE,EAAEI,KAAIrC,EAAE,WAAWA,EAAE,UAAU,YAAY,EAAE,WAAW,UAAU,CAAC,WAAW,UAAU,CAACA,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC,EAAEG,EAAE,CAAC,EAAE,CAAC,GAAGA,EAAE,EAAE,CAAC,CACve,GAAGH,EAAE,QAAQ,IAAgB,OAAOA,EAAE,SAArB,aAA+BA,EAAE,QAAQ,CAACA,EAAE,OAAO,GAAG,EAAEA,EAAE,QAAQ,QAAQA,EAAE,QAAQ,IAAI,EAAE,EAAE,OAAA0F,GAAG,EAGvG3F,EAAU,KACnB,CAGA,GAAG,EACC,OAAOJ,IAAY,UAAY,OAAOC,IAAW,SACnDA,GAAO,QAAUC,GACV,OAAO,QAAW,YAAc,OAAO,KAC9C,OAAO,CAAC,EAAG,IAAMA,EAAO,ICvD1B,IAAA8F,GAAAC,GAAA,QCAA,IAAAC,GAAAC,GAAA,QCAA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,UAAAE,KAAA,IAAaA,GAAbC,GAAAC,EAAA,KAAaF,GAAO,SCApB,IAAAG,GAAAC,GAAA,CAAAC,GAAAC,KAAA,cACA,IAAIC,IAAmB,IAAM,CAC3B,IAAIC,EAAa,OAAO,SAAa,KAAe,SAAS,cAAgB,SAAS,cAAc,IAAM,OAC1G,OAAI,OAAO,WAAe,MAAaA,EAAaA,GAAc,YAEpE,SAASC,EAAY,CAAC,EAAG,CAEzB,SAASC,GAAG,CAAC,OAAAC,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASD,CAAC,CAAC,SAASE,GAAG,CAAC,OAAAH,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASE,EAAE,CAAC,SAASC,GAAG,CAAC,OAAAL,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASI,EAAE,CAAC,SAASC,GAAI,CAAC,OAAAP,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASM,EAAE,CAAC,SAASC,GAAG,CAAC,OAAAT,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASQ,EAAE,CAAC,SAASC,GAAG,CAAC,OAAAX,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASU,EAAE,CAAC,SAASC,GAAI,CAAC,OAAAb,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASY,EAAE,CAAC,IAAIC,EAAEjB,EAAUkB,EAAGC,EAAGF,EAAE,MAAM,IAAI,QAAQ,CAACG,EAAEC,IAAI,CAACH,EAAGE,EAAED,EAAGE,CAAC,CAAC,EACtY,IAAIC,EAAG,OAAO,OAAO,CAAC,EAAEL,CAAC,EAAEM,EAAG,iBAAiBC,EAAG,CAACJ,EAAEC,IAAI,CAAC,MAAMA,CAAE,EAAEI,EAAa,OAAO,QAAjB,SAAwBC,EAAc,OAAO,eAAnB,WAAiCC,EAAY,OAAO,SAAjB,UAAoC,OAAO,QAAQ,UAAzB,UAA6C,OAAO,QAAQ,SAAS,MAAlC,SAAuCC,EAAEX,EAAE,wBAAwB,GAAGY,EAAE,GAAG,SAASC,EAAGV,EAAE,CAAC,OAAOH,EAAE,WAAWA,EAAE,WAAWG,EAAES,CAAC,EAAEA,EAAET,CAAC,CAAC,IAAIW,EAAGC,GAAGC,GAC/U,GAAGN,EAAE,CAAC,IAAIO,GAAG,cAAcC,EAAG,cAAgBN,EAAEH,EAAES,EAAG,QAAQN,CAAC,EAAE,IAAI,UAAU,IAAIE,EAAG,CAACV,EAAEe,KAAKf,EAAEA,EAAE,WAAW,SAAS,EAAE,IAAI,IAAIA,CAAC,EAAEc,EAAG,UAAUd,CAAC,EAASa,GAAG,aAAab,EAAEe,EAAE,OAAO,MAAM,GAAGH,GAAGZ,IAAIA,EAAEU,EAAGV,EAAE,EAAE,EAAEA,EAAE,SAASA,EAAE,IAAI,WAAWA,CAAC,GAAUA,GAAGW,GAAG,CAACX,EAAEe,EAAEC,EAAEC,EAAE,KAAK,CAACjB,EAAEA,EAAE,WAAW,SAAS,EAAE,IAAI,IAAIA,CAAC,EAAEc,EAAG,UAAUd,CAAC,EAAEa,GAAG,SAASb,EAAEiB,EAAE,OAAO,OAAO,CAACC,EAAEC,IAAI,CAACD,EAAEF,EAAEE,CAAC,EAAEH,EAAEE,EAAEE,EAAE,OAAOA,CAAC,CAAC,CAAC,CAAC,EAAE,CAACvB,EAAE,aAAa,EAAE,QAAQ,KAAK,SAASM,EAAG,QAAQ,KAAK,CAAC,EAAE,QAAQ,MAAM,GAAG,GAAG,QAAQ,KAAK,MAAM,CAAC,EAAEC,EAAG,CAACH,EAAEe,IAAI,CAAC,cAAQ,SACxff,EAAQe,CAAE,EAAEnB,EAAE,QAAQ,IAAI,6BAA6B,IAAIG,EAAE,GAAG,CAACA,EAAE,IAAyB,OAAOC,EAAE,CAAC,MAAM,QAAQ,MAAM,yGAAyG,EAAEA,CAAE,CAAC,OAAO,OAAOD,EAAE,MAAM,MAASK,GAAIC,KAAEA,EAAEG,EAAE,KAAK,SAAS,KAAkB,OAAO,SAApB,KAA8B,SAAS,gBAAgBA,EAAE,SAAS,cAAc,KAAM,OAAO9B,EAAe,KAAeA,IAAc8B,EAAE9B,GAAgB8B,EAAE,QAAQ,OAAO,IAArB,EAAuBA,EAAEA,EAAE,OAAO,EAAEA,EAAE,QAAQ,SAAS,EAAE,EAAE,YAAY,GAAG,EAAE,CAAC,EAAEA,EAAE,GAAGF,IAAII,EAAGX,GAAG,CAAC,IAAIC,EAC9hB,IAAI,eAAe,OAAAA,EAAE,KAAK,MAAMD,EAAE,EAAE,EAAEC,EAAE,KAAK,IAAI,EAASA,EAAE,YAAY,EAAEK,IAAIO,GAAGb,GAAG,CAAC,IAAIC,EAAE,IAAI,eAAe,OAAAA,EAAE,KAAK,MAAMD,EAAE,EAAE,EAAEC,EAAE,aAAa,cAAcA,EAAE,KAAK,IAAI,EAAS,IAAI,WAAWA,EAAE,QAAQ,CAAC,GAAGW,GAAG,CAACZ,EAAEC,EAAEe,IAAI,CAAC,IAAIC,EAAE,IAAI,eAAeA,EAAE,KAAK,MAAMjB,EAAE,EAAE,EAAEiB,EAAE,aAAa,cAAcA,EAAE,OAAO,IAAI,CAAMA,EAAE,QAAP,KAAkBA,EAAE,QAAL,GAAaA,EAAE,SAAShB,EAAEgB,EAAE,QAAQ,EAAED,EAAE,CAAC,EAAEC,EAAE,QAAQD,EAAEC,EAAE,KAAK,IAAI,CAAC,IAAGV,GAAgB,OAAO,YAApB,MAAkC,OAAO,YAAY,KAAsB,aACtd,IAAIc,GAAG,QAAQ,IAAI,KAAK,OAAO,EAAEC,GAAG,QAAQ,MAAM,KAAK,OAAO,EAAEf,IAAIc,GAAG,IAAIrB,IAAIc,GAAG,UAAU,EAAEd,EAAE,KAAK,GAAG,EAAE;AAAA,CAAI,EAAEsB,GAAG,IAAItB,IAAIc,GAAG,UAAU,EAAEd,EAAE,KAAK,GAAG,EAAE;AAAA,CAAI,GAAG,IAAIuB,GAAGF,GAAGG,GAAEF,GAAG,OAAO,OAAOzB,EAAEK,CAAE,EAAEA,EAAG,KAAK,IAAIuB,EAAc,GAAa,OAAO,aAAjB,UAA8BC,GAAE,iCAAiC,EAAE,IAAI5C,EAAE6C,GAAGC,GAAG,GAAGC,GAAE9C,EAAEG,GAAGE,GAAGE,GAAGE,GAAGE,GAAGoC,GAAGC,GAAEC,GAAGpC,GAC1U,SAASZ,GAAG,CAAC,IAAIgB,EAAElB,EAAE,OAAOe,EAAE,MAAMd,EAAE,IAAI,UAAUiB,CAAC,EAAEH,EAAE,OAAOT,GAAG,IAAI,WAAWY,CAAC,EAAEH,EAAE,OAAOX,GAAG,IAAI,WAAWc,CAAC,EAAEH,EAAE,QAAQP,GAAG,IAAI,YAAYU,CAAC,EAAEH,EAAE,OAAOL,GAAG,IAAI,WAAWQ,CAAC,EAAEH,EAAE,QAAQH,GAAG,IAAI,YAAYM,CAAC,EAAEH,EAAE,QAAQiC,GAAG,IAAI,aAAa9B,CAAC,EAAEH,EAAE,QAAQD,GAAG,IAAI,aAAaI,CAAC,EAAEH,EAAE,OAAOkC,GAAE,IAAI,cAAc/B,CAAC,EAAEH,EAAE,QAAQmC,GAAG,IAAI,eAAehC,CAAC,CAAC,CAAC,IAAIiC,GAAG,SAC7V,GADsW,SAASA,IAAIP,GAAE,wDAAwDO,GAAG,wBAAwB,EACrczB,EAAE1B,EAAEe,EAAE,mBAAmBf,EAAE,IAAI,YAAY,OAAO,CAAC,QAAQmD,GAAG,MAAM,QAAQ,MAAM,OAAO,EAAE,CAAC,EAAE,EAAEnD,EAAE,kBAAkB,mBAAmB,MAAM0C,GAAE,6NAA6N,EAAEjB,GAAGiB,GAAE,2GAA2G,EAAE,MAAM,YAAY,EACrfxC,EAAE,EAAEiD,GAAGnD,EAAE,OAAO,WAAW,IAAIoD,GAAG,CAAC,EAAEC,GAAG,CAAC,EAAEC,GAAG,CAAC,EAAEC,GAAG,EAAE,SAASC,IAAI,CAAC,OAAOb,GAAe,EAAEY,EAAE,CAAC,IAAIE,GAAE,EAAEC,GAAG,KAAKC,GAAE,KAAK,SAASC,IAAI,CAAK,GAAJH,KAAUA,IAAH,IAAcC,KAAP,OAAY,cAAcA,EAAE,EAAEA,GAAG,MAAMC,IAAG,CAAC,IAAIzC,EAAEyC,GAAEA,GAAE,KAAKzC,EAAE,CAAC,CAAC,CAAC,SAAS0B,GAAE1B,EAAE,CAAC,MAAAA,EAAE,WAAWA,EAAE,IAAIwB,GAAExB,CAAC,EAAE4B,GAAG,GAAGC,GAAE,EAAE7B,EAAE,IAAI,YAAY,aAAaA,EAAE,0CAA0C,EAAED,EAAGC,CAAC,EAAQA,CAAE,CAAC,SAAS2C,GAAG3C,EAAE,CAAC,OAAOA,EAAE,WAAW,uCAAuC,CAAC,CAAC,IAAI4C,GAAEA,GAAE,yBAAyBD,GAAGC,EAAC,IAAIA,GAAElC,EAAGkC,EAAC,GACxd,SAASC,GAAG7C,EAAE,CAAC,GAAGa,GAAG,OAAOA,GAAGb,CAAC,EAAE,KAAK,iDAAkD,CAAC,SAAS8C,GAAG9C,EAAE,CAAC,GAAGK,GAAIC,EAAE,CAAC,GAAe,OAAO,OAAnB,YAA0B,CAACN,EAAE,WAAW,SAAS,EAAE,OAAO,MAAMA,EAAE,CAAC,YAAY,aAAa,CAAC,EAAE,KAAKC,GAAG,CAAC,GAAG,CAACA,EAAE,GAAG,KAAK,uCAAuCD,EAAE,IAAI,OAAOC,EAAE,YAAY,CAAC,CAAC,EAAE,MAAM,IAAI4C,GAAG7C,CAAC,CAAC,EAAE,GAAGY,GAAG,OAAO,IAAI,QAAQ,CAACX,EAAEe,IAAI,CAACJ,GAAGZ,EAAEiB,GAAGhB,EAAE,IAAI,WAAWgB,CAAC,CAAC,EAAED,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,QAAQ,QAAQ,EAAE,KAAK,IAAI6B,GAAG7C,CAAC,CAAC,CAAC,CAC9a,SAAS+C,GAAG/C,EAAEC,EAAEe,EAAE,CAAC,OAAO8B,GAAG9C,CAAC,EAAE,KAAKiB,GAAG,YAAY,YAAYA,EAAEhB,CAAC,CAAC,EAAE,KAAKgB,GAAGA,CAAC,EAAE,KAAKD,EAAEC,GAAG,CAACO,GAAE,0CAA0CP,CAAC,EAAE,EAAES,GAAET,CAAC,CAAC,CAAC,CAAC,CACnJ,SAAS+B,GAAGhD,EAAEC,EAAE,CAAC,IAAIe,EAAE4B,GAAE,OAAkB,OAAO,YAAY,sBAA/B,YAAqDD,GAAG3B,CAAC,GAAGA,EAAE,WAAW,SAAS,GAAGT,GAAe,OAAO,OAAnB,WAAyBwC,GAAG/B,EAAEhB,EAAEC,CAAC,EAAE,MAAMe,EAAE,CAAC,YAAY,aAAa,CAAC,EAAE,KAAKC,GAAG,YAAY,qBAAqBA,EAAEjB,CAAC,EAAE,KAAKC,EAAE,SAASiB,EAAE,CAAC,OAAAM,GAAE,kCAAkCN,CAAC,EAAE,EAAEM,GAAE,2CAA2C,EAASuB,GAAG/B,EAAEhB,EAAEC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAASgD,GAAGjD,EAAE,CAAC,KAAK,KAAK,aAAa,KAAK,QAAQ,gCAAgCA,CAAC,IAAI,KAAK,OAAOA,CAAC,CACjd,IAAIkD,GAAGlD,GAAG,CAACA,EAAE,UAAU,EAAEA,EAAE,UAAU,IAAI,CAAC,CAAC,EAAEmD,GAAGnD,GAAG,CAAC,GAAMoD,EAAE,GAAG,QAAR,EAAe,CAAC,IAAInD,EAAES,EAAG,6BAA6B,EAAET,EAAE,IAAI,OAAOA,CAAC,EAAEmD,EAAE,GAAG,KAAKnD,CAAC,EAAEmD,EAAE,GAAGA,EAAE,GAAG,CAAC,CAAC,CAAC,CAAc,GAAbnD,EAAEmD,EAAE,GAAG,IAAI,EAAK,CAACnD,EAAE,MAAO,GAAEmD,EAAE,GAAG,KAAKnD,CAAC,EAAEmD,EAAE,GAAGpD,EAAE,EAAE,EAAEC,EAAEA,EAAE,GAAGD,EAAE,GAAG,IAAIgB,EAAE,CAAC,IAAI,MAAM,cAAchB,EAAE,GAAG,IAAIA,EAAE,GAAG,YAAYA,EAAE,EAAE,EAAE,OAAAO,GAAGN,EAAE,MAAM,EAAEA,EAAE,YAAYe,EAAEhB,EAAE,EAAE,EAAS,CAAC,EAAEqD,GAAgB,OAAO,YAApB,IAAgC,IAAI,YAAY,MAAM,EAAE,OAAOC,GAAG,CAACtD,EAAEC,EAAEe,IAAI,CAACf,KAAK,EAAE,IAAIgB,EAAEhB,EAAEe,EAAE,IAAIA,EAAEf,EAAED,EAAEgB,CAAC,GAAG,EAAEA,GAAGC,IAAI,EAAED,EAAE,GAAG,GAAGA,EAAEf,GAAGD,EAAE,QAAQqD,GAAG,OAAOA,GAAG,OAAOrD,EAAE,kBAC5e,kBAAkBA,EAAE,MAAMC,EAAEe,CAAC,EAAEhB,EAAE,SAASC,EAAEe,CAAC,CAAC,EAAE,IAAIC,EAAE,GAAGhB,EAAEe,GAAG,CAAC,IAAIE,EAAElB,EAAEC,GAAG,EAAE,GAAGiB,EAAE,IAAI,CAAC,IAAIC,EAAEnB,EAAEC,GAAG,EAAE,GAAG,IAASiB,EAAE,MAAR,IAAaD,GAAG,OAAO,cAAcC,EAAE,KAAK,EAAEC,CAAC,MAAM,CAAC,IAAIC,EAAEpB,EAAEC,GAAG,EAAE,GAAGiB,GAAQA,EAAE,MAAR,KAAcA,EAAE,KAAK,GAAGC,GAAG,EAAEC,GAAGF,EAAE,IAAI,GAAGC,GAAG,GAAGC,GAAG,EAAEpB,EAAEC,GAAG,EAAE,GAAG,MAAMiB,EAAED,GAAG,OAAO,aAAaC,CAAC,GAAGA,GAAG,MAAMD,GAAG,OAAO,aAAa,MAAMC,GAAG,GAAG,MAAMA,EAAE,IAAI,EAAE,CAAC,MAAMD,GAAG,OAAO,aAAaC,CAAC,CAAC,CAAC,OAAOD,CAAC,EAAEsC,GAAG,CAACvD,EAAEC,KAAKD,KAAK,GAAGsD,GAAGrE,EAAE,EAAEe,EAAEC,CAAC,EAAE,GAAG,SAASuD,GAAGxD,EAAE,CAAC,GAAGQ,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,CAAC,EAAE6B,GAAE7B,EAAEsC,GAAG,IAAIc,EAAE,GAAG,EAAExB,GAAG,IAAIxB,EAAGJ,EAAE,IAAIiD,GAAGjD,CAAC,CAAC,CAAC,CACre,IAAI0D,GAAG1D,GAAG,CAAK,GAAJ6B,GAAE7B,EAAKQ,EAAE,MAAMmD,EAAG3D,CAAC,EAAE,SAASwD,GAAGxD,CAAC,CAAC,EAAE,SAAS4D,IAAI,CAAC1B,GAAG,QAAQ,IAAI,CAACK,KAAIG,GAAG,CAAC,CAAC,CAAC,CACxF,IAAIU,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC5C,GAAG4C,EAAE,sBAAsBA,EAAE,GAAGA,EAAE,cAAcA,EAAE,GAAGA,EAAE,cAAcA,EAAE,GAAG3B,EAAc,IAAImC,GAAG,CAAC,EAAE,GAAG5D,GAAG,CAAC6B,GAAE7B,CAAC,EAAE,GAAG,CAAC,kBAAkB,EAAE,GAAG,IAAI,CAAC,QAAQA,KAAKoD,EAAE,GAAGF,GAAGlD,CAAC,EAAE,IAAIA,KAAKoD,EAAE,GAAGF,GAAGlD,CAAC,EAAEoD,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG,CAAC,CAAC,EAAE,GAAGpD,GAAG,CAAC,IAAIC,EAAED,EAAE,GAAG,OAAOoD,EAAE,GAAGnD,CAAC,EAAEmD,EAAE,GAAG,KAAKpD,CAAC,EAAEoD,EAAE,GAAG,OAAOA,EAAE,GAAG,QAAQpD,CAAC,EAAE,CAAC,EAAEA,EAAE,GAAG,EAAE6D,GAAG5D,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAACmD,EAAE,GAAG,QAAQpD,GAAGA,EAAE,CAAC,CAAC,EAAE,GAAGA,GAAG,IAAI,QAAQC,GAAG,CAACD,EAAE,UAAUmB,GAAG,CAACA,EAAEA,EAAE,KAAK,IAAIC,EAAED,EAAE,IAAI,GAAGA,EAAE,cAAcA,EAAE,cAAc2C,GAAG,EAAE,CAAC,IAAIC,EAAEX,EAAE,GAAGjC,EAAE,YAAY,EAAE4C,EACnfA,EAAE,YAAY5C,EAAEA,EAAE,YAAY,EAAEK,GAAE,0CAA0CJ,CAAC,uBAAuBD,EAAE,YAAY,qCAAqC,CAAC,MAA0BC,IAAjB,eAAmB4C,GAAG,EAA0B5C,IAAhB,cAAkB+B,GAAGhC,CAAC,EAA4BC,IAAlB,kBAAqBD,EAAEiC,EAAE,GAAGjC,EAAE,MAAM,IAAIO,GAAE,EAAE0B,EAAE,GAAGjC,CAAC,GAAyBC,IAAf,cAAiBD,EAAEA,EAAE,OAAOC,EAAEgC,EAAE,GAAGjC,CAAC,EAAE,OAAOiC,EAAE,GAAGjC,CAAC,EAAE+B,GAAG9B,CAAC,EAAEyC,GAAG1C,CAAC,EAAEiC,EAAE,GAAG,OAAOA,EAAE,GAAG,QAAQhC,CAAC,EAAE,CAAC,EAAEA,EAAE,GAAG,GAA2BA,IAAjB,eAAmBgC,EAAE,GAAGjC,EAAE,MAAM,EAAE,YAAY,CAAC,IAAI,QAAQ,CAAC,EAAqBC,IAAX,UAAapB,EAAE,OAAO,GAAGC,EAAED,CAAC,GAC9eoB,IADwf,QACtf,MAAM,UAAUD,EAAE,QAAQ,KAAKA,EAAE,IAAI,EAAE,EAA2BA,EAAE,SAAnB,eAA0BnB,EAAE,YAAYmB,CAAC,EAA0BC,IAAhB,cAAkBvB,EAAEsB,EAAE,OAAO,EAAE,GAAGA,EAAE,IAAI,EAAOC,GAAGI,GAAE,kCAAkCJ,CAAC,EAAE,CAAC,EAAEpB,EAAE,QAAQmB,GAAG,CAAC,MAAAK,GAAE,yBAA8BL,EAAE,QAAQ,IAAIA,EAAE,MAAM,KAAKA,EAAE,OAAO,EAAE,EAAQA,CAAE,EAAEZ,IAAIP,EAAE,GAAG,UAAUmB,GAAGnB,EAAE,UAAU,CAAC,KAAKmB,CAAC,CAAC,CAAC,EAAEnB,EAAE,GAAG,QAAQmB,GAAGnB,EAAE,QAAQmB,CAAC,CAAC,GAAG,IAAIH,EAAE,CAAC,EAAEC,EAAE,CAAC,EAAEC,EAAE,IAAIA,KAAKD,EAAEpB,EAAE,eAAeqB,CAAC,GAAGF,EAAE,KAAKE,CAAC,EAAElB,EAAE,YAAY,CAAC,IAAI,OAAO,SAASgB,EAAE,UAAUnB,EAAE,qBAAqBlB,EAC9e,WAAWG,EAAE,WAAW6C,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE9B,EAAE,QAAQuD,EAAE,IAAIa,GAAGjE,GAAG,CAAC,KAAK,EAAEA,EAAE,QAAQA,EAAE,MAAM,EAAEH,CAAC,CAAC,EAAEA,EAAE,oBAAoB,IAAI,CAAC,IAAIG,EAAE8D,GAAG,EAAE7D,EAAER,EAAE,EAAEO,EAAE,KAAK,IAAI,CAAC,EAAEA,EAAEP,EAAE,EAAEO,EAAE,KAAK,IAAI,CAAC,EAAEkE,GAAGjE,EAAEA,EAAED,CAAC,EAAEmE,GAAGlE,CAAC,CAAC,EAAE,SAAS0D,EAAG3D,EAAE,CAAC,GAAGQ,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,CAAC,EAAE0D,GAAG1D,CAAC,CAAC,CAAC,IAAIoE,EAAG,CAAC,EAAEC,EAAGxE,EAAE,iBAAiB,CAACG,EAAEC,IAAI,CAAC,IAAIe,EAAEoD,EAAGpE,CAAC,EAAEgB,IAAIhB,GAAGoE,EAAG,SAASA,EAAG,OAAOpE,EAAE,GAAGoE,EAAGpE,CAAC,EAAEgB,EAAEqD,EAAG,IAAIrE,CAAC,GAAGA,EAAEgB,EAAEf,CAAC,EAAEqC,GAAG,EAAEc,EAAE,GAAGpD,CAAC,EAAEsE,GAAGtE,CAAC,CAAC,EACjW,SAASuE,EAAGvE,EAAE,CAAC,KAAK,GAAGA,EAAE,GAAG,KAAK,GAAG,SAASC,EAAE,CAACR,EAAE,EAAE,KAAK,GAAG,IAAI,IAAI,CAAC,EAAEQ,CAAC,EAAE,KAAK,GAAG,SAASA,EAAE,CAACR,EAAE,EAAE,KAAK,GAAG,IAAI,IAAI,CAAC,EAAEQ,CAAC,EAAE,KAAK,GAAG,SAASA,EAAEe,EAAE,CAAC,KAAK,GAAG,EAAE,KAAK,GAAGf,CAAC,EAAE,KAAK,GAAGe,CAAC,CAAC,EAAE,KAAK,GAAG,UAAU,CAACvB,EAAE,EAAE,KAAK,GAAG,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI+E,EAAG,EAAEC,EAAG,EAAE,SAASC,EAAG1E,EAAEC,EAAEe,EAAEC,EAAE,CAAC,OAAOT,EAAEiD,GAAE,EAAE,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,EAAE0D,GAAG3E,EAAEC,EAAEe,EAAEC,CAAC,CAAC,CACnS,SAAS0D,GAAG3E,EAAEC,EAAEe,EAAEC,EAAE,CAA6B,GAA5BjB,KAAK,EAAEC,KAAK,EAAEe,KAAK,EAAEC,KAAK,EAAkB,OAAO,kBAApB,IAAsC,OAAOO,GAAE,qFAAqF,EAAE,EAAE,IAAIN,EAAE,CAAC,EAAE,OAAGV,GAAOU,EAAE,SAAN,EAAoBwD,EAAG1E,EAAEC,EAAEe,EAAEC,CAAC,GAAEjB,EAAE,CAAC,GAAGgB,EAAE,GAAGhB,EAAE,GAAGiB,EAAE,GAAGC,CAAC,EAASV,GAAGR,EAAE,GAAG,cAAc,YAAYA,EAAEkB,CAAC,EAAE,GAAGiC,GAAGnD,CAAC,EAAC,CAAC,SAAS4E,GAAG5E,EAAEC,EAAEe,EAAE,CAAC,OAAOR,EAAEiD,GAAE,EAAE,EAAEzD,EAAEC,EAAEe,CAAC,EAAE,CAAC,CAAC,SAAS6D,GAAG7E,EAAEC,EAAE,CAAC,GAAGO,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,EAAEC,CAAC,CAAC,CAC5Y,IAAI6E,GAAG9E,GAAG,CAAC,QAAQC,EAAE,EAAEe,EAAE,EAAEA,EAAEhB,EAAE,OAAO,EAAEgB,EAAE,CAAC,IAAIC,EAAEjB,EAAE,WAAWgB,CAAC,EAAE,KAAKC,EAAEhB,IAAI,MAAMgB,EAAEhB,GAAG,EAAE,OAAOgB,GAAG,OAAOA,GAAGhB,GAAG,EAAE,EAAEe,GAAGf,GAAG,CAAC,CAAC,OAAOA,CAAC,EAAE8E,GAAG,CAAC/E,EAAEC,EAAEe,EAAEC,IAAI,CAAQ,GAAPD,KAAK,EAAK,EAAE,EAAEC,GAAG,MAAO,GAAE,IAAIC,EAAEF,EAAEC,EAAED,EAAEC,EAAE,EAAE,QAAQE,EAAE,EAAEA,EAAEnB,EAAE,OAAO,EAAEmB,EAAE,CAAC,IAAIC,EAAEpB,EAAE,WAAWmB,CAAC,EAAE,GAAG,OAAOC,GAAG,OAAOA,EAAE,CAAC,IAAI2C,EAAE/D,EAAE,WAAW,EAAEmB,CAAC,EAAEC,EAAE,QAAQA,EAAE,OAAO,IAAI2C,EAAE,IAAI,CAAC,GAAG,KAAK3C,EAAE,CAAC,GAAGJ,GAAGC,EAAE,MAAMhB,EAAEe,MAAM,CAAC,EAAEI,CAAC,KAAK,CAAC,GAAG,MAAMA,EAAE,CAAC,GAAGJ,EAAE,GAAGC,EAAE,MAAMhB,EAAEe,MAAM,CAAC,EAAE,IAAII,GAAG,CAAC,KAAK,CAAC,GAAG,OAAOA,EAAE,CAAC,GAAGJ,EAAE,GAAGC,EAAE,MAAMhB,EAAEe,MAAM,CAAC,EAAE,IAAII,GAAG,EAAE,KAAK,CAAC,GAAGJ,EAAE,GAAGC,EAAE,MAAMhB,EAAEe,MAAM,CAAC,EAAE,IAAII,GACpf,GAAGnB,EAAEe,MAAM,CAAC,EAAE,IAAII,GAAG,GAAG,EAAE,CAACnB,EAAEe,MAAM,CAAC,EAAE,IAAII,GAAG,EAAE,EAAE,CAACnB,EAAEe,MAAM,CAAC,EAAE,IAAII,EAAE,EAAE,CAAC,CAAC,OAAAnB,EAAEe,IAAI,CAAC,EAAE,EAASA,EAAEE,CAAC,EAAE8D,GAAG,CAAChF,EAAEC,EAAEe,IAAI+D,GAAG/E,EAAEf,EAAE,EAAEgB,EAAEe,CAAC,EAAE,SAASiE,EAAGjF,EAAEC,EAAE,CAAC,GAAGO,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,EAAEC,CAAC,CAAC,CAAC,SAASiF,EAAGlF,EAAEC,EAAEe,EAAE,CAAC,GAAGR,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,EAAEC,EAAEe,CAAC,CAAC,CAAC,SAASmE,EAAGnF,EAAEC,EAAEe,EAAE,CAAC,OAAOR,EAAEiD,GAAE,EAAE,EAAEzD,EAAEC,EAAEe,CAAC,EAAE,CAAC,CAAC,SAASoE,GAAGpF,EAAEC,EAAE,CAAC,GAAGO,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,EAAEC,CAAC,CAAC,CAAC,SAASoF,GAAGrF,EAAEC,EAAEe,EAAE,CAAC,GAAGR,EAAE,OAAOiD,GAAE,EAAE,EAAEzD,EAAEC,EAAEe,CAAC,CAAC,CAAC,SAASsE,GAAGtF,EAAEC,EAAEe,EAAEC,EAAE,CAAC,GAAGT,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,CAAC,CAAC,SAASsE,GAAGvF,EAAEC,EAAEe,EAAEC,EAAE,CAAC,GAAGT,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,CAAC,CAAC,SAASuE,GAAGxF,EAAEC,EAAEe,EAAEC,EAAE,CAAC,GAAGT,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,CAAC,CAC7d,SAASwE,GAAGzF,EAAE,CAAC,GAAGQ,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,CAAC,CAAC,CAAC,SAAS0F,GAAG1F,EAAEC,EAAE,CAAC,GAAGO,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,CAAC,CAAC,CAAC,SAAS0F,GAAG3F,EAAEC,EAAEe,EAAE,CAAC,GAAGR,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,CAAC,CAAC,CAAC,IAAI4E,GAAG5F,GAAG,CAAC,GAAUA,IAAP,KAAS,MAAM,OAAO,IAAIC,EAAE,OAAOD,EAAE,OAAiBC,IAAX,UAAwBA,IAAV,SAA0BA,IAAb,WAAeD,EAAE,SAAS,EAAE,GAAGA,CAAC,EAAE6F,GAAGC,GAAE9F,GAAG,CAAC,QAAQC,EAAE,GAAGhB,EAAE,EAAEe,IAAI,CAAC,GAAGC,GAAG4F,GAAG5G,EAAE,EAAEe,MAAM,CAAC,CAAC,EAAE,OAAOC,CAAC,EAAE8F,GAAG,CAAC,EAAEC,GAAG,CAAC,EAAEC,GAAG,CAAC,EAAEC,GACnU,SAASC,GAAGnG,EAAEC,EAAEe,EAAE,CAAC,EAAE,CAAC,IAAIC,EAAEhB,EAAE,KAAK,GAAG,CAACD,EAAE,MAAM,IAAIkG,GAAE,SAASjF,CAAC,+CAA+C,EAAE,GAAG+E,GAAG,eAAehG,CAAC,EAAE,CAAC,GAAGgB,EAAE,GAAG,OAAO,MAAM,IAAIkF,GAAE,yBAAyBjF,CAAC,SAAS,CAAE,CAAC+E,GAAGhG,CAAC,EAAEC,EAAE,OAAOgG,GAAGjG,CAAC,EAAE+F,GAAG,eAAe/F,CAAC,IAAIC,EAAE8F,GAAG/F,CAAC,EAAE,OAAO+F,GAAG/F,CAAC,EAAEC,EAAE,QAAQiB,GAAGA,EAAE,CAAC,EAAE,CAAC,SAASkF,GAAEpG,EAAEC,EAAEe,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,mBAAmBf,GAAG,MAAM,IAAI,UAAU,yDAAyD,EAAEkG,GAAGnG,EAAEC,EAAEe,CAAC,CAAC,CACta,IAAIqF,GAAG,CAACrG,EAAEC,EAAEe,IAAI,CAAC,OAAOf,EAAE,CAAC,IAAK,GAAE,OAAOe,EAAEC,GAAGpC,EAAE,EAAEoC,IAAI,IAAI,CAAC,EAAEA,GAAGhC,EAAE,EAAEgC,IAAI,IAAI,CAAC,EAAE,IAAK,GAAE,OAAOD,EAAEC,GAAG9B,EAAE,EAAE8B,IAAI,IAAI,CAAC,EAAEA,GAAG5B,EAAG,EAAE4B,IAAI,IAAI,CAAC,EAAE,IAAK,GAAE,OAAOD,EAAEC,GAAG1B,EAAE,EAAE0B,IAAI,IAAI,CAAC,EAAEA,GAAGxB,EAAE,EAAEwB,IAAI,IAAI,CAAC,EAAE,IAAK,GAAE,OAAOD,EAAEC,GAAGc,GAAEd,IAAI,CAAC,EAAEA,GAAGe,GAAGf,IAAI,CAAC,EAAE,QAAQ,MAAM,IAAI,UAAU,0BAA0BhB,CAAC,MAAMD,CAAC,EAAE,CAAE,CAAC,EAAE,SAASsG,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,IAAIC,GAAE,IAAID,GAAG,SAASE,GAAGxG,EAAE,CAACA,KAAK,EAAEA,GAAGuG,GAAE,IAAQ,EAAEA,GAAE,IAAIvG,CAAC,EAAE,KAAf,GAAmBuG,GAAE,GAAGvG,CAAC,CAAC,CACtZ,IAAIyG,GAAEzG,GAAG,CAAC,GAAG,CAACA,EAAE,MAAM,IAAIkG,GAAE,oCAAoClG,CAAC,EAAE,OAAOuG,GAAE,IAAIvG,CAAC,EAAE,KAAK,EAAE0G,GAAE1G,GAAG,CAAC,OAAOA,EAAE,CAAC,KAAK,OAAO,MAAO,GAAE,KAAK,KAAK,MAAO,GAAE,IAAK,GAAG,MAAO,GAAE,IAAK,GAAG,MAAO,GAAE,QAAQ,OAAOuG,GAAE,GAAG,CAAC,GAAG,EAAE,MAAMvG,CAAC,CAAC,CAAC,CAAC,EAAE,SAAS2G,GAAG3G,EAAE,CAAC,OAAO,KAAK,aAAaT,EAAE,EAAES,IAAI,IAAI,CAAC,CAAC,CAAC,CACjR,IAAI4G,GAAG,CAAC5G,EAAEC,IAAI,CAAC,OAAOA,EAAE,CAAC,IAAK,GAAE,OAAO,SAASe,EAAE,CAAC,IAAIC,EAAE,KAAK,aAAa,OAAAnC,EAAE,QAAQC,EAAE,QAAQC,EAAE,EAASiC,EAAE,KAAK,KAAKa,GAAGd,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,IAAK,GAAE,OAAO,SAASA,EAAE,CAAC,OAAO,KAAK,aAAarB,EAAG,EAAEqB,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,MAAM,IAAI,UAAU,wBAAwBf,CAAC,MAAMD,CAAC,EAAE,CAAE,CAAC,EAAE,SAAS6G,GAAG7G,EAAE,CAAC,OAAO,KAAK,aAAaP,EAAE,EAAEO,IAAI,IAAI,CAAC,CAAC,CAAC,CACrU,IAAI8G,GAAgB,OAAO,YAApB,IAAgC,IAAI,YAAY,UAAU,EAAE,OAAOC,GAAG,CAAC/G,EAAEC,IAAI,CAAY,QAAPe,EAAEhB,GAAG,EAAUiB,EAAED,EAAEf,EAAE,EAAE,EAAEe,GAAGC,IAAI5B,EAAG,EAAE2B,IAAI,CAAC,GAAG,EAAEA,EAAQ,GAANA,IAAI,EAAK,GAAGA,EAAEhB,GAAG8G,GAAG,OAAOA,GAAG,OAAO7H,EAAE,EAAE,MAAMe,EAAEgB,CAAC,CAAC,EAAO,IAALA,EAAE,GAAOC,EAAE,EAAE,EAAEA,GAAGhB,EAAE,GAAG,EAAEgB,EAAE,CAAC,IAAIC,EAAE/B,EAAE,EAAEa,EAAE,EAAEiB,IAAI,IAAI,CAAC,EAAE,GAAMC,GAAH,EAAK,MAAMF,GAAG,OAAO,aAAaE,CAAC,CAAC,CAAC,OAAOF,CAAC,EAAEgG,GAAG,CAAChH,EAAEC,EAAEe,IAAI,CAA4B,GAAlBA,IAAT,SAAaA,EAAE,YAAe,EAAEA,EAAE,MAAO,GAAEA,GAAG,EAAE,IAAIC,EAAEhB,EAAEe,EAAEA,EAAE,EAAEhB,EAAE,OAAOgB,EAAE,EAAEhB,EAAE,OAAO,QAAQkB,EAAE,EAAEA,EAAEF,EAAE,EAAEE,EAAE,CAAC,IAAIC,EAAEnB,EAAE,WAAWkB,CAAC,EAAE/B,EAAE,EAAEc,IAAI,IAAI,CAAC,EAAEkB,EAAElB,GAAG,CAAC,CAAC,OAAAd,EAAE,EAAEc,IAAI,IAAI,CAAC,EAAE,EAASA,EAAEgB,CAAC,EAAEgG,GAAGjH,GAAG,EAAEA,EAAE,OAC/ekH,GAAG,CAAClH,EAAEC,IAAI,CAAC,QAAQe,EAAE,EAAEC,EAAE,GAAG,EAAED,GAAGf,EAAE,IAAI,CAAC,IAAIiB,EAAE3B,EAAE,EAAES,EAAE,EAAEgB,IAAI,IAAI,CAAC,EAAE,GAAME,GAAH,EAAK,MAAM,EAAEF,EAAE,OAAOE,GAAGA,GAAG,MAAMD,GAAG,OAAO,aAAa,MAAMC,GAAG,GAAG,MAAMA,EAAE,IAAI,GAAGD,GAAG,OAAO,aAAaC,CAAC,CAAC,CAAC,OAAOD,CAAC,EAAEkG,GAAG,CAACnH,EAAEC,EAAEe,IAAI,CAAmC,GAAlCf,KAAK,EAAWe,IAAT,SAAaA,EAAE,YAAe,EAAEA,EAAE,MAAO,GAAE,IAAIC,EAAEhB,EAAEe,EAAEC,EAAED,EAAE,EAAE,QAAQE,EAAE,EAAEA,EAAElB,EAAE,OAAO,EAAEkB,EAAE,CAAC,IAAIC,EAAEnB,EAAE,WAAWkB,CAAC,EAAE,GAAG,OAAOC,GAAG,OAAOA,EAAE,CAAC,IAAIC,EAAEpB,EAAE,WAAW,EAAEkB,CAAC,EAAEC,EAAE,QAAQA,EAAE,OAAO,IAAIC,EAAE,IAAI,CAAuB,GAAtB7B,EAAE,EAAEU,IAAI,IAAI,CAAC,EAAEkB,EAAElB,GAAG,EAAKA,EAAE,EAAEe,EAAE,KAAK,CAAC,OAAAzB,EAAE,EAAEU,IAAI,IAAI,CAAC,EAAE,EAASA,EAAEgB,CAAC,EAAEmG,GAAGpH,GAAG,CAAC,QAAQC,EAAE,EAAEe,EAAE,EAAEA,EAAEhB,EAAE,OAAO,EAAEgB,EAAE,CAAC,IAAIC,EACvfjB,EAAE,WAAWgB,CAAC,EAAE,OAAOC,GAAG,OAAOA,GAAG,EAAED,EAAEf,GAAG,CAAC,CAAC,OAAOA,CAAC,EAAEoH,GAAGrH,GAAG,CAAC,GAAG,CAAC4B,GAAG,GAAG,CAAC,GAAG5B,EAAE,EAAE,CAACsC,GAAG,EAAE,GAAG,CAAC9B,EAAE8D,GAAGzC,EAAC,EAAE6B,GAAG7B,EAAC,CAAC,OAAO5B,EAAE,CAACA,aAAagD,IAAchD,GAAV,UAAaG,EAAG,EAAEH,CAAC,CAAC,CAAC,OAAOA,EAAE,CAACA,aAAagD,IAAchD,GAAV,UAAaG,EAAG,EAAEH,CAAC,CAAC,CAAC,EAAE,SAASqH,GAAGtH,EAAE,CAACA,KAAK,EAAe,OAAO,QAAQ,IAA5B,aAAiC,QAAQ,GAAGT,EAAE,EAAES,IAAI,EAAEA,CAAC,EAAE,MAAM,KAAKgE,EAAE,EAAEhE,GAAG,IAAI,QAAQ,MAAMT,EAAE,EAAES,IAAI,EAAE,CAAC,EAAE,CAACH,EAAE,kCAAkCyH,GAAG,IAAItD,GAAG,IAAI,CAAC,IAAIhE,EAAE8D,GAAG,EAAE9D,IAAIsH,GAAGtH,CAAC,EAAEqH,GAAG,IAAIE,GAAG,CAAC,EAAE,EAAE1H,EAAE,aAAamE,GAAG,IAAIwD,GAAGxH,GAAG,CAAC,IAAIC,EAAEwH,GAAG,EAAE,OAAAzH,EAAEA,EAAE,EAAEmE,GAAGlE,CAAC,EAASD,CAAC,EAC7d,SAASyD,GAAEzD,EAAEC,EAAE,CAAC,IAAIe,EAAE,UAAU,OAAO,EAAEC,EAAE,UAAU,OAAOuG,GAAG,IAAI,CAAC,QAAQtG,EAAE,EAAEF,EAAEG,EAAEuG,GAAG,EAAExG,CAAC,EAAEE,EAAED,IAAI,EAAE4C,EAAE,EAAEA,EAAE/C,EAAE+C,IAAI,CAAC,IAAI4D,EAAE1G,EAAE,EAAE8C,CAAC,EAAY,OAAO4D,GAAjB,UAAoB5F,GAAEX,EAAE,EAAE2C,CAAC,EAAE,GAAGhC,GAAEX,EAAE,EAAE2C,EAAE,CAAC,EAAE4D,IAAI5F,GAAEX,EAAE,EAAE2C,CAAC,EAAE,GAAGpE,EAAG,EAAEyB,EAAE,EAAE2C,EAAE,IAAI,CAAC,EAAE4D,EAAE,CAAC,OAAOC,GAAG5H,EAAEkB,EAAEC,EAAElB,CAAC,CAAC,CAAC,CAAC,CAClO,IAAI4H,GAAG,CAAC,EAAEC,GAAG,CAAC9H,EAAEC,IAAI,CAAC,IAAIe,EAAEgF,GAAGhG,CAAC,EAAE,GAAYgB,IAAT,OAAW,MAAMhB,EAAE+H,GAAG/H,CAAC,EAAEgB,EAAE8E,GAAE9F,CAAC,EAAEgI,GAAEhI,CAAC,EAAE,IAAIkG,GAAEjG,EAAE,qBAAqBe,CAAC,EAAE,OAAOA,CAAC,EAAEiH,GAAG,CAAC,EAAEC,GAAGlI,GAAG,CAAC,IAAIC,EAAEgI,GAAGjI,CAAC,EAAE,OAAgBC,IAAT,OAAW6F,GAAE9F,CAAC,EAAEC,CAAC,EAAEkI,GAAG,CAAC,EAAEC,GAAG,IAAc,OAAO,YAAjB,SAA4B,WAAW,SAAS,aAAa,EAAE,EAAEC,GAAGrI,GAAG,CAAC,IAAIC,EAAEkI,GAAG,OAAO,OAAAA,GAAG,KAAKnI,CAAC,EAASC,CAAC,EAAEqI,GAAG,CAACtI,EAAEC,IAAI,CAAC,QAAQe,EAAE,MAAMhB,CAAC,EAAEiB,EAAE,EAAEA,EAAEjB,EAAE,EAAEiB,EAAED,EAAEC,CAAC,EAAE6G,GAAGrI,EAAE,EAAEQ,EAAE,EAAEgB,IAAI,IAAI,CAAC,EAAE,aAAaA,CAAC,EAAE,OAAOD,CAAC,EAAEuH,GAAGvI,GAAG,CAAC,GAAYA,IAAT,OAAW,MAAM,WAAWA,EAAEA,EAAE,QAAQ,iBAAiB,GAAG,EAAE,IAAIC,EAAED,EAAE,WAAW,CAAC,EAAE,MAAO,KAAIC,GAAG,IAAIA,EAAE,IAAID,CAAC,GACtfA,CAAC,EAAEwI,GAAG,CAAC,EAAE,SAASC,GAAGzI,EAAEC,EAAE,CAAC,OAAAD,EAAEuI,GAAGvI,CAAC,EAAQ,CAAC,CAACA,CAAC,EAAE,UAAU,CAAC,OAAOC,EAAE,MAAM,KAAK,SAAS,CAAC,CAAC,EAAED,CAAC,CAAC,CAAC,SAAS0I,GAAG1I,EAAE,CAAC,IAAIC,EAAE,SAAS,GAAG,EAAEA,aAAa,UAAU,MAAM,IAAI,UAAU,qCAAqC,OAAOA,CAAC,0BAA0B,EAAE,IAAIe,EAAEyH,GAAGxI,EAAE,MAAM,sBAAsB,UAAU,CAAC,CAAC,EAAE,OAAAe,EAAE,UAAUf,EAAE,UAAUe,EAAE,IAAIA,EAAEhB,EAAEC,EAAE,MAAMe,EAAEhB,CAAC,EAASA,aAAa,OAAOA,EAAEgB,CAAC,CACrX,IAAI2H,GAAG3I,GAAG,CAAC,QAAQC,EAAE,GAAGe,EAAE,EAAEA,EAAEhB,EAAE,EAAEgB,EAAEf,IAAQe,IAAJ,EAAM,KAAK,IAAI,MAAMA,EAAE,IAAIC,EAAE,mCAAmCjB,EAAE;AAAA;AAAA,EAAkE,IAAIgB,EAAE,EAAEA,EAAEhB,EAAE,EAAEgB,EAAEC,GAAG,cAAcD,EAAE,kEAAkEA,EAAE;AAAA,SAAeA,EAAE,aAAaA,EAAE;AAAA,iBAAgDA,EAAE;AAAA;AAAA,EAAwC,OAAO,IAAI,SAAS,wBAAwB,SAAS,gBAAgB,YAAYC,GAAG,6BACjehB,EAAE;AAAA;AAAA;AAAA,EAAsC,EAAG6H,GAAGjI,EAAE6G,GAAE,IAAIjH,EAAE,CAAC,CAAC,EAAEmJ,GAAG,CAAC,EAAEC,GAAE7I,GAAOA,EAAE,IAAN,IAAcA,EAAE,MAAN,GAAeA,EAAE,MAAN,GAAW8I,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,EAAEC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,EAAE,SAASC,GAAGhJ,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAEC,EAAE,CAAC,OAAOZ,EAAEiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAEC,CAAC,EAAE,GAAG,CAAC,SAAS6H,GAAGjJ,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAE,CAAC,GAAGX,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,CAAC,CAAC,CAC7T,IAAI+H,GAAGlJ,GAAG,CAAC,IAAIC,EAAE6E,GAAG9E,CAAC,EAAE,EAAEgB,EAAEmI,GAAGlJ,CAAC,EAAE,OAAAe,GAAGgE,GAAGhF,EAAEgB,EAAEf,CAAC,EAASe,CAAC,EAAEoI,GAAG,CAAC,EAAEC,GAAG,IAAI,CAAC,GAAG,CAACC,GAAG,CAAC,IAAItJ,EAAE,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,IAAI,IAAI,IAAI,KAAK,iBAAiB,MAAgB,OAAO,WAAjB,UAA4B,UAAU,WAAW,UAAU,UAAU,CAAC,GAAG,KAAK,QAAQ,IAAI,GAAG,EAAE,SAAS,EAAEG,GAAI,gBAAgB,EAAEF,EAAE,IAAIA,KAAKmJ,GAAYA,GAAGnJ,CAAC,IAAb,OAAe,OAAOD,EAAEC,CAAC,EAAED,EAAEC,CAAC,EAAEmJ,GAAGnJ,CAAC,EAAE,IAAIe,EAAE,CAAC,EAAE,IAAIf,KAAKD,EAAEgB,EAAE,KAAK,GAAGf,CAAC,IAAID,EAAEC,CAAC,CAAC,EAAE,EAAEqJ,GAAGtI,CAAC,CAAC,OAAOsI,EAAE,EAAEA,GACpZ,SAASC,GAAGvJ,EAAEC,EAAE,CAAC,GAAGO,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,CAAC,EAAED,KAAK,EAAEC,KAAK,EAAE,IAAIe,EAAE,EAAE,OAAAqI,GAAG,EAAE,QAAQ,CAACpI,EAAEC,IAAI,CAAC,IAAIC,EAAElB,EAAEe,EAAyB,IAAvBE,EAAEzB,EAAE,EAAEO,EAAE,EAAEkB,IAAI,IAAI,CAAC,EAAEC,EAAMA,EAAE,EAAEA,EAAEF,EAAE,OAAO,EAAEE,EAAEtC,EAAE,EAAEqC,MAAM,IAAI,CAAC,EAAED,EAAE,WAAWE,CAAC,EAAEtC,EAAE,EAAEqC,IAAI,IAAI,CAAC,EAAE,EAAEF,GAAGC,EAAE,OAAO,CAAC,CAAC,EAAS,CAAC,CAAC,SAASuI,GAAGxJ,EAAEC,EAAE,CAAC,GAAGO,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,CAAC,EAAED,KAAK,EAAEC,KAAK,EAAE,IAAIe,EAAEqI,GAAG,EAAE5J,EAAE,EAAEO,IAAI,IAAI,CAAC,EAAEgB,EAAE,OAAO,IAAIC,EAAE,EAAE,OAAAD,EAAE,QAAQE,GAAGD,GAAGC,EAAE,OAAO,CAAC,EAAEzB,EAAE,EAAEQ,IAAI,IAAI,CAAC,EAAEgB,EAAS,CAAC,CAAC,SAASwI,GAAGzJ,EAAE,CAAC,OAAOQ,EAAEiD,GAAE,GAAG,EAAEzD,CAAC,EAAE,EAAE,CAAC,SAAS0J,GAAG1J,EAAEC,EAAEe,EAAEC,EAAE,CAAC,OAAOT,EAAEiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,EAAE,EAAE,CACpc,SAAS0I,GAAG3J,EAAEC,EAAEe,EAAEC,EAAE,CAAC,OAAOT,EAAEiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,EAAE,EAAE,CAAC,IAAI2I,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,SAASC,GAAG7J,EAAEC,EAAEe,EAAEC,EAAE,CAAC,GAAGT,EAAE,OAAOiD,GAAE,GAAG,EAAEzD,EAAEC,EAAEe,EAAEC,CAAC,EAAEhB,KAAK,EAAEe,KAAK,EAAEC,KAAK,EAAE,QAAQC,EAAE,EAAEC,EAAE,EAAEA,EAAEH,EAAEG,IAAI,CAAC,IAAIC,EAAE3B,EAAE,EAAEQ,IAAI,IAAI,CAAC,EAAE8D,EAAEtE,EAAE,EAAEQ,EAAE,IAAI,IAAI,CAAC,EAAEA,GAAG,EAAE,QAAQ0H,EAAE,EAAEA,EAAE5D,EAAE4D,IAAI,CAAC,IAAImC,EAAE7K,EAAE,EAAEmC,EAAEuG,IAAI,CAAC,EAAEoC,GAAEH,GAAG5J,CAAC,EAAM8J,IAAJ,GAAYA,IAAL,KAAa9J,IAAJ,EAAMuB,GAAGC,IAAG8B,GAAGyG,GAAE,CAAC,CAAC,EAAEA,GAAE,OAAO,GAAGA,GAAE,KAAKD,CAAC,CAAC,CAAC5I,GAAG6C,CAAC,CAAC,OAAAtE,EAAE,EAAEwB,IAAI,IAAI,CAAC,EAAEC,EAAS,CAAC,CAAC,IAAI8I,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAEC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,SAASC,GAAGlK,EAAE,CAAC,IAAIC,EAAE,MAAM6E,GAAG9E,CAAC,EAAE,CAAC,EAAE,OAAA+E,GAAG/E,EAAEC,EAAE,EAAEA,EAAE,MAAM,EAASA,CAAC,CAChf,IAAIkK,GAAG,CAACnK,EAAEC,IAAI,CAACpB,EAAE,EAAE,IAAImB,EAAEC,IAAI,CAAC,CAAC,EAC/B,SAASmK,GAAGpK,EAAEC,EAAEe,EAAEC,EAAE,CAAC,SAASC,EAAEmJ,EAAEC,EAAEC,GAAE,CAAC,IAAIF,EAAY,OAAOA,GAAjB,SAAmBA,EAAE,SAAS,EAAEA,GAAG,GAAGA,EAAE,OAAOC,GAAGD,EAAEE,GAAE,CAAC,EAAEF,EAAE,OAAOA,CAAC,CAAC,SAASlJ,EAAEkJ,EAAEC,EAAE,CAAC,OAAOpJ,EAAEmJ,EAAEC,EAAE,GAAG,CAAC,CAAC,SAASlJ,EAAEiJ,EAAEC,EAAE,CAAC,SAASC,GAAEC,GAAG,CAAC,MAAO,GAAEA,GAAG,GAAG,EAAEA,GAAG,EAAE,CAAC,CAAC,IAAIC,GAAE,OAAKA,GAAEF,GAAEF,EAAE,YAAY,EAAEC,EAAE,YAAY,CAAC,KAAxC,IAAiDG,GAAEF,GAAEF,EAAE,SAAS,EAAEC,EAAE,SAAS,CAAC,KAAlC,IAAuCG,GAAEF,GAAEF,EAAE,QAAQ,EAAEC,EAAE,QAAQ,CAAC,GAAUG,EAAC,CAAC,SAAS1G,EAAEsG,EAAE,CAAC,OAAOA,EAAE,OAAO,EAAE,CAAC,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,EAAE,IAAK,GAAE,OAAOA,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,CAAC,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAC5f,EAAE,CAAC,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,CAAC,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,EAAE,IAAK,GAAE,OAAO,IAAI,KAAKA,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,SAAS1C,EAAE0C,EAAE,CAAC,IAAIC,EAAED,EAAE,GAAG,IAAIA,EAAE,IAAI,KAAM,IAAI,KAAKA,EAAE,GAAG,KAAK,EAAE,CAAC,EAAG,QAAQ,CAAC,EAAE,EAAEC,GAAG,CAAC,IAAIC,GAAEF,EAAE,SAAS,EAAEI,IAAG5B,GAAEwB,EAAE,YAAY,CAAC,EAAEL,GAAGC,IAAIM,EAAC,EAAE,GAAGD,EAAEG,GAAEJ,EAAE,QAAQ,EAAEC,GAAGG,GAAEJ,EAAE,QAAQ,EAAE,EAAEA,EAAE,QAAQ,CAAC,EAAE,GAAGE,GAAEF,EAAE,SAASE,GAAE,CAAC,GAAGF,EAAE,SAAS,CAAC,EAAEA,EAAE,YAAYA,EAAE,YAAY,EAAE,CAAC,OAAO,CAACA,EAAE,QAAQA,EAAE,QAAQ,EAAEC,CAAC,EAAE,KAAK,CAAC,CAAC,OAAAC,GAAE,IAAI,KAAKF,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,EAAEC,EAAEvG,EAAE,IAAI,KAAKsG,EAAE,YAAY,EACnf,EAAE,CAAC,CAAC,EAAEE,GAAExG,EAAEwG,EAAC,EAAS,GAAGnJ,EAAEkJ,EAAED,CAAC,EAAE,GAAGjJ,EAAEmJ,GAAEF,CAAC,EAAEA,EAAE,YAAY,EAAE,EAAEA,EAAE,YAAY,EAAEA,EAAE,YAAY,EAAE,CAAC,CAACrK,KAAK,EAAEC,KAAK,EAAEe,KAAK,EAAEC,KAAK,EAAE,IAAI6I,EAAErK,EAAE,EAAEwB,EAAE,KAAK,IAAI,CAAC,EAAEA,EAAE,CAAC,GAAG1B,EAAE,EAAE0B,IAAI,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG1B,EAAE,EAAE0B,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG6I,EAAEvG,GAAGuG,CAAC,EAAE,EAAE,EAAE9I,EAAEuC,GAAGvC,CAAC,EAAE8I,EAAE,CAAC,KAAK,uBAAuB,KAAK,WAAW,KAAK,WAAW,KAAK,KAAK,KAAK,cAAc,KAAK,QAAQ,KAAK,WAAW,KAAK,WACrf,KAAK,WAAW,MAAM,KAAK,MAAM,KAAK,MAAM,WAAW,MAAM,WAAW,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,IAAI,EAAE,QAAQC,MAAKD,EAAE9I,EAAEA,EAAE,QAAQ,IAAI,OAAO+I,GAAE,GAAG,EAAED,EAAEC,EAAC,CAAC,EAAE,IAAIW,GAAE,2DAA2D,MAAM,GAAG,EAAEC,GAAE,wFAAwF,MAAM,GAAG,EAAEb,EAAE,CAAC,KAAKO,GAAGK,GAAEL,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,KAAKA,GACzfK,GAAEL,EAAE,EAAE,EAAE,KAAKA,GAAGM,GAAEN,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,KAAKA,GAAGM,GAAEN,EAAE,EAAE,EAAE,KAAKA,GAAGlJ,GAAGkJ,EAAE,GAAG,MAAM,IAAI,EAAE,CAAC,EAAE,KAAKA,GAAGlJ,EAAEkJ,EAAE,GAAG,CAAC,EAAE,KAAKA,GAAGnJ,EAAEmJ,EAAE,GAAG,EAAE,GAAG,EAAE,KAAKA,GAAG1C,EAAE0C,CAAC,EAAE,SAAS,EAAE,UAAU,CAAC,EAAE,KAAKA,GAAG1C,EAAE0C,CAAC,EAAE,KAAKA,GAAGlJ,EAAEkJ,EAAE,GAAG,CAAC,EAAE,KAAKA,IAAIA,EAAEA,EAAE,GAAMA,GAAH,EAAKA,EAAE,GAAG,GAAGA,IAAIA,GAAG,IAAWlJ,EAAEkJ,EAAE,CAAC,GAAG,KAAKA,GAAG,CAAC,QAAQC,EAAE,EAAEC,GAAE,EAAEA,IAAGF,EAAE,GAAG,EAAEC,IAAIzB,GAAEwB,EAAE,GAAG,IAAI,EAAEL,GAAGC,IAAIM,IAAG,EAAE,CAAC,OAAOpJ,EAAEkJ,EAAE,GAAGC,EAAE,CAAC,CAAC,EAAE,KAAKD,GAAGlJ,EAAEkJ,EAAE,GAAG,EAAE,CAAC,EAAE,KAAKA,GAAGlJ,EAAEkJ,EAAE,GAAG,CAAC,EAAE,KAAK,IAAI;AAAA,EAAK,KAAKA,GAAG,GAAGA,EAAE,IAAI,GAAGA,EAAE,GAAG,KAAK,KAAK,KAAKA,GAAGlJ,EAAEkJ,EAAE,GAAG,CAAC,EAAE,KAAK,IAAI,IAAK,KAAKA,GAAGA,EAAE,IAAI,EAAE,KAAKA,GAAGlJ,EAAE,KAAK,OAAOkJ,EAAE,GAAG,EAAEA,EAAE,IACpf,CAAC,EAAE,CAAC,EAAE,KAAKA,GAAG,CAAC,IAAIC,EAAE,KAAK,OAAOD,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAG,GAAG,CAAC,EAA8B,GAA5B,IAAIA,EAAE,GAAG,IAAIA,EAAE,GAAG,GAAG,GAAGC,IAAOA,EAAMA,GAAJ,KAAQC,IAAGF,EAAE,GAAG,IAAIA,EAAE,IAAI,EAAKE,IAAH,GAASA,IAAH,GAAM1B,GAAEwB,EAAE,EAAE,IAAIC,EAAE,QAAQ,CAACA,EAAE,GAAG,IAAIC,IAAGF,EAAE,GAAG,EAAEA,EAAE,GAAG,GAAG,GAAME,IAAH,GAASA,IAAH,GAAM1B,GAAEwB,EAAE,GAAG,IAAI,CAAC,IAAIC,GAAG,CAAC,OAAOnJ,EAAEmJ,EAAE,CAAC,CAAC,EAAE,KAAKD,GAAGA,EAAE,GAAG,KAAKA,GAAGlJ,EAAE,KAAK,OAAOkJ,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,KAAKA,IAAIA,EAAE,GAAG,MAAM,SAAS,EAAE,UAAU,CAAC,EAAE,KAAKA,GAAGA,EAAE,GAAG,KAAK,KAAKA,GAAG,CAACA,EAAEA,EAAE,GAAG,IAAIC,EAAE,GAAGD,EAAE,OAAAA,EAAE,KAAK,IAAIA,CAAC,EAAE,IAAUC,EAAE,IAAI,MAAY,QAAQD,EAAE,GAAG,IAAIA,EAAE,KAAK,MAAM,EAAE,CAAC,EAAE,KAAKA,GAAGA,EAAE,GAAG,KAAK,IAAI,GAAG,EAAErJ,EAAEA,EAAE,QAAQ,MAAM,MAAU,EAC3f,IAAI+I,MAAKD,EAAE9I,EAAE,SAAS+I,EAAC,IAAI/I,EAAEA,EAAE,QAAQ,IAAI,OAAO+I,GAAE,GAAG,EAAED,EAAEC,EAAC,EAAE9I,CAAC,CAAC,GAAoC,OAAjCD,EAAEA,EAAE,QAAQ,QAAQ,GAAG,EAAE+I,GAAEG,GAAGlJ,CAAC,EAAK+I,GAAE,OAAO9J,EAAS,GAAEkK,GAAGJ,GAAE/J,CAAC,EAAS+J,GAAE,OAAO,EAAC,CAAC3G,EAAE,GAAG,EAAE,QAAQwH,GAAG,MAAM,GAAG,EAAEC,GAAG,EAAE,IAAIA,GAAG,EAAEA,GAAGD,GAAGC,EAAE,EAAE,OAAO,aAAaA,EAAE,EAAEhF,GAAG+E,GAAG1E,GAAErG,EAAE,aAAa,cAAc,KAAK,CAAC,YAAYG,EAAE,CAAC,MAAMA,CAAC,EAAE,KAAK,KAAK,cAAc,CAAC,EAAEH,EAAE,cAAc,cAAc,KAAK,CAAC,YAAYG,EAAE,CAAC,MAAMA,CAAC,EAAE,KAAK,KAAK,eAAe,CAAC,EACtZ,OAAO,OAAOsG,GAAG,UAAU,CAAC,IAAItG,EAAE,CAAC,OAAO,KAAK,GAAGA,CAAC,CAAC,EAAE,IAAIA,EAAE,CAAC,OAAgB,KAAK,GAAGA,CAAC,IAAlB,MAAmB,EAAE,GAAGA,EAAE,CAAC,IAAIC,EAAE,KAAK,GAAG,IAAI,GAAG,KAAK,GAAG,OAAO,YAAK,GAAGA,CAAC,EAAED,EAASC,CAAC,EAAE,GAAGD,EAAE,CAAC,KAAK,GAAGA,CAAC,EAAE,OAAO,KAAK,GAAG,KAAKA,CAAC,CAAC,CAAC,CAAC,EAAEuG,GAAE,GAAG,KAAK,CAAC,MAAM,MAAM,EAAE,CAAC,MAAM,IAAI,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,EAAE,CAAC,EAAEA,GAAE,GAAGA,GAAE,GAAG,OAAO1G,EAAE,oBAAoB,IAAI,CAAC,QAAQG,EAAE,EAAEC,EAAEsG,GAAE,GAAGtG,EAAEsG,GAAE,GAAG,OAAO,EAAEtG,EAAWsG,GAAE,GAAGtG,CAAC,IAAf,QAAkB,EAAED,EAAE,OAAOA,CAAC,EACjX,IAAI8K,GAAG,CAACtH,GAAGG,EAAGe,EAAGE,GAAGC,GAAGI,EAAGC,EAAGC,EAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGqD,GAAGC,GAAGM,GAAGC,GAAGC,GAAGC,GAAGC,GAAGE,EAAE,EAAEkB,GAAG,CAAC,EAAE,SAAS/K,EAAEC,EAAEe,EAAE,CAAC,MAAAhB,KAAK,EAAG,IAAIuE,EAAGvE,CAAC,EAAG,GAAGC,IAAI,EAAEe,IAAI,CAAC,EAAEwD,EAAGxE,EAAEyE,IAAWD,CAAG,EAAE,GAAG,SAASxE,EAAE,CAACgL,GAAGhL,IAAI,EAAE,CAACM,EAAE,EAAE,CAACD,EAAG,OAAO,EAAE,EAAE+C,EAAE,GAAG,CAAC,EAAE,EAAE,SAASpD,EAAE,CAACA,KAAK,EAAEQ,EAAE,YAAY,CAAC,IAAI,gBAAgB,OAAOR,CAAC,CAAC,IAAIA,EAAEoD,EAAE,GAAGpD,CAAC,IAAI0B,GAAE,EAAE0B,EAAE,GAAGpD,CAAC,EAAE,EAAE,EAAE2E,GAAG,EAAEC,GAAG,GAAGC,GAAG,EAAEI,EAAG,EAAEC,EAAG,EAAEC,EAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,GAAGC,GAAG,EAAEC,GAAG,EAAE,SAAS3F,EAAEC,EAAEe,EAAEC,EAAEC,EAAE,CAAClB,KAAK,EAAEC,KAAK,EAAEe,KAAK,EAAEf,EAAE6F,GAAE7F,CAAC,EAAE,IAAIkB,EAAMlB,EAAE,QAAQ,GAAG,GAAjB,GAAmBkB,IAAID,GAAG,IAAI,KAAK,IAAIkF,GAAEpG,EAAE,CAAC,KAAKC,EAAE,aAAamB,GACrfA,EAAE,WAAW,SAASA,EAAE2C,EAAE,CAAC,GAAa,OAAOA,GAAjB,UAA8B,OAAOA,GAAjB,SAAmB,MAAM,IAAI,UAAU,mBAAmB6B,GAAG7B,CAAC,CAAC,QAAQ,KAAK,IAAI,EAAE,EAAE,GAAGA,EAAE9C,GAAG8C,EAAE7C,EAAE,MAAM,IAAI,UAAU,qBAAqB0E,GAAG7B,CAAC,CAAC,wDAAwD9D,CAAC,wCAAwCgB,CAAC,KAAKC,CAAC,IAAI,EAAE,OAAO6C,CAAC,EAAE,eAAe,EAAE,qBAAqBsC,GAAGpG,EAAEe,EAAE,CAACG,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,SAASnB,EAAEC,EAAEe,EAAEC,EAAE,CAACjB,KAAK,EAAEC,EAAE6F,GAAE7F,IAAI,CAAC,EAAEmG,GAAEpG,EAAE,CAAC,KAAKC,EAAE,aAAa,SAASiB,EAAE,CAAC,MAAM,CAAC,CAACA,CAAC,EAAE,WAAW,SAASA,EAAEC,EAAE,CAAC,OAAOA,EAAEH,EAAEC,CAAC,EAAE,eAAe,EACjgB,qBAAqB,SAASC,EAAE,CAAC,OAAO,KAAK,aAAajC,EAAE,EAAEiC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,SAASlB,EAAEC,EAAE,CAACD,KAAK,EAAEC,EAAE6F,GAAE7F,IAAI,CAAC,EAAEmG,GAAEpG,EAAE,CAAC,KAAKC,EAAE,aAAae,GAAG,CAAC,IAAIC,EAAEwF,GAAEzF,CAAC,EAAE,OAAAwF,GAAGxF,CAAC,EAASC,CAAC,EAAE,WAAW,CAACD,EAAEC,IAAIyF,GAAEzF,CAAC,EAAE,eAAe,EAAE,qBAAqB0F,GAAG,GAAG,IAAI,CAAC,CAAC,EAAE,EAAE,SAAS3G,EAAEC,EAAEe,EAAE,CAAChB,KAAK,EAAEgB,KAAK,EAAEf,EAAE6F,GAAE7F,IAAI,CAAC,EAAEmG,GAAEpG,EAAE,CAAC,KAAKC,EAAE,aAAagB,GAAGA,EAAE,WAAW,CAACA,EAAEC,IAAIA,EAAE,eAAe,EAAE,qBAAqB0F,GAAG3G,EAAEe,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,EAAE,SAAShB,EAAEC,EAAEe,EAAEC,EAAEC,EAAE,CAAwD,GAAvDlB,KAAK,EAAEgB,KAAK,EAAEf,EAAE6F,GAAE7F,IAAI,CAAC,EAAOiB,IAAL,KAASA,EAAE,YAAYA,EAAE6C,GAAGA,EAAS9C,IAAJ,EAAM,CAAC,IAAIE,EAAE,GAAG,EAAEH,EAAEE,EAAE6C,GACpfA,GAAG5C,IAAIA,CAAC,CAAC,IAAIC,EAAEnB,EAAE,SAAS,UAAU,EAAE,SAAS8D,EAAE4D,EAAE,CAAC,OAAOA,IAAI,CAAC,EAAE,SAAS5D,EAAE4D,EAAE,CAAC,OAAOA,CAAC,EAAEvB,GAAEpG,EAAE,CAAC,KAAKC,EAAE,aAAaiB,EAAE,WAAWE,EAAE,eAAe,EAAE,qBAAqBiF,GAAGpG,EAAEe,EAAMC,IAAJ,CAAK,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,EAAE,SAASjB,EAAEC,EAAEe,EAAE,CAAC,SAASC,EAAEE,EAAE,CAAC,IAAIC,EAAE3B,EAAE,EAAE0B,IAAI,IAAI,CAAC,EAAE,OAAAA,EAAE1B,EAAE,EAAE0B,EAAE,IAAI,IAAI,CAAC,EAAS,IAAID,EAAErC,EAAE,EAAE,OAAOsC,EAAEC,CAAC,CAAC,CAACpB,KAAK,EAAE,IAAIkB,EAAE,CAAC,UAAU,WAAW,WAAW,YAAY,WAAW,YAAY,aAAa,aAAa,cAAc,cAAc,EAAEjB,CAAC,EAAEe,EAAE8E,GAAE9E,IAAI,CAAC,EAAEoF,GAAEpG,EAAE,CAAC,KAAKgB,EAAE,aAAaC,EAAE,eAAe,EAAE,qBAAqBA,CAAC,EAC/f,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,SAASjB,EAAEC,EAAE,CAACD,KAAK,EAAEC,EAAE6F,GAAE7F,IAAI,CAAC,EAAE,IAAIe,EAAkBf,IAAhB,cAAkBmG,GAAEpG,EAAE,CAAC,KAAKC,EAAE,aAAa,SAASgB,EAAE,CAAC,IAAIC,EAAEzB,EAAE,EAAEwB,IAAI,IAAI,CAAC,EAAEE,EAAEF,EAAE,EAAE,GAAGD,EAAE,QAAQI,EAAED,EAAE4C,EAAE,EAAEA,GAAG7C,EAAE,EAAE6C,EAAE,CAAC,IAAI4D,EAAExG,EAAE4C,EAAE,GAAGA,GAAG7C,GAAMjC,EAAE,EAAE0I,IAAI,CAAC,GAAZ,EAAc,CAAa,GAAZvG,EAAEmC,GAAGnC,EAAEuG,EAAEvG,CAAC,EAAc0I,IAAT,OAAW,IAAIA,EAAE1I,OAAO0I,GAAG,OAAO,aAAa,CAAC,EAAEA,GAAG1I,EAAEA,EAAEuG,EAAE,CAAC,CAAC,KAAK,CAAY,IAAXmC,EAAE,MAAM5I,CAAC,EAAM6C,EAAE,EAAEA,EAAE7C,EAAE,EAAE6C,EAAE+F,EAAE/F,CAAC,EAAE,OAAO,aAAa9E,EAAE,EAAEkC,EAAE4C,IAAI,CAAC,CAAC,EAAE+F,EAAEA,EAAE,KAAK,EAAE,CAAC,CAAC,OAAA9B,GAAE/G,CAAC,EAAS6I,CAAC,EAAE,WAAW,SAAS7I,EAAEC,EAAE,CAACA,aAAa,cAAcA,EAAE,IAAI,WAAWA,CAAC,GAAG,IAAIC,EAAY,OAAOD,GAAjB,SAAmB,GAAG,EAAEC,GAAGD,aAAa,YAC5eA,aAAa,mBAAmBA,aAAa,WAAW,MAAM,IAAIgF,GAAE,uCAAuC,EAAE,IAAI9E,EAAEJ,GAAGG,EAAE2D,GAAG5D,CAAC,EAAEA,EAAE,OAAW6C,EAAEoF,GAAG,EAAE/H,EAAE,CAAC,EAAEuG,EAAE5D,EAAE,EAAmB,GAAjBtE,EAAE,EAAEsE,IAAI,IAAI,CAAC,EAAE3C,EAAKJ,GAAGG,EAAE6D,GAAG9D,EAAEyG,EAAEvG,EAAE,CAAC,UAAUD,EAAE,IAAIA,EAAE,EAAEA,EAAEC,EAAE,EAAED,EAAE,CAAC,IAAI2I,EAAE5I,EAAE,WAAWC,CAAC,EAAE,GAAG,IAAI2I,EAAE,MAAM9B,GAAEL,CAAC,EAAE,IAAIzB,GAAE,wDAAwD,EAAEjH,EAAE,EAAE0I,EAAExG,IAAI,CAAC,EAAE2I,CAAC,KAAM,KAAI3I,EAAE,EAAEA,EAAEC,EAAE,EAAED,EAAElC,EAAE,EAAE0I,EAAExG,IAAI,CAAC,EAAED,EAAEC,CAAC,EAAE,OAAOF,IAAP,MAAUA,EAAE,KAAK+G,GAAEjE,CAAC,EAASA,CAAC,EAAE,eAAe,EAAE,qBAAqB8C,GAAG,GAAG5F,EAAE,CAAC+G,GAAE/G,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,SAASjB,EAAEC,EAAEe,EAAE,CACxd,GADydhB,KAAK,EAAEC,KAAK,EACnfe,KAAK,EAAEA,EAAE8E,GAAE9E,CAAC,EAASf,IAAJ,EAAO,IAAIgB,EAAE8F,GAAO7F,EAAE8F,GAAO7F,EAAE8F,GAAO7F,EAAE,IAAI/B,EAAG,EAAM0E,EAAE,OAAW9D,IAAJ,IAAQgB,EAAEiG,GAAGhG,EAAEiG,GAAGhG,EAAEiG,GAAGhG,EAAE,IAAI3B,EAAE,EAAEsE,EAAE,GAAGqC,GAAEpG,EAAE,CAAC,KAAKgB,EAAE,aAAa2G,GAAG,CAAC,QAAQmC,EAAErK,EAAE,EAAEkI,IAAI,IAAI,CAAC,EAAEoC,GAAE3I,EAAE,EAAEsJ,GAAEC,GAAEhD,EAAE,EAAE0C,EAAE,EAAEA,GAAGP,EAAE,EAAEO,EAAE,CAAC,IAAIC,EAAE3C,EAAE,EAAE0C,EAAEpK,GAAKoK,GAAGP,GAAMC,GAAEO,IAAIvG,CAAC,GAAV,KAAY4G,GAAE1J,EAAE0J,GAAEL,EAAEK,EAAC,EAAWD,KAAT,OAAWA,GAAEC,IAAGD,IAAG,OAAO,aAAa,CAAC,EAAEA,IAAGC,IAAGA,GAAEL,EAAErK,EAAC,CAAC,OAAA+H,GAAEL,CAAC,EAAS+C,EAAC,EAAE,WAAW,CAAC/C,EAAEmC,IAAI,CAAC,GAAa,OAAOA,GAAjB,SAAmB,MAAM,IAAI5D,GAAE,6CAA6ClF,CAAC,EAAE,EAAE,IAAI+I,GAAE5I,EAAE2I,CAAC,EAAEY,GAAEvB,GAAG,EAAEY,GAAE9J,CAAC,EAAE,OAAAR,EAAE,EAAEiL,KAAI,CAAC,EAAEX,IAAGhG,EAAE7C,EAAE4I,EAAEY,GAAE,EAAEX,GAAE9J,CAAC,EAAS0H,IAAP,MAAUA,EAAE,KAAKK,GAAE0C,EAAC,EAASA,EAAC,EACnf,eAAe,EAAE,qBAAqB/D,GAAG,GAAGgB,EAAE,CAACK,GAAEL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,SAAS3H,EAAEC,EAAE,CAACD,KAAK,EAAEC,EAAE6F,GAAE7F,IAAI,CAAC,EAAEmG,GAAEpG,EAAE,CAAC,GAAG,GAAG,KAAKC,EAAE,eAAe,EAAE,aAAa,IAAI,CAAC,EAAE,WAAW,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,GAAG,EAAE,SAASD,EAAEC,EAAE,CAACD,KAAK,EAAEA,GAAGC,IAAI,EAAE,WAAW,IAAI+D,GAAG,CAAC,EAAExD,EAAE,YAAY,CAAC,aAAaR,EAAE,IAAI,cAAc,CAAC,GAAGA,EAAEoD,EAAE,GAAGpD,CAAC,IAAIA,EAAE,YAAY,CAAC,IAAI,cAAc,CAAC,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAEe,EAAEC,EAAE,CAAChB,KAAK,EAAEe,GAAG,EAAE6G,GAAG,OAAO7G,EAAEC,EAAEA,IAAI,IAAI,EAAE,QAAQC,EAAE,EAAEA,EAAEF,EAAEE,IAAI2G,GAAG3G,CAAC,EAAEa,GAAEd,EAAE,EAAEC,CAAC,EAAEa,GAAEd,EAAE,EAAEC,EAAE,CAAC,EAAEvB,EAAG,EAAEsB,EAAE,EAAEC,EAAE,IAAI,CAAC,EAAE,OAAAlB,EAAE8K,GAAG9K,CAAC,EAAEoD,EAAE,GAAGnD,EAAEA,EAAED,EAAE,MAAM,KAAK6H,EAAE,EAAEzE,EAAE,GAAG,EAASnD,CAAC,EACpf,GAAGqH,GAAG,GAAG,SAAStH,EAAE,CAACO,GAAG6C,EAAE,GAAGpD,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAEe,EAAE,CAACf,KAAK,EAAEe,KAAK,EAAEhB,EAAEyG,GAAEzG,IAAI,CAAC,EAAEC,EAAE6H,GAAG7H,EAAE,WAAW,EAAE,IAAIgB,EAAE,CAAC,EAAEC,EAAEwF,GAAEzF,CAAC,EAAE,OAAAxB,EAAE,EAAEuB,IAAI,IAAI,CAAC,EAAEE,EAASjB,EAAE,WAAWgB,EAAEjB,CAAC,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAEe,EAAEC,EAAEC,EAAE,CAACF,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAElB,EAAEmI,GAAGnI,IAAI,CAAC,EAAEC,EAAEwG,GAAExG,IAAI,CAAC,EAAEe,EAAEkH,GAAGlH,CAAC,EAAE,IAAIG,EAAE,CAAC,EAAE,OAAA1B,EAAE,EAAEwB,IAAI,IAAI,CAAC,EAAEyF,GAAEvF,CAAC,EAASnB,EAAEC,EAAEe,EAAEG,EAAED,CAAC,CAAC,EAAE,EAAE,SAASlB,EAAEC,EAAEe,EAAEC,EAAE,CAACD,KAAK,EAAEC,KAAK,EAAEjB,EAAEmI,GAAGnI,IAAI,CAAC,EAAEC,EAAEwG,GAAExG,IAAI,CAAC,EAAEe,EAAEkH,GAAGlH,CAAC,EAAEhB,EAAEC,EAAEe,EAAE,KAAKC,CAAC,CAAC,EAAE,EAAEuF,GAAG,EAAE,SAASxG,EAAEC,EAAE,CAAC,OAAAA,KAAK,EAAED,EAAEyG,GAAEzG,IAAI,CAAC,EAAEC,EAAEwG,GAAExG,CAAC,EAASD,GAAGC,CAAC,EAAE,EAAE,SAASD,EAAE,CAAQ,OAAPA,KAAK,EAASA,IAAJ,EAAa0G,GAAE0B,GAAG,CAAC,GAAEpI,EAAEkI,GAAGlI,CAAC,EAAS0G,GAAE0B,GAAG,EAAEpI,CAAC,CAAC,EAAC,EAAE,EAAE,SAASA,EAC7fC,EAAE,CAAC,IAAIe,EAAEsH,GAAGtI,EAAEC,IAAI,CAAC,EAAEgB,EAAED,EAAE,CAAC,EAAEf,EAAEgB,EAAE,KAAK,KAAKD,EAAE,MAAM,CAAC,EAAE,IAAI,SAAS+I,GAAE,CAAC,OAAOA,GAAE,IAAI,CAAC,EAAE,KAAK,GAAG,EAAE,IAAI,IAAI7I,EAAEsH,GAAGvI,CAAC,EAAE,GAAYiB,IAAT,OAAW,OAAOA,EAAEA,EAAE,CAAC,SAAS,EAAE,QAAQC,EAAE,CAACF,CAAC,EAAEG,EAAE,GAAG2C,EAAE,EAAEA,EAAE/D,EAAE,EAAE,EAAE+D,EAAE3C,IAAQ2C,IAAJ,EAAM,KAAK,IAAI,MAAMA,EAAE7C,EAAE,KAAK,UAAU6C,CAAC,EAAE5C,EAAE,KAAKH,EAAE,EAAE+C,CAAC,CAAC,EAAE,IAAI4D,EAAE,mBAAmBY,GAAG,gBAAgBtI,CAAC,EAAE;AAAA,EAAwC6J,EAAE,EAAE,IAAI/F,EAAE,EAAEA,EAAE/D,EAAE,EAAE,EAAE+D,EAAE4D,GAAG,cAAc5D,EAAE,aAAaA,EAAE,8BAA8B+F,EAAE,IAAIA,EAAE,IAAI;AAAA,EAAOA,GAAG9I,EAAE+C,EAAE,CAAC,EAAE,eAC7b,IAD4c4D,GAAG,6BAA6BvG,EAAE;AAAA,EAC1e2C,EAAE,EAAEA,EAAE/D,EAAE,EAAE,EAAE+D,EAAE/C,EAAE+C,EAAE,CAAC,EAAE,eAAe4D,GAAG,cAAc5D,EAAE,oBAAoBA,EAAE;AAAA,GAAQ,OAAA9C,EAAE,KAAK0G,GAAG;AAAA,GAAqDzG,EAAE,KAAKyG,EAAE;AAAA,CAAM,EAAE3H,EAAE0I,GAAGxH,CAAC,EAAE,MAAM,KAAKC,CAAC,EAAED,EAAEmH,GAAGrI,CAAC,EAASwI,GAAGvI,CAAC,EAAEiB,CAAC,EAAE,EAAE,SAASlB,EAAEC,EAAE,CAAC,OAAAA,KAAK,EAAED,EAAEyG,GAAEzG,IAAI,CAAC,EAAEC,EAAEwG,GAAExG,CAAC,EAASyG,GAAE1G,EAAEC,CAAC,CAAC,CAAC,EAAE,EAAE,SAASD,EAAE,CAACA,KAAK,EAAE,EAAEA,IAAIuG,GAAE,IAAIvG,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAASA,EAAEC,EAAEe,EAAEC,EAAE,CAACD,KAAK,EAAEC,KAAK,EAAEjB,EAAEyG,GAAEzG,IAAI,CAAC,EAAE,IAAIkB,EAAE0H,GAAG3I,CAAC,EAAE,OAAAiB,IAAIA,EAAEyH,GAAG1I,CAAC,EAAE2I,GAAG3I,CAAC,EAAEiB,GAAUA,EAAElB,EAAEgB,EAAEC,CAAC,CAAC,EAAE,EAAE,UAAU,CAAC,OAAOyF,GAAE,CAAC,CAAC,CAAC,EAAE,EAAE,SAAS1G,EAAE,CAACA,EAAEyG,GAAEzG,IAAI,CAAC,EAAE,QAAQC,EAAE,MAAMD,EAAE,MAAM,EAAEgB,EAAE,EAAEA,EAAEhB,EAAE,OAAOgB,IAAIf,EAAEe,CAAC,EAC/fhB,EAAEgB,CAAC,EAAE,OAAO0F,GAAEzG,CAAC,CAAC,EAAE,EAAE,SAASD,EAAE,CAAC,OAAO0G,GAAEwB,GAAGlI,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,UAAU,CAAC,OAAO0G,GAAE,CAAC,CAAC,CAAC,EAAE,EAAE,SAAS1G,EAAE,CAACA,KAAK,EAAE,QAAQC,EAAEwG,GAAEzG,CAAC,EAAEC,EAAE,QAAQ,CAAC,IAAIe,EAAEf,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEe,CAAC,CAAC,CAACwF,GAAGxG,CAAC,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAEe,EAAE,CAACf,KAAK,EAAEe,KAAK,EAAEhB,EAAEyG,GAAEzG,IAAI,CAAC,EAAEC,EAAEwG,GAAExG,CAAC,EAAEe,EAAEyF,GAAEzF,CAAC,EAAEhB,EAAEC,CAAC,EAAEe,CAAC,EAAE,EAAE,SAAShB,EAAEC,EAAE,CAAC,OAAAA,KAAK,EAAED,EAAE8H,GAAG9H,IAAI,EAAE,mBAAmB,EAAEA,EAAEA,EAAE,qBAAqBC,CAAC,EAASyG,GAAE1G,CAAC,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAE,CAACD,EAAE,kBAAkBA,GAAG,iBAAiBA,EAAE,IAAI,OAAOA,CAAC,EAAEC,KAAK,EAAED,EAAE,IAAI,KAAK,IAAIA,CAAC,EAAET,EAAE,EAAEU,IAAI,IAAI,CAAC,EAAED,EAAE,cAAc,EAAET,EAAE,EAAEU,EAAE,IAAI,IAAI,CAAC,EAAED,EAAE,cAAc,EAAET,EAAE,EAAEU,EAAE,IAAI,IAAI,CAAC,EACpfD,EAAE,YAAY,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,WAAW,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,YAAY,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,eAAe,EAAE,KAAKT,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,UAAU,EAAEA,GAAGA,EAAE,QAAQ,EAAE,KAAK,IAAIA,EAAE,eAAe,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,GAAG,MAAM,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,CAAC,EAAE,EAAE,SAASA,EAAEC,EAAE,CAACD,EAAE,kBAAkBA,GAAG,iBAAiBA,EAAE,IAAI,OAAOA,CAAC,EAAEC,KAAK,EAAED,EAAE,IAAI,KAAK,IAAIA,CAAC,EAAET,EAAE,EAAEU,IAAI,IAAI,CAAC,EAAED,EAAE,WAAW,EAAET,EAAE,EAAEU,EAAE,IAAI,IAAI,CAAC,EAAED,EAAE,WAAW,EAAET,EAAE,EAAEU,EAAE,IAAI,IAAI,CAAC,EAAED,EAAE,SAAS,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,QAAQ,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,SAAS,EAAET,EAAE,EAAEU,EAAE,KACnf,IAAI,CAAC,EAAED,EAAE,YAAY,EAAE,KAAKT,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,EAAE,OAAO,EAAE,IAAIgB,GAAG6H,GAAE7I,EAAE,YAAY,CAAC,EAAE8I,GAAGC,IAAI/I,EAAE,SAAS,CAAC,EAAEA,EAAE,QAAQ,EAAE,EAAE,EAAET,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAEe,EAAEzB,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE,GAAGD,EAAE,kBAAkB,GAAGgB,EAAG,IAAI,KAAKhB,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAE,IAAIiB,EAAG,IAAI,KAAKjB,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAEA,GAAGgB,GAAGC,GAAGjB,EAAE,kBAAkB,GAAG,KAAK,IAAIiB,EAAED,CAAC,GAAG,EAAEzB,EAAE,EAAEU,EAAE,KAAK,IAAI,CAAC,EAAED,CAAC,EAAE,GAAG,SAASA,EAAE,CAACA,KAAK,EAAE,IAAIC,EAAE,IAAI,KAAKV,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAE,KAAKT,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAET,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAET,EAAE,EAAES,EAAE,IAAI,IAAI,CAAC,EAAET,EAAE,EAAES,EAAE,IAAI,IAAI,CAAC,EAAET,EAAE,EAAES,IACtf,IAAI,CAAC,EAAE,CAAC,EAAEgB,EAAEzB,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAEiB,EAAEhB,EAAE,kBAAkB,EAAEiB,EAAG,IAAI,KAAKjB,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAEkB,EAAG,IAAI,KAAKlB,EAAE,YAAY,EAAE,EAAE,CAAC,EAAG,kBAAkB,EAAEmB,EAAE,KAAK,IAAID,EAAED,CAAC,EAAE,SAAEF,EAAEzB,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAE,EAAOkB,GAAGC,GAAGC,GAAGH,GAAG,EAAED,IAAII,GAAGH,KAAKC,EAAE,KAAK,IAAIC,EAAED,CAAC,EAAEjB,EAAE,QAAQA,EAAE,QAAQ,EAAE,MAAM,EAAEe,EAAEI,EAAEF,GAAGD,EAAE,GAAG1B,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAEC,EAAE,OAAO,EAAEe,GAAG6H,GAAE5I,EAAE,YAAY,CAAC,EAAE6I,GAAGC,IAAI9I,EAAE,SAAS,CAAC,EAAEA,EAAE,QAAQ,EAAE,EAAE,EAAEV,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAEgB,EAAEzB,EAAE,EAAES,IAAI,IAAI,CAAC,EAAEC,EAAE,WAAW,EAAEV,EAAE,EAAES,EAAE,IAAI,IAAI,CAAC,EAAEC,EAAE,WAAW,EAAEV,EAAE,EAAES,EAAE,IAAI,IAAI,CAAC,EAAEC,EAAE,SAAS,EAAEV,EAAE,EAAES,EAAE,KACjf,IAAI,CAAC,EAAEC,EAAE,QAAQ,EAAEV,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAEC,EAAE,SAAS,EAAEV,EAAE,EAAES,EAAE,KAAK,IAAI,CAAC,EAAEC,EAAE,QAAQ,EAAS,OAAOA,EAAE,QAAQ,EAAE,GAAG,CAAC,EAAE,EAAE+I,GAAG,EAAEC,GAAG,EAAE,SAASjJ,EAAEC,EAAEe,EAAE,CAAC,SAASC,EAAE6I,EAAE,CAAC,OAAOA,EAAEA,EAAE,aAAa,EAAE,MAAM,mBAAmB,GAAGA,EAAE,CAAC,EAAE,KAAK,CAAC9J,KAAK,EAAEC,KAAK,EAAEe,KAAK,EAAE,IAAIE,EAAG,IAAI,OAAM,YAAY,EAAEC,EAAE,IAAI,KAAKD,EAAE,EAAE,CAAC,EAAEE,EAAE,IAAI,KAAKF,EAAE,EAAE,CAAC,EAAEA,EAAEC,EAAE,kBAAkB,EAAE,IAAI4C,EAAE3C,EAAE,kBAAkB,EAAEuG,EAAE,KAAK,IAAIzG,EAAE6C,CAAC,EAAEtE,EAAE,EAAEO,IAAI,IAAI,CAAC,EAAE,GAAG2H,EAAEpI,EAAE,EAAEU,IAAI,IAAI,CAAC,EAAE,EAAOiB,GAAG6C,GAAG/D,EAAEiB,EAAEE,CAAC,EAAElB,EAAEgB,EAAEG,CAAC,EAAEpB,EAAEkJ,GAAGlJ,CAAC,EAAEC,EAAEiJ,GAAGjJ,CAAC,EAAE8D,EAAE7C,GAAGzB,EAAE,EAAEuB,IAAI,IAAI,CAAC,EAAEhB,EAAEP,EAAE,EAAEuB,EAAE,IAAI,IAAI,CAAC,EAAEf,IAAIR,EAAE,EAAEuB,IACpf,IAAI,CAAC,EAAEf,EAAER,EAAE,EAAEuB,EAAE,IAAI,IAAI,CAAC,EAAEhB,EAAE,EAAE,EAAE,IAAI,CAAC0B,GAAE,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,IAAI,CAAC,MAAAW,IAAI,EAAO,QAAS,EAAE,EAAE,UAAU,CAAC,MAAO,WAAU,EAAE,EAAE,IAAI,YAAY,WAAW,YAAY,IAAI,EAAE,EAAE,IAAI9B,EAAE,cAAc,KAAK,EAAE,OAAO,UAAU,oBAAoB,EAAE,SAASP,EAAE,CAACA,KAAK,EAAE,IAAIC,EAAEhB,EAAE,EAAE,OAAO,GAAGe,GAAGC,GAAG,WAAWD,EAAE,MAAM,GAAG,QAAQgB,EAAE,EAAE,GAAGA,EAAEA,GAAG,EAAE,CAAC,IAAIC,EAAEhB,GAAG,EAAE,GAAGe,GAAGC,EAAE,KAAK,IAAIA,EAAEjB,EAAE,SAAS,EAAE,IAAIkB,EAAE,KAAKD,EAAE,KAAK,IAAIjB,EAAEiB,CAAC,EAAEjB,EAAE,CAACkB,GAAGA,EAAE,IAAI,KAAKA,EAAE,WAAWD,GAAG,MAAMA,EAAE,OAAO,KAAK,EAAEnC,EAAE,OAAO,WAAW,OAAO,MAAM,GAAG,CAACA,EAAE,KAAKoC,CAAC,EAC3flC,EAAE,EAAE,IAAImC,EAAE,EAAE,MAAMnB,CAAC,MAAS,CAAC,CAACmB,EAAE,MAAM,CAAC,GAAGA,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,EAAE,GAAGoI,GAAG,GAAGC,GAAG,EAAE9F,GAAG,EAAE+F,GAAG,EAAEC,GAAG,GAAGC,GAAG,EAAEE,GAAG,EAAE/K,GAAGe,EAAE,WAAW,GAAGuK,GAAG,EAAE,SAASpK,EAAEC,EAAEe,EAAEC,EAAE,CAAC,OAAOmJ,GAAGpK,IAAI,EAAEC,IAAI,EAAEe,IAAI,EAAEC,IAAI,CAAC,CAAC,CAAC,EAAEgK,EAAE,UAAU,CAAC,IAAIjL,EAAE,CAAC,EAAE+K,EAAE,EAAE,OAAAxI,KAAIS,GAAGhD,EAAE,SAASC,EAAE,CAAC,IAAIe,EAAEf,EAAE,OAAOgL,EAAEhL,EAAE,SAAS,QAAQgL,EAAEC,GAAG,EAAE9H,EAAE,GAAG,KAAK6H,EAAE,EAAE,EAAE5G,EAAG4G,EAAE,GAAG9I,GAAG,QAAQ8I,EAAE,EAAE,EAAEtJ,GAAGX,EAAE0B,GAAG,CAAC,CAAC,EAAE,MAAM3C,CAAE,EAAQ,CAAC,CAAC,EAAE,EAAEF,EAAE,SAAS,CAACG,EAAEC,KAAKJ,EAAE,SAASoL,EAAE,IAAIjL,EAAEC,CAAC,EAAEJ,EAAE,iBAAiB,CAACG,EAAEC,KAAKJ,EAAE,iBAAiBoL,EAAE,IAAIjL,EAAEC,CAAC,EAC3bJ,EAAE,yBAAyB,CAACG,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAEC,EAAE2C,EAAE4D,EAAEmC,KAAKjK,EAAE,yBAAyBoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAEC,EAAE2C,EAAE4D,EAAEmC,CAAC,EAAEjK,EAAE,4BAA4B,CAACG,EAAEC,KAAKJ,EAAE,4BAA4BoL,EAAE,IAAIjL,EAAEC,CAAC,EAAEJ,EAAE,6BAA6B,CAACG,EAAEC,EAAEe,KAAKnB,EAAE,6BAA6BoL,EAAE,IAAIjL,EAAEC,EAAEe,CAAC,EAAEnB,EAAE,0BAA0B,CAACG,EAAEC,EAAEe,KAAKnB,EAAE,0BAA0BoL,EAAE,IAAIjL,EAAEC,EAAEe,CAAC,EAAEnB,EAAE,0BAA0BG,IAAIH,EAAE,0BAA0BoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,kBAAkB,CAACG,EAAEC,EAAEe,KAAKnB,EAAE,kBAAkBoL,EAAE,IAAIjL,EAAEC,EAAEe,CAAC,EAC9dnB,EAAE,mBAAmBG,IAAIH,EAAE,mBAAmBoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,wBAAwB,CAACG,EAAEC,EAAEe,KAAKnB,EAAE,wBAAwBoL,EAAE,IAAIjL,EAAEC,EAAEe,CAAC,EAAEnB,EAAE,iBAAiB,CAACG,EAAEC,KAAKJ,EAAE,iBAAiBoL,EAAE,IAAIjL,EAAEC,CAAC,EAAEJ,EAAE,kBAAkB,CAACG,EAAEC,KAAKJ,EAAE,kBAAkBoL,EAAE,IAAIjL,EAAEC,CAAC,EAAEJ,EAAE,SAASG,IAAIH,EAAE,SAASoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,iBAAiB,CAACG,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,KAAKtB,EAAE,iBAAiBoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,CAAC,EAAEtB,EAAE,kBAAkB,CAACG,EAAEC,EAAEe,EAAEC,EAAEC,KAAKrB,EAAE,kBAAkBoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,EAAEC,CAAC,EAAErB,EAAE,kBAAkBG,IAAIH,EAAE,kBAAkBoL,EAAE,IAAIjL,CAAC,EAC5dH,EAAE,qBAAqB,CAACG,EAAEC,EAAEe,EAAEC,KAAKpB,EAAE,qBAAqBoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,CAAC,EAAEpB,EAAE,sBAAsB,CAACG,EAAEC,EAAEe,KAAKnB,EAAE,sBAAsBoL,EAAE,IAAIjL,EAAEC,EAAEe,CAAC,EAAEnB,EAAE,sBAAsBG,IAAIH,EAAE,sBAAsBoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,kBAAkBG,IAAIH,EAAE,kBAAkBoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,cAAc,CAACG,EAAEC,EAAEe,KAAKnB,EAAE,cAAcoL,EAAE,IAAIjL,EAAEC,EAAEe,CAAC,EAAEnB,EAAE,eAAe,CAACG,EAAEC,EAAEe,EAAEC,KAAKpB,EAAE,eAAeoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,CAAC,EAAEpB,EAAE,sBAAsBG,IAAIH,EAAE,sBAAsBoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,mBAAmBG,IAAIH,EAAE,mBAAmBoL,EAAE,IAAIjL,CAAC,EACxeH,EAAE,mBAAmB,CAACG,EAAEC,EAAEe,EAAEC,EAAEC,KAAKrB,EAAE,mBAAmBoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,EAAEC,CAAC,EAAErB,EAAE,QAAQ,CAACG,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAEC,EAAE2C,KAAKlE,EAAE,QAAQoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,EAAEC,EAAE2C,CAAC,EAAElE,EAAE,iBAAiBG,IAAIH,EAAE,iBAAiBoL,EAAE,IAAIjL,CAAC,EAAE,IAAI8D,GAAGjE,EAAE,cAAc,KAAKiE,GAAGjE,EAAE,cAAcoL,EAAE,IAAI,EAAE9B,GAAGtJ,EAAE,QAAQG,IAAImJ,GAAGtJ,EAAE,QAAQoL,EAAE,IAAIjL,CAAC,EAAEgI,GAAEnI,EAAE,MAAMG,IAAIgI,GAAEnI,EAAE,MAAMoL,EAAE,IAAIjL,CAAC,EAAEH,EAAE,sBAAsB,KAAKA,EAAE,sBAAsBoL,EAAE,IAAI,EAAE,IAAIlD,GAAG/H,IAAI+H,GAAGkD,EAAE,IAAIjL,CAAC,EAAEH,EAAE,6BAA6B,KAAKA,EAAE,6BAA6BoL,EAAE,IAAI,EACvd,IAAID,GAAGnL,EAAE,yBAAyB,CAACG,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,KAAK6J,GAAGnL,EAAE,yBAAyBoL,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,EAAEC,EAAEC,CAAC,EAAEtB,EAAE,4BAA4B,KAAKA,EAAE,4BAA4BoL,EAAE,IAAI,EAAE,IAAIrD,GAAG,CAAC5H,EAAEC,EAAEe,EAAEC,KAAK2G,GAAGqD,EAAE,IAAIjL,EAAEC,EAAEe,EAAEC,CAAC,EAAE4C,GAAG7D,IAAI6D,GAAGoH,EAAE,IAAIjL,CAAC,EAAEsE,GAAGzE,EAAE,yBAAyBG,IAAIsE,GAAGzE,EAAE,yBAAyBoL,EAAE,IAAIjL,CAAC,EAAEuH,GAAG1H,EAAE,2BAA2B,KAAK0H,GAAG1H,EAAE,2BAA2BoL,EAAE,IAAI,EAAE/G,GAAG,CAAClE,EAAEC,KAAKiE,GAAG+G,EAAE,IAAIjL,EAAEC,CAAC,EAAEwH,GAAG,KAAKA,GAAGwD,EAAE,IAAI,EAAE9G,GAAGnE,IAAImE,GAAG8G,EAAE,IAAIjL,CAAC,EAAE0H,GAAG1H,IAAI0H,GAAGuD,EAAE,IAAIjL,CAAC,EAC1c,SAASkL,IAAI,CAAC,IAAIlL,EAAEiL,EAAEjL,EAAE,OAAO,OAAO,CAAC,EAAEA,CAAC,EAAE,IAAIC,EAAEgB,GAAG,IAAIA,EAAE,IAAI,EAAED,EAAEC,GAAGC,GAAGD,EAAEC,CAAC,IAAI,EAAE,OAAAlB,EAAE,iBAAiBC,EAAED,EAAE,gBAAgB,EAAEA,EAAE,GAAGC,EAAED,EAAE,EAAE,EAAEA,EAAE,GAAGgB,EAAEhB,EAAE,EAAE,EAAEA,EAAE,GAAGgB,EAAEhB,EAAE,EAAE,EAAEA,EAAE,GAAGC,EAAED,EAAE,EAAE,EAAEA,EAAE,GAAGgB,EAAEhB,EAAE,EAAE,EAASA,CAAC,CAACH,EAAE,iBAAiByC,GAAGzC,EAAE,WAAWf,EAAEe,EAAE,WAAW6H,GAAG7H,EAAE,UAAU4H,GAAG5H,EAAE,aAAasE,GAAGtE,EAAE,aAAa0D,GAAG1D,EAAE,aAAamF,GAAGnF,EAAE,gBAAgBiF,GAAGjF,EAAE,WAAWoD,GAAGpD,EAAE,QAAQuD,EAAE,IAAI+H,GAAG1I,GAAE,SAAS2I,GAAI,CAACD,IAAIE,GAAG,EAAEF,KAAK1I,GAAE2I,EAAG,EAC1Z,SAASC,IAAI,CAAC,EAAE9I,KAAI/B,GAAGV,EAAGD,CAAC,EAAEW,GAAGyD,GAAG9B,EAAE,EAAE,YAAYtC,CAAC,IAAIoE,GAAG/B,EAAE,EAAE,EAAEK,IAAG4I,KAAKA,GAAG,GAAGtL,EAAE,UAAU,GAAG+B,KAAKpB,GAAGyD,GAAG9B,EAAE,EAAErC,EAAGD,CAAC,EAAEW,GAAGyD,GAAG7B,EAAE,KAAK,CAAC,OAAAiJ,GAAG,EAG3HzM,EAAU,KACnB,CAGA,GAAG,EACC,OAAOJ,IAAY,UAAY,OAAOC,IAAW,SACnDA,GAAO,QAAUC,GACV,OAAO,QAAW,YAAc,OAAO,KAC9C,OAAO,CAAC,EAAG,IAAMA,EAAe,IC1FlC,IAAA4M,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAA,kiFCAA,IAUIC,GASEC,GAMFC,GACAC,GACAC,GACAC,GAEEC,GAwBAC,GAyBAC,GAWOC,GA8GAC,EAxMbC,GAAAC,EAAA,kBAaEZ,GAAiB,KAMbC,GAC2B,KAM7BE,GAAc,GACdC,GAAe,GACfC,GAAU,GAERC,GAAyB,IAAe,CAC5C,GAAI,CAEF,OAAI,OAAO,kBAAsB,IACxB,IAKL,OAAO,eAAmB,KAC5B,IAAI,eAAe,EAAE,MAAM,YAAY,IAAI,kBAAkB,CAAC,CAAC,EAK1D,YAAY,SAAS,IAAI,WAAW,CACzC,EAAG,GAAI,IAAK,IAAK,EAAG,EAAI,EAAI,EAAG,EAAG,EAAG,EAAI,GAAI,EAAK,EAAI,EAAG,EAAG,EAAI,EAAG,EACnE,EAAG,EAAI,EAAK,EAAK,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAI,IAAK,GAAI,EAAG,EAAG,GAAI,EAClE,CAAC,CAAC,EACJ,MAAY,CACV,MAAO,EACT,CACF,EAEMC,GAAkB,IAAe,CACrC,GAAI,CAeF,OAAO,YAAY,SAAS,IAAI,WAAW,CACzC,EAAK,GAAI,IAAK,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAK,GAAK,EAAG,GAAI,EACvF,IAAK,GAAI,IAAK,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAI,EAAI,IAAK,IAAK,EAAG,GAAI,EACzF,CAAC,CAAC,CACJ,MAAY,CACV,MAAO,EACT,CACF,EAEMC,GAAkB,CAACK,EAAkBC,IACrCD,EAEO,8BAIFC,EAAa,yBAA2B,gBAItCL,GAAwB,MAAMM,GAA+C,CACxF,GAAIZ,GACF,OAAO,QAAQ,QAAQ,EAEzB,GAAIC,GACF,MAAM,IAAI,MAAM,uDAAyD,EAE3E,GAAIC,GACF,MAAM,IAAI,MAAM,oDAAsD,EAGxED,GAAe,GAGf,IAAMY,EAAUD,EAAM,YAChBE,EAAaF,EAAM,WACnBG,EAAOH,EAAM,KAEbD,EAAaG,EAAa,GAAKX,GAAuB,EACtDO,EAAUK,GAAQX,GAAgB,EAElCY,EAAYJ,EAAM,UAClBK,EAAqB,OAAOD,GAAc,SAAWA,EAAY,OACjEE,EAAeb,GAAgBK,EAASC,CAAU,EAClDQ,EAAmB,OAAOH,GAAc,SAAWA,EAAUE,CAAY,EAAI,OAE/EE,EAAY,GAEVC,EAA8B,CAAC,EA6ErC,GA1EIR,EAAU,GACZQ,EAAM,KAAK,IAAI,QAASC,GAAY,CAClC,WAAW,IAAM,CACfF,EAAY,GACZE,EAAQ,CACV,EAAGT,CAAO,CACZ,CAAC,CAAC,EAIJQ,EAAM,KAAK,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC1C,IAAMC,EAAUb,EAAab,GAAyBD,GAChD4B,EAAiC,CACrC,WAAY,CAACC,EAAkBC,IACUhB,GAAce,EAAS,SAAS,YAAY,GAC/E,OAAO,KAAS,IACX,IAAI,gBAAgB,IAAI,KAC3B,CAGE,IACF,EACA,CAAC,KAAM,iBAAiB,CAAC,CAAC,EAG5BA,EAAS,SAAS,OAAO,EACvBP,IAIWF,GAAsBU,GAUrBT,EAGXS,EAAkBD,CAE7B,EAEA,GAAuCf,EACrC,GAAI,OAAO,KAAS,IAClBc,EAAO,oBAA2B,SAAK,UAAW,sBAAsB,MACnE,CACL,IAAMG,EAAmB,uBAAuBJ,EAAQ,SAAS,CAAC,IAClEC,EAAO,oBAAsB,IAAI,KAAK,CAACG,CAAgB,EAAG,CAAC,KAAM,iBAAiB,CAAC,CACrF,CAGFJ,EAAQC,CAAM,EAAE,KAEZI,GAAU,CACR5B,GAAe,GACfD,GAAc,GACdD,GAAO8B,EACPP,EAAQ,CACV,EAECQ,GAAS,CACR7B,GAAe,GACfC,GAAU,GACVqB,EAAOO,CAAI,CACb,CAAC,CACP,CAAC,CAAC,EAEF,MAAM,QAAQ,KAAKT,CAAK,EAEpBD,EACF,MAAM,IAAI,MAAM,2DAA2DP,CAAO,IAAI,CAE1F,EAEaN,EAAc,IAAqB,CAC9C,GAAIP,IAAeD,GACjB,OAAOA,GAGT,MAAM,IAAI,MAAM,qCAAqC,CACvD,IC9MA,IAKagC,GAeAC,GA6BAC,EAjDbC,GAAAC,EAAA,kBAGAC,KAEaL,GAAkB,CAACM,EAAcC,IAA6B,CACzE,IAAMC,EAAOC,EAAY,EAEnBC,EAAaF,EAAK,gBAAgBF,CAAI,EAAI,EAC1CK,EAAaH,EAAK,QAAQE,CAAU,EAC1C,OAAAF,EAAK,aAAaF,EAAMK,EAAYD,CAAU,EAC9CH,EAAO,KAAKI,CAAU,EAEfA,CACT,EAMaV,GACT,CAACW,EAAkCC,EAAgBC,EAClDC,IAAuC,CACtC,GAAI,OAAOH,GAAW,UAAYA,IAAY,KAAM,CAClD,GAAIE,EAAK,IAAIF,CAAO,EAClB,MAAM,IAAI,MAAM,+BAA+B,EAE/CE,EAAK,IAAIF,CAAO,CAEpB,CAEA,OAAO,QAAQA,CAAO,EAAE,QAAQ,CAAC,CAACI,EAAKC,CAAK,IAAM,CAChD,IAAMC,EAAQL,EAAUA,EAASG,EAAMA,EACvC,GAAI,OAAOC,GAAU,SACnBhB,GAAoBgB,EAAkCC,EAAO,IAAKJ,EAAMC,CAAO,UACtE,OAAOE,GAAU,UAAY,OAAOA,GAAU,SACvDF,EAAQG,EAAMD,EAAM,SAAS,CAAC,UACrB,OAAOA,GAAU,UAC1BF,EAAQG,EAAOD,EAAS,IAAM,GAAG,MAEjC,OAAM,IAAI,MAAM,mCAAmC,OAAOA,CAAK,EAAE,CAErE,CAAC,CACH,EAMSf,EAAkBiB,GAA0B,CACvD,IAAMX,EAAOC,EAAY,EAEnBW,EAAQZ,EAAK,UAAU,EAC7B,GAAI,CACF,IAAMa,EAAeb,EAAK,WAAW,CAAC,EACtCA,EAAK,iBAAiBa,EAAcA,EAAe,CAAC,EACpD,IAAMC,EAAYd,EAAK,OAAOa,EAAe,CAAC,EACxCE,EAAsBf,EAAK,QAAQa,EAAe,EAAI,CAAC,EACvDG,EAAeD,EAAsBf,EAAK,aAAae,CAAmB,EAAI,GACpF,MAAM,IAAI,MAAM,GAAGJ,CAAO,gBAAgBG,CAAS,oBAAoBE,CAAY,EAAE,CACvF,QAAE,CACAhB,EAAK,aAAaY,CAAK,CACzB,CACF,IC/DA,IAQaK,GARbC,GAAAC,EAAA,kBAKAC,KACAC,KAEaJ,GAAiBK,GAA6D,CACzF,IAAMC,EAAOC,EAAY,EACrBC,EAAmB,EACjBC,EAAmB,CAAC,EAEpBC,EAA0CL,GAAW,CAAC,EAE5D,GAAI,CACF,GAAIA,GAAS,mBAAqB,OAChCK,EAAW,iBAAmB,UAE5B,OAAOL,EAAQ,kBAAqB,UAAY,CAAC,OAAO,UAAUA,EAAQ,gBAAgB,GAC1FA,EAAQ,iBAAmB,GAAKA,EAAQ,iBAAmB,EAC7D,MAAM,IAAI,MAAM,qCAAqCA,EAAQ,gBAAgB,EAAE,EAGjF,GAAIA,GAAS,oBAAsB,OACjCK,EAAW,kBAAoB,UACtB,OAAOL,EAAQ,mBAAsB,UAAY,CAAC,OAAO,UAAUA,EAAQ,iBAAiB,EACrG,MAAM,IAAI,MAAM,qCAAqCA,EAAQ,iBAAiB,EAAE,EAG9EA,GAAS,YAAc,SACzBK,EAAW,UAAY,IAGzB,IAAIC,EAAgB,EACpB,OAAIN,GAAS,MAAQ,SACnBM,EAAgBC,GAAgBP,EAAQ,IAAKI,CAAM,GAGrDD,EAAmBF,EAAK,qBACpBI,EAAW,iBAAmBA,EAAW,kBAAoB,CAAC,CAACA,EAAW,UAAYC,CAAa,EACnGH,IAAqB,GACvBK,EAAe,2BAA4B,EAGzCR,GAAS,QAAU,QACrBS,GAAoBT,EAAQ,MAAO,GAAI,IAAI,QAAoC,CAACU,EAAKC,IAAU,CAC7F,IAAMC,EAAgBL,GAAgBG,EAAKN,CAAM,EAC3CS,EAAkBN,GAAgBI,EAAOP,CAAM,EAEjDH,EAAK,sBAAsBE,EAAkBS,EAAeC,CAAe,IAAM,GACnFL,EAAe,iCAAiCE,CAAG,MAAMC,CAAK,GAAG,CAErE,CAAC,EAGI,CAACR,EAAkBC,CAAM,CAClC,OAASU,EAAG,CACV,MAAIX,IAAqB,GACvBF,EAAK,sBAAsBE,CAAgB,EAE7CC,EAAO,QAAQW,GAASd,EAAK,MAAMc,CAAK,CAAC,EACnCD,CACR,CACF,IChEA,IAQME,GAeAC,GAWAC,GAoBAC,GA+EOC,GArIbC,GAAAC,EAAA,kBAKAC,KACAC,KAEMR,GAA4BS,GAAmD,CACnF,OAAQA,EAAwB,CAC9B,IAAK,WACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,IAAK,WACH,MAAO,GACT,IAAK,MACH,MAAO,IACT,QACE,MAAM,IAAI,MAAM,yCAAyCA,CAAsB,EAAE,CACrF,CACF,EAEMR,GAAoBS,GAAmD,CAC3E,OAAQA,EAAe,CACrB,IAAK,aACH,MAAO,GACT,IAAK,WACH,MAAO,GACT,QACE,MAAM,IAAI,MAAM,+BAA+BA,CAAa,EAAE,CAClE,CACF,EAEMR,GAAwBS,GAAmD,CAC1EA,EAAQ,QACXA,EAAQ,MAAQ,CAAC,GAEdA,EAAQ,MAAM,UACjBA,EAAQ,MAAM,QAAU,CAAC,GAE3B,IAAMC,EAAUD,EAAQ,MAAM,QACzBC,EAAQ,+BAEXA,EAAQ,6BAA+B,KAIrCD,EAAQ,oBACRA,EAAQ,mBAAmB,KAAKE,IAAO,OAAOA,GAAO,SAAWA,EAAKA,EAAG,QAAU,QAAQ,IAC5FF,EAAQ,iBAAmB,GAE/B,EAEMR,GACF,CAACW,EAA8BC,EAC9BC,IAA2B,CAC1B,QAAWH,KAAME,EAAoB,CACnC,IAAIE,EAAS,OAAOJ,GAAO,SAAWA,EAAKA,EAAG,KAG9C,OAAQI,EAAQ,CACd,IAAK,UACHA,EAAS,UACT,MACF,IAAK,QAEH,GADAA,EAAS,QACL,OAAOJ,GAAO,SAAU,CAC1B,IAAMK,EAAeL,EACrB,GAAIK,GAAc,WAAY,CAC5B,IAAMC,EAAgBC,GAAgB,aAAcJ,CAAM,EACpDK,EAAkBD,GAAgBF,EAAa,WAAYF,CAAM,EACnEM,EAAY,EAAE,0BAA0BR,EAAsBK,EAAeE,CAAe,IAC5F,GACFE,EAAe,oDAAoDL,EAAa,UAAU,GAAG,CAEjG,CACA,GAAIA,GAAc,WAAY,CAC5B,IAAIM,EAAaN,EAAa,YAE1B,OAAOM,GAAc,UAAY,CAAC,OAAO,UAAUA,CAAU,GAAKA,EAAa,KACjFA,EAAa,GAEf,IAAML,EAAgBC,GAAgB,aAAcJ,CAAM,EACpDK,EAAkBD,GAAgBI,EAAW,SAAS,EAAGR,CAAM,EACjEM,EAAY,EAAE,0BAA0BR,EAAsBK,EAAeE,CAAe,IAC5F,GACFE,EAAe,oDAAoDL,EAAa,UAAU,GAAG,CAEjG,CACA,GAAIA,GAAc,gBAAiB,CACjC,IAAMC,EAAgBC,GAAgB,kBAAmBJ,CAAM,EACzDK,EAAkBD,GAAgBF,EAAa,gBAAiBF,CAAM,EACxEM,EAAY,EAAE,0BAA0BR,EAAsBK,EAAeE,CAAe,IAC5F,GACFE,EACI,yDAAyDL,EAAa,eAAe,GAAG,CAEhG,CACF,CACA,MACF,IAAK,SAEH,GADAD,EAAS,KACL,OAAOJ,GAAO,SAAU,CAC1B,IAAMY,EAAgBZ,EACtB,GAAIY,GAAe,gBAAiB,CAClC,GAAIA,EAAc,kBAAoB,QAAUA,EAAc,kBAAoB,OAChF,MAAM,IAAI,MAAM,oDAAoDA,EAAc,eAAe,EAAE,EAErG,IAAMN,EAAgBC,GAAgB,kBAAmBJ,CAAM,EACzDK,EAAkBD,GAAgBK,EAAc,gBAAiBT,CAAM,EACzEM,EAAY,EAAE,0BAA0BR,EAAsBK,EAAeE,CAAe,IAC5F,GACFE,EACI,yDAAyDE,EAAc,eAAe,GAAG,CAEjG,CACF,CACA,MACF,IAAK,OACL,IAAK,MACH,SACF,QACE,MAAM,IAAI,MAAM,qCAAqCR,CAAM,EAAE,CACjE,CAEA,IAAMS,EAAmBN,GAAgBH,EAAQD,CAAM,EACnDM,EAAY,EAAE,4BAA4BR,EAAsBY,CAAgB,IAAM,GACxFH,EAAe,oCAAoCN,CAAM,GAAG,CAEhE,CACF,EAESb,GAAqBO,GAAkE,CAClG,IAAMgB,EAAOL,EAAY,EACrBR,EAAuB,EACrBE,EAAmB,CAAC,EAEpBY,EAAkDjB,GAAW,CAAC,EACpET,GAAqB0B,CAAc,EAEnC,GAAI,CACF,IAAMnB,EAAyBT,GAAyB4B,EAAe,wBAA0B,KAAK,EAChGlB,EAAgBT,GAAiB2B,EAAe,eAAiB,YAAY,EAC7EC,EACF,OAAOD,EAAe,OAAU,SAAWR,GAAgBQ,EAAe,MAAOZ,CAAM,EAAI,EAEzFc,EAAmBF,EAAe,kBAAoB,EAC5D,GAAI,CAAC,OAAO,UAAUE,CAAgB,GAAKA,EAAmB,GAAKA,EAAmB,EACpF,MAAM,IAAI,MAAM,qCAAqCA,CAAgB,EAAE,EAGzE,IAAMC,EAAoBH,EAAe,mBAAqB,EAC9D,GAAI,CAAC,OAAO,UAAUG,CAAiB,GAAKA,EAAoB,GAAKA,EAAoB,EACvF,MAAM,IAAI,MAAM,qCAAqCA,CAAiB,EAAE,EAG1E,IAAMC,EAA+B,OAAOJ,EAAe,wBAA2B,SAClFR,GAAgBQ,EAAe,uBAAwBZ,CAAM,EAC7D,EAcJ,GAZAF,EAAuBa,EAAK,yBACxBlB,EAAwB,CAAC,CAACmB,EAAe,kBAAmB,CAAC,CAACA,EAAe,iBAAkBlB,EAC/F,CAAC,CAACkB,EAAe,gBAAiB,EAAGC,EAAiBC,EAAkBC,EACxEC,CAA4B,EAC5BlB,IAAyB,GAC3BS,EAAe,+BAAgC,EAG7CK,EAAe,oBACjBzB,GAAsBW,EAAsBc,EAAe,mBAAoBZ,CAAM,EAGnFY,EAAe,uBACjB,OAAW,CAACK,EAAMC,CAAK,IAAK,OAAO,QAAQN,EAAe,sBAAsB,EAAG,CACjF,GAAI,OAAOK,GAAS,SAClB,MAAM,IAAI,MAAM,kDAAkDA,CAAI,EAAE,EAE1E,GAAI,OAAOC,GAAU,UAAY,CAAC,OAAO,UAAUA,CAAK,GAAKA,EAAQ,EACnE,MAAM,IAAI,MAAM,iEAAiEA,CAAK,EAAE,EAE1F,IAAMC,EAAaf,GAAgBa,EAAMjB,CAAM,EAC3CW,EAAK,6BAA6Bb,EAAsBqB,EAAYD,CAAK,IAAM,GACjFX,EAAe,wCAAwCU,CAAI,MAAMC,CAAK,GAAG,CAE7E,CAGF,OAAIN,EAAe,QAAU,QAC3BQ,GAAoBR,EAAe,MAAO,GAAI,IAAI,QAAoC,CAACS,EAAKH,IAAU,CACpG,IAAMf,EAAgBC,GAAgBiB,EAAKrB,CAAM,EAC3CK,EAAkBD,GAAgBc,EAAOlB,CAAM,EAEjDW,EAAK,0BAA0Bb,EAAsBK,EAAeE,CAAe,IAAM,GAC3FE,EAAe,qCAAqCc,CAAG,MAAMH,CAAK,GAAG,CAEzE,CAAC,EAGI,CAACpB,EAAsBE,CAAM,CACtC,OAASsB,EAAG,CACV,MAAIxB,IAAyB,GAC3Ba,EAAK,0BAA0Bb,CAAoB,EAErDE,EAAO,QAAQuB,GAASZ,EAAK,MAAMY,CAAK,CAAC,EACnCD,CACR,CACF,IC/MA,IAiCaE,GAqCAC,GAsCAC,GAMAC,GAoCAC,GAoBAC,GAMAC,GAhLbC,GAAAC,EAAA,kBAiCaR,GAA8BS,GAA2B,CACpE,OAAQA,EAAM,CACZ,IAAK,OACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,IAAK,OACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,IAAK,SACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,IAAK,SACH,MAAO,IACT,IAAK,UACH,MAAO,IACT,IAAK,UACH,MAAO,GACT,IAAK,UACH,MAAO,IACT,IAAK,SACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,IAAK,SACH,MAAO,IAET,QACE,MAAM,IAAI,MAAM,0BAA0BA,CAAI,EAAE,CACpD,CACF,EAKaR,GAA8BS,GAAqC,CAC9E,OAAQA,EAAW,CACjB,IAAK,GACH,MAAO,OACT,IAAK,GACH,MAAO,QACT,IAAK,GACH,MAAO,OACT,IAAK,GACH,MAAO,QACT,IAAK,GACH,MAAO,SACT,IAAK,GACH,MAAO,QACT,IAAK,IACH,MAAO,SACT,IAAK,IACH,MAAO,UACT,IAAK,GACH,MAAO,UACT,IAAK,IACH,MAAO,UACT,IAAK,GACH,MAAO,SACT,IAAK,GACH,MAAO,QACT,IAAK,IACH,MAAO,SAET,QACE,MAAM,IAAI,MAAM,0BAA0BA,CAAS,EAAE,CACzD,CACF,EAMaR,GAAwBS,GACpB,CAAC,OAAW,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,OAAW,EAAG,EAAG,EAAG,EAAG,EAAG,OAAW,OAAW,MAAS,EAAEA,CAAQ,EAKxGR,GAAqCM,GAEoD,CAChG,OAAQA,EAAM,CACZ,IAAK,UACH,OAAO,YACT,IAAK,UACH,OAAO,aACT,IAAK,QACH,OAAO,WACT,IAAK,OACH,OAAO,UACT,IAAK,SACH,OAAO,YACT,IAAK,QACH,OAAO,WACT,IAAK,QACH,OAAO,WACT,IAAK,OACH,OAAO,WACT,IAAK,UACH,OAAO,aACT,IAAK,SACH,OAAO,YACT,IAAK,QACH,OAAO,cACT,IAAK,SACH,OAAO,eACT,QACE,MAAM,IAAI,MAAM,qBAAqBA,CAAI,EAAE,CAC/C,CACF,EAKSL,GAAwBQ,GAAkE,CACrG,OAAQA,EAAU,CAChB,IAAK,UACH,MAAO,GACT,IAAK,OACH,MAAO,GACT,IAAK,UACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,QACE,MAAM,IAAI,MAAM,8BAA8BA,CAAQ,EAAE,CAC5D,CACF,EAKaP,GAA4BI,GAAyDA,IAAS,WACvGA,IAAS,SAAWA,IAAS,SAAWA,IAAS,QAAUA,IAAS,WAAaA,IAAS,SAKjFH,GAA4BO,GAA0C,CACjF,OAAQA,EAAU,CAChB,IAAK,OACH,MAAO,GACT,IAAK,MACH,MAAO,GACT,IAAK,aACH,MAAO,GACT,IAAK,UACH,MAAO,GACT,IAAK,aACH,MAAO,GACT,QACE,MAAM,IAAI,MAAM,8BAA8BA,CAAQ,EAAE,CAC5D,CACF,IC/LA,IA8DMC,GAWOC,GAWAC,GA2DPC,GAOAC,GAqBOC,GAkBAC,GAuGAC,GAoBAC,GAqEAC,GA6NAC,GAgBAC,GA1mBbC,GAAAC,EAAA,kBAMAC,KACAC,KACAC,KACAC,KACAC,KAoDMlB,GAAU,CAACmB,EAAoBC,IAA+B,CAChDC,EAAY,EAAE,SAASF,EAAYC,CAAY,IAC/C,GAChBE,EAAe,+BAAgC,CAEnD,EAMarB,GAAc,MAAMsB,GAA4B,CAE3DvB,GAAQuB,EAAI,KAAK,WAAaC,GAAqBD,EAAI,QAAQ,CAAC,CAClE,EAQarB,GAAS,MAAMqB,EAAUE,IAAkC,CAuBxE,EAoCMtB,GAAiB,IAAI,IAOrBC,GAA8BsB,GAA4C,CAC9E,IAAMC,EAAON,EAAY,EACnBO,EAAQD,EAAK,UAAU,EAC7B,GAAI,CACF,IAAME,EAAaF,EAAK,WAAW,CAAC,EAEpC,OADkBA,EAAK,wBAAwBD,EAAeG,EAAYA,EAAa,CAAC,IACtE,GAChBP,EAAe,uCAAwC,EAElD,CAACK,EAAK,OAAOE,EAAa,CAAC,EAAGF,EAAK,OAAOE,EAAa,EAAI,CAAC,CAAC,CACtE,QAAE,CACAF,EAAK,aAAaC,CAAK,CACzB,CACF,EAQavB,GAA0ByB,GAAwC,CAC7E,IAAMH,EAAON,EAAY,EACnBU,EAAkBJ,EAAK,QAAQG,EAAM,UAAU,EACrD,GAAIC,IAAoB,EACtB,MAAM,IAAI,MAAM,+DAA+DD,EAAM,UAAU,GAAG,EAEpG,OAAAH,EAAK,OAAO,IAAIG,EAAOC,CAAe,EAC/B,CAACA,EAAiBD,EAAM,UAAU,CAC3C,EAUaxB,GACT,CAAC0B,EACAC,IAA2E,CAC1E,IAAIF,EAAyBG,EACvBP,EAAON,EAAY,EAErB,MAAM,QAAQW,CAAS,EAEzB,CAACD,EAAiBG,CAAe,EAAIF,EAC5BA,EAAU,SAAWL,EAAK,OAAO,OAE1C,CAACI,EAAiBG,CAAe,EAAI,CAACF,EAAU,WAAYA,EAAU,UAAU,EAGhF,CAACD,EAAiBG,CAAe,EAAI7B,GAAuB2B,CAAS,EAGvE,IAAIN,EAAgB,EAChBS,EAAuB,EACvBC,EAAkB,EAClBC,EAAmB,CAAC,EAClBC,EAAwB,CAAC,EACzBC,EAAyB,CAAC,EAEhC,GAAI,CACF,CAACJ,EAAsBE,CAAM,EAAIG,GAAkBP,CAAO,EAE1DP,EAAgBC,EAAK,kBAAkBI,EAAiBG,EAAiBC,CAAoB,EACzFT,IAAkB,GACpBJ,EAAe,yBAA0B,EAG3C,GAAM,CAACmB,EAAYC,CAAW,EAAItC,GAA2BsB,CAAa,EAEpEiB,EAAa,CAAC,EACdC,EAAc,CAAC,EACfC,EAAwE,CAAC,EAC/E,QAASC,EAAI,EAAGA,EAAIL,EAAYK,IAAK,CACnC,IAAMC,EAAOpB,EAAK,iBAAiBD,EAAeoB,CAAC,EAC/CC,IAAS,GACXzB,EAAe,0BAA2B,EAE5CgB,EAAsB,KAAKS,CAAI,EAC/BJ,EAAW,KAAKhB,EAAK,aAAaoB,CAAI,CAAC,CACzC,CACA,QAASD,EAAI,EAAGA,EAAIJ,EAAaI,IAAK,CACpC,IAAMC,EAAOpB,EAAK,kBAAkBD,EAAeoB,CAAC,EAChDC,IAAS,GACXzB,EAAe,2BAA4B,EAE7CiB,EAAuB,KAAKQ,CAAI,EAChC,IAAMC,EAAarB,EAAK,aAAaoB,CAAI,EACzCH,EAAY,KAAKI,CAAU,CAW7B,CAGA,IAAIC,EAAoC,KAcxC,OAAA9C,GAAe,IAAIuB,EAAe,CAACA,EAAeY,EAAuBC,EAAwBU,CAAY,CAAC,EACvG,CAACvB,EAAeiB,EAAYC,CAAW,CAChD,OAASM,EAAG,CACV,MAAAZ,EAAsB,QAAQa,GAAOxB,EAAK,SAASwB,CAAG,CAAC,EACvDZ,EAAuB,QAAQY,GAAOxB,EAAK,SAASwB,CAAG,CAAC,EAEpDf,IAAoB,GACtBT,EAAK,mBAAmBS,CAAe,EAGrCV,IAAkB,GACpBC,EAAK,mBAAmBD,CAAa,EAEjCwB,CACR,QAAE,CACAvB,EAAK,MAAMI,CAAe,EACtBI,IAAyB,GAC3BR,EAAK,0BAA0BQ,CAAoB,EAErDE,EAAO,QAAQe,GAASzB,EAAK,MAAMyB,CAAK,CAAC,CAC3C,CACF,EAES7C,GAAkB8C,GAA4B,CACzD,IAAM1B,EAAON,EAAY,EACnBiC,EAAUnD,GAAe,IAAIkD,CAAS,EAC5C,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,+CAA+CD,CAAS,EAAE,EAE5E,GAAM,CAAC3B,EAAeY,EAAuBC,EAAwBgB,CAAc,EAAID,EAEnFC,GACF5B,EAAK,mBAAmB4B,EAAe,MAAM,EAG/C5B,EAAK,wBAAwB0B,CAAS,EAEtCf,EAAsB,QAAQa,GAAOxB,EAAK,SAASwB,CAAG,CAAC,EACvDZ,EAAuB,QAAQY,GAAOxB,EAAK,SAASwB,CAAG,CAAC,EACxDxB,EAAK,mBAAmBD,CAAa,EACrCvB,GAAe,OAAOkD,CAAS,CACjC,EAEa7C,GACT,CAACgD,EAA6BC,EAAyBpB,EAAkBgB,EAAmBK,IAChF,CACN,GAAI,CAACF,EAAQ,CACXC,EAAc,KAAK,CAAC,EACpB,MACF,CAEA,IAAM9B,EAAON,EAAY,EAEnBsC,EAAWH,EAAO,CAAC,EACnBI,EAAOJ,EAAO,CAAC,EACfK,EAAWL,EAAO,CAAC,EAErBM,EACAC,EAEJ,GAAIJ,IAAa,UAAYE,IAAa,aACxC,MAAM,IAAI,MAAM,wCAAwC,EAG1D,GAAIA,IAAa,aAAc,CAC7B,IAAMG,EAAYR,EAAO,CAAC,EAAE,UACtBS,EAAqBC,GAAqBC,GAA2BR,CAAQ,CAAC,EACpFI,EAAiBH,EAAK,OAAO,CAACQ,EAAGC,IAAMD,EAAIC,EAAG,CAAC,EAAIJ,EACnDH,EAAUnC,EAAK,mBAAmB0B,EAAWK,EAAOM,EAAWD,CAAc,CAC/E,KAAO,CACL,IAAMO,EAAOd,EAAO,CAAC,EAErB,GAAI,MAAM,QAAQc,CAAI,EAAG,CAEvBP,EAAiB,EAAIO,EAAK,OAC1BR,EAAUnC,EAAK,QAAQoC,CAAc,EACrC1B,EAAO,KAAKyB,CAAO,EACnB,IAAIS,EAAYT,EAAU,EAC1B,QAAShB,EAAI,EAAGA,EAAIwB,EAAK,OAAQxB,IAAK,CACpC,GAAI,OAAOwB,EAAKxB,CAAC,GAAM,SACrB,MAAM,IAAI,UAAU,wBAAwBA,CAAC,kBAAkB,EAEjEnB,EAAK,QAAQ4C,GAAW,EAAIC,GAAgBF,EAAKxB,CAAC,EAAGT,CAAM,CAC7D,CACF,MACE0B,EAAiBO,EAAK,WACtBR,EAAUnC,EAAK,QAAQoC,CAAc,EACrC1B,EAAO,KAAKyB,CAAO,EACnBnC,EAAK,OAAO,IAAI,IAAI,WAAW2C,EAAK,OAAQA,EAAK,WAAYP,CAAc,EAAGD,CAAO,CAEzF,CAEA,IAAMlC,EAAQD,EAAK,UAAU,EACvB8C,EAAa9C,EAAK,WAAW,EAAIiC,EAAK,MAAM,EAClD,GAAI,CACF,IAAIc,EAAWD,EAAa,EAC5Bb,EAAK,QAAQe,GAAKhD,EAAK,OAAO+C,GAAU,EAAIC,CAAC,EAC7C,IAAMnB,EAAS7B,EAAK,iBAChBwC,GAA2BR,CAAQ,EAAGG,EAASC,EAAgBU,EAAYb,EAAK,OAChFgB,GAAyBf,CAAQ,CAAC,EAClCL,IAAW,GACblC,EAAe,iDAAiD+B,CAAS,WAAWK,CAAK,GAAG,EAE9FD,EAAc,KAAKD,CAAM,CAC3B,QAAE,CACA7B,EAAK,aAAaC,CAAK,CACzB,CACF,EAKKnB,GAAM,MACf4C,EAAmBwB,EAAwBC,EAAgCC,EAC3EC,EAA2C/C,IAAoE,CACjH,IAAMN,EAAON,EAAY,EACnBiC,EAAUnD,GAAe,IAAIkD,CAAS,EAC5C,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,6CAA6CD,CAAS,EAAE,EAE1E,GAAM,CAAC3B,EAAeY,EAAuBC,EAAwBgB,CAAc,EAAID,EAEjFb,EAAaoC,EAAa,OAC1BnC,EAAcqC,EAAc,OAE9BE,EAAmB,EACnBC,EAA6B,CAAC,EAE5BC,EAA+B,CAAC,EAChCC,EAAgC,CAAC,EACjCC,EAA8B,CAAC,EAE/BC,EAAiB3D,EAAK,UAAU,EAChC4D,EAAoB5D,EAAK,WAAWc,EAAa,CAAC,EAClD+C,EAAmB7D,EAAK,WAAWc,EAAa,CAAC,EACjDgD,GAAqB9D,EAAK,WAAWe,EAAc,CAAC,EACpDgD,GAAoB/D,EAAK,WAAWe,EAAc,CAAC,EAEzD,GAAI,CACF,CAACuC,EAAkBC,CAAgB,EAAIS,GAAc1D,CAAO,EAG5D,QAASa,EAAI,EAAGA,EAAIL,EAAYK,IAC9BtC,GAAyBsE,EAAahC,CAAC,EAAGqC,EAAoBE,EAAmBhC,EAAWwB,EAAa/B,CAAC,CAAC,EAI7G,QAASA,EAAI,EAAGA,EAAIJ,EAAaI,IAC/BtC,GACIwE,EAAclC,CAAC,EAAGsC,EAAqBC,EAAmBhC,EAAWZ,EAAasC,EAAcjC,CAAC,CAAC,EAGxG,IAAI8C,GAAmBL,EAAoB,EACvCM,EAAkBL,EAAmB,EACrCM,GAAoBL,GAAqB,EACzCM,GAAmBL,GAAoB,EAC3C,QAAS5C,EAAI,EAAGA,EAAIL,EAAYK,IAC9BnB,EAAK,QAAQiE,IAAkB,EAAIT,EAAmBrC,CAAC,EACvDnB,EAAK,QAAQkE,GAAiB,EAAIvD,EAAsBuC,EAAa/B,CAAC,CAAC,EAEzE,QAASA,EAAI,EAAGA,EAAIJ,EAAaI,IAC/BnB,EAAK,QAAQmE,IAAmB,EAAIV,EAAoBtC,CAAC,EACzDnB,EAAK,QAAQoE,IAAkB,EAAIxD,EAAuBwC,EAAcjC,CAAC,CAAC,EA0C5E,IAAIkD,GAMFA,GAAY,MAAMrE,EAAK,QACnBD,EAAe8D,EAAkBD,EAAmB9C,EAAYiD,GAAmBhD,EACnF+C,GAAoBR,CAAgB,EAGtCe,KAAc,GAChB1E,EAAe,0BAA0B,EAG3C,IAAM2E,GAA2B,CAAC,EAElC,QAASnD,EAAI,EAAGA,EAAIJ,EAAaI,IAAK,CACpC,IAAMU,EAAS7B,EAAK,QAAQ8D,GAAqB,EAAI3C,CAAC,EACtD,GAAIU,IAAW4B,EAAoBtC,CAAC,EAAG,CAErCmD,GAAO,KAAKjB,EAAclC,CAAC,CAAE,EAC7B,QACF,CAEA,IAAMoD,GAA2BvE,EAAK,UAAU,EAE1CwE,GAAmBxE,EAAK,WAAW,EAAI,CAAC,EAE1CyE,GAAmB,GACnBC,EAA6BxE,GAAa,EAC9C,GAAI,CACgBF,EAAK,kBACnB6B,EAAQ2C,GAAkBA,GAAmB,EAAGA,GAAmB,EAAGA,GAAmB,EAAE,IAC7E,GAChB7E,EAAe,4CAA4CwB,CAAC,GAAG,EAEjE,IAAIwD,GAAkBH,GAAmB,EACnCxC,GAAWhC,EAAK,QAAQ2E,IAAiB,EAC/CzE,GAAaF,EAAK,QAAQ2E,IAAiB,EAC3C,IAAM7B,GAAa9C,EAAK,QAAQ2E,IAAiB,EAC3CC,GAAa5E,EAAK,QAAQ2E,IAAiB,EAC3C1C,GAAO,CAAC,EACd,QAASd,EAAI,EAAGA,EAAIyD,GAAYzD,IAC9Bc,GAAK,KAAKjC,EAAK,QAAQ8C,GAAa,EAAI3B,CAAC,CAAC,EAE5CnB,EAAK,SAAS8C,EAAU,EAExB,IAAM+B,GAAO5C,GAAK,OAAO,CAACQ,EAAGC,KAAMD,EAAIC,GAAG,CAAC,EAC3CgC,EAAOI,GAA2B9C,EAAQ,EAE1C,IAAM+C,GAAoBnD,GAAgB,yBAAyBwB,EAAcjC,CAAC,CAAC,EAEnF,GAAIuD,IAAS,SAAU,CACrB,GAAIK,KAAsB,aACxB,MAAM,IAAI,MAAM,wCAAwC,EAE1D,IAAMC,EAAuB,CAAC,EAC1BpC,GAAY1C,GAAa,EAC7B,QAASiB,GAAI,EAAGA,GAAI0D,GAAM1D,KAAK,CAC7B,IAAM8D,GAASjF,EAAK,QAAQ4C,IAAW,EACjCsC,GAAiB/D,KAAM0D,GAAO,EAAI,OAAY7E,EAAK,QAAQ4C,EAAS,EAAIqC,GAC9ED,EAAW,KAAKhF,EAAK,aAAaiF,GAAQC,EAAc,CAAC,CAC3D,CACAZ,GAAO,KAAK,CAACI,EAAMzC,GAAM+C,EAAY,KAAK,CAAC,CAC7C,SAGMD,KAAsB,cAAgBF,GAAO,EAAG,CAClD,IAAMxC,EAAYrC,EAAK,cAAcE,EAAU,EACzCiF,GAAc5C,GAAqBP,EAAQ,EACjD,GAAImD,KAAgB,QAAa,CAACC,GAAyBV,CAAI,EAC7D,MAAM,IAAI,MAAM,0BAA0BA,CAAI,EAAE,EAIlDD,GAAmB,GAEnBH,GAAO,KAAK,CACVI,EAAMzC,GAAM,CACV,UAAAI,EACA,SAAUrC,EAAK,qBAAqBqC,EAAWwC,GAAOM,GAAaT,CAAI,EACvE,QAAS,IAAM,CACb1E,EAAK,kBAAkB6B,CAAM,CAC/B,CACF,EACA,YACF,CAAC,CACH,KAAO,CACL,IAAMwD,EAAwBC,GAAkCZ,CAAI,EAC9D/B,GAAO,IAAI0C,EAAsBR,EAAI,EAC3C,IAAI,WAAWlC,GAAK,OAAQA,GAAK,WAAYA,GAAK,UAAU,EACvD,IAAI3C,EAAK,OAAO,SAASE,GAAYA,GAAayC,GAAK,UAAU,CAAC,EACvE2B,GAAO,KAAK,CAACI,EAAMzC,GAAMU,GAAM,KAAK,CAAC,CACvC,CAEJ,QAAE,CACA3C,EAAK,aAAauE,EAAwB,EACtCG,IAAS,UAAYxE,IACvBF,EAAK,MAAME,EAAU,EAElBuE,IACHzE,EAAK,kBAAkB6B,CAAM,CAEjC,CACF,CAEA,OAAID,GACF5B,EAAK,sBAAsB4B,EAAe,MAAM,EAG3C0C,EACT,QAAE,CACAtE,EAAK,aAAa2D,CAAc,EAEhCH,EAAmB,QAAQ+B,IAAKvF,EAAK,kBAAkBuF,EAAC,CAAC,EACzD9B,EAAoB,QAAQ8B,IAAKvF,EAAK,kBAAkBuF,EAAC,CAAC,EAC1D7B,EAAkB,QAAQ8B,IAAKxF,EAAK,MAAMwF,EAAC,CAAC,EAExClC,IAAqB,GACvBtD,EAAK,sBAAsBsD,CAAgB,EAE7CC,EAAiB,QAAQiC,IAAKxF,EAAK,MAAMwF,EAAC,CAAC,CAC7C,CACF,EAKazG,GAAgB2C,GAA4B,CACvD,IAAM1B,EAAON,EAAY,EACnBiC,EAAUnD,GAAe,IAAIkD,CAAS,EAC5C,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,oBAAoB,EAEtC,IAAM5B,EAAgB4B,EAAQ,CAAC,EAGzB8D,EAAkBzF,EAAK,iBAAiBD,CAAa,EACvD0F,IAAoB,GACtB9F,EAAe,iCAAkC,EAEnDK,EAAK,SAASyF,CAAe,CAC/B,EAEazG,GAA8B0G,GAAsE,CAC/G,IAAMC,EAA6B,CAAC,EACpC,QAAW9D,KAAU6D,EAAS,CAC5B,IAAM/C,EAAOd,EAAO,CAAC,EACjB,CAAC,MAAM,QAAQc,CAAI,GAAK,WAAYA,GACtCgD,EAAQ,KAAKhD,EAAK,MAAM,CAE5B,CACA,OAAOgD,CACT,ICnnBA,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAA,8mjECAA,IASMC,GACFC,GACAC,GACAC,GACAC,GAGAC,GACEC,GAEAC,GASAC,GAMAC,GA8BAC,GAEOC,GAsDAC,GAaAC,GAaAC,GAuBAC,GAaAC,GAyBAC,GA/MbC,GAAAC,EAAA,kBAGAC,KAGAC,KACAC,KAEMtB,GAAU,IAAe,CAAC,CAACuB,GAAI,KAAK,OAAS,OAAO,SAAa,IAEnErB,GAAe,GACfC,GAAc,GACdC,GAAU,GAIRE,GAAiF,IAAI,IAErFC,GAAmB,CAACiB,EAA8BC,IAA+C,CACrG,IAAMC,EAAQpB,GAAgB,IAAIkB,CAAI,EAClCE,EACFA,EAAM,KAAKD,CAAS,EAEpBnB,GAAgB,IAAIkB,EAAM,CAACC,CAAS,CAAC,CAEzC,EAEMjB,GAAe,IAAY,CAC/B,GAAIN,IAAgB,CAACC,IAAeC,IAAW,CAACH,GAC9C,MAAM,IAAI,MAAM,kBAAkB,CAEtC,EAEMQ,GAAwBkB,GAA2C,CACvE,OAAQA,EAAG,KAAK,KAAM,CACpB,IAAK,YACHzB,GAAe,GACXyB,EAAG,KAAK,KACVvB,GAAU,GACVC,GAAkB,CAAC,EAAEsB,EAAG,KAAK,GAAG,IAEhCxB,GAAc,GACdE,GAAkB,CAAC,EAAE,GAEvB,MACF,IAAK,UACL,IAAK,YACL,IAAK,SACL,IAAK,UACL,IAAK,MACL,IAAK,gBAAiB,CACpB,IAAMoB,EAAYnB,GAAgB,IAAIqB,EAAG,KAAK,IAAI,EAC9CA,EAAG,KAAK,IACVF,EAAU,MAAM,EAAG,CAAC,EAAEE,EAAG,KAAK,GAAG,EAEjCF,EAAU,MAAM,EAAG,CAAC,EAAEE,EAAG,KAAK,GAAI,EAEpC,KACF,CACA,QACF,CACF,EAEMjB,GAAY,OAAO,SAAa,IAAe,UAAU,eAAqC,IAAM,OAE7FC,GAAqC,SAA0B,CAC1E,GAAI,CAAAR,GAGJ,IAAID,GACF,MAAM,IAAI,MAAM,0CAA4C,EAE9D,GAAIE,GACF,MAAM,IAAI,MAAM,uCAAyC,EAK3D,GAFAF,GAAe,GAEuBF,GAAQ,EAE5C,OAAIuB,GAAI,KAAK,YAAc,QACrBb,IAAaA,GAAU,QAAQ,OAAO,IAAM,IAC9Ca,GAAI,KAAK,UAAYb,GAAU,OAAO,EAAG,CAAEA,GAAW,YAAY,GAAG,EAAI,CAAC,GAIvE,IAAI,QAAc,CAACkB,EAASC,IAAW,CAC5C5B,IAAa,UAAU,EAEvB,IAAM6B,EAAY,IAAI,gBAAgB,IAAI,KACtC,CAGE,IACF,EACA,CAAC,KAAM,iBAAiB,CAAC,CAAC,EAC9B7B,GAAc,IAAI,OAAO6B,EAAW,CAAC,KAAM,uBAAuB,CAAC,EACnE7B,GAAY,QAAW0B,GAAmBE,EAAOF,CAAE,EACnD1B,GAAY,UAAYQ,GACxB,IAAI,gBAAgBqB,CAAS,EAC7BzB,GAAoB,CAACuB,EAASC,CAAM,EACpC,IAAME,EAA0B,CAAC,KAAM,YAAa,GAAKR,EAAG,EAC5DtB,GAAY,YAAY8B,CAAO,CACjC,CAAC,EAGD,GAAI,CACF,MAAMC,GAAsBT,GAAI,IAAI,EACpC,MAAWU,GAAYV,EAAG,EAC1BpB,GAAc,EAChB,OAAS+B,EAAG,CACV,MAAA9B,GAAU,GACJ8B,CACR,QAAE,CACAhC,GAAe,EACjB,EAEJ,EAEaU,GAAkB,MAAMuB,GAAkC,CACrE,GAAsCnC,GAAQ,EAC5C,OAAAQ,GAAa,EACN,IAAI,QAAc,CAACoB,EAASC,IAAW,CAC5CtB,GAAiB,UAAW,CAACqB,EAASC,CAAM,CAAC,EAC7C,IAAME,EAA0B,CAAC,KAAM,UAAW,GAAK,CAAC,OAAAI,EAAQ,IAAAZ,EAAG,CAAC,EACpEtB,GAAa,YAAY8B,CAAO,CAClC,CAAC,EAED,MAAWK,GAAOb,GAAKY,CAAM,CAEjC,EAEatB,GAAyB,MAAMwB,GACJrC,GAAQ,GAC5CQ,GAAa,EACN,IAAI,QAAoC,CAACoB,EAASC,IAAW,CAClEtB,GAAiB,YAAa,CAACqB,EAASC,CAAM,CAAC,EAC/C,IAAME,EAA0B,CAAC,KAAM,YAAa,GAAK,CAAC,OAAAM,CAAM,CAAC,EACjEpC,GAAa,YAAY8B,EAAS,CAACM,EAAO,MAAM,CAAC,CACnD,CAAC,GAEWxB,GAAuBwB,CAAM,EAIhCvB,GACT,MAAMwB,EAA8CC,IACR,CACtC,GAAsCvC,GAAQ,EAAG,CAE/C,GAAIuC,GAAS,wBACX,MAAM,IAAI,MAAM,sEAAsE,EAExF,OAAA/B,GAAa,EACN,IAAI,QAAqC,CAACoB,EAASC,IAAW,CACnEtB,GAAiB,SAAU,CAACqB,EAASC,CAAM,CAAC,EAC5C,IAAME,EAA0B,CAAC,KAAM,SAAU,GAAK,CAAC,MAAAO,EAAO,QAAAC,CAAO,CAAC,EAChEC,EAA+B,CAAC,EAClCF,aAAiB,YACnBE,EAAa,KAAKF,EAAM,MAAM,EAEhCrC,GAAa,YAAY8B,EAASS,CAAY,CAChD,CAAC,CACH,KACE,QAAY1B,GAAcwB,EAAOC,CAAO,CAE5C,EAEKxB,GAAiB,MAAM0B,GAAqC,CACvE,GAAsCzC,GAAQ,EAC5C,OAAAQ,GAAa,EACN,IAAI,QAAc,CAACoB,EAASC,IAAW,CAC5CtB,GAAiB,UAAW,CAACqB,EAASC,CAAM,CAAC,EAC7C,IAAME,EAA0B,CAAC,KAAM,UAAW,GAAKU,CAAS,EAChExC,GAAa,YAAY8B,CAAO,CAClC,CAAC,EAEIhB,GAAe0B,CAAS,CAEjC,EAEazB,GAAM,MACfyB,EAAmBC,EAAwBC,EAA0BC,EACrEC,EAAqCN,IAAoE,CAC3G,GAAsCvC,GAAQ,EAAG,CAE/C,GAAI2C,EAAO,KAAKG,GAAKA,EAAE,CAAC,IAAM,KAAK,EACjC,MAAM,IAAI,MAAM,iDAAiD,EAGnE,GAAID,EAAQ,KAAKC,GAAKA,CAAC,EACrB,MAAM,IAAI,MAAM,yDAAyD,EAE3E,OAAAtC,GAAa,EACN,IAAI,QAAsC,CAACoB,EAASC,IAAW,CACpEtB,GAAiB,MAAO,CAACqB,EAASC,CAAM,CAAC,EACzC,IAAMkB,EAAqBJ,EACrBZ,EACF,CAAC,KAAM,MAAO,GAAK,CAAC,UAAAU,EAAW,aAAAC,EAAc,OAAQK,EAAoB,cAAAH,EAAe,QAAAL,CAAO,CAAC,EACpGtC,GAAa,YAAY8B,EAAciB,GAA2BD,CAAkB,CAAC,CACvF,CAAC,CACH,KACE,QAAY/B,GAAIyB,EAAWC,EAAcC,EAAQC,EAAeC,EAASN,CAAO,CAEpF,EAEatB,GAAe,MAAMwB,GAAqC,CACrE,GAAsCzC,GAAQ,EAC5C,OAAAQ,GAAa,EACN,IAAI,QAAc,CAACoB,EAASC,IAAW,CAC5CtB,GAAiB,gBAAiB,CAACqB,EAASC,CAAM,CAAC,EACnD,IAAME,EAA0B,CAAC,KAAM,gBAAiB,GAAKU,CAAS,EACtExC,GAAa,YAAY8B,CAAO,CAClC,CAAC,EAEId,GAAawB,CAAS,CAE/B,IC1NA,IAUaQ,GAWAC,GAiBAC,GAtCbC,GAAAC,EAAA,kBAIAC,KAGAC,KACAC,KAEaP,GAAuB,CAACQ,EAAgBC,IAA0C,CAC7F,OAAQD,EAAO,SAAU,CACvB,IAAK,MACH,MAAO,CAACA,EAAO,KAAMA,EAAO,KAAMA,EAAO,KAAM,KAAK,EACtD,IAAK,aACH,MAAO,CAACA,EAAO,KAAMA,EAAO,KAAM,CAAC,UAAWA,EAAO,SAAS,EAAG,YAAY,EAC/E,QACE,MAAM,IAAI,MAAM,0BAA0BA,EAAO,QAAQ,QAAQC,EAAQ,CAAC,EAAE,CAChF,CACF,EAEaR,GAAwBO,GAAmC,CACtE,OAAQA,EAAO,CAAC,EAAG,CACjB,IAAK,MACH,OAAO,IAAIE,GAAOF,EAAO,CAAC,EAAGA,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,EACnD,IAAK,aAAc,CACjB,IAAMG,EAAWH,EAAO,CAAC,EACzB,GAAI,CAACI,GAAyBD,CAAQ,EACpC,MAAM,IAAI,MAAM,4BAA4BA,CAAQ,+BAA+B,EAErF,GAAM,CAAC,UAAAE,EAAW,SAAAC,EAAU,QAAAC,CAAO,EAAIP,EAAO,CAAC,EAC/C,OAAOE,GAAO,cAAcG,EAAW,CAAC,SAAAF,EAAU,KAAMH,EAAO,CAAC,EAAG,SAAAM,EAAU,QAAAC,CAAO,CAAC,CACvF,CACA,QACE,MAAM,IAAI,MAAM,0BAA0BP,EAAO,CAAC,CAAC,EAAE,CACzD,CACF,EAEaN,GAAN,KAA8E,CAMnF,MAAM,8BAA8Bc,EAAmD,CAGrF,IAAMC,EAAW,MAAM,MAAMD,CAAI,EACjC,GAAIC,EAAS,SAAW,IACtB,MAAM,IAAI,MAAM,yBAAyBD,CAAI,EAAE,EAEjD,IAAME,EAAc,MAAMD,EAAS,YAAY,EAC/C,OAAOE,GAAuB,IAAI,WAAWD,CAAW,CAAC,CAC3D,CAEA,MAAM,UAAUE,EAAiCC,EAA0D,CACzG,IAAIC,EAEA,OAAOF,GAAiB,SACtB,OAAO,QAAY,KAAe,QAAQ,UAAY,QAAQ,SAAS,KAEzEE,EAAQ,KAAM,SAASF,CAAY,EAInCE,EAAQ,MAAM,KAAK,8BAA8BF,CAAY,EAG/DE,EAAQF,EAGV,CAAC,KAAK,UAAW,KAAK,WAAY,KAAK,WAAW,EAAI,MAAMG,GAAcD,EAAOD,CAAO,CAC1F,CAEA,MAAM,SAAyB,CAC7B,OAAOG,GAAe,KAAK,SAAS,CACtC,CAEA,MAAM,IAAIC,EAAiCC,EAAqCL,EACzC,CACrC,IAAMM,EAAuB,CAAC,EACxBC,EAAyB,CAAC,EAChC,OAAO,QAAQH,CAAK,EAAE,QAAQI,GAAO,CACnC,IAAMC,EAAOD,EAAI,CAAC,EACZrB,EAASqB,EAAI,CAAC,EACdE,EAAQ,KAAK,WAAW,QAAQD,CAAI,EAC1C,GAAIC,IAAU,GACZ,MAAM,IAAI,MAAM,kBAAkBD,CAAI,GAAG,EAE3CH,EAAW,KAAKnB,CAAM,EACtBoB,EAAa,KAAKG,CAAK,CACzB,CAAC,EAED,IAAMC,EAAkC,CAAC,EACnCC,EAA0B,CAAC,EACjC,OAAO,QAAQP,CAAO,EAAE,QAAQG,GAAO,CACrC,IAAMC,EAAOD,EAAI,CAAC,EACZrB,EAASqB,EAAI,CAAC,EACdE,EAAQ,KAAK,YAAY,QAAQD,CAAI,EAC3C,GAAIC,IAAU,GACZ,MAAM,IAAI,MAAM,mBAAmBD,CAAI,GAAG,EAE5CE,EAAY,KAAKxB,CAAM,EACvByB,EAAc,KAAKF,CAAK,CAC1B,CAAC,EAED,IAAMG,EACFP,EAAW,IAAI,CAACQ,EAAGC,IAAMpC,GAAqBmC,EAAG,IAAM,UAAU,KAAK,WAAWP,EAAaQ,CAAC,CAAC,CAAC,GAAG,CAAC,EACnGC,EAAUL,EAAY,IACxB,CAACG,EAAGC,IAAMD,EAAInC,GAAqBmC,EAAG,IAAM,WAAW,KAAK,YAAYF,EAAcG,CAAC,CAAC,CAAC,GAAG,EAAI,IAAI,EAElGE,EAAU,MAAMC,GAAI,KAAK,UAAWX,EAAcM,EAAQD,EAAeI,EAAShB,CAAO,EAEzFmB,EAAuC,CAAC,EAC9C,QAASJ,EAAI,EAAGA,EAAIE,EAAQ,OAAQF,IAClCI,EAAU,KAAK,YAAYP,EAAcG,CAAC,CAAC,CAAC,EAAIJ,EAAYI,CAAC,GAAKnC,GAAqBqC,EAAQF,CAAC,CAAC,EAEnG,OAAOI,CACT,CAEA,gBAAuB,CAEvB,CAEA,cAAqB,CACdC,GAAa,KAAK,SAAS,CAClC,CACF,IC/HA,IAeaC,GAmBAC,GAlCbC,GAAAC,EAAA,kBAIAC,KAEAC,KACAC,KAQaN,GAAkB,IAAY,CAazC,IAZI,OAAOO,GAAI,KAAK,aAAgB,UAAYA,GAAI,KAAK,YAAc,KACrEA,GAAI,KAAK,YAAc,GAGrB,OAAOA,GAAI,KAAK,MAAS,YAC3BA,GAAI,KAAK,KAAO,IAGd,OAAOA,GAAI,KAAK,OAAU,YAC5BA,GAAI,KAAK,MAAQ,IAGf,OAAOA,GAAI,KAAK,YAAe,UAAY,CAAC,OAAO,UAAUA,GAAI,KAAK,UAAU,GAAKA,GAAI,KAAK,YAAc,EAAG,CACjH,IAAMC,EAAqB,OAAO,UAAc,IAAc,SAAK,EAAE,OAAS,UAAU,oBACxFD,GAAI,KAAK,WAAa,KAAK,IAAI,EAAG,KAAK,MAAMC,GAAsB,GAAK,CAAC,CAAC,CAC5E,CACF,EAEaP,GAAN,KAAuD,CAS5D,MAAM,KAAKQ,EAAoC,CAE7CT,GAAgB,EAGhB,MAAMU,GAAmC,EAGzC,MAAMC,GAAgBF,CAAW,CACnC,CAKA,MAAM,8BAA8BG,EAAiCC,EAChC,CACnC,IAAMC,EAAU,IAAIC,GACpB,aAAMD,EAAQ,UAAUF,EAAcC,CAAO,EACtC,QAAQ,QAAQC,CAAO,CAChC,CACF,IC/DA,IAaME,GAaAC,GAQOC,GA0BPC,GAkBAC,GAmBOC,GAYAC,GAkDPC,GA8BAC,GAkEOC,GAWAC,GAoDAC,GAwBAC,GAqDAC,GAmBAC,GA6DAC,GA0CAC,GArgBbC,GAAAC,EAAA,kBAMAC,KACAC,KACAC,KACAC,KACAC,KACAC,KAEMxB,GACF,iSAYEC,GAA0B,CAACwB,EAAiBC,EAAiBC,EAAe,KAAS,CACrFA,GAAgBF,IAAY,EAC9BG,EAAeF,CAAO,EACb,CAACC,GAAgBF,IAAY,GACtCG,EAAeF,CAAO,CAE1B,EAEaxB,GAA0B2B,GAAuD,CAC5F,IAAMC,EAAOC,EAAY,EAEnB,CAACC,EAAsBC,CAAoB,EAAIJ,EACjDK,EAAmB,EAEvB,GAAI,CACF,GAAIJ,EAAK,2BACPI,EAAmBJ,EAAK,2BAA2BE,EAAsBC,CAAoB,MAE7F,OAAM,IAAI,MAAMjC,EAAkB,EAGpC,OAAAC,GAAwBiC,EAAkB,yDAA0D,EAAK,EAClGA,CACT,OAASC,EAAG,CACV,MAAIL,EAAK,+BAAiCI,IAAqB,GAC7DJ,EAAK,8BAA8BI,CAAgB,EAE/CC,CACR,QAAE,CAEAL,EAAK,SAASD,EAAe,CAAC,CAAC,CACjC,CACF,EAEM1B,GAA2B,CAACiC,EAA2BC,IAA2C,CACtG,IAAMP,EAAOC,EAAY,EACnBO,EAAQR,EAAK,UAAU,EAC7B,GAAI,CACF,IAAMS,EAAaT,EAAK,WAAW,CAAC,EACpC,GAAIA,EAAK,qCAAsC,CAC7C,IAAMU,EACFV,EAAK,qCAAqCM,EAAmBG,EAAYA,EAAa,EAAGF,CAAW,EACxG,OAAApC,GAAwBuC,EAAW,uCAAwC,EACpE,CAACV,EAAK,OAAOS,EAAa,CAAC,EAAGT,EAAK,OAAOS,EAAa,EAAI,CAAC,CAAC,CACtE,KACE,OAAM,IAAI,MAAMvC,EAAkB,CAEtC,QAAE,CACA8B,EAAK,aAAaQ,CAAK,CACzB,CACF,EAEMlC,GACF,CAACgC,EAA2BK,EAAeC,EAAkBL,IAAmC,CAC9F,IAAMM,EAAQ,CAAC,EACTb,EAAOC,EAAY,EAEzB,QAASa,EAAI,EAAGA,EAAIH,EAAOG,IACzB,GAAId,EAAK,oCAAqC,CAC5C,IAAMe,EAAOf,EAAK,oCAAoCM,EAAmBQ,EAAGF,EAASL,CAAW,EAChGpC,GAAwB4C,EAAM,+CAA+CH,CAAO,WAAWE,CAAC,GAAI,EAAK,EAEzGD,EAAM,KAAKb,EAAK,aAAae,CAAI,CAAC,EAClCf,EAAK,MAAMe,CAAI,CACjB,KACE,OAAM,IAAI,MAAM7C,EAAkB,EAGtC,OAAO2C,CACT,EAEStC,GAA2B,CAAC+B,EAA2BC,IAA+C,CACjH,IAAIS,EAAuB,CAAC,EACxBC,EAAwB,CAAC,EAEvB,CAACC,EAAYC,CAAW,EAAI9C,GAAyBiC,EAAmBC,CAAW,EAEzF,OAAAS,EAAa1C,GAA6BgC,EAAmBY,EAAY,GAAMX,CAAW,EAC1FU,EAAc3C,GAA6BgC,EAAmBa,EAAa,GAAOZ,CAAW,EAEtF,CAACS,EAAYC,CAAW,CACjC,EAEazC,GACT,CAAC4B,EAA0BgB,EAA4CC,EACtEC,EAAgDC,IAAqD,CACpG,IAAMvB,EAAOC,EAAY,EAErBuB,EAAwB,EACxBC,EAAuB,EACvBC,EAAmB,CAAC,EAExB,GAAI,CAEF,GADA,CAACD,EAAsBC,CAAM,EAAIC,GAAkBJ,CAAO,EACtDvB,EAAK,0BACPwB,EAAwBxB,EAAK,0BACzByB,EAAsBrB,EAAkBgB,EAAe,CAAC,EAAGA,EAAe,CAAC,EAAGC,EAAc,CAAC,EAC7FA,EAAc,CAAC,EAAGC,EAAmB,CAAC,EAAGA,EAAmB,CAAC,CAAC,MAElE,OAAM,IAAI,MAAMpD,EAAkB,EAGpC,OAAAC,GAAwBqD,EAAuB,yDAA0D,EAAK,EACvGA,CACT,OAASnB,EAAG,CACV,MAAIL,EAAK,4BAA8BwB,IAA0B,GAC/DxB,EAAK,2BAA2BwB,CAAqB,EAEjDnB,CACR,QAAE,CACAL,EAAK,MAAMoB,EAAe,CAAC,CAAC,EAC5BpB,EAAK,MAAMqB,EAAc,CAAC,CAAC,EAC3BrB,EAAK,MAAMsB,EAAmB,CAAC,CAAC,EAE5BG,IAAyB,GAC3BzB,EAAK,0BAA0ByB,CAAoB,EAErDC,EAAO,QAAQE,GAAS5B,EAAK,MAAM4B,CAAK,CAAC,CAC3C,CACF,EAcEnD,GACF,CAAC6B,EAA2BuB,EAAmBC,EAAqCC,EACnFC,EAA6BC,IAAqB,CACjD,IAAMtB,EAAQkB,EAAQ,OAGtB,QAASf,EAAI,EAAGA,EAAIH,EAAOG,IACzBoB,GACIJ,EAAQhB,CAAC,EAAGiB,EAAeC,EAAmB1B,EAAmB2B,EAAWJ,EAAQf,CAAC,CAAC,EAI5F,IAAMd,EAAOC,EAAY,EACnBkC,EAAenC,EAAK,WAAWW,EAAQ,CAAC,EAC1CyB,EAAcD,EAAe,EACjC,QAASrB,EAAI,EAAGA,EAAIH,EAAOG,IACzBd,EAAK,QAAQoC,GAAa,EAAIL,EAAcjB,CAAC,EAG/C,OAAOqB,CACT,EAUEzD,GACF,CAAC2D,EAA4BlB,EAAqBmB,EACjDC,IAA8C,CAC7C,IAAMvC,EAAOC,EAAY,EACnBuC,EAA2B,CAAC,EAElC,QAAS1B,EAAI,EAAGA,EAAIK,EAAaL,IAAK,CACpC,IAAM2B,EAASzC,EAAK,QAAQqC,EAAqB,EAAIvB,CAAC,EACtD,GAAI2B,IAAWH,EAAoBxB,CAAC,EAAG,CAErC0B,EAAO,KAAKD,EAAczB,CAAC,CAAE,EAC7B,QACF,CAEA,IAAM4B,EAA2B1C,EAAK,UAAU,EAE1C2C,EAAmB3C,EAAK,WAAW,EAAI,CAAC,EAE1C4C,EAA6BnC,EAAa,EAC9C,GAAI,CACF,IAAMC,EAAYV,EAAK,kBACnByC,EAAQE,EAAkBA,EAAmB,EAAGA,EAAmB,EAAGA,EAAmB,EAAE,EAC/FxE,GAAwBuC,EAAW,4CAA4CI,CAAC,GAAG,EAEnF,IAAI+B,EAAkBF,EAAmB,EACnCG,EAAW9C,EAAK,QAAQ6C,GAAiB,EAC/CpC,EAAaT,EAAK,QAAQ6C,GAAiB,EAC3C,IAAME,EAAa/C,EAAK,QAAQ6C,GAAiB,EAC3CG,EAAahD,EAAK,QAAQ6C,GAAiB,EAC3CI,EAAO,CAAC,EACd,QAASnC,EAAI,EAAGA,EAAIkC,EAAYlC,IAC9BmC,EAAK,KAAKjD,EAAK,QAAQ+C,EAAa,EAAIjC,CAAC,CAAC,EAE5Cd,EAAK,SAAS+C,CAAU,EAExB,IAAMG,EAAOD,EAAK,OAAO,CAACE,EAAGC,IAAMD,EAAIC,EAAG,CAAC,EAG3C,GAFAR,EAAOS,GAA2BP,CAAQ,EAEtCF,IAAS,SAAU,CACrB,IAAMU,EAAuB,CAAC,EAC1BC,EAAY9C,EAAa,EAC7B,QAASK,EAAI,EAAGA,EAAIoC,EAAMpC,IAAK,CAC7B,IAAM0C,GAASxD,EAAK,QAAQuD,GAAW,EACjCE,GAAiB3C,IAAMoC,EAAO,EAAI,OAAYlD,EAAK,QAAQuD,CAAS,EAAIC,GAC9EF,EAAW,KAAKtD,EAAK,aAAawD,GAAQC,EAAc,CAAC,CAC3D,CACAjB,EAAO,KAAK,CAACI,EAAMK,EAAMK,EAAY,KAAK,CAAC,CAC7C,KAAO,CACL,IAAMI,EAAwBC,GAAkCf,CAAI,EAC9DgB,EAAO,IAAIF,EAAsBR,CAAI,EAC3C,IAAI,WAAWU,EAAK,OAAQA,EAAK,WAAYA,EAAK,UAAU,EACvD,IAAI5D,EAAK,OAAO,SAASS,EAAYA,EAAamD,EAAK,UAAU,CAAC,EACvEpB,EAAO,KAAK,CAACI,EAAMK,EAAMW,EAAM,KAAK,CAAC,CACvC,CACF,QAAE,CACA5D,EAAK,aAAa0C,CAAwB,EACtCE,IAAS,UAAYnC,GACvBT,EAAK,MAAMS,CAAU,EAEvBT,EAAK,kBAAkByC,CAAM,CAC/B,CACF,CAEA,OAAOD,CACT,EAES7D,GAAgB,MAAM2B,GAA6C,CAC9E,IAAMN,EAAOC,EAAY,EAEzB,GAAID,EAAK,0BAA2B,CAClC,IAAMU,EAAYV,EAAK,0BAA0BM,CAAiB,EAClEnC,GAAwBuC,EAAW,2BAA4B,CACjE,KACE,OAAM,IAAI,MAAMxC,EAAkB,CAEtC,EAEaU,GAAe,MACxB0B,EAA2BuD,EAAwBC,EAAgCC,EACnFxB,EAA2ChB,IAAoE,CACjH,IAAMvB,EAAOC,EAAY,EAEnBiB,EAAa2C,EAAa,OAC1B1C,EAAc4C,EAAc,OAE9BC,EAAmB,EACnBC,EAA6B,CAAC,EAE5BC,EAA+B,CAAC,EAChC5B,EAAgC,CAAC,EACjCN,EAA8B,CAAC,EAE/BmC,EAAiBnE,EAAK,UAAU,EAEtC,GAAI,CAEF,CAACgE,EAAkBC,CAAgB,EAAIG,GAAc7C,CAAO,EAG5D,IAAM8C,EAAoB5F,GACtB6B,EAAmBuD,EAAcC,EAAcI,EAAoBlC,EAAmB,CAAC,EAGrFK,EAAqB5D,GACvB6B,EAAmByD,EAAexB,EAAeD,EAAqBN,EAAmBd,CAAU,EAEvG,GAAIlB,EAAK,yBAA0B,CACjC,IAAMU,EAAYV,EAAK,yBACnBM,EAAmB+D,EAAmBnD,EAAYmB,EAAoBlB,EAAa6C,CAAgB,EACvG7F,GAAwBuC,EAAW,iEAAiE,CACtG,KACE,OAAM,IAAI,MAAMxC,EAAkB,EAGpC,OAAOQ,GAA8B2D,EAAoBlB,EAAamB,EAAqBC,CAAa,CAC1G,QAAE,CACAvC,EAAK,aAAamE,CAAc,EAEhCD,EAAmB,QAAQI,GAAKtE,EAAK,kBAAkBsE,CAAC,CAAC,EACzDhC,EAAoB,QAAQgC,GAAKtE,EAAK,kBAAkBsE,CAAC,CAAC,EAC1DtC,EAAkB,QAAQuC,GAAKvE,EAAK,MAAMuE,CAAC,CAAC,EAExCP,IAAqB,GACvBhE,EAAK,sBAAsBgE,CAAgB,EAE7CC,EAAiB,QAAQM,GAAKvE,EAAK,MAAMuE,CAAC,CAAC,CAC7C,CACF,EAEa1F,GACT,MAAMyB,EAA2BiB,IAAwD,CAC3F,IAAMvB,EAAOC,EAAY,EAErB+D,EAAmB,EACnBC,EAA6B,CAAC,EAElC,GAAI,CAGF,GAFA,CAACD,EAAkBC,CAAgB,EAAIG,GAAc7C,CAAO,EAExDvB,EAAK,0BAA2B,CAClC,IAAML,EAAUK,EAAK,0BAA0BM,EAAmB0D,CAAgB,EAClF7F,GAAwBwB,EAAS,kEAAkE,CACrG,KACE,OAAM,IAAI,MAAMzB,EAAkB,CAEtC,QAAE,CACI8F,IAAqB,GACvBhE,EAAK,sBAAsBgE,CAAgB,EAE7CC,EAAiB,QAAQM,GAAKvE,EAAK,MAAMuE,CAAC,CAAC,CAC7C,CACF,EAEazF,GAAc,MACvBwB,EAA2BuD,EAAwBC,EAAgCC,EACnFxB,EAA2ChB,IAAoE,CACjH,IAAMvB,EAAOC,EAAY,EAEnBiB,EAAa2C,EAAa,OAC1B1C,EAAc4C,EAAc,OAE9BC,EAAmB,EACnBC,EAA6B,CAAC,EAE5BC,EAA+B,CAAC,EAChC5B,EAAgC,CAAC,EACjCN,EAA8B,CAAC,EAE/BmC,EAAiBnE,EAAK,UAAU,EAEtC,GAAI,CAEF,CAACgE,EAAkBC,CAAgB,EAAIG,GAAc7C,CAAO,EAG5D,IAAM8C,EAAoB5F,GACtB6B,EAAmBuD,EAAcC,EAAcI,EAAoBlC,EAAmB,CAAC,EAGrFK,EAAqB5D,GACvB6B,EAAmByD,EAAexB,EAAeD,EAAqBN,EAAmBd,CAAU,EAEvG,GAAIlB,EAAK,qBAAsB,CAC7B,IAAMU,EAAYV,EAAK,qBACnBM,EAAmB+D,EAAmBnD,EAAYmB,EAAoBlB,EAAa6C,CAAgB,EAEvG7F,GAAwBuC,EAAW,6DAA6D,CAClG,KACE,OAAM,IAAI,MAAMxC,EAAkB,EAGpC,OAAOQ,GAA8B2D,EAAoBlB,EAAamB,EAAqBC,CAAa,CAC1G,QAAE,CACAvC,EAAK,aAAamE,CAAc,EAEhCD,EAAmB,QAAQI,GAAKtE,EAAK,kBAAkBsE,CAAC,CAAC,EACzDhC,EAAoB,QAAQgC,GAAKtE,EAAK,kBAAkBsE,CAAC,CAAC,EAC1DtC,EAAkB,QAAQuC,GAAKvE,EAAK,MAAMuE,CAAC,CAAC,EAExCP,IAAqB,GACvBhE,EAAK,sBAAsBgE,CAAgB,EAE7CC,EAAiB,QAAQM,GAAKvE,EAAK,MAAMuE,CAAC,CAAC,CAC7C,CACF,EAEaxF,GAAoB,CAACuB,EAA2BkE,IAAmC,CAC9F,IAAMxE,EAAOC,EAAY,EACnBO,EAAQR,EAAK,UAAU,EAE7B,GAAI,CACF,IAAMyE,EAAazE,EAAK,WAAW,CAAC,EACpC,GAAIA,EAAK,8BAA+B,CACtC,IAAMU,EAAYV,EAAK,8BAA8BM,EAAmBmE,EAAYD,CAAa,EACjG,OAAArG,GAAwBuC,EAAW,2BAA4B,EAExDV,EAAK,OAAOyE,EAAa,CAAC,CACnC,KACE,OAAM,IAAI,MAAMvG,EAAkB,CAEtC,QAAE,CACA8B,EAAK,aAAaQ,CAAK,CACzB,CACF,EAEaxB,GACT,MAAMsB,EAA2BkE,IAAoD,CACvF,IAAMxE,EAAOC,EAAY,EACnBO,EAAQR,EAAK,UAAU,EAEvB0E,EAAqB,UACrBC,EAAmB,MAEnBC,EAAiB7F,GAAkBuB,EAAmBkE,CAAa,EACrE/B,EAAS,EAGPoC,EAAmB,EAAID,EACvBE,EAAe9E,EAAK,QAAQ6E,CAAgB,EAG5C5B,EAAO,CAAC2B,CAAc,EAEtB7B,EAAa/C,EAAK,WAAW,CAAC,EAC9B+E,EAAYhC,EAAa,EAC/B/C,EAAK,OAAO+E,CAAS,EAAIH,EAEzB,GAAI,CAQF,GANAnC,EAASzC,EAAK,iBACVgF,GAA2BN,CAAkB,EAAGI,EAAcD,EAAkB9B,EAAYE,EAAK,OACjGgC,GAAyBN,CAAgB,CAAC,EAC9CxG,GACIsE,EAAQ,4DAA4DnC,CAAiB,IAAK,EAAK,EAE/FN,EAAK,mCAAoC,CAC3C,IAAML,EAAUK,EAAK,mCAAmCM,EAAmBmC,EAAQmC,EAAgBJ,CAAa,EAChHrG,GAAwBwB,EAAS,kCAAmC,CAEtE,KACE,OAAM,IAAI,MAAMzB,EAAkB,EAIpC,IAAMwF,EAAwBC,GAAkCe,CAAkB,EAC5Ed,EAAO,IAAIF,EAAsBkB,CAAc,EAC/CpC,EAA2B,CAAC,EAIlC,GAHA,IAAI,WAAWoB,EAAK,OAAQA,EAAK,WAAYA,EAAK,UAAU,EACvD,IAAI5D,EAAK,OAAO,SAAS8E,EAAcA,EAAeD,CAAgB,CAAC,EAC5ErC,EAAO,KAAK,CAACkC,EAAoBzB,EAAMW,EAAMe,CAAgB,CAAC,EAC1DnC,EAAO,SAAW,EACpB,MAAM,IAAI,MAAM;AAAA,gBACNA,EAAO,MAAM,EAAE,EAEzB,OAAOA,EAAO,CAAC,CAEnB,QAAE,CACIC,IAAW,GACbzC,EAAK,kBAAkByC,CAAM,EAE/BzC,EAAK,MAAM8E,CAAY,EACvB9E,EAAK,MAAM+C,CAAU,EACrB/C,EAAK,aAAaQ,CAAK,CACzB,CACF,EAEavB,GACT,MAAMqB,EAA2B4E,EAAoBV,IAA0C,CACjG,IAAMxE,EAAOC,EAAY,EACnBO,EAAQR,EAAK,UAAU,EAEvB0E,EAAqB,UACrBC,EAAmB,MAGnBQ,EAAmBD,EAAO,OAC1BE,EAAcD,EAAmB,EACjCE,EAAerF,EAAK,QAAQmF,CAAgB,EAClDnF,EAAK,OAAO,IAAIkF,EAAQG,CAAY,EAGpC,IAAMtC,EAAa/C,EAAK,WAAW,CAAC,EACpCA,EAAK,OAAO+C,EAAa,CAAC,EAAIqC,EAC9B,IAAMpC,EAAa,EACfP,EAAS,EAEb,GAAI,CAMF,GALAA,EAASzC,EAAK,iBACVgF,GAA2BN,CAAkB,EAAGW,EAAcF,EAAkBpC,EAAYC,EAC5FiC,GAAyBN,CAAgB,CAAC,EAC9CxG,GAAwBsE,EAAQ,iDAAiDnC,CAAiB,GAAI,EAAK,EAEvGN,EAAK,qCAAsC,CAC7C,IAAML,EAAUK,EAAK,qCAAqCM,EAAmBmC,EAAQ2C,EAAaZ,CAAa,EAC/GrG,GAAwBwB,EAAS,kCAAmC,CACtE,KACE,OAAM,IAAI,MAAMzB,EAAkB,CAEtC,QAAE,CACIuE,IAAW,GACbzC,EAAK,kBAAkByC,CAAM,EAE/BzC,EAAK,aAAaQ,CAAK,EACvBR,EAAK,MAAMqF,CAAY,EACvBrF,EAAK,MAAM+C,CAAU,CACvB,CACF,EAEa7D,GAAsC,CAACoG,EAAsBC,IAA4B,CACpG,IAAMvF,EAAOC,EAAY,EAErBD,EAAK,4BACPA,EAAK,2BAA2BuF,CAAS,EAEvCvF,EAAK,+BACPA,EAAK,8BAA8BsF,CAAY,CAEnD,IC9gBA,IAUaE,GAVbC,GAAAC,EAAA,kBAMAC,KACAC,KACAC,KAEaL,GAAN,KAAqF,CAArF,cAOL,oBAA2B,CAAC,EAC5B,qBAA4B,CAAC,EAE7B,MAAM,kBAAkBM,EAAqE,CAC3F,IAAIC,EACJ,GAAI,OAAOD,GAAgB,SAAU,CAEnC,IAAME,EAAc,MADH,MAAM,MAAMF,CAAW,GACL,YAAY,EAC/CC,EAAS,IAAI,WAAWC,CAAW,CACrC,MACED,EAASD,EAEX,OAAOG,GAAuBF,CAAM,CACtC,CAEA,MAAM,sBACFG,EAA+CC,EAC/CC,EAAyCC,EACzCC,EAA0C,CAC5C,IAAMC,EAA6C,MAAM,KAAK,kBAAkBL,CAA0B,EACpGM,EAA6C,MAAM,KAAK,kBAAkBL,CAAqB,EAEjGM,EAA4C,CAAC,EAAG,CAAC,EACjDC,EAAiD,CAAC,EAAG,CAAC,EAEtDN,IAAyB,KAC3BK,EAAgB,MAAM,KAAK,kBAAkBL,CAAoB,GAE/DC,IAA8B,KAChCK,EAAqB,MAAM,KAAK,kBAAkBL,CAAyB,GAG7E,KAAK,aAAeM,GAAuBJ,CAAc,EACzD,KAAK,UACDK,GAA4B,KAAK,aAAcJ,EAAgBC,EAAeC,EAAoBJ,CAAO,EAC7G,CAAC,KAAK,WAAY,KAAK,WAAW,EAAIO,GAAyB,KAAK,UAAW,EAAK,EAChFT,IAAyB,KAC3B,CAAC,KAAK,eAAgB,KAAK,eAAe,EAAIS,GAAyB,KAAK,UAAW,EAAI,EAE/F,CAUA,yCACIC,EAA4BC,EAAiBC,EAA6D,CAC5G,IAAMC,EAAc,CAAC,EACfC,EAAoB,CAAC,EAC3B,OAAO,QAAQJ,CAAK,EAAE,QAAQK,GAAO,CACnC,IAAMC,EAAOD,EAAI,CAAC,EACZE,EAASF,EAAI,CAAC,EACdG,EAAQP,EAAM,QAAQK,CAAI,EAChC,GAAIE,IAAU,GACZ,MAAM,IAAI,MAAM,kBAAkBF,CAAI,EAAE,EAE1CH,EAAO,KAAKI,CAAM,EAClBH,EAAQ,KAAKI,CAAK,CACpB,CAAC,EAED,IAAMC,EAAQN,EAAO,IAAID,CAAO,EAChC,MAAO,CAACC,EAAQC,EAASK,CAAK,CAChC,CAYA,kCACIC,EAA2BC,EAAiCC,EAAoD,CAClH,IAAMC,EAAuC,CAAC,EAC9C,QAASC,EAAI,EAAGA,EAAIJ,EAAQ,OAAQI,IAClCD,EAAU,KAAK,YAAYD,EAAcE,CAAC,CAAC,CAAC,EAAIH,EAAYG,CAAC,GAAKC,GAAqBL,EAAQI,CAAC,CAAC,EAEnG,OAAOD,CACT,CAEA,MAAM,eAA+B,CACnC,MAAMG,GAAc,KAAK,SAAS,CACpC,CAEA,MAAM,aACFhB,EAAiCiB,EACjCzB,EAA0E,CAC5E,GAAM,CAAC,CAAE0B,EAAcC,CAAM,EAAI,KAAK,yCAClCnB,EAAO,KAAK,WACZ,CAACoB,EAAGN,IAAsBO,GAAqBD,EAAG,IAAM,UAAU,KAAK,WAAWF,EAAaJ,CAAC,CAAC,CAAC,GAAG,CAAC,EAEpG,CAACH,EAAaC,EAAeU,CAAO,EACtC,KAAK,yCACDL,EAAS,KAAK,YACd,CAACG,EAAGN,IACAM,EAAIC,GAAqBD,EAAG,IAAM,WAAW,KAAK,YAAYR,EAAcE,CAAC,CAAC,CAAC,GAAG,EAAI,IAAI,EAEhGJ,EAAU,MAAMa,GAAa,KAAK,UAAWL,EAAcC,EAAQP,EAAeU,EAAS9B,CAAO,EACxG,OAAO,KAAK,kCAAkCkB,EAASC,EAAaC,CAAa,CACnF,CAEA,MAAM,iBAAiBpB,EAAqD,CAC1E,MAAMgC,GAAiB,KAAK,UAAWhC,CAAO,CAChD,CAEA,MAAM,YACFQ,EAAiCiB,EACjCzB,EAA0E,CAC5E,GAAM,CAAC,CAAE0B,EAAcC,CAAM,EAAI,KAAK,yCAClCnB,EAAO,KAAK,eACZ,CAACoB,EAAGN,IAAsBO,GAAqBD,EAAG,IAAM,UAAU,KAAK,eAAeF,EAAaJ,CAAC,CAAC,CAAC,GAAG,CAAC,EAExG,CAACH,EAAaC,EAAeU,CAAO,EACtC,KAAK,yCACDL,EAAS,KAAK,gBACd,CAACG,EAAGN,IACAM,EAAIC,GAAqBD,EAAG,IAAM,WAAW,KAAK,gBAAgBR,EAAcE,CAAC,CAAC,CAAC,GAAG,EAAI,IAAI,EAEpGJ,EAAU,MAAMe,GAAY,KAAK,UAAWP,EAAcC,EAAQP,EAAeU,EAAS9B,CAAO,EACvG,OAAO,KAAK,kCAAkCkB,EAASC,EAAaC,CAAa,CACnF,CAEA,MAAM,kBAAkBc,EAAyC,CAC/D,OAAOC,GAAkB,KAAK,UAAWD,CAAa,CACxD,CAEA,MAAM,qBAAqBE,EAAmBF,EAAuC,CACnF,MAAMG,GAAqB,KAAK,UAAWD,EAAOF,CAAa,CACjE,CACA,MAAM,wBAAwBA,EAA4C,CACxE,IAAMI,EAAe,MAAMC,GAAwB,KAAK,UAAWL,CAAa,EAChF,OAAOX,GAAqBe,CAAY,CAC1C,CAEA,MAAM,SAAyB,CAC7B,OAAOE,GAAoC,KAAK,aAAc,KAAK,SAAS,CAC9E,CACF,ICjKA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,iBAAAE,KAAA,IAQMC,GAYOD,GApBbE,GAAAC,EAAA,kBAKAC,KACAC,KAEMJ,GAAN,cAAoDK,EAA8B,CAChF,MAAM,6BACFC,EAA+CC,EAC/CC,EAAyCC,EACzCC,EAA2E,CAC7E,IAAMC,EAAU,IAAIC,GACpB,aAAMD,EAAQ,sBACVL,EAA4BC,EAAuBC,EAAsBC,EAA2BC,CAAO,EACxG,QAAQ,QAAQC,CAAO,CAChC,CACF,EAEaZ,GAAc,IAAIC,KCZ/Ba,KACAA,KAGAA,KCNO,IAAMC,GAAU,SDIvB,IAAOC,GAAQC,GAUe,CAC5B,IAAMC,EAC4C,cAAmC,YAIrFC,GAAgB,MAAOD,EAAa,EAAE,EACtCC,GAAgB,OAAQD,EAAa,EAAE,CAKzC,CAEA,OAAO,eAAeE,GAAI,SAAU,MAAO,CAAC,MAAOC,GAAS,WAAY,EAAI,CAAC",
  "names": ["backends", "backendsSortedByPriority", "registerBackend", "resolveBackend", "init_backend_impl", "__esmMin", "name", "backend", "priority", "currentBackend", "i", "backendHints", "backendNames", "errors", "backendName", "backendInfo", "isInitializing", "e", "init_backend", "__esmMin", "init_backend_impl", "version", "init_version", "__esmMin", "logLevelValue", "env", "init_env_impl", "__esmMin", "init_version", "version", "value", "env", "init_env", "__esmMin", "init_env_impl", "tensorToDataURL", "tensorToImageData", "init_tensor_conversion_impl", "__esmMin", "tensor", "options", "canvas", "pixels2DContext", "width", "height", "inputformat", "norm", "normMean", "normBias", "stride", "rTensorPointer", "gTensorPointer", "bTensorPointer", "aTensorPointer", "i", "j", "R", "G", "B", "A", "image", "channels", "step", "rImagePointer", "gImagePointer", "bImagePointer", "aImagePointer", "bufferToTensor", "tensorFromImage", "tensorFromTexture", "tensorFromGpuBuffer", "tensorFromPinnedBuffer", "init_tensor_factory_impl", "__esmMin", "init_tensor_impl", "buffer", "options", "height", "width", "norm", "normMean", "normBias", "inputformat", "outputformat", "stride", "float32Data", "step", "rImagePointer", "gImagePointer", "bImagePointer", "aImagePointer", "rTensorPointer", "gTensorPointer", "bTensorPointer", "aTensorPointer", "i", "Tensor", "image", "isHTMLImageEle", "isImageDataEle", "isImageBitmap", "isString", "data", "bufferToTensorOptions", "canvas", "pixels2DContext", "tempCanvas", "resolve", "reject", "context", "newImage", "img", "texture", "download", "dispose", "dims", "gpuBuffer", "dataType", "type", "NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP", "NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP", "isBigIntChecked", "checkBigInt", "init_tensor_impl_type_mapping", "__esmMin", "isBigInt64ArrayAvailable", "isBigUint64ArrayAvailable", "calculateSize", "tensorReshape", "init_tensor_utils_impl", "__esmMin", "init_tensor_impl", "dims", "size", "i", "dim", "tensor", "Tensor", "Tensor", "init_tensor_impl", "__esmMin", "init_tensor_conversion_impl", "init_tensor_factory_impl", "init_tensor_impl_type_mapping", "init_tensor_utils_impl", "arg0", "arg1", "arg2", "checkBigInt", "type", "dims", "expectedTypedArrayConstructor", "NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP", "data", "maybeDims", "typedArrayConstructor", "firstElementType", "mappedType", "NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP", "size", "calculateSize", "image", "options", "tensorFromImage", "texture", "tensorFromTexture", "gpuBuffer", "tensorFromGpuBuffer", "buffer", "tensorFromPinnedBuffer", "tensorToDataURL", "tensorToImageData", "releaseData", "tensorReshape", "Tensor", "init_tensor", "__esmMin", "init_tensor_impl", "InferenceSession", "init_inference_session_impl", "__esmMin", "init_backend_impl", "init_tensor", "_InferenceSession", "handler", "feeds", "arg1", "arg2", "fetches", "options", "Tensor", "isFetchesEmpty", "name", "isFetches", "arg1Keys", "v", "results", "returnValue", "key", "result", "arg0", "arg3", "filePathOrUint8Array", "buffer", "byteOffset", "byteLength", "backendHints", "i", "resolveBackend", "InferenceSession", "init_inference_session", "__esmMin", "init_inference_session_impl", "init_onnx_value", "__esmMin", "noBackendErrMsg", "TrainingSession", "init_training_session_impl", "__esmMin", "init_backend_impl", "init_tensor", "_TrainingSession", "handler", "hasOptimizerModel", "hasEvalModel", "trainingOptions", "sessionOptions", "evalModel", "optimizerModel", "options", "backendHints", "i", "backend", "resolveBackend", "inputNames", "outputNames", "feeds", "arg1", "arg2", "fetches", "Tensor", "isFetchesEmpty", "name", "isFetches", "arg1Keys", "v", "results", "returnValue", "key", "result", "trainableOnly", "array", "paramsSize", "TrainingSession", "init_training_session", "__esmMin", "init_training_session_impl", "esm_exports", "__export", "InferenceSession", "Tensor", "TrainingSession", "env", "registerBackend", "init_esm", "__esmMin", "init_backend", "init_env", "init_inference_session", "init_tensor", "init_onnx_value", "init_training_session", "fs_exports", "__export", "readFile", "init_fs", "__esmMin", "path_exports", "__export", "join", "init_path", "__esmMin", "require_ort_training_wasm_simd", "__commonJSMin", "exports", "module", "ortWasm", "_scriptDir", "moduleArg", "d", "k", "l", "a", "b", "r", "v", "aa", "x", "ba", "y", "A", "B", "C", "fs", "D", "c", "e", "g", "h", "ca", "E", "F", "noExitRuntime", "G", "H", "I", "da", "J", "K", "L", "M", "ea", "fa", "ha", "ia", "ja", "N", "O", "P", "ka", "Q", "la", "ma", "na", "oa", "pa", "R", "S", "qa", "ra", "sa", "ta", "ua", "m", "T", "U", "V", "q", "W", "va", "wa", "Ba", "Aa", "X", "Ca", "Y", "Da", "Ea", "Fa", "Ga", "Ha", "f", "n", "p", "xa", "z", "w", "t", "u", "ya", "za", "Ja", "Ia", "Ka", "La", "Ma", "Na", "Z", "Oa", "Pa", "require_worker_threads", "__commonJSMin", "require_perf_hooks", "__commonJSMin", "os_exports", "__export", "cpus", "init_os", "__esmMin", "require_ort_wasm_threaded", "__commonJSMin", "exports", "module", "ortWasmThreaded", "_scriptDir", "moduleArg", "h", "m", "n", "p", "t", "aa", "v", "ba", "ca", "da", "w", "ea", "z", "fa", "ha", "ia", "A", "ja", "ka", "a", "b", "la", "ma", "na", "oa", "B", "D", "E", "F", "pa", "qa", "ra", "sa", "fs", "ta", "c", "d", "e", "f", "k", "ua", "va", "wa", "G", "noExitRuntime", "H", "xa", "ya", "I", "za", "J", "Aa", "Ba", "Ca", "Da", "Ea", "Fa", "Ga", "K", "Ha", "L", "Ia", "Ja", "M", "Ka", "La", "Ma", "Na", "Oa", "Pa", "Qa", "O", "Ra", "Sa", "Ta", "Ua", "P", "Wa", "Va", "Xa", "Ya", "Za", "l", "$a", "ab", "bb", "cb", "db", "eb", "fb", "gb", "hb", "ib", "jb", "kb", "lb", "mb", "nb", "ob", "pb", "qb", "rb", "sb", "tb", "ub", "vb", "wb", "xb", "yb", "zb", "Ab", "Bb", "Cb", "R", "Db", "Eb", "Fb", "S", "Gb", "T", "Hb", "Ib", "U", "Jb", "V", "W", "Kb", "Lb", "Mb", "Nb", "Ob", "Pb", "Qb", "Rb", "Sb", "Tb", "Ub", "Vb", "Wb", "Yb", "Xb", "Zb", "q", "$b", "ac", "cc", "bc", "X", "dc", "ec", "fc", "gc", "hc", "ic", "jc", "lc", "mc", "nc", "oc", "pc", "Y", "qc", "rc", "sc", "tc", "vc", "uc", "wc", "yc", "xc", "zc", "Ac", "Bc", "Cc", "Dc", "Ec", "Fc", "r", "x", "Gc", "Hc", "Ic", "Jc", "Kc", "g", "u", "y", "kc", "Q", "C", "N", "Lc", "Mc", "Nc", "Pc", "Oc", "Z", "Qc", "Rc", "Sc", "Tc", "require_ort_wasm_threaded_worker", "__commonJSMin", "exports", "module", "ortWasmFactory", "ortWasmFactoryThreaded", "wasm", "initialized", "initializing", "aborted", "isMultiThreadSupported", "isSimdSupported", "getWasmFileName", "initializeWebAssembly", "getInstance", "init_wasm_factory", "__esmMin", "useSimd", "useThreads", "flags", "timeout", "numThreads", "simd", "wasmPaths", "wasmPrefixOverride", "wasmFileName", "wasmPathOverride", "isTimeout", "tasks", "resolve", "reject", "factory", "config", "fileName", "scriptDirectory", "scriptSourceCode", "module", "what", "allocWasmString", "iterateExtraOptions", "checkLastError", "init_wasm_utils", "__esmMin", "init_wasm_factory", "data", "allocs", "wasm", "getInstance", "dataLength", "dataOffset", "options", "prefix", "seen", "handler", "key", "value", "name", "message", "stack", "paramsOffset", "errorCode", "errorMessagePointer", "errorMessage", "setRunOptions", "init_run_options", "__esmMin", "init_wasm_factory", "init_wasm_utils", "options", "wasm", "getInstance", "runOptionsHandle", "allocs", "runOptions", "tagDataOffset", "allocWasmString", "checkLastError", "iterateExtraOptions", "key", "value", "keyDataOffset", "valueDataOffset", "e", "alloc", "getGraphOptimzationLevel", "getExecutionMode", "appendDefaultOptions", "setExecutionProviders", "setSessionOptions", "init_session_options", "__esmMin", "init_wasm_factory", "init_wasm_utils", "graphOptimizationLevel", "executionMode", "options", "session", "ep", "sessionOptionsHandle", "executionProviders", "allocs", "epName", "webnnOptions", "keyDataOffset", "allocWasmString", "valueDataOffset", "getInstance", "checkLastError", "numThreads", "webgpuOptions", "epNameDataOffset", "wasm", "sessionOptions", "logIdDataOffset", "logSeverityLevel", "logVerbosityLevel", "optimizedModelFilePathOffset", "name", "value", "nameOffset", "iterateExtraOptions", "key", "e", "alloc", "tensorDataTypeStringToEnum", "tensorDataTypeEnumToString", "getTensorElementSize", "tensorTypeToTypedArrayConstructor", "logLevelStringToEnum", "isGpuBufferSupportedType", "dataLocationStringToEnum", "init_wasm_common", "__esmMin", "type", "typeProto", "dateType", "logLevel", "location", "initOrt", "initRuntime", "initEp", "activeSessions", "getSessionInputOutputCount", "copyFromExternalBuffer", "createSession", "releaseSession", "prepareInputOutputTensor", "run", "endProfiling", "extractTransferableBuffers", "init_wasm_core_impl", "__esmMin", "init_run_options", "init_session_options", "init_wasm_common", "init_wasm_factory", "init_wasm_utils", "numThreads", "loggingLevel", "getInstance", "checkLastError", "env", "logLevelStringToEnum", "epName", "sessionHandle", "wasm", "stack", "dataOffset", "model", "modelDataOffset", "modelData", "options", "modelDataLength", "sessionOptionsHandle", "ioBindingHandle", "allocs", "inputNamesUTF8Encoded", "outputNamesUTF8Encoded", "setSessionOptions", "inputCount", "outputCount", "inputNames", "outputNames", "outputPreferredLocations", "i", "name", "nameString", "bindingState", "e", "buf", "alloc", "sessionId", "session", "ioBindingState", "tensor", "tensorHandles", "index", "dataType", "dims", "location", "rawData", "dataByteLength", "gpuBuffer", "elementSizeInBytes", "getTensorElementSize", "tensorDataTypeStringToEnum", "a", "b", "data", "dataIndex", "allocWasmString", "dimsOffset", "dimIndex", "d", "dataLocationStringToEnum", "inputIndices", "inputTensors", "outputIndices", "outputTensors", "runOptionsHandle", "runOptionsAllocs", "inputTensorHandles", "outputTensorHandles", "inputOutputAllocs", "beforeRunStack", "inputValuesOffset", "inputNamesOffset", "outputValuesOffset", "outputNamesOffset", "setRunOptions", "inputValuesIndex", "inputNamesIndex", "outputValuesIndex", "outputNamesIndex", "errorCode", "output", "beforeGetTensorDataStack", "tensorDataOffset", "keepOutputTensor", "type", "tensorDataIndex", "dimsLength", "size", "tensorDataTypeEnumToString", "preferredLocation", "stringData", "offset", "maxBytesToRead", "elementSize", "isGpuBufferSupportedType", "typedArrayConstructor", "tensorTypeToTypedArrayConstructor", "v", "p", "profileFileName", "tensors", "buffers", "require_main", "__commonJSMin", "exports", "module", "isProxy", "proxyWorker", "initializing", "initialized", "aborted", "initWasmCallbacks", "queuedCallbacks", "enqueueCallbacks", "ensureWorker", "onProxyWorkerMessage", "scriptSrc", "initializeWebAssemblyAndOrtRuntime", "initializeOrtEp", "copyFromExternalBuffer", "createSession", "releaseSession", "run", "endProfiling", "init_proxy_wrapper", "__esmMin", "init_esm", "init_wasm_core_impl", "init_wasm_factory", "env", "type", "callbacks", "queue", "ev", "resolve", "reject", "workerUrl", "message", "initializeWebAssembly", "initRuntime", "e", "epName", "initEp", "buffer", "model", "options", "transferable", "sessionId", "inputIndices", "inputs", "outputIndices", "outputs", "t", "serializableInputs", "extractTransferableBuffers", "encodeTensorMetadata", "decodeTensorMetadata", "OnnxruntimeWebAssemblySessionHandler", "init_session_handler_inference", "__esmMin", "init_esm", "init_proxy_wrapper", "init_wasm_common", "tensor", "getName", "Tensor", "dataType", "isGpuBufferSupportedType", "gpuBuffer", "download", "dispose", "path", "response", "arrayBuffer", "copyFromExternalBuffer", "pathOrBuffer", "options", "model", "createSession", "releaseSession", "feeds", "fetches", "inputArray", "inputIndices", "kvp", "name", "index", "outputArray", "outputIndices", "inputs", "t", "i", "outputs", "results", "run", "resultMap", "endProfiling", "initializeFlags", "OnnxruntimeWebAssemblyBackend", "init_backend_wasm", "__esmMin", "init_esm", "init_proxy_wrapper", "init_session_handler_inference", "env", "numCpuLogicalCores", "backendName", "initializeWebAssemblyAndOrtRuntime", "initializeOrtEp", "pathOrBuffer", "options", "handler", "OnnxruntimeWebAssemblySessionHandler", "NO_TRAIN_FUNCS_MSG", "ifErrCodeCheckLastError", "createCheckpointHandle", "getModelInputOutputCount", "getModelInputOutputNamesLoop", "getModelInputOutputNames", "createTrainingSessionHandle", "createAndAllocateTensors", "moveOutputToTensorMetadataArr", "lazyResetGrad", "runTrainStep", "runOptimizerStep", "runEvalStep", "getParametersSize", "getContiguousParameters", "loadParametersBuffer", "releaseTrainingSessionAndCheckpoint", "init_wasm_training_core_impl", "__esmMin", "init_run_options", "init_session_options", "init_wasm_common", "init_wasm_core_impl", "init_wasm_factory", "init_wasm_utils", "errCode", "message", "checkNeqZero", "checkLastError", "checkpointData", "wasm", "getInstance", "checkpointDataOffset", "checkpointDataLength", "checkpointHandle", "e", "trainingSessionId", "isEvalModel", "stack", "dataOffset", "errorCode", "count", "isInput", "names", "i", "name", "inputNames", "outputNames", "inputCount", "outputCount", "trainModelData", "evalModelData", "optimizerModelData", "options", "trainingSessionHandle", "sessionOptionsHandle", "allocs", "setSessionOptions", "alloc", "indices", "tensors", "tensorHandles", "inputOutputAllocs", "indexAdd", "prepareInputOutputTensor", "valuesOffset", "valuesIndex", "outputValuesOffset", "outputTensorHandles", "outputTensors", "output", "tensor", "beforeGetTensorDataStack", "tensorDataOffset", "type", "tensorDataIndex", "dataType", "dimsOffset", "dimsLength", "dims", "size", "a", "b", "tensorDataTypeEnumToString", "stringData", "dataIndex", "offset", "maxBytesToRead", "typedArrayConstructor", "tensorTypeToTypedArrayConstructor", "data", "inputIndices", "inputTensors", "outputIndices", "runOptionsHandle", "runOptionsAllocs", "inputTensorHandles", "beforeRunStack", "setRunOptions", "inputValuesOffset", "v", "p", "trainableOnly", "sizeOffset", "tensorTypeAsString", "locationAsString", "parametersSize", "paramsByteLength", "paramsOffset", "dimsIndex", "tensorDataTypeStringToEnum", "dataLocationStringToEnum", "buffer", "bufferByteLength", "bufferCount", "bufferOffset", "checkpointId", "sessionId", "OnnxruntimeWebAssemblyTrainingSessionHandler", "init_session_handler_training", "__esmMin", "init_session_handler_inference", "init_wasm_core_impl", "init_wasm_training_core_impl", "uriOrBuffer", "buffer", "arrayBuffer", "copyFromExternalBuffer", "checkpointStateUriOrBuffer", "trainModelUriOrBuffer", "evalModelUriOrBuffer", "optimizerModelUriOrBuffer", "options", "checkpointData", "trainModelData", "evalModelData", "optimizerModelData", "createCheckpointHandle", "createTrainingSessionHandle", "getModelInputOutputNames", "feeds", "names", "mapFunc", "values", "indices", "kvp", "name", "tensor", "index", "uList", "results", "outputArray", "outputIndices", "resultMap", "i", "decodeTensorMetadata", "lazyResetGrad", "fetches", "inputIndices", "inputs", "t", "encodeTensorMetadata", "outputs", "runTrainStep", "runOptimizerStep", "runEvalStep", "trainableOnly", "getParametersSize", "array", "loadParametersBuffer", "tensorResult", "getContiguousParameters", "releaseTrainingSessionAndCheckpoint", "backend_wasm_training_exports", "__export", "wasmBackend", "OnnxruntimeTrainingWebAssemblyBackend", "init_backend_wasm_training", "__esmMin", "init_backend_wasm", "init_session_handler_training", "OnnxruntimeWebAssemblyBackend", "checkpointStateUriOrBuffer", "trainModelUriOrBuffer", "evalModelUriOrBuffer", "optimizerModelUriOrBuffer", "options", "handler", "OnnxruntimeWebAssemblyTrainingSessionHandler", "init_esm", "version", "lib_default", "esm_exports", "wasmBackend", "registerBackend", "env", "version"]
}
