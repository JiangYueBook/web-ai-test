/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var lr=Object.defineProperty;var ho=Object.getOwnPropertyDescriptor;var go=Object.getOwnPropertyNames;var yo=Object.prototype.hasOwnProperty;var G=(a,i)=>()=>(a&&(i=a(a=0)),i);var dt=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports),_t=(a,i)=>{for(var r in i)lr(a,r,{get:i[r],enumerable:!0})},bo=(a,i,r,c)=>{if(i&&typeof i=="object"||typeof i=="function")for(let d of go(i))!yo.call(a,d)&&d!==r&&lr(a,d,{get:()=>i[d],enumerable:!(c=ho(i,d))||c.enumerable});return a};var et=a=>bo(lr({},"__esModule",{value:!0}),a);var Lt,tt,Tt,Mn,cr=G(()=>{"use strict";Lt=new Map,tt=[],Tt=(a,i,r)=>{if(i&&typeof i.init=="function"&&typeof i.createInferenceSessionHandler=="function"){let c=Lt.get(a);if(c===void 0)Lt.set(a,{backend:i,priority:r});else{if(c.priority>r)return;if(c.priority===r&&c.backend!==i)throw new Error(`cannot register backend "${a}" using priority ${r}`)}if(r>=0){let d=tt.indexOf(a);d!==-1&&tt.splice(d,1);for(let O=0;O<tt.length;O++)if(Lt.get(tt[O]).priority<=r){tt.splice(O,0,a);return}tt.push(a)}return}throw new TypeError("not a valid backend")},Mn=async a=>{let i=a.length===0?tt:a,r=[];for(let c of i){let d=Lt.get(c);if(d){if(d.initialized)return d.backend;if(d.aborted)continue;let O=!!d.initPromise;try{return O||(d.initPromise=d.backend.init()),await d.initPromise,d.initialized=!0,d.backend}catch(l){O||r.push({name:c,err:l}),d.aborted=!0}finally{delete d.initPromise}}}throw new Error(`no available backend found. ERR: ${r.map(c=>`[${c.name}] ${c.err}`).join(", ")}`)}});var Cn=G(()=>{"use strict";cr()});var Pn,Dn=G(()=>{"use strict";Pn="1.17.0"});var In,dr,Rn=G(()=>{"use strict";Dn();In="warning",dr={wasm:{},webgl:{},webgpu:{},versions:{common:Pn},set logLevel(a){if(a!==void 0){if(typeof a!="string"||["verbose","info","warning","error","fatal"].indexOf(a)===-1)throw new Error(`Unsupported logging level: ${a}`);In=a}},get logLevel(){return In}};Object.defineProperty(dr,"logLevel",{enumerable:!0})});var Z,xn=G(()=>{"use strict";Rn();Z=dr});var Fn,Bn,Un=G(()=>{"use strict";Fn=(a,i)=>{let r=document.createElement("canvas");r.width=a.dims[3],r.height=a.dims[2];let c=r.getContext("2d");if(c!=null){let d,O;i?.tensorLayout!==void 0&&i.tensorLayout==="NHWC"?(d=a.dims[2],O=a.dims[3]):(d=a.dims[3],O=a.dims[2]);let l=i?.format!==void 0?i.format:"RGB",h=i?.norm,v,u;h===void 0||h.mean===void 0?v=[255,255,255,255]:typeof h.mean=="number"?v=[h.mean,h.mean,h.mean,h.mean]:(v=[h.mean[0],h.mean[1],h.mean[2],0],h.mean[3]!==void 0&&(v[3]=h.mean[3])),h===void 0||h.bias===void 0?u=[0,0,0,0]:typeof h.bias=="number"?u=[h.bias,h.bias,h.bias,h.bias]:(u=[h.bias[0],h.bias[1],h.bias[2],0],h.bias[3]!==void 0&&(u[3]=h.bias[3]));let _=O*d,A=0,E=_,C=_*2,L=-1;l==="RGBA"?(A=0,E=_,C=_*2,L=_*3):l==="RGB"?(A=0,E=_,C=_*2):l==="RBG"&&(A=0,C=_,E=_*2);for(let x=0;x<O;x++)for(let U=0;U<d;U++){let N=(a.data[A++]-u[0])*v[0],D=(a.data[E++]-u[1])*v[1],V=(a.data[C++]-u[2])*v[2],le=L===-1?255:(a.data[L++]-u[3])*v[3];c.fillStyle="rgba("+N+","+D+","+V+","+le+")",c.fillRect(U,x,1,1)}return r.toDataURL()}else throw new Error("Can not access image data")},Bn=(a,i)=>{let r=document.createElement("canvas").getContext("2d"),c;if(r!=null){let d,O,l;i?.tensorLayout!==void 0&&i.tensorLayout==="NHWC"?(d=a.dims[2],O=a.dims[1],l=a.dims[3]):(d=a.dims[3],O=a.dims[2],l=a.dims[1]);let h=i!==void 0&&i.format!==void 0?i.format:"RGB",v=i?.norm,u,_;v===void 0||v.mean===void 0?u=[255,255,255,255]:typeof v.mean=="number"?u=[v.mean,v.mean,v.mean,v.mean]:(u=[v.mean[0],v.mean[1],v.mean[2],255],v.mean[3]!==void 0&&(u[3]=v.mean[3])),v===void 0||v.bias===void 0?_=[0,0,0,0]:typeof v.bias=="number"?_=[v.bias,v.bias,v.bias,v.bias]:(_=[v.bias[0],v.bias[1],v.bias[2],0],v.bias[3]!==void 0&&(_[3]=v.bias[3]));let A=O*d;if(i!==void 0&&(i.format!==void 0&&l===4&&i.format!=="RGBA"||l===3&&i.format!=="RGB"&&i.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,C=0,L=1,x=2,U=3,N=0,D=A,V=A*2,le=-1;h==="RGBA"?(N=0,D=A,V=A*2,le=A*3):h==="RGB"?(N=0,D=A,V=A*2):h==="RBG"&&(N=0,V=A,D=A*2),c=r.createImageData(d,O);for(let P=0;P<O*d;C+=E,L+=E,x+=E,U+=E,P++)c.data[C]=(a.data[N++]-_[0])*u[0],c.data[L]=(a.data[D++]-_[1])*u[1],c.data[x]=(a.data[V++]-_[2])*u[2],c.data[U]=le===-1?255:(a.data[le++]-_[3])*u[3]}else throw new Error("Can not access image data");return c}});var pr,kn,Ln,Wn,Hn,Nn=G(()=>{"use strict";Wt();pr=(a,i)=>{if(a===void 0)throw new Error("Image buffer must be defined");if(i.height===void 0||i.width===void 0)throw new Error("Image height and width must be defined");if(i.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:r,width:c}=i,d=i.norm??{mean:255,bias:0},O,l;typeof d.mean=="number"?O=[d.mean,d.mean,d.mean,d.mean]:O=[d.mean[0],d.mean[1],d.mean[2],d.mean[3]??255],typeof d.bias=="number"?l=[d.bias,d.bias,d.bias,d.bias]:l=[d.bias[0],d.bias[1],d.bias[2],d.bias[3]??0];let h=i.format!==void 0?i.format:"RGBA",v=i.tensorFormat!==void 0&&i.tensorFormat!==void 0?i.tensorFormat:"RGB",u=r*c,_=v==="RGBA"?new Float32Array(u*4):new Float32Array(u*3),A=4,E=0,C=1,L=2,x=3,U=0,N=u,D=u*2,V=-1;h==="RGB"&&(A=3,E=0,C=1,L=2,x=-1),v==="RGBA"?V=u*3:v==="RBG"?(U=0,D=u,N=u*2):v==="BGR"&&(D=0,N=u,U=u*2);for(let P=0;P<u;P++,E+=A,L+=A,C+=A,x+=A)_[U++]=(a[E]+l[0])/O[0],_[N++]=(a[C]+l[1])/O[1],_[D++]=(a[L]+l[2])/O[2],V!==-1&&x!==-1&&(_[V++]=(a[x]+l[3])/O[3]);return v==="RGBA"?new be("float32",_,[1,4,r,c]):new be("float32",_,[1,3,r,c])},kn=async(a,i)=>{let r=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,c=typeof ImageData<"u"&&a instanceof ImageData,d=typeof ImageBitmap<"u"&&a instanceof ImageBitmap,O=typeof a=="string",l,h=i??{};if(r){let v=document.createElement("canvas");v.width=a.width,v.height=a.height;let u=v.getContext("2d");if(u!=null){let _=a.height,A=a.width;if(i!==void 0&&i.resizedHeight!==void 0&&i.resizedWidth!==void 0&&(_=i.resizedHeight,A=i.resizedWidth),i!==void 0){if(h=i,i.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");h.tensorFormat="RGBA",h.height=_,h.width=A}else h.tensorFormat="RGBA",h.height=_,h.width=A;u.drawImage(a,0,0),l=u.getImageData(0,0,A,_).data}else throw new Error("Can not access image data")}else if(c){let v,u;if(i!==void 0&&i.resizedWidth!==void 0&&i.resizedHeight!==void 0?(v=i.resizedHeight,u=i.resizedWidth):(v=a.height,u=a.width),i!==void 0&&(h=i),h.format="RGBA",h.height=v,h.width=u,i!==void 0){let _=document.createElement("canvas");_.width=u,_.height=v;let A=_.getContext("2d");if(A!=null)A.putImageData(a,0,0),l=A.getImageData(0,0,u,v).data;else throw new Error("Can not access image data")}else l=a.data}else if(d){if(i===void 0)throw new Error("Please provide image config with format for Imagebitmap");let v=document.createElement("canvas");v.width=a.width,v.height=a.height;let u=v.getContext("2d");if(u!=null){let _=a.height,A=a.width;return u.drawImage(a,0,0,A,_),l=u.getImageData(0,0,A,_).data,h.height=_,h.width=A,pr(l,h)}else throw new Error("Can not access image data")}else{if(O)return new Promise((v,u)=>{let _=document.createElement("canvas"),A=_.getContext("2d");if(!a||!A)return u();let E=new Image;E.crossOrigin="Anonymous",E.src=a,E.onload=()=>{_.width=E.width,_.height=E.height,A.drawImage(E,0,0,_.width,_.height);let C=A.getImageData(0,0,_.width,_.height);h.height=_.height,h.width=_.width,v(pr(C.data,h))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(l!==void 0)return pr(l,h);throw new Error("Input data provided is not supported - aborted tensor creation")},Ln=(a,i)=>{let{width:r,height:c,download:d,dispose:O}=i,l=[1,c,r,4];return new be({location:"texture",type:"float32",texture:a,dims:l,download:d,dispose:O})},Wn=(a,i)=>{let{dataType:r,dims:c,download:d,dispose:O}=i;return new be({location:"gpu-buffer",type:r??"float32",gpuBuffer:a,dims:c,download:d,dispose:O})},Hn=(a,i,r)=>new be({location:"cpu-pinned",type:a,data:i,dims:r??[i.length]})});var Et,Ht,jn,$n,zn=G(()=>{"use strict";Et=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Ht=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),jn=!1,$n=()=>{if(!jn){jn=!0;let a=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",i=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";a&&(Et.set("int64",BigInt64Array),Ht.set(BigInt64Array,"int64")),i&&(Et.set("uint64",BigUint64Array),Ht.set(BigUint64Array,"uint64"))}}});var Gn,Yn,Vn=G(()=>{"use strict";Wt();Gn=a=>{let i=1;for(let r=0;r<a.length;r++){let c=a[r];if(typeof c!="number"||!Number.isSafeInteger(c))throw new TypeError(`dims[${r}] must be an integer, got: ${c}`);if(c<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${c}`);i*=c}return i},Yn=(a,i)=>{switch(a.location){case"cpu":return new be(a.type,a.data,i);case"cpu-pinned":return new be({location:"cpu-pinned",data:a.data,type:a.type,dims:i});case"texture":return new be({location:"texture",texture:a.texture,type:a.type,dims:i});case"gpu-buffer":return new be({location:"gpu-buffer",gpuBuffer:a.gpuBuffer,type:a.type,dims:i});default:throw new Error(`tensorReshape: tensor location ${a.location} is not supported`)}}});var be,Wt=G(()=>{"use strict";Un();Nn();zn();Vn();be=class{constructor(i,r,c){$n();let d,O;if(typeof i=="object"&&"location"in i)switch(this.dataLocation=i.location,d=i.type,O=i.dims,i.location){case"cpu-pinned":{let h=Et.get(d);if(!h)throw new TypeError(`unsupported type "${d}" to create tensor from pinned buffer`);if(!(i.data instanceof h))throw new TypeError(`buffer should be of type ${h.name}`);this.cpuData=i.data;break}case"texture":{if(d!=="float32")throw new TypeError(`unsupported type "${d}" to create tensor from texture`);this.gpuTextureData=i.texture,this.downloader=i.download,this.disposer=i.dispose;break}case"gpu-buffer":{if(d!=="float32"&&d!=="float16"&&d!=="int32"&&d!=="int64"&&d!=="uint32"&&d!=="bool")throw new TypeError(`unsupported type "${d}" to create tensor from gpu buffer`);this.gpuBufferData=i.gpuBuffer,this.downloader=i.download,this.disposer=i.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let h,v;if(typeof i=="string")if(d=i,v=c,i==="string"){if(!Array.isArray(r))throw new TypeError("A string tensor's data must be a string array.");h=r}else{let u=Et.get(i);if(u===void 0)throw new TypeError(`Unsupported tensor type: ${i}.`);if(Array.isArray(r)){if(i==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");i==="uint64"||i==="int64"?h=u.from(r,BigInt):h=u.from(r)}else if(r instanceof u)h=r;else throw new TypeError(`A ${d} tensor's data must be type of ${u}`)}else if(v=r,Array.isArray(i)){if(i.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let u=typeof i[0];if(u==="string")d="string",h=i;else if(u==="boolean")d="bool",h=Uint8Array.from(i);else throw new TypeError(`Invalid element type of data array: ${u}.`)}else{let u=Ht.get(i.constructor);if(u===void 0)throw new TypeError(`Unsupported type for tensor data: ${i.constructor}.`);d=u,h=i}if(v===void 0)v=[h.length];else if(!Array.isArray(v))throw new TypeError("A tensor's dims must be a number array");O=v,this.cpuData=h,this.dataLocation="cpu"}let l=Gn(O);if(this.cpuData&&l!==this.cpuData.length)throw new Error(`Tensor's size(${l}) does not match data length(${this.cpuData.length}).`);this.type=d,this.dims=O,this.size=l}static async fromImage(i,r){return kn(i,r)}static fromTexture(i,r){return Ln(i,r)}static fromGpuBuffer(i,r){return Wn(i,r)}static fromPinnedBuffer(i,r,c){return Hn(i,r,c)}toDataURL(i){return Fn(this,i)}toImageData(i){return Bn(this,i)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(i){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let r=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=r,i&&this.disposer&&(this.disposer(),this.disposer=void 0),r}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(i){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Yn(this,i)}}});var xe,mr=G(()=>{"use strict";Wt();xe=be});var Nt,qn=G(()=>{"use strict";cr();mr();Nt=class a{constructor(i){this.handler=i}async run(i,r,c){let d={},O={};if(typeof i!="object"||i===null||i instanceof xe||Array.isArray(i))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let l=!0;if(typeof r=="object"){if(r===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof xe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(r)){if(r.length===0)throw new TypeError("'fetches' cannot be an empty array.");l=!1;for(let u of r){if(typeof u!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(u)===-1)throw new RangeError(`'fetches' contains invalid output name: ${u}.`);d[u]=null}if(typeof c=="object"&&c!==null)O=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else{let u=!1,_=Object.getOwnPropertyNames(r);for(let A of this.outputNames)if(_.indexOf(A)!==-1){let E=r[A];(E===null||E instanceof xe)&&(u=!0,l=!1,d[A]=E)}if(u){if(typeof c=="object"&&c!==null)O=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else O=r}}else if(typeof r<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let u of this.inputNames)if(typeof i[u]>"u")throw new Error(`input '${u}' is missing in 'feeds'.`);if(l)for(let u of this.outputNames)d[u]=null;let h=await this.handler.run(i,d,O),v={};for(let u in h)if(Object.hasOwnProperty.call(h,u)){let _=h[u];_ instanceof xe?v[u]=_:v[u]=new xe(_.type,_.data,_.dims)}return v}async release(){return this.handler.dispose()}static async create(i,r,c,d){let O,l={};if(typeof i=="string"){if(O=i,typeof r=="object"&&r!==null)l=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof Uint8Array){if(O=i,typeof r=="object"&&r!==null)l=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer){let A=i,E=0,C=i.byteLength;if(typeof r=="object"&&r!==null)l=r;else if(typeof r=="number"){if(E=r,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=A.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${A.byteLength}).`);if(C=i.byteLength-E,typeof c=="number"){if(C=c,!Number.isSafeInteger(C))throw new RangeError("'byteLength' must be an integer.");if(C<=0||E+C>A.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${A.byteLength-E}].`);if(typeof d=="object"&&d!==null)l=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else if(typeof c<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof r<"u")throw new TypeError("'options' must be an object.");O=new Uint8Array(A,E,C)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let v=(l.executionProviders||[]).map(A=>typeof A=="string"?A:A.name),_=await(await Mn(v)).createInferenceSessionHandler(O,l);return new a(_)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var wo,Jn=G(()=>{"use strict";qn();wo=Nt});var Xn=G(()=>{"use strict"});var jt,Kn=G(()=>{"use strict";jt=class{constructor(i){this.handler=i}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(i,r){throw new Error("Method not implemented")}async loadParametersBuffer(i,r){throw new Error("Method not implemented.")}async getContiguousParameters(i){throw new Error("Method not implemented.")}async runTrainStep(i,r,c){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var vo,Zn=G(()=>{"use strict";Kn();vo=jt});var pt=G(()=>{"use strict";Cn();xn();Jn();mr();Xn();Zn()});var hr={};_t(hr,{readFile:()=>Oo});var Oo,gr=G(()=>{Oo=void 0});var yr={};_t(yr,{join:()=>_o});var _o,br=G(()=>{_o=void 0});var ra=dt((ta,wr)=>{"use strict";var ea=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(i={}){var r=i,c,d;r.ready=new Promise((o,f)=>{c=o,d=f});var O=Object.assign({},r),l="./this.program",h=typeof window=="object",v=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="",A,E,C;if(u){var L=(gr(),et(hr)),x=(br(),et(yr));_=v?x.dirname(_)+"/":__dirname+"/",A=(o,f)=>(o=o.startsWith("file://")?new URL(o):x.normalize(o),L.readFileSync(o,f?void 0:"utf8")),C=o=>(o=A(o,!0),o.buffer||(o=new Uint8Array(o)),o),E=(o,f,p,w=!0)=>{o=o.startsWith("file://")?new URL(o):x.normalize(o),L.readFile(o,w?void 0:"utf8",(M,I)=>{M?p(M):f(w?I.buffer:I)})},!r.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r.inspect=()=>"[Emscripten Module object]"}else(h||v)&&(v?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),a&&(_=a),_.indexOf("blob:")!==0?_=_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):_="",A=o=>{var f=new XMLHttpRequest;return f.open("GET",o,!1),f.send(null),f.responseText},v&&(C=o=>{var f=new XMLHttpRequest;return f.open("GET",o,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),E=(o,f,p)=>{var w=new XMLHttpRequest;w.open("GET",o,!0),w.responseType="arraybuffer",w.onload=()=>{w.status==200||w.status==0&&w.response?f(w.response):p()},w.onerror=p,w.send(null)});var U=r.print||console.log.bind(console),N=r.printErr||console.error.bind(console);Object.assign(r,O),O=null,r.thisProgram&&(l=r.thisProgram);var D;r.wasmBinary&&(D=r.wasmBinary);var V=r.noExitRuntime||!0;typeof WebAssembly!="object"&&Y("no native wasm support detected");var le,P,Se=!1,Te,Q,R,ie;function Ve(){var o=le.buffer;r.HEAP8=Te=new Int8Array(o),r.HEAP16=new Int16Array(o),r.HEAP32=R=new Int32Array(o),r.HEAPU8=Q=new Uint8Array(o),r.HEAPU16=new Uint16Array(o),r.HEAPU32=ie=new Uint32Array(o),r.HEAPF32=new Float32Array(o),r.HEAPF64=new Float64Array(o)}var qe=[],se=[],j=[];function q(){var o=r.preRun.shift();qe.unshift(o)}var ve=0,pe=null,ce=null;function Y(o){throw r.onAbort&&r.onAbort(o),o="Aborted("+o+")",N(o),Se=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),d(o),o}function me(o){return o.startsWith("data:application/octet-stream;base64,")}var Ce;if(Ce="ort-training-wasm-simd.wasm",!me(Ce)){var Pe=Ce;Ce=r.locateFile?r.locateFile(Pe,_):_+Pe}function He(o){if(o==Ce&&D)return new Uint8Array(D);if(C)return C(o);throw"both async and sync fetching of the wasm failed"}function Je(o){if(!D&&(h||v)){if(typeof fetch=="function"&&!o.startsWith("file://"))return fetch(o,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+o+"'";return f.arrayBuffer()}).catch(()=>He(o));if(E)return new Promise((f,p)=>{E(o,w=>f(new Uint8Array(w)),p)})}return Promise.resolve().then(()=>He(o))}function Xe(o,f,p){return Je(o).then(w=>WebAssembly.instantiate(w,f)).then(w=>w).then(p,w=>{N("failed to asynchronously prepare wasm: "+w),Y(w)})}function he(o,f){var p=Ce;return D||typeof WebAssembly.instantiateStreaming!="function"||me(p)||p.startsWith("file://")||u||typeof fetch!="function"?Xe(p,o,f):fetch(p,{credentials:"same-origin"}).then(w=>WebAssembly.instantiateStreaming(w,o).then(f,function(M){return N("wasm streaming compile failed: "+M),N("falling back to ArrayBuffer instantiation"),Xe(p,o,f)}))}var ge,Fe=o=>{for(;0<o.length;)o.shift()(r)};function J(o){this.Ha=o-24,this.La=function(f){ie[this.Ha+4>>2>>>0]=f},this.Ka=function(f){ie[this.Ha+8>>2>>>0]=f},this.Ia=function(f,p){this.Ja(),this.La(f),this.Ka(p)},this.Ja=function(){ie[this.Ha+16>>2>>>0]=0}}var ne=0,Ne=0,Be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,nt=(o,f,p)=>{f>>>=0;var w=f+p;for(p=f;o[p]&&!(p>=w);)++p;if(16<p-f&&o.buffer&&Be)return Be.decode(o.subarray(f,p));for(w="";f<p;){var M=o[f++];if(M&128){var I=o[f++]&63;if((M&224)==192)w+=String.fromCharCode((M&31)<<6|I);else{var H=o[f++]&63;M=(M&240)==224?(M&15)<<12|I<<6|H:(M&7)<<18|I<<12|H<<6|o[f++]&63,65536>M?w+=String.fromCharCode(M):(M-=65536,w+=String.fromCharCode(55296|M>>10,56320|M&1023))}}else w+=String.fromCharCode(M)}return w},at=(o,f)=>(o>>>=0)?nt(Q,o,f):"",je=o=>{for(var f=0,p=0;p<o.length;++p){var w=o.charCodeAt(p);127>=w?f++:2047>=w?f+=2:55296<=w&&57343>=w?(f+=4,++p):f+=3}return f},De=(o,f,p,w)=>{if(p>>>=0,!(0<w))return 0;var M=p;w=p+w-1;for(var I=0;I<o.length;++I){var H=o.charCodeAt(I);if(55296<=H&&57343>=H){var ue=o.charCodeAt(++I);H=65536+((H&1023)<<10)|ue&1023}if(127>=H){if(p>=w)break;f[p++>>>0]=H}else{if(2047>=H){if(p+1>=w)break;f[p++>>>0]=192|H>>6}else{if(65535>=H){if(p+2>=w)break;f[p++>>>0]=224|H>>12}else{if(p+3>=w)break;f[p++>>>0]=240|H>>18,f[p++>>>0]=128|H>>12&63}f[p++>>>0]=128|H>>6&63}f[p++>>>0]=128|H&63}}return f[p>>>0]=0,p-M},Ie=o=>o%4===0&&(o%100!==0||o%400===0),$e=[0,31,60,91,121,152,182,213,244,274,305,335],ht=[0,31,59,90,120,151,181,212,243,273,304,334],Ue=o=>{var f=je(o)+1,p=yt(f);return p&&De(o,Q,p,f),p},ot={},ze=()=>{if(!it){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},f;for(f in ot)ot[f]===void 0?delete o[f]:o[f]=ot[f];var p=[];for(f in o)p.push(`${f}=${o[f]}`);it=p}return it},it,Kt=[null,[],[]],gt=[31,29,31,30,31,30,31,31,30,31,30,31],Mt=[31,28,31,30,31,30,31,31,30,31,30,31];function st(o){var f=Array(je(o)+1);return De(o,f,0,f.length),f}function ut(o,f,p,w){function M(b,z,X){for(b=typeof b=="number"?b.toString():b||"";b.length<z;)b=X[0]+b;return b}function I(b,z){return M(b,z,"0")}function H(b,z){function X(Ot){return 0>Ot?-1:0<Ot?1:0}var Re;return(Re=X(b.getFullYear()-z.getFullYear()))===0&&(Re=X(b.getMonth()-z.getMonth()))===0&&(Re=X(b.getDate()-z.getDate())),Re}function ue(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function ye(b){var z=b.Ca;for(b=new Date(new Date(b.Da+1900,0,1).getTime());0<z;){var X=b.getMonth(),Re=(Ie(b.getFullYear())?gt:Mt)[X];if(z>Re-b.getDate())z-=Re-b.getDate()+1,b.setDate(1),11>X?b.setMonth(X+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else{b.setDate(b.getDate()+z);break}}return X=new Date(b.getFullYear()+1,0,4),z=ue(new Date(b.getFullYear(),0,4)),X=ue(X),0>=H(z,b)?0>=H(X,b)?b.getFullYear()+1:b.getFullYear():b.getFullYear()-1}o>>>=0,f>>>=0,p>>>=0,w>>>=0;var de=R[w+40>>2>>>0];w={Oa:R[w>>2>>>0],Na:R[w+4>>2>>>0],Ea:R[w+8>>2>>>0],Ga:R[w+12>>2>>>0],Fa:R[w+16>>2>>>0],Da:R[w+20>>2>>>0],xa:R[w+24>>2>>>0],Ca:R[w+28>>2>>>0],Qa:R[w+32>>2>>>0],Ma:R[w+36>>2>>>0],Pa:de?at(de):""},p=at(p),de={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in de)p=p.replace(new RegExp(fe,"g"),de[fe]);var vt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lt="January February March April May June July August September October November December".split(" ");de={"%a":b=>vt[b.xa].substring(0,3),"%A":b=>vt[b.xa],"%b":b=>lt[b.Fa].substring(0,3),"%B":b=>lt[b.Fa],"%C":b=>I((b.Da+1900)/100|0,2),"%d":b=>I(b.Ga,2),"%e":b=>M(b.Ga,2," "),"%g":b=>ye(b).toString().substring(2),"%G":b=>ye(b),"%H":b=>I(b.Ea,2),"%I":b=>(b=b.Ea,b==0?b=12:12<b&&(b-=12),I(b,2)),"%j":b=>{for(var z=0,X=0;X<=b.Fa-1;z+=(Ie(b.Da+1900)?gt:Mt)[X++]);return I(b.Ga+z,3)},"%m":b=>I(b.Fa+1,2),"%M":b=>I(b.Na,2),"%n":()=>`
`,"%p":b=>0<=b.Ea&&12>b.Ea?"AM":"PM","%S":b=>I(b.Oa,2),"%t":()=>"	","%u":b=>b.xa||7,"%U":b=>I(Math.floor((b.Ca+7-b.xa)/7),2),"%V":b=>{var z=Math.floor((b.Ca+7-(b.xa+6)%7)/7);if(2>=(b.xa+371-b.Ca-2)%7&&z++,z)z==53&&(X=(b.xa+371-b.Ca)%7,X==4||X==3&&Ie(b.Da)||(z=1));else{z=52;var X=(b.xa+7-b.Ca-1)%7;(X==4||X==5&&Ie(b.Da%400-1))&&z++}return I(z,2)},"%w":b=>b.xa,"%W":b=>I(Math.floor((b.Ca+7-(b.xa+6)%7)/7),2),"%y":b=>(b.Da+1900).toString().substring(2),"%Y":b=>b.Da+1900,"%z":b=>{b=b.Ma;var z=0<=b;return b=Math.abs(b)/60,(z?"+":"-")+("0000"+(b/60*100+b%60)).slice(-4)},"%Z":b=>b.Pa,"%%":()=>"%"},p=p.replace(/%%/g,"\0\0");for(fe in de)p.includes(fe)&&(p=p.replace(new RegExp(fe,"g"),de[fe](w)));return p=p.replace(/\0\0/g,"%"),fe=st(p),fe.length>f?0:(Te.set(fe,o>>>0),fe.length-1)}var Ct={a:function(o,f,p){throw o>>>=0,new J(o).Ia(f>>>0,p>>>0),ne=o,Ne++,ne},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(o,f,p){o=f+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*f:NaN,p>>>=0,o=new Date(1e3*o),R[p>>2>>>0]=o.getUTCSeconds(),R[p+4>>2>>>0]=o.getUTCMinutes(),R[p+8>>2>>>0]=o.getUTCHours(),R[p+12>>2>>>0]=o.getUTCDate(),R[p+16>>2>>>0]=o.getUTCMonth(),R[p+20>>2>>>0]=o.getUTCFullYear()-1900,R[p+24>>2>>>0]=o.getUTCDay(),R[p+28>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(o,f,p){o=f+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*f:NaN,p>>>=0,o=new Date(1e3*o),R[p>>2>>>0]=o.getSeconds(),R[p+4>>2>>>0]=o.getMinutes(),R[p+8>>2>>>0]=o.getHours(),R[p+12>>2>>>0]=o.getDate(),R[p+16>>2>>>0]=o.getMonth(),R[p+20>>2>>>0]=o.getFullYear()-1900,R[p+24>>2>>>0]=o.getDay(),R[p+28>>2>>>0]=(Ie(o.getFullYear())?$e:ht)[o.getMonth()]+o.getDate()-1|0,R[p+36>>2>>>0]=-(60*o.getTimezoneOffset()),f=new Date(o.getFullYear(),6,1).getTimezoneOffset();var w=new Date(o.getFullYear(),0,1).getTimezoneOffset();R[p+32>>2>>>0]=(f!=w&&o.getTimezoneOffset()==Math.min(w,f))|0},q:function(o){o>>>=0;var f=new Date(R[o+20>>2>>>0]+1900,R[o+16>>2>>>0],R[o+12>>2>>>0],R[o+8>>2>>>0],R[o+4>>2>>>0],R[o>>2>>>0],0),p=R[o+32>>2>>>0],w=f.getTimezoneOffset(),M=new Date(f.getFullYear(),6,1).getTimezoneOffset(),I=new Date(f.getFullYear(),0,1).getTimezoneOffset(),H=Math.min(I,M);return 0>p?R[o+32>>2>>>0]=+(M!=I&&H==w):0<p!=(H==w)&&(M=Math.max(I,M),f.setTime(f.getTime()+6e4*((0<p?H:M)-w))),R[o+24>>2>>>0]=f.getDay(),R[o+28>>2>>>0]=(Ie(f.getFullYear())?$e:ht)[f.getMonth()]+f.getDate()-1|0,R[o>>2>>>0]=f.getSeconds(),R[o+4>>2>>>0]=f.getMinutes(),R[o+8>>2>>>0]=f.getHours(),R[o+12>>2>>>0]=f.getDate(),R[o+16>>2>>>0]=f.getMonth(),R[o+20>>2>>>0]=f.getYear(),o=f.getTime()/1e3,bt((ge=o,1<=+Math.abs(ge)?0<ge?+Math.floor(ge/4294967296)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)),o>>>0},m:function(){return-52},n:function(){},t:function(o,f,p){function w(ye){return(ye=ye.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ye[1]:"GMT"}p>>>=0;var M=new Date().getFullYear(),I=new Date(M,0,1),H=new Date(M,6,1);M=I.getTimezoneOffset();var ue=H.getTimezoneOffset();ie[o>>>0>>2>>>0]=60*Math.max(M,ue),R[f>>>0>>2>>>0]=+(M!=ue),o=w(I),f=w(H),o=Ue(o),f=Ue(f),ue<M?(ie[p>>2>>>0]=o,ie[p+4>>2>>>0]=f):(ie[p>>2>>>0]=f,ie[p+4>>2>>>0]=o)},d:()=>{Y("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(o,f,p){return f>>>=0,Q.copyWithin(o>>>0>>>0,f>>>0,f+(p>>>0)>>>0)},s:function(o){o>>>=0;var f=Q.length;if(4294901760<o)return!1;for(var p=1;4>=p;p*=2){var w=f*(1+.2/p);w=Math.min(w,o+100663296);var M=Math;w=Math.max(o,w);e:{M=M.min.call(M,4294901760,w+(65536-w%65536)%65536)-le.buffer.byteLength+65535>>>16;try{le.grow(M),Ve();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},C:function(o,f){o>>>=0,f>>>=0;var p=0;return ze().forEach(function(w,M){var I=f+p;for(M=ie[o+4*M>>2>>>0]=I,I=0;I<w.length;++I)Te[M++>>0>>>0]=w.charCodeAt(I);Te[M>>0>>>0]=0,p+=w.length+1}),0},D:function(o,f){o>>>=0,f>>>=0;var p=ze();ie[o>>2>>>0]=p.length;var w=0;return p.forEach(function(M){w+=M.length+1}),ie[f>>2>>>0]=w,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(o,f,p,w){f>>>=0,p>>>=0,w>>>=0;for(var M=0,I=0;I<p;I++){var H=ie[f>>2>>>0],ue=ie[f+4>>2>>>0];f+=8;for(var ye=0;ye<ue;ye++){var de=Q[H+ye>>>0],fe=Kt[o];de===0||de===10?((o===1?U:N)(nt(fe,0)),fe.length=0):fe.push(de)}M+=ue}return ie[w>>2>>>0]=M,0},A:ut,c:function(o,f,p,w){return ut(o>>>0,f>>>0,p>>>0,w>>>0)}};(function(){function o(p){if(p=p.exports,P=p=Zt(p),le=P.J,Ve(),se.unshift(P.K),ve--,r.monitorRunDependencies&&r.monitorRunDependencies(ve),ve==0&&(pe!==null&&(clearInterval(pe),pe=null),ce)){var w=ce;ce=null,w()}return p}var f={a:Ct};if(ve++,r.monitorRunDependencies&&r.monitorRunDependencies(ve),r.instantiateWasm)try{return r.instantiateWasm(f,o)}catch(p){N("Module.instantiateWasm callback failed with error: "+p),d(p)}return he(f,function(p){o(p.instance)}).catch(d),{}})(),r._OrtInit=(o,f)=>(r._OrtInit=P.L)(o,f),r._OrtGetLastError=(o,f)=>(r._OrtGetLastError=P.M)(o,f),r._OrtCreateSessionOptions=(o,f,p,w,M,I,H,ue,ye,de)=>(r._OrtCreateSessionOptions=P.N)(o,f,p,w,M,I,H,ue,ye,de),r._OrtAppendExecutionProvider=(o,f)=>(r._OrtAppendExecutionProvider=P.O)(o,f),r._OrtAddFreeDimensionOverride=(o,f,p)=>(r._OrtAddFreeDimensionOverride=P.P)(o,f,p),r._OrtAddSessionConfigEntry=(o,f,p)=>(r._OrtAddSessionConfigEntry=P.Q)(o,f,p),r._OrtReleaseSessionOptions=o=>(r._OrtReleaseSessionOptions=P.R)(o),r._OrtCreateSession=(o,f,p)=>(r._OrtCreateSession=P.S)(o,f,p),r._OrtReleaseSession=o=>(r._OrtReleaseSession=P.T)(o),r._OrtGetInputOutputCount=(o,f,p)=>(r._OrtGetInputOutputCount=P.U)(o,f,p),r._OrtGetInputName=(o,f)=>(r._OrtGetInputName=P.V)(o,f),r._OrtGetOutputName=(o,f)=>(r._OrtGetOutputName=P.W)(o,f),r._OrtFree=o=>(r._OrtFree=P.X)(o),r._OrtCreateTensor=(o,f,p,w,M,I)=>(r._OrtCreateTensor=P.Y)(o,f,p,w,M,I),r._OrtGetTensorData=(o,f,p,w,M)=>(r._OrtGetTensorData=P.Z)(o,f,p,w,M),r._OrtReleaseTensor=o=>(r._OrtReleaseTensor=P._)(o),r._OrtCreateRunOptions=(o,f,p,w)=>(r._OrtCreateRunOptions=P.$)(o,f,p,w),r._OrtAddRunConfigEntry=(o,f,p)=>(r._OrtAddRunConfigEntry=P.aa)(o,f,p),r._OrtReleaseRunOptions=o=>(r._OrtReleaseRunOptions=P.ba)(o),r._OrtCreateBinding=o=>(r._OrtCreateBinding=P.ca)(o),r._OrtBindInput=(o,f,p)=>(r._OrtBindInput=P.da)(o,f,p),r._OrtBindOutput=(o,f,p,w)=>(r._OrtBindOutput=P.ea)(o,f,p,w),r._OrtClearBoundOutputs=o=>(r._OrtClearBoundOutputs=P.fa)(o),r._OrtReleaseBinding=o=>(r._OrtReleaseBinding=P.ga)(o),r._OrtRunWithBinding=(o,f,p,w,M)=>(r._OrtRunWithBinding=P.ha)(o,f,p,w,M),r._OrtRun=(o,f,p,w,M,I,H,ue)=>(r._OrtRun=P.ia)(o,f,p,w,M,I,H,ue),r._OrtEndProfiling=o=>(r._OrtEndProfiling=P.ja)(o),r._OrtTrainingLoadCheckpoint=(o,f)=>(r._OrtTrainingLoadCheckpoint=P.ka)(o,f),r._OrtTrainingReleaseCheckpoint=o=>(r._OrtTrainingReleaseCheckpoint=P.la)(o),r._OrtTrainingCreateSession=(o,f,p,w,M,I,H,ue)=>(r._OrtTrainingCreateSession=P.ma)(o,f,p,w,M,I,H,ue),r._OrtTrainingLazyResetGrad=o=>(r._OrtTrainingLazyResetGrad=P.na)(o),r._OrtTrainingRunTrainStep=(o,f,p,w,M,I)=>(r._OrtTrainingRunTrainStep=P.oa)(o,f,p,w,M,I),r._OrtTrainingOptimizerStep=(o,f)=>(r._OrtTrainingOptimizerStep=P.pa)(o,f),r._OrtTrainingEvalStep=(o,f,p,w,M,I)=>(r._OrtTrainingEvalStep=P.qa)(o,f,p,w,M,I),r._OrtTrainingGetParametersSize=(o,f,p)=>(r._OrtTrainingGetParametersSize=P.ra)(o,f,p),r._OrtTrainingCopyParametersToBuffer=(o,f,p,w)=>(r._OrtTrainingCopyParametersToBuffer=P.sa)(o,f,p,w),r._OrtTrainingCopyParametersFromBuffer=(o,f,p,w)=>(r._OrtTrainingCopyParametersFromBuffer=P.ta)(o,f,p,w),r._OrtTrainingReleaseSession=o=>(r._OrtTrainingReleaseSession=P.ua)(o);var yt=r._malloc=o=>(yt=r._malloc=P.va)(o);r._free=o=>(r._free=P.wa)(o);var bt=o=>(bt=P.ya)(o),Ke=()=>(Ke=P.za)(),wt=o=>(wt=P.Aa)(o),ft=o=>(ft=P.Ba)(o);function Zt(o){o=Object.assign({},o);var f=w=>()=>w()>>>0,p=w=>M=>w(M)>>>0;return o.__errno_location=f(o.__errno_location),o.malloc=p(o.malloc),o.stackSave=f(o.stackSave),o.stackAlloc=p(o.stackAlloc),o}r.stackAlloc=ft,r.stackSave=Ke,r.stackRestore=wt,r.UTF8ToString=at,r.stringToUTF8=(o,f,p)=>De(o,Q,f,p),r.lengthBytesUTF8=je;var F;ce=function o(){F||Ze(),F||(ce=o)};function Ze(){function o(){if(!F&&(F=!0,r.calledRun=!0,!Se)){if(Fe(se),c(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var f=r.postRun.shift();j.unshift(f)}Fe(j)}}if(!(0<ve)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)q();Fe(qe),0<ve||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),o()},1)):o())}}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Ze(),i.ready}})();typeof ta=="object"&&typeof wr=="object"?wr.exports=ea:typeof define=="function"&&define.amd&&define([],()=>ea)});var na=dt(()=>{});var aa=dt(()=>{});var oa={};_t(oa,{cpus:()=>To});var To,ia=G(()=>{To=void 0});var fa=dt((ua,vr)=>{"use strict";var sa=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(i={}){function r(){return q.buffer!=Y.buffer&&J(),Y}function c(){return q.buffer!=Y.buffer&&J(),me}function d(){return q.buffer!=Y.buffer&&J(),Ce}function O(){return q.buffer!=Y.buffer&&J(),Pe}function l(){return q.buffer!=Y.buffer&&J(),He}function h(){return q.buffer!=Y.buffer&&J(),Je}function v(){return q.buffer!=Y.buffer&&J(),Fe}var u=i,_,A;u.ready=new Promise((e,t)=>{_=e,A=t});var E=Object.assign({},u),C="./this.program",L=(e,t)=>{throw t},x=typeof window=="object",U=typeof importScripts=="function",N=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D=u.ENVIRONMENT_IS_PTHREAD||!1,V="";function le(e){return u.locateFile?u.locateFile(e,V):V+e}var P,Se,Te;if(N){var Q=(gr(),et(hr)),R=(br(),et(yr));V=U?R.dirname(V)+"/":__dirname+"/",P=(t,n)=>(t=t.startsWith("file://")?new URL(t):R.normalize(t),Q.readFileSync(t,n?void 0:"utf8")),Te=t=>(t=P(t,!0),t.buffer||(t=new Uint8Array(t)),t),Se=(t,n,s,m=!0)=>{t=t.startsWith("file://")?new URL(t):R.normalize(t),Q.readFile(t,m?void 0:"utf8",(g,T)=>{g?s(g):n(m?T.buffer:T)})},!u.thisProgram&&1<process.argv.length&&(C=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),L=(t,n)=>{throw process.exitCode=t,n},u.inspect=()=>"[Emscripten Module object]";let e;try{e=na()}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}global.Worker=e.Worker}else(x||U)&&(U?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),typeof a<"u"&&a&&(V=a),V.indexOf("blob:")!==0?V=V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1):V="",N||(P=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},U&&(Te=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Se=(e,t,n)=>{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=()=>{s.status==200||s.status==0&&s.response?t(s.response):n()},s.onerror=n,s.send(null)}));N&&typeof performance>"u"&&(global.performance=aa().performance);var ie=console.log.bind(console),Ve=console.error.bind(console);N&&(ie=(...e)=>Q.writeSync(1,e.join(" ")+`
`),Ve=(...e)=>Q.writeSync(2,e.join(" ")+`
`));var qe=ie,se=Ve;Object.assign(u,E),E=null;var j=!0;typeof WebAssembly!="object"&&Ue("no native wasm support detected");var q,ve,pe=!1,ce,Y,me,Ce,Pe,He,Je,Xe,he,ge,Fe;function J(){var e=q.buffer;u.HEAP8=Y=new Int8Array(e),u.HEAP16=Ce=new Int16Array(e),u.HEAPU8=me=new Uint8Array(e),u.HEAPU16=Pe=new Uint16Array(e),u.HEAP32=He=new Int32Array(e),u.HEAPU32=Je=new Uint32Array(e),u.HEAPF32=Xe=new Float32Array(e),u.HEAPF64=Fe=new Float64Array(e),u.HEAP64=he=new BigInt64Array(e),u.HEAPU64=ge=new BigUint64Array(e)}var ne=16777216;if(5242880<=ne||Ue("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ne+"! (STACK_SIZE=5242880)"),D)q=u.wasmMemory;else if(q=new WebAssembly.Memory({initial:ne/65536,maximum:65536,shared:!0}),!(q.buffer instanceof SharedArrayBuffer))throw se("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),N&&se("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");J(),ne=q.buffer.byteLength;var Ne=[],Be=[],nt=[],at=0;function je(){return j||0<at}var De=0,Ie=null,$e=null;function ht(){if(De--,De==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),$e)){var e=$e;$e=null,e()}}function Ue(e){throw e="Aborted("+e+")",se(e),pe=!0,ce=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),A(e),e}function ot(e){return e.startsWith("data:application/octet-stream;base64,")}var ze;ze="ort-wasm-threaded.wasm",ot(ze)||(ze=le(ze));function it(e){if(Te)return Te(e);throw"both async and sync fetching of the wasm failed"}function Kt(e){if(x||U){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>it(e));if(Se)return new Promise((t,n)=>{Se(e,s=>t(new Uint8Array(s)),n)})}return Promise.resolve().then(()=>it(e))}function gt(e,t,n){return Kt(e).then(s=>WebAssembly.instantiate(s,t)).then(s=>s).then(n,s=>{se(`failed to asynchronously prepare wasm: ${s}`),Ue(s)})}function Mt(e,t){var n=ze;return typeof WebAssembly.instantiateStreaming!="function"||ot(n)||n.startsWith("file://")||N||typeof fetch!="function"?gt(n,e,t):fetch(n,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,e).then(t,function(m){return se(`wasm streaming compile failed: ${m}`),se("falling back to ArrayBuffer instantiation"),gt(n,e,t)}))}function st(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ut=e=>{e.terminate(),e.onmessage=()=>{}},Ct=e=>{if(F.qb.length==0){var t=le("ort-wasm-threaded.worker.js");t=new Worker(t),F.qb.push(t),F.Jb(F.qb[0])}if(t=F.qb.pop(),!t)return 6;F.nb.push(t),F.jb[e.mb]=t,t.mb=e.mb;var n={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return N&&t.unref(),t.postMessage(n,e.Sb),0},yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,bt=(e,t,n)=>{t>>>=0;var s=t+n;for(n=t;e[n]&&!(n>=s);)++n;if(16<n-t&&e.buffer&&yt)return yt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(s="";t<n;){var m=e[t++];if(m&128){var g=e[t++]&63;if((m&224)==192)s+=String.fromCharCode((m&31)<<6|g);else{var T=e[t++]&63;m=(m&240)==224?(m&15)<<12|g<<6|T:(m&7)<<18|g<<12|T<<6|e[t++]&63,65536>m?s+=String.fromCharCode(m):(m-=65536,s+=String.fromCharCode(55296|m>>10,56320|m&1023))}}else s+=String.fromCharCode(m)}return s},Ke=(e,t)=>(e>>>=0)?bt(c(),e,t):"";function wt(e){if(D)return K(0,1,e);ce=e,je()||(F.Nb(),pe=!0),L(e,new st(e))}var ft=e=>{if(ce=e,D)throw o(e),"unwind";wt(e)};function Zt(){Ne.unshift(()=>{De++,ht()})}var F={qb:[],nb:[],Eb:[],jb:{},vb(){D?(F.receiveObjectTransfer=F.Lb,F.threadInitTLS=F.Db,F.setExitStatus=F.Cb,j=!1):Zt()},Cb:e=>{ce=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of F.nb)ut(e);for(e of F.qb)ut(e);F.qb=[],F.nb=[],F.jb=[]},Bb:e=>{var t=e.mb;delete F.jb[t],F.qb.push(e),F.nb.splice(F.nb.indexOf(e),1),e.mb=0,ir(t)},Lb(){},Db(){F.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=g=>{g=g.data;var T=g.cmd;if(g.targetThread&&g.targetThread!=Ft()){var S=F.jb[g.targetThread];S?S.postMessage(g,g.transferList):se(`Internal error! Worker sent a message "${T}" to target pthread ${g.targetThread}, but that thread no longer exists!`)}else T==="checkMailbox"?Pt():T==="spawnThread"?Ct(g):T==="cleanupThread"?((g=F.jb[g.thread])||Ue(),F.Bb(g)):T==="killThread"?(g=g.thread,T=F.jb[g],delete F.jb[g],ut(T),ir(g),F.nb.splice(F.nb.indexOf(T),1),T.mb=0):T==="cancelThread"?F.jb[g.thread].postMessage({cmd:"cancel"}):T==="loaded"?(e.loaded=!0,t(e)):T==="alert"?alert(`Thread ${g.threadId}: ${g.text}`):g.target==="setimmediate"?e.postMessage(g):T==="callHandler"?u[g.handler](...g.args):T&&se(`worker sent an unknown command ${T}`)},e.onerror=g=>{throw se(`worker sent an error! ${g.filename}:${g.lineno}: ${g.message}`),g},N&&(e.on("message",g=>e.onmessage({data:g})),e.on("error",g=>e.onerror(g)));var n=[],s=[],m;for(m of s)u.hasOwnProperty(m)&&n.push(m);e.postMessage({cmd:"load",handlers:n,urlOrBlob:u.mainScriptUrlOrBlob||a,wasmMemory:q,wasmModule:ve})})};u.PThread=F;var Ze=e=>{for(;0<e.length;)e.shift()(u)};u.establishStackSpace=()=>{var e=Ft(),t=h()[e+52>>>2>>>0];e=h()[e+56>>>2>>>0],En(t,t-e),Ut(t)};function o(e){if(D)return K(1,0,e);ft(e)}var f=[],p;u.invokeEntryPoint=(e,t)=>{var n=f[e];n||(e>=f.length&&(f.length=e+1),f[e]=n=p.get(e)),e=n(t),je()?F.Cb(e):sr(e)};function w(e){this.sb=e-24,this.Kb=function(t){h()[this.sb+4>>>2>>>0]=t},this.xb=function(t){h()[this.sb+8>>>2>>>0]=t},this.vb=function(t,n){this.wb(),this.Kb(t),this.xb(n)},this.wb=function(){h()[this.sb+16>>>2>>>0]=0}}var M=0,I=0;function H(e,t,n,s){return D?K(2,1,e,t,n,s):ue(e,t,n,s)}function ue(e,t,n,s){if(e>>>=0,t>>>=0,n>>>=0,s>>>=0,typeof SharedArrayBuffer>"u")return se("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var m=[];return D&&m.length===0?H(e,t,n,s):(e={Mb:n,mb:e,Fb:s,Sb:m},D?(e.Ub="spawnThread",postMessage(e,m),0):Ct(e))}function ye(e,t,n){return D?K(3,1,e,t,n):0}function de(e,t){if(D)return K(4,1,e,t)}var fe=e=>{for(var t=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);127>=s?t++:2047>=s?t+=2:55296<=s&&57343>=s?(t+=4,++n):t+=3}return t},vt=(e,t,n,s)=>{if(n>>>=0,!(0<s))return 0;var m=n;s=n+s-1;for(var g=0;g<e.length;++g){var T=e.charCodeAt(g);if(55296<=T&&57343>=T){var S=e.charCodeAt(++g);T=65536+((T&1023)<<10)|S&1023}if(127>=T){if(n>=s)break;t[n++>>>0]=T}else{if(2047>=T){if(n+1>=s)break;t[n++>>>0]=192|T>>6}else{if(65535>=T){if(n+2>=s)break;t[n++>>>0]=224|T>>12}else{if(n+3>=s)break;t[n++>>>0]=240|T>>18,t[n++>>>0]=128|T>>12&63}t[n++>>>0]=128|T>>6&63}t[n++>>>0]=128|T&63}}return t[n>>>0]=0,n-m},lt=(e,t,n)=>vt(e,c(),t,n);function b(e,t){if(D)return K(5,1,e,t)}function z(e,t,n){if(D)return K(6,1,e,t,n)}function X(e,t,n){return D?K(7,1,e,t,n):0}function Re(e,t){if(D)return K(8,1,e,t)}function Ot(e,t,n){if(D)return K(9,1,e,t,n)}function Nr(e,t,n,s){if(D)return K(10,1,e,t,n,s)}function jr(e,t,n,s){if(D)return K(11,1,e,t,n,s)}function $r(e,t,n,s){if(D)return K(12,1,e,t,n,s)}function zr(e){if(D)return K(13,1,e)}function Gr(e,t){if(D)return K(14,1,e,t)}function Yr(e,t,n){if(D)return K(15,1,e,t,n)}var Vr=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},qr,Me=e=>{for(var t="";c()[e>>>0];)t+=qr[c()[e++>>>0]];return t},Qt={},er={},za={},Ge;function Ga(e,t,n={}){var s=t.name;if(!e)throw new Ge(`type "${s}" must have a positive integer typeid pointer`);if(er.hasOwnProperty(e)){if(n.Hb)return;throw new Ge(`Cannot register type '${s}' twice`)}er[e]=t,delete za[e],Qt.hasOwnProperty(e)&&(t=Qt[e],delete Qt[e],t.forEach(m=>m()))}function ke(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ga(e,t,n)}var Jr=(e,t,n)=>{switch(t){case 1:return n?s=>r()[s>>>0>>>0]:s=>c()[s>>>0>>>0];case 2:return n?s=>d()[s>>>1>>>0]:s=>O()[s>>>1>>>0];case 4:return n?s=>l()[s>>>2>>>0]:s=>h()[s>>>2>>>0];case 8:return n?s=>he[s>>>3]:s=>ge[s>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function Xr(){this.lb=[void 0],this.zb=[]}var Ee=new Xr;function tr(e){e>>>=0,e>=Ee.sb&&--Ee.get(e).Ab===0&&Ee.xb(e)}var we=e=>{if(!e)throw new Ge("Cannot use deleted val. handle = "+e);return Ee.get(e).value},Ae=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ee.wb({Ab:1,value:e})}};function Kr(e){return this.fromWireType(l()[e>>>2>>>0])}var Ya=(e,t)=>{switch(t){case 4:return function(n){var s=this.fromWireType;return q.buffer!=Y.buffer&&J(),s.call(this,Xe[n>>>2>>>0])};case 8:return function(n){return this.fromWireType(v()[n>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function Va(e){return this.fromWireType(h()[e>>>2>>>0])}var Zr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,qa=(e,t)=>{for(var n=e>>1,s=n+t/2;!(n>=s)&&O()[n>>>0];)++n;if(n<<=1,32<n-e&&Zr)return Zr.decode(c().slice(e,n));for(n="",s=0;!(s>=t/2);++s){var m=d()[e+2*s>>>1>>>0];if(m==0)break;n+=String.fromCharCode(m)}return n},Ja=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var s=t;n=n<2*e.length?n/2:e.length;for(var m=0;m<n;++m){var g=e.charCodeAt(m);d()[t>>>1>>>0]=g,t+=2}return d()[t>>>1>>>0]=0,t-s},Xa=e=>2*e.length,Ka=(e,t)=>{for(var n=0,s="";!(n>=t/4);){var m=l()[e+4*n>>>2>>>0];if(m==0)break;++n,65536<=m?(m-=65536,s+=String.fromCharCode(55296|m>>10,56320|m&1023)):s+=String.fromCharCode(m)}return s},Za=(e,t,n)=>{if(t>>>=0,n===void 0&&(n=2147483647),4>n)return 0;var s=t;n=s+n-4;for(var m=0;m<e.length;++m){var g=e.charCodeAt(m);if(55296<=g&&57343>=g){var T=e.charCodeAt(++m);g=65536+((g&1023)<<10)|T&1023}if(l()[t>>>2>>>0]=g,t+=4,t+4>n)break}return l()[t>>>2>>>0]=0,t-s},Qa=e=>{for(var t=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);55296<=s&&57343>=s&&++n,t+=4}return t},eo=e=>{if(!pe)try{if(e(),!je())try{D?sr(ce):ft(ce)}catch(t){t instanceof st||t=="unwind"||L(1,t)}}catch(t){t instanceof st||t=="unwind"||L(1,t)}};function rr(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(l(),e>>>2,e).value.then(Pt),e+=128,Atomics.store(l(),e>>>2,1))}u.__emscripten_thread_mailbox_await=rr;var Pt=()=>{var e=Ft();e&&(rr(e),eo(()=>Tn()))};u.checkMailbox=Pt;var to=e=>{var t=ur();return e=e(),Ut(t),e};function K(e,t){var n=arguments.length-2,s=arguments;return to(()=>{for(var m=2*n,g=fr(8*m),T=g>>>3,S=0;S<n;S++){var k=s[2+S];typeof k=="bigint"?(he[T+2*S]=1n,he[T+2*S+1]=k):(he[T+2*S]=0n,v()[T+2*S+1>>>0]=k)}return _n(e,m,g,t)})}var nr=[],Dt=(e,t)=>{var n=er[e];if(n===void 0)throw e=vn(e),n=Me(e),Le(e),new Ge(t+" has unknown type "+n);return n},ro={},It=e=>{var t=ro[e];return t===void 0?Me(e):t},Rt=[],Qr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),no=e=>{var t=Rt.length;return Rt.push(e),t},ao=(e,t)=>{for(var n=Array(e),s=0;s<e;++s)n[s]=Dt(h()[t+4*s>>>2>>>0],"parameter "+s);return n},en=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},tn={};function oo(e,t){return e=en(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function io(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var n=oo(t.name||"unknownFunctionName",function(){});return n.prototype=t.prototype,n=new n,e=t.apply(n,e),e instanceof Object?e:n}var so=e=>{for(var t="",n=0;n<e;++n)t+=(n!==0?", ":"")+"arg"+n;var s="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(n=0;n<e;++n)s+="var argType"+n+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+n+`');
var arg`+n+" = argType"+n+`.readValueFromPointer(args);
args += argType`+n+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",s+("var obj = new constructor("+t+`);
return valueToHandle(obj);
}
`))(Dt,u,Ae,()=>h())},rn={},ct=e=>e%4===0&&(e%100!==0||e%400===0),nn=[0,31,60,91,121,152,182,213,244,274,305,335],an=[0,31,59,90,120,151,181,212,243,273,304,334];function on(e,t,n,s,m,g,T){return D?K(16,1,e,t,n,s,m,g,T):-52}function sn(e,t,n,s,m,g){if(D)return K(17,1,e,t,n,s,m,g)}var un=e=>{var t=fe(e)+1,n=Bt(t);return n&&lt(e,n,t),n},ar={},fn=()=>{if(!or){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},t;for(t in ar)ar[t]===void 0?delete e[t]:e[t]=ar[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);or=n}return or},or;function ln(e,t){if(D)return K(18,1,e,t);e>>>=0,t>>>=0;var n=0;return fn().forEach((s,m)=>{var g=t+n;for(m=h()[e+4*m>>>2>>>0]=g,g=0;g<s.length;++g)r()[m++>>>0>>>0]=s.charCodeAt(g);r()[m>>>0>>>0]=0,n+=s.length+1}),0}function cn(e,t){if(D)return K(19,1,e,t);e>>>=0,t>>>=0;var n=fn();h()[e>>>2>>>0]=n.length;var s=0;return n.forEach(m=>s+=m.length+1),h()[t>>>2>>>0]=s,0}function dn(e){return D?K(20,1,e):52}function pn(e,t,n,s){return D?K(21,1,e,t,n,s):52}function mn(e,t,n,s){return D?K(22,1,e,t,n,s):70}var uo=[null,[],[]];function hn(e,t,n,s){if(D)return K(23,1,e,t,n,s);t>>>=0,n>>>=0,s>>>=0;for(var m=0,g=0;g<n;g++){var T=h()[t>>>2>>>0],S=h()[t+4>>>2>>>0];t+=8;for(var k=0;k<S;k++){var W=c()[T+k>>>0],ee=uo[e];W===0||W===10?((e===1?qe:se)(bt(ee,0)),ee.length=0):ee.push(W)}m+=S}return h()[s>>>2>>>0]=m,0}var gn=[31,29,31,30,31,30,31,31,30,31,30,31],yn=[31,28,31,30,31,30,31,31,30,31,30,31];function fo(e){var t=Array(fe(e)+1);return vt(e,t,0,t.length),t}var lo=(e,t)=>{r().set(e,t>>>0)};function bn(e,t,n,s){function m(y,$,te){for(y=typeof y=="number"?y.toString():y||"";y.length<$;)y=te[0]+y;return y}function g(y,$){return m(y,$,"0")}function T(y,$){function te(Sn){return 0>Sn?-1:0<Sn?1:0}var Qe;return(Qe=te(y.getFullYear()-$.getFullYear()))===0&&(Qe=te(y.getMonth()-$.getMonth()))===0&&(Qe=te(y.getDate()-$.getDate())),Qe}function S(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function k(y){var $=y.ob;for(y=new Date(new Date(y.pb+1900,0,1).getTime());0<$;){var te=y.getMonth(),Qe=(ct(y.getFullYear())?gn:yn)[te];if($>Qe-y.getDate())$-=Qe-y.getDate()+1,y.setDate(1),11>te?y.setMonth(te+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+$);break}}return te=new Date(y.getFullYear()+1,0,4),$=S(new Date(y.getFullYear(),0,4)),te=S(te),0>=T($,y)?0>=T(te,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,s>>>=0;var W=h()[s+40>>>2>>>0];s={Qb:l()[s>>>2>>>0],Pb:l()[s+4>>>2>>>0],tb:l()[s+8>>>2>>>0],yb:l()[s+12>>>2>>>0],ub:l()[s+16>>>2>>>0],pb:l()[s+20>>>2>>>0],kb:l()[s+24>>>2>>>0],ob:l()[s+28>>>2>>>0],Wb:l()[s+32>>>2>>>0],Ob:l()[s+36>>>2>>>0],Rb:W?Ke(W):""},n=Ke(n),W={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ee in W)n=n.replace(new RegExp(ee,"g"),W[ee]);var Oe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),We="January February March April May June July August September October November December".split(" ");W={"%a":y=>Oe[y.kb].substring(0,3),"%A":y=>Oe[y.kb],"%b":y=>We[y.ub].substring(0,3),"%B":y=>We[y.ub],"%C":y=>g((y.pb+1900)/100|0,2),"%d":y=>g(y.yb,2),"%e":y=>m(y.yb,2," "),"%g":y=>k(y).toString().substring(2),"%G":y=>k(y),"%H":y=>g(y.tb,2),"%I":y=>(y=y.tb,y==0?y=12:12<y&&(y-=12),g(y,2)),"%j":y=>{for(var $=0,te=0;te<=y.ub-1;$+=(ct(y.pb+1900)?gn:yn)[te++]);return g(y.yb+$,3)},"%m":y=>g(y.ub+1,2),"%M":y=>g(y.Pb,2),"%n":()=>`
`,"%p":y=>0<=y.tb&&12>y.tb?"AM":"PM","%S":y=>g(y.Qb,2),"%t":()=>"	","%u":y=>y.kb||7,"%U":y=>g(Math.floor((y.ob+7-y.kb)/7),2),"%V":y=>{var $=Math.floor((y.ob+7-(y.kb+6)%7)/7);if(2>=(y.kb+371-y.ob-2)%7&&$++,$)$==53&&(te=(y.kb+371-y.ob)%7,te==4||te==3&&ct(y.pb)||($=1));else{$=52;var te=(y.kb+7-y.ob-1)%7;(te==4||te==5&&ct(y.pb%400-1))&&$++}return g($,2)},"%w":y=>y.kb,"%W":y=>g(Math.floor((y.ob+7-(y.kb+6)%7)/7),2),"%y":y=>(y.pb+1900).toString().substring(2),"%Y":y=>y.pb+1900,"%z":y=>{y=y.Ob;var $=0<=y;return y=Math.abs(y)/60,($?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Rb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0");for(ee in W)n.includes(ee)&&(n=n.replace(new RegExp(ee,"g"),W[ee](s)));return n=n.replace(/\0\0/g,"%"),ee=fo(n),ee.length>t?0:(lo(ee,e),ee.length-1)}F.vb();for(var wn=Array(256),xt=0;256>xt;++xt)wn[xt]=String.fromCharCode(xt);qr=wn,Ge=u.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},u.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Xr.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),Ee.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),Ee.sb=Ee.lb.length,u.count_emval_handles=()=>{for(var e=0,t=Ee.sb;t<Ee.lb.length;++t)Ee.lb[t]!==void 0&&++e;return e};var co=[wt,o,H,ye,de,b,z,X,Re,Ot,Nr,jr,$r,zr,Gr,Yr,on,sn,ln,cn,dn,pn,mn,hn],po={b:function(e,t,n){throw e>>>=0,new w(e).vb(t>>>0,n>>>0),M=e,I++,M},ea:function(e){On(e>>>0,!U,1,!x,131072,!1),F.Db()},D:function(e){e>>>=0,D?postMessage({cmd:"cleanupThread",thread:e}):((e=F.jb[e])||Ue(),F.Bb(e))},W:ue,y:ye,ka:de,S:b,U:z,L:X,ia:Re,ba:Ot,ha:Nr,F:jr,T:$r,Q:zr,ja:Gr,R:Yr,I:function(e,t,n,s,m){e>>>=0,t>>>=0,n>>>=0,t=Me(t);var g=t.indexOf("u")!=-1;g&&(m=(1n<<64n)-1n),ke(e,{name:t,fromWireType:T=>T,toWireType:function(T,S){if(typeof S!="bigint"&&typeof S!="number")throw new TypeError(`Cannot convert "${Vr(S)}" to ${this.name}`);if(S<s||S>m)throw new TypeError(`Passing a number "${Vr(S)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${s}, ${m}]!`);return S},argPackAdvance:8,readValueFromPointer:Jr(t,n,!g),rb:null})},qa:function(e,t,n,s){e>>>=0,t=Me(t>>>0),ke(e,{name:t,fromWireType:function(m){return!!m},toWireType:function(m,g){return g?n:s},argPackAdvance:8,readValueFromPointer:function(m){return this.fromWireType(c()[m>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=Me(t>>>0),ke(e,{name:t,fromWireType:n=>{var s=we(n);return tr(n),s},toWireType:(n,s)=>Ae(s),argPackAdvance:8,readValueFromPointer:Kr,rb:null})},H:function(e,t,n){e>>>=0,n>>>=0,t=Me(t>>>0),ke(e,{name:t,fromWireType:s=>s,toWireType:(s,m)=>m,argPackAdvance:8,readValueFromPointer:Ya(t,n),rb:null})},t:function(e,t,n,s,m){if(e>>>=0,n>>>=0,t=Me(t>>>0),m===-1&&(m=4294967295),m=S=>S,s===0){var g=32-8*n;m=S=>S<<g>>>g}var T=t.includes("unsigned")?function(S,k){return k>>>0}:function(S,k){return k};ke(e,{name:t,fromWireType:m,toWireType:T,argPackAdvance:8,readValueFromPointer:Jr(t,n,s!==0),rb:null})},m:function(e,t,n){function s(g){var T=h()[g>>>2>>>0];return g=h()[g+4>>>2>>>0],new m(r().buffer,g,T)}e>>>=0;var m=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];n=Me(n>>>0),ke(e,{name:n,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{Hb:!0})},J:function(e,t){e>>>=0,t=Me(t>>>0);var n=t==="std::string";ke(e,{name:t,fromWireType:function(s){var m=h()[s>>>2>>>0],g=s+4;if(n)for(var T=g,S=0;S<=m;++S){var k=g+S;if(S==m||c()[k>>>0]==0){if(T=Ke(T,k-T),W===void 0)var W=T;else W+=String.fromCharCode(0),W+=T;T=k+1}}else{for(W=Array(m),S=0;S<m;++S)W[S]=String.fromCharCode(c()[g+S>>>0]);W=W.join("")}return Le(s),W},toWireType:function(s,m){m instanceof ArrayBuffer&&(m=new Uint8Array(m));var g=typeof m=="string";if(!(g||m instanceof Uint8Array||m instanceof Uint8ClampedArray||m instanceof Int8Array))throw new Ge("Cannot pass non-string to std::string");var T=n&&g?fe(m):m.length,S=Bt(4+T+1),k=S+4;if(h()[S>>>2>>>0]=T,n&&g)lt(m,k,T+1);else if(g)for(g=0;g<T;++g){var W=m.charCodeAt(g);if(255<W)throw Le(k),new Ge("String has UTF-16 code units that do not fit in 8 bits");c()[k+g>>>0]=W}else for(g=0;g<T;++g)c()[k+g>>>0]=m[g];return s!==null&&s.push(Le,S),S},argPackAdvance:8,readValueFromPointer:Va,rb(s){Le(s)}})},A:function(e,t,n){if(e>>>=0,t>>>=0,n>>>=0,n=Me(n),t===2)var s=qa,m=Ja,g=Xa,T=()=>O(),S=1;else t===4&&(s=Ka,m=Za,g=Qa,T=()=>h(),S=2);ke(e,{name:n,fromWireType:k=>{for(var W=h()[k>>>2>>>0],ee=T(),Oe,We=k+4,y=0;y<=W;++y){var $=k+4+y*t;(y==W||ee[$>>>S]==0)&&(We=s(We,$-We),Oe===void 0?Oe=We:(Oe+=String.fromCharCode(0),Oe+=We),We=$+t)}return Le(k),Oe},toWireType:(k,W)=>{if(typeof W!="string")throw new Ge(`Cannot pass non-string to C++ string type ${n}`);var ee=g(W),Oe=Bt(4+ee+t);return h()[Oe>>>2]=ee>>S,m(W,Oe+4,ee+t),k!==null&&k.push(Le,Oe),Oe},argPackAdvance:8,readValueFromPointer:Kr,rb(k){Le(k)}})},ra:function(e,t){e>>>=0,t=Me(t>>>0),ke(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>Pt()):D?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,t,n,s){t>>>=0,n/=2,nr.length=n,s=s>>>0>>>3;for(var m=0;m<n;m++)nr[m]=he[s+2*m]?he[s+2*m+1]:v()[s+2*m+1>>>0];return e=co[e],F.Gb=t,t=e.apply(null,nr),F.Gb=0,t},da:rr,ma:function(e){N&&F.jb[e>>>0].ref()},r:function(e,t,n){t>>>=0,n>>>=0,e=we(e>>>0),t=Dt(t,"emval::as");var s=[],m=Ae(s);return h()[n>>>2>>>0]=m,t.toWireType(s,e)},i:function(e,t,n,s,m){n>>>=0,s>>>=0,m>>>=0,e=Rt[e>>>0],t=we(t>>>0),n=It(n);var g=[];return h()[s>>>2>>>0]=Ae(g),e(t,n,g,m)},u:function(e,t,n,s){n>>>=0,s>>>=0,e=Rt[e>>>0],t=we(t>>>0),n=It(n),e(t,n,null,s)},c:tr,K:function(e,t){return t>>>=0,e=we(e>>>0),t=we(t),e==t},o:function(e){return e>>>=0,e===0?Ae(Qr()):(e=It(e),Ae(Qr()[e]))},h:function(e,t){var n=ao(e,t>>>0),s=n[0];t=s.name+"_$"+n.slice(1).map(function(ee){return ee.name}).join("_")+"$";var m=tn[t];if(m!==void 0)return m;m=["retType"];for(var g=[s],T="",S=0;S<e-1;++S)T+=(S!==0?", ":"")+"arg"+S,m.push("argType"+S),g.push(n[1+S]);var k="return function "+en("methodCaller_"+t)+`(handle, name, destructors, args) {
`,W=0;for(S=0;S<e-1;++S)k+="    var arg"+S+" = argType"+S+".readValueFromPointer(args"+(W?"+"+W:"")+`);
`,W+=n[S+1].argPackAdvance;for(k+="    var rv = handle[name]("+T+`);
`,S=0;S<e-1;++S)n[S+1].deleteObject&&(k+="    argType"+S+".deleteObject(arg"+S+`);
`);return s.Ib||(k+=`    return retType.toWireType(destructors, rv);
`),m.push(k+`};
`),e=io(m).apply(null,g),m=no(e),tn[t]=m},q:function(e,t){return t>>>=0,e=we(e>>>0),t=we(t),Ae(e[t])},d:function(e){e>>>=0,4<e&&(Ee.get(e).Ab+=1)},x:function(e,t,n,s){n>>>=0,s>>>=0,e=we(e>>>0);var m=rn[t];return m||(m=so(t),rn[t]=m),m(e,n,s)},v:function(){return Ae([])},l:function(e){e=we(e>>>0);for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return Ae(t)},e:function(e){return Ae(It(e>>>0))},k:function(){return Ae({})},g:function(e){e>>>=0;for(var t=we(e);t.length;){var n=t.pop();t.pop()(n)}tr(e)},j:function(e,t,n){t>>>=0,n>>>=0,e=we(e>>>0),t=we(t),n=we(n),e[t]=n},f:function(e,t){return t>>>=0,e=Dt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Ae(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),l()[t>>>2>>>0]=e.getUTCSeconds(),l()[t+4>>>2>>>0]=e.getUTCMinutes(),l()[t+8>>>2>>>0]=e.getUTCHours(),l()[t+12>>>2>>>0]=e.getUTCDate(),l()[t+16>>>2>>>0]=e.getUTCMonth(),l()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),l()[t>>>2>>>0]=e.getSeconds(),l()[t+4>>>2>>>0]=e.getMinutes(),l()[t+8>>>2>>>0]=e.getHours(),l()[t+12>>>2>>>0]=e.getDate(),l()[t+16>>>2>>>0]=e.getMonth(),l()[t+20>>>2>>>0]=e.getFullYear()-1900,l()[t+24>>>2>>>0]=e.getDay();var n=(ct(e.getFullYear())?nn:an)[e.getMonth()]+e.getDate()-1|0;l()[t+28>>>2>>>0]=n,l()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var s=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(n!=s&&e.getTimezoneOffset()==Math.min(s,n))|0,l()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],s=t.getTimezoneOffset(),m=new Date(t.getFullYear(),6,1).getTimezoneOffset(),g=new Date(t.getFullYear(),0,1).getTimezoneOffset(),T=Math.min(g,m);return 0>n?l()[e+32>>>2>>>0]=+(m!=g&&T==s):0<n!=(T==s)&&(m=Math.max(g,m),t.setTime(t.getTime()+6e4*((0<n?T:m)-s))),l()[e+24>>>2>>>0]=t.getDay(),n=(ct(t.getFullYear())?nn:an)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:on,Z:sn,N:function(e,t,n){function s(W){return(W=W.toTimeString().match(/\(([A-Za-z ]+)\)$/))?W[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var m=new Date().getFullYear(),g=new Date(m,0,1),T=new Date(m,6,1);m=g.getTimezoneOffset();var S=T.getTimezoneOffset(),k=Math.max(m,S);h()[e>>>2>>>0]=60*k,l()[t>>>2>>>0]=+(m!=S),e=s(g),t=s(T),e=un(e),t=un(t),S<m?(h()[n>>>2>>>0]=e,h()[n+4>>>2>>>0]=t):(h()[n>>>2>>>0]=t,h()[n+4>>>2>>>0]=e)},n:()=>{Ue("")},E:()=>{},G:()=>Date.now(),la:()=>{throw at+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>N?(ia(),et(oa)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=c().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var s=t*(1+.2/n);s=Math.min(s,e+100663296);var m=Math;s=Math.max(e,s);e:{m=(m.min.call(m,4294901760,s+(65536-s%65536)%65536)-q.buffer.byteLength+65535)/65536;try{q.grow(m),J();var g=1;break e}catch{}g=void 0}if(g)return!0}return!1},fa:ln,ga:cn,V:ft,z:dn,C:pn,ca:mn,B:hn,a:q||u.wasmMemory,oa:bn,p:function(e,t,n,s){return bn(e>>>0,t>>>0,n>>>0,s>>>0)}},B=function(){var e={a:po};return De++,Mt(e,function(t){var n=t.module;B=t.instance.exports,B=mo(),F.Eb.push(B.Xa),p=B._a,Be.unshift(B.sa),ve=n,ht()}).catch(A),{}}();u._OrtInit=(e,t)=>(u._OrtInit=B.ta)(e,t),u._OrtGetLastError=(e,t)=>(u._OrtGetLastError=B.ua)(e,t),u._OrtCreateSessionOptions=(e,t,n,s,m,g,T,S,k,W)=>(u._OrtCreateSessionOptions=B.va)(e,t,n,s,m,g,T,S,k,W),u._OrtAppendExecutionProvider=(e,t)=>(u._OrtAppendExecutionProvider=B.wa)(e,t),u._OrtAddFreeDimensionOverride=(e,t,n)=>(u._OrtAddFreeDimensionOverride=B.xa)(e,t,n),u._OrtAddSessionConfigEntry=(e,t,n)=>(u._OrtAddSessionConfigEntry=B.ya)(e,t,n),u._OrtReleaseSessionOptions=e=>(u._OrtReleaseSessionOptions=B.za)(e),u._OrtCreateSession=(e,t,n)=>(u._OrtCreateSession=B.Aa)(e,t,n),u._OrtReleaseSession=e=>(u._OrtReleaseSession=B.Ba)(e),u._OrtGetInputOutputCount=(e,t,n)=>(u._OrtGetInputOutputCount=B.Ca)(e,t,n),u._OrtGetInputName=(e,t)=>(u._OrtGetInputName=B.Da)(e,t),u._OrtGetOutputName=(e,t)=>(u._OrtGetOutputName=B.Ea)(e,t),u._OrtFree=e=>(u._OrtFree=B.Fa)(e),u._OrtCreateTensor=(e,t,n,s,m,g)=>(u._OrtCreateTensor=B.Ga)(e,t,n,s,m,g),u._OrtGetTensorData=(e,t,n,s,m)=>(u._OrtGetTensorData=B.Ha)(e,t,n,s,m),u._OrtReleaseTensor=e=>(u._OrtReleaseTensor=B.Ia)(e),u._OrtCreateRunOptions=(e,t,n,s)=>(u._OrtCreateRunOptions=B.Ja)(e,t,n,s),u._OrtAddRunConfigEntry=(e,t,n)=>(u._OrtAddRunConfigEntry=B.Ka)(e,t,n),u._OrtReleaseRunOptions=e=>(u._OrtReleaseRunOptions=B.La)(e),u._OrtCreateBinding=e=>(u._OrtCreateBinding=B.Ma)(e),u._OrtBindInput=(e,t,n)=>(u._OrtBindInput=B.Na)(e,t,n),u._OrtBindOutput=(e,t,n,s)=>(u._OrtBindOutput=B.Oa)(e,t,n,s),u._OrtClearBoundOutputs=e=>(u._OrtClearBoundOutputs=B.Pa)(e),u._OrtReleaseBinding=e=>(u._OrtReleaseBinding=B.Qa)(e),u._OrtRunWithBinding=(e,t,n,s,m)=>(u._OrtRunWithBinding=B.Ra)(e,t,n,s,m),u._OrtRun=(e,t,n,s,m,g,T,S)=>(u._OrtRun=B.Sa)(e,t,n,s,m,g,T,S),u._OrtEndProfiling=e=>(u._OrtEndProfiling=B.Ta)(e);var Ft=u._pthread_self=()=>(Ft=u._pthread_self=B.Ua)(),Bt=u._malloc=e=>(Bt=u._malloc=B.Va)(e),Le=u._free=e=>(Le=u._free=B.Wa)(e);u.__emscripten_tls_init=()=>(u.__emscripten_tls_init=B.Xa)();var vn=e=>(vn=B.Ya)(e);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=B.Za)();var On=u.__emscripten_thread_init=(e,t,n,s,m,g)=>(On=u.__emscripten_thread_init=B.$a)(e,t,n,s,m,g);u.__emscripten_thread_crashed=()=>(u.__emscripten_thread_crashed=B.ab)();var _n=(e,t,n,s)=>(_n=B.bb)(e,t,n,s),ir=e=>(ir=B.cb)(e),sr=u.__emscripten_thread_exit=e=>(sr=u.__emscripten_thread_exit=B.db)(e),Tn=u.__emscripten_check_mailbox=()=>(Tn=u.__emscripten_check_mailbox=B.eb)(),En=(e,t)=>(En=B.fb)(e,t),ur=()=>(ur=B.gb)(),Ut=e=>(Ut=B.hb)(e),fr=e=>(fr=B.ib)(e);function mo(){var e=B;e=Object.assign({},e);var t=s=>()=>s()>>>0,n=s=>m=>s(m)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=n(e.Va),e.Ya=n(e.Ya),e.gb=t(e.gb),e.ib=n(e.ib),e}u.keepRuntimeAlive=je,u.wasmMemory=q,u.stackAlloc=fr,u.stackSave=ur,u.stackRestore=Ut,u.UTF8ToString=Ke,u.stringToUTF8=lt,u.lengthBytesUTF8=fe,u.ExitStatus=st,u.PThread=F;var kt;$e=function e(){kt||An(),kt||($e=e)};function An(){0<De||(D?(_(u),D||Ze(Be),startWorker(u)):(Ze(Ne),0<De||kt||(kt=!0,u.calledRun=!0,pe||(D||Ze(Be),_(u),D||Ze(nt)))))}return An(),i.ready}})();typeof ua=="object"&&typeof vr=="object"?vr.exports=sa:typeof define=="function"&&define.amd&&define([],()=>sa)});var la=dt((Ri,Eo)=>{Eo.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var da,Ao,Or,_r,$t,ca,So,Mo,Co,pa,ae,mt=G(()=>{"use strict";da=ra();Ao=fa(),_r=!1,$t=!1,ca=!1,So=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Mo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Co=(a,i)=>a?"ort-training-wasm-simd.wasm":i?"ort-wasm-threaded.wasm":"ort-wasm.wasm",pa=async a=>{if(_r)return Promise.resolve();if($t)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(ca)throw new Error("previous call to 'initializeWebAssembly()' failed.");$t=!0;let i=a.initTimeout,r=a.numThreads,c=a.simd,d=r>1&&So(),O=c&&Mo(),l=a.wasmPaths,h=typeof l=="string"?l:void 0,v=Co(O,d),u=typeof l=="object"?l[v]:void 0,_=!1,A=[];if(i>0&&A.push(new Promise(E=>{setTimeout(()=>{_=!0,E()},i)})),A.push(new Promise((E,C)=>{let L=d?Ao:da,x={locateFile:(U,N)=>d&&U.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([la()],{type:"text/javascript"})):U.endsWith(".wasm")?u||(h??N)+v:N+U};if(d)if(typeof Blob>"u")x.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let U=`var ortWasmThreaded=${L.toString()};`;x.mainScriptUrlOrBlob=new Blob([U],{type:"text/javascript"})}L(x).then(U=>{$t=!1,_r=!0,Or=U,E()},U=>{$t=!1,ca=!0,C(U)})})),await Promise.race(A),_)throw new Error(`WebAssembly backend initializing failed due to timeout: ${i}ms`)},ae=()=>{if(_r&&Or)return Or;throw new Error("WebAssembly is not initialized yet.")}});var oe,At,re,zt=G(()=>{"use strict";mt();oe=(a,i)=>{let r=ae(),c=r.lengthBytesUTF8(a)+1,d=r._malloc(c);return r.stringToUTF8(a,d,c),i.push(d),d},At=(a,i,r,c)=>{if(typeof a=="object"&&a!==null){if(r.has(a))throw new Error("Circular reference in options");r.add(a)}Object.entries(a).forEach(([d,O])=>{let l=i?i+d:d;if(typeof O=="object")At(O,l+".",r,c);else if(typeof O=="string"||typeof O=="number")c(l,O.toString());else if(typeof O=="boolean")c(l,O?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof O}`)})},re=a=>{let i=ae(),r=i.stackSave();try{let c=i.stackAlloc(8);i._OrtGetLastError(c,c+4);let d=i.HEAP32[c/4],O=i.HEAPU32[c/4+1],l=O?i.UTF8ToString(O):"";throw new Error(`${a} ERROR_CODE: ${d}, ERROR_MESSAGE: ${l}`)}finally{i.stackRestore(r)}}});var ma,ha=G(()=>{"use strict";mt();zt();ma=a=>{let i=ae(),r=0,c=[],d=a||{};try{if(a?.logSeverityLevel===void 0)d.logSeverityLevel=2;else if(typeof a.logSeverityLevel!="number"||!Number.isInteger(a.logSeverityLevel)||a.logSeverityLevel<0||a.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${a.logSeverityLevel}`);if(a?.logVerbosityLevel===void 0)d.logVerbosityLevel=0;else if(typeof a.logVerbosityLevel!="number"||!Number.isInteger(a.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${a.logVerbosityLevel}`);a?.terminate===void 0&&(d.terminate=!1);let O=0;return a?.tag!==void 0&&(O=oe(a.tag,c)),r=i._OrtCreateRunOptions(d.logSeverityLevel,d.logVerbosityLevel,!!d.terminate,O),r===0&&re("Can't create run options."),a?.extra!==void 0&&At(a.extra,"",new WeakSet,(l,h)=>{let v=oe(l,c),u=oe(h,c);i._OrtAddRunConfigEntry(r,v,u)!==0&&re(`Can't set a run config entry: ${l} - ${h}.`)}),[r,c]}catch(O){throw r!==0&&i._OrtReleaseRunOptions(r),c.forEach(l=>i._free(l)),O}}});var Po,Do,Io,Ro,ga,ya=G(()=>{"use strict";mt();zt();Po=a=>{switch(a){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${a}`)}},Do=a=>{switch(a){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${a}`)}},Io=a=>{a.extra||(a.extra={}),a.extra.session||(a.extra.session={});let i=a.extra.session;i.use_ort_model_bytes_directly||(i.use_ort_model_bytes_directly="1"),a.executionProviders&&a.executionProviders.some(r=>(typeof r=="string"?r:r.name)==="webgpu")&&(a.enableMemPattern=!1)},Ro=(a,i,r)=>{for(let c of i){let d=typeof c=="string"?c:c.name;switch(d){case"xnnpack":d="XNNPACK";break;case"webnn":if(d="WEBNN",typeof c!="string"){let l=c;if(l?.deviceType){let h=oe("deviceType",r),v=oe(l.deviceType,r);ae()._OrtAddSessionConfigEntry(a,h,v)!==0&&re(`Can't set a session config entry: 'deviceType' - ${l.deviceType}.`)}if(l?.numThreads){let h=l.numThreads;(typeof h!="number"||!Number.isInteger(h)||h<0)&&(h=0);let v=oe("numThreads",r),u=oe(h.toString(),r);ae()._OrtAddSessionConfigEntry(a,v,u)!==0&&re(`Can't set a session config entry: 'numThreads' - ${l.numThreads}.`)}if(l?.powerPreference){let h=oe("powerPreference",r),v=oe(l.powerPreference,r);ae()._OrtAddSessionConfigEntry(a,h,v)!==0&&re(`Can't set a session config entry: 'powerPreference' - ${l.powerPreference}.`)}}break;case"webgpu":if(d="JS",typeof c!="string"){let l=c;if(l?.preferredLayout){if(l.preferredLayout!=="NCHW"&&l.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${l.preferredLayout}`);let h=oe("preferredLayout",r),v=oe(l.preferredLayout,r);ae()._OrtAddSessionConfigEntry(a,h,v)!==0&&re(`Can't set a session config entry: 'preferredLayout' - ${l.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${d}`)}let O=oe(d,r);ae()._OrtAppendExecutionProvider(a,O)!==0&&re(`Can't append execution provider: ${d}.`)}},ga=a=>{let i=ae(),r=0,c=[],d=a||{};Io(d);try{let O=Po(d.graphOptimizationLevel??"all"),l=Do(d.executionMode??"sequential"),h=typeof d.logId=="string"?oe(d.logId,c):0,v=d.logSeverityLevel??2;if(!Number.isInteger(v)||v<0||v>4)throw new Error(`log serverity level is not valid: ${v}`);let u=d.logVerbosityLevel??0;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log verbosity level is not valid: ${u}`);let _=typeof d.optimizedModelFilePath=="string"?oe(d.optimizedModelFilePath,c):0;if(r=i._OrtCreateSessionOptions(O,!!d.enableCpuMemArena,!!d.enableMemPattern,l,!!d.enableProfiling,0,h,v,u,_),r===0&&re("Can't create session options."),d.executionProviders&&Ro(r,d.executionProviders,c),d.freeDimensionOverrides)for(let[A,E]of Object.entries(d.freeDimensionOverrides)){if(typeof A!="string")throw new Error(`free dimension override name must be a string: ${A}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let C=oe(A,c);i._OrtAddFreeDimensionOverride(r,C,E)!==0&&re(`Can't set a free dimension override: ${A} - ${E}.`)}return d.extra!==void 0&&At(d.extra,"",new WeakSet,(A,E)=>{let C=oe(A,c),L=oe(E,c);i._OrtAddSessionConfigEntry(r,C,L)!==0&&re(`Can't set a session config entry: ${A} - ${E}.`)}),[r,c]}catch(O){throw r!==0&&i._OrtReleaseSessionOptions(r),c.forEach(l=>i._free(l)),O}}});var Tr,ba,Er,wa,va,Gt,Oa,Ar=G(()=>{"use strict";Tr=a=>{switch(a){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${a}`)}},ba=a=>{switch(a){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${a}`)}},Er=a=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][a],wa=a=>{switch(a){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${a}`)}},va=a=>{switch(a){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${a}`)}},Gt=a=>a==="float32"||a==="int32"||a==="int64"||a==="bool"||a==="float16"||a==="uint32",Oa=a=>{switch(a){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${a}`)}}});var xo,Fo,Ta,St,Sr,Mr,Ea,Aa,_a,Sa,Ma,Ca,Pa=G(()=>{"use strict";ha();ya();Ar();mt();zt();xo=a=>{let i=ae(),r=i.stackSave();try{let c=i.stackAlloc(8);return i._OrtGetInputOutputCount(a,c,c+4)!==0&&re("Can't get session input/output count."),[i.HEAP32[c/4],i.HEAP32[c/4+1]]}finally{i.stackRestore(r)}},Fo=(a,i)=>{ae()._OrtInit(a,i)!==0&&re("Can't initialize onnxruntime.")},Ta=async a=>{Fo(a.wasm.numThreads,va(a.logLevel))},St=new Map,Sr=a=>{let i=ae(),r=i._malloc(a.byteLength);if(r===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${a.byteLength}.`);return i.HEAPU8.set(a,r),[r,a.byteLength]},Mr=(a,i)=>{let r=ae(),c=0,d=0,O=0,l=[],h=[],v=[];try{[d,l]=ga(i),c=r._OrtCreateSession(a[0],a[1],d),c===0&&re("Can't create a session.");let[u,_]=xo(c),A=[],E=[],C=[];for(let x=0;x<u;x++){let U=r._OrtGetInputName(c,x);U===0&&re("Can't get an input name."),h.push(U),A.push(r.UTF8ToString(U))}for(let x=0;x<_;x++){let U=r._OrtGetOutputName(c,x);U===0&&re("Can't get an output name."),v.push(U);let N=r.UTF8ToString(U);E.push(N)}let L=null;return St.set(c,[c,h,v,L]),[c,A,E]}catch(u){throw h.forEach(_=>r._OrtFree(_)),v.forEach(_=>r._OrtFree(_)),O!==0&&r._OrtReleaseBinding(O),c!==0&&r._OrtReleaseSession(c),u}finally{r._free(a[0]),d!==0&&r._OrtReleaseSessionOptions(d),l.forEach(u=>r._free(u))}},Ea=(a,i)=>{let r=Sr(a);return Mr(r,i)},Aa=a=>{let i=ae(),r=St.get(a);if(!r)throw new Error(`cannot release session. invalid session id: ${a}`);let[c,d,O,l]=r;l&&i._OrtReleaseBinding(l.handle),i.jsepUnregisterBuffers?.(a),d.forEach(h=>i._OrtFree(h)),O.forEach(h=>i._OrtFree(h)),i._OrtReleaseSession(c),St.delete(a)},_a=(a,i,r,c,d)=>{if(!a){i.push(0);return}let O=ae(),l=a[0],h=a[1],v=a[3],u,_;if(l==="string"&&v==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(v==="gpu-buffer"){let C=a[2].gpuBuffer,L=Er(Tr(l));_=h.reduce((x,U)=>x*U,1)*L,u=O.jsepRegisterBuffer(c,d,C,_)}else{let C=a[2];if(Array.isArray(C)){_=4*C.length,u=O._malloc(_),r.push(u);let L=u/4;for(let x=0;x<C.length;x++){if(typeof C[x]!="string")throw new TypeError(`tensor data at index ${x} is not a string`);O.HEAPU32[L++]=oe(C[x],r)}}else _=C.byteLength,u=O._malloc(_),r.push(u),O.HEAPU8.set(new Uint8Array(C.buffer,C.byteOffset,_),u)}let A=O.stackSave(),E=O.stackAlloc(4*h.length);try{let C=E/4;h.forEach(x=>O.HEAP32[C++]=x);let L=O._OrtCreateTensor(Tr(l),u,_,E,h.length,Oa(v));L===0&&re(`Can't create tensor for input/output. session=${c}, index=${d}.`),i.push(L)}finally{O.stackRestore(A)}},Sa=async(a,i,r,c,d,O)=>{let l=ae(),h=St.get(a);if(!h)throw new Error(`cannot run inference. invalid session id: ${a}`);let[v,u,_,A]=h,E=i.length,C=c.length,L=0,x=[],U=[],N=[],D=[],V=l.stackSave(),le=l.stackAlloc(E*4),P=l.stackAlloc(E*4),Se=l.stackAlloc(C*4),Te=l.stackAlloc(C*4);try{[L,x]=ma(O);for(let j=0;j<E;j++)_a(r[j],U,D,a,i[j]);for(let j=0;j<C;j++)_a(d[j],N,D,a,E+c[j]);let Q=le/4,R=P/4,ie=Se/4,Ve=Te/4;for(let j=0;j<E;j++)l.HEAPU32[Q++]=U[j],l.HEAPU32[R++]=u[i[j]];for(let j=0;j<C;j++)l.HEAPU32[ie++]=N[j],l.HEAPU32[Ve++]=_[c[j]];let qe;qe=await l._OrtRun(v,P,le,E,Te,C,Se,L),qe!==0&&re("failed to call OrtRun().");let se=[];for(let j=0;j<C;j++){let q=l.HEAPU32[Se/4+j];if(q===N[j]){se.push(d[j]);continue}let ve=l.stackSave(),pe=l.stackAlloc(4*4),ce=!1,Y,me=0;try{l._OrtGetTensorData(q,pe,pe+4,pe+8,pe+12)!==0&&re(`Can't access output tensor data on index ${j}.`);let Pe=pe/4,He=l.HEAPU32[Pe++];me=l.HEAPU32[Pe++];let Je=l.HEAPU32[Pe++],Xe=l.HEAPU32[Pe++],he=[];for(let J=0;J<Xe;J++)he.push(l.HEAPU32[Je/4+J]);l._OrtFree(Je);let ge=he.reduce((J,ne)=>J*ne,1);Y=ba(He);let Fe=A?.outputPreferredLocations[c[j]];if(Y==="string"){if(Fe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let J=[],ne=me/4;for(let Ne=0;Ne<ge;Ne++){let Be=l.HEAPU32[ne++],nt=Ne===ge-1?void 0:l.HEAPU32[ne]-Be;J.push(l.UTF8ToString(Be,nt))}se.push([Y,he,J,"cpu"])}else if(Fe==="gpu-buffer"&&ge>0){let J=l.jsepGetBuffer(me),ne=Er(He);if(ne===void 0||!Gt(Y))throw new Error(`Unsupported data type: ${Y}`);ce=!0,se.push([Y,he,{gpuBuffer:J,download:l.jsepCreateDownloader(J,ge*ne,Y),dispose:()=>{l._OrtReleaseTensor(q)}},"gpu-buffer"])}else{let J=wa(Y),ne=new J(ge);new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength).set(l.HEAPU8.subarray(me,me+ne.byteLength)),se.push([Y,he,ne,"cpu"])}}finally{l.stackRestore(ve),Y==="string"&&me&&l._free(me),ce||l._OrtReleaseTensor(q)}}return A&&l._OrtClearBoundOutputs(A.handle),se}finally{l.stackRestore(V),U.forEach(Q=>l._OrtReleaseTensor(Q)),N.forEach(Q=>l._OrtReleaseTensor(Q)),D.forEach(Q=>l._free(Q)),L!==0&&l._OrtReleaseRunOptions(L),x.forEach(Q=>l._free(Q))}},Ma=a=>{let i=ae(),r=St.get(a);if(!r)throw new Error("invalid session id");let c=r[0],d=i._OrtEndProfiling(c);d===0&&re("Can't get an profile file name."),i._OrtFree(d)},Ca=a=>{let i=[];for(let r of a){let c=r[2];!Array.isArray(c)&&"buffer"in c&&i.push(c.buffer)}return i}});var Da=dt((Ji,Uo)=>{Uo.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Lt=Object.defineProperty;var kn=Object.getOwnPropertyDescriptor;var Ln=Object.getOwnPropertyNames;var Hn=Object.prototype.hasOwnProperty;var Ht=(f,p)=>()=>(f&&(p=f(f=0)),p);var ct=(f,p)=>()=>(p||f((p={exports:{}}).exports,p),p.exports),Nt=(f,p)=>{for(var o in p)Lt(f,o,{get:p[o],enumerable:!0})},Nn=(f,p,o,y)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of Ln(p))!Hn.call(f,b)&&b!==o&&Lt(f,b,{get:()=>p[b],enumerable:!(y=kn(p,b))||y.enumerable});return f};var lt=f=>Nn(Lt({},"__esModule",{value:!0}),f);var jt={};Nt(jt,{readFile:()=>jn});var jn,$t=Ht(()=>{jn=void 0});var zt={};Nt(zt,{join:()=>$n});var $n,Gt=Ht(()=>{$n=void 0});var Nr=ct((Hr,Yt)=>{"use strict";var Lr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(p={}){var o=p,y,b;o.ready=new Promise((n,i)=>{y=n,b=i});var A=Object.assign({},o),l="./this.program",_=typeof window=="object",I=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",j,U,W;if(c){var G=($t(),lt(jt)),B=(Gt(),lt(zt));x=I?B.dirname(x)+"/":__dirname+"/",j=(n,i)=>(n=n.startsWith("file://")?new URL(n):B.normalize(n),G.readFileSync(n,i?void 0:"utf8")),W=n=>(n=j(n,!0),n.buffer||(n=new Uint8Array(n)),n),U=(n,i,s,h=!0)=>{n=n.startsWith("file://")?new URL(n):B.normalize(n),G.readFile(n,h?void 0:"utf8",(w,T)=>{w?s(w):i(h?T.buffer:T)})},!o.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(_||I)&&(I?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),f&&(x=f),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",j=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.send(null),i.responseText},I&&(W=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),U=(n,i,s)=>{var h=new XMLHttpRequest;h.open("GET",n,!0),h.responseType="arraybuffer",h.onload=()=>{h.status==200||h.status==0&&h.response?i(h.response):s()},h.onerror=s,h.send(null)});var L=o.print||console.log.bind(console),$=o.printErr||console.error.bind(console);Object.assign(o,A),A=null,o.thisProgram&&(l=o.thisProgram);var D;o.wasmBinary&&(D=o.wasmBinary);var ce=o.noExitRuntime||!0;typeof WebAssembly!="object"&&z("no native wasm support detected");var Te,S,we=!1,ve,X,E,ne;function Ne(){var n=Te.buffer;o.HEAP8=ve=new Int8Array(n),o.HEAP16=new Int16Array(n),o.HEAP32=E=new Int32Array(n),o.HEAPU8=X=new Uint8Array(n),o.HEAPU16=new Uint16Array(n),o.HEAPU32=ne=new Uint32Array(n),o.HEAPF32=new Float32Array(n),o.HEAPF64=new Float64Array(n)}var je=[],oe=[],k=[];function Y(){var n=o.preRun.shift();je.unshift(n)}var he=0,fe=null,se=null;function z(n){throw o.onAbort&&o.onAbort(n),n="Aborted("+n+")",$(n),we=!0,n=new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info."),b(n),n}function le(n){return n.startsWith("data:application/octet-stream;base64,")}var Se;if(Se="ort-training-wasm-simd.wasm",!le(Se)){var Ee=Se;Se=o.locateFile?o.locateFile(Ee,x):x+Ee}function Ue(n){if(n==Se&&D)return new Uint8Array(D);if(W)return W(n);throw"both async and sync fetching of the wasm failed"}function $e(n){if(!D&&(_||I)){if(typeof fetch=="function"&&!n.startsWith("file://"))return fetch(n,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at \'"+n+"\'";return i.arrayBuffer()}).catch(()=>Ue(n));if(U)return new Promise((i,s)=>{U(n,h=>i(new Uint8Array(h)),s)})}return Promise.resolve().then(()=>Ue(n))}function ze(n,i,s){return $e(n).then(h=>WebAssembly.instantiate(h,i)).then(h=>h).then(s,h=>{$("failed to asynchronously prepare wasm: "+h),z(h)})}function de(n,i){var s=Se;return D||typeof WebAssembly.instantiateStreaming!="function"||le(s)||s.startsWith("file://")||c||typeof fetch!="function"?ze(s,n,i):fetch(s,{credentials:"same-origin"}).then(h=>WebAssembly.instantiateStreaming(h,n).then(i,function(w){return $("wasm streaming compile failed: "+w),$("falling back to ArrayBuffer instantiation"),ze(s,n,i)}))}var pe,De=n=>{for(;0<n.length;)n.shift()(o)};function V(n){this.Ha=n-24,this.La=function(i){ne[this.Ha+4>>2>>>0]=i},this.Ka=function(i){ne[this.Ha+8>>2>>>0]=i},this.Ia=function(i,s){this.Ja(),this.La(i),this.Ka(s)},this.Ja=function(){ne[this.Ha+16>>2>>>0]=0}}var ee=0,We=0,Fe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qe=(n,i,s)=>{i>>>=0;var h=i+s;for(s=i;n[s]&&!(s>=h);)++s;if(16<s-i&&n.buffer&&Fe)return Fe.decode(n.subarray(i,s));for(h="";i<s;){var w=n[i++];if(w&128){var T=n[i++]&63;if((w&224)==192)h+=String.fromCharCode((w&31)<<6|T);else{var R=n[i++]&63;w=(w&240)==224?(w&15)<<12|T<<6|R:(w&7)<<18|T<<12|R<<6|n[i++]&63,65536>w?h+=String.fromCharCode(w):(w-=65536,h+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else h+=String.fromCharCode(w)}return h},Je=(n,i)=>(n>>>=0)?qe(X,n,i):"",Be=n=>{for(var i=0,s=0;s<n.length;++s){var h=n.charCodeAt(s);127>=h?i++:2047>=h?i+=2:55296<=h&&57343>=h?(i+=4,++s):i+=3}return i},Ae=(n,i,s,h)=>{if(s>>>=0,!(0<h))return 0;var w=s;h=s+h-1;for(var T=0;T<n.length;++T){var R=n.charCodeAt(T);if(55296<=R&&57343>=R){var ae=n.charCodeAt(++T);R=65536+((R&1023)<<10)|ae&1023}if(127>=R){if(s>=h)break;i[s++>>>0]=R}else{if(2047>=R){if(s+1>=h)break;i[s++>>>0]=192|R>>6}else{if(65535>=R){if(s+2>=h)break;i[s++>>>0]=224|R>>12}else{if(s+3>=h)break;i[s++>>>0]=240|R>>18,i[s++>>>0]=128|R>>12&63}i[s++>>>0]=128|R>>6&63}i[s++>>>0]=128|R&63}}return i[s>>>0]=0,s-w},Me=n=>n%4===0&&(n%100!==0||n%400===0),ke=[0,31,60,91,121,152,182,213,244,274,305,335],nt=[0,31,59,90,120,151,181,212,243,273,304,334],Pe=n=>{var i=Be(n)+1,s=at(i);return s&&Ae(n,X,s,i),s},Xe={},Le=()=>{if(!Ke){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},i;for(i in Xe)Xe[i]===void 0?delete n[i]:n[i]=Xe[i];var s=[];for(i in n)s.push(`${i}=${n[i]}`);Ke=s}return Ke},Ke,At=[null,[],[]],ot=[31,29,31,30,31,30,31,31,30,31,30,31],mt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ze(n){var i=Array(Be(n)+1);return Ae(n,i,0,i.length),i}function Qe(n,i,s,h){function w(g,N,q){for(g=typeof g=="number"?g.toString():g||"";g.length<N;)g=q[0]+g;return g}function T(g,N){return w(g,N,"0")}function R(g,N){function q(ft){return 0>ft?-1:0<ft?1:0}var Ce;return(Ce=q(g.getFullYear()-N.getFullYear()))===0&&(Ce=q(g.getMonth()-N.getMonth()))===0&&(Ce=q(g.getDate()-N.getDate())),Ce}function ae(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function me(g){var N=g.Ca;for(g=new Date(new Date(g.Da+1900,0,1).getTime());0<N;){var q=g.getMonth(),Ce=(Me(g.getFullYear())?ot:mt)[q];if(N>Ce-g.getDate())N-=Ce-g.getDate()+1,g.setDate(1),11>q?g.setMonth(q+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+N);break}}return q=new Date(g.getFullYear()+1,0,4),N=ae(new Date(g.getFullYear(),0,4)),q=ae(q),0>=R(N,g)?0>=R(q,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}n>>>=0,i>>>=0,s>>>=0,h>>>=0;var ue=E[h+40>>2>>>0];h={Oa:E[h>>2>>>0],Na:E[h+4>>2>>>0],Ea:E[h+8>>2>>>0],Ga:E[h+12>>2>>>0],Fa:E[h+16>>2>>>0],Da:E[h+20>>2>>>0],xa:E[h+24>>2>>>0],Ca:E[h+28>>2>>>0],Qa:E[h+32>>2>>>0],Ma:E[h+36>>2>>>0],Pa:ue?Je(ue):""},s=Je(s),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in ue)s=s.replace(new RegExp(ie,"g"),ue[ie]);var ut="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),tt="January February March April May June July August September October November December".split(" ");ue={"%a":g=>ut[g.xa].substring(0,3),"%A":g=>ut[g.xa],"%b":g=>tt[g.Fa].substring(0,3),"%B":g=>tt[g.Fa],"%C":g=>T((g.Da+1900)/100|0,2),"%d":g=>T(g.Ga,2),"%e":g=>w(g.Ga,2," "),"%g":g=>me(g).toString().substring(2),"%G":g=>me(g),"%H":g=>T(g.Ea,2),"%I":g=>(g=g.Ea,g==0?g=12:12<g&&(g-=12),T(g,2)),"%j":g=>{for(var N=0,q=0;q<=g.Fa-1;N+=(Me(g.Da+1900)?ot:mt)[q++]);return T(g.Ga+N,3)},"%m":g=>T(g.Fa+1,2),"%M":g=>T(g.Na,2),"%n":()=>`\n`,"%p":g=>0<=g.Ea&&12>g.Ea?"AM":"PM","%S":g=>T(g.Oa,2),"%t":()=>"	","%u":g=>g.xa||7,"%U":g=>T(Math.floor((g.Ca+7-g.xa)/7),2),"%V":g=>{var N=Math.floor((g.Ca+7-(g.xa+6)%7)/7);if(2>=(g.xa+371-g.Ca-2)%7&&N++,N)N==53&&(q=(g.xa+371-g.Ca)%7,q==4||q==3&&Me(g.Da)||(N=1));else{N=52;var q=(g.xa+7-g.Ca-1)%7;(q==4||q==5&&Me(g.Da%400-1))&&N++}return T(N,2)},"%w":g=>g.xa,"%W":g=>T(Math.floor((g.Ca+7-(g.xa+6)%7)/7),2),"%y":g=>(g.Da+1900).toString().substring(2),"%Y":g=>g.Da+1900,"%z":g=>{g=g.Ma;var N=0<=g;return g=Math.abs(g)/60,(N?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.Pa,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ie in ue)s.includes(ie)&&(s=s.replace(new RegExp(ie,"g"),ue[ie](h)));return s=s.replace(/\\0\\0/g,"%"),ie=Ze(s),ie.length>i?0:(ve.set(ie,n>>>0),ie.length-1)}var gt={a:function(n,i,s){throw n>>>=0,new V(n).Ia(i>>>0,s>>>0),ee=n,We++,ee},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),E[s>>2>>>0]=n.getUTCSeconds(),E[s+4>>2>>>0]=n.getUTCMinutes(),E[s+8>>2>>>0]=n.getUTCHours(),E[s+12>>2>>>0]=n.getUTCDate(),E[s+16>>2>>>0]=n.getUTCMonth(),E[s+20>>2>>>0]=n.getUTCFullYear()-1900,E[s+24>>2>>>0]=n.getUTCDay(),E[s+28>>2>>>0]=(n.getTime()-Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(n,i,s){n=i+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*i:NaN,s>>>=0,n=new Date(1e3*n),E[s>>2>>>0]=n.getSeconds(),E[s+4>>2>>>0]=n.getMinutes(),E[s+8>>2>>>0]=n.getHours(),E[s+12>>2>>>0]=n.getDate(),E[s+16>>2>>>0]=n.getMonth(),E[s+20>>2>>>0]=n.getFullYear()-1900,E[s+24>>2>>>0]=n.getDay(),E[s+28>>2>>>0]=(Me(n.getFullYear())?ke:nt)[n.getMonth()]+n.getDate()-1|0,E[s+36>>2>>>0]=-(60*n.getTimezoneOffset()),i=new Date(n.getFullYear(),6,1).getTimezoneOffset();var h=new Date(n.getFullYear(),0,1).getTimezoneOffset();E[s+32>>2>>>0]=(i!=h&&n.getTimezoneOffset()==Math.min(h,i))|0},q:function(n){n>>>=0;var i=new Date(E[n+20>>2>>>0]+1900,E[n+16>>2>>>0],E[n+12>>2>>>0],E[n+8>>2>>>0],E[n+4>>2>>>0],E[n>>2>>>0],0),s=E[n+32>>2>>>0],h=i.getTimezoneOffset(),w=new Date(i.getFullYear(),6,1).getTimezoneOffset(),T=new Date(i.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(T,w);return 0>s?E[n+32>>2>>>0]=+(w!=T&&R==h):0<s!=(R==h)&&(w=Math.max(T,w),i.setTime(i.getTime()+6e4*((0<s?R:w)-h))),E[n+24>>2>>>0]=i.getDay(),E[n+28>>2>>>0]=(Me(i.getFullYear())?ke:nt)[i.getMonth()]+i.getDate()-1|0,E[n>>2>>>0]=i.getSeconds(),E[n+4>>2>>>0]=i.getMinutes(),E[n+8>>2>>>0]=i.getHours(),E[n+12>>2>>>0]=i.getDate(),E[n+16>>2>>>0]=i.getMonth(),E[n+20>>2>>>0]=i.getYear(),n=i.getTime()/1e3,it((pe=n,1<=+Math.abs(pe)?0<pe?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)),n>>>0},m:function(){return-52},n:function(){},t:function(n,i,s){function h(me){return(me=me.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?me[1]:"GMT"}s>>>=0;var w=new Date().getFullYear(),T=new Date(w,0,1),R=new Date(w,6,1);w=T.getTimezoneOffset();var ae=R.getTimezoneOffset();ne[n>>>0>>2>>>0]=60*Math.max(w,ae),E[i>>>0>>2>>>0]=+(w!=ae),n=h(T),i=h(R),n=Pe(n),i=Pe(i),ae<w?(ne[s>>2>>>0]=n,ne[s+4>>2>>>0]=i):(ne[s>>2>>>0]=i,ne[s+4>>2>>>0]=n)},d:()=>{z("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(n,i,s){return i>>>=0,X.copyWithin(n>>>0>>>0,i>>>0,i+(s>>>0)>>>0)},s:function(n){n>>>=0;var i=X.length;if(4294901760<n)return!1;for(var s=1;4>=s;s*=2){var h=i*(1+.2/s);h=Math.min(h,n+100663296);var w=Math;h=Math.max(n,h);e:{w=w.min.call(w,4294901760,h+(65536-h%65536)%65536)-Te.buffer.byteLength+65535>>>16;try{Te.grow(w),Ne();var T=1;break e}catch{}T=void 0}if(T)return!0}return!1},C:function(n,i){n>>>=0,i>>>=0;var s=0;return Le().forEach(function(h,w){var T=i+s;for(w=ne[n+4*w>>2>>>0]=T,T=0;T<h.length;++T)ve[w++>>0>>>0]=h.charCodeAt(T);ve[w>>0>>>0]=0,s+=h.length+1}),0},D:function(n,i){n>>>=0,i>>>=0;var s=Le();ne[n>>2>>>0]=s.length;var h=0;return s.forEach(function(w){h+=w.length+1}),ne[i>>2>>>0]=h,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(n,i,s,h){i>>>=0,s>>>=0,h>>>=0;for(var w=0,T=0;T<s;T++){var R=ne[i>>2>>>0],ae=ne[i+4>>2>>>0];i+=8;for(var me=0;me<ae;me++){var ue=X[R+me>>>0],ie=At[n];ue===0||ue===10?((n===1?L:$)(qe(ie,0)),ie.length=0):ie.push(ue)}w+=ae}return ne[h>>2>>>0]=w,0},A:Qe,c:function(n,i,s,h){return Qe(n>>>0,i>>>0,s>>>0,h>>>0)}};(function(){function n(s){if(s=s.exports,S=s=Mt(s),Te=S.J,Ne(),oe.unshift(S.K),he--,o.monitorRunDependencies&&o.monitorRunDependencies(he),he==0&&(fe!==null&&(clearInterval(fe),fe=null),se)){var h=se;se=null,h()}return s}var i={a:gt};if(he++,o.monitorRunDependencies&&o.monitorRunDependencies(he),o.instantiateWasm)try{return o.instantiateWasm(i,n)}catch(s){$("Module.instantiateWasm callback failed with error: "+s),b(s)}return de(i,function(s){n(s.instance)}).catch(b),{}})(),o._OrtInit=(n,i)=>(o._OrtInit=S.L)(n,i),o._OrtGetLastError=(n,i)=>(o._OrtGetLastError=S.M)(n,i),o._OrtCreateSessionOptions=(n,i,s,h,w,T,R,ae,me,ue)=>(o._OrtCreateSessionOptions=S.N)(n,i,s,h,w,T,R,ae,me,ue),o._OrtAppendExecutionProvider=(n,i)=>(o._OrtAppendExecutionProvider=S.O)(n,i),o._OrtAddFreeDimensionOverride=(n,i,s)=>(o._OrtAddFreeDimensionOverride=S.P)(n,i,s),o._OrtAddSessionConfigEntry=(n,i,s)=>(o._OrtAddSessionConfigEntry=S.Q)(n,i,s),o._OrtReleaseSessionOptions=n=>(o._OrtReleaseSessionOptions=S.R)(n),o._OrtCreateSession=(n,i,s)=>(o._OrtCreateSession=S.S)(n,i,s),o._OrtReleaseSession=n=>(o._OrtReleaseSession=S.T)(n),o._OrtGetInputOutputCount=(n,i,s)=>(o._OrtGetInputOutputCount=S.U)(n,i,s),o._OrtGetInputName=(n,i)=>(o._OrtGetInputName=S.V)(n,i),o._OrtGetOutputName=(n,i)=>(o._OrtGetOutputName=S.W)(n,i),o._OrtFree=n=>(o._OrtFree=S.X)(n),o._OrtCreateTensor=(n,i,s,h,w,T)=>(o._OrtCreateTensor=S.Y)(n,i,s,h,w,T),o._OrtGetTensorData=(n,i,s,h,w)=>(o._OrtGetTensorData=S.Z)(n,i,s,h,w),o._OrtReleaseTensor=n=>(o._OrtReleaseTensor=S._)(n),o._OrtCreateRunOptions=(n,i,s,h)=>(o._OrtCreateRunOptions=S.$)(n,i,s,h),o._OrtAddRunConfigEntry=(n,i,s)=>(o._OrtAddRunConfigEntry=S.aa)(n,i,s),o._OrtReleaseRunOptions=n=>(o._OrtReleaseRunOptions=S.ba)(n),o._OrtCreateBinding=n=>(o._OrtCreateBinding=S.ca)(n),o._OrtBindInput=(n,i,s)=>(o._OrtBindInput=S.da)(n,i,s),o._OrtBindOutput=(n,i,s,h)=>(o._OrtBindOutput=S.ea)(n,i,s,h),o._OrtClearBoundOutputs=n=>(o._OrtClearBoundOutputs=S.fa)(n),o._OrtReleaseBinding=n=>(o._OrtReleaseBinding=S.ga)(n),o._OrtRunWithBinding=(n,i,s,h,w)=>(o._OrtRunWithBinding=S.ha)(n,i,s,h,w),o._OrtRun=(n,i,s,h,w,T,R,ae)=>(o._OrtRun=S.ia)(n,i,s,h,w,T,R,ae),o._OrtEndProfiling=n=>(o._OrtEndProfiling=S.ja)(n),o._OrtTrainingLoadCheckpoint=(n,i)=>(o._OrtTrainingLoadCheckpoint=S.ka)(n,i),o._OrtTrainingReleaseCheckpoint=n=>(o._OrtTrainingReleaseCheckpoint=S.la)(n),o._OrtTrainingCreateSession=(n,i,s,h,w,T,R,ae)=>(o._OrtTrainingCreateSession=S.ma)(n,i,s,h,w,T,R,ae),o._OrtTrainingLazyResetGrad=n=>(o._OrtTrainingLazyResetGrad=S.na)(n),o._OrtTrainingRunTrainStep=(n,i,s,h,w,T)=>(o._OrtTrainingRunTrainStep=S.oa)(n,i,s,h,w,T),o._OrtTrainingOptimizerStep=(n,i)=>(o._OrtTrainingOptimizerStep=S.pa)(n,i),o._OrtTrainingEvalStep=(n,i,s,h,w,T)=>(o._OrtTrainingEvalStep=S.qa)(n,i,s,h,w,T),o._OrtTrainingGetParametersSize=(n,i,s)=>(o._OrtTrainingGetParametersSize=S.ra)(n,i,s),o._OrtTrainingCopyParametersToBuffer=(n,i,s,h)=>(o._OrtTrainingCopyParametersToBuffer=S.sa)(n,i,s,h),o._OrtTrainingCopyParametersFromBuffer=(n,i,s,h)=>(o._OrtTrainingCopyParametersFromBuffer=S.ta)(n,i,s,h),o._OrtTrainingReleaseSession=n=>(o._OrtTrainingReleaseSession=S.ua)(n);var at=o._malloc=n=>(at=o._malloc=S.va)(n);o._free=n=>(o._free=S.wa)(n);var it=n=>(it=S.ya)(n),Ge=()=>(Ge=S.za)(),st=n=>(st=S.Aa)(n),et=n=>(et=S.Ba)(n);function Mt(n){n=Object.assign({},n);var i=h=>()=>h()>>>0,s=h=>w=>h(w)>>>0;return n.__errno_location=i(n.__errno_location),n.malloc=s(n.malloc),n.stackSave=i(n.stackSave),n.stackAlloc=s(n.stackAlloc),n}o.stackAlloc=et,o.stackSave=Ge,o.stackRestore=st,o.UTF8ToString=Je,o.stringToUTF8=(n,i,s)=>Ae(n,X,i,s),o.lengthBytesUTF8=Be;var M;se=function n(){M||Ye(),M||(se=n)};function Ye(){function n(){if(!M&&(M=!0,o.calledRun=!0,!we)){if(De(oe),y(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var i=o.postRun.shift();k.unshift(i)}De(k)}}if(!(0<he)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Y();De(je),0<he||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),n()},1)):n())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Ye(),p.ready}})();typeof Hr=="object"&&typeof Yt=="object"?Yt.exports=Lr:typeof define=="function"&&define.amd&&define([],()=>Lr)});var jr=ct(()=>{});var $r=ct(()=>{});var zr={};Nt(zr,{cpus:()=>zn});var zn,Gr=Ht(()=>{zn=void 0});var qr=ct((Vr,Vt)=>{"use strict";var Yr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(p={}){function o(){return Y.buffer!=z.buffer&&V(),z}function y(){return Y.buffer!=z.buffer&&V(),le}function b(){return Y.buffer!=z.buffer&&V(),Se}function A(){return Y.buffer!=z.buffer&&V(),Ee}function l(){return Y.buffer!=z.buffer&&V(),Ue}function _(){return Y.buffer!=z.buffer&&V(),$e}function I(){return Y.buffer!=z.buffer&&V(),De}var c=p,x,j;c.ready=new Promise((e,t)=>{x=e,j=t});var U=Object.assign({},c),W="./this.program",G=(e,t)=>{throw t},B=typeof window=="object",L=typeof importScripts=="function",$=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D=c.ENVIRONMENT_IS_PTHREAD||!1,ce="";function Te(e){return c.locateFile?c.locateFile(e,ce):ce+e}var S,we,ve;if($){var X=($t(),lt(jt)),E=(Gt(),lt(zt));ce=L?E.dirname(ce)+"/":__dirname+"/",S=(t,r)=>(t=t.startsWith("file://")?new URL(t):E.normalize(t),X.readFileSync(t,r?void 0:"utf8")),ve=t=>(t=S(t,!0),t.buffer||(t=new Uint8Array(t)),t),we=(t,r,a,u=!0)=>{t=t.startsWith("file://")?new URL(t):E.normalize(t),X.readFile(t,u?void 0:"utf8",(d,v)=>{d?a(d):r(u?v.buffer:v)})},!c.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),G=(t,r)=>{throw process.exitCode=t,r},c.inspect=()=>"[Emscripten Module object]";let e;try{e=jr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(B||L)&&(L?ce=self.location.href:typeof document<"u"&&document.currentScript&&(ce=document.currentScript.src),typeof f<"u"&&f&&(ce=f),ce.indexOf("blob:")!==0?ce=ce.substr(0,ce.replace(/[?#].*/,"").lastIndexOf("/")+1):ce="",$||(S=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},L&&(ve=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),we=(e,t,r)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{a.status==200||a.status==0&&a.response?t(a.response):r()},a.onerror=r,a.send(null)}));$&&typeof performance>"u"&&(global.performance=$r().performance);var ne=console.log.bind(console),Ne=console.error.bind(console);$&&(ne=(...e)=>X.writeSync(1,e.join(" ")+`\n`),Ne=(...e)=>X.writeSync(2,e.join(" ")+`\n`));var je=ne,oe=Ne;Object.assign(c,U),U=null;var k=!0;typeof WebAssembly!="object"&&Pe("no native wasm support detected");var Y,he,fe=!1,se,z,le,Se,Ee,Ue,$e,ze,de,pe,De;function V(){var e=Y.buffer;c.HEAP8=z=new Int8Array(e),c.HEAP16=Se=new Int16Array(e),c.HEAPU8=le=new Uint8Array(e),c.HEAPU16=Ee=new Uint16Array(e),c.HEAP32=Ue=new Int32Array(e),c.HEAPU32=$e=new Uint32Array(e),c.HEAPF32=ze=new Float32Array(e),c.HEAPF64=De=new Float64Array(e),c.HEAP64=de=new BigInt64Array(e),c.HEAPU64=pe=new BigUint64Array(e)}var ee=16777216;if(5242880<=ee||Pe("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ee+"! (STACK_SIZE=5242880)"),D)Y=c.wasmMemory;else if(Y=new WebAssembly.Memory({initial:ee/65536,maximum:65536,shared:!0}),!(Y.buffer instanceof SharedArrayBuffer))throw oe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),$&&oe("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");V(),ee=Y.buffer.byteLength;var We=[],Fe=[],qe=[],Je=0;function Be(){return k||0<Je}var Ae=0,Me=null,ke=null;function nt(){if(Ae--,Ae==0&&(Me!==null&&(clearInterval(Me),Me=null),ke)){var e=ke;ke=null,e()}}function Pe(e){throw e="Aborted("+e+")",oe(e),fe=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),j(e),e}function Xe(e){return e.startsWith("data:application/octet-stream;base64,")}var Le;Le="ort-wasm-threaded.wasm",Xe(Le)||(Le=Te(Le));function Ke(e){if(ve)return ve(e);throw"both async and sync fetching of the wasm failed"}function At(e){if(B||L){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Ke(e));if(we)return new Promise((t,r)=>{we(e,a=>t(new Uint8Array(a)),r)})}return Promise.resolve().then(()=>Ke(e))}function ot(e,t,r){return At(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{oe(`failed to asynchronously prepare wasm: ${a}`),Pe(a)})}function mt(e,t){var r=Le;return typeof WebAssembly.instantiateStreaming!="function"||Xe(r)||r.startsWith("file://")||$||typeof fetch!="function"?ot(r,e,t):fetch(r,{credentials:"same-origin"}).then(a=>WebAssembly.instantiateStreaming(a,e).then(t,function(u){return oe(`wasm streaming compile failed: ${u}`),oe("falling back to ArrayBuffer instantiation"),ot(r,e,t)}))}function Ze(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Qe=e=>{e.terminate(),e.onmessage=()=>{}},gt=e=>{if(M.qb.length==0){var t=Te("ort-wasm-threaded.worker.js");t=new Worker(t),M.qb.push(t),M.Jb(M.qb[0])}if(t=M.qb.pop(),!t)return 6;M.nb.push(t),M.jb[e.mb]=t,t.mb=e.mb;var r={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return $&&t.unref(),t.postMessage(r,e.Sb),0},at=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,it=(e,t,r)=>{t>>>=0;var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.buffer&&at)return at.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(a="";t<r;){var u=e[t++];if(u&128){var d=e[t++]&63;if((u&224)==192)a+=String.fromCharCode((u&31)<<6|d);else{var v=e[t++]&63;u=(u&240)==224?(u&15)<<12|d<<6|v:(u&7)<<18|d<<12|v<<6|e[t++]&63,65536>u?a+=String.fromCharCode(u):(u-=65536,a+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else a+=String.fromCharCode(u)}return a},Ge=(e,t)=>(e>>>=0)?it(y(),e,t):"";function st(e){if(D)return J(0,1,e);se=e,Be()||(M.Nb(),fe=!0),G(e,new Ze(e))}var et=e=>{if(se=e,D)throw n(e),"unwind";st(e)};function Mt(){We.unshift(()=>{Ae++,nt()})}var M={qb:[],nb:[],Eb:[],jb:{},vb(){D?(M.receiveObjectTransfer=M.Lb,M.threadInitTLS=M.Db,M.setExitStatus=M.Cb,k=!1):Mt()},Cb:e=>{se=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of M.nb)Qe(e);for(e of M.qb)Qe(e);M.qb=[],M.nb=[],M.jb=[]},Bb:e=>{var t=e.mb;delete M.jb[t],M.qb.push(e),M.nb.splice(M.nb.indexOf(e),1),e.mb=0,Ut(t)},Lb(){},Db(){M.Eb.forEach(e=>e())},Jb:e=>new Promise(t=>{e.onmessage=d=>{d=d.data;var v=d.cmd;if(d.targetThread&&d.targetThread!=wt()){var O=M.jb[d.targetThread];O?O.postMessage(d,d.transferList):oe(`Internal error! Worker sent a message "${v}" to target pthread ${d.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ht():v==="spawnThread"?gt(d):v==="cleanupThread"?((d=M.jb[d.thread])||Pe(),M.Bb(d)):v==="killThread"?(d=d.thread,v=M.jb[d],delete M.jb[d],Qe(v),Ut(d),M.nb.splice(M.nb.indexOf(v),1),v.mb=0):v==="cancelThread"?M.jb[d.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,t(e)):v==="alert"?alert(`Thread ${d.threadId}: ${d.text}`):d.target==="setimmediate"?e.postMessage(d):v==="callHandler"?c[d.handler](...d.args):v&&oe(`worker sent an unknown command ${v}`)},e.onerror=d=>{throw oe(`worker sent an error! ${d.filename}:${d.lineno}: ${d.message}`),d},$&&(e.on("message",d=>e.onmessage({data:d})),e.on("error",d=>e.onerror(d)));var r=[],a=[],u;for(u of a)c.hasOwnProperty(u)&&r.push(u);e.postMessage({cmd:"load",handlers:r,urlOrBlob:c.mainScriptUrlOrBlob||f,wasmMemory:Y,wasmModule:he})})};c.PThread=M;var Ye=e=>{for(;0<e.length;)e.shift()(c)};c.establishStackSpace=()=>{var e=wt(),t=_()[e+52>>>2>>>0];e=_()[e+56>>>2>>>0],Wr(t,t-e),Tt(t)};function n(e){if(D)return J(1,0,e);et(e)}var i=[],s;c.invokeEntryPoint=(e,t)=>{var r=i[e];r||(e>=i.length&&(i.length=e+1),i[e]=r=s.get(e)),e=r(t),Be()?M.Cb(e):Wt(e)};function h(e){this.sb=e-24,this.Kb=function(t){_()[this.sb+4>>>2>>>0]=t},this.xb=function(t){_()[this.sb+8>>>2>>>0]=t},this.vb=function(t,r){this.wb(),this.Kb(t),this.xb(r)},this.wb=function(){_()[this.sb+16>>>2>>>0]=0}}var w=0,T=0;function R(e,t,r,a){return D?J(2,1,e,t,r,a):ae(e,t,r,a)}function ae(e,t,r,a){if(e>>>=0,t>>>=0,r>>>=0,a>>>=0,typeof SharedArrayBuffer>"u")return oe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var u=[];return D&&u.length===0?R(e,t,r,a):(e={Mb:r,mb:e,Fb:a,Sb:u},D?(e.Ub="spawnThread",postMessage(e,u),0):gt(e))}function me(e,t,r){return D?J(3,1,e,t,r):0}function ue(e,t){if(D)return J(4,1,e,t)}var ie=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++r):t+=3}return t},ut=(e,t,r,a)=>{if(r>>>=0,!(0<a))return 0;var u=r;a=r+a-1;for(var d=0;d<e.length;++d){var v=e.charCodeAt(d);if(55296<=v&&57343>=v){var O=e.charCodeAt(++d);v=65536+((v&1023)<<10)|O&1023}if(127>=v){if(r>=a)break;t[r++>>>0]=v}else{if(2047>=v){if(r+1>=a)break;t[r++>>>0]=192|v>>6}else{if(65535>=v){if(r+2>=a)break;t[r++>>>0]=224|v>>12}else{if(r+3>=a)break;t[r++>>>0]=240|v>>18,t[r++>>>0]=128|v>>12&63}t[r++>>>0]=128|v>>6&63}t[r++>>>0]=128|v&63}}return t[r>>>0]=0,r-u},tt=(e,t,r)=>ut(e,y(),t,r);function g(e,t){if(D)return J(5,1,e,t)}function N(e,t,r){if(D)return J(6,1,e,t,r)}function q(e,t,r){return D?J(7,1,e,t,r):0}function Ce(e,t){if(D)return J(8,1,e,t)}function ft(e,t,r){if(D)return J(9,1,e,t,r)}function er(e,t,r,a){if(D)return J(10,1,e,t,r,a)}function tr(e,t,r,a){if(D)return J(11,1,e,t,r,a)}function rr(e,t,r,a){if(D)return J(12,1,e,t,r,a)}function nr(e){if(D)return J(13,1,e)}function or(e,t){if(D)return J(14,1,e,t)}function ar(e,t,r){if(D)return J(15,1,e,t,r)}var ir=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},sr,_e=e=>{for(var t="";y()[e>>>0];)t+=sr[y()[e++>>>0]];return t},Ct={},Dt={},mn={},He;function gn(e,t,r={}){var a=t.name;if(!e)throw new He(`type "${a}" must have a positive integer typeid pointer`);if(Dt.hasOwnProperty(e)){if(r.Hb)return;throw new He(`Cannot register type \'${a}\' twice`)}Dt[e]=t,delete mn[e],Ct.hasOwnProperty(e)&&(t=Ct[e],delete Ct[e],t.forEach(u=>u()))}function Re(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");gn(e,t,r)}var ur=(e,t,r)=>{switch(t){case 1:return r?a=>o()[a>>>0>>>0]:a=>y()[a>>>0>>>0];case 2:return r?a=>b()[a>>>1>>>0]:a=>A()[a>>>1>>>0];case 4:return r?a=>l()[a>>>2>>>0]:a=>_()[a>>>2>>>0];case 8:return r?a=>de[a>>>3]:a=>pe[a>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function fr(){this.lb=[void 0],this.zb=[]}var be=new fr;function Ft(e){e>>>=0,e>=be.sb&&--be.get(e).Ab===0&&be.xb(e)}var ge=e=>{if(!e)throw new He("Cannot use deleted val. handle = "+e);return be.get(e).value},Oe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return be.wb({Ab:1,value:e})}};function cr(e){return this.fromWireType(l()[e>>>2>>>0])}var hn=(e,t)=>{switch(t){case 4:return function(r){var a=this.fromWireType;return Y.buffer!=z.buffer&&V(),a.call(this,ze[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(I()[r>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}};function yn(e){return this.fromWireType(_()[e>>>2>>>0])}var lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,vn=(e,t)=>{for(var r=e>>1,a=r+t/2;!(r>=a)&&A()[r>>>0];)++r;if(r<<=1,32<r-e&&lr)return lr.decode(y().slice(e,r));for(r="",a=0;!(a>=t/2);++a){var u=b()[e+2*a>>>1>>>0];if(u==0)break;r+=String.fromCharCode(u)}return r},bn=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var a=t;r=r<2*e.length?r/2:e.length;for(var u=0;u<r;++u){var d=e.charCodeAt(u);b()[t>>>1>>>0]=d,t+=2}return b()[t>>>1>>>0]=0,t-a},On=e=>2*e.length,wn=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var u=l()[e+4*r>>>2>>>0];if(u==0)break;++r,65536<=u?(u-=65536,a+=String.fromCharCode(55296|u>>10,56320|u&1023)):a+=String.fromCharCode(u)}return a},_n=(e,t,r)=>{if(t>>>=0,r===void 0&&(r=2147483647),4>r)return 0;var a=t;r=a+r-4;for(var u=0;u<e.length;++u){var d=e.charCodeAt(u);if(55296<=d&&57343>=d){var v=e.charCodeAt(++u);d=65536+((d&1023)<<10)|v&1023}if(l()[t>>>2>>>0]=d,t+=4,t+4>r)break}return l()[t>>>2>>>0]=0,t-a},Tn=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&++r,t+=4}return t},Sn=e=>{if(!fe)try{if(e(),!Be())try{D?Wt(se):et(se)}catch(t){t instanceof Ze||t=="unwind"||G(1,t)}}catch(t){t instanceof Ze||t=="unwind"||G(1,t)}};function Pt(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(l(),e>>>2,e).value.then(ht),e+=128,Atomics.store(l(),e>>>2,1))}c.__emscripten_thread_mailbox_await=Pt;var ht=()=>{var e=wt();e&&(Pt(e),Sn(()=>Ur()))};c.checkMailbox=ht;var En=e=>{var t=Bt();return e=e(),Tt(t),e};function J(e,t){var r=arguments.length-2,a=arguments;return En(()=>{for(var u=2*r,d=kt(8*u),v=d>>>3,O=0;O<r;O++){var F=a[2+O];typeof F=="bigint"?(de[v+2*O]=1n,de[v+2*O+1]=F):(de[v+2*O]=0n,I()[v+2*O+1>>>0]=F)}return xr(e,u,d,t)})}var Rt=[],yt=(e,t)=>{var r=Dt[e];if(r===void 0)throw e=Rr(e),r=_e(e),Ie(e),new He(t+" has unknown type "+r);return r},An={},vt=e=>{var t=An[e];return t===void 0?_e(e):t},bt=[],dr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Mn=e=>{var t=bt.length;return bt.push(e),t},Cn=(e,t)=>{for(var r=Array(e),a=0;a<e;++a)r[a]=yt(_()[t+4*a>>>2>>>0],"parameter "+a);return r},pr=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},mr={};function Dn(e,t){return e=pr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Fn(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var r=Dn(t.name||"unknownFunctionName",function(){});return r.prototype=t.prototype,r=new r,e=t.apply(r,e),e instanceof Object?e:r}var Pn=e=>{for(var t="",r=0;r<e;++r)t+=(r!==0?", ":"")+"arg"+r;var a="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(r=0;r<e;++r)a+="var argType"+r+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+r+`\');\nvar arg`+r+" = argType"+r+`.readValueFromPointer(args);\nargs += argType`+r+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",a+("var obj = new constructor("+t+`);\nreturn valueToHandle(obj);\n}\n`))(yt,c,Oe,()=>_())},gr={},rt=e=>e%4===0&&(e%100!==0||e%400===0),hr=[0,31,60,91,121,152,182,213,244,274,305,335],yr=[0,31,59,90,120,151,181,212,243,273,304,334];function vr(e,t,r,a,u,d,v){return D?J(16,1,e,t,r,a,u,d,v):-52}function br(e,t,r,a,u,d){if(D)return J(17,1,e,t,r,a,u,d)}var Or=e=>{var t=ie(e)+1,r=_t(t);return r&&tt(e,r,t),r},It={},wr=()=>{if(!xt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in It)It[t]===void 0?delete e[t]:e[t]=It[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);xt=r}return xt},xt;function _r(e,t){if(D)return J(18,1,e,t);e>>>=0,t>>>=0;var r=0;return wr().forEach((a,u)=>{var d=t+r;for(u=_()[e+4*u>>>2>>>0]=d,d=0;d<a.length;++d)o()[u++>>>0>>>0]=a.charCodeAt(d);o()[u>>>0>>>0]=0,r+=a.length+1}),0}function Tr(e,t){if(D)return J(19,1,e,t);e>>>=0,t>>>=0;var r=wr();_()[e>>>2>>>0]=r.length;var a=0;return r.forEach(u=>a+=u.length+1),_()[t>>>2>>>0]=a,0}function Sr(e){return D?J(20,1,e):52}function Er(e,t,r,a){return D?J(21,1,e,t,r,a):52}function Ar(e,t,r,a){return D?J(22,1,e,t,r,a):70}var Rn=[null,[],[]];function Mr(e,t,r,a){if(D)return J(23,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var u=0,d=0;d<r;d++){var v=_()[t>>>2>>>0],O=_()[t+4>>>2>>>0];t+=8;for(var F=0;F<O;F++){var P=y()[v+F>>>0],K=Rn[e];P===0||P===10?((e===1?je:oe)(it(K,0)),K.length=0):K.push(P)}u+=O}return _()[a>>>2>>>0]=u,0}var Cr=[31,29,31,30,31,30,31,31,30,31,30,31],Dr=[31,28,31,30,31,30,31,31,30,31,30,31];function In(e){var t=Array(ie(e)+1);return ut(e,t,0,t.length),t}var xn=(e,t)=>{o().set(e,t>>>0)};function Fr(e,t,r,a){function u(m,H,Z){for(m=typeof m=="number"?m.toString():m||"";m.length<H;)m=Z[0]+m;return m}function d(m,H){return u(m,H,"0")}function v(m,H){function Z(kr){return 0>kr?-1:0<kr?1:0}var Ve;return(Ve=Z(m.getFullYear()-H.getFullYear()))===0&&(Ve=Z(m.getMonth()-H.getMonth()))===0&&(Ve=Z(m.getDate()-H.getDate())),Ve}function O(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function F(m){var H=m.ob;for(m=new Date(new Date(m.pb+1900,0,1).getTime());0<H;){var Z=m.getMonth(),Ve=(rt(m.getFullYear())?Cr:Dr)[Z];if(H>Ve-m.getDate())H-=Ve-m.getDate()+1,m.setDate(1),11>Z?m.setMonth(Z+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+H);break}}return Z=new Date(m.getFullYear()+1,0,4),H=O(new Date(m.getFullYear(),0,4)),Z=O(Z),0>=v(H,m)?0>=v(Z,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,a>>>=0;var P=_()[a+40>>>2>>>0];a={Qb:l()[a>>>2>>>0],Pb:l()[a+4>>>2>>>0],tb:l()[a+8>>>2>>>0],yb:l()[a+12>>>2>>>0],ub:l()[a+16>>>2>>>0],pb:l()[a+20>>>2>>>0],kb:l()[a+24>>>2>>>0],ob:l()[a+28>>>2>>>0],Wb:l()[a+32>>>2>>>0],Ob:l()[a+36>>>2>>>0],Rb:P?Ge(P):""},r=Ge(r),P={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var K in P)r=r.replace(new RegExp(K,"g"),P[K]);var ye="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),xe="January February March April May June July August September October November December".split(" ");P={"%a":m=>ye[m.kb].substring(0,3),"%A":m=>ye[m.kb],"%b":m=>xe[m.ub].substring(0,3),"%B":m=>xe[m.ub],"%C":m=>d((m.pb+1900)/100|0,2),"%d":m=>d(m.yb,2),"%e":m=>u(m.yb,2," "),"%g":m=>F(m).toString().substring(2),"%G":m=>F(m),"%H":m=>d(m.tb,2),"%I":m=>(m=m.tb,m==0?m=12:12<m&&(m-=12),d(m,2)),"%j":m=>{for(var H=0,Z=0;Z<=m.ub-1;H+=(rt(m.pb+1900)?Cr:Dr)[Z++]);return d(m.yb+H,3)},"%m":m=>d(m.ub+1,2),"%M":m=>d(m.Pb,2),"%n":()=>`\n`,"%p":m=>0<=m.tb&&12>m.tb?"AM":"PM","%S":m=>d(m.Qb,2),"%t":()=>"	","%u":m=>m.kb||7,"%U":m=>d(Math.floor((m.ob+7-m.kb)/7),2),"%V":m=>{var H=Math.floor((m.ob+7-(m.kb+6)%7)/7);if(2>=(m.kb+371-m.ob-2)%7&&H++,H)H==53&&(Z=(m.kb+371-m.ob)%7,Z==4||Z==3&&rt(m.pb)||(H=1));else{H=52;var Z=(m.kb+7-m.ob-1)%7;(Z==4||Z==5&&rt(m.pb%400-1))&&H++}return d(H,2)},"%w":m=>m.kb,"%W":m=>d(Math.floor((m.ob+7-(m.kb+6)%7)/7),2),"%y":m=>(m.pb+1900).toString().substring(2),"%Y":m=>m.pb+1900,"%z":m=>{m=m.Ob;var H=0<=m;return m=Math.abs(m)/60,(H?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.Rb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(K in P)r.includes(K)&&(r=r.replace(new RegExp(K,"g"),P[K](a)));return r=r.replace(/\\0\\0/g,"%"),K=In(r),K.length>t?0:(xn(K,e),K.length-1)}M.vb();for(var Pr=Array(256),Ot=0;256>Ot;++Ot)Pr[Ot]=String.fromCharCode(Ot);sr=Pr,He=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(fr.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var t=this.zb.pop()||this.lb.length;return this.lb[t]=e,t},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),be.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),be.sb=be.lb.length,c.count_emval_handles=()=>{for(var e=0,t=be.sb;t<be.lb.length;++t)be.lb[t]!==void 0&&++e;return e};var Un=[st,n,R,me,ue,g,N,q,Ce,ft,er,tr,rr,nr,or,ar,vr,br,_r,Tr,Sr,Er,Ar,Mr],Wn={b:function(e,t,r){throw e>>>=0,new h(e).vb(t>>>0,r>>>0),w=e,T++,w},ea:function(e){Ir(e>>>0,!L,1,!B,131072,!1),M.Db()},D:function(e){e>>>=0,D?postMessage({cmd:"cleanupThread",thread:e}):((e=M.jb[e])||Pe(),M.Bb(e))},W:ae,y:me,ka:ue,S:g,U:N,L:q,ia:Ce,ba:ft,ha:er,F:tr,T:rr,Q:nr,ja:or,R:ar,I:function(e,t,r,a,u){e>>>=0,t>>>=0,r>>>=0,t=_e(t);var d=t.indexOf("u")!=-1;d&&(u=(1n<<64n)-1n),Re(e,{name:t,fromWireType:v=>v,toWireType:function(v,O){if(typeof O!="bigint"&&typeof O!="number")throw new TypeError(`Cannot convert "${ir(O)}" to ${this.name}`);if(O<a||O>u)throw new TypeError(`Passing a number "${ir(O)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${a}, ${u}]!`);return O},argPackAdvance:8,readValueFromPointer:ur(t,r,!d),rb:null})},qa:function(e,t,r,a){e>>>=0,t=_e(t>>>0),Re(e,{name:t,fromWireType:function(u){return!!u},toWireType:function(u,d){return d?r:a},argPackAdvance:8,readValueFromPointer:function(u){return this.fromWireType(y()[u>>>0])},rb:null})},pa:function(e,t){e>>>=0,t=_e(t>>>0),Re(e,{name:t,fromWireType:r=>{var a=ge(r);return Ft(r),a},toWireType:(r,a)=>Oe(a),argPackAdvance:8,readValueFromPointer:cr,rb:null})},H:function(e,t,r){e>>>=0,r>>>=0,t=_e(t>>>0),Re(e,{name:t,fromWireType:a=>a,toWireType:(a,u)=>u,argPackAdvance:8,readValueFromPointer:hn(t,r),rb:null})},t:function(e,t,r,a,u){if(e>>>=0,r>>>=0,t=_e(t>>>0),u===-1&&(u=4294967295),u=O=>O,a===0){var d=32-8*r;u=O=>O<<d>>>d}var v=t.includes("unsigned")?function(O,F){return F>>>0}:function(O,F){return F};Re(e,{name:t,fromWireType:u,toWireType:v,argPackAdvance:8,readValueFromPointer:ur(t,r,a!==0),rb:null})},m:function(e,t,r){function a(d){var v=_()[d>>>2>>>0];return d=_()[d+4>>>2>>>0],new u(o().buffer,d,v)}e>>>=0;var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];r=_e(r>>>0),Re(e,{name:r,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{Hb:!0})},J:function(e,t){e>>>=0,t=_e(t>>>0);var r=t==="std::string";Re(e,{name:t,fromWireType:function(a){var u=_()[a>>>2>>>0],d=a+4;if(r)for(var v=d,O=0;O<=u;++O){var F=d+O;if(O==u||y()[F>>>0]==0){if(v=Ge(v,F-v),P===void 0)var P=v;else P+=String.fromCharCode(0),P+=v;v=F+1}}else{for(P=Array(u),O=0;O<u;++O)P[O]=String.fromCharCode(y()[d+O>>>0]);P=P.join("")}return Ie(a),P},toWireType:function(a,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var d=typeof u=="string";if(!(d||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array))throw new He("Cannot pass non-string to std::string");var v=r&&d?ie(u):u.length,O=_t(4+v+1),F=O+4;if(_()[O>>>2>>>0]=v,r&&d)tt(u,F,v+1);else if(d)for(d=0;d<v;++d){var P=u.charCodeAt(d);if(255<P)throw Ie(F),new He("String has UTF-16 code units that do not fit in 8 bits");y()[F+d>>>0]=P}else for(d=0;d<v;++d)y()[F+d>>>0]=u[d];return a!==null&&a.push(Ie,O),O},argPackAdvance:8,readValueFromPointer:yn,rb(a){Ie(a)}})},A:function(e,t,r){if(e>>>=0,t>>>=0,r>>>=0,r=_e(r),t===2)var a=vn,u=bn,d=On,v=()=>A(),O=1;else t===4&&(a=wn,u=_n,d=Tn,v=()=>_(),O=2);Re(e,{name:r,fromWireType:F=>{for(var P=_()[F>>>2>>>0],K=v(),ye,xe=F+4,m=0;m<=P;++m){var H=F+4+m*t;(m==P||K[H>>>O]==0)&&(xe=a(xe,H-xe),ye===void 0?ye=xe:(ye+=String.fromCharCode(0),ye+=xe),xe=H+t)}return Ie(F),ye},toWireType:(F,P)=>{if(typeof P!="string")throw new He(`Cannot pass non-string to C++ string type ${r}`);var K=d(P),ye=_t(4+K+t);return _()[ye>>>2]=K>>O,u(P,ye+4,K+t),F!==null&&F.push(Ie,ye),ye},argPackAdvance:8,readValueFromPointer:cr,rb(F){Ie(F)}})},ra:function(e,t){e>>>=0,t=_e(t>>>0),Re(e,{Ib:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ht()):D?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,t,r,a){t>>>=0,r/=2,Rt.length=r,a=a>>>0>>>3;for(var u=0;u<r;u++)Rt[u]=de[a+2*u]?de[a+2*u+1]:I()[a+2*u+1>>>0];return e=Un[e],M.Gb=t,t=e.apply(null,Rt),M.Gb=0,t},da:Pt,ma:function(e){$&&M.jb[e>>>0].ref()},r:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=yt(t,"emval::as");var a=[],u=Oe(a);return _()[r>>>2>>>0]=u,t.toWireType(a,e)},i:function(e,t,r,a,u){r>>>=0,a>>>=0,u>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r);var d=[];return _()[a>>>2>>>0]=Oe(d),e(t,r,d,u)},u:function(e,t,r,a){r>>>=0,a>>>=0,e=bt[e>>>0],t=ge(t>>>0),r=vt(r),e(t,r,null,a)},c:Ft,K:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),e==t},o:function(e){return e>>>=0,e===0?Oe(dr()):(e=vt(e),Oe(dr()[e]))},h:function(e,t){var r=Cn(e,t>>>0),a=r[0];t=a.name+"_$"+r.slice(1).map(function(K){return K.name}).join("_")+"$";var u=mr[t];if(u!==void 0)return u;u=["retType"];for(var d=[a],v="",O=0;O<e-1;++O)v+=(O!==0?", ":"")+"arg"+O,u.push("argType"+O),d.push(r[1+O]);var F="return function "+pr("methodCaller_"+t)+`(handle, name, destructors, args) {\n`,P=0;for(O=0;O<e-1;++O)F+="    var arg"+O+" = argType"+O+".readValueFromPointer(args"+(P?"+"+P:"")+`);\n`,P+=r[O+1].argPackAdvance;for(F+="    var rv = handle[name]("+v+`);\n`,O=0;O<e-1;++O)r[O+1].deleteObject&&(F+="    argType"+O+".deleteObject(arg"+O+`);\n`);return a.Ib||(F+=`    return retType.toWireType(destructors, rv);\n`),u.push(F+`};\n`),e=Fn(u).apply(null,d),u=Mn(e),mr[t]=u},q:function(e,t){return t>>>=0,e=ge(e>>>0),t=ge(t),Oe(e[t])},d:function(e){e>>>=0,4<e&&(be.get(e).Ab+=1)},x:function(e,t,r,a){r>>>=0,a>>>=0,e=ge(e>>>0);var u=gr[t];return u||(u=Pn(t),gr[t]=u),u(e,r,a)},v:function(){return Oe([])},l:function(e){e=ge(e>>>0);for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return Oe(t)},e:function(e){return Oe(vt(e>>>0))},k:function(){return Oe({})},g:function(e){e>>>=0;for(var t=ge(e);t.length;){var r=t.pop();t.pop()(r)}Ft(e)},j:function(e,t,r){t>>>=0,r>>>=0,e=ge(e>>>0),t=ge(t),r=ge(r),e[t]=r},f:function(e,t){return t>>>=0,e=yt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(t),Oe(e)},_:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),l()[t>>>2>>>0]=e.getUTCSeconds(),l()[t+4>>>2>>>0]=e.getUTCMinutes(),l()[t+8>>>2>>>0]=e.getUTCHours(),l()[t+12>>>2>>>0]=e.getUTCDate(),l()[t+16>>>2>>>0]=e.getUTCMonth(),l()[t+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[t+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[t+28>>>2>>>0]=e},$:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),t>>>=0,e=new Date(1e3*e),l()[t>>>2>>>0]=e.getSeconds(),l()[t+4>>>2>>>0]=e.getMinutes(),l()[t+8>>>2>>>0]=e.getHours(),l()[t+12>>>2>>>0]=e.getDate(),l()[t+16>>>2>>>0]=e.getMonth(),l()[t+20>>>2>>>0]=e.getFullYear()-1900,l()[t+24>>>2>>>0]=e.getDay();var r=(rt(e.getFullYear())?hr:yr)[e.getMonth()]+e.getDate()-1|0;l()[t+28>>>2>>>0]=r,l()[t+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var a=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=a&&e.getTimezoneOffset()==Math.min(a,r))|0,l()[t+32>>>2>>>0]=e},aa:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),r=l()[e+32>>>2>>>0],a=t.getTimezoneOffset(),u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),d=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(d,u);return 0>r?l()[e+32>>>2>>>0]=+(u!=d&&v==a):0<r!=(v==a)&&(u=Math.max(d,u),t.setTime(t.getTime()+6e4*((0<r?v:u)-a))),l()[e+24>>>2>>>0]=t.getDay(),r=(rt(t.getFullYear())?hr:yr)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=r,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),BigInt(t.getTime()/1e3)},Y:vr,Z:br,N:function(e,t,r){function a(P){return(P=P.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?P[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var u=new Date().getFullYear(),d=new Date(u,0,1),v=new Date(u,6,1);u=d.getTimezoneOffset();var O=v.getTimezoneOffset(),F=Math.max(u,O);_()[e>>>2>>>0]=60*F,l()[t>>>2>>>0]=+(u!=O),e=a(d),t=a(v),e=Or(e),t=Or(t),O<u?(_()[r>>>2>>>0]=e,_()[r+4>>>2>>>0]=t):(_()[r>>>2>>>0]=t,_()[r+4>>>2>>>0]=e)},n:()=>{Pe("")},E:()=>{},G:()=>Date.now(),la:()=>{throw Je+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>$?(Gr(),lt(zr)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var t=y().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var u=Math;a=Math.max(e,a);e:{u=(u.min.call(u,4294901760,a+(65536-a%65536)%65536)-Y.buffer.byteLength+65535)/65536;try{Y.grow(u),V();var d=1;break e}catch{}d=void 0}if(d)return!0}return!1},fa:_r,ga:Tr,V:et,z:Sr,C:Er,ca:Ar,B:Mr,a:Y||c.wasmMemory,oa:Fr,p:function(e,t,r,a){return Fr(e>>>0,t>>>0,r>>>0,a>>>0)}},C=function(){var e={a:Wn};return Ae++,mt(e,function(t){var r=t.module;C=t.instance.exports,C=Bn(),M.Eb.push(C.Xa),s=C._a,Fe.unshift(C.sa),he=r,nt()}).catch(j),{}}();c._OrtInit=(e,t)=>(c._OrtInit=C.ta)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.ua)(e,t),c._OrtCreateSessionOptions=(e,t,r,a,u,d,v,O,F,P)=>(c._OrtCreateSessionOptions=C.va)(e,t,r,a,u,d,v,O,F,P),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C.wa)(e,t),c._OrtAddFreeDimensionOverride=(e,t,r)=>(c._OrtAddFreeDimensionOverride=C.xa)(e,t,r),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.ya)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.za)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.Aa)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.Ba)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.Ca)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.Da)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.Ea)(e,t),c._OrtFree=e=>(c._OrtFree=C.Fa)(e),c._OrtCreateTensor=(e,t,r,a,u,d)=>(c._OrtCreateTensor=C.Ga)(e,t,r,a,u,d),c._OrtGetTensorData=(e,t,r,a,u)=>(c._OrtGetTensorData=C.Ha)(e,t,r,a,u),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.Ia)(e),c._OrtCreateRunOptions=(e,t,r,a)=>(c._OrtCreateRunOptions=C.Ja)(e,t,r,a),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.Ka)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.La)(e),c._OrtCreateBinding=e=>(c._OrtCreateBinding=C.Ma)(e),c._OrtBindInput=(e,t,r)=>(c._OrtBindInput=C.Na)(e,t,r),c._OrtBindOutput=(e,t,r,a)=>(c._OrtBindOutput=C.Oa)(e,t,r,a),c._OrtClearBoundOutputs=e=>(c._OrtClearBoundOutputs=C.Pa)(e),c._OrtReleaseBinding=e=>(c._OrtReleaseBinding=C.Qa)(e),c._OrtRunWithBinding=(e,t,r,a,u)=>(c._OrtRunWithBinding=C.Ra)(e,t,r,a,u),c._OrtRun=(e,t,r,a,u,d,v,O)=>(c._OrtRun=C.Sa)(e,t,r,a,u,d,v,O),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.Ta)(e);var wt=c._pthread_self=()=>(wt=c._pthread_self=C.Ua)(),_t=c._malloc=e=>(_t=c._malloc=C.Va)(e),Ie=c._free=e=>(Ie=c._free=C.Wa)(e);c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.Xa)();var Rr=e=>(Rr=C.Ya)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=C.Za)();var Ir=c.__emscripten_thread_init=(e,t,r,a,u,d)=>(Ir=c.__emscripten_thread_init=C.$a)(e,t,r,a,u,d);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.ab)();var xr=(e,t,r,a)=>(xr=C.bb)(e,t,r,a),Ut=e=>(Ut=C.cb)(e),Wt=c.__emscripten_thread_exit=e=>(Wt=c.__emscripten_thread_exit=C.db)(e),Ur=c.__emscripten_check_mailbox=()=>(Ur=c.__emscripten_check_mailbox=C.eb)(),Wr=(e,t)=>(Wr=C.fb)(e,t),Bt=()=>(Bt=C.gb)(),Tt=e=>(Tt=C.hb)(e),kt=e=>(kt=C.ib)(e);function Bn(){var e=C;e=Object.assign({},e);var t=a=>()=>a()>>>0,r=a=>u=>a(u)>>>0;return e.__errno_location=t(e.__errno_location),e.Ua=t(e.Ua),e.Va=r(e.Va),e.Ya=r(e.Ya),e.gb=t(e.gb),e.ib=r(e.ib),e}c.keepRuntimeAlive=Be,c.wasmMemory=Y,c.stackAlloc=kt,c.stackSave=Bt,c.stackRestore=Tt,c.UTF8ToString=Ge,c.stringToUTF8=tt,c.lengthBytesUTF8=ie,c.ExitStatus=Ze,c.PThread=M;var St;ke=function e(){St||Br(),St||(ke=e)};function Br(){0<Ae||(D?(x(c),D||Ye(Fe),startWorker(c)):(Ye(We),0<Ae||St||(St=!0,c.calledRun=!0,fe||(D||Ye(Fe),x(c),D||Ye(qe)))))}return Br(),p.ready}})();typeof Vr=="object"&&typeof Vt=="object"?Vt.exports=Yr:typeof define=="function"&&define.amd&&define([],()=>Yr)});var Jr=ct((fo,Gn)=>{Gn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var Kr;Kr=Nr();var Yn=qr(),qt,Jt=!1,Et=!1,Xr=!1,Vn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},qn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Jn=(f,p)=>f?"ort-training-wasm-simd.wasm":p?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Zr=async f=>{if(Jt)return Promise.resolve();if(Et)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Xr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");Et=!0;let p=f.initTimeout,o=f.numThreads,y=f.simd,b=o>1&&Vn(),A=y&&qn(),l=f.wasmPaths,_=typeof l=="string"?l:void 0,I=Jn(A,b),c=typeof l=="object"?l[I]:void 0,x=!1,j=[];if(p>0&&j.push(new Promise(U=>{setTimeout(()=>{x=!0,U()},p)})),j.push(new Promise((U,W)=>{let G=b?Yn:Kr,B={locateFile:(L,$)=>b&&L.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Jr()],{type:"text/javascript"})):L.endsWith(".wasm")?c||(_??$)+I:$+L};if(b)if(typeof Blob>"u")B.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let L=`var ortWasmThreaded=${G.toString()};`;B.mainScriptUrlOrBlob=new Blob([L],{type:"text/javascript"})}G(B).then(L=>{Et=!1,Jt=!0,qt=L,U()},L=>{Et=!1,Xr=!0,W(L)})})),await Promise.race(j),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${p}ms`)},te=()=>{if(Jt&&qt)return qt;throw new Error("WebAssembly is not initialized yet.")};var re=(f,p)=>{let o=te(),y=o.lengthBytesUTF8(f)+1,b=o._malloc(y);return o.stringToUTF8(f,b,y),p.push(b),b},dt=(f,p,o,y)=>{if(typeof f=="object"&&f!==null){if(o.has(f))throw new Error("Circular reference in options");o.add(f)}Object.entries(f).forEach(([b,A])=>{let l=p?p+b:b;if(typeof A=="object")dt(A,l+".",o,y);else if(typeof A=="string"||typeof A=="number")y(l,A.toString());else if(typeof A=="boolean")y(l,A?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof A}`)})},Q=f=>{let p=te(),o=p.stackSave();try{let y=p.stackAlloc(8);p._OrtGetLastError(y,y+4);let b=p.HEAP32[y/4],A=p.HEAPU32[y/4+1],l=A?p.UTF8ToString(A):"";throw new Error(`${f} ERROR_CODE: ${b}, ERROR_MESSAGE: ${l}`)}finally{p.stackRestore(o)}};var Qr=f=>{let p=te(),o=0,y=[],b=f||{};try{if(f?.logSeverityLevel===void 0)b.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if(f?.logVerbosityLevel===void 0)b.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);f?.terminate===void 0&&(b.terminate=!1);let A=0;return f?.tag!==void 0&&(A=re(f.tag,y)),o=p._OrtCreateRunOptions(b.logSeverityLevel,b.logVerbosityLevel,!!b.terminate,A),o===0&&Q("Can\'t create run options."),f?.extra!==void 0&&dt(f.extra,"",new WeakSet,(l,_)=>{let I=re(l,y),c=re(_,y);p._OrtAddRunConfigEntry(o,I,c)!==0&&Q(`Can\'t set a run config entry: ${l} - ${_}.`)}),[o,y]}catch(A){throw o!==0&&p._OrtReleaseRunOptions(o),y.forEach(l=>p._free(l)),A}};var Xn=f=>{switch(f){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${f}`)}},Kn=f=>{switch(f){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${f}`)}},Zn=f=>{f.extra||(f.extra={}),f.extra.session||(f.extra.session={});let p=f.extra.session;p.use_ort_model_bytes_directly||(p.use_ort_model_bytes_directly="1"),f.executionProviders&&f.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(f.enableMemPattern=!1)},Qn=(f,p,o)=>{for(let y of p){let b=typeof y=="string"?y:y.name;switch(b){case"xnnpack":b="XNNPACK";break;case"webnn":if(b="WEBNN",typeof y!="string"){let l=y;if(l?.deviceType){let _=re("deviceType",o),I=re(l.deviceType,o);te()._OrtAddSessionConfigEntry(f,_,I)!==0&&Q(`Can\'t set a session config entry: \'deviceType\' - ${l.deviceType}.`)}if(l?.numThreads){let _=l.numThreads;(typeof _!="number"||!Number.isInteger(_)||_<0)&&(_=0);let I=re("numThreads",o),c=re(_.toString(),o);te()._OrtAddSessionConfigEntry(f,I,c)!==0&&Q(`Can\'t set a session config entry: \'numThreads\' - ${l.numThreads}.`)}if(l?.powerPreference){let _=re("powerPreference",o),I=re(l.powerPreference,o);te()._OrtAddSessionConfigEntry(f,_,I)!==0&&Q(`Can\'t set a session config entry: \'powerPreference\' - ${l.powerPreference}.`)}}break;case"webgpu":if(b="JS",typeof y!="string"){let l=y;if(l?.preferredLayout){if(l.preferredLayout!=="NCHW"&&l.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${l.preferredLayout}`);let _=re("preferredLayout",o),I=re(l.preferredLayout,o);te()._OrtAddSessionConfigEntry(f,_,I)!==0&&Q(`Can\'t set a session config entry: \'preferredLayout\' - ${l.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${b}`)}let A=re(b,o);te()._OrtAppendExecutionProvider(f,A)!==0&&Q(`Can\'t append execution provider: ${b}.`)}},en=f=>{let p=te(),o=0,y=[],b=f||{};Zn(b);try{let A=Xn(b.graphOptimizationLevel??"all"),l=Kn(b.executionMode??"sequential"),_=typeof b.logId=="string"?re(b.logId,y):0,I=b.logSeverityLevel??2;if(!Number.isInteger(I)||I<0||I>4)throw new Error(`log serverity level is not valid: ${I}`);let c=b.logVerbosityLevel??0;if(!Number.isInteger(c)||c<0||c>4)throw new Error(`log verbosity level is not valid: ${c}`);let x=typeof b.optimizedModelFilePath=="string"?re(b.optimizedModelFilePath,y):0;if(o=p._OrtCreateSessionOptions(A,!!b.enableCpuMemArena,!!b.enableMemPattern,l,!!b.enableProfiling,0,_,I,c,x),o===0&&Q("Can\'t create session options."),b.executionProviders&&Qn(o,b.executionProviders,y),b.freeDimensionOverrides)for(let[j,U]of Object.entries(b.freeDimensionOverrides)){if(typeof j!="string")throw new Error(`free dimension override name must be a string: ${j}`);if(typeof U!="number"||!Number.isInteger(U)||U<0)throw new Error(`free dimension override value must be a non-negative integer: ${U}`);let W=re(j,y);p._OrtAddFreeDimensionOverride(o,W,U)!==0&&Q(`Can\'t set a free dimension override: ${j} - ${U}.`)}return b.extra!==void 0&&dt(b.extra,"",new WeakSet,(j,U)=>{let W=re(j,y),G=re(U,y);p._OrtAddSessionConfigEntry(o,W,G)!==0&&Q(`Can\'t set a session config entry: ${j} - ${U}.`)}),[o,y]}catch(A){throw o!==0&&p._OrtReleaseSessionOptions(o),y.forEach(l=>p._free(l)),A}};var Xt=f=>{switch(f){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${f}`)}},tn=f=>{switch(f){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${f}`)}},Kt=f=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][f],rn=f=>{switch(f){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${f}`)}},nn=f=>{switch(f){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${f}`)}},on=f=>f==="float32"||f==="int32"||f==="int64"||f==="bool"||f==="float16"||f==="uint32",an=f=>{switch(f){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${f}`)}};var eo=f=>{let p=te(),o=p.stackSave();try{let y=p.stackAlloc(8);return p._OrtGetInputOutputCount(f,y,y+4)!==0&&Q("Can\'t get session input/output count."),[p.HEAP32[y/4],p.HEAP32[y/4+1]]}finally{p.stackRestore(o)}},to=(f,p)=>{te()._OrtInit(f,p)!==0&&Q("Can\'t initialize onnxruntime.")},un=async f=>{to(f.wasm.numThreads,nn(f.logLevel))},pt=new Map,Zt=f=>{let p=te(),o=p._malloc(f.byteLength);if(o===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${f.byteLength}.`);return p.HEAPU8.set(f,o),[o,f.byteLength]},Qt=(f,p)=>{let o=te(),y=0,b=0,A=0,l=[],_=[],I=[];try{[b,l]=en(p),y=o._OrtCreateSession(f[0],f[1],b),y===0&&Q("Can\'t create a session.");let[c,x]=eo(y),j=[],U=[],W=[];for(let B=0;B<c;B++){let L=o._OrtGetInputName(y,B);L===0&&Q("Can\'t get an input name."),_.push(L),j.push(o.UTF8ToString(L))}for(let B=0;B<x;B++){let L=o._OrtGetOutputName(y,B);L===0&&Q("Can\'t get an output name."),I.push(L);let $=o.UTF8ToString(L);U.push($)}let G=null;return pt.set(y,[y,_,I,G]),[y,j,U]}catch(c){throw _.forEach(x=>o._OrtFree(x)),I.forEach(x=>o._OrtFree(x)),A!==0&&o._OrtReleaseBinding(A),y!==0&&o._OrtReleaseSession(y),c}finally{o._free(f[0]),b!==0&&o._OrtReleaseSessionOptions(b),l.forEach(c=>o._free(c))}},fn=(f,p)=>{let o=Zt(f);return Qt(o,p)},cn=f=>{let p=te(),o=pt.get(f);if(!o)throw new Error(`cannot release session. invalid session id: ${f}`);let[y,b,A,l]=o;l&&p._OrtReleaseBinding(l.handle),p.jsepUnregisterBuffers?.(f),b.forEach(_=>p._OrtFree(_)),A.forEach(_=>p._OrtFree(_)),p._OrtReleaseSession(y),pt.delete(f)},sn=(f,p,o,y,b)=>{if(!f){p.push(0);return}let A=te(),l=f[0],_=f[1],I=f[3],c,x;if(l==="string"&&I==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(I==="gpu-buffer"){let W=f[2].gpuBuffer,G=Kt(Xt(l));x=_.reduce((B,L)=>B*L,1)*G,c=A.jsepRegisterBuffer(y,b,W,x)}else{let W=f[2];if(Array.isArray(W)){x=4*W.length,c=A._malloc(x),o.push(c);let G=c/4;for(let B=0;B<W.length;B++){if(typeof W[B]!="string")throw new TypeError(`tensor data at index ${B} is not a string`);A.HEAPU32[G++]=re(W[B],o)}}else x=W.byteLength,c=A._malloc(x),o.push(c),A.HEAPU8.set(new Uint8Array(W.buffer,W.byteOffset,x),c)}let j=A.stackSave(),U=A.stackAlloc(4*_.length);try{let W=U/4;_.forEach(B=>A.HEAP32[W++]=B);let G=A._OrtCreateTensor(Xt(l),c,x,U,_.length,an(I));G===0&&Q(`Can\'t create tensor for input/output. session=${y}, index=${b}.`),p.push(G)}finally{A.stackRestore(j)}},ln=async(f,p,o,y,b,A)=>{let l=te(),_=pt.get(f);if(!_)throw new Error(`cannot run inference. invalid session id: ${f}`);let[I,c,x,j]=_,U=p.length,W=y.length,G=0,B=[],L=[],$=[],D=[],ce=l.stackSave(),Te=l.stackAlloc(U*4),S=l.stackAlloc(U*4),we=l.stackAlloc(W*4),ve=l.stackAlloc(W*4);try{[G,B]=Qr(A);for(let k=0;k<U;k++)sn(o[k],L,D,f,p[k]);for(let k=0;k<W;k++)sn(b[k],$,D,f,U+y[k]);let X=Te/4,E=S/4,ne=we/4,Ne=ve/4;for(let k=0;k<U;k++)l.HEAPU32[X++]=L[k],l.HEAPU32[E++]=c[p[k]];for(let k=0;k<W;k++)l.HEAPU32[ne++]=$[k],l.HEAPU32[Ne++]=x[y[k]];let je;je=await l._OrtRun(I,S,Te,U,ve,W,we,G),je!==0&&Q("failed to call OrtRun().");let oe=[];for(let k=0;k<W;k++){let Y=l.HEAPU32[we/4+k];if(Y===$[k]){oe.push(b[k]);continue}let he=l.stackSave(),fe=l.stackAlloc(4*4),se=!1,z,le=0;try{l._OrtGetTensorData(Y,fe,fe+4,fe+8,fe+12)!==0&&Q(`Can\'t access output tensor data on index ${k}.`);let Ee=fe/4,Ue=l.HEAPU32[Ee++];le=l.HEAPU32[Ee++];let $e=l.HEAPU32[Ee++],ze=l.HEAPU32[Ee++],de=[];for(let V=0;V<ze;V++)de.push(l.HEAPU32[$e/4+V]);l._OrtFree($e);let pe=de.reduce((V,ee)=>V*ee,1);z=tn(Ue);let De=j?.outputPreferredLocations[y[k]];if(z==="string"){if(De==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let V=[],ee=le/4;for(let We=0;We<pe;We++){let Fe=l.HEAPU32[ee++],qe=We===pe-1?void 0:l.HEAPU32[ee]-Fe;V.push(l.UTF8ToString(Fe,qe))}oe.push([z,de,V,"cpu"])}else if(De==="gpu-buffer"&&pe>0){let V=l.jsepGetBuffer(le),ee=Kt(Ue);if(ee===void 0||!on(z))throw new Error(`Unsupported data type: ${z}`);se=!0,oe.push([z,de,{gpuBuffer:V,download:l.jsepCreateDownloader(V,pe*ee,z),dispose:()=>{l._OrtReleaseTensor(Y)}},"gpu-buffer"])}else{let V=rn(z),ee=new V(pe);new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength).set(l.HEAPU8.subarray(le,le+ee.byteLength)),oe.push([z,de,ee,"cpu"])}}finally{l.stackRestore(he),z==="string"&&le&&l._free(le),se||l._OrtReleaseTensor(Y)}}return j&&l._OrtClearBoundOutputs(j.handle),oe}finally{l.stackRestore(ce),L.forEach(X=>l._OrtReleaseTensor(X)),$.forEach(X=>l._OrtReleaseTensor(X)),D.forEach(X=>l._free(X)),G!==0&&l._OrtReleaseRunOptions(G),B.forEach(X=>l._free(X))}},dn=f=>{let p=te(),o=pt.get(f);if(!o)throw new Error("invalid session id");let y=o[0],b=p._OrtEndProfiling(y);b===0&&Q("Can\'t get an profile file name."),p._OrtFree(b)},pn=f=>{let p=[];for(let o of f){let y=o[2];!Array.isArray(y)&&"buffer"in y&&p.push(y.buffer)}return p};self.onmessage=f=>{switch(f.data.type){case"init-wasm":try{Zr(f.data.in).then(()=>postMessage({type:"init-wasm"}),p=>postMessage({type:"init-wasm",err:p}))}catch(p){postMessage({type:"init-wasm",err:p})}break;case"init-ort":try{un(f.data.in).then(()=>postMessage({type:"init-ort"}),p=>postMessage({type:"init-ort",err:p}))}catch(p){postMessage({type:"init-ort",err:p})}break;case"create_allocate":try{let{model:p}=f.data.in,o=Zt(p);postMessage({type:"create_allocate",out:o})}catch(p){postMessage({type:"create_allocate",err:p})}break;case"create_finalize":try{let{modeldata:p,options:o}=f.data.in,y=Qt(p,o);postMessage({type:"create_finalize",out:y})}catch(p){postMessage({type:"create_finalize",err:p})}break;case"create":try{let{model:p,options:o}=f.data.in,y=fn(p,o);postMessage({type:"create",out:y})}catch(p){postMessage({type:"create",err:p})}break;case"release":try{let p=f.data.in;cn(p),postMessage({type:"release"})}catch(p){postMessage({type:"release",err:p})}break;case"run":try{let{sessionId:p,inputIndices:o,inputs:y,outputIndices:b,options:A}=f.data.in;ln(p,o,y,b,A).then(l=>{postMessage({type:"run",out:l},pn(l))},l=>{postMessage({type:"run",err:l})})}catch(p){postMessage({type:"run",err:p})}break;case"end-profiling":try{let p=f.data.in;dn(p),postMessage({type:"end-profiling"})}catch(p){postMessage({type:"end-profiling",err:p})}break;default:}};})();\n'});var Ye,_e,Vt,Ur,kr,Cr,Pr,Dr,Ir,Rr,xr,Fr,Br,rt,ko,Yt,Ia,Ra,xa,Fa,Lr,Ba,Ua,ka,Wr=G(()=>{"use strict";pt();Pa();mt();Ye=()=>!!Z.wasm.proxy&&typeof document<"u",Vt=!1,Ur=!1,kr=!1,Dr=[],Ir=[],Rr=[],xr=[],Fr=[],Br=[],rt=()=>{if(Vt||!Ur||kr||!_e)throw new Error("worker not ready")},ko=a=>{switch(a.data.type){case"init-wasm":Vt=!1,a.data.err?(kr=!0,Cr[1](a.data.err)):(Ur=!0,Cr[0]());break;case"init-ort":a.data.err?Pr[1](a.data.err):Pr[0]();break;case"create_allocate":a.data.err?Dr.shift()[1](a.data.err):Dr.shift()[0](a.data.out);break;case"create_finalize":a.data.err?Ir.shift()[1](a.data.err):Ir.shift()[0](a.data.out);break;case"create":a.data.err?Rr.shift()[1](a.data.err):Rr.shift()[0](a.data.out);break;case"release":a.data.err?xr.shift()[1](a.data.err):xr.shift()[0]();break;case"run":a.data.err?Fr.shift()[1](a.data.err):Fr.shift()[0](a.data.out);break;case"end-profiling":a.data.err?Br.shift()[1](a.data.err):Br.shift()[0]();break;default:}},Yt=typeof document<"u"?document?.currentScript?.src:void 0,Ia=async()=>{if(Ye()){if(Ur)return;if(Vt)throw new Error("multiple calls to 'initWasm()' detected.");if(kr)throw new Error("previous call to 'initWasm()' failed.");return Vt=!0,Z.wasm.wasmPaths===void 0&&Yt&&Yt.indexOf("blob:")!==0&&(Z.wasm.wasmPaths=Yt.substr(0,+Yt.lastIndexOf("/")+1)),new Promise((a,i)=>{_e?.terminate();let r=URL.createObjectURL(new Blob([Da()],{type:"text/javascript"}));_e=new Worker(r,{name:"ort-wasm-proxy-worker"}),_e.onerror=d=>i(d),_e.onmessage=ko,URL.revokeObjectURL(r),Cr=[a,i];let c={type:"init-wasm",in:Z.wasm};_e.postMessage(c)})}else return pa(Z.wasm)},Ra=async a=>{if(Ye())return rt(),new Promise((i,r)=>{Pr=[i,r];let c={type:"init-ort",in:a};_e.postMessage(c)});await Ta(a)},xa=async a=>Ye()?(rt(),new Promise((i,r)=>{Dr.push([i,r]);let c={type:"create_allocate",in:{model:a}};_e.postMessage(c,[a.buffer])})):Sr(a),Fa=async(a,i)=>Ye()?(rt(),new Promise((r,c)=>{Ir.push([r,c]);let d={type:"create_finalize",in:{modeldata:a,options:i}};_e.postMessage(d)})):Mr(a,i),Lr=async(a,i)=>{if(Ye()){if(i?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return rt(),new Promise((r,c)=>{Rr.push([r,c]);let d={type:"create",in:{model:a,options:i}};_e.postMessage(d,[a.buffer])})}else return Ea(a,i)},Ba=async a=>{if(Ye())return rt(),new Promise((i,r)=>{xr.push([i,r]);let c={type:"release",in:a};_e.postMessage(c)});Aa(a)},Ua=async(a,i,r,c,d,O)=>{if(Ye()){if(r.some(l=>l[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(d.some(l=>l))throw new Error("pre-allocated output tensor is not supported for proxy.");return rt(),new Promise((l,h)=>{Fr.push([l,h]);let v=r,u={type:"run",in:{sessionId:a,inputIndices:i,inputs:v,outputIndices:c,options:O}};_e.postMessage(u,Ca(v))})}else return Sa(a,i,r,c,d,O)},ka=async a=>{if(Ye())return rt(),new Promise((i,r)=>{Br.push([i,r]);let c={type:"end-profiling",in:a};_e.postMessage(c)});Ma(a)}});var La,qt,Wa,Lo,Jt,Ha=G(()=>{"use strict";pt();Wr();Ar();Wa=(a,i)=>{switch(a.location){case"cpu":return[a.type,a.dims,a.data,"cpu"];case"gpu-buffer":return[a.type,a.dims,{gpuBuffer:a.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${a.location} for ${i()}`)}},Lo=a=>{switch(a[3]){case"cpu":return new xe(a[0],a[2],a[1]);case"gpu-buffer":{let i=a[0];if(!Gt(i))throw new Error(`not supported data type: ${i} for deserializing GPU tensor`);let{gpuBuffer:r,download:c,dispose:d}=a[2];return xe.fromGpuBuffer(r,{dataType:i,dims:a[1],download:c,dispose:d})}default:throw new Error(`invalid data location: ${a[3]}`)}},Jt=class{async createSessionAllocate(i){let r=await fetch(i);if(r.status!==200)throw new Error(`failed to load model: ${i}`);let c=await r.arrayBuffer();return xa(new Uint8Array(c))}async loadModel(i,r){if(La||(qt||(qt=Ra(Z)),await qt,qt=void 0,La=!0),typeof i=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let c=await(void 0)(i);[this.sessionId,this.inputNames,this.outputNames]=await Lr(c,r)}else{let c=await this.createSessionAllocate(i);[this.sessionId,this.inputNames,this.outputNames]=await Fa(c,r)}else[this.sessionId,this.inputNames,this.outputNames]=await Lr(i,r)}async dispose(){return Ba(this.sessionId)}async run(i,r,c){let d=[],O=[];Object.entries(i).forEach(E=>{let C=E[0],L=E[1],x=this.inputNames.indexOf(C);if(x===-1)throw new Error(`invalid input '${C}'`);d.push(L),O.push(x)});let l=[],h=[];Object.entries(r).forEach(E=>{let C=E[0],L=E[1],x=this.outputNames.indexOf(C);if(x===-1)throw new Error(`invalid output '${C}'`);l.push(L),h.push(x)});let v=d.map((E,C)=>Wa(E,()=>`input "${this.inputNames[O[C]]}"`)),u=l.map((E,C)=>E?Wa(E,()=>`output "${this.outputNames[h[C]]}"`):null),_=await Ua(this.sessionId,O,v,h,u,c),A={};for(let E=0;E<_.length;E++)A[this.outputNames[h[E]]]=l[E]??Lo(_[E]);return A}startProfiling(){}endProfiling(){ka(this.sessionId)}}});var Wo,Xt,Na=G(()=>{"use strict";pt();Wr();Ha();Wo=()=>{if((typeof Z.wasm.initTimeout!="number"||Z.wasm.initTimeout<0)&&(Z.wasm.initTimeout=0),typeof Z.wasm.simd!="boolean"&&(Z.wasm.simd=!0),typeof Z.wasm.proxy!="boolean"&&(Z.wasm.proxy=!1),typeof Z.wasm.numThreads!="number"||!Number.isInteger(Z.wasm.numThreads)||Z.wasm.numThreads<=0){let a=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Z.wasm.numThreads=Math.min(4,Math.ceil((a||1)/2))}},Xt=class{async init(){Wo(),await Ia()}async createInferenceSessionHandler(i,r){let c=new Jt;return await c.loadModel(i,r),Promise.resolve(c)}}});var ja={};_t(ja,{wasmBackend:()=>Ho});var Hr,Ho,$a=G(()=>{"use strict";Na();Hr=class extends Xt{async createTrainingSessionHandler(i,r,c,d,O){throw new Error("Method not implemented yet.")}},Ho=new Hr});var No={};_t(No,{InferenceSession:()=>wo,Tensor:()=>xe,TrainingSession:()=>vo,env:()=>Z,registerBackend:()=>Tt});pt();pt();var Qn="1.17.0";{let a=($a(),et(ja)).wasmBackend;Tt("cpu",a,10),Tt("wasm",a,10)}Object.defineProperty(Z.versions,"web",{value:Qn,enumerable:!0});return et(No);})();
//# sourceMappingURL=ort.training.wasm.min.js.map
