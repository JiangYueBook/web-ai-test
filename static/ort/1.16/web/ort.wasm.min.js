/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var Rt=Object.defineProperty;var mo=Object.getOwnPropertyDescriptor;var ho=Object.getOwnPropertyNames;var go=Object.prototype.hasOwnProperty;var Z=(o,s)=>()=>(o&&(s=o(o=0)),s);var Dr=(o,s)=>()=>(s||o((s={exports:{}}).exports,s),s.exports),Yr=(o,s)=>{for(var i in s)Rt(o,i,{get:s[i],enumerable:!0})},yo=(o,s,i,p)=>{if(s&&typeof s=="object"||typeof s=="function")for(let m of ho(s))!go.call(o,m)&&m!==i&&Rt(o,m,{get:()=>s[m],enumerable:!(p=mo(s,m))||p.enumerable});return o};var pr=o=>yo(Rt({},"__esModule",{value:!0}),o);var pt,mr,hr,Ln,Wt=Z(()=>{"use strict";pt=new Map,mr=[],hr=(o,s,i)=>{if(s&&typeof s.init=="function"&&typeof s.createInferenceSessionHandler=="function"){let p=pt.get(o);if(p===void 0)pt.set(o,{backend:s,priority:i});else{if(p.priority>i)return;if(p.priority===i&&p.backend!==s)throw new Error(`cannot register backend "${o}" using priority ${i}`)}if(i>=0){let m=mr.indexOf(o);m!==-1&&mr.splice(m,1);for(let O=0;O<mr.length;O++)if(pt.get(mr[O]).priority<=i){mr.splice(O,0,o);return}mr.push(o)}return}throw new TypeError("not a valid backend")},Ln=async o=>{let s=o.length===0?mr:o,i=[];for(let p of s){let m=pt.get(p);if(m){if(m.initialized)return m.backend;if(m.aborted)continue;let O=!!m.initPromise;try{return O||(m.initPromise=m.backend.init()),await m.initPromise,m.initialized=!0,m.backend}catch(d){O||i.push({name:p,err:d}),m.aborted=!0}finally{delete m.initPromise}}}throw new Error(`no available backend found. ERR: ${i.map(p=>`[${p.name}] ${p.err}`).join(", ")}`)}});var $n=Z(()=>{"use strict";Wt()});var Hn,jn=Z(()=>{"use strict";Hn="1.17.0"});var Nn,kt,zn=Z(()=>{"use strict";jn();Nn="warning",kt={wasm:{},webgl:{},webgpu:{},versions:{common:Hn},set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);Nn=o}},get logLevel(){return Nn}};Object.defineProperty(kt,"logLevel",{enumerable:!0})});var ae,Yn=Z(()=>{"use strict";zn();ae=kt});var Gn,Vn,qn=Z(()=>{"use strict";Gn=(o,s)=>{let i=document.createElement("canvas");i.width=o.dims[3],i.height=o.dims[2];let p=i.getContext("2d");if(p!=null){let m,O;s?.tensorLayout!==void 0&&s.tensorLayout==="NHWC"?(m=o.dims[2],O=o.dims[3]):(m=o.dims[3],O=o.dims[2]);let d=s?.format!==void 0?s.format:"RGB",y=s?.norm,_,l;y===void 0||y.mean===void 0?_=[255,255,255,255]:typeof y.mean=="number"?_=[y.mean,y.mean,y.mean,y.mean]:(_=[y.mean[0],y.mean[1],y.mean[2],0],y.mean[3]!==void 0&&(_[3]=y.mean[3])),y===void 0||y.bias===void 0?l=[0,0,0,0]:typeof y.bias=="number"?l=[y.bias,y.bias,y.bias,y.bias]:(l=[y.bias[0],y.bias[1],y.bias[2],0],y.bias[3]!==void 0&&(l[3]=y.bias[3]));let T=O*m,M=0,S=T,D=T*2,j=-1;d==="RGBA"?(M=0,S=T,D=T*2,j=T*3):d==="RGB"?(M=0,S=T,D=T*2):d==="RBG"&&(M=0,D=T,S=T*2);for(let x=0;x<O;x++)for(let L=0;L<m;L++){let Y=(o.data[M++]-l[0])*_[0],U=(o.data[S++]-l[1])*_[1],K=(o.data[D++]-l[2])*_[2],de=j===-1?255:(o.data[j++]-l[3])*_[3];p.fillStyle="rgba("+Y+","+U+","+K+","+de+")",p.fillRect(L,x,1,1)}return i.toDataURL()}else throw new Error("Can not access image data")},Vn=(o,s)=>{let i=document.createElement("canvas").getContext("2d"),p;if(i!=null){let m,O,d;s?.tensorLayout!==void 0&&s.tensorLayout==="NHWC"?(m=o.dims[2],O=o.dims[1],d=o.dims[3]):(m=o.dims[3],O=o.dims[2],d=o.dims[1]);let y=s!==void 0&&s.format!==void 0?s.format:"RGB",_=s?.norm,l,T;_===void 0||_.mean===void 0?l=[255,255,255,255]:typeof _.mean=="number"?l=[_.mean,_.mean,_.mean,_.mean]:(l=[_.mean[0],_.mean[1],_.mean[2],255],_.mean[3]!==void 0&&(l[3]=_.mean[3])),_===void 0||_.bias===void 0?T=[0,0,0,0]:typeof _.bias=="number"?T=[_.bias,_.bias,_.bias,_.bias]:(T=[_.bias[0],_.bias[1],_.bias[2],0],_.bias[3]!==void 0&&(T[3]=_.bias[3]));let M=O*m;if(s!==void 0&&(s.format!==void 0&&d===4&&s.format!=="RGBA"||d===3&&s.format!=="RGB"&&s.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let S=4,D=0,j=1,x=2,L=3,Y=0,U=M,K=M*2,de=-1;y==="RGBA"?(Y=0,U=M,K=M*2,de=M*3):y==="RGB"?(Y=0,U=M,K=M*2):y==="RBG"&&(Y=0,K=M,U=M*2),p=i.createImageData(m,O);for(let J=0;J<O*m;D+=S,j+=S,x+=S,L+=S,J++)p.data[D]=(o.data[Y++]-T[0])*l[0],p.data[j]=(o.data[U++]-T[1])*l[1],p.data[x]=(o.data[K++]-T[2])*l[2],p.data[L]=de===-1?255:(o.data[de++]-T[3])*l[3]}else throw new Error("Can not access image data");return p}});var Lt,Xn,Jn,Zn,Kn,Qn=Z(()=>{"use strict";mt();Lt=(o,s)=>{if(o===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");if(s.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:i,width:p}=s,m=s.norm??{mean:255,bias:0},O,d;typeof m.mean=="number"?O=[m.mean,m.mean,m.mean,m.mean]:O=[m.mean[0],m.mean[1],m.mean[2],m.mean[3]??255],typeof m.bias=="number"?d=[m.bias,m.bias,m.bias,m.bias]:d=[m.bias[0],m.bias[1],m.bias[2],m.bias[3]??0];let y=s.format!==void 0?s.format:"RGBA",_=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",l=i*p,T=_==="RGBA"?new Float32Array(l*4):new Float32Array(l*3),M=4,S=0,D=1,j=2,x=3,L=0,Y=l,U=l*2,K=-1;y==="RGB"&&(M=3,S=0,D=1,j=2,x=-1),_==="RGBA"?K=l*3:_==="RBG"?(L=0,U=l,Y=l*2):_==="BGR"&&(U=0,Y=l,L=l*2);for(let J=0;J<l;J++,S+=M,j+=M,D+=M,x+=M)T[L++]=(o[S]+d[0])/O[0],T[Y++]=(o[D]+d[1])/O[1],T[U++]=(o[j]+d[2])/O[2],K!==-1&&x!==-1&&(T[K++]=(o[x]+d[3])/O[3]);return _==="RGBA"?new Te("float32",T,[1,4,i,p]):new Te("float32",T,[1,3,i,p])},Xn=async(o,s)=>{let i=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,p=typeof ImageData<"u"&&o instanceof ImageData,m=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,O=typeof o=="string",d,y=s??{};if(i){let _=document.createElement("canvas");_.width=o.width,_.height=o.height;let l=_.getContext("2d");if(l!=null){let T=o.height,M=o.width;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(T=s.resizedHeight,M=s.resizedWidth),s!==void 0){if(y=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");y.tensorFormat="RGBA",y.height=T,y.width=M}else y.tensorFormat="RGBA",y.height=T,y.width=M;l.drawImage(o,0,0),d=l.getImageData(0,0,M,T).data}else throw new Error("Can not access image data")}else if(p){let _,l;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(_=s.resizedHeight,l=s.resizedWidth):(_=o.height,l=o.width),s!==void 0&&(y=s),y.format="RGBA",y.height=_,y.width=l,s!==void 0){let T=document.createElement("canvas");T.width=l,T.height=_;let M=T.getContext("2d");if(M!=null)M.putImageData(o,0,0),d=M.getImageData(0,0,l,_).data;else throw new Error("Can not access image data")}else d=o.data}else if(m){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");let _=document.createElement("canvas");_.width=o.width,_.height=o.height;let l=_.getContext("2d");if(l!=null){let T=o.height,M=o.width;return l.drawImage(o,0,0,M,T),d=l.getImageData(0,0,M,T).data,y.height=T,y.width=M,Lt(d,y)}else throw new Error("Can not access image data")}else{if(O)return new Promise((_,l)=>{let T=document.createElement("canvas"),M=T.getContext("2d");if(!o||!M)return l();let S=new Image;S.crossOrigin="Anonymous",S.src=o,S.onload=()=>{T.width=S.width,T.height=S.height,M.drawImage(S,0,0,T.width,T.height);let D=M.getImageData(0,0,T.width,T.height);y.height=T.height,y.width=T.width,_(Lt(D.data,y))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return Lt(d,y);throw new Error("Input data provided is not supported - aborted tensor creation")},Jn=(o,s)=>{let{width:i,height:p,download:m,dispose:O}=s,d=[1,p,i,4];return new Te({location:"texture",type:"float32",texture:o,dims:d,download:m,dispose:O})},Zn=(o,s)=>{let{dataType:i,dims:p,download:m,dispose:O}=s;return new Te({location:"gpu-buffer",type:i??"float32",gpuBuffer:o,dims:p,download:m,dispose:O})},Kn=(o,s,i)=>new Te({location:"cpu-pinned",type:o,data:s,dims:i??[s.length]})});var Gr,ht,ea,ra,ta=Z(()=>{"use strict";Gr=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),ht=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),ea=!1,ra=()=>{if(!ea){ea=!0;let o=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",s=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";o&&(Gr.set("int64",BigInt64Array),ht.set(BigInt64Array,"int64")),s&&(Gr.set("uint64",BigUint64Array),ht.set(BigUint64Array,"uint64"))}}});var na,aa,oa=Z(()=>{"use strict";mt();na=o=>{let s=1;for(let i=0;i<o.length;i++){let p=o[i];if(typeof p!="number"||!Number.isSafeInteger(p))throw new TypeError(`dims[${i}] must be an integer, got: ${p}`);if(p<0)throw new RangeError(`dims[${i}] must be a non-negative integer, got: ${p}`);s*=p}return s},aa=(o,s)=>{switch(o.location){case"cpu":return new Te(o.type,o.data,s);case"cpu-pinned":return new Te({location:"cpu-pinned",data:o.data,type:o.type,dims:s});case"texture":return new Te({location:"texture",texture:o.texture,type:o.type,dims:s});case"gpu-buffer":return new Te({location:"gpu-buffer",gpuBuffer:o.gpuBuffer,type:o.type,dims:s});default:throw new Error(`tensorReshape: tensor location ${o.location} is not supported`)}}});var Te,mt=Z(()=>{"use strict";qn();Qn();ta();oa();Te=class{constructor(s,i,p){ra();let m,O;if(typeof s=="object"&&"location"in s)switch(this.dataLocation=s.location,m=s.type,O=s.dims,s.location){case"cpu-pinned":{let y=Gr.get(m);if(!y)throw new TypeError(`unsupported type "${m}" to create tensor from pinned buffer`);if(!(s.data instanceof y))throw new TypeError(`buffer should be of type ${y.name}`);this.cpuData=s.data;break}case"texture":{if(m!=="float32")throw new TypeError(`unsupported type "${m}" to create tensor from texture`);this.gpuTextureData=s.texture,this.downloader=s.download,this.disposer=s.dispose;break}case"gpu-buffer":{if(m!=="float32"&&m!=="float16"&&m!=="int32"&&m!=="int64"&&m!=="uint32"&&m!=="bool")throw new TypeError(`unsupported type "${m}" to create tensor from gpu buffer`);this.gpuBufferData=s.gpuBuffer,this.downloader=s.download,this.disposer=s.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let y,_;if(typeof s=="string")if(m=s,_=p,s==="string"){if(!Array.isArray(i))throw new TypeError("A string tensor's data must be a string array.");y=i}else{let l=Gr.get(s);if(l===void 0)throw new TypeError(`Unsupported tensor type: ${s}.`);if(Array.isArray(i)){if(s==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");s==="uint64"||s==="int64"?y=l.from(i,BigInt):y=l.from(i)}else if(i instanceof l)y=i;else throw new TypeError(`A ${m} tensor's data must be type of ${l}`)}else if(_=i,Array.isArray(s)){if(s.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let l=typeof s[0];if(l==="string")m="string",y=s;else if(l==="boolean")m="bool",y=Uint8Array.from(s);else throw new TypeError(`Invalid element type of data array: ${l}.`)}else{let l=ht.get(s.constructor);if(l===void 0)throw new TypeError(`Unsupported type for tensor data: ${s.constructor}.`);m=l,y=s}if(_===void 0)_=[y.length];else if(!Array.isArray(_))throw new TypeError("A tensor's dims must be a number array");O=_,this.cpuData=y,this.dataLocation="cpu"}let d=na(O);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=m,this.dims=O,this.size=d}static async fromImage(s,i){return Xn(s,i)}static fromTexture(s,i){return Jn(s,i)}static fromGpuBuffer(s,i){return Zn(s,i)}static fromPinnedBuffer(s,i,p){return Kn(s,i,p)}toDataURL(s){return Gn(this,s)}toImageData(s){return Vn(this,s)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(s){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let i=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=i,s&&this.disposer&&(this.disposer(),this.disposer=void 0),i}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(s){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return aa(this,s)}}});var He,$t=Z(()=>{"use strict";mt();He=Te});var gt,ia=Z(()=>{"use strict";Wt();$t();gt=class o{constructor(s){this.handler=s}async run(s,i,p){let m={},O={};if(typeof s!="object"||s===null||s instanceof He||Array.isArray(s))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof i=="object"){if(i===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(i instanceof He)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(i)){if(i.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let l of i){if(typeof l!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(l)===-1)throw new RangeError(`'fetches' contains invalid output name: ${l}.`);m[l]=null}if(typeof p=="object"&&p!==null)O=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else{let l=!1,T=Object.getOwnPropertyNames(i);for(let M of this.outputNames)if(T.indexOf(M)!==-1){let S=i[M];(S===null||S instanceof He)&&(l=!0,d=!1,m[M]=S)}if(l){if(typeof p=="object"&&p!==null)O=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else O=i}}else if(typeof i<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let l of this.inputNames)if(typeof s[l]>"u")throw new Error(`input '${l}' is missing in 'feeds'.`);if(d)for(let l of this.outputNames)m[l]=null;let y=await this.handler.run(s,m,O),_={};for(let l in y)if(Object.hasOwnProperty.call(y,l)){let T=y[l];T instanceof He?_[l]=T:_[l]=new He(T.type,T.data,T.dims)}return _}async release(){return this.handler.dispose()}static async create(s,i,p,m){let O,d={};if(typeof s=="string"){if(O=s,typeof i=="object"&&i!==null)d=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof Uint8Array){if(O=s,typeof i=="object"&&i!==null)d=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer){let M=s,S=0,D=s.byteLength;if(typeof i=="object"&&i!==null)d=i;else if(typeof i=="number"){if(S=i,!Number.isSafeInteger(S))throw new RangeError("'byteOffset' must be an integer.");if(S<0||S>=M.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${M.byteLength}).`);if(D=s.byteLength-S,typeof p=="number"){if(D=p,!Number.isSafeInteger(D))throw new RangeError("'byteLength' must be an integer.");if(D<=0||S+D>M.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${M.byteLength-S}].`);if(typeof m=="object"&&m!==null)d=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else if(typeof p<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof i<"u")throw new TypeError("'options' must be an object.");O=new Uint8Array(M,S,D)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let _=(d.executionProviders||[]).map(M=>typeof M=="string"?M:M.name),T=await(await Ln(_)).createInferenceSessionHandler(O,d);return new o(T)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var vo,sa=Z(()=>{"use strict";ia();vo=gt});var ua=Z(()=>{"use strict"});var yt,fa=Z(()=>{"use strict";yt=class{constructor(s){this.handler=s}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(s,i){throw new Error("Method not implemented")}async loadParametersBuffer(s,i){throw new Error("Method not implemented.")}async getContiguousParameters(s){throw new Error("Method not implemented.")}async runTrainStep(s,i,p){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var bo,la=Z(()=>{"use strict";fa();bo=yt});var Fr=Z(()=>{"use strict";$n();Yn();sa();$t();ua();la()});var Ht={};Yr(Ht,{readFile:()=>wo});var wo,jt=Z(()=>{wo=void 0});var Nt={};Yr(Nt,{join:()=>_o});var _o,zt=Z(()=>{_o=void 0});var ma=Dr((pa,Yt)=>{"use strict";var da=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(s={}){var i=s,p,m;i.ready=new Promise((t,n)=>{p=t,m=n});var O=Object.assign({},i),d="./this.program",y=typeof window=="object",_=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T="",M,S,D;if(l){var j=(jt(),pr(Ht)),x=(zt(),pr(Nt));T=_?x.dirname(T)+"/":__dirname+"/",M=(t,n)=>(t=t.startsWith("file://")?new URL(t):x.normalize(t),j.readFileSync(t,n?void 0:"utf8")),D=t=>(t=M(t,!0),t.buffer||(t=new Uint8Array(t)),t),S=(t,n,u,c=!0)=>{t=t.startsWith("file://")?new URL(t):x.normalize(t),j.readFile(t,c?void 0:"utf8",(g,A)=>{g?u(g):n(c?A.buffer:A)})},!i.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),i.inspect=()=>"[Emscripten Module object]"}else(y||_)&&(_?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),o&&(T=o),T.indexOf("blob:")!==0?T=T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):T="",M=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},_&&(D=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),S=(t,n,u)=>{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?n(c.response):u()},c.onerror=u,c.send(null)});var L=console.log.bind(console),Y=console.error.bind(console);Object.assign(i,O),O=null,typeof WebAssembly!="object"&&rr("no native wasm support detected");var U,K=!1,de,J,Ae,De,I,G,Ke,Qe,er,ce;function V(){var t=U.buffer;i.HEAP8=de=new Int8Array(t),i.HEAP16=Ae=new Int16Array(t),i.HEAPU8=J=new Uint8Array(t),i.HEAPU16=De=new Uint16Array(t),i.HEAP32=I=new Int32Array(t),i.HEAPU32=G=new Uint32Array(t),i.HEAPF32=Ke=new Float32Array(t),i.HEAPF64=ce=new Float64Array(t),i.HEAP64=Qe=new BigInt64Array(t),i.HEAPU64=er=new BigUint64Array(t)}var Q=[],je=[],ve=[],me=0,ee=null,pe=null;function rr(t){throw t="Aborted("+t+")",Y(t),K=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),m(t),t}function Le(t){return t.startsWith("data:application/octet-stream;base64,")}var Be;if(Be="ort-wasm.wasm",!Le(Be)){var qe=Be;Be=i.locateFile?i.locateFile(qe,T):T+qe}function tr(t){if(D)return D(t);throw"both async and sync fetching of the wasm failed"}function be(t){if(y||_){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+t+"'";return n.arrayBuffer()}).catch(()=>tr(t));if(S)return new Promise((n,u)=>{S(t,c=>n(new Uint8Array(c)),u)})}return Promise.resolve().then(()=>tr(t))}function Re(t,n,u){return be(t).then(c=>WebAssembly.instantiate(c,n)).then(c=>c).then(u,c=>{Y(`failed to asynchronously prepare wasm: ${c}`),rr(c)})}function nr(t,n){var u=Be;return typeof WebAssembly.instantiateStreaming!="function"||Le(u)||u.startsWith("file://")||l||typeof fetch!="function"?Re(u,t,n):fetch(u,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,t).then(n,function(g){return Y(`wasm streaming compile failed: ${g}`),Y("falling back to ArrayBuffer instantiation"),Re(u,t,n)}))}function te(t){this.Va=t-24,this.fb=function(n){G[this.Va+4>>>2>>>0]=n},this.eb=function(n){G[this.Va+8>>>2>>>0]=n},this.Za=function(n,u){this.$a(),this.fb(n),this.eb(u)},this.$a=function(){G[this.Va+16>>>2>>>0]=0}}var ue=0,Xe=0,Ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,yr=(t,n,u)=>{n>>>=0;var c=n+u;for(u=n;t[u]&&!(u>=c);)++u;if(16<u-n&&t.buffer&&Ne)return Ne.decode(t.subarray(n,u));for(c="";n<u;){var g=t[n++];if(g&128){var A=t[n++]&63;if((g&224)==192)c+=String.fromCharCode((g&31)<<6|A);else{var F=t[n++]&63;g=(g&240)==224?(g&15)<<12|A<<6|F:(g&7)<<18|A<<12|F<<6|t[n++]&63,65536>g?c+=String.fromCharCode(g):(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else c+=String.fromCharCode(g)}return c},ar=(t,n)=>(t>>>=0)?yr(J,t,n):"",ze=t=>{for(var n=0,u=0;u<t.length;++u){var c=t.charCodeAt(u);127>=c?n++:2047>=c?n+=2:55296<=c&&57343>=c?(n+=4,++u):n+=3}return n},We=(t,n,u,c)=>{if(u>>>=0,!(0<c))return 0;var g=u;c=u+c-1;for(var A=0;A<t.length;++A){var F=t.charCodeAt(A);if(55296<=F&&57343>=F){var P=t.charCodeAt(++A);F=65536+((F&1023)<<10)|P&1023}if(127>=F){if(u>=c)break;n[u++>>>0]=F}else{if(2047>=F){if(u+1>=c)break;n[u++>>>0]=192|F>>6}else{if(65535>=F){if(u+2>=c)break;n[u++>>>0]=224|F>>12}else{if(u+3>=c)break;n[u++>>>0]=240|F>>18,n[u++>>>0]=128|F>>12&63}n[u++>>>0]=128|F>>6&63}n[u++>>>0]=128|F&63}}return n[u>>>0]=0,u-g},vr=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Je,Ee=t=>{for(var n="";J[t>>>0];)n+=Je[J[t++>>>0]];return n},$e={},br={},or={},ke;function St(t,n,u={}){var c=n.name;if(!t)throw new ke(`type "${c}" must have a positive integer typeid pointer`);if(br.hasOwnProperty(t)){if(u.gb)return;throw new ke(`Cannot register type '${c}' twice`)}br[t]=n,delete or[t],$e.hasOwnProperty(t)&&(n=$e[t],delete $e[t],n.forEach(g=>g()))}function Fe(t,n,u={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");St(t,n,u)}var Xr=(t,n,u)=>{switch(n){case 1:return u?c=>de[c>>>0>>>0]:c=>J[c>>>0>>>0];case 2:return u?c=>Ae[c>>>1>>>0]:c=>De[c>>>1>>>0];case 4:return u?c=>I[c>>>2>>>0]:c=>G[c>>>2>>>0];case 8:return u?c=>Qe[c>>>3]:c=>er[c>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function ir(){this.Sa=[void 0],this.bb=[]}var ye=new ir;function wr(t){t>>>=0,t>=ye.Va&&--ye.get(t).cb===0&&ye.$a(t)}var he=t=>{if(!t)throw new ke("Cannot use deleted val. handle = "+t);return ye.get(t).value},we=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ye.Za({cb:1,value:t})}};function sr(t){return this.fromWireType(I[t>>>2>>>0])}var Jr=(t,n)=>{switch(n){case 4:return function(u){return this.fromWireType(Ke[u>>>2>>>0])};case 8:return function(u){return this.fromWireType(ce[u>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function xr(t){return this.fromWireType(G[t>>>2>>>0])}var Zr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,W=(t,n)=>{for(var u=t>>1,c=u+n/2;!(u>=c)&&De[u>>>0];)++u;if(u<<=1,32<u-t&&Zr)return Zr.decode(J.subarray(t>>>0,u>>>0));for(u="",c=0;!(c>=n/2);++c){var g=Ae[t+2*c>>>1>>>0];if(g==0)break;u+=String.fromCharCode(g)}return u},_r=(t,n,u)=>{if(u===void 0&&(u=2147483647),2>u)return 0;u-=2;var c=n;u=u<2*t.length?u/2:t.length;for(var g=0;g<u;++g)Ae[n>>>1>>>0]=t.charCodeAt(g),n+=2;return Ae[n>>>1>>>0]=0,n-c},Kr=t=>2*t.length,Or=(t,n)=>{for(var u=0,c="";!(u>=n/4);){var g=I[t+4*u>>>2>>>0];if(g==0)break;++u,65536<=g?(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023)):c+=String.fromCharCode(g)}return c},Qr=(t,n,u)=>{if(n>>>=0,u===void 0&&(u=2147483647),4>u)return 0;var c=n;u=c+u-4;for(var g=0;g<t.length;++g){var A=t.charCodeAt(g);if(55296<=A&&57343>=A){var F=t.charCodeAt(++g);A=65536+((A&1023)<<10)|F&1023}if(I[n>>>2>>>0]=A,n+=4,n+4>u)break}return I[n>>>2>>>0]=0,n-c},Mt=t=>{for(var n=0,u=0;u<t.length;++u){var c=t.charCodeAt(u);55296<=c&&57343>=c&&++u,n+=4}return n},ur=(t,n)=>{var u=br[t];if(u===void 0)throw t=_e(t),u=Ee(t),Ue(t),new ke(n+" has unknown type "+u);return u},Ct={},fr=t=>{var n=Ct[t];return n===void 0?Ee(t):n},lr=[],Br=()=>typeof globalThis=="object"?globalThis:Function("return this")(),et=t=>{var n=lr.length;return lr.push(t),n},Tr=(t,n)=>{for(var u=Array(t),c=0;c<t;++c)u[c]=ur(G[n+4*c>>>2>>>0],"parameter "+c);return u},Rr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},Ar={};function rt(t,n){return t=Rr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function tt(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var u=rt(n.name||"unknownFunctionName",function(){});return u.prototype=n.prototype,u=new u,t=n.apply(u,t),t instanceof Object?t:u}var nt=t=>{for(var n="",u=0;u<t;++u)n+=(u!==0?", ":"")+"arg"+u;var c="return function emval_allocator_"+t+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(u=0;u<t;++u)c+="var argType"+u+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+u+`');
var arg`+u+" = argType"+u+`.readValueFromPointer(args);
args += argType`+u+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",c+("var obj = new constructor("+n+`);
return valueToHandle(obj);
}
`))(ur,i,we,()=>G)},Wr={},Ye=t=>t%4===0&&(t%100!==0||t%400===0),kr=[0,31,60,91,121,152,182,213,244,274,305,335],Lr=[0,31,59,90,120,151,181,212,243,273,304,334],$r=t=>{var n=ze(t)+1,u=cr(n);return u&&We(t,J,u,n),u},Er={},Hr=()=>{if(!Sr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in Er)Er[n]===void 0?delete t[n]:t[n]=Er[n];var u=[];for(n in t)u.push(`${n}=${t[n]}`);Sr=u}return Sr},Sr,at=[null,[],[]],jr=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Nr(t){var n=Array(ze(t)+1);return We(t,n,0,n.length),n}function Mr(t,n,u,c){function g(b,q,re){for(b=typeof b=="number"?b.toString():b||"";b.length<q;)b=re[0]+b;return b}function A(b,q){return g(b,q,"0")}function F(b,q){function re(zr){return 0>zr?-1:0<zr?1:0}var xe;return(xe=re(b.getFullYear()-q.getFullYear()))===0&&(xe=re(b.getMonth()-q.getMonth()))===0&&(xe=re(b.getDate()-q.getDate())),xe}function P(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function k(b){var q=b.Ta;for(b=new Date(new Date(b.Ua+1900,0,1).getTime());0<q;){var re=b.getMonth(),xe=(Ye(b.getFullYear())?jr:Se)[re];if(q>xe-b.getDate())q-=xe-b.getDate()+1,b.setDate(1),11>re?b.setMonth(re+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else{b.setDate(b.getDate()+q);break}}return re=new Date(b.getFullYear()+1,0,4),q=P(new Date(b.getFullYear(),0,4)),re=P(re),0>=F(q,b)?0>=F(re,b)?b.getFullYear()+1:b.getFullYear():b.getFullYear()-1}t>>>=0,n>>>=0,u>>>=0,c>>>=0;var H=G[c+40>>>2>>>0];c={kb:I[c>>>2>>>0],jb:I[c+4>>>2>>>0],Xa:I[c+8>>>2>>>0],ab:I[c+12>>>2>>>0],Ya:I[c+16>>>2>>>0],Ua:I[c+20>>>2>>>0],Oa:I[c+24>>>2>>>0],Ta:I[c+28>>>2>>>0],mb:I[c+32>>>2>>>0],ib:I[c+36>>>2>>>0],lb:H?ar(H):""},u=ar(u),H={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in H)u=u.replace(new RegExp(ne,"g"),H[ne]);var z="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ce="January February March April May June July August September October November December".split(" ");H={"%a":b=>z[b.Oa].substring(0,3),"%A":b=>z[b.Oa],"%b":b=>Ce[b.Ya].substring(0,3),"%B":b=>Ce[b.Ya],"%C":b=>A((b.Ua+1900)/100|0,2),"%d":b=>A(b.ab,2),"%e":b=>g(b.ab,2," "),"%g":b=>k(b).toString().substring(2),"%G":b=>k(b),"%H":b=>A(b.Xa,2),"%I":b=>(b=b.Xa,b==0?b=12:12<b&&(b-=12),A(b,2)),"%j":b=>{for(var q=0,re=0;re<=b.Ya-1;q+=(Ye(b.Ua+1900)?jr:Se)[re++]);return A(b.ab+q,3)},"%m":b=>A(b.Ya+1,2),"%M":b=>A(b.jb,2),"%n":()=>`
`,"%p":b=>0<=b.Xa&&12>b.Xa?"AM":"PM","%S":b=>A(b.kb,2),"%t":()=>"	","%u":b=>b.Oa||7,"%U":b=>A(Math.floor((b.Ta+7-b.Oa)/7),2),"%V":b=>{var q=Math.floor((b.Ta+7-(b.Oa+6)%7)/7);if(2>=(b.Oa+371-b.Ta-2)%7&&q++,q)q==53&&(re=(b.Oa+371-b.Ta)%7,re==4||re==3&&Ye(b.Ua)||(q=1));else{q=52;var re=(b.Oa+7-b.Ta-1)%7;(re==4||re==5&&Ye(b.Ua%400-1))&&q++}return A(q,2)},"%w":b=>b.Oa,"%W":b=>A(Math.floor((b.Ta+7-(b.Oa+6)%7)/7),2),"%y":b=>(b.Ua+1900).toString().substring(2),"%Y":b=>b.Ua+1900,"%z":b=>{b=b.ib;var q=0<=b;return b=Math.abs(b)/60,(q?"+":"-")+("0000"+(b/60*100+b%60)).slice(-4)},"%Z":b=>b.lb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(ne in H)u.includes(ne)&&(u=u.replace(new RegExp(ne,"g"),H[ne](c)));return u=u.replace(/\0\0/g,"%"),ne=Nr(u),ne.length>n?0:(de.set(ne,t>>>0),ne.length-1)}for(var ot=Array(256),Me=0;256>Me;++Me)ot[Me]=String.fromCharCode(Me);Je=ot,ke=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(ir.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),ye.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),ye.Va=ye.Sa.length,i.count_emval_handles=()=>{for(var t=0,n=ye.Va;n<ye.Sa.length;++n)ye.Sa[n]!==void 0&&++t;return t};var Pt={a:function(t,n,u){throw t>>>=0,new te(t).Za(n>>>0,u>>>0),ue=t,Xe++,ue},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},A:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},D:function(t,n,u,c,g){n>>>=0,n=Ee(n);var A=n.indexOf("u")!=-1;A&&(g=(1n<<64n)-1n),Fe(t>>>0,{name:n,fromWireType:F=>F,toWireType:function(F,P){if(typeof P!="bigint"&&typeof P!="number")throw new TypeError(`Cannot convert "${vr(P)}" to ${this.name}`);if(P<c||P>g)throw new TypeError(`Passing a number "${vr(P)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${c}, ${g}]!`);return P},argPackAdvance:8,readValueFromPointer:Xr(n,u>>>0,!A),Wa:null})},ea:function(t,n,u,c){n=Ee(n>>>0),Fe(t>>>0,{name:n,fromWireType:function(g){return!!g},toWireType:function(g,A){return A?u:c},argPackAdvance:8,readValueFromPointer:function(g){return this.fromWireType(J[g>>>0])},Wa:null})},da:function(t,n){n=Ee(n>>>0),Fe(t>>>0,{name:n,fromWireType:u=>{var c=he(u);return wr(u),c},toWireType:(u,c)=>we(c),argPackAdvance:8,readValueFromPointer:sr,Wa:null})},C:function(t,n,u){n=Ee(n>>>0),Fe(t>>>0,{name:n,fromWireType:c=>c,toWireType:(c,g)=>g,argPackAdvance:8,readValueFromPointer:Jr(n,u>>>0),Wa:null})},p:function(t,n,u,c,g){if(t>>>=0,u>>>=0,n=Ee(n>>>0),g===-1&&(g=4294967295),g=P=>P,c===0){var A=32-8*u;g=P=>P<<A>>>A}var F=n.includes("unsigned")?function(P,k){return k>>>0}:function(P,k){return k};Fe(t,{name:n,fromWireType:g,toWireType:F,argPackAdvance:8,readValueFromPointer:Xr(n,u,c!==0),Wa:null})},l:function(t,n,u){function c(A){return new g(de.buffer,G[A+4>>>2>>>0],G[A>>>2>>>0])}var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];u=Ee(u>>>0),Fe(t>>>0,{name:u,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{gb:!0})},E:function(t,n){n=Ee(n>>>0);var u=n==="std::string";Fe(t>>>0,{name:n,fromWireType:function(c){var g=G[c>>>2>>>0],A=c+4;if(u)for(var F=A,P=0;P<=g;++P){var k=A+P;if(P==g||J[k>>>0]==0){if(F=ar(F,k-F),H===void 0)var H=F;else H+=String.fromCharCode(0),H+=F;F=k+1}}else{for(H=Array(g),P=0;P<g;++P)H[P]=String.fromCharCode(J[A+P>>>0]);H=H.join("")}return Ue(c),H},toWireType:function(c,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var A=typeof g=="string";if(!(A||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array))throw new ke("Cannot pass non-string to std::string");var F=u&&A?ze(g):g.length,P=cr(4+F+1),k=P+4;if(G[P>>>2>>>0]=F,u&&A)We(g,J,k,F+1);else if(A)for(A=0;A<F;++A){var H=g.charCodeAt(A);if(255<H)throw Ue(k),new ke("String has UTF-16 code units that do not fit in 8 bits");J[k+A>>>0]=H}else for(A=0;A<F;++A)J[k+A>>>0]=g[A];return c!==null&&c.push(Ue,P),P},argPackAdvance:8,readValueFromPointer:xr,Wa(c){Ue(c)}})},x:function(t,n,u){if(n>>>=0,u>>>=0,u=Ee(u),n===2)var c=W,g=_r,A=Kr,F=()=>De,P=1;else n===4&&(c=Or,g=Qr,A=Mt,F=()=>G,P=2);Fe(t>>>0,{name:u,fromWireType:k=>{for(var H=G[k>>>2>>>0],ne=F(),z,Ce=k+4,b=0;b<=H;++b){var q=k+4+b*n;(b==H||ne[q>>>P]==0)&&(Ce=c(Ce,q-Ce),z===void 0?z=Ce:(z+=String.fromCharCode(0),z+=Ce),Ce=q+n)}return Ue(k),z},toWireType:(k,H)=>{if(typeof H!="string")throw new ke(`Cannot pass non-string to C++ string type ${u}`);var ne=A(H),z=cr(4+ne+n);return G[z>>>2]=ne>>P,g(H,z+4,ne+n),k!==null&&k.push(Ue,z),z},argPackAdvance:8,readValueFromPointer:sr,Wa(k){Ue(k)}})},fa:function(t,n){n=Ee(n>>>0),Fe(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,u){n>>>=0,u>>>=0,t=he(t>>>0),n=ur(n,"emval::as");var c=[],g=we(c);return G[u>>>2>>>0]=g,n.toWireType(c,t)},h:function(t,n,u,c,g){u>>>=0,c>>>=0,g>>>=0,t=lr[t>>>0],n=he(n>>>0),u=fr(u);var A=[];return G[c>>>2>>>0]=we(A),t(n,u,A,g)},r:function(t,n,u,c){u>>>=0,c>>>=0,t=lr[t>>>0],n=he(n>>>0),u=fr(u),t(n,u,null,c)},b:wr,F:function(t,n){return n>>>=0,t=he(t>>>0),n=he(n),t==n},u:function(t){return t>>>=0,t===0?we(Br()):(t=fr(t),we(Br()[t]))},g:function(t,n){var u=Tr(t,n>>>0),c=u[0];n=c.name+"_$"+u.slice(1).map(function(ne){return ne.name}).join("_")+"$";var g=Ar[n];if(g!==void 0)return g;g=["retType"];for(var A=[c],F="",P=0;P<t-1;++P)F+=(P!==0?", ":"")+"arg"+P,g.push("argType"+P),A.push(u[1+P]);var k="return function "+Rr("methodCaller_"+n)+`(handle, name, destructors, args) {
`,H=0;for(P=0;P<t-1;++P)k+="    var arg"+P+" = argType"+P+".readValueFromPointer(args"+(H?"+"+H:"")+`);
`,H+=u[P+1].argPackAdvance;for(k+="    var rv = handle[name]("+F+`);
`,P=0;P<t-1;++P)u[P+1].deleteObject&&(k+="    argType"+P+".deleteObject(arg"+P+`);
`);return c.hb||(k+=`    return retType.toWireType(destructors, rv);
`),g.push(k+`};
`),t=tt(g).apply(null,A),g=et(t),Ar[n]=g},q:function(t,n){return n>>>=0,t=he(t>>>0),n=he(n),we(t[n])},c:function(t){t>>>=0,4<t&&(ye.get(t).cb+=1)},G:function(t,n,u,c){u>>>=0,c>>>=0,t=he(t>>>0);var g=Wr[n];return g||(g=nt(n),Wr[n]=g),g(t,u,c)},s:function(){return we([])},k:function(t){t=he(t>>>0);for(var n=Array(t.length),u=0;u<t.length;u++)n[u]=t[u];return we(n)},d:function(t){return we(fr(t>>>0))},j:function(){return we({})},f:function(t){t>>>=0;for(var n=he(t);n.length;){var u=n.pop();n.pop()(u)}wr(t)},i:function(t,n,u){n>>>=0,u>>>=0,t=he(t>>>0),n=he(n),u=he(u),t[n]=u},e:function(t,n){return n>>>=0,t=ur(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),we(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),I[n>>>2>>>0]=t.getUTCSeconds(),I[n+4>>>2>>>0]=t.getUTCMinutes(),I[n+8>>>2>>>0]=t.getUTCHours(),I[n+12>>>2>>>0]=t.getUTCDate(),I[n+16>>>2>>>0]=t.getUTCMonth(),I[n+20>>>2>>>0]=t.getUTCFullYear()-1900,I[n+24>>>2>>>0]=t.getUTCDay(),I[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),I[n>>>2>>>0]=t.getSeconds(),I[n+4>>>2>>>0]=t.getMinutes(),I[n+8>>>2>>>0]=t.getHours(),I[n+12>>>2>>>0]=t.getDate(),I[n+16>>>2>>>0]=t.getMonth(),I[n+20>>>2>>>0]=t.getFullYear()-1900,I[n+24>>>2>>>0]=t.getDay(),I[n+28>>>2>>>0]=(Ye(t.getFullYear())?kr:Lr)[t.getMonth()]+t.getDate()-1|0,I[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var u=new Date(t.getFullYear(),6,1).getTimezoneOffset(),c=new Date(t.getFullYear(),0,1).getTimezoneOffset();I[n+32>>>2>>>0]=(u!=c&&t.getTimezoneOffset()==Math.min(c,u))|0},U:function(t){t>>>=0;var n=new Date(I[t+20>>>2>>>0]+1900,I[t+16>>>2>>>0],I[t+12>>>2>>>0],I[t+8>>>2>>>0],I[t+4>>>2>>>0],I[t>>>2>>>0],0),u=I[t+32>>>2>>>0],c=n.getTimezoneOffset(),g=new Date(n.getFullYear(),6,1).getTimezoneOffset(),A=new Date(n.getFullYear(),0,1).getTimezoneOffset(),F=Math.min(A,g);return 0>u?I[t+32>>>2>>>0]=+(g!=A&&F==c):0<u!=(F==c)&&(g=Math.max(A,g),n.setTime(n.getTime()+6e4*((0<u?F:g)-c))),I[t+24>>>2>>>0]=n.getDay(),I[t+28>>>2>>>0]=(Ye(n.getFullYear())?kr:Lr)[n.getMonth()]+n.getDate()-1|0,I[t>>>2>>>0]=n.getSeconds(),I[t+4>>>2>>>0]=n.getMinutes(),I[t+8>>>2>>>0]=n.getHours(),I[t+12>>>2>>>0]=n.getDate(),I[t+16>>>2>>>0]=n.getMonth(),I[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,u){function c(k){return(k=k.toTimeString().match(/\(([A-Za-z ]+)\)$/))?k[1]:"GMT"}u>>>=0;var g=new Date().getFullYear(),A=new Date(g,0,1),F=new Date(g,6,1);g=A.getTimezoneOffset();var P=F.getTimezoneOffset();G[t>>>0>>>2>>>0]=60*Math.max(g,P),I[n>>>0>>>2>>>0]=+(g!=P),t=c(A),n=c(F),t=$r(t),n=$r(n),P<g?(G[u>>>2>>>0]=t,G[u+4>>>2>>>0]=n):(G[u>>>2>>>0]=n,G[u+4>>>2>>>0]=t)},t:()=>{rr("")},B:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,u){return n>>>=0,J.copyWithin(t>>>0>>>0,n>>>0,n+(u>>>0)>>>0)},I:function(t){t>>>=0;var n=J.length;if(4294901760<t)return!1;for(var u=1;4>=u;u*=2){var c=n*(1+.2/u);c=Math.min(c,t+100663296);var g=Math;c=Math.max(t,c);e:{g=(g.min.call(g,4294901760,c+(65536-c%65536)%65536)-U.buffer.byteLength+65535)/65536;try{U.grow(g),V();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var u=0;return Hr().forEach((c,g)=>{var A=n+u;for(g=G[t+4*g>>>2>>>0]=A,A=0;A<c.length;++A)de[g++>>>0>>>0]=c.charCodeAt(A);de[g>>>0>>>0]=0,u+=c.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var u=Hr();G[t>>>2>>>0]=u.length;var c=0;return u.forEach(g=>c+=g.length+1),G[n>>>2>>>0]=c,0},w:()=>52,z:function(){return 52},W:function(){return 70},y:function(t,n,u,c){n>>>=0,u>>>=0,c>>>=0;for(var g=0,A=0;A<u;A++){var F=G[n>>>2>>>0],P=G[n+4>>>2>>>0];n+=8;for(var k=0;k<P;k++){var H=J[F+k>>>0],ne=at[t];H===0||H===10?((t===1?L:Y)(yr(ne,0)),ne.length=0):ne.push(H)}g+=P}return G[c>>>2>>>0]=g,0},ga:Mr,m:function(t,n,u,c){return Mr(t>>>0,n>>>0,u>>>0,c>>>0)}},B=function(){var t={a:Pt};return me++,nr(t,function(n){B=n.instance.exports,B=it(),U=B.ha,V(),je.unshift(B.ia),me--,me==0&&(ee!==null&&(clearInterval(ee),ee=null),pe&&(n=pe,pe=null,n()))}).catch(m),{}}();i._OrtInit=(t,n)=>(i._OrtInit=B.ja)(t,n),i._OrtGetLastError=(t,n)=>(i._OrtGetLastError=B.ka)(t,n),i._OrtCreateSessionOptions=(t,n,u,c,g,A,F,P,k,H)=>(i._OrtCreateSessionOptions=B.la)(t,n,u,c,g,A,F,P,k,H),i._OrtAppendExecutionProvider=(t,n)=>(i._OrtAppendExecutionProvider=B.ma)(t,n),i._OrtAddFreeDimensionOverride=(t,n,u)=>(i._OrtAddFreeDimensionOverride=B.na)(t,n,u),i._OrtAddSessionConfigEntry=(t,n,u)=>(i._OrtAddSessionConfigEntry=B.oa)(t,n,u),i._OrtReleaseSessionOptions=t=>(i._OrtReleaseSessionOptions=B.pa)(t),i._OrtCreateSession=(t,n,u)=>(i._OrtCreateSession=B.qa)(t,n,u),i._OrtReleaseSession=t=>(i._OrtReleaseSession=B.ra)(t),i._OrtGetInputOutputCount=(t,n,u)=>(i._OrtGetInputOutputCount=B.sa)(t,n,u),i._OrtGetInputName=(t,n)=>(i._OrtGetInputName=B.ta)(t,n),i._OrtGetOutputName=(t,n)=>(i._OrtGetOutputName=B.ua)(t,n),i._OrtFree=t=>(i._OrtFree=B.va)(t),i._OrtCreateTensor=(t,n,u,c,g,A)=>(i._OrtCreateTensor=B.wa)(t,n,u,c,g,A),i._OrtGetTensorData=(t,n,u,c,g)=>(i._OrtGetTensorData=B.xa)(t,n,u,c,g),i._OrtReleaseTensor=t=>(i._OrtReleaseTensor=B.ya)(t),i._OrtCreateRunOptions=(t,n,u,c)=>(i._OrtCreateRunOptions=B.za)(t,n,u,c),i._OrtAddRunConfigEntry=(t,n,u)=>(i._OrtAddRunConfigEntry=B.Aa)(t,n,u),i._OrtReleaseRunOptions=t=>(i._OrtReleaseRunOptions=B.Ba)(t),i._OrtCreateBinding=t=>(i._OrtCreateBinding=B.Ca)(t),i._OrtBindInput=(t,n,u)=>(i._OrtBindInput=B.Da)(t,n,u),i._OrtBindOutput=(t,n,u,c)=>(i._OrtBindOutput=B.Ea)(t,n,u,c),i._OrtClearBoundOutputs=t=>(i._OrtClearBoundOutputs=B.Fa)(t),i._OrtReleaseBinding=t=>(i._OrtReleaseBinding=B.Ga)(t),i._OrtRunWithBinding=(t,n,u,c,g)=>(i._OrtRunWithBinding=B.Ha)(t,n,u,c,g),i._OrtRun=(t,n,u,c,g,A,F,P)=>(i._OrtRun=B.Ia)(t,n,u,c,g,A,F,P),i._OrtEndProfiling=t=>(i._OrtEndProfiling=B.Ja)(t);var cr=i._malloc=t=>(cr=i._malloc=B.Ka)(t),Ue=i._free=t=>(Ue=i._free=B.La)(t),_e=t=>(_e=B.Ma)(t);i.__embind_initialize_bindings=()=>(i.__embind_initialize_bindings=B.Na)();var Cr=()=>(Cr=B.Pa)(),ge=t=>(ge=B.Qa)(t),Oe=t=>(Oe=B.Ra)(t);function it(){var t=B;t=Object.assign({},t);var n=c=>()=>c()>>>0,u=c=>g=>c(g)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=u(t.Ka),t.Ma=u(t.Ma),t.Pa=n(t.Pa),t.Ra=u(t.Ra),t}i.stackAlloc=Oe,i.stackSave=Cr,i.stackRestore=ge,i.UTF8ToString=ar,i.stringToUTF8=(t,n,u)=>We(t,J,n,u),i.lengthBytesUTF8=ze;var Pr;pe=function t(){Pr||st(),Pr||(pe=t)};function st(){if(!(0<me)){for(;0<Q.length;)Q.shift()(i);if(!(0<me||Pr||(Pr=!0,i.calledRun=!0,K))){for(;0<je.length;)je.shift()(i);for(p(i);0<ve.length;)ve.shift()(i)}}}return st(),s.ready}})();typeof pa=="object"&&typeof Yt=="object"?Yt.exports=da:typeof define=="function"&&define.amd&&define([],()=>da)});var ha=Dr(()=>{});var ga=Dr(()=>{});var ya={};Yr(ya,{cpus:()=>Oo});var Oo,va=Z(()=>{Oo=void 0});var _a=Dr((wa,Gt)=>{"use strict";var ba=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(s={}){function i(){return Q.buffer!=ee.buffer&&te(),ee}function p(){return Q.buffer!=ee.buffer&&te(),pe}function m(){return Q.buffer!=ee.buffer&&te(),rr}function O(){return Q.buffer!=ee.buffer&&te(),Le}function d(){return Q.buffer!=ee.buffer&&te(),Be}function y(){return Q.buffer!=ee.buffer&&te(),qe}function _(){return Q.buffer!=ee.buffer&&te(),nr}var l=s,T,M;l.ready=new Promise((e,r)=>{T=e,M=r});var S=Object.assign({},l),D="./this.program",j=(e,r)=>{throw r},x=typeof window=="object",L=typeof importScripts=="function",Y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U=l.ENVIRONMENT_IS_PTHREAD||!1,K="";function de(e){return l.locateFile?l.locateFile(e,K):K+e}var J,Ae,De;if(Y){var I=(jt(),pr(Ht)),G=(zt(),pr(Nt));K=L?G.dirname(K)+"/":__dirname+"/",J=(r,a)=>(r=r.startsWith("file://")?new URL(r):G.normalize(r),I.readFileSync(r,a?void 0:"utf8")),De=r=>(r=J(r,!0),r.buffer||(r=new Uint8Array(r)),r),Ae=(r,a,f,h=!0)=>{r=r.startsWith("file://")?new URL(r):G.normalize(r),I.readFile(r,h?void 0:"utf8",(v,E)=>{v?f(v):a(h?E.buffer:E)})},!l.thisProgram&&1<process.argv.length&&(D=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),j=(r,a)=>{throw process.exitCode=r,a},l.inspect=()=>"[Emscripten Module object]";let e;try{e=ha()}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}global.Worker=e.Worker}else(x||L)&&(L?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),typeof o<"u"&&o&&(K=o),K.indexOf("blob:")!==0?K=K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1):K="",Y||(J=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},L&&(De=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Ae=(e,r,a)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?r(f.response):a()},f.onerror=a,f.send(null)}));Y&&typeof performance>"u"&&(global.performance=ga().performance);var Ke=console.log.bind(console),Qe=console.error.bind(console);Y&&(Ke=(...e)=>I.writeSync(1,e.join(" ")+`
`),Qe=(...e)=>I.writeSync(2,e.join(" ")+`
`));var er=Ke,ce=Qe;Object.assign(l,S),S=null;var V=!0;typeof WebAssembly!="object"&&$e("no native wasm support detected");var Q,je,ve=!1,me,ee,pe,rr,Le,Be,qe,tr,be,Re,nr;function te(){var e=Q.buffer;l.HEAP8=ee=new Int8Array(e),l.HEAP16=rr=new Int16Array(e),l.HEAPU8=pe=new Uint8Array(e),l.HEAPU16=Le=new Uint16Array(e),l.HEAP32=Be=new Int32Array(e),l.HEAPU32=qe=new Uint32Array(e),l.HEAPF32=tr=new Float32Array(e),l.HEAPF64=nr=new Float64Array(e),l.HEAP64=be=new BigInt64Array(e),l.HEAPU64=Re=new BigUint64Array(e)}var ue=16777216;if(5242880<=ue||$e("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ue+"! (STACK_SIZE=5242880)"),U)Q=l.wasmMemory;else if(Q=new WebAssembly.Memory({initial:ue/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Y&&ce("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");te(),ue=Q.buffer.byteLength;var Xe=[],Ne=[],yr=[],ar=0;function ze(){return V||0<ar}var We=0,vr=null,Je=null;function Ee(){if(We--,We==0&&(vr!==null&&(clearInterval(vr),vr=null),Je)){var e=Je;Je=null,e()}}function $e(e){throw e="Aborted("+e+")",ce(e),ve=!0,me=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),M(e),e}function br(e){return e.startsWith("data:application/octet-stream;base64,")}var or;or="ort-wasm-threaded.wasm",br(or)||(or=de(or));function ke(e){if(De)return De(e);throw"both async and sync fetching of the wasm failed"}function St(e){if(x||L){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>ke(e));if(Ae)return new Promise((r,a)=>{Ae(e,f=>r(new Uint8Array(f)),a)})}return Promise.resolve().then(()=>ke(e))}function Fe(e,r,a){return St(e).then(f=>WebAssembly.instantiate(f,r)).then(f=>f).then(a,f=>{ce(`failed to asynchronously prepare wasm: ${f}`),$e(f)})}function Xr(e,r){var a=or;return typeof WebAssembly.instantiateStreaming!="function"||br(a)||a.startsWith("file://")||Y||typeof fetch!="function"?Fe(a,e,r):fetch(a,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(r,function(h){return ce(`wasm streaming compile failed: ${h}`),ce("falling back to ArrayBuffer instantiation"),Fe(a,e,r)}))}function ir(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ye=e=>{e.terminate(),e.onmessage=()=>{}},wr=e=>{if(W.qb.length==0){var r=de("ort-wasm-threaded.worker.js");r=new Worker(r),W.qb.push(r),W.Jb(W.qb[0])}if(r=W.qb.pop(),!r)return 6;W.nb.push(r),W.jb[e.mb]=r,r.mb=e.mb;var a={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return Y&&r.unref(),r.postMessage(a,e.Sb),0},he=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,we=(e,r,a)=>{r>>>=0;var f=r+a;for(a=r;e[a]&&!(a>=f);)++a;if(16<a-r&&e.buffer&&he)return he.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(f="";r<a;){var h=e[r++];if(h&128){var v=e[r++]&63;if((h&224)==192)f+=String.fromCharCode((h&31)<<6|v);else{var E=e[r++]&63;h=(h&240)==224?(h&15)<<12|v<<6|E:(h&7)<<18|v<<12|E<<6|e[r++]&63,65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else f+=String.fromCharCode(h)}return f},sr=(e,r)=>(e>>>=0)?we(p(),e,r):"";function Jr(e){if(U)return z(0,1,e);me=e,ze()||(W.Nb(),ve=!0),j(e,new ir(e))}var xr=e=>{if(me=e,U)throw Kr(e),"unwind";Jr(e)};function Zr(){Xe.unshift(()=>{We++,Ee()})}var W={qb:[],nb:[],Eb:[],jb:{},vb(){U?(W.receiveObjectTransfer=W.Lb,W.threadInitTLS=W.Db,W.setExitStatus=W.Cb,V=!1):Zr()},Cb:e=>{me=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of W.nb)ye(e);for(e of W.qb)ye(e);W.qb=[],W.nb=[],W.jb=[]},Bb:e=>{var r=e.mb;delete W.jb[r],W.qb.push(e),W.nb.splice(W.nb.indexOf(e),1),e.mb=0,Ft(r)},Lb(){},Db(){W.Eb.forEach(e=>e())},Jb:e=>new Promise(r=>{e.onmessage=v=>{v=v.data;var E=v.cmd;if(v.targetThread&&v.targetThread!=ft()){var C=W.jb[v.targetThread];C?C.postMessage(v,v.transferList):ce(`Internal error! Worker sent a message "${E}" to target pthread ${v.targetThread}, but that thread no longer exists!`)}else E==="checkMailbox"?H():E==="spawnThread"?wr(v):E==="cleanupThread"?((v=W.jb[v.thread])||$e(),W.Bb(v)):E==="killThread"?(v=v.thread,E=W.jb[v],delete W.jb[v],ye(E),Ft(v),W.nb.splice(W.nb.indexOf(E),1),E.mb=0):E==="cancelThread"?W.jb[v.thread].postMessage({cmd:"cancel"}):E==="loaded"?(e.loaded=!0,r(e)):E==="alert"?alert(`Thread ${v.threadId}: ${v.text}`):v.target==="setimmediate"?e.postMessage(v):E==="callHandler"?l[v.handler](...v.args):E&&ce(`worker sent an unknown command ${E}`)},e.onerror=v=>{throw ce(`worker sent an error! ${v.filename}:${v.lineno}: ${v.message}`),v},Y&&(e.on("message",v=>e.onmessage({data:v})),e.on("error",v=>e.onerror(v)));var a=[],f=[],h;for(h of f)l.hasOwnProperty(h)&&a.push(h);e.postMessage({cmd:"load",handlers:a,urlOrBlob:l.mainScriptUrlOrBlob||o,wasmMemory:Q,wasmModule:je})})};l.PThread=W;var _r=e=>{for(;0<e.length;)e.shift()(l)};l.establishStackSpace=()=>{var e=ft(),r=y()[e+52>>>2>>>0];e=y()[e+56>>>2>>>0],Rn(r,r-e),ct(r)};function Kr(e){if(U)return z(1,0,e);xr(e)}var Or=[],Qr;l.invokeEntryPoint=(e,r)=>{var a=Or[e];a||(e>=Or.length&&(Or.length=e+1),Or[e]=a=Qr.get(e)),e=a(r),ze()?W.Cb(e):Ut(e)};function Mt(e){this.sb=e-24,this.Kb=function(r){y()[this.sb+4>>>2>>>0]=r},this.xb=function(r){y()[this.sb+8>>>2>>>0]=r},this.vb=function(r,a){this.wb(),this.Kb(r),this.xb(a)},this.wb=function(){y()[this.sb+16>>>2>>>0]=0}}var ur=0,Ct=0;function fr(e,r,a,f){return U?z(2,1,e,r,a,f):lr(e,r,a,f)}function lr(e,r,a,f){if(e>>>=0,r>>>=0,a>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return U&&h.length===0?fr(e,r,a,f):(e={Mb:a,mb:e,Fb:f,Sb:h},U?(e.Ub="spawnThread",postMessage(e,h),0):wr(e))}function Br(e,r,a){return U?z(3,1,e,r,a):0}function et(e,r){if(U)return z(4,1,e,r)}var Tr=e=>{for(var r=0,a=0;a<e.length;++a){var f=e.charCodeAt(a);127>=f?r++:2047>=f?r+=2:55296<=f&&57343>=f?(r+=4,++a):r+=3}return r},Rr=(e,r,a,f)=>{if(a>>>=0,!(0<f))return 0;var h=a;f=a+f-1;for(var v=0;v<e.length;++v){var E=e.charCodeAt(v);if(55296<=E&&57343>=E){var C=e.charCodeAt(++v);E=65536+((E&1023)<<10)|C&1023}if(127>=E){if(a>=f)break;r[a++>>>0]=E}else{if(2047>=E){if(a+1>=f)break;r[a++>>>0]=192|E>>6}else{if(65535>=E){if(a+2>=f)break;r[a++>>>0]=224|E>>12}else{if(a+3>=f)break;r[a++>>>0]=240|E>>18,r[a++>>>0]=128|E>>12&63}r[a++>>>0]=128|E>>6&63}r[a++>>>0]=128|E&63}}return r[a>>>0]=0,a-h},Ar=(e,r,a)=>Rr(e,p(),r,a);function rt(e,r){if(U)return z(5,1,e,r)}function tt(e,r,a){if(U)return z(6,1,e,r,a)}function nt(e,r,a){return U?z(7,1,e,r,a):0}function Wr(e,r){if(U)return z(8,1,e,r)}function Ye(e,r,a){if(U)return z(9,1,e,r,a)}function kr(e,r,a,f){if(U)return z(10,1,e,r,a,f)}function Lr(e,r,a,f){if(U)return z(11,1,e,r,a,f)}function $r(e,r,a,f){if(U)return z(12,1,e,r,a,f)}function Er(e){if(U)return z(13,1,e)}function Hr(e,r){if(U)return z(14,1,e,r)}function Sr(e,r,a){if(U)return z(15,1,e,r,a)}var at=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},jr,Se=e=>{for(var r="";p()[e>>>0];)r+=jr[p()[e++>>>0]];return r},Nr={},Mr={},ot={},Me;function Pt(e,r,a={}){var f=r.name;if(!e)throw new Me(`type "${f}" must have a positive integer typeid pointer`);if(Mr.hasOwnProperty(e)){if(a.Hb)return;throw new Me(`Cannot register type '${f}' twice`)}Mr[e]=r,delete ot[e],Nr.hasOwnProperty(e)&&(r=Nr[e],delete Nr[e],r.forEach(h=>h()))}function B(e,r,a={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");Pt(e,r,a)}var cr=(e,r,a)=>{switch(r){case 1:return a?f=>i()[f>>>0>>>0]:f=>p()[f>>>0>>>0];case 2:return a?f=>m()[f>>>1>>>0]:f=>O()[f>>>1>>>0];case 4:return a?f=>d()[f>>>2>>>0]:f=>y()[f>>>2>>>0];case 8:return a?f=>be[f>>>3]:f=>Re[f>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Ue(){this.lb=[void 0],this.zb=[]}var _e=new Ue;function Cr(e){e>>>=0,e>=_e.sb&&--_e.get(e).Ab===0&&_e.xb(e)}var ge=e=>{if(!e)throw new Me("Cannot use deleted val. handle = "+e);return _e.get(e).value},Oe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return _e.wb({Ab:1,value:e})}};function it(e){return this.fromWireType(d()[e>>>2>>>0])}var Pr=(e,r)=>{switch(r){case 4:return function(a){var f=this.fromWireType;return Q.buffer!=ee.buffer&&te(),f.call(this,tr[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(_()[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function st(e){return this.fromWireType(y()[e>>>2>>>0])}var t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,r)=>{for(var a=e>>1,f=a+r/2;!(a>=f)&&O()[a>>>0];)++a;if(a<<=1,32<a-e&&t)return t.decode(p().slice(e,a));for(a="",f=0;!(f>=r/2);++f){var h=m()[e+2*f>>>1>>>0];if(h==0)break;a+=String.fromCharCode(h)}return a},u=(e,r,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var f=r;a=a<2*e.length?a/2:e.length;for(var h=0;h<a;++h){var v=e.charCodeAt(h);m()[r>>>1>>>0]=v,r+=2}return m()[r>>>1>>>0]=0,r-f},c=e=>2*e.length,g=(e,r)=>{for(var a=0,f="";!(a>=r/4);){var h=d()[e+4*a>>>2>>>0];if(h==0)break;++a,65536<=h?(h-=65536,f+=String.fromCharCode(55296|h>>10,56320|h&1023)):f+=String.fromCharCode(h)}return f},A=(e,r,a)=>{if(r>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var f=r;a=f+a-4;for(var h=0;h<e.length;++h){var v=e.charCodeAt(h);if(55296<=v&&57343>=v){var E=e.charCodeAt(++h);v=65536+((v&1023)<<10)|E&1023}if(d()[r>>>2>>>0]=v,r+=4,r+4>a)break}return d()[r>>>2>>>0]=0,r-f},F=e=>{for(var r=0,a=0;a<e.length;++a){var f=e.charCodeAt(a);55296<=f&&57343>=f&&++a,r+=4}return r},P=e=>{if(!ve)try{if(e(),!ze())try{U?Ut(me):xr(me)}catch(r){r instanceof ir||r=="unwind"||j(1,r)}}catch(r){r instanceof ir||r=="unwind"||j(1,r)}};function k(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(d(),e>>>2,e).value.then(H),e+=128,Atomics.store(d(),e>>>2,1))}l.__emscripten_thread_mailbox_await=k;var H=()=>{var e=ft();e&&(k(e),P(()=>Bn()))};l.checkMailbox=H;var ne=e=>{var r=xt();return e=e(),ct(r),e};function z(e,r){var a=arguments.length-2,f=arguments;return ne(()=>{for(var h=2*a,v=Bt(8*h),E=v>>>3,C=0;C<a;C++){var $=f[2+C];typeof $=="bigint"?(be[E+2*C]=1n,be[E+2*C+1]=$):(be[E+2*C]=0n,_()[E+2*C+1>>>0]=$)}return xn(e,h,v,r)})}var Ce=[],b=(e,r)=>{var a=Mr[e];if(a===void 0)throw e=Fn(e),a=Se(e),Ge(e),new Me(r+" has unknown type "+a);return a},q={},re=e=>{var r=q[e];return r===void 0?Se(e):r},xe=[],zr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),to=e=>{var r=xe.length;return xe.push(e),r},no=(e,r)=>{for(var a=Array(e),f=0;f<e;++f)a[f]=b(y()[r+4*f>>>2>>>0],"parameter "+f);return a},pn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},mn={};function ao(e,r){return e=pn(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function oo(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var a=ao(r.name||"unknownFunctionName",function(){});return a.prototype=r.prototype,a=new a,e=r.apply(a,e),e instanceof Object?e:a}var io=e=>{for(var r="",a=0;a<e;++a)r+=(a!==0?", ":"")+"arg"+a;var f="return function emval_allocator_"+e+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(a=0;a<e;++a)f+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+a+`');
var arg`+a+" = argType"+a+`.readValueFromPointer(args);
args += argType`+a+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",f+("var obj = new constructor("+r+`);
return valueToHandle(obj);
}
`))(b,l,Oe,()=>y())},hn={},Ir=e=>e%4===0&&(e%100!==0||e%400===0),gn=[0,31,60,91,121,152,182,213,244,274,305,335],yn=[0,31,59,90,120,151,181,212,243,273,304,334];function vn(e,r,a,f,h,v,E){return U?z(16,1,e,r,a,f,h,v,E):-52}function bn(e,r,a,f,h,v){if(U)return z(17,1,e,r,a,f,h,v)}var wn=e=>{var r=Tr(e)+1,a=lt(r);return a&&Ar(e,a,r),a},It={},_n=()=>{if(!Dt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},r;for(r in It)It[r]===void 0?delete e[r]:e[r]=It[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);Dt=a}return Dt},Dt;function On(e,r){if(U)return z(18,1,e,r);e>>>=0,r>>>=0;var a=0;return _n().forEach((f,h)=>{var v=r+a;for(h=y()[e+4*h>>>2>>>0]=v,v=0;v<f.length;++v)i()[h++>>>0>>>0]=f.charCodeAt(v);i()[h>>>0>>>0]=0,a+=f.length+1}),0}function Tn(e,r){if(U)return z(19,1,e,r);e>>>=0,r>>>=0;var a=_n();y()[e>>>2>>>0]=a.length;var f=0;return a.forEach(h=>f+=h.length+1),y()[r>>>2>>>0]=f,0}function An(e){return U?z(20,1,e):52}function En(e,r,a,f){return U?z(21,1,e,r,a,f):52}function Sn(e,r,a,f){return U?z(22,1,e,r,a,f):70}var so=[null,[],[]];function Mn(e,r,a,f){if(U)return z(23,1,e,r,a,f);r>>>=0,a>>>=0,f>>>=0;for(var h=0,v=0;v<a;v++){var E=y()[r>>>2>>>0],C=y()[r+4>>>2>>>0];r+=8;for(var $=0;$<C;$++){var N=p()[E+$>>>0],oe=so[e];N===0||N===10?((e===1?er:ce)(we(oe,0)),oe.length=0):oe.push(N)}h+=C}return y()[f>>>2>>>0]=h,0}var Cn=[31,29,31,30,31,30,31,31,30,31,30,31],Pn=[31,28,31,30,31,30,31,31,30,31,30,31];function uo(e){var r=Array(Tr(e)+1);return Rr(e,r,0,r.length),r}var fo=(e,r)=>{i().set(e,r>>>0)};function In(e,r,a,f){function h(w,X,ie){for(w=typeof w=="number"?w.toString():w||"";w.length<X;)w=ie[0]+w;return w}function v(w,X){return h(w,X,"0")}function E(w,X){function ie(kn){return 0>kn?-1:0<kn?1:0}var dr;return(dr=ie(w.getFullYear()-X.getFullYear()))===0&&(dr=ie(w.getMonth()-X.getMonth()))===0&&(dr=ie(w.getDate()-X.getDate())),dr}function C(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function $(w){var X=w.ob;for(w=new Date(new Date(w.pb+1900,0,1).getTime());0<X;){var ie=w.getMonth(),dr=(Ir(w.getFullYear())?Cn:Pn)[ie];if(X>dr-w.getDate())X-=dr-w.getDate()+1,w.setDate(1),11>ie?w.setMonth(ie+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+X);break}}return ie=new Date(w.getFullYear()+1,0,4),X=C(new Date(w.getFullYear(),0,4)),ie=C(ie),0>=E(X,w)?0>=E(ie,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,f>>>=0;var N=y()[f+40>>>2>>>0];f={Qb:d()[f>>>2>>>0],Pb:d()[f+4>>>2>>>0],tb:d()[f+8>>>2>>>0],yb:d()[f+12>>>2>>>0],ub:d()[f+16>>>2>>>0],pb:d()[f+20>>>2>>>0],kb:d()[f+24>>>2>>>0],ob:d()[f+28>>>2>>>0],Wb:d()[f+32>>>2>>>0],Ob:d()[f+36>>>2>>>0],Rb:N?sr(N):""},a=sr(a),N={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var oe in N)a=a.replace(new RegExp(oe,"g"),N[oe]);var Pe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ve="January February March April May June July August September October November December".split(" ");N={"%a":w=>Pe[w.kb].substring(0,3),"%A":w=>Pe[w.kb],"%b":w=>Ve[w.ub].substring(0,3),"%B":w=>Ve[w.ub],"%C":w=>v((w.pb+1900)/100|0,2),"%d":w=>v(w.yb,2),"%e":w=>h(w.yb,2," "),"%g":w=>$(w).toString().substring(2),"%G":w=>$(w),"%H":w=>v(w.tb,2),"%I":w=>(w=w.tb,w==0?w=12:12<w&&(w-=12),v(w,2)),"%j":w=>{for(var X=0,ie=0;ie<=w.ub-1;X+=(Ir(w.pb+1900)?Cn:Pn)[ie++]);return v(w.yb+X,3)},"%m":w=>v(w.ub+1,2),"%M":w=>v(w.Pb,2),"%n":()=>`
`,"%p":w=>0<=w.tb&&12>w.tb?"AM":"PM","%S":w=>v(w.Qb,2),"%t":()=>"	","%u":w=>w.kb||7,"%U":w=>v(Math.floor((w.ob+7-w.kb)/7),2),"%V":w=>{var X=Math.floor((w.ob+7-(w.kb+6)%7)/7);if(2>=(w.kb+371-w.ob-2)%7&&X++,X)X==53&&(ie=(w.kb+371-w.ob)%7,ie==4||ie==3&&Ir(w.pb)||(X=1));else{X=52;var ie=(w.kb+7-w.ob-1)%7;(ie==4||ie==5&&Ir(w.pb%400-1))&&X++}return v(X,2)},"%w":w=>w.kb,"%W":w=>v(Math.floor((w.ob+7-(w.kb+6)%7)/7),2),"%y":w=>(w.pb+1900).toString().substring(2),"%Y":w=>w.pb+1900,"%z":w=>{w=w.Ob;var X=0<=w;return w=Math.abs(w)/60,(X?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.Rb,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(oe in N)a.includes(oe)&&(a=a.replace(new RegExp(oe,"g"),N[oe](f)));return a=a.replace(/\0\0/g,"%"),oe=uo(a),oe.length>r?0:(fo(oe,e),oe.length-1)}W.vb();for(var Dn=Array(256),ut=0;256>ut;++ut)Dn[ut]=String.fromCharCode(ut);jr=Dn,Me=l.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},l.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Ue.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),_e.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),_e.sb=_e.lb.length,l.count_emval_handles=()=>{for(var e=0,r=_e.sb;r<_e.lb.length;++r)_e.lb[r]!==void 0&&++e;return e};var lo=[Jr,Kr,fr,Br,et,rt,tt,nt,Wr,Ye,kr,Lr,$r,Er,Hr,Sr,vn,bn,On,Tn,An,En,Sn,Mn],co={b:function(e,r,a){throw e>>>=0,new Mt(e).vb(r>>>0,a>>>0),ur=e,Ct++,ur},ea:function(e){Un(e>>>0,!L,1,!x,131072,!1),W.Db()},D:function(e){e>>>=0,U?postMessage({cmd:"cleanupThread",thread:e}):((e=W.jb[e])||$e(),W.Bb(e))},W:lr,y:Br,ka:et,S:rt,U:tt,L:nt,ia:Wr,ba:Ye,ha:kr,F:Lr,T:$r,Q:Er,ja:Hr,R:Sr,I:function(e,r,a,f,h){e>>>=0,r>>>=0,a>>>=0,r=Se(r);var v=r.indexOf("u")!=-1;v&&(h=(1n<<64n)-1n),B(e,{name:r,fromWireType:E=>E,toWireType:function(E,C){if(typeof C!="bigint"&&typeof C!="number")throw new TypeError(`Cannot convert "${at(C)}" to ${this.name}`);if(C<f||C>h)throw new TypeError(`Passing a number "${at(C)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${f}, ${h}]!`);return C},argPackAdvance:8,readValueFromPointer:cr(r,a,!v),rb:null})},qa:function(e,r,a,f){e>>>=0,r=Se(r>>>0),B(e,{name:r,fromWireType:function(h){return!!h},toWireType:function(h,v){return v?a:f},argPackAdvance:8,readValueFromPointer:function(h){return this.fromWireType(p()[h>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=Se(r>>>0),B(e,{name:r,fromWireType:a=>{var f=ge(a);return Cr(a),f},toWireType:(a,f)=>Oe(f),argPackAdvance:8,readValueFromPointer:it,rb:null})},H:function(e,r,a){e>>>=0,a>>>=0,r=Se(r>>>0),B(e,{name:r,fromWireType:f=>f,toWireType:(f,h)=>h,argPackAdvance:8,readValueFromPointer:Pr(r,a),rb:null})},t:function(e,r,a,f,h){if(e>>>=0,a>>>=0,r=Se(r>>>0),h===-1&&(h=4294967295),h=C=>C,f===0){var v=32-8*a;h=C=>C<<v>>>v}var E=r.includes("unsigned")?function(C,$){return $>>>0}:function(C,$){return $};B(e,{name:r,fromWireType:h,toWireType:E,argPackAdvance:8,readValueFromPointer:cr(r,a,f!==0),rb:null})},m:function(e,r,a){function f(v){var E=y()[v>>>2>>>0];return v=y()[v+4>>>2>>>0],new h(i().buffer,v,E)}e>>>=0;var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];a=Se(a>>>0),B(e,{name:a,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{Hb:!0})},J:function(e,r){e>>>=0,r=Se(r>>>0);var a=r==="std::string";B(e,{name:r,fromWireType:function(f){var h=y()[f>>>2>>>0],v=f+4;if(a)for(var E=v,C=0;C<=h;++C){var $=v+C;if(C==h||p()[$>>>0]==0){if(E=sr(E,$-E),N===void 0)var N=E;else N+=String.fromCharCode(0),N+=E;E=$+1}}else{for(N=Array(h),C=0;C<h;++C)N[C]=String.fromCharCode(p()[v+C>>>0]);N=N.join("")}return Ge(f),N},toWireType:function(f,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var v=typeof h=="string";if(!(v||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array))throw new Me("Cannot pass non-string to std::string");var E=a&&v?Tr(h):h.length,C=lt(4+E+1),$=C+4;if(y()[C>>>2>>>0]=E,a&&v)Ar(h,$,E+1);else if(v)for(v=0;v<E;++v){var N=h.charCodeAt(v);if(255<N)throw Ge($),new Me("String has UTF-16 code units that do not fit in 8 bits");p()[$+v>>>0]=N}else for(v=0;v<E;++v)p()[$+v>>>0]=h[v];return f!==null&&f.push(Ge,C),C},argPackAdvance:8,readValueFromPointer:st,rb(f){Ge(f)}})},A:function(e,r,a){if(e>>>=0,r>>>=0,a>>>=0,a=Se(a),r===2)var f=n,h=u,v=c,E=()=>O(),C=1;else r===4&&(f=g,h=A,v=F,E=()=>y(),C=2);B(e,{name:a,fromWireType:$=>{for(var N=y()[$>>>2>>>0],oe=E(),Pe,Ve=$+4,w=0;w<=N;++w){var X=$+4+w*r;(w==N||oe[X>>>C]==0)&&(Ve=f(Ve,X-Ve),Pe===void 0?Pe=Ve:(Pe+=String.fromCharCode(0),Pe+=Ve),Ve=X+r)}return Ge($),Pe},toWireType:($,N)=>{if(typeof N!="string")throw new Me(`Cannot pass non-string to C++ string type ${a}`);var oe=v(N),Pe=lt(4+oe+r);return y()[Pe>>>2]=oe>>C,h(N,Pe+4,oe+r),$!==null&&$.push(Ge,Pe),Pe},argPackAdvance:8,readValueFromPointer:it,rb($){Ge($)}})},ra:function(e,r){e>>>=0,r=Se(r>>>0),B(e,{Ib:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>H()):U?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=W.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,a,f){r>>>=0,a/=2,Ce.length=a,f=f>>>0>>>3;for(var h=0;h<a;h++)Ce[h]=be[f+2*h]?be[f+2*h+1]:_()[f+2*h+1>>>0];return e=lo[e],W.Gb=r,r=e.apply(null,Ce),W.Gb=0,r},da:k,ma:function(e){Y&&W.jb[e>>>0].ref()},r:function(e,r,a){r>>>=0,a>>>=0,e=ge(e>>>0),r=b(r,"emval::as");var f=[],h=Oe(f);return y()[a>>>2>>>0]=h,r.toWireType(f,e)},i:function(e,r,a,f,h){a>>>=0,f>>>=0,h>>>=0,e=xe[e>>>0],r=ge(r>>>0),a=re(a);var v=[];return y()[f>>>2>>>0]=Oe(v),e(r,a,v,h)},u:function(e,r,a,f){a>>>=0,f>>>=0,e=xe[e>>>0],r=ge(r>>>0),a=re(a),e(r,a,null,f)},c:Cr,K:function(e,r){return r>>>=0,e=ge(e>>>0),r=ge(r),e==r},o:function(e){return e>>>=0,e===0?Oe(zr()):(e=re(e),Oe(zr()[e]))},h:function(e,r){var a=no(e,r>>>0),f=a[0];r=f.name+"_$"+a.slice(1).map(function(oe){return oe.name}).join("_")+"$";var h=mn[r];if(h!==void 0)return h;h=["retType"];for(var v=[f],E="",C=0;C<e-1;++C)E+=(C!==0?", ":"")+"arg"+C,h.push("argType"+C),v.push(a[1+C]);var $="return function "+pn("methodCaller_"+r)+`(handle, name, destructors, args) {
`,N=0;for(C=0;C<e-1;++C)$+="    var arg"+C+" = argType"+C+".readValueFromPointer(args"+(N?"+"+N:"")+`);
`,N+=a[C+1].argPackAdvance;for($+="    var rv = handle[name]("+E+`);
`,C=0;C<e-1;++C)a[C+1].deleteObject&&($+="    argType"+C+".deleteObject(arg"+C+`);
`);return f.Ib||($+=`    return retType.toWireType(destructors, rv);
`),h.push($+`};
`),e=oo(h).apply(null,v),h=to(e),mn[r]=h},q:function(e,r){return r>>>=0,e=ge(e>>>0),r=ge(r),Oe(e[r])},d:function(e){e>>>=0,4<e&&(_e.get(e).Ab+=1)},x:function(e,r,a,f){a>>>=0,f>>>=0,e=ge(e>>>0);var h=hn[r];return h||(h=io(r),hn[r]=h),h(e,a,f)},v:function(){return Oe([])},l:function(e){e=ge(e>>>0);for(var r=Array(e.length),a=0;a<e.length;a++)r[a]=e[a];return Oe(r)},e:function(e){return Oe(re(e>>>0))},k:function(){return Oe({})},g:function(e){e>>>=0;for(var r=ge(e);r.length;){var a=r.pop();r.pop()(a)}Cr(e)},j:function(e,r,a){r>>>=0,a>>>=0,e=ge(e>>>0),r=ge(r),a=ge(a),e[r]=a},f:function(e,r){return r>>>=0,e=b(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),Oe(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getUTCSeconds(),d()[r+4>>>2>>>0]=e.getUTCMinutes(),d()[r+8>>>2>>>0]=e.getUTCHours(),d()[r+12>>>2>>>0]=e.getUTCDate(),d()[r+16>>>2>>>0]=e.getUTCMonth(),d()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getSeconds(),d()[r+4>>>2>>>0]=e.getMinutes(),d()[r+8>>>2>>>0]=e.getHours(),d()[r+12>>>2>>>0]=e.getDate(),d()[r+16>>>2>>>0]=e.getMonth(),d()[r+20>>>2>>>0]=e.getFullYear()-1900,d()[r+24>>>2>>>0]=e.getDay();var a=(Ir(e.getFullYear())?gn:yn)[e.getMonth()]+e.getDate()-1|0;d()[r+28>>>2>>>0]=a,d()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=f&&e.getTimezoneOffset()==Math.min(f,a))|0,d()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),a=d()[e+32>>>2>>>0],f=r.getTimezoneOffset(),h=new Date(r.getFullYear(),6,1).getTimezoneOffset(),v=new Date(r.getFullYear(),0,1).getTimezoneOffset(),E=Math.min(v,h);return 0>a?d()[e+32>>>2>>>0]=+(h!=v&&E==f):0<a!=(E==f)&&(h=Math.max(v,h),r.setTime(r.getTime()+6e4*((0<a?E:h)-f))),d()[e+24>>>2>>>0]=r.getDay(),a=(Ir(r.getFullYear())?gn:yn)[r.getMonth()]+r.getDate()-1|0,d()[e+28>>>2>>>0]=a,d()[e>>>2>>>0]=r.getSeconds(),d()[e+4>>>2>>>0]=r.getMinutes(),d()[e+8>>>2>>>0]=r.getHours(),d()[e+12>>>2>>>0]=r.getDate(),d()[e+16>>>2>>>0]=r.getMonth(),d()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:vn,Z:bn,N:function(e,r,a){function f(N){return(N=N.toTimeString().match(/\(([A-Za-z ]+)\)$/))?N[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var h=new Date().getFullYear(),v=new Date(h,0,1),E=new Date(h,6,1);h=v.getTimezoneOffset();var C=E.getTimezoneOffset(),$=Math.max(h,C);y()[e>>>2>>>0]=60*$,d()[r>>>2>>>0]=+(h!=C),e=f(v),r=f(E),e=wn(e),r=wn(r),C<h?(y()[a>>>2>>>0]=e,y()[a+4>>>2>>>0]=r):(y()[a>>>2>>>0]=r,y()[a+4>>>2>>>0]=e)},n:()=>{$e("")},E:()=>{},G:()=>Date.now(),la:()=>{throw ar+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>Y?(va(),pr(ya)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=p().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var f=r*(1+.2/a);f=Math.min(f,e+100663296);var h=Math;f=Math.max(e,f);e:{h=(h.min.call(h,4294901760,f+(65536-f%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(h),te();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},fa:On,ga:Tn,V:xr,z:An,C:En,ca:Sn,B:Mn,a:Q||l.wasmMemory,oa:In,p:function(e,r,a,f){return In(e>>>0,r>>>0,a>>>0,f>>>0)}},R=function(){var e={a:co};return We++,Xr(e,function(r){var a=r.module;R=r.instance.exports,R=po(),W.Eb.push(R.Xa),Qr=R._a,Ne.unshift(R.sa),je=a,Ee()}).catch(M),{}}();l._OrtInit=(e,r)=>(l._OrtInit=R.ta)(e,r),l._OrtGetLastError=(e,r)=>(l._OrtGetLastError=R.ua)(e,r),l._OrtCreateSessionOptions=(e,r,a,f,h,v,E,C,$,N)=>(l._OrtCreateSessionOptions=R.va)(e,r,a,f,h,v,E,C,$,N),l._OrtAppendExecutionProvider=(e,r)=>(l._OrtAppendExecutionProvider=R.wa)(e,r),l._OrtAddFreeDimensionOverride=(e,r,a)=>(l._OrtAddFreeDimensionOverride=R.xa)(e,r,a),l._OrtAddSessionConfigEntry=(e,r,a)=>(l._OrtAddSessionConfigEntry=R.ya)(e,r,a),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=R.za)(e),l._OrtCreateSession=(e,r,a)=>(l._OrtCreateSession=R.Aa)(e,r,a),l._OrtReleaseSession=e=>(l._OrtReleaseSession=R.Ba)(e),l._OrtGetInputOutputCount=(e,r,a)=>(l._OrtGetInputOutputCount=R.Ca)(e,r,a),l._OrtGetInputName=(e,r)=>(l._OrtGetInputName=R.Da)(e,r),l._OrtGetOutputName=(e,r)=>(l._OrtGetOutputName=R.Ea)(e,r),l._OrtFree=e=>(l._OrtFree=R.Fa)(e),l._OrtCreateTensor=(e,r,a,f,h,v)=>(l._OrtCreateTensor=R.Ga)(e,r,a,f,h,v),l._OrtGetTensorData=(e,r,a,f,h)=>(l._OrtGetTensorData=R.Ha)(e,r,a,f,h),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=R.Ia)(e),l._OrtCreateRunOptions=(e,r,a,f)=>(l._OrtCreateRunOptions=R.Ja)(e,r,a,f),l._OrtAddRunConfigEntry=(e,r,a)=>(l._OrtAddRunConfigEntry=R.Ka)(e,r,a),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=R.La)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=R.Ma)(e),l._OrtBindInput=(e,r,a)=>(l._OrtBindInput=R.Na)(e,r,a),l._OrtBindOutput=(e,r,a,f)=>(l._OrtBindOutput=R.Oa)(e,r,a,f),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=R.Pa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=R.Qa)(e),l._OrtRunWithBinding=(e,r,a,f,h)=>(l._OrtRunWithBinding=R.Ra)(e,r,a,f,h),l._OrtRun=(e,r,a,f,h,v,E,C)=>(l._OrtRun=R.Sa)(e,r,a,f,h,v,E,C),l._OrtEndProfiling=e=>(l._OrtEndProfiling=R.Ta)(e);var ft=l._pthread_self=()=>(ft=l._pthread_self=R.Ua)(),lt=l._malloc=e=>(lt=l._malloc=R.Va)(e),Ge=l._free=e=>(Ge=l._free=R.Wa)(e);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=R.Xa)();var Fn=e=>(Fn=R.Ya)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=R.Za)();var Un=l.__emscripten_thread_init=(e,r,a,f,h,v)=>(Un=l.__emscripten_thread_init=R.$a)(e,r,a,f,h,v);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=R.ab)();var xn=(e,r,a,f)=>(xn=R.bb)(e,r,a,f),Ft=e=>(Ft=R.cb)(e),Ut=l.__emscripten_thread_exit=e=>(Ut=l.__emscripten_thread_exit=R.db)(e),Bn=l.__emscripten_check_mailbox=()=>(Bn=l.__emscripten_check_mailbox=R.eb)(),Rn=(e,r)=>(Rn=R.fb)(e,r),xt=()=>(xt=R.gb)(),ct=e=>(ct=R.hb)(e),Bt=e=>(Bt=R.ib)(e);function po(){var e=R;e=Object.assign({},e);var r=f=>()=>f()>>>0,a=f=>h=>f(h)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=a(e.Va),e.Ya=a(e.Ya),e.gb=r(e.gb),e.ib=a(e.ib),e}l.keepRuntimeAlive=ze,l.wasmMemory=Q,l.stackAlloc=Bt,l.stackSave=xt,l.stackRestore=ct,l.UTF8ToString=sr,l.stringToUTF8=Ar,l.lengthBytesUTF8=Tr,l.ExitStatus=ir,l.PThread=W;var dt;Je=function e(){dt||Wn(),dt||(Je=e)};function Wn(){0<We||(U?(T(l),U||_r(Ne),startWorker(l)):(_r(Xe),0<We||dt||(dt=!0,l.calledRun=!0,ve||(U||_r(Ne),T(l),U||_r(yr)))))}return Wn(),s.ready}})();typeof wa=="object"&&typeof Gt=="object"?Gt.exports=ba:typeof define=="function"&&define.amd&&define([],()=>ba)});var Oa=Dr((Ui,To)=>{To.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Aa,Ao,Vt,qt,vt,Ta,Eo,So,Mo,Ea,fe,Ur=Z(()=>{"use strict";Aa=ma();Ao=_a(),qt=!1,vt=!1,Ta=!1,Eo=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},So=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Mo=(o,s)=>o?s?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":s?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ea=async o=>{if(qt)return Promise.resolve();if(vt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Ta)throw new Error("previous call to 'initializeWebAssembly()' failed.");vt=!0;let s=o.initTimeout,i=o.numThreads,p=o.simd,m=i>1&&Eo(),O=p&&So(),d=o.wasmPaths,y=typeof d=="string"?d:void 0,_=Mo(O,m),l=typeof d=="object"?d[_]:void 0,T=!1,M=[];if(s>0&&M.push(new Promise(S=>{setTimeout(()=>{T=!0,S()},s)})),M.push(new Promise((S,D)=>{let j=m?Ao:Aa,x={locateFile:(L,Y)=>m&&L.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Oa()],{type:"text/javascript"})):L.endsWith(".wasm")?l||(y??Y)+_:Y+L};if(m)if(typeof Blob>"u")x.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let L=`var ortWasmThreaded=${j.toString()};`;x.mainScriptUrlOrBlob=new Blob([L],{type:"text/javascript"})}j(x).then(L=>{vt=!1,qt=!0,Vt=L,S()},L=>{vt=!1,Ta=!0,D(L)})})),await Promise.race(M),T)throw new Error(`WebAssembly backend initializing failed due to timeout: ${s}ms`)},fe=()=>{if(qt&&Vt)return Vt;throw new Error("WebAssembly is not initialized yet.")}});var le,Vr,se,bt=Z(()=>{"use strict";Ur();le=(o,s)=>{let i=fe(),p=i.lengthBytesUTF8(o)+1,m=i._malloc(p);return i.stringToUTF8(o,m,p),s.push(m),m},Vr=(o,s,i,p)=>{if(typeof o=="object"&&o!==null){if(i.has(o))throw new Error("Circular reference in options");i.add(o)}Object.entries(o).forEach(([m,O])=>{let d=s?s+m:m;if(typeof O=="object")Vr(O,d+".",i,p);else if(typeof O=="string"||typeof O=="number")p(d,O.toString());else if(typeof O=="boolean")p(d,O?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof O}`)})},se=o=>{let s=fe(),i=s.stackSave();try{let p=s.stackAlloc(8);s._OrtGetLastError(p,p+4);let m=s.HEAP32[p/4],O=s.HEAPU32[p/4+1],d=O?s.UTF8ToString(O):"";throw new Error(`${o} ERROR_CODE: ${m}, ERROR_MESSAGE: ${d}`)}finally{s.stackRestore(i)}}});var Sa,Ma=Z(()=>{"use strict";Ur();bt();Sa=o=>{let s=fe(),i=0,p=[],m=o||{};try{if(o?.logSeverityLevel===void 0)m.logSeverityLevel=2;else if(typeof o.logSeverityLevel!="number"||!Number.isInteger(o.logSeverityLevel)||o.logSeverityLevel<0||o.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${o.logSeverityLevel}`);if(o?.logVerbosityLevel===void 0)m.logVerbosityLevel=0;else if(typeof o.logVerbosityLevel!="number"||!Number.isInteger(o.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${o.logVerbosityLevel}`);o?.terminate===void 0&&(m.terminate=!1);let O=0;return o?.tag!==void 0&&(O=le(o.tag,p)),i=s._OrtCreateRunOptions(m.logSeverityLevel,m.logVerbosityLevel,!!m.terminate,O),i===0&&se("Can't create run options."),o?.extra!==void 0&&Vr(o.extra,"",new WeakSet,(d,y)=>{let _=le(d,p),l=le(y,p);s._OrtAddRunConfigEntry(i,_,l)!==0&&se(`Can't set a run config entry: ${d} - ${y}.`)}),[i,p]}catch(O){throw i!==0&&s._OrtReleaseRunOptions(i),p.forEach(d=>s._free(d)),O}}});var Co,Po,Io,Do,Ca,Pa=Z(()=>{"use strict";Ur();bt();Co=o=>{switch(o){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${o}`)}},Po=o=>{switch(o){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${o}`)}},Io=o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});let s=o.extra.session;s.use_ort_model_bytes_directly||(s.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(i=>(typeof i=="string"?i:i.name)==="webgpu")&&(o.enableMemPattern=!1)},Do=(o,s,i)=>{for(let p of s){let m=typeof p=="string"?p:p.name;switch(m){case"xnnpack":m="XNNPACK";break;case"webnn":if(m="WEBNN",typeof p!="string"){let d=p;if(d?.deviceType){let y=le("deviceType",i),_=le(d.deviceType,i);fe()._OrtAddSessionConfigEntry(o,y,_)!==0&&se(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let y=d.numThreads;(typeof y!="number"||!Number.isInteger(y)||y<0)&&(y=0);let _=le("numThreads",i),l=le(y.toString(),i);fe()._OrtAddSessionConfigEntry(o,_,l)!==0&&se(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let y=le("powerPreference",i),_=le(d.powerPreference,i);fe()._OrtAddSessionConfigEntry(o,y,_)!==0&&se(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(m="JS",typeof p!="string"){let d=p;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let y=le("preferredLayout",i),_=le(d.preferredLayout,i);fe()._OrtAddSessionConfigEntry(o,y,_)!==0&&se(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${m}`)}let O=le(m,i);fe()._OrtAppendExecutionProvider(o,O)!==0&&se(`Can't append execution provider: ${m}.`)}},Ca=o=>{let s=fe(),i=0,p=[],m=o||{};Io(m);try{let O=Co(m.graphOptimizationLevel??"all"),d=Po(m.executionMode??"sequential"),y=typeof m.logId=="string"?le(m.logId,p):0,_=m.logSeverityLevel??2;if(!Number.isInteger(_)||_<0||_>4)throw new Error(`log serverity level is not valid: ${_}`);let l=m.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let T=typeof m.optimizedModelFilePath=="string"?le(m.optimizedModelFilePath,p):0;if(i=s._OrtCreateSessionOptions(O,!!m.enableCpuMemArena,!!m.enableMemPattern,d,!!m.enableProfiling,0,y,_,l,T),i===0&&se("Can't create session options."),m.executionProviders&&Do(i,m.executionProviders,p),m.freeDimensionOverrides)for(let[M,S]of Object.entries(m.freeDimensionOverrides)){if(typeof M!="string")throw new Error(`free dimension override name must be a string: ${M}`);if(typeof S!="number"||!Number.isInteger(S)||S<0)throw new Error(`free dimension override value must be a non-negative integer: ${S}`);let D=le(M,p);s._OrtAddFreeDimensionOverride(i,D,S)!==0&&se(`Can't set a free dimension override: ${M} - ${S}.`)}return m.extra!==void 0&&Vr(m.extra,"",new WeakSet,(M,S)=>{let D=le(M,p),j=le(S,p);s._OrtAddSessionConfigEntry(i,D,j)!==0&&se(`Can't set a session config entry: ${M} - ${S}.`)}),[i,p]}catch(O){throw i!==0&&s._OrtReleaseSessionOptions(i),p.forEach(d=>s._free(d)),O}}});var Xt,Ia,Jt,Da,Fa,wt,Ua,Zt=Z(()=>{"use strict";Xt=o=>{switch(o){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${o}`)}},Ia=o=>{switch(o){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${o}`)}},Jt=o=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][o],Da=o=>{switch(o){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${o}`)}},Fa=o=>{switch(o){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${o}`)}},wt=o=>o==="float32"||o==="int32"||o==="int64"||o==="bool"||o==="float16"||o==="uint32",Ua=o=>{switch(o){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${o}`)}}});var Fo,Uo,Ba,qr,Kt,Qt,Ra,Wa,xa,ka,La,$a,Ha=Z(()=>{"use strict";Ma();Pa();Zt();Ur();bt();Fo=o=>{let s=fe(),i=s.stackSave();try{let p=s.stackAlloc(8);return s._OrtGetInputOutputCount(o,p,p+4)!==0&&se("Can't get session input/output count."),[s.HEAP32[p/4],s.HEAP32[p/4+1]]}finally{s.stackRestore(i)}},Uo=(o,s)=>{fe()._OrtInit(o,s)!==0&&se("Can't initialize onnxruntime.")},Ba=async o=>{Uo(o.wasm.numThreads,Fa(o.logLevel))},qr=new Map,Kt=o=>{let s=fe(),i=s._malloc(o.byteLength);if(i===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${o.byteLength}.`);return s.HEAPU8.set(o,i),[i,o.byteLength]},Qt=(o,s)=>{let i=fe(),p=0,m=0,O=0,d=[],y=[],_=[];try{[m,d]=Ca(s),p=i._OrtCreateSession(o[0],o[1],m),p===0&&se("Can't create a session.");let[l,T]=Fo(p),M=[],S=[],D=[];for(let x=0;x<l;x++){let L=i._OrtGetInputName(p,x);L===0&&se("Can't get an input name."),y.push(L),M.push(i.UTF8ToString(L))}for(let x=0;x<T;x++){let L=i._OrtGetOutputName(p,x);L===0&&se("Can't get an output name."),_.push(L);let Y=i.UTF8ToString(L);S.push(Y)}let j=null;return qr.set(p,[p,y,_,j]),[p,M,S]}catch(l){throw y.forEach(T=>i._OrtFree(T)),_.forEach(T=>i._OrtFree(T)),O!==0&&i._OrtReleaseBinding(O),p!==0&&i._OrtReleaseSession(p),l}finally{i._free(o[0]),m!==0&&i._OrtReleaseSessionOptions(m),d.forEach(l=>i._free(l))}},Ra=(o,s)=>{let i=Kt(o);return Qt(i,s)},Wa=o=>{let s=fe(),i=qr.get(o);if(!i)throw new Error(`cannot release session. invalid session id: ${o}`);let[p,m,O,d]=i;d&&s._OrtReleaseBinding(d.handle),s.jsepUnregisterBuffers?.(o),m.forEach(y=>s._OrtFree(y)),O.forEach(y=>s._OrtFree(y)),s._OrtReleaseSession(p),qr.delete(o)},xa=(o,s,i,p,m)=>{if(!o){s.push(0);return}let O=fe(),d=o[0],y=o[1],_=o[3],l,T;if(d==="string"&&_==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(_==="gpu-buffer"){let D=o[2].gpuBuffer,j=Jt(Xt(d));T=y.reduce((x,L)=>x*L,1)*j,l=O.jsepRegisterBuffer(p,m,D,T)}else{let D=o[2];if(Array.isArray(D)){T=4*D.length,l=O._malloc(T),i.push(l);let j=l/4;for(let x=0;x<D.length;x++){if(typeof D[x]!="string")throw new TypeError(`tensor data at index ${x} is not a string`);O.HEAPU32[j++]=le(D[x],i)}}else T=D.byteLength,l=O._malloc(T),i.push(l),O.HEAPU8.set(new Uint8Array(D.buffer,D.byteOffset,T),l)}let M=O.stackSave(),S=O.stackAlloc(4*y.length);try{let D=S/4;y.forEach(x=>O.HEAP32[D++]=x);let j=O._OrtCreateTensor(Xt(d),l,T,S,y.length,Ua(_));j===0&&se(`Can't create tensor for input/output. session=${p}, index=${m}.`),s.push(j)}finally{O.stackRestore(M)}},ka=async(o,s,i,p,m,O)=>{let d=fe(),y=qr.get(o);if(!y)throw new Error(`cannot run inference. invalid session id: ${o}`);let[_,l,T,M]=y,S=s.length,D=p.length,j=0,x=[],L=[],Y=[],U=[],K=d.stackSave(),de=d.stackAlloc(S*4),J=d.stackAlloc(S*4),Ae=d.stackAlloc(D*4),De=d.stackAlloc(D*4);try{[j,x]=Sa(O);for(let V=0;V<S;V++)xa(i[V],L,U,o,s[V]);for(let V=0;V<D;V++)xa(m[V],Y,U,o,S+p[V]);let I=de/4,G=J/4,Ke=Ae/4,Qe=De/4;for(let V=0;V<S;V++)d.HEAPU32[I++]=L[V],d.HEAPU32[G++]=l[s[V]];for(let V=0;V<D;V++)d.HEAPU32[Ke++]=Y[V],d.HEAPU32[Qe++]=T[p[V]];let er;er=await d._OrtRun(_,J,de,S,De,D,Ae,j),er!==0&&se("failed to call OrtRun().");let ce=[];for(let V=0;V<D;V++){let Q=d.HEAPU32[Ae/4+V];if(Q===Y[V]){ce.push(m[V]);continue}let je=d.stackSave(),ve=d.stackAlloc(4*4),me=!1,ee,pe=0;try{d._OrtGetTensorData(Q,ve,ve+4,ve+8,ve+12)!==0&&se(`Can't access output tensor data on index ${V}.`);let Le=ve/4,Be=d.HEAPU32[Le++];pe=d.HEAPU32[Le++];let qe=d.HEAPU32[Le++],tr=d.HEAPU32[Le++],be=[];for(let te=0;te<tr;te++)be.push(d.HEAPU32[qe/4+te]);d._OrtFree(qe);let Re=be.reduce((te,ue)=>te*ue,1);ee=Ia(Be);let nr=M?.outputPreferredLocations[p[V]];if(ee==="string"){if(nr==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let te=[],ue=pe/4;for(let Xe=0;Xe<Re;Xe++){let Ne=d.HEAPU32[ue++],yr=Xe===Re-1?void 0:d.HEAPU32[ue]-Ne;te.push(d.UTF8ToString(Ne,yr))}ce.push([ee,be,te,"cpu"])}else if(nr==="gpu-buffer"&&Re>0){let te=d.jsepGetBuffer(pe),ue=Jt(Be);if(ue===void 0||!wt(ee))throw new Error(`Unsupported data type: ${ee}`);me=!0,ce.push([ee,be,{gpuBuffer:te,download:d.jsepCreateDownloader(te,Re*ue,ee),dispose:()=>{d._OrtReleaseTensor(Q)}},"gpu-buffer"])}else{let te=Da(ee),ue=new te(Re);new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength).set(d.HEAPU8.subarray(pe,pe+ue.byteLength)),ce.push([ee,be,ue,"cpu"])}}finally{d.stackRestore(je),ee==="string"&&pe&&d._free(pe),me||d._OrtReleaseTensor(Q)}}return M&&d._OrtClearBoundOutputs(M.handle),ce}finally{d.stackRestore(K),L.forEach(I=>d._OrtReleaseTensor(I)),Y.forEach(I=>d._OrtReleaseTensor(I)),U.forEach(I=>d._free(I)),j!==0&&d._OrtReleaseRunOptions(j),x.forEach(I=>d._free(I))}},La=o=>{let s=fe(),i=qr.get(o);if(!i)throw new Error("invalid session id");let p=i[0],m=s._OrtEndProfiling(p);m===0&&se("Can't get an profile file name."),s._OrtFree(m)},$a=o=>{let s=[];for(let i of o){let p=i[2];!Array.isArray(p)&&"buffer"in p&&s.push(p.buffer)}return s}});var ja=Dr((Ji,Bo)=>{Bo.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var lt=Object.defineProperty;var Ln=Object.getOwnPropertyDescriptor;var kn=Object.getOwnPropertyNames;var Hn=Object.prototype.hasOwnProperty;var dt=(c,h)=>()=>(c&&(h=c(c=0)),h);var Wr=(c,h)=>()=>(h||c((h={exports:{}}).exports,h),h.exports),pt=(c,h)=>{for(var u in h)lt(c,u,{get:h[u],enumerable:!0})},$n=(c,h,u,w)=>{if(h&&typeof h=="object"||typeof h=="function")for(let O of kn(h))!Hn.call(c,O)&&O!==u&&lt(c,O,{get:()=>h[O],enumerable:!(w=Ln(h,O))||w.enumerable});return c};var Ur=c=>$n(lt({},"__esModule",{value:!0}),c);var mt={};pt(mt,{readFile:()=>Nn});var Nn,gt=dt(()=>{Nn=void 0});var ht={};pt(ht,{join:()=>jn});var jn,yt=dt(()=>{jn=void 0});var en=Wr((Qt,vt)=>{"use strict";var Kt=(()=>{var c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(c=c||__filename),function(h={}){var u=h,w,O;u.ready=new Promise((t,n)=>{w=t,O=n});var M=Object.assign({},u),d="./this.program",A=typeof window=="object",B=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R="",V,H,$;if(l){var Z=(gt(),Ur(mt)),N=(yt(),Ur(ht));R=B?N.dirname(R)+"/":__dirname+"/",V=(t,n)=>(t=t.startsWith("file://")?new URL(t):N.normalize(t),Z.readFileSync(t,n?void 0:"utf8")),$=t=>(t=V(t,!0),t.buffer||(t=new Uint8Array(t)),t),H=(t,n,a,s=!0)=>{t=t.startsWith("file://")?new URL(t):N.normalize(t),Z.readFile(t,s?void 0:"utf8",(p,v)=>{p?a(p):n(s?v.buffer:v)})},!u.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),u.inspect=()=>"[Emscripten Module object]"}else(A||B)&&(B?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),c&&(R=c),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",V=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},B&&($=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),H=(t,n,a)=>{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=()=>{s.status==200||s.status==0&&s.response?n(s.response):a()},s.onerror=a,s.send(null)});var Y=console.log.bind(console),K=console.error.bind(console);Object.assign(u,M),M=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var F,ce=!1,Ee,ee,be,Me,S,k,Ge,Ve,qe,ue;function j(){var t=F.buffer;u.HEAP8=Ee=new Int8Array(t),u.HEAP16=be=new Int16Array(t),u.HEAPU8=ee=new Uint8Array(t),u.HEAPU16=Me=new Uint16Array(t),u.HEAP32=S=new Int32Array(t),u.HEAPU32=k=new Uint32Array(t),u.HEAPF32=Ge=new Float32Array(t),u.HEAPF64=ue=new Float64Array(t),u.HEAP64=Ve=new BigInt64Array(t),u.HEAPU64=qe=new BigUint64Array(t)}var q=[],Re=[],ge=[],le=0,J=null,fe=null;function Je(t){throw t="Aborted("+t+")",K(t),ce=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),O(t),t}function xe(t){return t.startsWith("data:application/octet-stream;base64,")}var De;if(De="ort-wasm.wasm",!xe(De)){var je=De;De=u.locateFile?u.locateFile(je,R):R+je}function Xe(t){if($)return $(t);throw"both async and sync fetching of the wasm failed"}function he(t){if(A||B){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+t+"\'";return n.arrayBuffer()}).catch(()=>Xe(t));if(H)return new Promise((n,a)=>{H(t,s=>n(new Uint8Array(s)),a)})}return Promise.resolve().then(()=>Xe(t))}function We(t,n,a){return he(t).then(s=>WebAssembly.instantiate(s,n)).then(s=>s).then(a,s=>{K(`failed to asynchronously prepare wasm: ${s}`),Je(s)})}function Ze(t,n){var a=De;return typeof WebAssembly.instantiateStreaming!="function"||xe(a)||a.startsWith("file://")||l||typeof fetch!="function"?We(a,t,n):fetch(a,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,t).then(n,function(p){return K(`wasm streaming compile failed: ${p}`),K("falling back to ArrayBuffer instantiation"),We(a,t,n)}))}function Q(t){this.Va=t-24,this.fb=function(n){k[this.Va+4>>>2>>>0]=n},this.eb=function(n){k[this.Va+8>>>2>>>0]=n},this.Za=function(n,a){this.$a(),this.fb(n),this.eb(a)},this.$a=function(){k[this.Va+16>>>2>>>0]=0}}var ae=0,ze=0,Le=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sr=(t,n,a)=>{n>>>=0;var s=n+a;for(a=n;t[a]&&!(a>=s);)++a;if(16<a-n&&t.buffer&&Le)return Le.decode(t.subarray(n,a));for(s="";n<a;){var p=t[n++];if(p&128){var v=t[n++]&63;if((p&224)==192)s+=String.fromCharCode((p&31)<<6|v);else{var E=t[n++]&63;p=(p&240)==224?(p&15)<<12|v<<6|E:(p&7)<<18|v<<12|E<<6|t[n++]&63,65536>p?s+=String.fromCharCode(p):(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023))}}else s+=String.fromCharCode(p)}return s},Ke=(t,n)=>(t>>>=0)?sr(ee,t,n):"",ke=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);127>=s?n++:2047>=s?n+=2:55296<=s&&57343>=s?(n+=4,++a):n+=3}return n},Ue=(t,n,a,s)=>{if(a>>>=0,!(0<s))return 0;var p=a;s=a+s-1;for(var v=0;v<t.length;++v){var E=t.charCodeAt(v);if(55296<=E&&57343>=E){var T=t.charCodeAt(++v);E=65536+((E&1023)<<10)|T&1023}if(127>=E){if(a>=s)break;n[a++>>>0]=E}else{if(2047>=E){if(a+1>=s)break;n[a++>>>0]=192|E>>6}else{if(65535>=E){if(a+2>=s)break;n[a++>>>0]=224|E>>12}else{if(a+3>=s)break;n[a++>>>0]=240|E>>18,n[a++>>>0]=128|E>>12&63}n[a++>>>0]=128|E>>6&63}n[a++>>>0]=128|E&63}}return n[a>>>0]=0,a-p},ur=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Ye,Oe=t=>{for(var n="";ee[t>>>0];)n+=Ye[ee[t++>>>0]];return n},Be={},fr={},Qe={},Ie;function rt(t,n,a={}){var s=n.name;if(!t)throw new Ie(`type "${s}" must have a positive integer typeid pointer`);if(fr.hasOwnProperty(t)){if(a.gb)return;throw new Ie(`Cannot register type \'${s}\' twice`)}fr[t]=n,delete Qe[t],Be.hasOwnProperty(t)&&(n=Be[t],delete Be[t],n.forEach(p=>p()))}function Ce(t,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");rt(t,n,a)}var Br=(t,n,a)=>{switch(n){case 1:return a?s=>Ee[s>>>0>>>0]:s=>ee[s>>>0>>>0];case 2:return a?s=>be[s>>>1>>>0]:s=>Me[s>>>1>>>0];case 4:return a?s=>S[s>>>2>>>0]:s=>k[s>>>2>>>0];case 8:return a?s=>Ve[s>>>3]:s=>qe[s>>>3];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}};function er(){this.Sa=[void 0],this.bb=[]}var me=new er;function cr(t){t>>>=0,t>=me.Va&&--me.get(t).cb===0&&me.$a(t)}var de=t=>{if(!t)throw new Ie("Cannot use deleted val. handle = "+t);return me.get(t).value},ye=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return me.Za({cb:1,value:t})}};function rr(t){return this.fromWireType(S[t>>>2>>>0])}var Rr=(t,n)=>{switch(n){case 4:return function(a){return this.fromWireType(Ge[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(ue[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}};function Or(t){return this.fromWireType(k[t>>>2>>>0])}var Lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,D=(t,n)=>{for(var a=t>>1,s=a+n/2;!(a>=s)&&Me[a>>>0];)++a;if(a<<=1,32<a-t&&Lr)return Lr.decode(ee.subarray(t>>>0,a>>>0));for(a="",s=0;!(s>=n/2);++s){var p=be[t+2*s>>>1>>>0];if(p==0)break;a+=String.fromCharCode(p)}return a},lr=(t,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var s=n;a=a<2*t.length?a/2:t.length;for(var p=0;p<a;++p)be[n>>>1>>>0]=t.charCodeAt(p),n+=2;return be[n>>>1>>>0]=0,n-s},kr=t=>2*t.length,dr=(t,n)=>{for(var a=0,s="";!(a>=n/4);){var p=S[t+4*a>>>2>>>0];if(p==0)break;++a,65536<=p?(p-=65536,s+=String.fromCharCode(55296|p>>10,56320|p&1023)):s+=String.fromCharCode(p)}return s},Hr=(t,n,a)=>{if(n>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var s=n;a=s+a-4;for(var p=0;p<t.length;++p){var v=t.charCodeAt(p);if(55296<=v&&57343>=v){var E=t.charCodeAt(++p);v=65536+((v&1023)<<10)|E&1023}if(S[n>>>2>>>0]=v,n+=4,n+4>a)break}return S[n>>>2>>>0]=0,n-s},tt=t=>{for(var n=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);55296<=s&&57343>=s&&++a,n+=4}return n},tr=(t,n)=>{var a=fr[t];if(a===void 0)throw t=ve(t),a=Oe(t),Pe(t),new Ie(n+" has unknown type "+a);return a},nt={},nr=t=>{var n=nt[t];return n===void 0?Oe(t):n},or=[],_r=()=>typeof globalThis=="object"?globalThis:Function("return this")(),$r=t=>{var n=or.length;return or.push(t),n},pr=(t,n)=>{for(var a=Array(t),s=0;s<t;++s)a[s]=tr(k[n+4*s>>>2>>>0],"parameter "+s);return a},Tr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t},mr={};function Nr(t,n){return t=Tr(t),{[t]:function(){return n.apply(this,arguments)}}[t]}function jr(t){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=Nr(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,t=n.apply(a,t),t instanceof Object?t:a}var zr=t=>{for(var n="",a=0;a<t;++a)n+=(a!==0?", ":"")+"arg"+a;var s="return function emval_allocator_"+t+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<t;++a)s+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",s+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(tr,u,ye,()=>k)},Ar={},He=t=>t%4===0&&(t%100!==0||t%400===0),Sr=[0,31,60,91,121,152,182,213,244,274,305,335],Er=[0,31,59,90,120,151,181,212,243,273,304,334],Mr=t=>{var n=ke(t)+1,a=ar(n);return a&&Ue(t,ee,a,n),a},gr={},Cr=()=>{if(!hr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in gr)gr[n]===void 0?delete t[n]:t[n]=gr[n];var a=[];for(n in t)a.push(`${n}=${t[n]}`);hr=a}return hr},hr,Yr=[null,[],[]],Pr=[31,29,31,30,31,30,31,31,30,31,30,31],_e=[31,28,31,30,31,30,31,31,30,31,30,31];function Fr(t){var n=Array(ke(t)+1);return Ue(t,n,0,n.length),n}function yr(t,n,a,s){function p(g,z,X){for(g=typeof g=="number"?g.toString():g||"";g.length<z;)g=X[0]+g;return g}function v(g,z){return p(g,z,"0")}function E(g,z){function X(Dr){return 0>Dr?-1:0<Dr?1:0}var Fe;return(Fe=X(g.getFullYear()-z.getFullYear()))===0&&(Fe=X(g.getMonth()-z.getMonth()))===0&&(Fe=X(g.getDate()-z.getDate())),Fe}function T(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function W(g){var z=g.Ta;for(g=new Date(new Date(g.Ua+1900,0,1).getTime());0<z;){var X=g.getMonth(),Fe=(He(g.getFullYear())?Pr:_e)[X];if(z>Fe-g.getDate())z-=Fe-g.getDate()+1,g.setDate(1),11>X?g.setMonth(X+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+z);break}}return X=new Date(g.getFullYear()+1,0,4),z=T(new Date(g.getFullYear(),0,4)),X=T(X),0>=E(z,g)?0>=E(X,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}t>>>=0,n>>>=0,a>>>=0,s>>>=0;var I=k[s+40>>>2>>>0];s={kb:S[s>>>2>>>0],jb:S[s+4>>>2>>>0],Xa:S[s+8>>>2>>>0],ab:S[s+12>>>2>>>0],Ya:S[s+16>>>2>>>0],Ua:S[s+20>>>2>>>0],Oa:S[s+24>>>2>>>0],Ta:S[s+28>>>2>>>0],mb:S[s+32>>>2>>>0],ib:S[s+36>>>2>>>0],lb:I?Ke(I):""},a=Ke(a),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var re in I)a=a.replace(new RegExp(re,"g"),I[re]);var L="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ae="January February March April May June July August September October November December".split(" ");I={"%a":g=>L[g.Oa].substring(0,3),"%A":g=>L[g.Oa],"%b":g=>Ae[g.Ya].substring(0,3),"%B":g=>Ae[g.Ya],"%C":g=>v((g.Ua+1900)/100|0,2),"%d":g=>v(g.ab,2),"%e":g=>p(g.ab,2," "),"%g":g=>W(g).toString().substring(2),"%G":g=>W(g),"%H":g=>v(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),v(g,2)),"%j":g=>{for(var z=0,X=0;X<=g.Ya-1;z+=(He(g.Ua+1900)?Pr:_e)[X++]);return v(g.ab+z,3)},"%m":g=>v(g.Ya+1,2),"%M":g=>v(g.jb,2),"%n":()=>`\n`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>v(g.kb,2),"%t":()=>"	","%u":g=>g.Oa||7,"%U":g=>v(Math.floor((g.Ta+7-g.Oa)/7),2),"%V":g=>{var z=Math.floor((g.Ta+7-(g.Oa+6)%7)/7);if(2>=(g.Oa+371-g.Ta-2)%7&&z++,z)z==53&&(X=(g.Oa+371-g.Ta)%7,X==4||X==3&&He(g.Ua)||(z=1));else{z=52;var X=(g.Oa+7-g.Ta-1)%7;(X==4||X==5&&He(g.Ua%400-1))&&z++}return v(z,2)},"%w":g=>g.Oa,"%W":g=>v(Math.floor((g.Ta+7-(g.Oa+6)%7)/7),2),"%y":g=>(g.Ua+1900).toString().substring(2),"%Y":g=>g.Ua+1900,"%z":g=>{g=g.ib;var z=0<=g;return g=Math.abs(g)/60,(z?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(re in I)a.includes(re)&&(a=a.replace(new RegExp(re,"g"),I[re](s)));return a=a.replace(/\\0\\0/g,"%"),re=Fr(a),re.length>n?0:(Ee.set(re,t>>>0),re.length-1)}for(var Gr=Array(256),Te=0;256>Te;++Te)Gr[Te]=String.fromCharCode(Te);Ye=Gr,Ie=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(er.prototype,{get(t){return this.Sa[t]},has(t){return this.Sa[t]!==void 0},Za(t){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=t,n},$a(t){this.Sa[t]=void 0,this.bb.push(t)}}),me.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),me.Va=me.Sa.length,u.count_emval_handles=()=>{for(var t=0,n=me.Va;n<me.Sa.length;++n)me.Sa[n]!==void 0&&++t;return t};var ot={a:function(t,n,a){throw t>>>=0,new Q(t).Za(n>>>0,a>>>0),ae=t,ze++,ae},v:function(){return 0},ba:function(){},N:function(){},P:function(){},H:function(){return 0},$:function(){},V:function(){},_:function(){},A:function(){},O:function(){},L:function(){},aa:function(){},M:function(){},D:function(t,n,a,s,p){n>>>=0,n=Oe(n);var v=n.indexOf("u")!=-1;v&&(p=(1n<<64n)-1n),Ce(t>>>0,{name:n,fromWireType:E=>E,toWireType:function(E,T){if(typeof T!="bigint"&&typeof T!="number")throw new TypeError(`Cannot convert "${ur(T)}" to ${this.name}`);if(T<s||T>p)throw new TypeError(`Passing a number "${ur(T)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${s}, ${p}]!`);return T},argPackAdvance:8,readValueFromPointer:Br(n,a>>>0,!v),Wa:null})},ea:function(t,n,a,s){n=Oe(n>>>0),Ce(t>>>0,{name:n,fromWireType:function(p){return!!p},toWireType:function(p,v){return v?a:s},argPackAdvance:8,readValueFromPointer:function(p){return this.fromWireType(ee[p>>>0])},Wa:null})},da:function(t,n){n=Oe(n>>>0),Ce(t>>>0,{name:n,fromWireType:a=>{var s=de(a);return cr(a),s},toWireType:(a,s)=>ye(s),argPackAdvance:8,readValueFromPointer:rr,Wa:null})},C:function(t,n,a){n=Oe(n>>>0),Ce(t>>>0,{name:n,fromWireType:s=>s,toWireType:(s,p)=>p,argPackAdvance:8,readValueFromPointer:Rr(n,a>>>0),Wa:null})},p:function(t,n,a,s,p){if(t>>>=0,a>>>=0,n=Oe(n>>>0),p===-1&&(p=4294967295),p=T=>T,s===0){var v=32-8*a;p=T=>T<<v>>>v}var E=n.includes("unsigned")?function(T,W){return W>>>0}:function(T,W){return W};Ce(t,{name:n,fromWireType:p,toWireType:E,argPackAdvance:8,readValueFromPointer:Br(n,a,s!==0),Wa:null})},l:function(t,n,a){function s(v){return new p(Ee.buffer,k[v+4>>>2>>>0],k[v>>>2>>>0])}var p=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Oe(a>>>0),Ce(t>>>0,{name:a,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{gb:!0})},E:function(t,n){n=Oe(n>>>0);var a=n==="std::string";Ce(t>>>0,{name:n,fromWireType:function(s){var p=k[s>>>2>>>0],v=s+4;if(a)for(var E=v,T=0;T<=p;++T){var W=v+T;if(T==p||ee[W>>>0]==0){if(E=Ke(E,W-E),I===void 0)var I=E;else I+=String.fromCharCode(0),I+=E;E=W+1}}else{for(I=Array(p),T=0;T<p;++T)I[T]=String.fromCharCode(ee[v+T>>>0]);I=I.join("")}return Pe(s),I},toWireType:function(s,p){p instanceof ArrayBuffer&&(p=new Uint8Array(p));var v=typeof p=="string";if(!(v||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int8Array))throw new Ie("Cannot pass non-string to std::string");var E=a&&v?ke(p):p.length,T=ar(4+E+1),W=T+4;if(k[T>>>2>>>0]=E,a&&v)Ue(p,ee,W,E+1);else if(v)for(v=0;v<E;++v){var I=p.charCodeAt(v);if(255<I)throw Pe(W),new Ie("String has UTF-16 code units that do not fit in 8 bits");ee[W+v>>>0]=I}else for(v=0;v<E;++v)ee[W+v>>>0]=p[v];return s!==null&&s.push(Pe,T),T},argPackAdvance:8,readValueFromPointer:Or,Wa(s){Pe(s)}})},x:function(t,n,a){if(n>>>=0,a>>>=0,a=Oe(a),n===2)var s=D,p=lr,v=kr,E=()=>Me,T=1;else n===4&&(s=dr,p=Hr,v=tt,E=()=>k,T=2);Ce(t>>>0,{name:a,fromWireType:W=>{for(var I=k[W>>>2>>>0],re=E(),L,Ae=W+4,g=0;g<=I;++g){var z=W+4+g*n;(g==I||re[z>>>T]==0)&&(Ae=s(Ae,z-Ae),L===void 0?L=Ae:(L+=String.fromCharCode(0),L+=Ae),Ae=z+n)}return Pe(W),L},toWireType:(W,I)=>{if(typeof I!="string")throw new Ie(`Cannot pass non-string to C++ string type ${a}`);var re=v(I),L=ar(4+re+n);return k[L>>>2]=re>>T,p(I,L+4,re+n),W!==null&&W.push(Pe,L),L},argPackAdvance:8,readValueFromPointer:rr,Wa(W){Pe(W)}})},fa:function(t,n){n=Oe(n>>>0),Ce(t>>>0,{hb:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ca:()=>!0,o:function(t,n,a){n>>>=0,a>>>=0,t=de(t>>>0),n=tr(n,"emval::as");var s=[],p=ye(s);return k[a>>>2>>>0]=p,n.toWireType(s,t)},h:function(t,n,a,s,p){a>>>=0,s>>>=0,p>>>=0,t=or[t>>>0],n=de(n>>>0),a=nr(a);var v=[];return k[s>>>2>>>0]=ye(v),t(n,a,v,p)},r:function(t,n,a,s){a>>>=0,s>>>=0,t=or[t>>>0],n=de(n>>>0),a=nr(a),t(n,a,null,s)},b:cr,F:function(t,n){return n>>>=0,t=de(t>>>0),n=de(n),t==n},u:function(t){return t>>>=0,t===0?ye(_r()):(t=nr(t),ye(_r()[t]))},g:function(t,n){var a=pr(t,n>>>0),s=a[0];n=s.name+"_$"+a.slice(1).map(function(re){return re.name}).join("_")+"$";var p=mr[n];if(p!==void 0)return p;p=["retType"];for(var v=[s],E="",T=0;T<t-1;++T)E+=(T!==0?", ":"")+"arg"+T,p.push("argType"+T),v.push(a[1+T]);var W="return function "+Tr("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,I=0;for(T=0;T<t-1;++T)W+="    var arg"+T+" = argType"+T+".readValueFromPointer(args"+(I?"+"+I:"")+`);\n`,I+=a[T+1].argPackAdvance;for(W+="    var rv = handle[name]("+E+`);\n`,T=0;T<t-1;++T)a[T+1].deleteObject&&(W+="    argType"+T+".deleteObject(arg"+T+`);\n`);return s.hb||(W+=`    return retType.toWireType(destructors, rv);\n`),p.push(W+`};\n`),t=jr(p).apply(null,v),p=$r(t),mr[n]=p},q:function(t,n){return n>>>=0,t=de(t>>>0),n=de(n),ye(t[n])},c:function(t){t>>>=0,4<t&&(me.get(t).cb+=1)},G:function(t,n,a,s){a>>>=0,s>>>=0,t=de(t>>>0);var p=Ar[n];return p||(p=zr(n),Ar[n]=p),p(t,a,s)},s:function(){return ye([])},k:function(t){t=de(t>>>0);for(var n=Array(t.length),a=0;a<t.length;a++)n[a]=t[a];return ye(n)},d:function(t){return ye(nr(t>>>0))},j:function(){return ye({})},f:function(t){t>>>=0;for(var n=de(t);n.length;){var a=n.pop();n.pop()(a)}cr(t)},i:function(t,n,a){n>>>=0,a>>>=0,t=de(t>>>0),n=de(n),a=de(a),t[n]=a},e:function(t,n){return n>>>=0,t=tr(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(n),ye(t)},S:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),S[n>>>2>>>0]=t.getUTCSeconds(),S[n+4>>>2>>>0]=t.getUTCMinutes(),S[n+8>>>2>>>0]=t.getUTCHours(),S[n+12>>>2>>>0]=t.getUTCDate(),S[n+16>>>2>>>0]=t.getUTCMonth(),S[n+20>>>2>>>0]=t.getUTCFullYear()-1900,S[n+24>>>2>>>0]=t.getUTCDay(),S[n+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(t,n){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),n>>>=0,t=new Date(1e3*t),S[n>>>2>>>0]=t.getSeconds(),S[n+4>>>2>>>0]=t.getMinutes(),S[n+8>>>2>>>0]=t.getHours(),S[n+12>>>2>>>0]=t.getDate(),S[n+16>>>2>>>0]=t.getMonth(),S[n+20>>>2>>>0]=t.getFullYear()-1900,S[n+24>>>2>>>0]=t.getDay(),S[n+28>>>2>>>0]=(He(t.getFullYear())?Sr:Er)[t.getMonth()]+t.getDate()-1|0,S[n+36>>>2>>>0]=-(60*t.getTimezoneOffset());var a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=new Date(t.getFullYear(),0,1).getTimezoneOffset();S[n+32>>>2>>>0]=(a!=s&&t.getTimezoneOffset()==Math.min(s,a))|0},U:function(t){t>>>=0;var n=new Date(S[t+20>>>2>>>0]+1900,S[t+16>>>2>>>0],S[t+12>>>2>>>0],S[t+8>>>2>>>0],S[t+4>>>2>>>0],S[t>>>2>>>0],0),a=S[t+32>>>2>>>0],s=n.getTimezoneOffset(),p=new Date(n.getFullYear(),6,1).getTimezoneOffset(),v=new Date(n.getFullYear(),0,1).getTimezoneOffset(),E=Math.min(v,p);return 0>a?S[t+32>>>2>>>0]=+(p!=v&&E==s):0<a!=(E==s)&&(p=Math.max(v,p),n.setTime(n.getTime()+6e4*((0<a?E:p)-s))),S[t+24>>>2>>>0]=n.getDay(),S[t+28>>>2>>>0]=(He(n.getFullYear())?Sr:Er)[n.getMonth()]+n.getDate()-1|0,S[t>>>2>>>0]=n.getSeconds(),S[t+4>>>2>>>0]=n.getMinutes(),S[t+8>>>2>>>0]=n.getHours(),S[t+12>>>2>>>0]=n.getDate(),S[t+16>>>2>>>0]=n.getMonth(),S[t+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:function(t,n,a){function s(W){return(W=W.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?W[1]:"GMT"}a>>>=0;var p=new Date().getFullYear(),v=new Date(p,0,1),E=new Date(p,6,1);p=v.getTimezoneOffset();var T=E.getTimezoneOffset();k[t>>>0>>>2>>>0]=60*Math.max(p,T),S[n>>>0>>>2>>>0]=+(p!=T),t=s(v),n=s(E),t=Mr(t),n=Mr(n),T<p?(k[a>>>2>>>0]=t,k[a+4>>>2>>>0]=n):(k[a>>>2>>>0]=n,k[a+4>>>2>>>0]=t)},t:()=>{Je("")},B:()=>Date.now(),K:function(){return 4294901760},n:()=>performance.now(),Z:function(t,n,a){return n>>>=0,ee.copyWithin(t>>>0>>>0,n>>>0,n+(a>>>0)>>>0)},I:function(t){t>>>=0;var n=ee.length;if(4294901760<t)return!1;for(var a=1;4>=a;a*=2){var s=n*(1+.2/a);s=Math.min(s,t+100663296);var p=Math;s=Math.max(t,s);e:{p=(p.min.call(p,4294901760,s+(65536-s%65536)%65536)-F.buffer.byteLength+65535)/65536;try{F.grow(p),j();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},X:function(t,n){t>>>=0,n>>>=0;var a=0;return Cr().forEach((s,p)=>{var v=n+a;for(p=k[t+4*p>>>2>>>0]=v,v=0;v<s.length;++v)Ee[p++>>>0>>>0]=s.charCodeAt(v);Ee[p>>>0>>>0]=0,a+=s.length+1}),0},Y:function(t,n){t>>>=0,n>>>=0;var a=Cr();k[t>>>2>>>0]=a.length;var s=0;return a.forEach(p=>s+=p.length+1),k[n>>>2>>>0]=s,0},w:()=>52,z:function(){return 52},W:function(){return 70},y:function(t,n,a,s){n>>>=0,a>>>=0,s>>>=0;for(var p=0,v=0;v<a;v++){var E=k[n>>>2>>>0],T=k[n+4>>>2>>>0];n+=8;for(var W=0;W<T;W++){var I=ee[E+W>>>0],re=Yr[t];I===0||I===10?((t===1?Y:K)(sr(re,0)),re.length=0):re.push(I)}p+=T}return k[s>>>2>>>0]=p,0},ga:yr,m:function(t,n,a,s){return yr(t>>>0,n>>>0,a>>>0,s>>>0)}},C=function(){var t={a:ot};return le++,Ze(t,function(n){C=n.instance.exports,C=Vr(),F=C.ha,j(),Re.unshift(C.ia),le--,le==0&&(J!==null&&(clearInterval(J),J=null),fe&&(n=fe,fe=null,n()))}).catch(O),{}}();u._OrtInit=(t,n)=>(u._OrtInit=C.ja)(t,n),u._OrtGetLastError=(t,n)=>(u._OrtGetLastError=C.ka)(t,n),u._OrtCreateSessionOptions=(t,n,a,s,p,v,E,T,W,I)=>(u._OrtCreateSessionOptions=C.la)(t,n,a,s,p,v,E,T,W,I),u._OrtAppendExecutionProvider=(t,n)=>(u._OrtAppendExecutionProvider=C.ma)(t,n),u._OrtAddFreeDimensionOverride=(t,n,a)=>(u._OrtAddFreeDimensionOverride=C.na)(t,n,a),u._OrtAddSessionConfigEntry=(t,n,a)=>(u._OrtAddSessionConfigEntry=C.oa)(t,n,a),u._OrtReleaseSessionOptions=t=>(u._OrtReleaseSessionOptions=C.pa)(t),u._OrtCreateSession=(t,n,a)=>(u._OrtCreateSession=C.qa)(t,n,a),u._OrtReleaseSession=t=>(u._OrtReleaseSession=C.ra)(t),u._OrtGetInputOutputCount=(t,n,a)=>(u._OrtGetInputOutputCount=C.sa)(t,n,a),u._OrtGetInputName=(t,n)=>(u._OrtGetInputName=C.ta)(t,n),u._OrtGetOutputName=(t,n)=>(u._OrtGetOutputName=C.ua)(t,n),u._OrtFree=t=>(u._OrtFree=C.va)(t),u._OrtCreateTensor=(t,n,a,s,p,v)=>(u._OrtCreateTensor=C.wa)(t,n,a,s,p,v),u._OrtGetTensorData=(t,n,a,s,p)=>(u._OrtGetTensorData=C.xa)(t,n,a,s,p),u._OrtReleaseTensor=t=>(u._OrtReleaseTensor=C.ya)(t),u._OrtCreateRunOptions=(t,n,a,s)=>(u._OrtCreateRunOptions=C.za)(t,n,a,s),u._OrtAddRunConfigEntry=(t,n,a)=>(u._OrtAddRunConfigEntry=C.Aa)(t,n,a),u._OrtReleaseRunOptions=t=>(u._OrtReleaseRunOptions=C.Ba)(t),u._OrtCreateBinding=t=>(u._OrtCreateBinding=C.Ca)(t),u._OrtBindInput=(t,n,a)=>(u._OrtBindInput=C.Da)(t,n,a),u._OrtBindOutput=(t,n,a,s)=>(u._OrtBindOutput=C.Ea)(t,n,a,s),u._OrtClearBoundOutputs=t=>(u._OrtClearBoundOutputs=C.Fa)(t),u._OrtReleaseBinding=t=>(u._OrtReleaseBinding=C.Ga)(t),u._OrtRunWithBinding=(t,n,a,s,p)=>(u._OrtRunWithBinding=C.Ha)(t,n,a,s,p),u._OrtRun=(t,n,a,s,p,v,E,T)=>(u._OrtRun=C.Ia)(t,n,a,s,p,v,E,T),u._OrtEndProfiling=t=>(u._OrtEndProfiling=C.Ja)(t);var ar=u._malloc=t=>(ar=u._malloc=C.Ka)(t),Pe=u._free=t=>(Pe=u._free=C.La)(t),ve=t=>(ve=C.Ma)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=C.Na)();var vr=()=>(vr=C.Pa)(),pe=t=>(pe=C.Qa)(t),we=t=>(we=C.Ra)(t);function Vr(){var t=C;t=Object.assign({},t);var n=s=>()=>s()>>>0,a=s=>p=>s(p)>>>0;return t.__errno_location=n(t.__errno_location),t.Ka=a(t.Ka),t.Ma=a(t.Ma),t.Pa=n(t.Pa),t.Ra=a(t.Ra),t}u.stackAlloc=we,u.stackSave=vr,u.stackRestore=pe,u.UTF8ToString=Ke,u.stringToUTF8=(t,n,a)=>Ue(t,ee,n,a),u.lengthBytesUTF8=ke;var wr;fe=function t(){wr||qr(),wr||(fe=t)};function qr(){if(!(0<le)){for(;0<q.length;)q.shift()(u);if(!(0<le||wr||(wr=!0,u.calledRun=!0,ce))){for(;0<Re.length;)Re.shift()(u);for(w(u);0<ge.length;)ge.shift()(u)}}}return qr(),h.ready}})();typeof Qt=="object"&&typeof vt=="object"?vt.exports=Kt:typeof define=="function"&&define.amd&&define([],()=>Kt)});var rn=Wr(()=>{});var tn=Wr(()=>{});var nn={};pt(nn,{cpus:()=>zn});var zn,on=dt(()=>{zn=void 0});var un=Wr((sn,wt)=>{"use strict";var an=(()=>{var c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(c=c||__filename),function(h={}){function u(){return q.buffer!=J.buffer&&Q(),J}function w(){return q.buffer!=J.buffer&&Q(),fe}function O(){return q.buffer!=J.buffer&&Q(),Je}function M(){return q.buffer!=J.buffer&&Q(),xe}function d(){return q.buffer!=J.buffer&&Q(),De}function A(){return q.buffer!=J.buffer&&Q(),je}function B(){return q.buffer!=J.buffer&&Q(),Ze}var l=h,R,V;l.ready=new Promise((e,r)=>{R=e,V=r});var H=Object.assign({},l),$="./this.program",Z=(e,r)=>{throw r},N=typeof window=="object",Y=typeof importScripts=="function",K=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",F=l.ENVIRONMENT_IS_PTHREAD||!1,ce="";function Ee(e){return l.locateFile?l.locateFile(e,ce):ce+e}var ee,be,Me;if(K){var S=(gt(),Ur(mt)),k=(yt(),Ur(ht));ce=Y?k.dirname(ce)+"/":__dirname+"/",ee=(r,o)=>(r=r.startsWith("file://")?new URL(r):k.normalize(r),S.readFileSync(r,o?void 0:"utf8")),Me=r=>(r=ee(r,!0),r.buffer||(r=new Uint8Array(r)),r),be=(r,o,i,f=!0)=>{r=r.startsWith("file://")?new URL(r):k.normalize(r),S.readFile(r,f?void 0:"utf8",(m,b)=>{m?i(m):o(f?b.buffer:b)})},!l.thisProgram&&1<process.argv.length&&($=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),Z=(r,o)=>{throw process.exitCode=r,o},l.inspect=()=>"[Emscripten Module object]";let e;try{e=rn()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(N||Y)&&(Y?ce=self.location.href:typeof document<"u"&&document.currentScript&&(ce=document.currentScript.src),typeof c<"u"&&c&&(ce=c),ce.indexOf("blob:")!==0?ce=ce.substr(0,ce.replace(/[?#].*/,"").lastIndexOf("/")+1):ce="",K||(ee=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Y&&(Me=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),be=(e,r,o)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):o()},i.onerror=o,i.send(null)}));K&&typeof performance>"u"&&(global.performance=tn().performance);var Ge=console.log.bind(console),Ve=console.error.bind(console);K&&(Ge=(...e)=>S.writeSync(1,e.join(" ")+`\n`),Ve=(...e)=>S.writeSync(2,e.join(" ")+`\n`));var qe=Ge,ue=Ve;Object.assign(l,H),H=null;var j=!0;typeof WebAssembly!="object"&&Be("no native wasm support detected");var q,Re,ge=!1,le,J,fe,Je,xe,De,je,Xe,he,We,Ze;function Q(){var e=q.buffer;l.HEAP8=J=new Int8Array(e),l.HEAP16=Je=new Int16Array(e),l.HEAPU8=fe=new Uint8Array(e),l.HEAPU16=xe=new Uint16Array(e),l.HEAP32=De=new Int32Array(e),l.HEAPU32=je=new Uint32Array(e),l.HEAPF32=Xe=new Float32Array(e),l.HEAPF64=Ze=new Float64Array(e),l.HEAP64=he=new BigInt64Array(e),l.HEAPU64=We=new BigUint64Array(e)}var ae=16777216;if(5242880<=ae||Be("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ae+"! (STACK_SIZE=5242880)"),F)q=l.wasmMemory;else if(q=new WebAssembly.Memory({initial:ae/65536,maximum:65536,shared:!0}),!(q.buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),K&&ue("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Q(),ae=q.buffer.byteLength;var ze=[],Le=[],sr=[],Ke=0;function ke(){return j||0<Ke}var Ue=0,ur=null,Ye=null;function Oe(){if(Ue--,Ue==0&&(ur!==null&&(clearInterval(ur),ur=null),Ye)){var e=Ye;Ye=null,e()}}function Be(e){throw e="Aborted("+e+")",ue(e),ge=!0,le=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),V(e),e}function fr(e){return e.startsWith("data:application/octet-stream;base64,")}var Qe;Qe="ort-wasm-threaded.wasm",fr(Qe)||(Qe=Ee(Qe));function Ie(e){if(Me)return Me(e);throw"both async and sync fetching of the wasm failed"}function rt(e){if(N||Y){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>Ie(e));if(be)return new Promise((r,o)=>{be(e,i=>r(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Ie(e))}function Ce(e,r,o){return rt(e).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(o,i=>{ue(`failed to asynchronously prepare wasm: ${i}`),Be(i)})}function Br(e,r){var o=Qe;return typeof WebAssembly.instantiateStreaming!="function"||fr(o)||o.startsWith("file://")||K||typeof fetch!="function"?Ce(o,e,r):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(r,function(f){return ue(`wasm streaming compile failed: ${f}`),ue("falling back to ArrayBuffer instantiation"),Ce(o,e,r)}))}function er(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var me=e=>{e.terminate(),e.onmessage=()=>{}},cr=e=>{if(D.qb.length==0){var r=Ee("ort-wasm-threaded.worker.js");r=new Worker(r),D.qb.push(r),D.Jb(D.qb[0])}if(r=D.qb.pop(),!r)return 6;D.nb.push(r),D.jb[e.mb]=r,r.mb=e.mb;var o={cmd:"run",start_routine:e.Mb,arg:e.Fb,pthread_ptr:e.mb};return K&&r.unref(),r.postMessage(o,e.Sb),0},de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ye=(e,r,o)=>{r>>>=0;var i=r+o;for(o=r;e[o]&&!(o>=i);)++o;if(16<o-r&&e.buffer&&de)return de.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,o):e.subarray(r,o));for(i="";r<o;){var f=e[r++];if(f&128){var m=e[r++]&63;if((f&224)==192)i+=String.fromCharCode((f&31)<<6|m);else{var b=e[r++]&63;f=(f&240)==224?(f&15)<<12|m<<6|b:(f&7)<<18|m<<12|b<<6|e[r++]&63,65536>f?i+=String.fromCharCode(f):(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else i+=String.fromCharCode(f)}return i},rr=(e,r)=>(e>>>=0)?ye(w(),e,r):"";function Rr(e){if(F)return L(0,1,e);le=e,ke()||(D.Nb(),ge=!0),Z(e,new er(e))}var Or=e=>{if(le=e,F)throw kr(e),"unwind";Rr(e)};function Lr(){ze.unshift(()=>{Ue++,Oe()})}var D={qb:[],nb:[],Eb:[],jb:{},vb(){F?(D.receiveObjectTransfer=D.Lb,D.threadInitTLS=D.Db,D.setExitStatus=D.Cb,j=!1):Lr()},Cb:e=>{le=e},Vb:["$terminateWorker"],Nb:()=>{for(var e of D.nb)me(e);for(e of D.qb)me(e);D.qb=[],D.nb=[],D.jb=[]},Bb:e=>{var r=e.mb;delete D.jb[r],D.qb.push(e),D.nb.splice(D.nb.indexOf(e),1),e.mb=0,st(r)},Lb(){},Db(){D.Eb.forEach(e=>e())},Jb:e=>new Promise(r=>{e.onmessage=m=>{m=m.data;var b=m.cmd;if(m.targetThread&&m.targetThread!=Xr()){var _=D.jb[m.targetThread];_?_.postMessage(m,m.transferList):ue(`Internal error! Worker sent a message "${b}" to target pthread ${m.targetThread}, but that thread no longer exists!`)}else b==="checkMailbox"?I():b==="spawnThread"?cr(m):b==="cleanupThread"?((m=D.jb[m.thread])||Be(),D.Bb(m)):b==="killThread"?(m=m.thread,b=D.jb[m],delete D.jb[m],me(b),st(m),D.nb.splice(D.nb.indexOf(b),1),b.mb=0):b==="cancelThread"?D.jb[m.thread].postMessage({cmd:"cancel"}):b==="loaded"?(e.loaded=!0,r(e)):b==="alert"?alert(`Thread ${m.threadId}: ${m.text}`):m.target==="setimmediate"?e.postMessage(m):b==="callHandler"?l[m.handler](...m.args):b&&ue(`worker sent an unknown command ${b}`)},e.onerror=m=>{throw ue(`worker sent an error! ${m.filename}:${m.lineno}: ${m.message}`),m},K&&(e.on("message",m=>e.onmessage({data:m})),e.on("error",m=>e.onerror(m)));var o=[],i=[],f;for(f of i)l.hasOwnProperty(f)&&o.push(f);e.postMessage({cmd:"load",handlers:o,urlOrBlob:l.mainScriptUrlOrBlob||c,wasmMemory:q,wasmModule:Re})})};l.PThread=D;var lr=e=>{for(;0<e.length;)e.shift()(l)};l.establishStackSpace=()=>{var e=Xr(),r=A()[e+52>>>2>>>0];e=A()[e+56>>>2>>>0],Jt(r,r-e),Kr(r)};function kr(e){if(F)return L(1,0,e);Or(e)}var dr=[],Hr;l.invokeEntryPoint=(e,r)=>{var o=dr[e];o||(e>=dr.length&&(dr.length=e+1),dr[e]=o=Hr.get(e)),e=o(r),ke()?D.Cb(e):ut(e)};function tt(e){this.sb=e-24,this.Kb=function(r){A()[this.sb+4>>>2>>>0]=r},this.xb=function(r){A()[this.sb+8>>>2>>>0]=r},this.vb=function(r,o){this.wb(),this.Kb(r),this.xb(o)},this.wb=function(){A()[this.sb+16>>>2>>>0]=0}}var tr=0,nt=0;function nr(e,r,o,i){return F?L(2,1,e,r,o,i):or(e,r,o,i)}function or(e,r,o,i){if(e>>>=0,r>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var f=[];return F&&f.length===0?nr(e,r,o,i):(e={Mb:o,mb:e,Fb:i,Sb:f},F?(e.Ub="spawnThread",postMessage(e,f),0):cr(e))}function _r(e,r,o){return F?L(3,1,e,r,o):0}function $r(e,r){if(F)return L(4,1,e,r)}var pr=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++o):r+=3}return r},Tr=(e,r,o,i)=>{if(o>>>=0,!(0<i))return 0;var f=o;i=o+i-1;for(var m=0;m<e.length;++m){var b=e.charCodeAt(m);if(55296<=b&&57343>=b){var _=e.charCodeAt(++m);b=65536+((b&1023)<<10)|_&1023}if(127>=b){if(o>=i)break;r[o++>>>0]=b}else{if(2047>=b){if(o+1>=i)break;r[o++>>>0]=192|b>>6}else{if(65535>=b){if(o+2>=i)break;r[o++>>>0]=224|b>>12}else{if(o+3>=i)break;r[o++>>>0]=240|b>>18,r[o++>>>0]=128|b>>12&63}r[o++>>>0]=128|b>>6&63}r[o++>>>0]=128|b&63}}return r[o>>>0]=0,o-f},mr=(e,r,o)=>Tr(e,w(),r,o);function Nr(e,r){if(F)return L(5,1,e,r)}function jr(e,r,o){if(F)return L(6,1,e,r,o)}function zr(e,r,o){return F?L(7,1,e,r,o):0}function Ar(e,r){if(F)return L(8,1,e,r)}function He(e,r,o){if(F)return L(9,1,e,r,o)}function Sr(e,r,o,i){if(F)return L(10,1,e,r,o,i)}function Er(e,r,o,i){if(F)return L(11,1,e,r,o,i)}function Mr(e,r,o,i){if(F)return L(12,1,e,r,o,i)}function gr(e){if(F)return L(13,1,e)}function Cr(e,r){if(F)return L(14,1,e,r)}function hr(e,r,o){if(F)return L(15,1,e,r,o)}var Yr=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Pr,_e=e=>{for(var r="";w()[e>>>0];)r+=Pr[w()[e++>>>0]];return r},Fr={},yr={},Gr={},Te;function ot(e,r,o={}){var i=r.name;if(!e)throw new Te(`type "${i}" must have a positive integer typeid pointer`);if(yr.hasOwnProperty(e)){if(o.Hb)return;throw new Te(`Cannot register type \'${i}\' twice`)}yr[e]=r,delete Gr[e],Fr.hasOwnProperty(e)&&(r=Fr[e],delete Fr[e],r.forEach(f=>f()))}function C(e,r,o={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");ot(e,r,o)}var ar=(e,r,o)=>{switch(r){case 1:return o?i=>u()[i>>>0>>>0]:i=>w()[i>>>0>>>0];case 2:return o?i=>O()[i>>>1>>>0]:i=>M()[i>>>1>>>0];case 4:return o?i=>d()[i>>>2>>>0]:i=>A()[i>>>2>>>0];case 8:return o?i=>he[i>>>3]:i=>We[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Pe(){this.lb=[void 0],this.zb=[]}var ve=new Pe;function vr(e){e>>>=0,e>=ve.sb&&--ve.get(e).Ab===0&&ve.xb(e)}var pe=e=>{if(!e)throw new Te("Cannot use deleted val. handle = "+e);return ve.get(e).value},we=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.wb({Ab:1,value:e})}};function Vr(e){return this.fromWireType(d()[e>>>2>>>0])}var wr=(e,r)=>{switch(r){case 4:return function(o){var i=this.fromWireType;return q.buffer!=J.buffer&&Q(),i.call(this,Xe[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(B()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function qr(e){return this.fromWireType(A()[e>>>2>>>0])}var t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,r)=>{for(var o=e>>1,i=o+r/2;!(o>=i)&&M()[o>>>0];)++o;if(o<<=1,32<o-e&&t)return t.decode(w().slice(e,o));for(o="",i=0;!(i>=r/2);++i){var f=O()[e+2*i>>>1>>>0];if(f==0)break;o+=String.fromCharCode(f)}return o},a=(e,r,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=r;o=o<2*e.length?o/2:e.length;for(var f=0;f<o;++f){var m=e.charCodeAt(f);O()[r>>>1>>>0]=m,r+=2}return O()[r>>>1>>>0]=0,r-i},s=e=>2*e.length,p=(e,r)=>{for(var o=0,i="";!(o>=r/4);){var f=d()[e+4*o>>>2>>>0];if(f==0)break;++o,65536<=f?(f-=65536,i+=String.fromCharCode(55296|f>>10,56320|f&1023)):i+=String.fromCharCode(f)}return i},v=(e,r,o)=>{if(r>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var i=r;o=i+o-4;for(var f=0;f<e.length;++f){var m=e.charCodeAt(f);if(55296<=m&&57343>=m){var b=e.charCodeAt(++f);m=65536+((m&1023)<<10)|b&1023}if(d()[r>>>2>>>0]=m,r+=4,r+4>o)break}return d()[r>>>2>>>0]=0,r-i},E=e=>{for(var r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);55296<=i&&57343>=i&&++o,r+=4}return r},T=e=>{if(!ge)try{if(e(),!ke())try{F?ut(le):Or(le)}catch(r){r instanceof er||r=="unwind"||Z(1,r)}}catch(r){r instanceof er||r=="unwind"||Z(1,r)}};function W(e){e>>>=0,typeof Atomics.Tb=="function"&&(Atomics.Tb(d(),e>>>2,e).value.then(I),e+=128,Atomics.store(d(),e>>>2,1))}l.__emscripten_thread_mailbox_await=W;var I=()=>{var e=Xr();e&&(W(e),T(()=>qt()))};l.checkMailbox=I;var re=e=>{var r=ft();return e=e(),Kr(r),e};function L(e,r){var o=arguments.length-2,i=arguments;return re(()=>{for(var f=2*o,m=ct(8*f),b=m>>>3,_=0;_<o;_++){var U=i[2+_];typeof U=="bigint"?(he[b+2*_]=1n,he[b+2*_+1]=U):(he[b+2*_]=0n,B()[b+2*_+1>>>0]=U)}return Vt(e,f,m,r)})}var Ae=[],g=(e,r)=>{var o=yr[e];if(o===void 0)throw e=Yt(e),o=_e(e),$e(e),new Te(r+" has unknown type "+o);return o},z={},X=e=>{var r=z[e];return r===void 0?_e(e):r},Fe=[],Dr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Mn=e=>{var r=Fe.length;return Fe.push(e),r},Cn=(e,r)=>{for(var o=Array(e),i=0;i<e;++i)o[i]=g(A()[r+4*i>>>2>>>0],"parameter "+i);return o},Et=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return 48<=r&&57>=r?`_${e}`:e},Mt={};function Pn(e,r){return e=Et(e),{[e]:function(){return r.apply(this,arguments)}}[e]}function Fn(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var o=Pn(r.name||"unknownFunctionName",function(){});return o.prototype=r.prototype,o=new o,e=r.apply(o,e),e instanceof Object?e:o}var Dn=e=>{for(var r="",o=0;o<e;++o)r+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<e;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+r+`);\nreturn valueToHandle(obj);\n}\n`))(g,l,we,()=>A())},Ct={},br=e=>e%4===0&&(e%100!==0||e%400===0),Pt=[0,31,60,91,121,152,182,213,244,274,305,335],Ft=[0,31,59,90,120,151,181,212,243,273,304,334];function Dt(e,r,o,i,f,m,b){return F?L(16,1,e,r,o,i,f,m,b):-52}function Wt(e,r,o,i,f,m){if(F)return L(17,1,e,r,o,i,f,m)}var Ut=e=>{var r=pr(e)+1,o=Zr(r);return o&&mr(e,o,r),o},at={},It=()=>{if(!it){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:$||"./this.program"},r;for(r in at)at[r]===void 0?delete e[r]:e[r]=at[r];var o=[];for(r in e)o.push(`${r}=${e[r]}`);it=o}return it},it;function xt(e,r){if(F)return L(18,1,e,r);e>>>=0,r>>>=0;var o=0;return It().forEach((i,f)=>{var m=r+o;for(f=A()[e+4*f>>>2>>>0]=m,m=0;m<i.length;++m)u()[f++>>>0>>>0]=i.charCodeAt(m);u()[f>>>0>>>0]=0,o+=i.length+1}),0}function Bt(e,r){if(F)return L(19,1,e,r);e>>>=0,r>>>=0;var o=It();A()[e>>>2>>>0]=o.length;var i=0;return o.forEach(f=>i+=f.length+1),A()[r>>>2>>>0]=i,0}function Rt(e){return F?L(20,1,e):52}function Lt(e,r,o,i){return F?L(21,1,e,r,o,i):52}function kt(e,r,o,i){return F?L(22,1,e,r,o,i):70}var Wn=[null,[],[]];function Ht(e,r,o,i){if(F)return L(23,1,e,r,o,i);r>>>=0,o>>>=0,i>>>=0;for(var f=0,m=0;m<o;m++){var b=A()[r>>>2>>>0],_=A()[r+4>>>2>>>0];r+=8;for(var U=0;U<_;U++){var x=w()[b+U>>>0],te=Wn[e];x===0||x===10?((e===1?qe:ue)(ye(te,0)),te.length=0):te.push(x)}f+=_}return A()[i>>>2>>>0]=f,0}var $t=[31,29,31,30,31,30,31,31,30,31,30,31],Nt=[31,28,31,30,31,30,31,31,30,31,30,31];function Un(e){var r=Array(pr(e)+1);return Tr(e,r,0,r.length),r}var In=(e,r)=>{u().set(e,r>>>0)};function jt(e,r,o,i){function f(y,G,ne){for(y=typeof y=="number"?y.toString():y||"";y.length<G;)y=ne[0]+y;return y}function m(y,G){return f(y,G,"0")}function b(y,G){function ne(Zt){return 0>Zt?-1:0<Zt?1:0}var ir;return(ir=ne(y.getFullYear()-G.getFullYear()))===0&&(ir=ne(y.getMonth()-G.getMonth()))===0&&(ir=ne(y.getDate()-G.getDate())),ir}function _(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function U(y){var G=y.ob;for(y=new Date(new Date(y.pb+1900,0,1).getTime());0<G;){var ne=y.getMonth(),ir=(br(y.getFullYear())?$t:Nt)[ne];if(G>ir-y.getDate())G-=ir-y.getDate()+1,y.setDate(1),11>ne?y.setMonth(ne+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+G);break}}return ne=new Date(y.getFullYear()+1,0,4),G=_(new Date(y.getFullYear(),0,4)),ne=_(ne),0>=b(G,y)?0>=b(ne,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,r>>>=0,o>>>=0,i>>>=0;var x=A()[i+40>>>2>>>0];i={Qb:d()[i>>>2>>>0],Pb:d()[i+4>>>2>>>0],tb:d()[i+8>>>2>>>0],yb:d()[i+12>>>2>>>0],ub:d()[i+16>>>2>>>0],pb:d()[i+20>>>2>>>0],kb:d()[i+24>>>2>>>0],ob:d()[i+28>>>2>>>0],Wb:d()[i+32>>>2>>>0],Ob:d()[i+36>>>2>>>0],Rb:x?rr(x):""},o=rr(o),x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var te in x)o=o.replace(new RegExp(te,"g"),x[te]);var Se="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ne="January February March April May June July August September October November December".split(" ");x={"%a":y=>Se[y.kb].substring(0,3),"%A":y=>Se[y.kb],"%b":y=>Ne[y.ub].substring(0,3),"%B":y=>Ne[y.ub],"%C":y=>m((y.pb+1900)/100|0,2),"%d":y=>m(y.yb,2),"%e":y=>f(y.yb,2," "),"%g":y=>U(y).toString().substring(2),"%G":y=>U(y),"%H":y=>m(y.tb,2),"%I":y=>(y=y.tb,y==0?y=12:12<y&&(y-=12),m(y,2)),"%j":y=>{for(var G=0,ne=0;ne<=y.ub-1;G+=(br(y.pb+1900)?$t:Nt)[ne++]);return m(y.yb+G,3)},"%m":y=>m(y.ub+1,2),"%M":y=>m(y.Pb,2),"%n":()=>`\n`,"%p":y=>0<=y.tb&&12>y.tb?"AM":"PM","%S":y=>m(y.Qb,2),"%t":()=>"	","%u":y=>y.kb||7,"%U":y=>m(Math.floor((y.ob+7-y.kb)/7),2),"%V":y=>{var G=Math.floor((y.ob+7-(y.kb+6)%7)/7);if(2>=(y.kb+371-y.ob-2)%7&&G++,G)G==53&&(ne=(y.kb+371-y.ob)%7,ne==4||ne==3&&br(y.pb)||(G=1));else{G=52;var ne=(y.kb+7-y.ob-1)%7;(ne==4||ne==5&&br(y.pb%400-1))&&G++}return m(G,2)},"%w":y=>y.kb,"%W":y=>m(Math.floor((y.ob+7-(y.kb+6)%7)/7),2),"%y":y=>(y.pb+1900).toString().substring(2),"%Y":y=>y.pb+1900,"%z":y=>{y=y.Ob;var G=0<=y;return y=Math.abs(y)/60,(G?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Rb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(te in x)o.includes(te)&&(o=o.replace(new RegExp(te,"g"),x[te](i)));return o=o.replace(/\\0\\0/g,"%"),te=Un(o),te.length>r?0:(In(te,e),te.length-1)}D.vb();for(var zt=Array(256),Jr=0;256>Jr;++Jr)zt[Jr]=String.fromCharCode(Jr);Pr=zt,Te=l.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},l.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Pe.prototype,{get(e){return this.lb[e]},has(e){return this.lb[e]!==void 0},wb(e){var r=this.zb.pop()||this.lb.length;return this.lb[r]=e,r},xb(e){this.lb[e]=void 0,this.zb.push(e)}}),ve.lb.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.sb=ve.lb.length,l.count_emval_handles=()=>{for(var e=0,r=ve.sb;r<ve.lb.length;++r)ve.lb[r]!==void 0&&++e;return e};var xn=[Rr,kr,nr,_r,$r,Nr,jr,zr,Ar,He,Sr,Er,Mr,gr,Cr,hr,Dt,Wt,xt,Bt,Rt,Lt,kt,Ht],Bn={b:function(e,r,o){throw e>>>=0,new tt(e).vb(r>>>0,o>>>0),tr=e,nt++,tr},ea:function(e){Gt(e>>>0,!Y,1,!N,131072,!1),D.Db()},D:function(e){e>>>=0,F?postMessage({cmd:"cleanupThread",thread:e}):((e=D.jb[e])||Be(),D.Bb(e))},W:or,y:_r,ka:$r,S:Nr,U:jr,L:zr,ia:Ar,ba:He,ha:Sr,F:Er,T:Mr,Q:gr,ja:Cr,R:hr,I:function(e,r,o,i,f){e>>>=0,r>>>=0,o>>>=0,r=_e(r);var m=r.indexOf("u")!=-1;m&&(f=(1n<<64n)-1n),C(e,{name:r,fromWireType:b=>b,toWireType:function(b,_){if(typeof _!="bigint"&&typeof _!="number")throw new TypeError(`Cannot convert "${Yr(_)}" to ${this.name}`);if(_<i||_>f)throw new TypeError(`Passing a number "${Yr(_)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${f}]!`);return _},argPackAdvance:8,readValueFromPointer:ar(r,o,!m),rb:null})},qa:function(e,r,o,i){e>>>=0,r=_e(r>>>0),C(e,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,m){return m?o:i},argPackAdvance:8,readValueFromPointer:function(f){return this.fromWireType(w()[f>>>0])},rb:null})},pa:function(e,r){e>>>=0,r=_e(r>>>0),C(e,{name:r,fromWireType:o=>{var i=pe(o);return vr(o),i},toWireType:(o,i)=>we(i),argPackAdvance:8,readValueFromPointer:Vr,rb:null})},H:function(e,r,o){e>>>=0,o>>>=0,r=_e(r>>>0),C(e,{name:r,fromWireType:i=>i,toWireType:(i,f)=>f,argPackAdvance:8,readValueFromPointer:wr(r,o),rb:null})},t:function(e,r,o,i,f){if(e>>>=0,o>>>=0,r=_e(r>>>0),f===-1&&(f=4294967295),f=_=>_,i===0){var m=32-8*o;f=_=>_<<m>>>m}var b=r.includes("unsigned")?function(_,U){return U>>>0}:function(_,U){return U};C(e,{name:r,fromWireType:f,toWireType:b,argPackAdvance:8,readValueFromPointer:ar(r,o,i!==0),rb:null})},m:function(e,r,o){function i(m){var b=A()[m>>>2>>>0];return m=A()[m+4>>>2>>>0],new f(u().buffer,m,b)}e>>>=0;var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];o=_e(o>>>0),C(e,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Hb:!0})},J:function(e,r){e>>>=0,r=_e(r>>>0);var o=r==="std::string";C(e,{name:r,fromWireType:function(i){var f=A()[i>>>2>>>0],m=i+4;if(o)for(var b=m,_=0;_<=f;++_){var U=m+_;if(_==f||w()[U>>>0]==0){if(b=rr(b,U-b),x===void 0)var x=b;else x+=String.fromCharCode(0),x+=b;b=U+1}}else{for(x=Array(f),_=0;_<f;++_)x[_]=String.fromCharCode(w()[m+_>>>0]);x=x.join("")}return $e(i),x},toWireType:function(i,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var m=typeof f=="string";if(!(m||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array))throw new Te("Cannot pass non-string to std::string");var b=o&&m?pr(f):f.length,_=Zr(4+b+1),U=_+4;if(A()[_>>>2>>>0]=b,o&&m)mr(f,U,b+1);else if(m)for(m=0;m<b;++m){var x=f.charCodeAt(m);if(255<x)throw $e(U),new Te("String has UTF-16 code units that do not fit in 8 bits");w()[U+m>>>0]=x}else for(m=0;m<b;++m)w()[U+m>>>0]=f[m];return i!==null&&i.push($e,_),_},argPackAdvance:8,readValueFromPointer:qr,rb(i){$e(i)}})},A:function(e,r,o){if(e>>>=0,r>>>=0,o>>>=0,o=_e(o),r===2)var i=n,f=a,m=s,b=()=>M(),_=1;else r===4&&(i=p,f=v,m=E,b=()=>A(),_=2);C(e,{name:o,fromWireType:U=>{for(var x=A()[U>>>2>>>0],te=b(),Se,Ne=U+4,y=0;y<=x;++y){var G=U+4+y*r;(y==x||te[G>>>_]==0)&&(Ne=i(Ne,G-Ne),Se===void 0?Se=Ne:(Se+=String.fromCharCode(0),Se+=Ne),Ne=G+r)}return $e(U),Se},toWireType:(U,x)=>{if(typeof x!="string")throw new Te(`Cannot pass non-string to C++ string type ${o}`);var te=m(x),Se=Zr(4+te+r);return A()[Se>>>2]=te>>_,f(x,Se+4,te+r),U!==null&&U.push($e,Se),Se},argPackAdvance:8,readValueFromPointer:Vr,rb(U){$e(U)}})},ra:function(e,r){e>>>=0,r=_e(r>>>0),C(e,{Ib:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},na:()=>!0,O:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>I()):F?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=D.jb[e])&&e.postMessage({cmd:"checkMailbox"})},X:function(e,r,o,i){r>>>=0,o/=2,Ae.length=o,i=i>>>0>>>3;for(var f=0;f<o;f++)Ae[f]=he[i+2*f]?he[i+2*f+1]:B()[i+2*f+1>>>0];return e=xn[e],D.Gb=r,r=e.apply(null,Ae),D.Gb=0,r},da:W,ma:function(e){K&&D.jb[e>>>0].ref()},r:function(e,r,o){r>>>=0,o>>>=0,e=pe(e>>>0),r=g(r,"emval::as");var i=[],f=we(i);return A()[o>>>2>>>0]=f,r.toWireType(i,e)},i:function(e,r,o,i,f){o>>>=0,i>>>=0,f>>>=0,e=Fe[e>>>0],r=pe(r>>>0),o=X(o);var m=[];return A()[i>>>2>>>0]=we(m),e(r,o,m,f)},u:function(e,r,o,i){o>>>=0,i>>>=0,e=Fe[e>>>0],r=pe(r>>>0),o=X(o),e(r,o,null,i)},c:vr,K:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),e==r},o:function(e){return e>>>=0,e===0?we(Dr()):(e=X(e),we(Dr()[e]))},h:function(e,r){var o=Cn(e,r>>>0),i=o[0];r=i.name+"_$"+o.slice(1).map(function(te){return te.name}).join("_")+"$";var f=Mt[r];if(f!==void 0)return f;f=["retType"];for(var m=[i],b="",_=0;_<e-1;++_)b+=(_!==0?", ":"")+"arg"+_,f.push("argType"+_),m.push(o[1+_]);var U="return function "+Et("methodCaller_"+r)+`(handle, name, destructors, args) {\n`,x=0;for(_=0;_<e-1;++_)U+="    var arg"+_+" = argType"+_+".readValueFromPointer(args"+(x?"+"+x:"")+`);\n`,x+=o[_+1].argPackAdvance;for(U+="    var rv = handle[name]("+b+`);\n`,_=0;_<e-1;++_)o[_+1].deleteObject&&(U+="    argType"+_+".deleteObject(arg"+_+`);\n`);return i.Ib||(U+=`    return retType.toWireType(destructors, rv);\n`),f.push(U+`};\n`),e=Fn(f).apply(null,m),f=Mn(e),Mt[r]=f},q:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),we(e[r])},d:function(e){e>>>=0,4<e&&(ve.get(e).Ab+=1)},x:function(e,r,o,i){o>>>=0,i>>>=0,e=pe(e>>>0);var f=Ct[r];return f||(f=Dn(r),Ct[r]=f),f(e,o,i)},v:function(){return we([])},l:function(e){e=pe(e>>>0);for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=e[o];return we(r)},e:function(e){return we(X(e>>>0))},k:function(){return we({})},g:function(e){e>>>=0;for(var r=pe(e);r.length;){var o=r.pop();r.pop()(o)}vr(e)},j:function(e,r,o){r>>>=0,o>>>=0,e=pe(e>>>0),r=pe(r),o=pe(o),e[r]=o},f:function(e,r){return r>>>=0,e=g(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),we(e)},_:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getUTCSeconds(),d()[r+4>>>2>>>0]=e.getUTCMinutes(),d()[r+8>>>2>>>0]=e.getUTCHours(),d()[r+12>>>2>>>0]=e.getUTCDate(),d()[r+16>>>2>>>0]=e.getUTCMonth(),d()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,d()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[r+28>>>2>>>0]=e},$:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),d()[r>>>2>>>0]=e.getSeconds(),d()[r+4>>>2>>>0]=e.getMinutes(),d()[r+8>>>2>>>0]=e.getHours(),d()[r+12>>>2>>>0]=e.getDate(),d()[r+16>>>2>>>0]=e.getMonth(),d()[r+20>>>2>>>0]=e.getFullYear()-1900,d()[r+24>>>2>>>0]=e.getDay();var o=(br(e.getFullYear())?Pt:Ft)[e.getMonth()]+e.getDate()-1|0;d()[r+28>>>2>>>0]=o,d()[r+36>>>2>>>0]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=i&&e.getTimezoneOffset()==Math.min(i,o))|0,d()[r+32>>>2>>>0]=e},aa:function(e){e>>>=0;var r=new Date(d()[e+20>>>2>>>0]+1900,d()[e+16>>>2>>>0],d()[e+12>>>2>>>0],d()[e+8>>>2>>>0],d()[e+4>>>2>>>0],d()[e>>>2>>>0],0),o=d()[e+32>>>2>>>0],i=r.getTimezoneOffset(),f=new Date(r.getFullYear(),6,1).getTimezoneOffset(),m=new Date(r.getFullYear(),0,1).getTimezoneOffset(),b=Math.min(m,f);return 0>o?d()[e+32>>>2>>>0]=+(f!=m&&b==i):0<o!=(b==i)&&(f=Math.max(m,f),r.setTime(r.getTime()+6e4*((0<o?b:f)-i))),d()[e+24>>>2>>>0]=r.getDay(),o=(br(r.getFullYear())?Pt:Ft)[r.getMonth()]+r.getDate()-1|0,d()[e+28>>>2>>>0]=o,d()[e>>>2>>>0]=r.getSeconds(),d()[e+4>>>2>>>0]=r.getMinutes(),d()[e+8>>>2>>>0]=r.getHours(),d()[e+12>>>2>>>0]=r.getDate(),d()[e+16>>>2>>>0]=r.getMonth(),d()[e+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Y:Dt,Z:Wt,N:function(e,r,o){function i(x){return(x=x.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?x[1]:"GMT"}e>>>=0,r>>>=0,o>>>=0;var f=new Date().getFullYear(),m=new Date(f,0,1),b=new Date(f,6,1);f=m.getTimezoneOffset();var _=b.getTimezoneOffset(),U=Math.max(f,_);A()[e>>>2>>>0]=60*U,d()[r>>>2>>>0]=+(f!=_),e=i(m),r=i(b),e=Ut(e),r=Ut(r),_<f?(A()[o>>>2>>>0]=e,A()[o+4>>>2>>>0]=r):(A()[o>>>2>>>0]=r,A()[o+4>>>2>>>0]=e)},n:()=>{Be("")},E:()=>{},G:()=>Date.now(),la:()=>{throw Ke+=1,"unwind"},P:function(){return 4294901760},s:()=>performance.timeOrigin+performance.now(),w:()=>K?(on(),Ur(nn)).cpus().length:navigator.hardwareConcurrency,M:function(e){e>>>=0;var r=w().length;if(e<=r||4294901760<e)return!1;for(var o=1;4>=o;o*=2){var i=r*(1+.2/o);i=Math.min(i,e+100663296);var f=Math;i=Math.max(e,i);e:{f=(f.min.call(f,4294901760,i+(65536-i%65536)%65536)-q.buffer.byteLength+65535)/65536;try{q.grow(f),Q();var m=1;break e}catch{}m=void 0}if(m)return!0}return!1},fa:xt,ga:Bt,V:Or,z:Rt,C:Lt,ca:kt,B:Ht,a:q||l.wasmMemory,oa:jt,p:function(e,r,o,i){return jt(e>>>0,r>>>0,o>>>0,i>>>0)}},P=function(){var e={a:Bn};return Ue++,Br(e,function(r){var o=r.module;P=r.instance.exports,P=Rn(),D.Eb.push(P.Xa),Hr=P._a,Le.unshift(P.sa),Re=o,Oe()}).catch(V),{}}();l._OrtInit=(e,r)=>(l._OrtInit=P.ta)(e,r),l._OrtGetLastError=(e,r)=>(l._OrtGetLastError=P.ua)(e,r),l._OrtCreateSessionOptions=(e,r,o,i,f,m,b,_,U,x)=>(l._OrtCreateSessionOptions=P.va)(e,r,o,i,f,m,b,_,U,x),l._OrtAppendExecutionProvider=(e,r)=>(l._OrtAppendExecutionProvider=P.wa)(e,r),l._OrtAddFreeDimensionOverride=(e,r,o)=>(l._OrtAddFreeDimensionOverride=P.xa)(e,r,o),l._OrtAddSessionConfigEntry=(e,r,o)=>(l._OrtAddSessionConfigEntry=P.ya)(e,r,o),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=P.za)(e),l._OrtCreateSession=(e,r,o)=>(l._OrtCreateSession=P.Aa)(e,r,o),l._OrtReleaseSession=e=>(l._OrtReleaseSession=P.Ba)(e),l._OrtGetInputOutputCount=(e,r,o)=>(l._OrtGetInputOutputCount=P.Ca)(e,r,o),l._OrtGetInputName=(e,r)=>(l._OrtGetInputName=P.Da)(e,r),l._OrtGetOutputName=(e,r)=>(l._OrtGetOutputName=P.Ea)(e,r),l._OrtFree=e=>(l._OrtFree=P.Fa)(e),l._OrtCreateTensor=(e,r,o,i,f,m)=>(l._OrtCreateTensor=P.Ga)(e,r,o,i,f,m),l._OrtGetTensorData=(e,r,o,i,f)=>(l._OrtGetTensorData=P.Ha)(e,r,o,i,f),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=P.Ia)(e),l._OrtCreateRunOptions=(e,r,o,i)=>(l._OrtCreateRunOptions=P.Ja)(e,r,o,i),l._OrtAddRunConfigEntry=(e,r,o)=>(l._OrtAddRunConfigEntry=P.Ka)(e,r,o),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=P.La)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=P.Ma)(e),l._OrtBindInput=(e,r,o)=>(l._OrtBindInput=P.Na)(e,r,o),l._OrtBindOutput=(e,r,o,i)=>(l._OrtBindOutput=P.Oa)(e,r,o,i),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=P.Pa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=P.Qa)(e),l._OrtRunWithBinding=(e,r,o,i,f)=>(l._OrtRunWithBinding=P.Ra)(e,r,o,i,f),l._OrtRun=(e,r,o,i,f,m,b,_)=>(l._OrtRun=P.Sa)(e,r,o,i,f,m,b,_),l._OrtEndProfiling=e=>(l._OrtEndProfiling=P.Ta)(e);var Xr=l._pthread_self=()=>(Xr=l._pthread_self=P.Ua)(),Zr=l._malloc=e=>(Zr=l._malloc=P.Va)(e),$e=l._free=e=>($e=l._free=P.Wa)(e);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=P.Xa)();var Yt=e=>(Yt=P.Ya)(e);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=P.Za)();var Gt=l.__emscripten_thread_init=(e,r,o,i,f,m)=>(Gt=l.__emscripten_thread_init=P.$a)(e,r,o,i,f,m);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=P.ab)();var Vt=(e,r,o,i)=>(Vt=P.bb)(e,r,o,i),st=e=>(st=P.cb)(e),ut=l.__emscripten_thread_exit=e=>(ut=l.__emscripten_thread_exit=P.db)(e),qt=l.__emscripten_check_mailbox=()=>(qt=l.__emscripten_check_mailbox=P.eb)(),Jt=(e,r)=>(Jt=P.fb)(e,r),ft=()=>(ft=P.gb)(),Kr=e=>(Kr=P.hb)(e),ct=e=>(ct=P.ib)(e);function Rn(){var e=P;e=Object.assign({},e);var r=i=>()=>i()>>>0,o=i=>f=>i(f)>>>0;return e.__errno_location=r(e.__errno_location),e.Ua=r(e.Ua),e.Va=o(e.Va),e.Ya=o(e.Ya),e.gb=r(e.gb),e.ib=o(e.ib),e}l.keepRuntimeAlive=ke,l.wasmMemory=q,l.stackAlloc=ct,l.stackSave=ft,l.stackRestore=Kr,l.UTF8ToString=rr,l.stringToUTF8=mr,l.lengthBytesUTF8=pr,l.ExitStatus=er,l.PThread=D;var Qr;Ye=function e(){Qr||Xt(),Qr||(Ye=e)};function Xt(){0<Ue||(F?(R(l),F||lr(Le),startWorker(l)):(lr(ze),0<Ue||Qr||(Qr=!0,l.calledRun=!0,ge||(F||lr(Le),R(l),F||lr(sr)))))}return Xt(),h.ready}})();typeof sn=="object"&&typeof wt=="object"?wt.exports=an:typeof define=="function"&&define.amd&&define([],()=>an)});var fn=Wr((lo,Yn)=>{Yn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var ln;ln=en();var Gn=un(),bt,Ot=!1,et=!1,cn=!1,Vn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},qn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Jn=(c,h)=>c?h?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":h?"ort-wasm-threaded.wasm":"ort-wasm.wasm",dn=async c=>{if(Ot)return Promise.resolve();if(et)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(cn)throw new Error("previous call to \'initializeWebAssembly()\' failed.");et=!0;let h=c.initTimeout,u=c.numThreads,w=c.simd,O=u>1&&Vn(),M=w&&qn(),d=c.wasmPaths,A=typeof d=="string"?d:void 0,B=Jn(M,O),l=typeof d=="object"?d[B]:void 0,R=!1,V=[];if(h>0&&V.push(new Promise(H=>{setTimeout(()=>{R=!0,H()},h)})),V.push(new Promise((H,$)=>{let Z=O?Gn:ln,N={locateFile:(Y,K)=>O&&Y.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([fn()],{type:"text/javascript"})):Y.endsWith(".wasm")?l||(A??K)+B:K+Y};if(O)if(typeof Blob>"u")N.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Y=`var ortWasmThreaded=${Z.toString()};`;N.mainScriptUrlOrBlob=new Blob([Y],{type:"text/javascript"})}Z(N).then(Y=>{et=!1,Ot=!0,bt=Y,H()},Y=>{et=!1,cn=!0,$(Y)})})),await Promise.race(V),R)throw new Error(`WebAssembly backend initializing failed due to timeout: ${h}ms`)},ie=()=>{if(Ot&&bt)return bt;throw new Error("WebAssembly is not initialized yet.")};var se=(c,h)=>{let u=ie(),w=u.lengthBytesUTF8(c)+1,O=u._malloc(w);return u.stringToUTF8(c,O,w),h.push(O),O},Ir=(c,h,u,w)=>{if(typeof c=="object"&&c!==null){if(u.has(c))throw new Error("Circular reference in options");u.add(c)}Object.entries(c).forEach(([O,M])=>{let d=h?h+O:O;if(typeof M=="object")Ir(M,d+".",u,w);else if(typeof M=="string"||typeof M=="number")w(d,M.toString());else if(typeof M=="boolean")w(d,M?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof M}`)})},oe=c=>{let h=ie(),u=h.stackSave();try{let w=h.stackAlloc(8);h._OrtGetLastError(w,w+4);let O=h.HEAP32[w/4],M=h.HEAPU32[w/4+1],d=M?h.UTF8ToString(M):"";throw new Error(`${c} ERROR_CODE: ${O}, ERROR_MESSAGE: ${d}`)}finally{h.stackRestore(u)}};var pn=c=>{let h=ie(),u=0,w=[],O=c||{};try{if(c?.logSeverityLevel===void 0)O.logSeverityLevel=2;else if(typeof c.logSeverityLevel!="number"||!Number.isInteger(c.logSeverityLevel)||c.logSeverityLevel<0||c.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${c.logSeverityLevel}`);if(c?.logVerbosityLevel===void 0)O.logVerbosityLevel=0;else if(typeof c.logVerbosityLevel!="number"||!Number.isInteger(c.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${c.logVerbosityLevel}`);c?.terminate===void 0&&(O.terminate=!1);let M=0;return c?.tag!==void 0&&(M=se(c.tag,w)),u=h._OrtCreateRunOptions(O.logSeverityLevel,O.logVerbosityLevel,!!O.terminate,M),u===0&&oe("Can\'t create run options."),c?.extra!==void 0&&Ir(c.extra,"",new WeakSet,(d,A)=>{let B=se(d,w),l=se(A,w);h._OrtAddRunConfigEntry(u,B,l)!==0&&oe(`Can\'t set a run config entry: ${d} - ${A}.`)}),[u,w]}catch(M){throw u!==0&&h._OrtReleaseRunOptions(u),w.forEach(d=>h._free(d)),M}};var Xn=c=>{switch(c){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${c}`)}},Zn=c=>{switch(c){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${c}`)}},Kn=c=>{c.extra||(c.extra={}),c.extra.session||(c.extra.session={});let h=c.extra.session;h.use_ort_model_bytes_directly||(h.use_ort_model_bytes_directly="1"),c.executionProviders&&c.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(c.enableMemPattern=!1)},Qn=(c,h,u)=>{for(let w of h){let O=typeof w=="string"?w:w.name;switch(O){case"xnnpack":O="XNNPACK";break;case"webnn":if(O="WEBNN",typeof w!="string"){let d=w;if(d?.deviceType){let A=se("deviceType",u),B=se(d.deviceType,u);ie()._OrtAddSessionConfigEntry(c,A,B)!==0&&oe(`Can\'t set a session config entry: \'deviceType\' - ${d.deviceType}.`)}if(d?.numThreads){let A=d.numThreads;(typeof A!="number"||!Number.isInteger(A)||A<0)&&(A=0);let B=se("numThreads",u),l=se(A.toString(),u);ie()._OrtAddSessionConfigEntry(c,B,l)!==0&&oe(`Can\'t set a session config entry: \'numThreads\' - ${d.numThreads}.`)}if(d?.powerPreference){let A=se("powerPreference",u),B=se(d.powerPreference,u);ie()._OrtAddSessionConfigEntry(c,A,B)!==0&&oe(`Can\'t set a session config entry: \'powerPreference\' - ${d.powerPreference}.`)}}break;case"webgpu":if(O="JS",typeof w!="string"){let d=w;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${d.preferredLayout}`);let A=se("preferredLayout",u),B=se(d.preferredLayout,u);ie()._OrtAddSessionConfigEntry(c,A,B)!==0&&oe(`Can\'t set a session config entry: \'preferredLayout\' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${O}`)}let M=se(O,u);ie()._OrtAppendExecutionProvider(c,M)!==0&&oe(`Can\'t append execution provider: ${O}.`)}},mn=c=>{let h=ie(),u=0,w=[],O=c||{};Kn(O);try{let M=Xn(O.graphOptimizationLevel??"all"),d=Zn(O.executionMode??"sequential"),A=typeof O.logId=="string"?se(O.logId,w):0,B=O.logSeverityLevel??2;if(!Number.isInteger(B)||B<0||B>4)throw new Error(`log serverity level is not valid: ${B}`);let l=O.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let R=typeof O.optimizedModelFilePath=="string"?se(O.optimizedModelFilePath,w):0;if(u=h._OrtCreateSessionOptions(M,!!O.enableCpuMemArena,!!O.enableMemPattern,d,!!O.enableProfiling,0,A,B,l,R),u===0&&oe("Can\'t create session options."),O.executionProviders&&Qn(u,O.executionProviders,w),O.freeDimensionOverrides)for(let[V,H]of Object.entries(O.freeDimensionOverrides)){if(typeof V!="string")throw new Error(`free dimension override name must be a string: ${V}`);if(typeof H!="number"||!Number.isInteger(H)||H<0)throw new Error(`free dimension override value must be a non-negative integer: ${H}`);let $=se(V,w);h._OrtAddFreeDimensionOverride(u,$,H)!==0&&oe(`Can\'t set a free dimension override: ${V} - ${H}.`)}return O.extra!==void 0&&Ir(O.extra,"",new WeakSet,(V,H)=>{let $=se(V,w),Z=se(H,w);h._OrtAddSessionConfigEntry(u,$,Z)!==0&&oe(`Can\'t set a session config entry: ${V} - ${H}.`)}),[u,w]}catch(M){throw u!==0&&h._OrtReleaseSessionOptions(u),w.forEach(d=>h._free(d)),M}};var _t=c=>{switch(c){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${c}`)}},gn=c=>{switch(c){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${c}`)}},Tt=c=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][c],hn=c=>{switch(c){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${c}`)}},yn=c=>{switch(c){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${c}`)}},vn=c=>c==="float32"||c==="int32"||c==="int64"||c==="bool"||c==="float16"||c==="uint32",wn=c=>{switch(c){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${c}`)}};var eo=c=>{let h=ie(),u=h.stackSave();try{let w=h.stackAlloc(8);return h._OrtGetInputOutputCount(c,w,w+4)!==0&&oe("Can\'t get session input/output count."),[h.HEAP32[w/4],h.HEAP32[w/4+1]]}finally{h.stackRestore(u)}},ro=(c,h)=>{ie()._OrtInit(c,h)!==0&&oe("Can\'t initialize onnxruntime.")},On=async c=>{ro(c.wasm.numThreads,yn(c.logLevel))},xr=new Map,At=c=>{let h=ie(),u=h._malloc(c.byteLength);if(u===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${c.byteLength}.`);return h.HEAPU8.set(c,u),[u,c.byteLength]},St=(c,h)=>{let u=ie(),w=0,O=0,M=0,d=[],A=[],B=[];try{[O,d]=mn(h),w=u._OrtCreateSession(c[0],c[1],O),w===0&&oe("Can\'t create a session.");let[l,R]=eo(w),V=[],H=[],$=[];for(let N=0;N<l;N++){let Y=u._OrtGetInputName(w,N);Y===0&&oe("Can\'t get an input name."),A.push(Y),V.push(u.UTF8ToString(Y))}for(let N=0;N<R;N++){let Y=u._OrtGetOutputName(w,N);Y===0&&oe("Can\'t get an output name."),B.push(Y);let K=u.UTF8ToString(Y);H.push(K)}let Z=null;return xr.set(w,[w,A,B,Z]),[w,V,H]}catch(l){throw A.forEach(R=>u._OrtFree(R)),B.forEach(R=>u._OrtFree(R)),M!==0&&u._OrtReleaseBinding(M),w!==0&&u._OrtReleaseSession(w),l}finally{u._free(c[0]),O!==0&&u._OrtReleaseSessionOptions(O),d.forEach(l=>u._free(l))}},_n=(c,h)=>{let u=At(c);return St(u,h)},Tn=c=>{let h=ie(),u=xr.get(c);if(!u)throw new Error(`cannot release session. invalid session id: ${c}`);let[w,O,M,d]=u;d&&h._OrtReleaseBinding(d.handle),h.jsepUnregisterBuffers?.(c),O.forEach(A=>h._OrtFree(A)),M.forEach(A=>h._OrtFree(A)),h._OrtReleaseSession(w),xr.delete(c)},bn=(c,h,u,w,O)=>{if(!c){h.push(0);return}let M=ie(),d=c[0],A=c[1],B=c[3],l,R;if(d==="string"&&B==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(B==="gpu-buffer"){let $=c[2].gpuBuffer,Z=Tt(_t(d));R=A.reduce((N,Y)=>N*Y,1)*Z,l=M.jsepRegisterBuffer(w,O,$,R)}else{let $=c[2];if(Array.isArray($)){R=4*$.length,l=M._malloc(R),u.push(l);let Z=l/4;for(let N=0;N<$.length;N++){if(typeof $[N]!="string")throw new TypeError(`tensor data at index ${N} is not a string`);M.HEAPU32[Z++]=se($[N],u)}}else R=$.byteLength,l=M._malloc(R),u.push(l),M.HEAPU8.set(new Uint8Array($.buffer,$.byteOffset,R),l)}let V=M.stackSave(),H=M.stackAlloc(4*A.length);try{let $=H/4;A.forEach(N=>M.HEAP32[$++]=N);let Z=M._OrtCreateTensor(_t(d),l,R,H,A.length,wn(B));Z===0&&oe(`Can\'t create tensor for input/output. session=${w}, index=${O}.`),h.push(Z)}finally{M.stackRestore(V)}},An=async(c,h,u,w,O,M)=>{let d=ie(),A=xr.get(c);if(!A)throw new Error(`cannot run inference. invalid session id: ${c}`);let[B,l,R,V]=A,H=h.length,$=w.length,Z=0,N=[],Y=[],K=[],F=[],ce=d.stackSave(),Ee=d.stackAlloc(H*4),ee=d.stackAlloc(H*4),be=d.stackAlloc($*4),Me=d.stackAlloc($*4);try{[Z,N]=pn(M);for(let j=0;j<H;j++)bn(u[j],Y,F,c,h[j]);for(let j=0;j<$;j++)bn(O[j],K,F,c,H+w[j]);let S=Ee/4,k=ee/4,Ge=be/4,Ve=Me/4;for(let j=0;j<H;j++)d.HEAPU32[S++]=Y[j],d.HEAPU32[k++]=l[h[j]];for(let j=0;j<$;j++)d.HEAPU32[Ge++]=K[j],d.HEAPU32[Ve++]=R[w[j]];let qe;qe=await d._OrtRun(B,ee,Ee,H,Me,$,be,Z),qe!==0&&oe("failed to call OrtRun().");let ue=[];for(let j=0;j<$;j++){let q=d.HEAPU32[be/4+j];if(q===K[j]){ue.push(O[j]);continue}let Re=d.stackSave(),ge=d.stackAlloc(4*4),le=!1,J,fe=0;try{d._OrtGetTensorData(q,ge,ge+4,ge+8,ge+12)!==0&&oe(`Can\'t access output tensor data on index ${j}.`);let xe=ge/4,De=d.HEAPU32[xe++];fe=d.HEAPU32[xe++];let je=d.HEAPU32[xe++],Xe=d.HEAPU32[xe++],he=[];for(let Q=0;Q<Xe;Q++)he.push(d.HEAPU32[je/4+Q]);d._OrtFree(je);let We=he.reduce((Q,ae)=>Q*ae,1);J=gn(De);let Ze=V?.outputPreferredLocations[w[j]];if(J==="string"){if(Ze==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Q=[],ae=fe/4;for(let ze=0;ze<We;ze++){let Le=d.HEAPU32[ae++],sr=ze===We-1?void 0:d.HEAPU32[ae]-Le;Q.push(d.UTF8ToString(Le,sr))}ue.push([J,he,Q,"cpu"])}else if(Ze==="gpu-buffer"&&We>0){let Q=d.jsepGetBuffer(fe),ae=Tt(De);if(ae===void 0||!vn(J))throw new Error(`Unsupported data type: ${J}`);le=!0,ue.push([J,he,{gpuBuffer:Q,download:d.jsepCreateDownloader(Q,We*ae,J),dispose:()=>{d._OrtReleaseTensor(q)}},"gpu-buffer"])}else{let Q=hn(J),ae=new Q(We);new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength).set(d.HEAPU8.subarray(fe,fe+ae.byteLength)),ue.push([J,he,ae,"cpu"])}}finally{d.stackRestore(Re),J==="string"&&fe&&d._free(fe),le||d._OrtReleaseTensor(q)}}return V&&d._OrtClearBoundOutputs(V.handle),ue}finally{d.stackRestore(ce),Y.forEach(S=>d._OrtReleaseTensor(S)),K.forEach(S=>d._OrtReleaseTensor(S)),F.forEach(S=>d._free(S)),Z!==0&&d._OrtReleaseRunOptions(Z),N.forEach(S=>d._free(S))}},Sn=c=>{let h=ie(),u=xr.get(c);if(!u)throw new Error("invalid session id");let w=u[0],O=h._OrtEndProfiling(w);O===0&&oe("Can\'t get an profile file name."),h._OrtFree(O)},En=c=>{let h=[];for(let u of c){let w=u[2];!Array.isArray(w)&&"buffer"in w&&h.push(w.buffer)}return h};self.onmessage=c=>{switch(c.data.type){case"init-wasm":try{dn(c.data.in).then(()=>postMessage({type:"init-wasm"}),h=>postMessage({type:"init-wasm",err:h}))}catch(h){postMessage({type:"init-wasm",err:h})}break;case"init-ort":try{On(c.data.in).then(()=>postMessage({type:"init-ort"}),h=>postMessage({type:"init-ort",err:h}))}catch(h){postMessage({type:"init-ort",err:h})}break;case"create_allocate":try{let{model:h}=c.data.in,u=At(h);postMessage({type:"create_allocate",out:u})}catch(h){postMessage({type:"create_allocate",err:h})}break;case"create_finalize":try{let{modeldata:h,options:u}=c.data.in,w=St(h,u);postMessage({type:"create_finalize",out:w})}catch(h){postMessage({type:"create_finalize",err:h})}break;case"create":try{let{model:h,options:u}=c.data.in,w=_n(h,u);postMessage({type:"create",out:w})}catch(h){postMessage({type:"create",err:h})}break;case"release":try{let h=c.data.in;Tn(h),postMessage({type:"release"})}catch(h){postMessage({type:"release",err:h})}break;case"run":try{let{sessionId:h,inputIndices:u,inputs:w,outputIndices:O,options:M}=c.data.in;An(h,u,w,O,M).then(d=>{postMessage({type:"run",out:d},En(d))},d=>{postMessage({type:"run",err:d})})}catch(h){postMessage({type:"run",err:h})}break;case"end-profiling":try{let h=c.data.in;Sn(h),postMessage({type:"end-profiling"})}catch(h){postMessage({type:"end-profiling",err:h})}break;default:}};})();\n'});var Ze,Ie,Ot,fn,ln,en,rn,tn,nn,an,on,sn,un,gr,Ro,_t,Na,za,Ya,Ga,cn,Va,qa,Xa,dn=Z(()=>{"use strict";Fr();Ha();Ur();Ze=()=>!!ae.wasm.proxy&&typeof document<"u",Ot=!1,fn=!1,ln=!1,tn=[],nn=[],an=[],on=[],sn=[],un=[],gr=()=>{if(Ot||!fn||ln||!Ie)throw new Error("worker not ready")},Ro=o=>{switch(o.data.type){case"init-wasm":Ot=!1,o.data.err?(ln=!0,en[1](o.data.err)):(fn=!0,en[0]());break;case"init-ort":o.data.err?rn[1](o.data.err):rn[0]();break;case"create_allocate":o.data.err?tn.shift()[1](o.data.err):tn.shift()[0](o.data.out);break;case"create_finalize":o.data.err?nn.shift()[1](o.data.err):nn.shift()[0](o.data.out);break;case"create":o.data.err?an.shift()[1](o.data.err):an.shift()[0](o.data.out);break;case"release":o.data.err?on.shift()[1](o.data.err):on.shift()[0]();break;case"run":o.data.err?sn.shift()[1](o.data.err):sn.shift()[0](o.data.out);break;case"end-profiling":o.data.err?un.shift()[1](o.data.err):un.shift()[0]();break;default:}},_t=typeof document<"u"?document?.currentScript?.src:void 0,Na=async()=>{if(Ze()){if(fn)return;if(Ot)throw new Error("multiple calls to 'initWasm()' detected.");if(ln)throw new Error("previous call to 'initWasm()' failed.");return Ot=!0,ae.wasm.wasmPaths===void 0&&_t&&_t.indexOf("blob:")!==0&&(ae.wasm.wasmPaths=_t.substr(0,+_t.lastIndexOf("/")+1)),new Promise((o,s)=>{Ie?.terminate();let i=URL.createObjectURL(new Blob([ja()],{type:"text/javascript"}));Ie=new Worker(i,{name:"ort-wasm-proxy-worker"}),Ie.onerror=m=>s(m),Ie.onmessage=Ro,URL.revokeObjectURL(i),en=[o,s];let p={type:"init-wasm",in:ae.wasm};Ie.postMessage(p)})}else return Ea(ae.wasm)},za=async o=>{if(Ze())return gr(),new Promise((s,i)=>{rn=[s,i];let p={type:"init-ort",in:o};Ie.postMessage(p)});await Ba(o)},Ya=async o=>Ze()?(gr(),new Promise((s,i)=>{tn.push([s,i]);let p={type:"create_allocate",in:{model:o}};Ie.postMessage(p,[o.buffer])})):Kt(o),Ga=async(o,s)=>Ze()?(gr(),new Promise((i,p)=>{nn.push([i,p]);let m={type:"create_finalize",in:{modeldata:o,options:s}};Ie.postMessage(m)})):Qt(o,s),cn=async(o,s)=>{if(Ze()){if(s?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return gr(),new Promise((i,p)=>{an.push([i,p]);let m={type:"create",in:{model:o,options:s}};Ie.postMessage(m,[o.buffer])})}else return Ra(o,s)},Va=async o=>{if(Ze())return gr(),new Promise((s,i)=>{on.push([s,i]);let p={type:"release",in:o};Ie.postMessage(p)});Wa(o)},qa=async(o,s,i,p,m,O)=>{if(Ze()){if(i.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(m.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return gr(),new Promise((d,y)=>{sn.push([d,y]);let _=i,l={type:"run",in:{sessionId:o,inputIndices:s,inputs:_,outputIndices:p,options:O}};Ie.postMessage(l,$a(_))})}else return ka(o,s,i,p,m,O)},Xa=async o=>{if(Ze())return gr(),new Promise((s,i)=>{un.push([s,i]);let p={type:"end-profiling",in:o};Ie.postMessage(p)});La(o)}});var Ja,Tt,Za,Wo,At,Ka=Z(()=>{"use strict";Fr();dn();Zt();Za=(o,s)=>{switch(o.location){case"cpu":return[o.type,o.dims,o.data,"cpu"];case"gpu-buffer":return[o.type,o.dims,{gpuBuffer:o.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${o.location} for ${s()}`)}},Wo=o=>{switch(o[3]){case"cpu":return new He(o[0],o[2],o[1]);case"gpu-buffer":{let s=o[0];if(!wt(s))throw new Error(`not supported data type: ${s} for deserializing GPU tensor`);let{gpuBuffer:i,download:p,dispose:m}=o[2];return He.fromGpuBuffer(i,{dataType:s,dims:o[1],download:p,dispose:m})}default:throw new Error(`invalid data location: ${o[3]}`)}},At=class{async createSessionAllocate(s){let i=await fetch(s);if(i.status!==200)throw new Error(`failed to load model: ${s}`);let p=await i.arrayBuffer();return Ya(new Uint8Array(p))}async loadModel(s,i){if(Ja||(Tt||(Tt=za(ae)),await Tt,Tt=void 0,Ja=!0),typeof s=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let p=await(void 0)(s);[this.sessionId,this.inputNames,this.outputNames]=await cn(p,i)}else{let p=await this.createSessionAllocate(s);[this.sessionId,this.inputNames,this.outputNames]=await Ga(p,i)}else[this.sessionId,this.inputNames,this.outputNames]=await cn(s,i)}async dispose(){return Va(this.sessionId)}async run(s,i,p){let m=[],O=[];Object.entries(s).forEach(S=>{let D=S[0],j=S[1],x=this.inputNames.indexOf(D);if(x===-1)throw new Error(`invalid input '${D}'`);m.push(j),O.push(x)});let d=[],y=[];Object.entries(i).forEach(S=>{let D=S[0],j=S[1],x=this.outputNames.indexOf(D);if(x===-1)throw new Error(`invalid output '${D}'`);d.push(j),y.push(x)});let _=m.map((S,D)=>Za(S,()=>`input "${this.inputNames[O[D]]}"`)),l=d.map((S,D)=>S?Za(S,()=>`output "${this.outputNames[y[D]]}"`):null),T=await qa(this.sessionId,O,_,y,l,p),M={};for(let S=0;S<T.length;S++)M[this.outputNames[y[S]]]=d[S]??Wo(T[S]);return M}startProfiling(){}endProfiling(){Xa(this.sessionId)}}});var ko,Et,Qa=Z(()=>{"use strict";Fr();dn();Ka();ko=()=>{if((typeof ae.wasm.initTimeout!="number"||ae.wasm.initTimeout<0)&&(ae.wasm.initTimeout=0),typeof ae.wasm.simd!="boolean"&&(ae.wasm.simd=!0),typeof ae.wasm.proxy!="boolean"&&(ae.wasm.proxy=!1),typeof ae.wasm.numThreads!="number"||!Number.isInteger(ae.wasm.numThreads)||ae.wasm.numThreads<=0){let o=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ae.wasm.numThreads=Math.min(4,Math.ceil((o||1)/2))}},Et=class{async init(){ko(),await Na()}async createInferenceSessionHandler(s,i){let p=new At;return await p.loadModel(s,i),Promise.resolve(p)}}});var eo={};Yr(eo,{wasmBackend:()=>Lo});var Lo,ro=Z(()=>{"use strict";Qa();Lo=new Et});var $o={};Yr($o,{InferenceSession:()=>vo,Tensor:()=>He,TrainingSession:()=>bo,env:()=>ae,registerBackend:()=>hr});Fr();Fr();var ca="1.17.0";{let o=(ro(),pr(eo)).wasmBackend;hr("cpu",o,10),hr("wasm",o,10),hr("xnnpack",o,9),hr("webnn",o,9)}Object.defineProperty(ae.versions,"web",{value:ca,enumerable:!0});return pr($o);})();
//# sourceMappingURL=ort.wasm.min.js.map
