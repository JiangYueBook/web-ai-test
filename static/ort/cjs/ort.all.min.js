/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var Wb=Object.create;var Oi=Object.defineProperty;var zb=Object.getOwnPropertyDescriptor;var Hb=Object.getOwnPropertyNames;var Vb=Object.getPrototypeOf,jb=Object.prototype.hasOwnProperty;var it=(i,e)=>()=>(i&&(e=i(i=0)),e);var qt=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Zr=(i,e)=>{for(var n in e)Oi(i,n,{get:e[n],enumerable:!0})},Pc=(i,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Hb(e))!jb.call(i,r)&&r!==n&&Oi(i,r,{get:()=>e[r],enumerable:!(t=zb(e,r))||t.enumerable});return i};var kn=(i,e,n)=>(n=i!=null?Wb(Vb(i)):{},Pc(e||!i||!i.__esModule?Oi(n,"default",{value:i,enumerable:!0}):n,i)),Br=i=>Pc(Oi({},"__esModule",{value:!0}),i);var Ii,Qr,Or,Ai,Si=it(()=>{"use strict";Ii=new Map,Qr=[],Or=(i,e,n)=>{if(e&&typeof e.init=="function"&&typeof e.createInferenceSessionHandler=="function"){let t=Ii.get(i);if(t===void 0)Ii.set(i,{backend:e,priority:n});else{if(t.priority>n)return;if(t.priority===n&&t.backend!==e)throw new Error(`cannot register backend "${i}" using priority ${n}`)}if(n>=0){let r=Qr.indexOf(i);r!==-1&&Qr.splice(r,1);for(let o=0;o<Qr.length;o++)if(Ii.get(Qr[o]).priority<=n){Qr.splice(o,0,i);return}Qr.push(i)}return}throw new TypeError("not a valid backend")},Ai=async i=>{let e=i.length===0?Qr:i,n=[];for(let t of e){let r=Ii.get(t);if(r){if(r.initialized)return r.backend;if(r.aborted)continue;let o=!!r.initPromise;try{return o||(r.initPromise=r.backend.init()),await r.initPromise,r.initialized=!0,r.backend}catch(s){o||n.push({name:t,err:s}),r.aborted=!0}finally{delete r.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map(t=>`[${t.name}] ${t.err}`).join(", ")}`)}});var Ec=it(()=>{"use strict";Si()});var Dc,kc=it(()=>{"use strict";Dc="1.17.0"});var Lc,ju,Cc=it(()=>{"use strict";kc();Lc="warning",ju={wasm:{},webgl:{},webgpu:{},versions:{common:Dc},set logLevel(i){if(i!==void 0){if(typeof i!="string"||["verbose","info","warning","error","fatal"].indexOf(i)===-1)throw new Error(`Unsupported logging level: ${i}`);Lc=i}},get logLevel(){return Lc}};Object.defineProperty(ju,"logLevel",{enumerable:!0})});var Et,Fc=it(()=>{"use strict";Cc();Et=ju});var $c,Bc,Nc=it(()=>{"use strict";$c=(i,e)=>{let n=document.createElement("canvas");n.width=i.dims[3],n.height=i.dims[2];let t=n.getContext("2d");if(t!=null){let r,o;e?.tensorLayout!==void 0&&e.tensorLayout==="NHWC"?(r=i.dims[2],o=i.dims[3]):(r=i.dims[3],o=i.dims[2]);let s=e?.format!==void 0?e.format:"RGB",a=e?.norm,u,c;a===void 0||a.mean===void 0?u=[255,255,255,255]:typeof a.mean=="number"?u=[a.mean,a.mean,a.mean,a.mean]:(u=[a.mean[0],a.mean[1],a.mean[2],0],a.mean[3]!==void 0&&(u[3]=a.mean[3])),a===void 0||a.bias===void 0?c=[0,0,0,0]:typeof a.bias=="number"?c=[a.bias,a.bias,a.bias,a.bias]:(c=[a.bias[0],a.bias[1],a.bias[2],0],a.bias[3]!==void 0&&(c[3]=a.bias[3]));let v=o*r,S=0,E=v,N=v*2,Z=-1;s==="RGBA"?(S=0,E=v,N=v*2,Z=v*3):s==="RGB"?(S=0,E=v,N=v*2):s==="RBG"&&(S=0,N=v,E=v*2);for(let H=0;H<o;H++)for(let rt=0;rt<r;rt++){let at=(i.data[S++]-c[0])*u[0],ot=(i.data[E++]-c[1])*u[1],ut=(i.data[N++]-c[2])*u[2],xt=Z===-1?255:(i.data[Z++]-c[3])*u[3];t.fillStyle="rgba("+at+","+ot+","+ut+","+xt+")",t.fillRect(rt,H,1,1)}return n.toDataURL()}else throw new Error("Can not access image data")},Bc=(i,e)=>{let n=document.createElement("canvas").getContext("2d"),t;if(n!=null){let r,o,s;e?.tensorLayout!==void 0&&e.tensorLayout==="NHWC"?(r=i.dims[2],o=i.dims[1],s=i.dims[3]):(r=i.dims[3],o=i.dims[2],s=i.dims[1]);let a=e!==void 0&&e.format!==void 0?e.format:"RGB",u=e?.norm,c,v;u===void 0||u.mean===void 0?c=[255,255,255,255]:typeof u.mean=="number"?c=[u.mean,u.mean,u.mean,u.mean]:(c=[u.mean[0],u.mean[1],u.mean[2],255],u.mean[3]!==void 0&&(c[3]=u.mean[3])),u===void 0||u.bias===void 0?v=[0,0,0,0]:typeof u.bias=="number"?v=[u.bias,u.bias,u.bias,u.bias]:(v=[u.bias[0],u.bias[1],u.bias[2],0],u.bias[3]!==void 0&&(v[3]=u.bias[3]));let S=o*r;if(e!==void 0&&(e.format!==void 0&&s===4&&e.format!=="RGBA"||s===3&&e.format!=="RGB"&&e.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,N=0,Z=1,H=2,rt=3,at=0,ot=S,ut=S*2,xt=-1;a==="RGBA"?(at=0,ot=S,ut=S*2,xt=S*3):a==="RGB"?(at=0,ot=S,ut=S*2):a==="RBG"&&(at=0,ut=S,ot=S*2),t=n.createImageData(r,o);for(let yt=0;yt<o*r;N+=E,Z+=E,H+=E,rt+=E,yt++)t.data[N]=(i.data[at++]-v[0])*c[0],t.data[Z]=(i.data[ot++]-v[1])*c[1],t.data[H]=(i.data[ut++]-v[2])*c[2],t.data[rt]=xt===-1?255:(i.data[xt++]-v[3])*c[3]}else throw new Error("Can not access image data");return t}});var qu,Mc,Rc,Gc,Uc,Wc=it(()=>{"use strict";Pi();qu=(i,e)=>{if(i===void 0)throw new Error("Image buffer must be defined");if(e.height===void 0||e.width===void 0)throw new Error("Image height and width must be defined");if(e.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:n,width:t}=e,r=e.norm??{mean:255,bias:0},o,s;typeof r.mean=="number"?o=[r.mean,r.mean,r.mean,r.mean]:o=[r.mean[0],r.mean[1],r.mean[2],r.mean[3]??255],typeof r.bias=="number"?s=[r.bias,r.bias,r.bias,r.bias]:s=[r.bias[0],r.bias[1],r.bias[2],r.bias[3]??0];let a=e.format!==void 0?e.format:"RGBA",u=e.tensorFormat!==void 0&&e.tensorFormat!==void 0?e.tensorFormat:"RGB",c=n*t,v=u==="RGBA"?new Float32Array(c*4):new Float32Array(c*3),S=4,E=0,N=1,Z=2,H=3,rt=0,at=c,ot=c*2,ut=-1;a==="RGB"&&(S=3,E=0,N=1,Z=2,H=-1),u==="RGBA"?ut=c*3:u==="RBG"?(rt=0,ot=c,at=c*2):u==="BGR"&&(ot=0,at=c,rt=c*2);for(let yt=0;yt<c;yt++,E+=S,Z+=S,N+=S,H+=S)v[rt++]=(i[E]+s[0])/o[0],v[at++]=(i[N]+s[1])/o[1],v[ot++]=(i[Z]+s[2])/o[2],ut!==-1&&H!==-1&&(v[ut++]=(i[H]+s[3])/o[3]);return u==="RGBA"?new Ee("float32",v,[1,4,n,t]):new Ee("float32",v,[1,3,n,t])},Mc=async(i,e)=>{let n=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,t=typeof ImageData<"u"&&i instanceof ImageData,r=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,o=typeof i=="string",s,a=e??{};if(n){let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let c=u.getContext("2d");if(c!=null){let v=i.height,S=i.width;if(e!==void 0&&e.resizedHeight!==void 0&&e.resizedWidth!==void 0&&(v=e.resizedHeight,S=e.resizedWidth),e!==void 0){if(a=e,e.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");a.tensorFormat="RGBA",a.height=v,a.width=S}else a.tensorFormat="RGBA",a.height=v,a.width=S;c.drawImage(i,0,0),s=c.getImageData(0,0,S,v).data}else throw new Error("Can not access image data")}else if(t){let u,c;if(e!==void 0&&e.resizedWidth!==void 0&&e.resizedHeight!==void 0?(u=e.resizedHeight,c=e.resizedWidth):(u=i.height,c=i.width),e!==void 0&&(a=e),a.format="RGBA",a.height=u,a.width=c,e!==void 0){let v=document.createElement("canvas");v.width=c,v.height=u;let S=v.getContext("2d");if(S!=null)S.putImageData(i,0,0),s=S.getImageData(0,0,c,u).data;else throw new Error("Can not access image data")}else s=i.data}else if(r){if(e===void 0)throw new Error("Please provide image config with format for Imagebitmap");let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let c=u.getContext("2d");if(c!=null){let v=i.height,S=i.width;return c.drawImage(i,0,0,S,v),s=c.getImageData(0,0,S,v).data,a.height=v,a.width=S,qu(s,a)}else throw new Error("Can not access image data")}else{if(o)return new Promise((u,c)=>{let v=document.createElement("canvas"),S=v.getContext("2d");if(!i||!S)return c();let E=new Image;E.crossOrigin="Anonymous",E.src=i,E.onload=()=>{v.width=E.width,v.height=E.height,S.drawImage(E,0,0,v.width,v.height);let N=S.getImageData(0,0,v.width,v.height);a.height=v.height,a.width=v.width,u(qu(N.data,a))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(s!==void 0)return qu(s,a);throw new Error("Input data provided is not supported - aborted tensor creation")},Rc=(i,e)=>{let{width:n,height:t,download:r,dispose:o}=e,s=[1,t,n,4];return new Ee({location:"texture",type:"float32",texture:i,dims:s,download:r,dispose:o})},Gc=(i,e)=>{let{dataType:n,dims:t,download:r,dispose:o}=e;return new Ee({location:"gpu-buffer",type:n??"float32",gpuBuffer:i,dims:t,download:r,dispose:o})},Uc=(i,e,n)=>new Ee({location:"cpu-pinned",type:i,data:e,dims:n??[e.length]})});var mo,Ei,zc,Hc,Vc=it(()=>{"use strict";mo=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Ei=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),zc=!1,Hc=()=>{if(!zc){zc=!0;let i=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",e=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";i&&(mo.set("int64",BigInt64Array),Ei.set(BigInt64Array,"int64")),e&&(mo.set("uint64",BigUint64Array),Ei.set(BigUint64Array,"uint64"))}}});var jc,qc,Yc=it(()=>{"use strict";Pi();jc=i=>{let e=1;for(let n=0;n<i.length;n++){let t=i[n];if(typeof t!="number"||!Number.isSafeInteger(t))throw new TypeError(`dims[${n}] must be an integer, got: ${t}`);if(t<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${t}`);e*=t}return e},qc=(i,e)=>{switch(i.location){case"cpu":return new Ee(i.type,i.data,e);case"cpu-pinned":return new Ee({location:"cpu-pinned",data:i.data,type:i.type,dims:e});case"texture":return new Ee({location:"texture",texture:i.texture,type:i.type,dims:e});case"gpu-buffer":return new Ee({location:"gpu-buffer",gpuBuffer:i.gpuBuffer,type:i.type,dims:e});default:throw new Error(`tensorReshape: tensor location ${i.location} is not supported`)}}});var Ee,Pi=it(()=>{"use strict";Nc();Wc();Vc();Yc();Ee=class{constructor(e,n,t){Hc();let r,o;if(typeof e=="object"&&"location"in e)switch(this.dataLocation=e.location,r=e.type,o=e.dims,e.location){case"cpu-pinned":{let a=mo.get(r);if(!a)throw new TypeError(`unsupported type "${r}" to create tensor from pinned buffer`);if(!(e.data instanceof a))throw new TypeError(`buffer should be of type ${a.name}`);this.cpuData=e.data;break}case"texture":{if(r!=="float32")throw new TypeError(`unsupported type "${r}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break}case"gpu-buffer":{if(r!=="float32"&&r!=="float16"&&r!=="int32"&&r!=="int64"&&r!=="uint32"&&r!=="bool")throw new TypeError(`unsupported type "${r}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let a,u;if(typeof e=="string")if(r=e,u=t,e==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");a=n}else{let c=mo.get(e);if(c===void 0)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(n)){if(e==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");e==="uint64"||e==="int64"?a=c.from(n,BigInt):a=c.from(n)}else if(n instanceof c)a=n;else throw new TypeError(`A ${r} tensor's data must be type of ${c}`)}else if(u=n,Array.isArray(e)){if(e.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let c=typeof e[0];if(c==="string")r="string",a=e;else if(c==="boolean")r="bool",a=Uint8Array.from(e);else throw new TypeError(`Invalid element type of data array: ${c}.`)}else{let c=Ei.get(e.constructor);if(c===void 0)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=c,a=e}if(u===void 0)u=[a.length];else if(!Array.isArray(u))throw new TypeError("A tensor's dims must be a number array");o=u,this.cpuData=a,this.dataLocation="cpu"}let s=jc(o);if(this.cpuData&&s!==this.cpuData.length)throw new Error(`Tensor's size(${s}) does not match data length(${this.cpuData.length}).`);this.type=r,this.dims=o,this.size=s}static async fromImage(e,n){return Mc(e,n)}static fromTexture(e,n){return Rc(e,n)}static fromGpuBuffer(e,n){return Gc(e,n)}static fromPinnedBuffer(e,n,t){return Uc(e,n,t)}toDataURL(e){return $c(this,e)}toImageData(e){return Bc(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,e&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return qc(this,e)}}});var me,Di=it(()=>{"use strict";Pi();me=Ee});var ki,Kc=it(()=>{"use strict";Si();Di();ki=class i{constructor(e){this.handler=e}async run(e,n,t){let r={},o={};if(typeof e!="object"||e===null||e instanceof me||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof me)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let c of n){if(typeof c!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(c)===-1)throw new RangeError(`'fetches' contains invalid output name: ${c}.`);r[c]=null}if(typeof t=="object"&&t!==null)o=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else{let c=!1,v=Object.getOwnPropertyNames(n);for(let S of this.outputNames)if(v.indexOf(S)!==-1){let E=n[S];(E===null||E instanceof me)&&(c=!0,s=!1,r[S]=E)}if(c){if(typeof t=="object"&&t!==null)o=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else o=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let c of this.inputNames)if(typeof e[c]>"u")throw new Error(`input '${c}' is missing in 'feeds'.`);if(s)for(let c of this.outputNames)r[c]=null;let a=await this.handler.run(e,r,o),u={};for(let c in a)if(Object.hasOwnProperty.call(a,c)){let v=a[c];v instanceof me?u[c]=v:u[c]=new me(v.type,v.data,v.dims)}return u}async release(){return this.handler.dispose()}static async create(e,n,t,r){let o,s={};if(typeof e=="string"){if(o=e,typeof n=="object"&&n!==null)s=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(o=e,typeof n=="object"&&n!==null)s=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer){let S=e,E=0,N=e.byteLength;if(typeof n=="object"&&n!==null)s=n;else if(typeof n=="number"){if(E=n,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(N=e.byteLength-E,typeof t=="number"){if(N=t,!Number.isSafeInteger(N))throw new RangeError("'byteLength' must be an integer.");if(N<=0||E+N>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-E}].`);if(typeof r=="object"&&r!==null)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(typeof t<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");o=new Uint8Array(S,E,N)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let u=(s.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),v=await(await Ai(u)).createInferenceSessionHandler(o,s);return new i(v)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Xc,Jc=it(()=>{"use strict";Kc();Xc=ki});var Zc=it(()=>{"use strict"});var qb,Li,Qc=it(()=>{"use strict";Si();Di();qb="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Li=class i{constructor(e){this.handler=e}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(e,n){let t=e.evalModel||"",r=e.optimizerModel||"",o=n||{},a=(o.executionProviders||[]).map(c=>typeof c=="string"?c:c.name),u=await Ai(a);if(u.createTrainingSessionHandler){let c=await u.createTrainingSessionHandler(e.checkpointState,e.trainModel,t,r,o);return new i(c)}else throw new Error(qb)}typeNarrowingForRunStep(e,n,t){let r={},o={};if(typeof e!="object"||e===null||e instanceof me||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof me)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let a of n){if(typeof a!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(a)===-1)throw new RangeError(`'fetches' contains invalid output name: ${a}.`);r[a]=null}if(typeof t=="object"&&t!==null)o=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else{let a=!1,u=Object.getOwnPropertyNames(n);for(let c of this.outputNames)if(u.indexOf(c)!==-1){let v=n[c];(v===null||v instanceof me)&&(a=!0,s=!1,r[c]=v)}if(a){if(typeof t=="object"&&t!==null)o=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else o=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let a of this.inputNames)if(typeof e[a]>"u")throw new Error(`input '${a}' is missing in 'feeds'.`);if(s)for(let a of this.outputNames)r[a]=null;return[r,o]}convertHandlerReturnTypeToMapOfTensors(e){let n={};for(let t in e)if(Object.hasOwnProperty.call(e,t)){let r=e[t];r instanceof me?n[t]=r:n[t]=new me(r.type,r.data,r.dims)}return n}async runTrainStep(e,n,t){let[r,o]=this.typeNarrowingForRunStep(e,n,t),s=await this.handler.runTrainStep(e,r,o);return this.convertHandlerReturnTypeToMapOfTensors(s)}async getParametersSize(e=!0){return this.handler.getParametersSize(e)}async loadParametersBuffer(e,n=!0){let t=await this.getParametersSize(n);if(e.length!==4*t)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(e,n)}async getContiguousParameters(e=!0){return this.handler.getContiguousParameters(e)}async release(){return this.handler.dispose()}}});var tl,el=it(()=>{"use strict";Qc();tl=Li});var Yu={};Zr(Yu,{InferenceSession:()=>Xc,Tensor:()=>me,TrainingSession:()=>tl,env:()=>Et,registerBackend:()=>Or});var nr=it(()=>{"use strict";Ec();Fc();Jc();Di();Zc();el()});function Nr(i,e,n,t){if(e===void 0)return Kb(i);if(n===void 0)Ci(i,e,1);else if(typeof n=="number"&&t===void 0)Ci(i,e,n);else if(typeof n=="string"&&t===void 0)Ci(i,n,1,e);else if(typeof n=="string"&&typeof t=="number")Ci(i,n,t,e);else throw new TypeError("input is valid")}function Kb(i){return{verbose:Nr.verbose.bind(null,i),info:Nr.info.bind(null,i),warning:Nr.warning.bind(null,i),error:Nr.error.bind(null,i),fatal:Nr.fatal.bind(null,i)}}function Ci(i,e,n,t){let r=yo[t||""]||yo[""];nl[i]<nl[r.minimalSeverity]||(r.logDateTime&&(e=`${new Date().toISOString()}|${e}`),r.logSourceLocation,Yb[r.provider].log(i,e,t))}var Ku,Xu,nl,Yb,ol,yo,Ut,$i,Bi,Ni,Fi,ze=it(()=>{"use strict";Ku=class{log(e,n,t){}},Xu=class{log(e,n,t){console.log(`${this.color(e)} ${t?"\x1B[35m"+t+"\x1B[0m ":""}${n}`)}color(e){switch(e){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${e}`)}}},nl={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},Yb={none:new Ku,console:new Xu},ol={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},yo={"":ol};(u=>{function i(c,v){u("verbose",c,v)}u.verbose=i;function e(c,v){u("info",c,v)}u.info=e;function n(c,v){u("warning",c,v)}u.warning=n;function t(c,v){u("error",c,v)}u.error=t;function r(c,v){u("fatal",c,v)}u.fatal=r;function o(c){yo={},s("",c||{})}u.reset=o;function s(c,v){if(c==="*")o(v);else{let S=yo[c]||ol;yo[c]={provider:v.provider||S.provider,minimalSeverity:v.minimalSeverity||S.minimalSeverity,logDateTime:v.logDateTime===void 0?S.logDateTime:v.logDateTime,logSourceLocation:v.logSourceLocation===void 0?S.logSourceLocation:v.logSourceLocation}}}u.set=s;function a(c){let v={};c.logLevel&&(v.minimalSeverity=c.logLevel),s("",v)}u.setWithEnv=a})(Nr||={});Ut=Nr,$i=class{constructor(e,n,t,r,o,s){this.category=e;this.name=n;this.startTime=t;this.endCallback=r;this.timer=o;this.ctx=s}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},Bi=class{constructor(e,n,t,r){this.category=e;this.name=n;this.startTime=t;this.endTime=r}},Ni=class{constructor(e,n,t){this._started=!1;this._flushPointer=0;this._started=!1,this._maxNumberEvents=e===void 0?1e4:e,this._flushBatchSize=n===void 0?10:n,this._flushIntervalInMilliseconds=t===void 0?5e3:t}static create(e){return e===void 0?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=Fi(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,n,t,r){let o=this._started?this.begin(e,n,r):void 0,s=!1,a=t();if(a&&typeof a.then=="function")return s=!0,new Promise((u,c)=>{a.then(async v=>{o&&await o.end(),u(v)},async v=>{o&&await o.end(),c(v)})});if(!s&&o){let u=o.end();if(u&&typeof u.then=="function")return new Promise((c,v)=>{u.then(()=>{c(a)},S=>{v(S)})})}return a}begin(e,n,t){if(!this._started)throw new Error("profiler is not started yet");if(t===void 0){let r=Fi();return this.flush(r),new $i(e,n,r,o=>this.endSync(o))}else{let r=t.beginTimer();return new $i(e,n,0,async o=>this.end(o),r,t)}}async end(e){let n=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Bi(e.category,e.name,e.startTime,n)),this.flush(n))}endSync(e){let n=Fi();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Bi(e.category,e.name,e.startTime,n)),this.flush(n))}logOneEvent(e){Ut.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`)}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(let n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=Fi()}}get started(){return this._started}},Fi=typeof performance<"u"&&performance.now?()=>performance.now():Date.now});function il(i,e,n){for(let t of n){let r=t[0],o=t[1],s=t[2],a=t[3],u=t[4];if(i.opType===r){for(let c of e)if((c.domain===o||c.domain==="ai.onnx"&&o==="")&&Xb(c.version,s))return{opImpl:a,opInit:u}}}throw new TypeError(`cannot resolve operator '${i.opType}' with opsets: ${e.map(t=>`${t.domain||"ai.onnx"} v${t.version}`).join(", ")}`)}function Xb(i,e){if(e.endsWith("+")){let n=Number.parseInt(e.substring(0,e.length-1),10);return!isNaN(n)&&n<=i}else if(e.split("-").length===2){let n=e.split("-"),t=Number.parseInt(n[0],10),r=Number.parseInt(n[1],10);return!isNaN(t)&&!isNaN(r)&&t<=i&&i<=r}else return Number.parseInt(e,10)===i}var al=it(()=>{"use strict"});var sl=qt(Ju=>{"use strict";Ju.__esModule=!0;var Jb=function(){function i(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=i.EMPTY,e&&i.isGuid(e)&&(this.value=e)}return i.isGuid=function(e){var n=e.toString();return e&&(e instanceof i||i.validator.test(n))},i.create=function(){return new i([i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-"))},i.createEmpty=function(){return new i("emptyguid")},i.parse=function(e){return new i(e)},i.raw=function(){return[i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-")},i.gen=function(e){for(var n="",t=0;t<e;t++)n+=((1+Math.random())*65536|0).toString(16).substring(1);return n},i.prototype.equals=function(e){return i.isGuid(e)&&this.value===e.toString()},i.prototype.isEmpty=function(){return this.value===i.EMPTY},i.prototype.toString=function(){return this.value},i.prototype.toJSON=function(){return{value:this.value}},i.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),i.EMPTY="00000000-0000-0000-0000-000000000000",i}();Ju.Guid=Jb});function Yt(i,e,n){this.low=i|0,this.high=e|0,this.unsigned=!!n}function Oe(i){return(i&&i.__isLong__)===!0}function ul(i){var e=Math.clz32(i&-i);return i?31-e:e}function tn(i,e){var n,t,r;return e?(i>>>=0,(r=0<=i&&i<256)&&(t=cl[i],t)?t:(n=Rt(i,0,!0),r&&(cl[i]=n),n)):(i|=0,(r=-128<=i&&i<128)&&(t=fl[i],t)?t:(n=Rt(i,i<0?-1:0,!1),r&&(fl[i]=n),n))}function Ve(i,e){if(isNaN(i))return e?Ir:or;if(e){if(i<0)return Ir;if(i>=hl)return bl}else{if(i<=-dl)return Be;if(i+1>=dl)return yl}return i<0?Ve(-i,e).neg():Rt(i%Cn|0,i/Cn|0,e)}function Rt(i,e,n){return new Yt(i,e,n)}function Qu(i,e,n){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?Ir:or;if(n=n||10,n<2||36<n)throw RangeError("radix");var t;if((t=i.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return Qu(i.substring(1),e,n).neg();for(var r=Ve(Mi(n,8)),o=or,s=0;s<i.length;s+=8){var a=Math.min(8,i.length-s),u=parseInt(i.substring(s,s+a),n);if(a<8){var c=Ve(Mi(n,a));o=o.mul(c).add(Ve(u))}else o=o.mul(r),o=o.add(Ve(u))}return o.unsigned=e,o}function ir(i,e){return typeof i=="number"?Ve(i,e):typeof i=="string"?Qu(i,e):Rt(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}var He,fl,cl,Mi,ll,Zb,Cn,hl,dl,pl,or,Ir,Ln,ml,Zu,yl,bl,Be,st,Ar,tf=it(()=>{He=null;try{He=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Yt.prototype.__isLong__;Object.defineProperty(Yt.prototype,"__isLong__",{value:!0});Yt.isLong=Oe;fl={},cl={};Yt.fromInt=tn;Yt.fromNumber=Ve;Yt.fromBits=Rt;Mi=Math.pow;Yt.fromString=Qu;Yt.fromValue=ir;ll=65536,Zb=1<<24,Cn=ll*ll,hl=Cn*Cn,dl=hl/2,pl=tn(Zb),or=tn(0);Yt.ZERO=or;Ir=tn(0,!0);Yt.UZERO=Ir;Ln=tn(1);Yt.ONE=Ln;ml=tn(1,!0);Yt.UONE=ml;Zu=tn(-1);Yt.NEG_ONE=Zu;yl=Rt(-1,2147483647,!1);Yt.MAX_VALUE=yl;bl=Rt(-1,-1,!0);Yt.MAX_UNSIGNED_VALUE=bl;Be=Rt(0,-2147483648,!1);Yt.MIN_VALUE=Be;st=Yt.prototype;st.toInt=function(){return this.unsigned?this.low>>>0:this.low};st.toNumber=function(){return this.unsigned?(this.high>>>0)*Cn+(this.low>>>0):this.high*Cn+(this.low>>>0)};st.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Be)){var n=Ve(e),t=this.div(n),r=t.mul(n).sub(this);return t.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=Ve(Mi(e,6),this.unsigned),s=this,a="";;){var u=s.div(o),c=s.sub(u.mul(o)).toInt()>>>0,v=c.toString(e);if(s=u,s.isZero())return v+a;for(;v.length<6;)v="0"+v;a=""+v+a}};st.getHighBits=function(){return this.high};st.getHighBitsUnsigned=function(){return this.high>>>0};st.getLowBits=function(){return this.low};st.getLowBitsUnsigned=function(){return this.low>>>0};st.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Be)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};st.isZero=function(){return this.high===0&&this.low===0};st.eqz=st.isZero;st.isNegative=function(){return!this.unsigned&&this.high<0};st.isPositive=function(){return this.unsigned||this.high>=0};st.isOdd=function(){return(this.low&1)===1};st.isEven=function(){return(this.low&1)===0};st.equals=function(e){return Oe(e)||(e=ir(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};st.eq=st.equals;st.notEquals=function(e){return!this.eq(e)};st.neq=st.notEquals;st.ne=st.notEquals;st.lessThan=function(e){return this.comp(e)<0};st.lt=st.lessThan;st.lessThanOrEqual=function(e){return this.comp(e)<=0};st.lte=st.lessThanOrEqual;st.le=st.lessThanOrEqual;st.greaterThan=function(e){return this.comp(e)>0};st.gt=st.greaterThan;st.greaterThanOrEqual=function(e){return this.comp(e)>=0};st.gte=st.greaterThanOrEqual;st.ge=st.greaterThanOrEqual;st.compare=function(e){if(Oe(e)||(e=ir(e)),this.eq(e))return 0;var n=this.isNegative(),t=e.isNegative();return n&&!t?-1:!n&&t?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};st.comp=st.compare;st.negate=function(){return!this.unsigned&&this.eq(Be)?Be:this.not().add(Ln)};st.neg=st.negate;st.add=function(e){Oe(e)||(e=ir(e));var n=this.high>>>16,t=this.high&65535,r=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,u=e.low>>>16,c=e.low&65535,v=0,S=0,E=0,N=0;return N+=o+c,E+=N>>>16,N&=65535,E+=r+u,S+=E>>>16,E&=65535,S+=t+a,v+=S>>>16,S&=65535,v+=n+s,v&=65535,Rt(E<<16|N,v<<16|S,this.unsigned)};st.subtract=function(e){return Oe(e)||(e=ir(e)),this.add(e.neg())};st.sub=st.subtract;st.multiply=function(e){if(this.isZero())return this;if(Oe(e)||(e=ir(e)),He){var n=He.mul(this.low,this.high,e.low,e.high);return Rt(n,He.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Ir:or;if(this.eq(Be))return e.isOdd()?Be:or;if(e.eq(Be))return this.isOdd()?Be:or;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(pl)&&e.lt(pl))return Ve(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,u=e.high&65535,c=e.low>>>16,v=e.low&65535,S=0,E=0,N=0,Z=0;return Z+=s*v,N+=Z>>>16,Z&=65535,N+=o*v,E+=N>>>16,N&=65535,N+=s*c,E+=N>>>16,N&=65535,E+=r*v,S+=E>>>16,E&=65535,E+=o*c,S+=E>>>16,E&=65535,E+=s*u,S+=E>>>16,E&=65535,S+=t*v+r*c+o*u+s*a,S&=65535,Rt(N<<16|Z,S<<16|E,this.unsigned)};st.mul=st.multiply;st.divide=function(e){if(Oe(e)||(e=ir(e)),e.isZero())throw Error("division by zero");if(He){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?He.div_u:He.div_s)(this.low,this.high,e.low,e.high);return Rt(n,He.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ir:or;var t,r,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ir;if(e.gt(this.shru(1)))return ml;o=Ir}else{if(this.eq(Be)){if(e.eq(Ln)||e.eq(Zu))return Be;if(e.eq(Be))return Ln;var s=this.shr(1);return t=s.div(e).shl(1),t.eq(or)?e.isNegative()?Ln:Zu:(r=this.sub(e.mul(t)),o=t.add(r.div(e)),o)}else if(e.eq(Be))return this.unsigned?Ir:or;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=or}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),u=a<=48?1:Mi(2,a-48),c=Ve(t),v=c.mul(e);v.isNegative()||v.gt(r);)t-=u,c=Ve(t,this.unsigned),v=c.mul(e);c.isZero()&&(c=Ln),o=o.add(c),r=r.sub(v)}return o};st.div=st.divide;st.modulo=function(e){if(Oe(e)||(e=ir(e)),He){var n=(this.unsigned?He.rem_u:He.rem_s)(this.low,this.high,e.low,e.high);return Rt(n,He.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};st.mod=st.modulo;st.rem=st.modulo;st.not=function(){return Rt(~this.low,~this.high,this.unsigned)};st.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};st.clz=st.countLeadingZeros;st.countTrailingZeros=function(){return this.low?ul(this.low):ul(this.high)+32};st.ctz=st.countTrailingZeros;st.and=function(e){return Oe(e)||(e=ir(e)),Rt(this.low&e.low,this.high&e.high,this.unsigned)};st.or=function(e){return Oe(e)||(e=ir(e)),Rt(this.low|e.low,this.high|e.high,this.unsigned)};st.xor=function(e){return Oe(e)||(e=ir(e)),Rt(this.low^e.low,this.high^e.high,this.unsigned)};st.shiftLeft=function(e){return Oe(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Rt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Rt(0,this.low<<e-32,this.unsigned)};st.shl=st.shiftLeft;st.shiftRight=function(e){return Oe(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Rt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Rt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};st.shr=st.shiftRight;st.shiftRightUnsigned=function(e){return Oe(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Rt(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Rt(this.high,0,this.unsigned):Rt(this.high>>>e-32,0,this.unsigned)};st.shru=st.shiftRightUnsigned;st.shr_u=st.shiftRightUnsigned;st.rotateLeft=function(e){var n;return Oe(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Rt(this.high,this.low,this.unsigned):e<32?(n=32-e,Rt(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,Rt(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))};st.rotl=st.rotateLeft;st.rotateRight=function(e){var n;return Oe(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Rt(this.high,this.low,this.unsigned):e<32?(n=32-e,Rt(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,Rt(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))};st.rotr=st.rotateRight;st.toSigned=function(){return this.unsigned?Rt(this.low,this.high,!1):this};st.toUnsigned=function(){return this.unsigned?this:Rt(this.low,this.high,!0)};st.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};st.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};st.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Yt.fromBytes=function(e,n,t){return t?Yt.fromBytesLE(e,n):Yt.fromBytesBE(e,n)};Yt.fromBytesLE=function(e,n){return new Yt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Yt.fromBytesBE=function(e,n){return new Yt(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};Ar=Yt});var q,Ri=it(()=>{q={};q.Offset;q.Table;q.SIZEOF_SHORT=2;q.SIZEOF_INT=4;q.FILE_IDENTIFIER_LENGTH=4;q.SIZE_PREFIX_LENGTH=4;q.Encoding={UTF8_BYTES:1,UTF16_STRING:2};q.int32=new Int32Array(2);q.float32=new Float32Array(q.int32.buffer);q.float64=new Float64Array(q.int32.buffer);q.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;q.Long=function(i,e){this.low=i|0,this.high=e|0};q.Long.create=function(i,e){return i==0&&e==0?q.Long.ZERO:new q.Long(i,e)};q.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};q.Long.prototype.equals=function(i){return this.low==i.low&&this.high==i.high};q.Long.ZERO=new q.Long(0,0);q.Builder=function(i){if(i)var e=i;else var e=1024;this.bb=q.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};q.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};q.Builder.prototype.forceDefaults=function(i){this.force_defaults=i};q.Builder.prototype.dataBuffer=function(){return this.bb};q.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};q.Builder.prototype.prep=function(i,e){i>this.minalign&&(this.minalign=i);for(var n=~(this.bb.capacity()-this.space+e)+1&i-1;this.space<n+i+e;){var t=this.bb.capacity();this.bb=q.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(n)};q.Builder.prototype.pad=function(i){for(var e=0;e<i;e++)this.bb.writeInt8(--this.space,0)};q.Builder.prototype.writeInt8=function(i){this.bb.writeInt8(this.space-=1,i)};q.Builder.prototype.writeInt16=function(i){this.bb.writeInt16(this.space-=2,i)};q.Builder.prototype.writeInt32=function(i){this.bb.writeInt32(this.space-=4,i)};q.Builder.prototype.writeInt64=function(i){this.bb.writeInt64(this.space-=8,i)};q.Builder.prototype.writeFloat32=function(i){this.bb.writeFloat32(this.space-=4,i)};q.Builder.prototype.writeFloat64=function(i){this.bb.writeFloat64(this.space-=8,i)};q.Builder.prototype.addInt8=function(i){this.prep(1,0),this.writeInt8(i)};q.Builder.prototype.addInt16=function(i){this.prep(2,0),this.writeInt16(i)};q.Builder.prototype.addInt32=function(i){this.prep(4,0),this.writeInt32(i)};q.Builder.prototype.addInt64=function(i){this.prep(8,0),this.writeInt64(i)};q.Builder.prototype.addFloat32=function(i){this.prep(4,0),this.writeFloat32(i)};q.Builder.prototype.addFloat64=function(i){this.prep(8,0),this.writeFloat64(i)};q.Builder.prototype.addFieldInt8=function(i,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(i))};q.Builder.prototype.addFieldInt16=function(i,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(i))};q.Builder.prototype.addFieldInt32=function(i,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(i))};q.Builder.prototype.addFieldInt64=function(i,e,n){(this.force_defaults||!e.equals(n))&&(this.addInt64(e),this.slot(i))};q.Builder.prototype.addFieldFloat32=function(i,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(i))};q.Builder.prototype.addFieldFloat64=function(i,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(i))};q.Builder.prototype.addFieldOffset=function(i,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(i))};q.Builder.prototype.addFieldStruct=function(i,e,n){e!=n&&(this.nested(e),this.slot(i))};q.Builder.prototype.nested=function(i){if(i!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};q.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};q.Builder.prototype.slot=function(i){this.vtable[i]=this.offset()};q.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};q.Builder.growByteBuffer=function(i){var e=i.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=e<<1,t=q.ByteBuffer.allocate(n);return t.setPosition(n-e),t.bytes().set(i.bytes(),n-e),t};q.Builder.prototype.addOffset=function(i){this.prep(q.SIZEOF_INT,0),this.writeInt32(this.offset()-i+q.SIZEOF_INT)};q.Builder.prototype.startObject=function(i){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=i;for(var e=0;e<i;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};q.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var i=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var n=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?i-this.vtable[e]:0);var t=2;this.addInt16(i-this.object_start);var r=(n+t)*q.SIZEOF_SHORT;this.addInt16(r);var o=0,s=this.space;t:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(a)){for(var u=q.SIZEOF_SHORT;u<r;u+=q.SIZEOF_SHORT)if(this.bb.readInt16(s+u)!=this.bb.readInt16(a+u))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-i,this.bb.writeInt32(this.space,o-i)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-i,this.offset()-i)),this.isNested=!1,i};q.Builder.prototype.finish=function(i,e,n){var t=n?q.SIZE_PREFIX_LENGTH:0;if(e){var r=e;if(this.prep(this.minalign,q.SIZEOF_INT+q.FILE_IDENTIFIER_LENGTH+t),r.length!=q.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+q.FILE_IDENTIFIER_LENGTH);for(var o=q.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(r.charCodeAt(o))}this.prep(this.minalign,q.SIZEOF_INT+t),this.addOffset(i),t&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};q.Builder.prototype.finishSizePrefixed=function(i,e){this.finish(i,e,!0)};q.Builder.prototype.requiredField=function(i,e){var n=this.bb.capacity()-i,t=n-this.bb.readInt32(n),r=this.bb.readInt16(t+e)!=0;if(!r)throw new Error("FlatBuffers: field "+e+" must be set")};q.Builder.prototype.startVector=function(i,e,n){this.notNested(),this.vector_num_elems=e,this.prep(q.SIZEOF_INT,i*e),this.prep(n,i*e)};q.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};q.Builder.prototype.createString=function(i){if(i instanceof Uint8Array)var e=i;else for(var e=[],n=0;n<i.length;){var t,r=i.charCodeAt(n++);if(r<55296||r>=56320)t=r;else{var o=i.charCodeAt(n++);t=(r<<10)+o+(65536-56623104-56320)}t<128?e.push(t):(t<2048?e.push(t>>6&31|192):(t<65536?e.push(t>>12&15|224):e.push(t>>18&7|240,t>>12&63|128),e.push(t>>6&63|128)),e.push(t&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var n=0,s=this.space,a=this.bb.bytes();n<e.length;n++)a[s++]=e[n];return this.endVector()};q.Builder.prototype.createLong=function(i,e){return q.Long.create(i,e)};q.ByteBuffer=function(i){this.bytes_=i,this.position_=0};q.ByteBuffer.allocate=function(i){return new q.ByteBuffer(new Uint8Array(i))};q.ByteBuffer.prototype.clear=function(){this.position_=0};q.ByteBuffer.prototype.bytes=function(){return this.bytes_};q.ByteBuffer.prototype.position=function(){return this.position_};q.ByteBuffer.prototype.setPosition=function(i){this.position_=i};q.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};q.ByteBuffer.prototype.readInt8=function(i){return this.readUint8(i)<<24>>24};q.ByteBuffer.prototype.readUint8=function(i){return this.bytes_[i]};q.ByteBuffer.prototype.readInt16=function(i){return this.readUint16(i)<<16>>16};q.ByteBuffer.prototype.readUint16=function(i){return this.bytes_[i]|this.bytes_[i+1]<<8};q.ByteBuffer.prototype.readInt32=function(i){return this.bytes_[i]|this.bytes_[i+1]<<8|this.bytes_[i+2]<<16|this.bytes_[i+3]<<24};q.ByteBuffer.prototype.readUint32=function(i){return this.readInt32(i)>>>0};q.ByteBuffer.prototype.readInt64=function(i){return new q.Long(this.readInt32(i),this.readInt32(i+4))};q.ByteBuffer.prototype.readUint64=function(i){return new q.Long(this.readUint32(i),this.readUint32(i+4))};q.ByteBuffer.prototype.readFloat32=function(i){return q.int32[0]=this.readInt32(i),q.float32[0]};q.ByteBuffer.prototype.readFloat64=function(i){return q.int32[q.isLittleEndian?0:1]=this.readInt32(i),q.int32[q.isLittleEndian?1:0]=this.readInt32(i+4),q.float64[0]};q.ByteBuffer.prototype.writeInt8=function(i,e){this.bytes_[i]=e};q.ByteBuffer.prototype.writeUint8=function(i,e){this.bytes_[i]=e};q.ByteBuffer.prototype.writeInt16=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8};q.ByteBuffer.prototype.writeUint16=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8};q.ByteBuffer.prototype.writeInt32=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8,this.bytes_[i+2]=e>>16,this.bytes_[i+3]=e>>24};q.ByteBuffer.prototype.writeUint32=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8,this.bytes_[i+2]=e>>16,this.bytes_[i+3]=e>>24};q.ByteBuffer.prototype.writeInt64=function(i,e){this.writeInt32(i,e.low),this.writeInt32(i+4,e.high)};q.ByteBuffer.prototype.writeUint64=function(i,e){this.writeUint32(i,e.low),this.writeUint32(i+4,e.high)};q.ByteBuffer.prototype.writeFloat32=function(i,e){q.float32[0]=e,this.writeInt32(i,q.int32[0])};q.ByteBuffer.prototype.writeFloat64=function(i,e){q.float64[0]=e,this.writeInt32(i,q.int32[q.isLittleEndian?0:1]),this.writeInt32(i+4,q.int32[q.isLittleEndian?1:0])};q.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+q.SIZEOF_INT+q.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var i="",e=0;e<q.FILE_IDENTIFIER_LENGTH;e++)i+=String.fromCharCode(this.readInt8(this.position_+q.SIZEOF_INT+e));return i};q.ByteBuffer.prototype.__offset=function(i,e){var n=i-this.readInt32(i);return e<this.readInt16(n)?this.readInt16(n+e):0};q.ByteBuffer.prototype.__union=function(i,e){return i.bb_pos=e+this.readInt32(e),i.bb=this,i};q.ByteBuffer.prototype.__string=function(i,e){i+=this.readInt32(i);var n=this.readInt32(i),t="",r=0;if(i+=q.SIZEOF_INT,e===q.Encoding.UTF8_BYTES)return this.bytes_.subarray(i,i+n);for(;r<n;){var o,s=this.readUint8(i+r++);if(s<192)o=s;else{var a=this.readUint8(i+r++);if(s<224)o=(s&31)<<6|a&63;else{var u=this.readUint8(i+r++);if(s<240)o=(s&15)<<12|(a&63)<<6|u&63;else{var c=this.readUint8(i+r++);o=(s&7)<<18|(a&63)<<12|(u&63)<<6|c&63}}}o<65536?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode((o>>10)+55296,(o&1024-1)+56320))}return t};q.ByteBuffer.prototype.__indirect=function(i){return i+this.readInt32(i)};q.ByteBuffer.prototype.__vector=function(i){return i+this.readInt32(i)+q.SIZEOF_INT};q.ByteBuffer.prototype.__vector_len=function(i){return this.readInt32(i+this.readInt32(i))};q.ByteBuffer.prototype.__has_identifier=function(i){if(i.length!=q.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+q.FILE_IDENTIFIER_LENGTH);for(var e=0;e<q.FILE_IDENTIFIER_LENGTH;e++)if(i.charCodeAt(e)!=this.readInt8(this.position_+q.SIZEOF_INT+e))return!1;return!0};q.ByteBuffer.prototype.createLong=function(i,e){return q.Long.create(i,e)}});var gt,bo=it(()=>{"use strict";Ri();(e=>{let i;(t=>{let n;(o=>{let r;(ut=>(ut[ut.UNDEFINED=0]="UNDEFINED",ut[ut.FLOAT=1]="FLOAT",ut[ut.INT=2]="INT",ut[ut.STRING=3]="STRING",ut[ut.TENSOR=4]="TENSOR",ut[ut.GRAPH=5]="GRAPH",ut[ut.FLOATS=6]="FLOATS",ut[ut.INTS=7]="INTS",ut[ut.STRINGS=8]="STRINGS",ut[ut.TENSORS=9]="TENSORS",ut[ut.GRAPHS=10]="GRAPHS",ut[ut.SPARSE_TENSOR=11]="SPARSE_TENSOR",ut[ut.SPARSE_TENSORS=12]="SPARSE_TENSORS"))(r=o.AttributeType||={})})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{let r;(c=>(c[c.UNKNOWN=0]="UNKNOWN",c[c.VALUE=1]="VALUE",c[c.PARAM=2]="PARAM"))(r=o.DimensionValueType||={})})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{let r;(_t=>(_t[_t.UNDEFINED=0]="UNDEFINED",_t[_t.FLOAT=1]="FLOAT",_t[_t.UINT8=2]="UINT8",_t[_t.INT8=3]="INT8",_t[_t.UINT16=4]="UINT16",_t[_t.INT16=5]="INT16",_t[_t.INT32=6]="INT32",_t[_t.INT64=7]="INT64",_t[_t.STRING=8]="STRING",_t[_t.BOOL=9]="BOOL",_t[_t.FLOAT16=10]="FLOAT16",_t[_t.DOUBLE=11]="DOUBLE",_t[_t.UINT32=12]="UINT32",_t[_t.UINT64=13]="UINT64",_t[_t.COMPLEX64=14]="COMPLEX64",_t[_t.COMPLEX128=15]="COMPLEX128",_t[_t.BFLOAT16=16]="BFLOAT16",_t[_t.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",_t[_t.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",_t[_t.FLOAT8E5M2=19]="FLOAT8E5M2",_t[_t.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"))(r=o.TensorDataType||={})})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{let r;(u=>(u[u.Primitive=0]="Primitive",u[u.Fused=1]="Fused"))(r=o.NodeType||={})})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{let r;(v=>(v[v.NONE=0]="NONE",v[v.tensor_type=1]="tensor_type",v[v.sequence_type=2]="sequence_type",v[v.map_type=3]="map_type"))(r=o.TypeInfoValue||={})})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsShape(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsShape(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}dim(a,u){let c=this.bb.__offset(this.bb_pos,4);return c?(u||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}dimLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}static startShape(a){a.startObject(1)}static addDim(a,u){a.addFieldOffset(0,u,0)}static createDimVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startDimVector(a,u){a.startVector(4,u,4)}static endShape(a){return a.endObject()}static createShape(a,u){return r.startShape(a),r.addDim(a,u),r.endShape(a)}}o.Shape=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsDimension(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsDimension(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}value(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}denotation(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}static startDimension(a){a.startObject(2)}static addValue(a,u){a.addFieldOffset(0,u,0)}static addDenotation(a,u){a.addFieldOffset(1,u,0)}static endDimension(a){return a.endObject()}static createDimension(a,u,c){return r.startDimension(a),r.addValue(a,u),r.addDenotation(a,c),r.endDimension(a)}}o.Dimension=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsDimensionValue(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsDimensionValue(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}dimType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):0}dimValue(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}dimParam(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}static startDimensionValue(a){a.startObject(3)}static addDimType(a,u){a.addFieldInt8(0,u,0)}static addDimValue(a,u){a.addFieldInt64(1,u,a.createLong(0,0))}static addDimParam(a,u){a.addFieldOffset(2,u,0)}static endDimensionValue(a){return a.endObject()}static createDimensionValue(a,u,c,v){return r.startDimensionValue(a),r.addDimType(a,u),r.addDimValue(a,c),r.addDimParam(a,v),r.endDimensionValue(a)}}o.DimensionValue=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTensorTypeAndShape(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTensorTypeAndShape(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}elemType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0}shape(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startTensorTypeAndShape(a){a.startObject(2)}static addElemType(a,u){a.addFieldInt32(0,u,0)}static addShape(a,u){a.addFieldOffset(1,u,0)}static endTensorTypeAndShape(a){return a.endObject()}static createTensorTypeAndShape(a,u,c){return r.startTensorTypeAndShape(a),r.addElemType(a,u),r.addShape(a,c),r.endTensorTypeAndShape(a)}}o.TensorTypeAndShape=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsMapType(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsMapType(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}keyType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0}valueType(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startMapType(a){a.startObject(2)}static addKeyType(a,u){a.addFieldInt32(0,u,0)}static addValueType(a,u){a.addFieldOffset(1,u,0)}static endMapType(a){return a.endObject()}static createMapType(a,u,c){return r.startMapType(a),r.addKeyType(a,u),r.addValueType(a,c),r.endMapType(a)}}o.MapType=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSequenceType(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSequenceType(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}elemType(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSequenceType(a){a.startObject(1)}static addElemType(a,u){a.addFieldOffset(0,u,0)}static endSequenceType(a){return a.endObject()}static createSequenceType(a,u){return r.startSequenceType(a),r.addElemType(a,u),r.endSequenceType(a)}}o.SequenceType=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(a,u,c,v){return a.prep(4,12),a.writeInt32(v),a.writeInt32(c),a.writeInt32(u),a.offset()}}o.EdgeEnd=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsNodeEdge(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsNodeEdge(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}nodeIndex(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint32(this.bb_pos+a):0}inputEdges(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+c)+a*12,this.bb):null}inputEdgesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}outputEdges(a,u){let c=this.bb.__offset(this.bb_pos,8);return c?(u||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+c)+a*12,this.bb):null}outputEdgesLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}static startNodeEdge(a){a.startObject(3)}static addNodeIndex(a,u){a.addFieldInt32(0,u,0)}static addInputEdges(a,u){a.addFieldOffset(1,u,0)}static startInputEdgesVector(a,u){a.startVector(12,u,4)}static addOutputEdges(a,u){a.addFieldOffset(2,u,0)}static startOutputEdgesVector(a,u){a.startVector(12,u,4)}static endNodeEdge(a){return a.endObject()}static createNodeEdge(a,u,c,v){return r.startNodeEdge(a),r.addNodeIndex(a,u),r.addInputEdges(a,c),r.addOutputEdges(a,v),r.endNodeEdge(a)}}o.NodeEdge=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsNode(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsNode(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}domain(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}sinceVersion(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0}index(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readUint32(this.bb_pos+a):0}opType(a){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,a):null}type(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.readInt32(this.bb_pos+a):0}executionProviderType(a){let u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,a):null}inputs(a,u){let c=this.bb.__offset(this.bb_pos,20);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}inputsLength(){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__vector_len(this.bb_pos+a):0}outputs(a,u){let c=this.bb.__offset(this.bb_pos,22);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}outputsLength(){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0}attributes(a,u){let c=this.bb.__offset(this.bb_pos,24);return c?(u||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}attributesLength(){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0}inputArgCounts(a){let u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt32(this.bb.__vector(this.bb_pos+u)+a*4):0}inputArgCountsLength(){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0}inputArgCountsArray(){let a=this.bb.__offset(this.bb_pos,26);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}implicitInputs(a,u){let c=this.bb.__offset(this.bb_pos,28);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}implicitInputsLength(){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__vector_len(this.bb_pos+a):0}static startNode(a){a.startObject(13)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addDomain(a,u){a.addFieldOffset(2,u,0)}static addSinceVersion(a,u){a.addFieldInt32(3,u,0)}static addIndex(a,u){a.addFieldInt32(4,u,0)}static addOpType(a,u){a.addFieldOffset(5,u,0)}static addType(a,u){a.addFieldInt32(6,u,0)}static addExecutionProviderType(a,u){a.addFieldOffset(7,u,0)}static addInputs(a,u){a.addFieldOffset(8,u,0)}static createInputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startInputsVector(a,u){a.startVector(4,u,4)}static addOutputs(a,u){a.addFieldOffset(9,u,0)}static createOutputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startOutputsVector(a,u){a.startVector(4,u,4)}static addAttributes(a,u){a.addFieldOffset(10,u,0)}static createAttributesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startAttributesVector(a,u){a.startVector(4,u,4)}static addInputArgCounts(a,u){a.addFieldOffset(11,u,0)}static createInputArgCountsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addInt32(u[c]);return a.endVector()}static startInputArgCountsVector(a,u){a.startVector(4,u,4)}static addImplicitInputs(a,u){a.addFieldOffset(12,u,0)}static createImplicitInputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startImplicitInputsVector(a,u){a.startVector(4,u,4)}static endNode(a){return a.endObject()}static createNode(a,u,c,v,S,E,N,Z,H,rt,at,ot,ut,xt){return r.startNode(a),r.addName(a,u),r.addDocString(a,c),r.addDomain(a,v),r.addSinceVersion(a,S),r.addIndex(a,E),r.addOpType(a,N),r.addType(a,Z),r.addExecutionProviderType(a,H),r.addInputs(a,rt),r.addOutputs(a,at),r.addAttributes(a,ot),r.addInputArgCounts(a,ut),r.addImplicitInputs(a,xt),r.endNode(a)}}o.Node=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsValueInfo(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsValueInfo(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}type(a){let u=this.bb.__offset(this.bb_pos,8);return u?(a||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startValueInfo(a){a.startObject(3)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addType(a,u){a.addFieldOffset(2,u,0)}static endValueInfo(a){return a.endObject()}static createValueInfo(a,u,c,v){return r.startValueInfo(a),r.addName(a,u),r.addDocString(a,c),r.addType(a,v),r.endValueInfo(a)}}o.ValueInfo=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTypeInfo(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTypeInfo(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}denotation(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}valueType(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0}value(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__union(a,this.bb_pos+u):null}static startTypeInfo(a){a.startObject(3)}static addDenotation(a,u){a.addFieldOffset(0,u,0)}static addValueType(a,u){a.addFieldInt8(1,u,0)}static addValue(a,u){a.addFieldOffset(2,u,0)}static endTypeInfo(a){return a.endObject()}static createTypeInfo(a,u,c,v){return r.startTypeInfo(a),r.addDenotation(a,u),r.addValueType(a,c),r.addValue(a,v),r.endTypeInfo(a)}}o.TypeInfo=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsOperatorSetId(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsOperatorSetId(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}domain(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}version(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}static startOperatorSetId(a){a.startObject(2)}static addDomain(a,u){a.addFieldOffset(0,u,0)}static addVersion(a,u){a.addFieldInt64(1,u,a.createLong(0,0))}static endOperatorSetId(a){return a.endObject()}static createOperatorSetId(a,u,c){return r.startOperatorSetId(a),r.addDomain(a,u),r.addVersion(a,c),r.endOperatorSetId(a)}}o.OperatorSetId=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTensor(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTensor(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}dims(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}dimsLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}dataType(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0}rawData(a){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readUint8(this.bb.__vector(this.bb_pos+u)+a):0}rawDataLength(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0}rawDataArray(){let a=this.bb.__offset(this.bb_pos,12);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}stringData(a,u){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}stringDataLength(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0}static startTensor(a){a.startObject(6)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addDims(a,u){a.addFieldOffset(2,u,0)}static createDimsVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startDimsVector(a,u){a.startVector(8,u,8)}static addDataType(a,u){a.addFieldInt32(3,u,0)}static addRawData(a,u){a.addFieldOffset(4,u,0)}static createRawDataVector(a,u){a.startVector(1,u.length,1);for(let c=u.length-1;c>=0;c--)a.addInt8(u[c]);return a.endVector()}static startRawDataVector(a,u){a.startVector(1,u,1)}static addStringData(a,u){a.addFieldOffset(5,u,0)}static createStringDataVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startStringDataVector(a,u){a.startVector(4,u,4)}static endTensor(a){return a.endObject()}static createTensor(a,u,c,v,S,E,N){return r.startTensor(a),r.addName(a,u),r.addDocString(a,c),r.addDims(a,v),r.addDataType(a,S),r.addRawData(a,E),r.addStringData(a,N),r.endTensor(a)}}o.Tensor=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSparseTensor(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSparseTensor(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}values(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}indices(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}dims(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}dimsLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}static startSparseTensor(a){a.startObject(3)}static addValues(a,u){a.addFieldOffset(0,u,0)}static addIndices(a,u){a.addFieldOffset(1,u,0)}static addDims(a,u){a.addFieldOffset(2,u,0)}static createDimsVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startDimsVector(a,u){a.startVector(8,u,8)}static endSparseTensor(a){return a.endObject()}static createSparseTensor(a,u,c,v){return r.startSparseTensor(a),r.addValues(a,u),r.addIndices(a,c),r.addDims(a,v),r.endSparseTensor(a)}}o.SparseTensor=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsAttribute(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsAttribute(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}type(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt32(this.bb_pos+a):0}f(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):0}i(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}s(a){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,a):null}t(a){let u=this.bb.__offset(this.bb_pos,16);return u?(a||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}g(a){let u=this.bb.__offset(this.bb_pos,18);return u?(a||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}floats(a){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readFloat32(this.bb.__vector(this.bb_pos+u)+a*4):0}floatsLength(){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__vector_len(this.bb_pos+a):0}floatsArray(){let a=this.bb.__offset(this.bb_pos,20);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}ints(a){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}intsLength(){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0}strings(a,u){let c=this.bb.__offset(this.bb_pos,24);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}stringsLength(){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0}tensors(a,u){let c=this.bb.__offset(this.bb_pos,26);return c?(u||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}tensorsLength(){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0}graphs(a,u){let c=this.bb.__offset(this.bb_pos,28);return c?(u||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}graphsLength(){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__vector_len(this.bb_pos+a):0}static startAttribute(a){a.startObject(13)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addType(a,u){a.addFieldInt32(2,u,0)}static addF(a,u){a.addFieldFloat32(3,u,0)}static addI(a,u){a.addFieldInt64(4,u,a.createLong(0,0))}static addS(a,u){a.addFieldOffset(5,u,0)}static addT(a,u){a.addFieldOffset(6,u,0)}static addG(a,u){a.addFieldOffset(7,u,0)}static addFloats(a,u){a.addFieldOffset(8,u,0)}static createFloatsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addFloat32(u[c]);return a.endVector()}static startFloatsVector(a,u){a.startVector(4,u,4)}static addInts(a,u){a.addFieldOffset(9,u,0)}static createIntsVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startIntsVector(a,u){a.startVector(8,u,8)}static addStrings(a,u){a.addFieldOffset(10,u,0)}static createStringsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startStringsVector(a,u){a.startVector(4,u,4)}static addTensors(a,u){a.addFieldOffset(11,u,0)}static createTensorsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startTensorsVector(a,u){a.startVector(4,u,4)}static addGraphs(a,u){a.addFieldOffset(12,u,0)}static createGraphsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startGraphsVector(a,u){a.startVector(4,u,4)}static endAttribute(a){return a.endObject()}static createAttribute(a,u,c,v,S,E,N,Z,H,rt,at,ot,ut,xt){return r.startAttribute(a),r.addName(a,u),r.addDocString(a,c),r.addType(a,v),r.addF(a,S),r.addI(a,E),r.addS(a,N),r.addT(a,Z),r.addG(a,H),r.addFloats(a,rt),r.addInts(a,at),r.addStrings(a,ot),r.addTensors(a,ut),r.addGraphs(a,xt),r.endAttribute(a)}}o.Attribute=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsGraph(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsGraph(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}initializers(a,u){let c=this.bb.__offset(this.bb_pos,4);return c?(u||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}initializersLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}nodeArgs(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}nodeArgsLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}nodes(a,u){let c=this.bb.__offset(this.bb_pos,8);return c?(u||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}nodesLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}maxNodeIndex(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint32(this.bb_pos+a):0}nodeEdges(a,u){let c=this.bb.__offset(this.bb_pos,12);return c?(u||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}nodeEdgesLength(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0}inputs(a,u){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}inputsLength(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0}outputs(a,u){let c=this.bb.__offset(this.bb_pos,16);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}outputsLength(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0}sparseInitializers(a,u){let c=this.bb.__offset(this.bb_pos,18);return c?(u||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}sparseInitializersLength(){let a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0}static startGraph(a){a.startObject(8)}static addInitializers(a,u){a.addFieldOffset(0,u,0)}static createInitializersVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startInitializersVector(a,u){a.startVector(4,u,4)}static addNodeArgs(a,u){a.addFieldOffset(1,u,0)}static createNodeArgsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startNodeArgsVector(a,u){a.startVector(4,u,4)}static addNodes(a,u){a.addFieldOffset(2,u,0)}static createNodesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startNodesVector(a,u){a.startVector(4,u,4)}static addMaxNodeIndex(a,u){a.addFieldInt32(3,u,0)}static addNodeEdges(a,u){a.addFieldOffset(4,u,0)}static createNodeEdgesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startNodeEdgesVector(a,u){a.startVector(4,u,4)}static addInputs(a,u){a.addFieldOffset(5,u,0)}static createInputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startInputsVector(a,u){a.startVector(4,u,4)}static addOutputs(a,u){a.addFieldOffset(6,u,0)}static createOutputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startOutputsVector(a,u){a.startVector(4,u,4)}static addSparseInitializers(a,u){a.addFieldOffset(7,u,0)}static createSparseInitializersVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startSparseInitializersVector(a,u){a.startVector(4,u,4)}static endGraph(a){return a.endObject()}static createGraph(a,u,c,v,S,E,N,Z,H){return r.startGraph(a),r.addInitializers(a,u),r.addNodeArgs(a,c),r.addNodes(a,v),r.addMaxNodeIndex(a,S),r.addNodeEdges(a,E),r.addInputs(a,N),r.addOutputs(a,Z),r.addSparseInitializers(a,H),r.endGraph(a)}}o.Graph=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsModel(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsModel(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}irVersion(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}opsetImport(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}opsetImportLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}producerName(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}producerVersion(a){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__string(this.bb_pos+u,a):null}domain(a){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__string(this.bb_pos+u,a):null}modelVersion(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}docString(a){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__string(this.bb_pos+u,a):null}graph(a){let u=this.bb.__offset(this.bb_pos,18);return u?(a||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}graphDocString(a){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,a):null}static startModel(a){a.startObject(9)}static addIrVersion(a,u){a.addFieldInt64(0,u,a.createLong(0,0))}static addOpsetImport(a,u){a.addFieldOffset(1,u,0)}static createOpsetImportVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startOpsetImportVector(a,u){a.startVector(4,u,4)}static addProducerName(a,u){a.addFieldOffset(2,u,0)}static addProducerVersion(a,u){a.addFieldOffset(3,u,0)}static addDomain(a,u){a.addFieldOffset(4,u,0)}static addModelVersion(a,u){a.addFieldInt64(5,u,a.createLong(0,0))}static addDocString(a,u){a.addFieldOffset(6,u,0)}static addGraph(a,u){a.addFieldOffset(7,u,0)}static addGraphDocString(a,u){a.addFieldOffset(8,u,0)}static endModel(a){return a.endObject()}static createModel(a,u,c,v,S,E,N,Z,H,rt){return r.startModel(a),r.addIrVersion(a,u),r.addOpsetImport(a,c),r.addProducerName(a,v),r.addProducerVersion(a,S),r.addDomain(a,E),r.addModelVersion(a,N),r.addDocString(a,Z),r.addGraph(a,H),r.addGraphDocString(a,rt),r.endModel(a)}}o.Model=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsKernelCreateInfos(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsKernelCreateInfos(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}nodeIndices(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint32(this.bb.__vector(this.bb_pos+u)+a*4):0}nodeIndicesLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}nodeIndicesArray(){let a=this.bb.__offset(this.bb_pos,4);return a?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}kernelDefHashes(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}static startKernelCreateInfos(a){a.startObject(2)}static addNodeIndices(a,u){a.addFieldOffset(0,u,0)}static createNodeIndicesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addInt32(u[c]);return a.endVector()}static startNodeIndicesVector(a,u){a.startVector(4,u,4)}static addKernelDefHashes(a,u){a.addFieldOffset(1,u,0)}static createKernelDefHashesVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startKernelDefHashesVector(a,u){a.startVector(8,u,8)}static endKernelCreateInfos(a){return a.endObject()}static createKernelCreateInfos(a,u,c){return r.startKernelCreateInfos(a),r.addNodeIndices(a,u),r.addKernelDefHashes(a,c),r.endKernelCreateInfos(a)}}o.KernelCreateInfos=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSubGraphSessionState(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSubGraphSessionState(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}graphId(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}sessionState(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSubGraphSessionState(a){a.startObject(2)}static addGraphId(a,u){a.addFieldOffset(0,u,0)}static addSessionState(a,u){a.addFieldOffset(1,u,0)}static endSubGraphSessionState(a){let u=a.endObject();return a.requiredField(u,4),u}static createSubGraphSessionState(a,u,c){return r.startSubGraphSessionState(a),r.addGraphId(a,u),r.addSessionState(a,c),r.endSubGraphSessionState(a)}}o.SubGraphSessionState=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSessionState(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSessionState(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}kernels(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}subGraphSessionStates(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}subGraphSessionStatesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}static startSessionState(a){a.startObject(2)}static addKernels(a,u){a.addFieldOffset(0,u,0)}static addSubGraphSessionStates(a,u){a.addFieldOffset(1,u,0)}static createSubGraphSessionStatesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startSubGraphSessionStatesVector(a,u){a.startVector(4,u,4)}static endSessionState(a){return a.endObject()}static createSessionState(a,u,c){return r.startSessionState(a),r.addKernels(a,u),r.addSubGraphSessionStates(a,c),r.endSessionState(a)}}o.SessionState=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={});(e=>{let i;(t=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsInferenceSession(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsInferenceSession(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static bufferHasIdentifier(a){return a.__has_identifier("ORTM")}ortVersion(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}model(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}sessionState(a){let u=this.bb.__offset(this.bb_pos,8);return u?(a||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startInferenceSession(a){a.startObject(3)}static addOrtVersion(a,u){a.addFieldOffset(0,u,0)}static addModel(a,u){a.addFieldOffset(1,u,0)}static addSessionState(a,u){a.addFieldOffset(2,u,0)}static endInferenceSession(a){return a.endObject()}static finishInferenceSessionBuffer(a,u){a.finish(u,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(a,u){a.finish(u,"ORTM",!0)}static createInferenceSession(a,u,c,v){return r.startInferenceSession(a),r.addOrtVersion(a,u),r.addModel(a,c),r.addSessionState(a,v),r.endInferenceSession(a)}}o.InferenceSession=r})(n=t.fbs||={})})(i=e.experimental||={})})(gt||={})});var vl=qt((CT,gl)=>{"use strict";gl.exports=Qb;function Qb(i,e){for(var n=new Array(arguments.length-1),t=0,r=2,o=!0;r<arguments.length;)n[t++]=arguments[r++];return new Promise(function(a,u){n[t]=function(v){if(o)if(o=!1,v)u(v);else{for(var S=new Array(arguments.length-1),E=0;E<S.length;)S[E++]=arguments[E];a.apply(null,S)}};try{i.apply(e||null,n)}catch(c){o&&(o=!1,u(c))}})}});var _l=qt(xl=>{"use strict";var Gi=xl;Gi.length=function(e){var n=e.length;if(!n)return 0;for(var t=0;--n%4>1&&e.charAt(n)==="=";)++t;return Math.ceil(e.length*3)/4-t};var Fn=new Array(64),Tl=new Array(123);for(ar=0;ar<64;)Tl[Fn[ar]=ar<26?ar+65:ar<52?ar+71:ar<62?ar-4:ar-59|43]=ar++;var ar;Gi.encode=function(e,n,t){for(var r=null,o=[],s=0,a=0,u;n<t;){var c=e[n++];switch(a){case 0:o[s++]=Fn[c>>2],u=(c&3)<<4,a=1;break;case 1:o[s++]=Fn[u|c>>4],u=(c&15)<<2,a=2;break;case 2:o[s++]=Fn[u|c>>6],o[s++]=Fn[c&63],a=0;break}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=Fn[u],o[s++]=61,a===1&&(o[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var wl="invalid encoding";Gi.decode=function(e,n,t){for(var r=t,o=0,s,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&o>1)break;if((u=Tl[u])===void 0)throw Error(wl);switch(o){case 0:s=u,o=1;break;case 1:n[t++]=s<<2|(u&48)>>4,s=u,o=2;break;case 2:n[t++]=(s&15)<<4|(u&60)>>2,s=u,o=3;break;case 3:n[t++]=(s&3)<<6|u,o=0;break}}if(o===1)throw Error(wl);return t-r};Gi.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Il=qt(($T,Ol)=>{"use strict";Ol.exports=Ui;function Ui(){this._listeners={}}Ui.prototype.on=function(e,n,t){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:n,ctx:t||this}),this};Ui.prototype.off=function(e,n){if(e===void 0)this._listeners={};else if(n===void 0)this._listeners[e]=[];else for(var t=this._listeners[e],r=0;r<t.length;)t[r].fn===n?t.splice(r,1):++r;return this};Ui.prototype.emit=function(e){var n=this._listeners[e];if(n){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);for(r=0;r<n.length;)n[r].fn.apply(n[r++].ctx,t)}return this}});var Ll=qt((BT,kl)=>{"use strict";kl.exports=Al(Al);function Al(i){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),t=n[3]===128;function r(u,c,v){e[0]=u,c[v]=n[0],c[v+1]=n[1],c[v+2]=n[2],c[v+3]=n[3]}function o(u,c,v){e[0]=u,c[v]=n[3],c[v+1]=n[2],c[v+2]=n[1],c[v+3]=n[0]}i.writeFloatLE=t?r:o,i.writeFloatBE=t?o:r;function s(u,c){return n[0]=u[c],n[1]=u[c+1],n[2]=u[c+2],n[3]=u[c+3],e[0]}function a(u,c){return n[3]=u[c],n[2]=u[c+1],n[1]=u[c+2],n[0]=u[c+3],e[0]}i.readFloatLE=t?s:a,i.readFloatBE=t?a:s}():function(){function e(t,r,o,s){var a=r<0?1:0;if(a&&(r=-r),r===0)t(1/r>0?0:2147483648,o,s);else if(isNaN(r))t(2143289344,o,s);else if(r>34028234663852886e22)t((a<<31|2139095040)>>>0,o,s);else if(r<11754943508222875e-54)t((a<<31|Math.round(r/1401298464324817e-60))>>>0,o,s);else{var u=Math.floor(Math.log(r)/Math.LN2),c=Math.round(r*Math.pow(2,-u)*8388608)&8388607;t((a<<31|u+127<<23|c)>>>0,o,s)}}i.writeFloatLE=e.bind(null,Sl),i.writeFloatBE=e.bind(null,Pl);function n(t,r,o){var s=t(r,o),a=(s>>31)*2+1,u=s>>>23&255,c=s&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}i.readFloatLE=n.bind(null,El),i.readFloatBE=n.bind(null,Dl)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),t=n[7]===128;function r(u,c,v){e[0]=u,c[v]=n[0],c[v+1]=n[1],c[v+2]=n[2],c[v+3]=n[3],c[v+4]=n[4],c[v+5]=n[5],c[v+6]=n[6],c[v+7]=n[7]}function o(u,c,v){e[0]=u,c[v]=n[7],c[v+1]=n[6],c[v+2]=n[5],c[v+3]=n[4],c[v+4]=n[3],c[v+5]=n[2],c[v+6]=n[1],c[v+7]=n[0]}i.writeDoubleLE=t?r:o,i.writeDoubleBE=t?o:r;function s(u,c){return n[0]=u[c],n[1]=u[c+1],n[2]=u[c+2],n[3]=u[c+3],n[4]=u[c+4],n[5]=u[c+5],n[6]=u[c+6],n[7]=u[c+7],e[0]}function a(u,c){return n[7]=u[c],n[6]=u[c+1],n[5]=u[c+2],n[4]=u[c+3],n[3]=u[c+4],n[2]=u[c+5],n[1]=u[c+6],n[0]=u[c+7],e[0]}i.readDoubleLE=t?s:a,i.readDoubleBE=t?a:s}():function(){function e(t,r,o,s,a,u){var c=s<0?1:0;if(c&&(s=-s),s===0)t(0,a,u+r),t(1/s>0?0:2147483648,a,u+o);else if(isNaN(s))t(0,a,u+r),t(2146959360,a,u+o);else if(s>17976931348623157e292)t(0,a,u+r),t((c<<31|2146435072)>>>0,a,u+o);else{var v;if(s<22250738585072014e-324)v=s/5e-324,t(v>>>0,a,u+r),t((c<<31|v/4294967296)>>>0,a,u+o);else{var S=Math.floor(Math.log(s)/Math.LN2);S===1024&&(S=1023),v=s*Math.pow(2,-S),t(v*4503599627370496>>>0,a,u+r),t((c<<31|S+1023<<20|v*1048576&1048575)>>>0,a,u+o)}}}i.writeDoubleLE=e.bind(null,Sl,0,4),i.writeDoubleBE=e.bind(null,Pl,4,0);function n(t,r,o,s,a){var u=t(s,a+r),c=t(s,a+o),v=(c>>31)*2+1,S=c>>>20&2047,E=4294967296*(c&1048575)+u;return S===2047?E?NaN:v*(1/0):S===0?v*5e-324*E:v*Math.pow(2,S-1075)*(E+4503599627370496)}i.readDoubleLE=n.bind(null,El,0,4),i.readDoubleBE=n.bind(null,Dl,4,0)}(),i}function Sl(i,e,n){e[n]=i&255,e[n+1]=i>>>8&255,e[n+2]=i>>>16&255,e[n+3]=i>>>24}function Pl(i,e,n){e[n]=i>>>24,e[n+1]=i>>>16&255,e[n+2]=i>>>8&255,e[n+3]=i&255}function El(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16|i[e+3]<<24)>>>0}function Dl(i,e){return(i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3])>>>0}});var Cl=qt((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}});var $l=qt(Fl=>{"use strict";var ef=Fl;ef.length=function(e){for(var n=0,t=0,r=0;r<e.length;++r)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:(t&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320?(++r,n+=4):n+=3;return n};ef.read=function(e,n,t){var r=t-n;if(r<1)return"";for(var o=null,s=[],a=0,u;n<t;)u=e[n++],u<128?s[a++]=u:u>191&&u<224?s[a++]=(u&31)<<6|e[n++]&63:u>239&&u<365?(u=((u&7)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,s[a++]=55296+(u>>10),s[a++]=56320+(u&1023)):s[a++]=(u&15)<<12|(e[n++]&63)<<6|e[n++]&63,a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};ef.write=function(e,n,t){for(var r=t,o,s,a=0;a<e.length;++a)o=e.charCodeAt(a),o<128?n[t++]=o:o<2048?(n[t++]=o>>6|192,n[t++]=o&63|128):(o&64512)===55296&&((s=e.charCodeAt(a+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++a,n[t++]=o>>18|240,n[t++]=o>>12&63|128,n[t++]=o>>6&63|128,n[t++]=o&63|128):(n[t++]=o>>12|224,n[t++]=o>>6&63|128,n[t++]=o&63|128);return t-r}});var Nl=qt((MT,Bl)=>{"use strict";Bl.exports=tg;function tg(i,e,n){var t=n||8192,r=t>>>1,o=null,s=t;return function(u){if(u<1||u>r)return i(u);s+u>t&&(o=i(t),s=0);var c=e.call(o,s,s+=u);return s&7&&(s=(s|7)+1),c}}});var Rl=qt((RT,Ml)=>{"use strict";Ml.exports=be;var go=Rr();function be(i,e){this.lo=i>>>0,this.hi=e>>>0}var en=be.zero=new be(0,0);en.toNumber=function(){return 0};en.zzEncode=en.zzDecode=function(){return this};en.length=function(){return 1};var eg=be.zeroHash="\0\0\0\0\0\0\0\0";be.fromNumber=function(e){if(e===0)return en;var n=e<0;n&&(e=-e);var t=e>>>0,r=(e-t)/4294967296>>>0;return n&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new be(t,r)};be.from=function(e){if(typeof e=="number")return be.fromNumber(e);if(go.isString(e))if(go.Long)e=go.Long.fromString(e);else return be.fromNumber(parseInt(e,10));return e.low||e.high?new be(e.low>>>0,e.high>>>0):en};be.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var n=~this.lo+1>>>0,t=~this.hi>>>0;return n||(t=t+1>>>0),-(n+t*4294967296)}return this.lo+this.hi*4294967296};be.prototype.toLong=function(e){return go.Long?new go.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Mr=String.prototype.charCodeAt;be.fromHash=function(e){return e===eg?en:new be((Mr.call(e,0)|Mr.call(e,1)<<8|Mr.call(e,2)<<16|Mr.call(e,3)<<24)>>>0,(Mr.call(e,4)|Mr.call(e,5)<<8|Mr.call(e,6)<<16|Mr.call(e,7)<<24)>>>0)};be.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};be.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};be.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};be.prototype.length=function(){var e=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?n===0?e<16384?e<128?1:2:e<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:t<128?9:10}});var Rr=qt(rf=>{"use strict";var wt=rf;wt.asPromise=vl();wt.base64=_l();wt.EventEmitter=Il();wt.float=Ll();wt.inquire=Cl();wt.utf8=$l();wt.pool=Nl();wt.LongBits=Rl();wt.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);wt.global=wt.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||rf;wt.emptyArray=Object.freeze?Object.freeze([]):[];wt.emptyObject=Object.freeze?Object.freeze({}):{};wt.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};wt.isString=function(e){return typeof e=="string"||e instanceof String};wt.isObject=function(e){return e&&typeof e=="object"};wt.isset=wt.isSet=function(e,n){var t=e[n];return t!=null&&e.hasOwnProperty(n)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};wt.Buffer=function(){try{var i=wt.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}}();wt._Buffer_from=null;wt._Buffer_allocUnsafe=null;wt.newBuffer=function(e){return typeof e=="number"?wt.Buffer?wt._Buffer_allocUnsafe(e):new wt.Array(e):wt.Buffer?wt._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};wt.Array=typeof Uint8Array<"u"?Uint8Array:Array;wt.Long=wt.global.dcodeIO&&wt.global.dcodeIO.Long||wt.global.Long||wt.inquire("long");wt.key2Re=/^true|false|0|1$/;wt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;wt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;wt.longToHash=function(e){return e?wt.LongBits.from(e).toHash():wt.LongBits.zeroHash};wt.longFromHash=function(e,n){var t=wt.LongBits.fromHash(e);return wt.Long?wt.Long.fromBits(t.lo,t.hi,n):t.toNumber(!!n)};function Gl(i,e,n){for(var t=Object.keys(e),r=0;r<t.length;++r)(i[t[r]]===void 0||!n)&&(i[t[r]]=e[t[r]]);return i}wt.merge=Gl;wt.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Ul(i){function e(n,t){if(!(this instanceof e))return new e(n,t);Object.defineProperty(this,"message",{get:function(){return n}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&Gl(this,t)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return i},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}wt.newError=Ul;wt.ProtocolError=Ul("ProtocolError");wt.oneOfGetter=function(e){for(var n={},t=0;t<e.length;++t)n[e[t]]=1;return function(){for(var r=Object.keys(this),o=r.length-1;o>-1;--o)if(n[r[o]]===1&&this[r[o]]!==void 0&&this[r[o]]!==null)return r[o]}};wt.oneOfSetter=function(e){return function(n){for(var t=0;t<e.length;++t)e[t]!==n&&delete this[e[t]]}};wt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};wt._configure=function(){var i=wt.Buffer;if(!i){wt._Buffer_from=wt._Buffer_allocUnsafe=null;return}wt._Buffer_from=i.from!==Uint8Array.from&&i.from||function(n,t){return new i(n,t)},wt._Buffer_allocUnsafe=i.allocUnsafe||function(n){return new i(n)}}});var cf=qt((UT,Vl)=>{"use strict";Vl.exports=Nt;var je=Rr(),nf,Wi=je.LongBits,Wl=je.base64,zl=je.utf8;function vo(i,e,n){this.fn=i,this.len=e,this.next=void 0,this.val=n}function af(){}function rg(i){this.head=i.head,this.tail=i.tail,this.len=i.len,this.next=i.states}function Nt(){this.len=0,this.head=new vo(af,0,0),this.tail=this.head,this.states=null}var Hl=function(){return je.Buffer?function(){return(Nt.create=function(){return new nf})()}:function(){return new Nt}};Nt.create=Hl();Nt.alloc=function(e){return new je.Array(e)};je.Array!==Array&&(Nt.alloc=je.pool(Nt.alloc,je.Array.prototype.subarray));Nt.prototype._push=function(e,n,t){return this.tail=this.tail.next=new vo(e,n,t),this.len+=n,this};function sf(i,e,n){e[n]=i&255}function ng(i,e,n){for(;i>127;)e[n++]=i&127|128,i>>>=7;e[n]=i}function uf(i,e){this.len=i,this.next=void 0,this.val=e}uf.prototype=Object.create(vo.prototype);uf.prototype.fn=ng;Nt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new uf((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Nt.prototype.int32=function(e){return e<0?this._push(ff,10,Wi.fromNumber(e)):this.uint32(e)};Nt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function ff(i,e,n){for(;i.hi;)e[n++]=i.lo&127|128,i.lo=(i.lo>>>7|i.hi<<25)>>>0,i.hi>>>=7;for(;i.lo>127;)e[n++]=i.lo&127|128,i.lo=i.lo>>>7;e[n++]=i.lo}Nt.prototype.uint64=function(e){var n=Wi.from(e);return this._push(ff,n.length(),n)};Nt.prototype.int64=Nt.prototype.uint64;Nt.prototype.sint64=function(e){var n=Wi.from(e).zzEncode();return this._push(ff,n.length(),n)};Nt.prototype.bool=function(e){return this._push(sf,1,e?1:0)};function of(i,e,n){e[n]=i&255,e[n+1]=i>>>8&255,e[n+2]=i>>>16&255,e[n+3]=i>>>24}Nt.prototype.fixed32=function(e){return this._push(of,4,e>>>0)};Nt.prototype.sfixed32=Nt.prototype.fixed32;Nt.prototype.fixed64=function(e){var n=Wi.from(e);return this._push(of,4,n.lo)._push(of,4,n.hi)};Nt.prototype.sfixed64=Nt.prototype.fixed64;Nt.prototype.float=function(e){return this._push(je.float.writeFloatLE,4,e)};Nt.prototype.double=function(e){return this._push(je.float.writeDoubleLE,8,e)};var og=je.Array.prototype.set?function(e,n,t){n.set(e,t)}:function(e,n,t){for(var r=0;r<e.length;++r)n[t+r]=e[r]};Nt.prototype.bytes=function(e){var n=e.length>>>0;if(!n)return this._push(sf,1,0);if(je.isString(e)){var t=Nt.alloc(n=Wl.length(e));Wl.decode(e,t,0),e=t}return this.uint32(n)._push(og,n,e)};Nt.prototype.string=function(e){var n=zl.length(e);return n?this.uint32(n)._push(zl.write,n,e):this._push(sf,1,0)};Nt.prototype.fork=function(){return this.states=new rg(this),this.head=this.tail=new vo(af,0,0),this.len=0,this};Nt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new vo(af,0,0),this.len=0),this};Nt.prototype.ldelim=function(){var e=this.head,n=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=e.next,this.tail=n,this.len+=t),this};Nt.prototype.finish=function(){for(var e=this.head.next,n=this.constructor.alloc(this.len),t=0;e;)e.fn(e.val,n,t),t+=e.len,e=e.next;return n};Nt._configure=function(i){nf=i,Nt.create=Hl(),nf._configure()}});var Yl=qt((WT,ql)=>{"use strict";ql.exports=pr;var jl=cf();(pr.prototype=Object.create(jl.prototype)).constructor=pr;var Gr=Rr();function pr(){jl.call(this)}pr._configure=function(){pr.alloc=Gr._Buffer_allocUnsafe,pr.writeBytesBuffer=Gr.Buffer&&Gr.Buffer.prototype instanceof Uint8Array&&Gr.Buffer.prototype.set.name==="set"?function(e,n,t){n.set(e,t)}:function(e,n,t){if(e.copy)e.copy(n,t,0,e.length);else for(var r=0;r<e.length;)n[t++]=e[r++]}};pr.prototype.bytes=function(e){Gr.isString(e)&&(e=Gr._Buffer_from(e,"base64"));var n=e.length>>>0;return this.uint32(n),n&&this._push(pr.writeBytesBuffer,n,e),this};function ig(i,e,n){i.length<40?Gr.utf8.write(i,e,n):e.utf8Write?e.utf8Write(i,n):e.write(i,n)}pr.prototype.string=function(e){var n=Gr.Buffer.byteLength(e);return this.uint32(n),n&&this._push(ig,n,e),this};pr._configure()});var pf=qt((zT,Ql)=>{"use strict";Ql.exports=se;var hr=Rr(),df,Jl=hr.LongBits,ag=hr.utf8;function sr(i,e){return RangeError("index out of range: "+i.pos+" + "+(e||1)+" > "+i.len)}function se(i){this.buf=i,this.pos=0,this.len=i.length}var Kl=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new se(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new se(e);throw Error("illegal buffer")},Zl=function(){return hr.Buffer?function(n){return(se.create=function(r){return hr.Buffer.isBuffer(r)?new df(r):Kl(r)})(n)}:Kl};se.create=Zl();se.prototype._slice=hr.Array.prototype.subarray||hr.Array.prototype.slice;se.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,sr(this,10);return e}}();se.prototype.int32=function(){return this.uint32()|0};se.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function lf(){var i=new Jl(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(i.lo=(i.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(this.buf[this.pos]&127)<<28)>>>0,i.hi=(i.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return i;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw sr(this);if(i.lo=(i.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,i}if(this.len-this.pos>4){for(;e<5;++e)if(i.hi=(i.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return i}else for(;e<5;++e){if(this.pos>=this.len)throw sr(this);if(i.hi=(i.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}se.prototype.bool=function(){return this.uint32()!==0};function zi(i,e){return(i[e-4]|i[e-3]<<8|i[e-2]<<16|i[e-1]<<24)>>>0}se.prototype.fixed32=function(){if(this.pos+4>this.len)throw sr(this,4);return zi(this.buf,this.pos+=4)};se.prototype.sfixed32=function(){if(this.pos+4>this.len)throw sr(this,4);return zi(this.buf,this.pos+=4)|0};function Xl(){if(this.pos+8>this.len)throw sr(this,8);return new Jl(zi(this.buf,this.pos+=4),zi(this.buf,this.pos+=4))}se.prototype.float=function(){if(this.pos+4>this.len)throw sr(this,4);var e=hr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};se.prototype.double=function(){if(this.pos+8>this.len)throw sr(this,4);var e=hr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};se.prototype.bytes=function(){var e=this.uint32(),n=this.pos,t=this.pos+e;if(t>this.len)throw sr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(n,t):n===t?new this.buf.constructor(0):this._slice.call(this.buf,n,t)};se.prototype.string=function(){var e=this.bytes();return ag.read(e,0,e.length)};se.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw sr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw sr(this);while(this.buf[this.pos++]&128);return this};se.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=this.uint32()&7)!==4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this};se._configure=function(i){df=i,se.create=Zl(),df._configure();var e=hr.Long?"toLong":"toNumber";hr.merge(se.prototype,{int64:function(){return lf.call(this)[e](!1)},uint64:function(){return lf.call(this)[e](!0)},sint64:function(){return lf.call(this).zzDecode()[e](!1)},fixed64:function(){return Xl.call(this)[e](!0)},sfixed64:function(){return Xl.call(this)[e](!1)}})}});var nd=qt((HT,rd)=>{"use strict";rd.exports=rn;var ed=pf();(rn.prototype=Object.create(ed.prototype)).constructor=rn;var td=Rr();function rn(i){ed.call(this,i)}rn._configure=function(){td.Buffer&&(rn.prototype._slice=td.Buffer.prototype.slice)};rn.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};rn._configure()});var id=qt((VT,od)=>{"use strict";od.exports=wo;var hf=Rr();(wo.prototype=Object.create(hf.EventEmitter.prototype)).constructor=wo;function wo(i,e,n){if(typeof i!="function")throw TypeError("rpcImpl must be a function");hf.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=!!e,this.responseDelimited=!!n}wo.prototype.rpcCall=function i(e,n,t,r,o){if(!r)throw TypeError("request must be specified");var s=this;if(!o)return hf.asPromise(i,s,e,n,t,r);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(u,c){if(u)return s.emit("error",u,e),o(u);if(c===null){s.end(!0);return}if(!(c instanceof t))try{c=t[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(v){return s.emit("error",v,e),o(v)}return s.emit("data",c,e),o(null,c)})}catch(a){s.emit("error",a,e),setTimeout(function(){o(a)},0);return}};wo.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var sd=qt(ad=>{"use strict";var sg=ad;sg.Service=id()});var fd=qt((qT,ud)=>{"use strict";ud.exports={}});var dd=qt(ld=>{"use strict";var Ne=ld;Ne.build="minimal";Ne.Writer=cf();Ne.BufferWriter=Yl();Ne.Reader=pf();Ne.BufferReader=nd();Ne.util=Rr();Ne.rpc=sd();Ne.roots=fd();Ne.configure=cd;function cd(){Ne.util._configure(),Ne.Writer._configure(Ne.BufferWriter),Ne.Reader._configure(Ne.BufferReader)}cd()});var hd=qt((KT,pd)=>{"use strict";pd.exports=dd()});var $n=qt((XT,md)=>{"use strict";var Kt=hd(),lt=Kt.Reader,ue=Kt.Writer,$=Kt.util,P=Kt.roots.default||(Kt.roots.default={});P.onnx=function(){var i={};return i.Version=function(){var e={},n=Object.create(e);return n[e[0]="_START_VERSION"]=0,n[e[1]="IR_VERSION_2017_10_10"]=1,n[e[2]="IR_VERSION_2017_10_30"]=2,n[e[3]="IR_VERSION_2017_11_3"]=3,n[e[4]="IR_VERSION_2019_1_22"]=4,n[e[5]="IR_VERSION_2019_3_18"]=5,n[e[6]="IR_VERSION_2019_9_19"]=6,n[e[7]="IR_VERSION_2020_5_8"]=7,n[e[8]="IR_VERSION_2021_7_30"]=8,n[e[9]="IR_VERSION"]=9,n}(),i.AttributeProto=function(){function e(n){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.s=$.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.sparseTensor=null,e.prototype.tp=null,e.prototype.floats=$.emptyArray,e.prototype.ints=$.emptyArray,e.prototype.strings=$.emptyArray,e.prototype.tensors=$.emptyArray,e.prototype.graphs=$.emptyArray,e.prototype.sparseTensors=$.emptyArray,e.prototype.typeProtos=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(10).string(t.name),t.f!=null&&Object.hasOwnProperty.call(t,"f")&&r.uint32(21).float(t.f),t.i!=null&&Object.hasOwnProperty.call(t,"i")&&r.uint32(24).int64(t.i),t.s!=null&&Object.hasOwnProperty.call(t,"s")&&r.uint32(34).bytes(t.s),t.t!=null&&Object.hasOwnProperty.call(t,"t")&&P.onnx.TensorProto.encode(t.t,r.uint32(42).fork()).ldelim(),t.g!=null&&Object.hasOwnProperty.call(t,"g")&&P.onnx.GraphProto.encode(t.g,r.uint32(50).fork()).ldelim(),t.floats!=null&&t.floats.length){r.uint32(58).fork();for(var o=0;o<t.floats.length;++o)r.float(t.floats[o]);r.ldelim()}if(t.ints!=null&&t.ints.length){r.uint32(66).fork();for(var o=0;o<t.ints.length;++o)r.int64(t.ints[o]);r.ldelim()}if(t.strings!=null&&t.strings.length)for(var o=0;o<t.strings.length;++o)r.uint32(74).bytes(t.strings[o]);if(t.tensors!=null&&t.tensors.length)for(var o=0;o<t.tensors.length;++o)P.onnx.TensorProto.encode(t.tensors[o],r.uint32(82).fork()).ldelim();if(t.graphs!=null&&t.graphs.length)for(var o=0;o<t.graphs.length;++o)P.onnx.GraphProto.encode(t.graphs[o],r.uint32(90).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(106).string(t.docString),t.tp!=null&&Object.hasOwnProperty.call(t,"tp")&&P.onnx.TypeProto.encode(t.tp,r.uint32(114).fork()).ldelim(),t.typeProtos!=null&&t.typeProtos.length)for(var o=0;o<t.typeProtos.length;++o)P.onnx.TypeProto.encode(t.typeProtos[o],r.uint32(122).fork()).ldelim();if(t.type!=null&&Object.hasOwnProperty.call(t,"type")&&r.uint32(160).int32(t.type),t.refAttrName!=null&&Object.hasOwnProperty.call(t,"refAttrName")&&r.uint32(170).string(t.refAttrName),t.sparseTensor!=null&&Object.hasOwnProperty.call(t,"sparseTensor")&&P.onnx.SparseTensorProto.encode(t.sparseTensor,r.uint32(178).fork()).ldelim(),t.sparseTensors!=null&&t.sparseTensors.length)for(var o=0;o<t.sparseTensors.length;++o)P.onnx.SparseTensorProto.encode(t.sparseTensors[o],r.uint32(186).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.AttributeProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.name=t.string();break}case 21:{s.refAttrName=t.string();break}case 13:{s.docString=t.string();break}case 20:{s.type=t.int32();break}case 2:{s.f=t.float();break}case 3:{s.i=t.int64();break}case 4:{s.s=t.bytes();break}case 5:{s.t=P.onnx.TensorProto.decode(t,t.uint32());break}case 6:{s.g=P.onnx.GraphProto.decode(t,t.uint32());break}case 22:{s.sparseTensor=P.onnx.SparseTensorProto.decode(t,t.uint32());break}case 14:{s.tp=P.onnx.TypeProto.decode(t,t.uint32());break}case 7:{if(s.floats&&s.floats.length||(s.floats=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.floats.push(t.float());else s.floats.push(t.float());break}case 8:{if(s.ints&&s.ints.length||(s.ints=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.ints.push(t.int64());else s.ints.push(t.int64());break}case 9:{s.strings&&s.strings.length||(s.strings=[]),s.strings.push(t.bytes());break}case 10:{s.tensors&&s.tensors.length||(s.tensors=[]),s.tensors.push(P.onnx.TensorProto.decode(t,t.uint32()));break}case 11:{s.graphs&&s.graphs.length||(s.graphs=[]),s.graphs.push(P.onnx.GraphProto.decode(t,t.uint32()));break}case 23:{s.sparseTensors&&s.sparseTensors.length||(s.sparseTensors=[]),s.sparseTensors.push(P.onnx.SparseTensorProto.decode(t,t.uint32()));break}case 15:{s.typeProtos&&s.typeProtos.length||(s.typeProtos=[]),s.typeProtos.push(P.onnx.TypeProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.refAttrName!=null&&t.hasOwnProperty("refAttrName")&&!$.isString(t.refAttrName))return"refAttrName: string expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.type!=null&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(t.f!=null&&t.hasOwnProperty("f")&&typeof t.f!="number")return"f: number expected";if(t.i!=null&&t.hasOwnProperty("i")&&!$.isInteger(t.i)&&!(t.i&&$.isInteger(t.i.low)&&$.isInteger(t.i.high)))return"i: integer|Long expected";if(t.s!=null&&t.hasOwnProperty("s")&&!(t.s&&typeof t.s.length=="number"||$.isString(t.s)))return"s: buffer expected";if(t.t!=null&&t.hasOwnProperty("t")){var r=P.onnx.TensorProto.verify(t.t);if(r)return"t."+r}if(t.g!=null&&t.hasOwnProperty("g")){var r=P.onnx.GraphProto.verify(t.g);if(r)return"g."+r}if(t.sparseTensor!=null&&t.hasOwnProperty("sparseTensor")){var r=P.onnx.SparseTensorProto.verify(t.sparseTensor);if(r)return"sparseTensor."+r}if(t.tp!=null&&t.hasOwnProperty("tp")){var r=P.onnx.TypeProto.verify(t.tp);if(r)return"tp."+r}if(t.floats!=null&&t.hasOwnProperty("floats")){if(!Array.isArray(t.floats))return"floats: array expected";for(var o=0;o<t.floats.length;++o)if(typeof t.floats[o]!="number")return"floats: number[] expected"}if(t.ints!=null&&t.hasOwnProperty("ints")){if(!Array.isArray(t.ints))return"ints: array expected";for(var o=0;o<t.ints.length;++o)if(!$.isInteger(t.ints[o])&&!(t.ints[o]&&$.isInteger(t.ints[o].low)&&$.isInteger(t.ints[o].high)))return"ints: integer|Long[] expected"}if(t.strings!=null&&t.hasOwnProperty("strings")){if(!Array.isArray(t.strings))return"strings: array expected";for(var o=0;o<t.strings.length;++o)if(!(t.strings[o]&&typeof t.strings[o].length=="number"||$.isString(t.strings[o])))return"strings: buffer[] expected"}if(t.tensors!=null&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(var o=0;o<t.tensors.length;++o){var r=P.onnx.TensorProto.verify(t.tensors[o]);if(r)return"tensors."+r}}if(t.graphs!=null&&t.hasOwnProperty("graphs")){if(!Array.isArray(t.graphs))return"graphs: array expected";for(var o=0;o<t.graphs.length;++o){var r=P.onnx.GraphProto.verify(t.graphs[o]);if(r)return"graphs."+r}}if(t.sparseTensors!=null&&t.hasOwnProperty("sparseTensors")){if(!Array.isArray(t.sparseTensors))return"sparseTensors: array expected";for(var o=0;o<t.sparseTensors.length;++o){var r=P.onnx.SparseTensorProto.verify(t.sparseTensors[o]);if(r)return"sparseTensors."+r}}if(t.typeProtos!=null&&t.hasOwnProperty("typeProtos")){if(!Array.isArray(t.typeProtos))return"typeProtos: array expected";for(var o=0;o<t.typeProtos.length;++o){var r=P.onnx.TypeProto.verify(t.typeProtos[o]);if(r)return"typeProtos."+r}}return null},e.fromObject=function(t){if(t instanceof P.onnx.AttributeProto)return t;var r=new P.onnx.AttributeProto;switch(t.name!=null&&(r.name=String(t.name)),t.refAttrName!=null&&(r.refAttrName=String(t.refAttrName)),t.docString!=null&&(r.docString=String(t.docString)),t.type){default:if(typeof t.type=="number"){r.type=t.type;break}break;case"UNDEFINED":case 0:r.type=0;break;case"FLOAT":case 1:r.type=1;break;case"INT":case 2:r.type=2;break;case"STRING":case 3:r.type=3;break;case"TENSOR":case 4:r.type=4;break;case"GRAPH":case 5:r.type=5;break;case"SPARSE_TENSOR":case 11:r.type=11;break;case"TYPE_PROTO":case 13:r.type=13;break;case"FLOATS":case 6:r.type=6;break;case"INTS":case 7:r.type=7;break;case"STRINGS":case 8:r.type=8;break;case"TENSORS":case 9:r.type=9;break;case"GRAPHS":case 10:r.type=10;break;case"SPARSE_TENSORS":case 12:r.type=12;break;case"TYPE_PROTOS":case 14:r.type=14;break}if(t.f!=null&&(r.f=Number(t.f)),t.i!=null&&($.Long?(r.i=$.Long.fromValue(t.i)).unsigned=!1:typeof t.i=="string"?r.i=parseInt(t.i,10):typeof t.i=="number"?r.i=t.i:typeof t.i=="object"&&(r.i=new $.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber())),t.s!=null&&(typeof t.s=="string"?$.base64.decode(t.s,r.s=$.newBuffer($.base64.length(t.s)),0):t.s.length>=0&&(r.s=t.s)),t.t!=null){if(typeof t.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");r.t=P.onnx.TensorProto.fromObject(t.t)}if(t.g!=null){if(typeof t.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");r.g=P.onnx.GraphProto.fromObject(t.g)}if(t.sparseTensor!=null){if(typeof t.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");r.sparseTensor=P.onnx.SparseTensorProto.fromObject(t.sparseTensor)}if(t.tp!=null){if(typeof t.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");r.tp=P.onnx.TypeProto.fromObject(t.tp)}if(t.floats){if(!Array.isArray(t.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");r.floats=[];for(var o=0;o<t.floats.length;++o)r.floats[o]=Number(t.floats[o])}if(t.ints){if(!Array.isArray(t.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");r.ints=[];for(var o=0;o<t.ints.length;++o)$.Long?(r.ints[o]=$.Long.fromValue(t.ints[o])).unsigned=!1:typeof t.ints[o]=="string"?r.ints[o]=parseInt(t.ints[o],10):typeof t.ints[o]=="number"?r.ints[o]=t.ints[o]:typeof t.ints[o]=="object"&&(r.ints[o]=new $.LongBits(t.ints[o].low>>>0,t.ints[o].high>>>0).toNumber())}if(t.strings){if(!Array.isArray(t.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");r.strings=[];for(var o=0;o<t.strings.length;++o)typeof t.strings[o]=="string"?$.base64.decode(t.strings[o],r.strings[o]=$.newBuffer($.base64.length(t.strings[o])),0):t.strings[o].length>=0&&(r.strings[o]=t.strings[o])}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");r.tensors=[];for(var o=0;o<t.tensors.length;++o){if(typeof t.tensors[o]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");r.tensors[o]=P.onnx.TensorProto.fromObject(t.tensors[o])}}if(t.graphs){if(!Array.isArray(t.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");r.graphs=[];for(var o=0;o<t.graphs.length;++o){if(typeof t.graphs[o]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");r.graphs[o]=P.onnx.GraphProto.fromObject(t.graphs[o])}}if(t.sparseTensors){if(!Array.isArray(t.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");r.sparseTensors=[];for(var o=0;o<t.sparseTensors.length;++o){if(typeof t.sparseTensors[o]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");r.sparseTensors[o]=P.onnx.SparseTensorProto.fromObject(t.sparseTensors[o])}}if(t.typeProtos){if(!Array.isArray(t.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");r.typeProtos=[];for(var o=0;o<t.typeProtos.length;++o){if(typeof t.typeProtos[o]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");r.typeProtos[o]=P.onnx.TypeProto.fromObject(t.typeProtos[o])}}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.floats=[],o.ints=[],o.strings=[],o.tensors=[],o.graphs=[],o.typeProtos=[],o.sparseTensors=[]),r.defaults){if(o.name="",o.f=0,$.Long){var s=new $.Long(0,0,!1);o.i=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.i=r.longs===String?"0":0;r.bytes===String?o.s="":(o.s=[],r.bytes!==Array&&(o.s=$.newBuffer(o.s))),o.t=null,o.g=null,o.docString="",o.tp=null,o.type=r.enums===String?"UNDEFINED":0,o.refAttrName="",o.sparseTensor=null}if(t.name!=null&&t.hasOwnProperty("name")&&(o.name=t.name),t.f!=null&&t.hasOwnProperty("f")&&(o.f=r.json&&!isFinite(t.f)?String(t.f):t.f),t.i!=null&&t.hasOwnProperty("i")&&(typeof t.i=="number"?o.i=r.longs===String?String(t.i):t.i:o.i=r.longs===String?$.Long.prototype.toString.call(t.i):r.longs===Number?new $.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber():t.i),t.s!=null&&t.hasOwnProperty("s")&&(o.s=r.bytes===String?$.base64.encode(t.s,0,t.s.length):r.bytes===Array?Array.prototype.slice.call(t.s):t.s),t.t!=null&&t.hasOwnProperty("t")&&(o.t=P.onnx.TensorProto.toObject(t.t,r)),t.g!=null&&t.hasOwnProperty("g")&&(o.g=P.onnx.GraphProto.toObject(t.g,r)),t.floats&&t.floats.length){o.floats=[];for(var a=0;a<t.floats.length;++a)o.floats[a]=r.json&&!isFinite(t.floats[a])?String(t.floats[a]):t.floats[a]}if(t.ints&&t.ints.length){o.ints=[];for(var a=0;a<t.ints.length;++a)typeof t.ints[a]=="number"?o.ints[a]=r.longs===String?String(t.ints[a]):t.ints[a]:o.ints[a]=r.longs===String?$.Long.prototype.toString.call(t.ints[a]):r.longs===Number?new $.LongBits(t.ints[a].low>>>0,t.ints[a].high>>>0).toNumber():t.ints[a]}if(t.strings&&t.strings.length){o.strings=[];for(var a=0;a<t.strings.length;++a)o.strings[a]=r.bytes===String?$.base64.encode(t.strings[a],0,t.strings[a].length):r.bytes===Array?Array.prototype.slice.call(t.strings[a]):t.strings[a]}if(t.tensors&&t.tensors.length){o.tensors=[];for(var a=0;a<t.tensors.length;++a)o.tensors[a]=P.onnx.TensorProto.toObject(t.tensors[a],r)}if(t.graphs&&t.graphs.length){o.graphs=[];for(var a=0;a<t.graphs.length;++a)o.graphs[a]=P.onnx.GraphProto.toObject(t.graphs[a],r)}if(t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),t.tp!=null&&t.hasOwnProperty("tp")&&(o.tp=P.onnx.TypeProto.toObject(t.tp,r)),t.typeProtos&&t.typeProtos.length){o.typeProtos=[];for(var a=0;a<t.typeProtos.length;++a)o.typeProtos[a]=P.onnx.TypeProto.toObject(t.typeProtos[a],r)}if(t.type!=null&&t.hasOwnProperty("type")&&(o.type=r.enums===String?P.onnx.AttributeProto.AttributeType[t.type]===void 0?t.type:P.onnx.AttributeProto.AttributeType[t.type]:t.type),t.refAttrName!=null&&t.hasOwnProperty("refAttrName")&&(o.refAttrName=t.refAttrName),t.sparseTensor!=null&&t.hasOwnProperty("sparseTensor")&&(o.sparseTensor=P.onnx.SparseTensorProto.toObject(t.sparseTensor,r)),t.sparseTensors&&t.sparseTensors.length){o.sparseTensors=[];for(var a=0;a<t.sparseTensors.length;++a)o.sparseTensors[a]=P.onnx.SparseTensorProto.toObject(t.sparseTensors[a],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.AttributeProto"},e.AttributeType=function(){var n={},t=Object.create(n);return t[n[0]="UNDEFINED"]=0,t[n[1]="FLOAT"]=1,t[n[2]="INT"]=2,t[n[3]="STRING"]=3,t[n[4]="TENSOR"]=4,t[n[5]="GRAPH"]=5,t[n[11]="SPARSE_TENSOR"]=11,t[n[13]="TYPE_PROTO"]=13,t[n[6]="FLOATS"]=6,t[n[7]="INTS"]=7,t[n[8]="STRINGS"]=8,t[n[9]="TENSORS"]=9,t[n[10]="GRAPHS"]=10,t[n[12]="SPARSE_TENSORS"]=12,t[n[14]="TYPE_PROTOS"]=14,t}(),e}(),i.ValueInfoProto=function(){function e(n){if(n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=ue.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(10).string(t.name),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&P.onnx.TypeProto.encode(t.type,r.uint32(18).fork()).ldelim(),t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(26).string(t.docString),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.ValueInfoProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.name=t.string();break}case 2:{s.type=P.onnx.TypeProto.decode(t,t.uint32());break}case 3:{s.docString=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.type!=null&&t.hasOwnProperty("type")){var r=P.onnx.TypeProto.verify(t.type);if(r)return"type."+r}return t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString)?"docString: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.ValueInfoProto)return t;var r=new P.onnx.ValueInfoProto;if(t.name!=null&&(r.name=String(t.name)),t.type!=null){if(typeof t.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");r.type=P.onnx.TypeProto.fromObject(t.type)}return t.docString!=null&&(r.docString=String(t.docString)),r},e.toObject=function(t,r){r||(r={});var o={};return r.defaults&&(o.name="",o.type=null,o.docString=""),t.name!=null&&t.hasOwnProperty("name")&&(o.name=t.name),t.type!=null&&t.hasOwnProperty("type")&&(o.type=P.onnx.TypeProto.toObject(t.type,r)),t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.ValueInfoProto"},e}(),i.NodeProto=function(){function e(n){if(this.input=[],this.output=[],this.attribute=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.input=$.emptyArray,e.prototype.output=$.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=$.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.input!=null&&t.input.length)for(var o=0;o<t.input.length;++o)r.uint32(10).string(t.input[o]);if(t.output!=null&&t.output.length)for(var o=0;o<t.output.length;++o)r.uint32(18).string(t.output[o]);if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(26).string(t.name),t.opType!=null&&Object.hasOwnProperty.call(t,"opType")&&r.uint32(34).string(t.opType),t.attribute!=null&&t.attribute.length)for(var o=0;o<t.attribute.length;++o)P.onnx.AttributeProto.encode(t.attribute[o],r.uint32(42).fork()).ldelim();return t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(50).string(t.docString),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(58).string(t.domain),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.NodeProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.input&&s.input.length||(s.input=[]),s.input.push(t.string());break}case 2:{s.output&&s.output.length||(s.output=[]),s.output.push(t.string());break}case 3:{s.name=t.string();break}case 4:{s.opType=t.string();break}case 7:{s.domain=t.string();break}case 5:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(P.onnx.AttributeProto.decode(t,t.uint32()));break}case 6:{s.docString=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var r=0;r<t.input.length;++r)if(!$.isString(t.input[r]))return"input: string[] expected"}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(var r=0;r<t.output.length;++r)if(!$.isString(t.output[r]))return"output: string[] expected"}if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.opType!=null&&t.hasOwnProperty("opType")&&!$.isString(t.opType))return"opType: string expected";if(t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain))return"domain: string expected";if(t.attribute!=null&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(var r=0;r<t.attribute.length;++r){var o=P.onnx.AttributeProto.verify(t.attribute[r]);if(o)return"attribute."+o}}return t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString)?"docString: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.NodeProto)return t;var r=new P.onnx.NodeProto;if(t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.NodeProto.input: array expected");r.input=[];for(var o=0;o<t.input.length;++o)r.input[o]=String(t.input[o])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.NodeProto.output: array expected");r.output=[];for(var o=0;o<t.output.length;++o)r.output[o]=String(t.output[o])}if(t.name!=null&&(r.name=String(t.name)),t.opType!=null&&(r.opType=String(t.opType)),t.domain!=null&&(r.domain=String(t.domain)),t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");r.attribute=[];for(var o=0;o<t.attribute.length;++o){if(typeof t.attribute[o]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");r.attribute[o]=P.onnx.AttributeProto.fromObject(t.attribute[o])}}return t.docString!=null&&(r.docString=String(t.docString)),r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.input=[],o.output=[],o.attribute=[]),r.defaults&&(o.name="",o.opType="",o.docString="",o.domain=""),t.input&&t.input.length){o.input=[];for(var s=0;s<t.input.length;++s)o.input[s]=t.input[s]}if(t.output&&t.output.length){o.output=[];for(var s=0;s<t.output.length;++s)o.output[s]=t.output[s]}if(t.name!=null&&t.hasOwnProperty("name")&&(o.name=t.name),t.opType!=null&&t.hasOwnProperty("opType")&&(o.opType=t.opType),t.attribute&&t.attribute.length){o.attribute=[];for(var s=0;s<t.attribute.length;++s)o.attribute[s]=P.onnx.AttributeProto.toObject(t.attribute[s],r)}return t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),t.domain!=null&&t.hasOwnProperty("domain")&&(o.domain=t.domain),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.NodeProto"},e}(),i.TrainingInfoProto=function(){function e(n){if(this.initializationBinding=[],this.updateBinding=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.initialization=null,e.prototype.algorithm=null,e.prototype.initializationBinding=$.emptyArray,e.prototype.updateBinding=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.initialization!=null&&Object.hasOwnProperty.call(t,"initialization")&&P.onnx.GraphProto.encode(t.initialization,r.uint32(10).fork()).ldelim(),t.algorithm!=null&&Object.hasOwnProperty.call(t,"algorithm")&&P.onnx.GraphProto.encode(t.algorithm,r.uint32(18).fork()).ldelim(),t.initializationBinding!=null&&t.initializationBinding.length)for(var o=0;o<t.initializationBinding.length;++o)P.onnx.StringStringEntryProto.encode(t.initializationBinding[o],r.uint32(26).fork()).ldelim();if(t.updateBinding!=null&&t.updateBinding.length)for(var o=0;o<t.updateBinding.length;++o)P.onnx.StringStringEntryProto.encode(t.updateBinding[o],r.uint32(34).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.TrainingInfoProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.initialization=P.onnx.GraphProto.decode(t,t.uint32());break}case 2:{s.algorithm=P.onnx.GraphProto.decode(t,t.uint32());break}case 3:{s.initializationBinding&&s.initializationBinding.length||(s.initializationBinding=[]),s.initializationBinding.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}case 4:{s.updateBinding&&s.updateBinding.length||(s.updateBinding=[]),s.updateBinding.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.initialization!=null&&t.hasOwnProperty("initialization")){var r=P.onnx.GraphProto.verify(t.initialization);if(r)return"initialization."+r}if(t.algorithm!=null&&t.hasOwnProperty("algorithm")){var r=P.onnx.GraphProto.verify(t.algorithm);if(r)return"algorithm."+r}if(t.initializationBinding!=null&&t.hasOwnProperty("initializationBinding")){if(!Array.isArray(t.initializationBinding))return"initializationBinding: array expected";for(var o=0;o<t.initializationBinding.length;++o){var r=P.onnx.StringStringEntryProto.verify(t.initializationBinding[o]);if(r)return"initializationBinding."+r}}if(t.updateBinding!=null&&t.hasOwnProperty("updateBinding")){if(!Array.isArray(t.updateBinding))return"updateBinding: array expected";for(var o=0;o<t.updateBinding.length;++o){var r=P.onnx.StringStringEntryProto.verify(t.updateBinding[o]);if(r)return"updateBinding."+r}}return null},e.fromObject=function(t){if(t instanceof P.onnx.TrainingInfoProto)return t;var r=new P.onnx.TrainingInfoProto;if(t.initialization!=null){if(typeof t.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");r.initialization=P.onnx.GraphProto.fromObject(t.initialization)}if(t.algorithm!=null){if(typeof t.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");r.algorithm=P.onnx.GraphProto.fromObject(t.algorithm)}if(t.initializationBinding){if(!Array.isArray(t.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");r.initializationBinding=[];for(var o=0;o<t.initializationBinding.length;++o){if(typeof t.initializationBinding[o]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");r.initializationBinding[o]=P.onnx.StringStringEntryProto.fromObject(t.initializationBinding[o])}}if(t.updateBinding){if(!Array.isArray(t.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");r.updateBinding=[];for(var o=0;o<t.updateBinding.length;++o){if(typeof t.updateBinding[o]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");r.updateBinding[o]=P.onnx.StringStringEntryProto.fromObject(t.updateBinding[o])}}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.initializationBinding=[],o.updateBinding=[]),r.defaults&&(o.initialization=null,o.algorithm=null),t.initialization!=null&&t.hasOwnProperty("initialization")&&(o.initialization=P.onnx.GraphProto.toObject(t.initialization,r)),t.algorithm!=null&&t.hasOwnProperty("algorithm")&&(o.algorithm=P.onnx.GraphProto.toObject(t.algorithm,r)),t.initializationBinding&&t.initializationBinding.length){o.initializationBinding=[];for(var s=0;s<t.initializationBinding.length;++s)o.initializationBinding[s]=P.onnx.StringStringEntryProto.toObject(t.initializationBinding[s],r)}if(t.updateBinding&&t.updateBinding.length){o.updateBinding=[];for(var s=0;s<t.updateBinding.length;++s)o.updateBinding[s]=P.onnx.StringStringEntryProto.toObject(t.updateBinding[s],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TrainingInfoProto"},e}(),i.ModelProto=function(){function e(n){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.irVersion=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=$.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=$.emptyArray,e.prototype.trainingInfo=$.emptyArray,e.prototype.functions=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.irVersion!=null&&Object.hasOwnProperty.call(t,"irVersion")&&r.uint32(8).int64(t.irVersion),t.producerName!=null&&Object.hasOwnProperty.call(t,"producerName")&&r.uint32(18).string(t.producerName),t.producerVersion!=null&&Object.hasOwnProperty.call(t,"producerVersion")&&r.uint32(26).string(t.producerVersion),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(34).string(t.domain),t.modelVersion!=null&&Object.hasOwnProperty.call(t,"modelVersion")&&r.uint32(40).int64(t.modelVersion),t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(50).string(t.docString),t.graph!=null&&Object.hasOwnProperty.call(t,"graph")&&P.onnx.GraphProto.encode(t.graph,r.uint32(58).fork()).ldelim(),t.opsetImport!=null&&t.opsetImport.length)for(var o=0;o<t.opsetImport.length;++o)P.onnx.OperatorSetIdProto.encode(t.opsetImport[o],r.uint32(66).fork()).ldelim();if(t.metadataProps!=null&&t.metadataProps.length)for(var o=0;o<t.metadataProps.length;++o)P.onnx.StringStringEntryProto.encode(t.metadataProps[o],r.uint32(114).fork()).ldelim();if(t.trainingInfo!=null&&t.trainingInfo.length)for(var o=0;o<t.trainingInfo.length;++o)P.onnx.TrainingInfoProto.encode(t.trainingInfo[o],r.uint32(162).fork()).ldelim();if(t.functions!=null&&t.functions.length)for(var o=0;o<t.functions.length;++o)P.onnx.FunctionProto.encode(t.functions[o],r.uint32(202).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.ModelProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.irVersion=t.int64();break}case 8:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(P.onnx.OperatorSetIdProto.decode(t,t.uint32()));break}case 2:{s.producerName=t.string();break}case 3:{s.producerVersion=t.string();break}case 4:{s.domain=t.string();break}case 5:{s.modelVersion=t.int64();break}case 6:{s.docString=t.string();break}case 7:{s.graph=P.onnx.GraphProto.decode(t,t.uint32());break}case 14:{s.metadataProps&&s.metadataProps.length||(s.metadataProps=[]),s.metadataProps.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}case 20:{s.trainingInfo&&s.trainingInfo.length||(s.trainingInfo=[]),s.trainingInfo.push(P.onnx.TrainingInfoProto.decode(t,t.uint32()));break}case 25:{s.functions&&s.functions.length||(s.functions=[]),s.functions.push(P.onnx.FunctionProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.irVersion!=null&&t.hasOwnProperty("irVersion")&&!$.isInteger(t.irVersion)&&!(t.irVersion&&$.isInteger(t.irVersion.low)&&$.isInteger(t.irVersion.high)))return"irVersion: integer|Long expected";if(t.opsetImport!=null&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var r=0;r<t.opsetImport.length;++r){var o=P.onnx.OperatorSetIdProto.verify(t.opsetImport[r]);if(o)return"opsetImport."+o}}if(t.producerName!=null&&t.hasOwnProperty("producerName")&&!$.isString(t.producerName))return"producerName: string expected";if(t.producerVersion!=null&&t.hasOwnProperty("producerVersion")&&!$.isString(t.producerVersion))return"producerVersion: string expected";if(t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain))return"domain: string expected";if(t.modelVersion!=null&&t.hasOwnProperty("modelVersion")&&!$.isInteger(t.modelVersion)&&!(t.modelVersion&&$.isInteger(t.modelVersion.low)&&$.isInteger(t.modelVersion.high)))return"modelVersion: integer|Long expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.graph!=null&&t.hasOwnProperty("graph")){var o=P.onnx.GraphProto.verify(t.graph);if(o)return"graph."+o}if(t.metadataProps!=null&&t.hasOwnProperty("metadataProps")){if(!Array.isArray(t.metadataProps))return"metadataProps: array expected";for(var r=0;r<t.metadataProps.length;++r){var o=P.onnx.StringStringEntryProto.verify(t.metadataProps[r]);if(o)return"metadataProps."+o}}if(t.trainingInfo!=null&&t.hasOwnProperty("trainingInfo")){if(!Array.isArray(t.trainingInfo))return"trainingInfo: array expected";for(var r=0;r<t.trainingInfo.length;++r){var o=P.onnx.TrainingInfoProto.verify(t.trainingInfo[r]);if(o)return"trainingInfo."+o}}if(t.functions!=null&&t.hasOwnProperty("functions")){if(!Array.isArray(t.functions))return"functions: array expected";for(var r=0;r<t.functions.length;++r){var o=P.onnx.FunctionProto.verify(t.functions[r]);if(o)return"functions."+o}}return null},e.fromObject=function(t){if(t instanceof P.onnx.ModelProto)return t;var r=new P.onnx.ModelProto;if(t.irVersion!=null&&($.Long?(r.irVersion=$.Long.fromValue(t.irVersion)).unsigned=!1:typeof t.irVersion=="string"?r.irVersion=parseInt(t.irVersion,10):typeof t.irVersion=="number"?r.irVersion=t.irVersion:typeof t.irVersion=="object"&&(r.irVersion=new $.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber())),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");r.opsetImport=[];for(var o=0;o<t.opsetImport.length;++o){if(typeof t.opsetImport[o]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");r.opsetImport[o]=P.onnx.OperatorSetIdProto.fromObject(t.opsetImport[o])}}if(t.producerName!=null&&(r.producerName=String(t.producerName)),t.producerVersion!=null&&(r.producerVersion=String(t.producerVersion)),t.domain!=null&&(r.domain=String(t.domain)),t.modelVersion!=null&&($.Long?(r.modelVersion=$.Long.fromValue(t.modelVersion)).unsigned=!1:typeof t.modelVersion=="string"?r.modelVersion=parseInt(t.modelVersion,10):typeof t.modelVersion=="number"?r.modelVersion=t.modelVersion:typeof t.modelVersion=="object"&&(r.modelVersion=new $.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber())),t.docString!=null&&(r.docString=String(t.docString)),t.graph!=null){if(typeof t.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");r.graph=P.onnx.GraphProto.fromObject(t.graph)}if(t.metadataProps){if(!Array.isArray(t.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");r.metadataProps=[];for(var o=0;o<t.metadataProps.length;++o){if(typeof t.metadataProps[o]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");r.metadataProps[o]=P.onnx.StringStringEntryProto.fromObject(t.metadataProps[o])}}if(t.trainingInfo){if(!Array.isArray(t.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");r.trainingInfo=[];for(var o=0;o<t.trainingInfo.length;++o){if(typeof t.trainingInfo[o]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");r.trainingInfo[o]=P.onnx.TrainingInfoProto.fromObject(t.trainingInfo[o])}}if(t.functions){if(!Array.isArray(t.functions))throw TypeError(".onnx.ModelProto.functions: array expected");r.functions=[];for(var o=0;o<t.functions.length;++o){if(typeof t.functions[o]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");r.functions[o]=P.onnx.FunctionProto.fromObject(t.functions[o])}}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.opsetImport=[],o.metadataProps=[],o.trainingInfo=[],o.functions=[]),r.defaults){if($.Long){var s=new $.Long(0,0,!1);o.irVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.irVersion=r.longs===String?"0":0;if(o.producerName="",o.producerVersion="",o.domain="",$.Long){var s=new $.Long(0,0,!1);o.modelVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.modelVersion=r.longs===String?"0":0;o.docString="",o.graph=null}if(t.irVersion!=null&&t.hasOwnProperty("irVersion")&&(typeof t.irVersion=="number"?o.irVersion=r.longs===String?String(t.irVersion):t.irVersion:o.irVersion=r.longs===String?$.Long.prototype.toString.call(t.irVersion):r.longs===Number?new $.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber():t.irVersion),t.producerName!=null&&t.hasOwnProperty("producerName")&&(o.producerName=t.producerName),t.producerVersion!=null&&t.hasOwnProperty("producerVersion")&&(o.producerVersion=t.producerVersion),t.domain!=null&&t.hasOwnProperty("domain")&&(o.domain=t.domain),t.modelVersion!=null&&t.hasOwnProperty("modelVersion")&&(typeof t.modelVersion=="number"?o.modelVersion=r.longs===String?String(t.modelVersion):t.modelVersion:o.modelVersion=r.longs===String?$.Long.prototype.toString.call(t.modelVersion):r.longs===Number?new $.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber():t.modelVersion),t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),t.graph!=null&&t.hasOwnProperty("graph")&&(o.graph=P.onnx.GraphProto.toObject(t.graph,r)),t.opsetImport&&t.opsetImport.length){o.opsetImport=[];for(var a=0;a<t.opsetImport.length;++a)o.opsetImport[a]=P.onnx.OperatorSetIdProto.toObject(t.opsetImport[a],r)}if(t.metadataProps&&t.metadataProps.length){o.metadataProps=[];for(var a=0;a<t.metadataProps.length;++a)o.metadataProps[a]=P.onnx.StringStringEntryProto.toObject(t.metadataProps[a],r)}if(t.trainingInfo&&t.trainingInfo.length){o.trainingInfo=[];for(var a=0;a<t.trainingInfo.length;++a)o.trainingInfo[a]=P.onnx.TrainingInfoProto.toObject(t.trainingInfo[a],r)}if(t.functions&&t.functions.length){o.functions=[];for(var a=0;a<t.functions.length;++a)o.functions[a]=P.onnx.FunctionProto.toObject(t.functions[a],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.ModelProto"},e}(),i.StringStringEntryProto=function(){function e(n){if(n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=ue.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&r.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&r.uint32(18).string(t.value),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.StringStringEntryProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.key=t.string();break}case 2:{s.value=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.key!=null&&t.hasOwnProperty("key")&&!$.isString(t.key)?"key: string expected":t.value!=null&&t.hasOwnProperty("value")&&!$.isString(t.value)?"value: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.StringStringEntryProto)return t;var r=new P.onnx.StringStringEntryProto;return t.key!=null&&(r.key=String(t.key)),t.value!=null&&(r.value=String(t.value)),r},e.toObject=function(t,r){r||(r={});var o={};return r.defaults&&(o.key="",o.value=""),t.key!=null&&t.hasOwnProperty("key")&&(o.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(o.value=t.value),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.StringStringEntryProto"},e}(),i.TensorAnnotation=function(){function e(n){if(this.quantParameterTensorNames=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.tensorName!=null&&Object.hasOwnProperty.call(t,"tensorName")&&r.uint32(10).string(t.tensorName),t.quantParameterTensorNames!=null&&t.quantParameterTensorNames.length)for(var o=0;o<t.quantParameterTensorNames.length;++o)P.onnx.StringStringEntryProto.encode(t.quantParameterTensorNames[o],r.uint32(18).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.TensorAnnotation;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.tensorName=t.string();break}case 2:{s.quantParameterTensorNames&&s.quantParameterTensorNames.length||(s.quantParameterTensorNames=[]),s.quantParameterTensorNames.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tensorName!=null&&t.hasOwnProperty("tensorName")&&!$.isString(t.tensorName))return"tensorName: string expected";if(t.quantParameterTensorNames!=null&&t.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(t.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var r=0;r<t.quantParameterTensorNames.length;++r){var o=P.onnx.StringStringEntryProto.verify(t.quantParameterTensorNames[r]);if(o)return"quantParameterTensorNames."+o}}return null},e.fromObject=function(t){if(t instanceof P.onnx.TensorAnnotation)return t;var r=new P.onnx.TensorAnnotation;if(t.tensorName!=null&&(r.tensorName=String(t.tensorName)),t.quantParameterTensorNames){if(!Array.isArray(t.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");r.quantParameterTensorNames=[];for(var o=0;o<t.quantParameterTensorNames.length;++o){if(typeof t.quantParameterTensorNames[o]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");r.quantParameterTensorNames[o]=P.onnx.StringStringEntryProto.fromObject(t.quantParameterTensorNames[o])}}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.quantParameterTensorNames=[]),r.defaults&&(o.tensorName=""),t.tensorName!=null&&t.hasOwnProperty("tensorName")&&(o.tensorName=t.tensorName),t.quantParameterTensorNames&&t.quantParameterTensorNames.length){o.quantParameterTensorNames=[];for(var s=0;s<t.quantParameterTensorNames.length;++s)o.quantParameterTensorNames[s]=P.onnx.StringStringEntryProto.toObject(t.quantParameterTensorNames[s],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorAnnotation"},e}(),i.GraphProto=function(){function e(n){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.node=$.emptyArray,e.prototype.name="",e.prototype.initializer=$.emptyArray,e.prototype.sparseInitializer=$.emptyArray,e.prototype.docString="",e.prototype.input=$.emptyArray,e.prototype.output=$.emptyArray,e.prototype.valueInfo=$.emptyArray,e.prototype.quantizationAnnotation=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.node!=null&&t.node.length)for(var o=0;o<t.node.length;++o)P.onnx.NodeProto.encode(t.node[o],r.uint32(10).fork()).ldelim();if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(18).string(t.name),t.initializer!=null&&t.initializer.length)for(var o=0;o<t.initializer.length;++o)P.onnx.TensorProto.encode(t.initializer[o],r.uint32(42).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(82).string(t.docString),t.input!=null&&t.input.length)for(var o=0;o<t.input.length;++o)P.onnx.ValueInfoProto.encode(t.input[o],r.uint32(90).fork()).ldelim();if(t.output!=null&&t.output.length)for(var o=0;o<t.output.length;++o)P.onnx.ValueInfoProto.encode(t.output[o],r.uint32(98).fork()).ldelim();if(t.valueInfo!=null&&t.valueInfo.length)for(var o=0;o<t.valueInfo.length;++o)P.onnx.ValueInfoProto.encode(t.valueInfo[o],r.uint32(106).fork()).ldelim();if(t.quantizationAnnotation!=null&&t.quantizationAnnotation.length)for(var o=0;o<t.quantizationAnnotation.length;++o)P.onnx.TensorAnnotation.encode(t.quantizationAnnotation[o],r.uint32(114).fork()).ldelim();if(t.sparseInitializer!=null&&t.sparseInitializer.length)for(var o=0;o<t.sparseInitializer.length;++o)P.onnx.SparseTensorProto.encode(t.sparseInitializer[o],r.uint32(122).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.GraphProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.node&&s.node.length||(s.node=[]),s.node.push(P.onnx.NodeProto.decode(t,t.uint32()));break}case 2:{s.name=t.string();break}case 5:{s.initializer&&s.initializer.length||(s.initializer=[]),s.initializer.push(P.onnx.TensorProto.decode(t,t.uint32()));break}case 15:{s.sparseInitializer&&s.sparseInitializer.length||(s.sparseInitializer=[]),s.sparseInitializer.push(P.onnx.SparseTensorProto.decode(t,t.uint32()));break}case 10:{s.docString=t.string();break}case 11:{s.input&&s.input.length||(s.input=[]),s.input.push(P.onnx.ValueInfoProto.decode(t,t.uint32()));break}case 12:{s.output&&s.output.length||(s.output=[]),s.output.push(P.onnx.ValueInfoProto.decode(t,t.uint32()));break}case 13:{s.valueInfo&&s.valueInfo.length||(s.valueInfo=[]),s.valueInfo.push(P.onnx.ValueInfoProto.decode(t,t.uint32()));break}case 14:{s.quantizationAnnotation&&s.quantizationAnnotation.length||(s.quantizationAnnotation=[]),s.quantizationAnnotation.push(P.onnx.TensorAnnotation.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.node!=null&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var r=0;r<t.node.length;++r){var o=P.onnx.NodeProto.verify(t.node[r]);if(o)return"node."+o}}if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.initializer!=null&&t.hasOwnProperty("initializer")){if(!Array.isArray(t.initializer))return"initializer: array expected";for(var r=0;r<t.initializer.length;++r){var o=P.onnx.TensorProto.verify(t.initializer[r]);if(o)return"initializer."+o}}if(t.sparseInitializer!=null&&t.hasOwnProperty("sparseInitializer")){if(!Array.isArray(t.sparseInitializer))return"sparseInitializer: array expected";for(var r=0;r<t.sparseInitializer.length;++r){var o=P.onnx.SparseTensorProto.verify(t.sparseInitializer[r]);if(o)return"sparseInitializer."+o}}if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var r=0;r<t.input.length;++r){var o=P.onnx.ValueInfoProto.verify(t.input[r]);if(o)return"input."+o}}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(var r=0;r<t.output.length;++r){var o=P.onnx.ValueInfoProto.verify(t.output[r]);if(o)return"output."+o}}if(t.valueInfo!=null&&t.hasOwnProperty("valueInfo")){if(!Array.isArray(t.valueInfo))return"valueInfo: array expected";for(var r=0;r<t.valueInfo.length;++r){var o=P.onnx.ValueInfoProto.verify(t.valueInfo[r]);if(o)return"valueInfo."+o}}if(t.quantizationAnnotation!=null&&t.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(t.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var r=0;r<t.quantizationAnnotation.length;++r){var o=P.onnx.TensorAnnotation.verify(t.quantizationAnnotation[r]);if(o)return"quantizationAnnotation."+o}}return null},e.fromObject=function(t){if(t instanceof P.onnx.GraphProto)return t;var r=new P.onnx.GraphProto;if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.GraphProto.node: array expected");r.node=[];for(var o=0;o<t.node.length;++o){if(typeof t.node[o]!="object")throw TypeError(".onnx.GraphProto.node: object expected");r.node[o]=P.onnx.NodeProto.fromObject(t.node[o])}}if(t.name!=null&&(r.name=String(t.name)),t.initializer){if(!Array.isArray(t.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");r.initializer=[];for(var o=0;o<t.initializer.length;++o){if(typeof t.initializer[o]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");r.initializer[o]=P.onnx.TensorProto.fromObject(t.initializer[o])}}if(t.sparseInitializer){if(!Array.isArray(t.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");r.sparseInitializer=[];for(var o=0;o<t.sparseInitializer.length;++o){if(typeof t.sparseInitializer[o]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");r.sparseInitializer[o]=P.onnx.SparseTensorProto.fromObject(t.sparseInitializer[o])}}if(t.docString!=null&&(r.docString=String(t.docString)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.GraphProto.input: array expected");r.input=[];for(var o=0;o<t.input.length;++o){if(typeof t.input[o]!="object")throw TypeError(".onnx.GraphProto.input: object expected");r.input[o]=P.onnx.ValueInfoProto.fromObject(t.input[o])}}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.GraphProto.output: array expected");r.output=[];for(var o=0;o<t.output.length;++o){if(typeof t.output[o]!="object")throw TypeError(".onnx.GraphProto.output: object expected");r.output[o]=P.onnx.ValueInfoProto.fromObject(t.output[o])}}if(t.valueInfo){if(!Array.isArray(t.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");r.valueInfo=[];for(var o=0;o<t.valueInfo.length;++o){if(typeof t.valueInfo[o]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");r.valueInfo[o]=P.onnx.ValueInfoProto.fromObject(t.valueInfo[o])}}if(t.quantizationAnnotation){if(!Array.isArray(t.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");r.quantizationAnnotation=[];for(var o=0;o<t.quantizationAnnotation.length;++o){if(typeof t.quantizationAnnotation[o]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");r.quantizationAnnotation[o]=P.onnx.TensorAnnotation.fromObject(t.quantizationAnnotation[o])}}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.node=[],o.initializer=[],o.input=[],o.output=[],o.valueInfo=[],o.quantizationAnnotation=[],o.sparseInitializer=[]),r.defaults&&(o.name="",o.docString=""),t.node&&t.node.length){o.node=[];for(var s=0;s<t.node.length;++s)o.node[s]=P.onnx.NodeProto.toObject(t.node[s],r)}if(t.name!=null&&t.hasOwnProperty("name")&&(o.name=t.name),t.initializer&&t.initializer.length){o.initializer=[];for(var s=0;s<t.initializer.length;++s)o.initializer[s]=P.onnx.TensorProto.toObject(t.initializer[s],r)}if(t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),t.input&&t.input.length){o.input=[];for(var s=0;s<t.input.length;++s)o.input[s]=P.onnx.ValueInfoProto.toObject(t.input[s],r)}if(t.output&&t.output.length){o.output=[];for(var s=0;s<t.output.length;++s)o.output[s]=P.onnx.ValueInfoProto.toObject(t.output[s],r)}if(t.valueInfo&&t.valueInfo.length){o.valueInfo=[];for(var s=0;s<t.valueInfo.length;++s)o.valueInfo[s]=P.onnx.ValueInfoProto.toObject(t.valueInfo[s],r)}if(t.quantizationAnnotation&&t.quantizationAnnotation.length){o.quantizationAnnotation=[];for(var s=0;s<t.quantizationAnnotation.length;++s)o.quantizationAnnotation[s]=P.onnx.TensorAnnotation.toObject(t.quantizationAnnotation[s],r)}if(t.sparseInitializer&&t.sparseInitializer.length){o.sparseInitializer=[];for(var s=0;s<t.sparseInitializer.length;++s)o.sparseInitializer[s]=P.onnx.SparseTensorProto.toObject(t.sparseInitializer[s],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.GraphProto"},e}(),i.TensorProto=function(){function e(n){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.dims=$.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=$.emptyArray,e.prototype.int32Data=$.emptyArray,e.prototype.stringData=$.emptyArray,e.prototype.int64Data=$.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=$.newBuffer([]),e.prototype.externalData=$.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=$.emptyArray,e.prototype.uint64Data=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.dims!=null&&t.dims.length){r.uint32(10).fork();for(var o=0;o<t.dims.length;++o)r.int64(t.dims[o]);r.ldelim()}if(t.dataType!=null&&Object.hasOwnProperty.call(t,"dataType")&&r.uint32(16).int32(t.dataType),t.segment!=null&&Object.hasOwnProperty.call(t,"segment")&&P.onnx.TensorProto.Segment.encode(t.segment,r.uint32(26).fork()).ldelim(),t.floatData!=null&&t.floatData.length){r.uint32(34).fork();for(var o=0;o<t.floatData.length;++o)r.float(t.floatData[o]);r.ldelim()}if(t.int32Data!=null&&t.int32Data.length){r.uint32(42).fork();for(var o=0;o<t.int32Data.length;++o)r.int32(t.int32Data[o]);r.ldelim()}if(t.stringData!=null&&t.stringData.length)for(var o=0;o<t.stringData.length;++o)r.uint32(50).bytes(t.stringData[o]);if(t.int64Data!=null&&t.int64Data.length){r.uint32(58).fork();for(var o=0;o<t.int64Data.length;++o)r.int64(t.int64Data[o]);r.ldelim()}if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(66).string(t.name),t.rawData!=null&&Object.hasOwnProperty.call(t,"rawData")&&r.uint32(74).bytes(t.rawData),t.doubleData!=null&&t.doubleData.length){r.uint32(82).fork();for(var o=0;o<t.doubleData.length;++o)r.double(t.doubleData[o]);r.ldelim()}if(t.uint64Data!=null&&t.uint64Data.length){r.uint32(90).fork();for(var o=0;o<t.uint64Data.length;++o)r.uint64(t.uint64Data[o]);r.ldelim()}if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(98).string(t.docString),t.externalData!=null&&t.externalData.length)for(var o=0;o<t.externalData.length;++o)P.onnx.StringStringEntryProto.encode(t.externalData[o],r.uint32(106).fork()).ldelim();return t.dataLocation!=null&&Object.hasOwnProperty.call(t,"dataLocation")&&r.uint32(112).int32(t.dataLocation),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.TensorProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{if(s.dims&&s.dims.length||(s.dims=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.dims.push(t.int64());else s.dims.push(t.int64());break}case 2:{s.dataType=t.int32();break}case 3:{s.segment=P.onnx.TensorProto.Segment.decode(t,t.uint32());break}case 4:{if(s.floatData&&s.floatData.length||(s.floatData=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.floatData.push(t.float());else s.floatData.push(t.float());break}case 5:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.int32Data.push(t.int32());else s.int32Data.push(t.int32());break}case 6:{s.stringData&&s.stringData.length||(s.stringData=[]),s.stringData.push(t.bytes());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.int64Data.push(t.int64());else s.int64Data.push(t.int64());break}case 8:{s.name=t.string();break}case 12:{s.docString=t.string();break}case 9:{s.rawData=t.bytes();break}case 13:{s.externalData&&s.externalData.length||(s.externalData=[]),s.externalData.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}case 14:{s.dataLocation=t.int32();break}case 10:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.doubleData.push(t.double());else s.doubleData.push(t.double());break}case 11:{if(s.uint64Data&&s.uint64Data.length||(s.uint64Data=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.uint64Data.push(t.uint64());else s.uint64Data.push(t.uint64());break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dims!=null&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var r=0;r<t.dims.length;++r)if(!$.isInteger(t.dims[r])&&!(t.dims[r]&&$.isInteger(t.dims[r].low)&&$.isInteger(t.dims[r].high)))return"dims: integer|Long[] expected"}if(t.dataType!=null&&t.hasOwnProperty("dataType")&&!$.isInteger(t.dataType))return"dataType: integer expected";if(t.segment!=null&&t.hasOwnProperty("segment")){var o=P.onnx.TensorProto.Segment.verify(t.segment);if(o)return"segment."+o}if(t.floatData!=null&&t.hasOwnProperty("floatData")){if(!Array.isArray(t.floatData))return"floatData: array expected";for(var r=0;r<t.floatData.length;++r)if(typeof t.floatData[r]!="number")return"floatData: number[] expected"}if(t.int32Data!=null&&t.hasOwnProperty("int32Data")){if(!Array.isArray(t.int32Data))return"int32Data: array expected";for(var r=0;r<t.int32Data.length;++r)if(!$.isInteger(t.int32Data[r]))return"int32Data: integer[] expected"}if(t.stringData!=null&&t.hasOwnProperty("stringData")){if(!Array.isArray(t.stringData))return"stringData: array expected";for(var r=0;r<t.stringData.length;++r)if(!(t.stringData[r]&&typeof t.stringData[r].length=="number"||$.isString(t.stringData[r])))return"stringData: buffer[] expected"}if(t.int64Data!=null&&t.hasOwnProperty("int64Data")){if(!Array.isArray(t.int64Data))return"int64Data: array expected";for(var r=0;r<t.int64Data.length;++r)if(!$.isInteger(t.int64Data[r])&&!(t.int64Data[r]&&$.isInteger(t.int64Data[r].low)&&$.isInteger(t.int64Data[r].high)))return"int64Data: integer|Long[] expected"}if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.rawData!=null&&t.hasOwnProperty("rawData")&&!(t.rawData&&typeof t.rawData.length=="number"||$.isString(t.rawData)))return"rawData: buffer expected";if(t.externalData!=null&&t.hasOwnProperty("externalData")){if(!Array.isArray(t.externalData))return"externalData: array expected";for(var r=0;r<t.externalData.length;++r){var o=P.onnx.StringStringEntryProto.verify(t.externalData[r]);if(o)return"externalData."+o}}if(t.dataLocation!=null&&t.hasOwnProperty("dataLocation"))switch(t.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(t.doubleData!=null&&t.hasOwnProperty("doubleData")){if(!Array.isArray(t.doubleData))return"doubleData: array expected";for(var r=0;r<t.doubleData.length;++r)if(typeof t.doubleData[r]!="number")return"doubleData: number[] expected"}if(t.uint64Data!=null&&t.hasOwnProperty("uint64Data")){if(!Array.isArray(t.uint64Data))return"uint64Data: array expected";for(var r=0;r<t.uint64Data.length;++r)if(!$.isInteger(t.uint64Data[r])&&!(t.uint64Data[r]&&$.isInteger(t.uint64Data[r].low)&&$.isInteger(t.uint64Data[r].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(t){if(t instanceof P.onnx.TensorProto)return t;var r=new P.onnx.TensorProto;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.TensorProto.dims: array expected");r.dims=[];for(var o=0;o<t.dims.length;++o)$.Long?(r.dims[o]=$.Long.fromValue(t.dims[o])).unsigned=!1:typeof t.dims[o]=="string"?r.dims[o]=parseInt(t.dims[o],10):typeof t.dims[o]=="number"?r.dims[o]=t.dims[o]:typeof t.dims[o]=="object"&&(r.dims[o]=new $.LongBits(t.dims[o].low>>>0,t.dims[o].high>>>0).toNumber())}if(t.dataType!=null&&(r.dataType=t.dataType|0),t.segment!=null){if(typeof t.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");r.segment=P.onnx.TensorProto.Segment.fromObject(t.segment)}if(t.floatData){if(!Array.isArray(t.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");r.floatData=[];for(var o=0;o<t.floatData.length;++o)r.floatData[o]=Number(t.floatData[o])}if(t.int32Data){if(!Array.isArray(t.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");r.int32Data=[];for(var o=0;o<t.int32Data.length;++o)r.int32Data[o]=t.int32Data[o]|0}if(t.stringData){if(!Array.isArray(t.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");r.stringData=[];for(var o=0;o<t.stringData.length;++o)typeof t.stringData[o]=="string"?$.base64.decode(t.stringData[o],r.stringData[o]=$.newBuffer($.base64.length(t.stringData[o])),0):t.stringData[o].length>=0&&(r.stringData[o]=t.stringData[o])}if(t.int64Data){if(!Array.isArray(t.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");r.int64Data=[];for(var o=0;o<t.int64Data.length;++o)$.Long?(r.int64Data[o]=$.Long.fromValue(t.int64Data[o])).unsigned=!1:typeof t.int64Data[o]=="string"?r.int64Data[o]=parseInt(t.int64Data[o],10):typeof t.int64Data[o]=="number"?r.int64Data[o]=t.int64Data[o]:typeof t.int64Data[o]=="object"&&(r.int64Data[o]=new $.LongBits(t.int64Data[o].low>>>0,t.int64Data[o].high>>>0).toNumber())}if(t.name!=null&&(r.name=String(t.name)),t.docString!=null&&(r.docString=String(t.docString)),t.rawData!=null&&(typeof t.rawData=="string"?$.base64.decode(t.rawData,r.rawData=$.newBuffer($.base64.length(t.rawData)),0):t.rawData.length>=0&&(r.rawData=t.rawData)),t.externalData){if(!Array.isArray(t.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");r.externalData=[];for(var o=0;o<t.externalData.length;++o){if(typeof t.externalData[o]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");r.externalData[o]=P.onnx.StringStringEntryProto.fromObject(t.externalData[o])}}switch(t.dataLocation){default:if(typeof t.dataLocation=="number"){r.dataLocation=t.dataLocation;break}break;case"DEFAULT":case 0:r.dataLocation=0;break;case"EXTERNAL":case 1:r.dataLocation=1;break}if(t.doubleData){if(!Array.isArray(t.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");r.doubleData=[];for(var o=0;o<t.doubleData.length;++o)r.doubleData[o]=Number(t.doubleData[o])}if(t.uint64Data){if(!Array.isArray(t.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");r.uint64Data=[];for(var o=0;o<t.uint64Data.length;++o)$.Long?(r.uint64Data[o]=$.Long.fromValue(t.uint64Data[o])).unsigned=!0:typeof t.uint64Data[o]=="string"?r.uint64Data[o]=parseInt(t.uint64Data[o],10):typeof t.uint64Data[o]=="number"?r.uint64Data[o]=t.uint64Data[o]:typeof t.uint64Data[o]=="object"&&(r.uint64Data[o]=new $.LongBits(t.uint64Data[o].low>>>0,t.uint64Data[o].high>>>0).toNumber(!0))}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dims=[],o.floatData=[],o.int32Data=[],o.stringData=[],o.int64Data=[],o.doubleData=[],o.uint64Data=[],o.externalData=[]),r.defaults&&(o.dataType=0,o.segment=null,o.name="",r.bytes===String?o.rawData="":(o.rawData=[],r.bytes!==Array&&(o.rawData=$.newBuffer(o.rawData))),o.docString="",o.dataLocation=r.enums===String?"DEFAULT":0),t.dims&&t.dims.length){o.dims=[];for(var s=0;s<t.dims.length;++s)typeof t.dims[s]=="number"?o.dims[s]=r.longs===String?String(t.dims[s]):t.dims[s]:o.dims[s]=r.longs===String?$.Long.prototype.toString.call(t.dims[s]):r.longs===Number?new $.LongBits(t.dims[s].low>>>0,t.dims[s].high>>>0).toNumber():t.dims[s]}if(t.dataType!=null&&t.hasOwnProperty("dataType")&&(o.dataType=t.dataType),t.segment!=null&&t.hasOwnProperty("segment")&&(o.segment=P.onnx.TensorProto.Segment.toObject(t.segment,r)),t.floatData&&t.floatData.length){o.floatData=[];for(var s=0;s<t.floatData.length;++s)o.floatData[s]=r.json&&!isFinite(t.floatData[s])?String(t.floatData[s]):t.floatData[s]}if(t.int32Data&&t.int32Data.length){o.int32Data=[];for(var s=0;s<t.int32Data.length;++s)o.int32Data[s]=t.int32Data[s]}if(t.stringData&&t.stringData.length){o.stringData=[];for(var s=0;s<t.stringData.length;++s)o.stringData[s]=r.bytes===String?$.base64.encode(t.stringData[s],0,t.stringData[s].length):r.bytes===Array?Array.prototype.slice.call(t.stringData[s]):t.stringData[s]}if(t.int64Data&&t.int64Data.length){o.int64Data=[];for(var s=0;s<t.int64Data.length;++s)typeof t.int64Data[s]=="number"?o.int64Data[s]=r.longs===String?String(t.int64Data[s]):t.int64Data[s]:o.int64Data[s]=r.longs===String?$.Long.prototype.toString.call(t.int64Data[s]):r.longs===Number?new $.LongBits(t.int64Data[s].low>>>0,t.int64Data[s].high>>>0).toNumber():t.int64Data[s]}if(t.name!=null&&t.hasOwnProperty("name")&&(o.name=t.name),t.rawData!=null&&t.hasOwnProperty("rawData")&&(o.rawData=r.bytes===String?$.base64.encode(t.rawData,0,t.rawData.length):r.bytes===Array?Array.prototype.slice.call(t.rawData):t.rawData),t.doubleData&&t.doubleData.length){o.doubleData=[];for(var s=0;s<t.doubleData.length;++s)o.doubleData[s]=r.json&&!isFinite(t.doubleData[s])?String(t.doubleData[s]):t.doubleData[s]}if(t.uint64Data&&t.uint64Data.length){o.uint64Data=[];for(var s=0;s<t.uint64Data.length;++s)typeof t.uint64Data[s]=="number"?o.uint64Data[s]=r.longs===String?String(t.uint64Data[s]):t.uint64Data[s]:o.uint64Data[s]=r.longs===String?$.Long.prototype.toString.call(t.uint64Data[s]):r.longs===Number?new $.LongBits(t.uint64Data[s].low>>>0,t.uint64Data[s].high>>>0).toNumber(!0):t.uint64Data[s]}if(t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),t.externalData&&t.externalData.length){o.externalData=[];for(var s=0;s<t.externalData.length;++s)o.externalData[s]=P.onnx.StringStringEntryProto.toObject(t.externalData[s],r)}return t.dataLocation!=null&&t.hasOwnProperty("dataLocation")&&(o.dataLocation=r.enums===String?P.onnx.TensorProto.DataLocation[t.dataLocation]===void 0?t.dataLocation:P.onnx.TensorProto.DataLocation[t.dataLocation]:t.dataLocation),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorProto"},e.DataType=function(){var n={},t=Object.create(n);return t[n[0]="UNDEFINED"]=0,t[n[1]="FLOAT"]=1,t[n[2]="UINT8"]=2,t[n[3]="INT8"]=3,t[n[4]="UINT16"]=4,t[n[5]="INT16"]=5,t[n[6]="INT32"]=6,t[n[7]="INT64"]=7,t[n[8]="STRING"]=8,t[n[9]="BOOL"]=9,t[n[10]="FLOAT16"]=10,t[n[11]="DOUBLE"]=11,t[n[12]="UINT32"]=12,t[n[13]="UINT64"]=13,t[n[14]="COMPLEX64"]=14,t[n[15]="COMPLEX128"]=15,t[n[16]="BFLOAT16"]=16,t[n[17]="FLOAT8E4M3FN"]=17,t[n[18]="FLOAT8E4M3FNUZ"]=18,t[n[19]="FLOAT8E5M2"]=19,t[n[20]="FLOAT8E5M2FNUZ"]=20,t}(),e.Segment=function(){function n(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)t[r[o]]!=null&&(this[r[o]]=t[r[o]])}return n.prototype.begin=$.Long?$.Long.fromBits(0,0,!1):0,n.prototype.end=$.Long?$.Long.fromBits(0,0,!1):0,n.create=function(r){return new n(r)},n.encode=function(r,o){return o||(o=ue.create()),r.begin!=null&&Object.hasOwnProperty.call(r,"begin")&&o.uint32(8).int64(r.begin),r.end!=null&&Object.hasOwnProperty.call(r,"end")&&o.uint32(16).int64(r.end),o},n.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},n.decode=function(r,o){r instanceof lt||(r=lt.create(r));for(var s=o===void 0?r.len:r.pos+o,a=new P.onnx.TensorProto.Segment;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{a.begin=r.int64();break}case 2:{a.end=r.int64();break}default:r.skipType(u&7);break}}return a},n.decodeDelimited=function(r){return r instanceof lt||(r=new lt(r)),this.decode(r,r.uint32())},n.verify=function(r){return typeof r!="object"||r===null?"object expected":r.begin!=null&&r.hasOwnProperty("begin")&&!$.isInteger(r.begin)&&!(r.begin&&$.isInteger(r.begin.low)&&$.isInteger(r.begin.high))?"begin: integer|Long expected":r.end!=null&&r.hasOwnProperty("end")&&!$.isInteger(r.end)&&!(r.end&&$.isInteger(r.end.low)&&$.isInteger(r.end.high))?"end: integer|Long expected":null},n.fromObject=function(r){if(r instanceof P.onnx.TensorProto.Segment)return r;var o=new P.onnx.TensorProto.Segment;return r.begin!=null&&($.Long?(o.begin=$.Long.fromValue(r.begin)).unsigned=!1:typeof r.begin=="string"?o.begin=parseInt(r.begin,10):typeof r.begin=="number"?o.begin=r.begin:typeof r.begin=="object"&&(o.begin=new $.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber())),r.end!=null&&($.Long?(o.end=$.Long.fromValue(r.end)).unsigned=!1:typeof r.end=="string"?o.end=parseInt(r.end,10):typeof r.end=="number"?o.end=r.end:typeof r.end=="object"&&(o.end=new $.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber())),o},n.toObject=function(r,o){o||(o={});var s={};if(o.defaults){if($.Long){var a=new $.Long(0,0,!1);s.begin=o.longs===String?a.toString():o.longs===Number?a.toNumber():a}else s.begin=o.longs===String?"0":0;if($.Long){var a=new $.Long(0,0,!1);s.end=o.longs===String?a.toString():o.longs===Number?a.toNumber():a}else s.end=o.longs===String?"0":0}return r.begin!=null&&r.hasOwnProperty("begin")&&(typeof r.begin=="number"?s.begin=o.longs===String?String(r.begin):r.begin:s.begin=o.longs===String?$.Long.prototype.toString.call(r.begin):o.longs===Number?new $.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber():r.begin),r.end!=null&&r.hasOwnProperty("end")&&(typeof r.end=="number"?s.end=o.longs===String?String(r.end):r.end:s.end=o.longs===String?$.Long.prototype.toString.call(r.end):o.longs===Number?new $.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber():r.end),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},n.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TensorProto.Segment"},n}(),e.DataLocation=function(){var n={},t=Object.create(n);return t[n[0]="DEFAULT"]=0,t[n[1]="EXTERNAL"]=1,t}(),e}(),i.SparseTensorProto=function(){function e(n){if(this.dims=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.values=null,e.prototype.indices=null,e.prototype.dims=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.values!=null&&Object.hasOwnProperty.call(t,"values")&&P.onnx.TensorProto.encode(t.values,r.uint32(10).fork()).ldelim(),t.indices!=null&&Object.hasOwnProperty.call(t,"indices")&&P.onnx.TensorProto.encode(t.indices,r.uint32(18).fork()).ldelim(),t.dims!=null&&t.dims.length){r.uint32(26).fork();for(var o=0;o<t.dims.length;++o)r.int64(t.dims[o]);r.ldelim()}return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.SparseTensorProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.values=P.onnx.TensorProto.decode(t,t.uint32());break}case 2:{s.indices=P.onnx.TensorProto.decode(t,t.uint32());break}case 3:{if(s.dims&&s.dims.length||(s.dims=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.dims.push(t.int64());else s.dims.push(t.int64());break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.values!=null&&t.hasOwnProperty("values")){var r=P.onnx.TensorProto.verify(t.values);if(r)return"values."+r}if(t.indices!=null&&t.hasOwnProperty("indices")){var r=P.onnx.TensorProto.verify(t.indices);if(r)return"indices."+r}if(t.dims!=null&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var o=0;o<t.dims.length;++o)if(!$.isInteger(t.dims[o])&&!(t.dims[o]&&$.isInteger(t.dims[o].low)&&$.isInteger(t.dims[o].high)))return"dims: integer|Long[] expected"}return null},e.fromObject=function(t){if(t instanceof P.onnx.SparseTensorProto)return t;var r=new P.onnx.SparseTensorProto;if(t.values!=null){if(typeof t.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");r.values=P.onnx.TensorProto.fromObject(t.values)}if(t.indices!=null){if(typeof t.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");r.indices=P.onnx.TensorProto.fromObject(t.indices)}if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");r.dims=[];for(var o=0;o<t.dims.length;++o)$.Long?(r.dims[o]=$.Long.fromValue(t.dims[o])).unsigned=!1:typeof t.dims[o]=="string"?r.dims[o]=parseInt(t.dims[o],10):typeof t.dims[o]=="number"?r.dims[o]=t.dims[o]:typeof t.dims[o]=="object"&&(r.dims[o]=new $.LongBits(t.dims[o].low>>>0,t.dims[o].high>>>0).toNumber())}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dims=[]),r.defaults&&(o.values=null,o.indices=null),t.values!=null&&t.hasOwnProperty("values")&&(o.values=P.onnx.TensorProto.toObject(t.values,r)),t.indices!=null&&t.hasOwnProperty("indices")&&(o.indices=P.onnx.TensorProto.toObject(t.indices,r)),t.dims&&t.dims.length){o.dims=[];for(var s=0;s<t.dims.length;++s)typeof t.dims[s]=="number"?o.dims[s]=r.longs===String?String(t.dims[s]):t.dims[s]:o.dims[s]=r.longs===String?$.Long.prototype.toString.call(t.dims[s]):r.longs===Number?new $.LongBits(t.dims[s].low>>>0,t.dims[s].high>>>0).toNumber():t.dims[s]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.SparseTensorProto"},e}(),i.TensorShapeProto=function(){function e(n){if(this.dim=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.dim=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.dim!=null&&t.dim.length)for(var o=0;o<t.dim.length;++o)P.onnx.TensorShapeProto.Dimension.encode(t.dim[o],r.uint32(10).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.TensorShapeProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.dim&&s.dim.length||(s.dim=[]),s.dim.push(P.onnx.TensorShapeProto.Dimension.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dim!=null&&t.hasOwnProperty("dim")){if(!Array.isArray(t.dim))return"dim: array expected";for(var r=0;r<t.dim.length;++r){var o=P.onnx.TensorShapeProto.Dimension.verify(t.dim[r]);if(o)return"dim."+o}}return null},e.fromObject=function(t){if(t instanceof P.onnx.TensorShapeProto)return t;var r=new P.onnx.TensorShapeProto;if(t.dim){if(!Array.isArray(t.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");r.dim=[];for(var o=0;o<t.dim.length;++o){if(typeof t.dim[o]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");r.dim[o]=P.onnx.TensorShapeProto.Dimension.fromObject(t.dim[o])}}return r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dim=[]),t.dim&&t.dim.length){o.dim=[];for(var s=0;s<t.dim.length;++s)o.dim[s]=P.onnx.TensorShapeProto.Dimension.toObject(t.dim[s],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorShapeProto"},e.Dimension=function(){function n(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}n.prototype.dimValue=null,n.prototype.dimParam=null,n.prototype.denotation="";var t;return Object.defineProperty(n.prototype,"value",{get:$.oneOfGetter(t=["dimValue","dimParam"]),set:$.oneOfSetter(t)}),n.create=function(o){return new n(o)},n.encode=function(o,s){return s||(s=ue.create()),o.dimValue!=null&&Object.hasOwnProperty.call(o,"dimValue")&&s.uint32(8).int64(o.dimValue),o.dimParam!=null&&Object.hasOwnProperty.call(o,"dimParam")&&s.uint32(18).string(o.dimParam),o.denotation!=null&&Object.hasOwnProperty.call(o,"denotation")&&s.uint32(26).string(o.denotation),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s){o instanceof lt||(o=lt.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new P.onnx.TensorShapeProto.Dimension;o.pos<a;){var c=o.uint32();switch(c>>>3){case 1:{u.dimValue=o.int64();break}case 2:{u.dimParam=o.string();break}case 3:{u.denotation=o.string();break}default:o.skipType(c&7);break}}return u},n.decodeDelimited=function(o){return o instanceof lt||(o=new lt(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";var s={};if(o.dimValue!=null&&o.hasOwnProperty("dimValue")&&(s.value=1,!$.isInteger(o.dimValue)&&!(o.dimValue&&$.isInteger(o.dimValue.low)&&$.isInteger(o.dimValue.high))))return"dimValue: integer|Long expected";if(o.dimParam!=null&&o.hasOwnProperty("dimParam")){if(s.value===1)return"value: multiple values";if(s.value=1,!$.isString(o.dimParam))return"dimParam: string expected"}return o.denotation!=null&&o.hasOwnProperty("denotation")&&!$.isString(o.denotation)?"denotation: string expected":null},n.fromObject=function(o){if(o instanceof P.onnx.TensorShapeProto.Dimension)return o;var s=new P.onnx.TensorShapeProto.Dimension;return o.dimValue!=null&&($.Long?(s.dimValue=$.Long.fromValue(o.dimValue)).unsigned=!1:typeof o.dimValue=="string"?s.dimValue=parseInt(o.dimValue,10):typeof o.dimValue=="number"?s.dimValue=o.dimValue:typeof o.dimValue=="object"&&(s.dimValue=new $.LongBits(o.dimValue.low>>>0,o.dimValue.high>>>0).toNumber())),o.dimParam!=null&&(s.dimParam=String(o.dimParam)),o.denotation!=null&&(s.denotation=String(o.denotation)),s},n.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.denotation=""),o.dimValue!=null&&o.hasOwnProperty("dimValue")&&(typeof o.dimValue=="number"?a.dimValue=s.longs===String?String(o.dimValue):o.dimValue:a.dimValue=s.longs===String?$.Long.prototype.toString.call(o.dimValue):s.longs===Number?new $.LongBits(o.dimValue.low>>>0,o.dimValue.high>>>0).toNumber():o.dimValue,s.oneofs&&(a.value="dimValue")),o.dimParam!=null&&o.hasOwnProperty("dimParam")&&(a.dimParam=o.dimParam,s.oneofs&&(a.value="dimParam")),o.denotation!=null&&o.hasOwnProperty("denotation")&&(a.denotation=o.denotation),a},n.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TensorShapeProto.Dimension"},n}(),e}(),i.TypeProto=function(){function e(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)t[r[o]]!=null&&(this[r[o]]=t[r[o]])}e.prototype.tensorType=null,e.prototype.sequenceType=null,e.prototype.mapType=null,e.prototype.optionalType=null,e.prototype.sparseTensorType=null,e.prototype.denotation="";var n;return Object.defineProperty(e.prototype,"value",{get:$.oneOfGetter(n=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:$.oneOfSetter(n)}),e.create=function(r){return new e(r)},e.encode=function(r,o){return o||(o=ue.create()),r.tensorType!=null&&Object.hasOwnProperty.call(r,"tensorType")&&P.onnx.TypeProto.Tensor.encode(r.tensorType,o.uint32(10).fork()).ldelim(),r.sequenceType!=null&&Object.hasOwnProperty.call(r,"sequenceType")&&P.onnx.TypeProto.Sequence.encode(r.sequenceType,o.uint32(34).fork()).ldelim(),r.mapType!=null&&Object.hasOwnProperty.call(r,"mapType")&&P.onnx.TypeProto.Map.encode(r.mapType,o.uint32(42).fork()).ldelim(),r.denotation!=null&&Object.hasOwnProperty.call(r,"denotation")&&o.uint32(50).string(r.denotation),r.sparseTensorType!=null&&Object.hasOwnProperty.call(r,"sparseTensorType")&&P.onnx.TypeProto.SparseTensor.encode(r.sparseTensorType,o.uint32(66).fork()).ldelim(),r.optionalType!=null&&Object.hasOwnProperty.call(r,"optionalType")&&P.onnx.TypeProto.Optional.encode(r.optionalType,o.uint32(74).fork()).ldelim(),o},e.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},e.decode=function(r,o){r instanceof lt||(r=lt.create(r));for(var s=o===void 0?r.len:r.pos+o,a=new P.onnx.TypeProto;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{a.tensorType=P.onnx.TypeProto.Tensor.decode(r,r.uint32());break}case 4:{a.sequenceType=P.onnx.TypeProto.Sequence.decode(r,r.uint32());break}case 5:{a.mapType=P.onnx.TypeProto.Map.decode(r,r.uint32());break}case 9:{a.optionalType=P.onnx.TypeProto.Optional.decode(r,r.uint32());break}case 8:{a.sparseTensorType=P.onnx.TypeProto.SparseTensor.decode(r,r.uint32());break}case 6:{a.denotation=r.string();break}default:r.skipType(u&7);break}}return a},e.decodeDelimited=function(r){return r instanceof lt||(r=new lt(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var o={};if(r.tensorType!=null&&r.hasOwnProperty("tensorType")){o.value=1;{var s=P.onnx.TypeProto.Tensor.verify(r.tensorType);if(s)return"tensorType."+s}}if(r.sequenceType!=null&&r.hasOwnProperty("sequenceType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=P.onnx.TypeProto.Sequence.verify(r.sequenceType);if(s)return"sequenceType."+s}}if(r.mapType!=null&&r.hasOwnProperty("mapType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=P.onnx.TypeProto.Map.verify(r.mapType);if(s)return"mapType."+s}}if(r.optionalType!=null&&r.hasOwnProperty("optionalType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=P.onnx.TypeProto.Optional.verify(r.optionalType);if(s)return"optionalType."+s}}if(r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=P.onnx.TypeProto.SparseTensor.verify(r.sparseTensorType);if(s)return"sparseTensorType."+s}}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!$.isString(r.denotation)?"denotation: string expected":null},e.fromObject=function(r){if(r instanceof P.onnx.TypeProto)return r;var o=new P.onnx.TypeProto;if(r.tensorType!=null){if(typeof r.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");o.tensorType=P.onnx.TypeProto.Tensor.fromObject(r.tensorType)}if(r.sequenceType!=null){if(typeof r.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");o.sequenceType=P.onnx.TypeProto.Sequence.fromObject(r.sequenceType)}if(r.mapType!=null){if(typeof r.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");o.mapType=P.onnx.TypeProto.Map.fromObject(r.mapType)}if(r.optionalType!=null){if(typeof r.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");o.optionalType=P.onnx.TypeProto.Optional.fromObject(r.optionalType)}if(r.sparseTensorType!=null){if(typeof r.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");o.sparseTensorType=P.onnx.TypeProto.SparseTensor.fromObject(r.sparseTensorType)}return r.denotation!=null&&(o.denotation=String(r.denotation)),o},e.toObject=function(r,o){o||(o={});var s={};return o.defaults&&(s.denotation=""),r.tensorType!=null&&r.hasOwnProperty("tensorType")&&(s.tensorType=P.onnx.TypeProto.Tensor.toObject(r.tensorType,o),o.oneofs&&(s.value="tensorType")),r.sequenceType!=null&&r.hasOwnProperty("sequenceType")&&(s.sequenceType=P.onnx.TypeProto.Sequence.toObject(r.sequenceType,o),o.oneofs&&(s.value="sequenceType")),r.mapType!=null&&r.hasOwnProperty("mapType")&&(s.mapType=P.onnx.TypeProto.Map.toObject(r.mapType,o),o.oneofs&&(s.value="mapType")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")&&(s.sparseTensorType=P.onnx.TypeProto.SparseTensor.toObject(r.sparseTensorType,o),o.oneofs&&(s.value="sparseTensorType")),r.optionalType!=null&&r.hasOwnProperty("optionalType")&&(s.optionalType=P.onnx.TypeProto.Optional.toObject(r.optionalType,o),o.oneofs&&(s.value="optionalType")),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto"},e.Tensor=function(){function t(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=ue.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&s.uint32(8).int32(o.elemType),o.shape!=null&&Object.hasOwnProperty.call(o,"shape")&&P.onnx.TensorShapeProto.encode(o.shape,s.uint32(18).fork()).ldelim(),s},t.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},t.decode=function(o,s){o instanceof lt||(o=lt.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new P.onnx.TypeProto.Tensor;o.pos<a;){var c=o.uint32();switch(c>>>3){case 1:{u.elemType=o.int32();break}case 2:{u.shape=P.onnx.TensorShapeProto.decode(o,o.uint32());break}default:o.skipType(c&7);break}}return u},t.decodeDelimited=function(o){return o instanceof lt||(o=new lt(o)),this.decode(o,o.uint32())},t.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")&&!$.isInteger(o.elemType))return"elemType: integer expected";if(o.shape!=null&&o.hasOwnProperty("shape")){var s=P.onnx.TensorShapeProto.verify(o.shape);if(s)return"shape."+s}return null},t.fromObject=function(o){if(o instanceof P.onnx.TypeProto.Tensor)return o;var s=new P.onnx.TypeProto.Tensor;if(o.elemType!=null&&(s.elemType=o.elemType|0),o.shape!=null){if(typeof o.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");s.shape=P.onnx.TensorShapeProto.fromObject(o.shape)}return s},t.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=0,a.shape=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=o.elemType),o.shape!=null&&o.hasOwnProperty("shape")&&(a.shape=P.onnx.TensorShapeProto.toObject(o.shape,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Tensor"},t}(),e.Sequence=function(){function t(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return t.prototype.elemType=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=ue.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&P.onnx.TypeProto.encode(o.elemType,s.uint32(10).fork()).ldelim(),s},t.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},t.decode=function(o,s){o instanceof lt||(o=lt.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new P.onnx.TypeProto.Sequence;o.pos<a;){var c=o.uint32();switch(c>>>3){case 1:{u.elemType=P.onnx.TypeProto.decode(o,o.uint32());break}default:o.skipType(c&7);break}}return u},t.decodeDelimited=function(o){return o instanceof lt||(o=new lt(o)),this.decode(o,o.uint32())},t.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")){var s=P.onnx.TypeProto.verify(o.elemType);if(s)return"elemType."+s}return null},t.fromObject=function(o){if(o instanceof P.onnx.TypeProto.Sequence)return o;var s=new P.onnx.TypeProto.Sequence;if(o.elemType!=null){if(typeof o.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");s.elemType=P.onnx.TypeProto.fromObject(o.elemType)}return s},t.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=P.onnx.TypeProto.toObject(o.elemType,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Sequence"},t}(),e.Map=function(){function t(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return t.prototype.keyType=0,t.prototype.valueType=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=ue.create()),o.keyType!=null&&Object.hasOwnProperty.call(o,"keyType")&&s.uint32(8).int32(o.keyType),o.valueType!=null&&Object.hasOwnProperty.call(o,"valueType")&&P.onnx.TypeProto.encode(o.valueType,s.uint32(18).fork()).ldelim(),s},t.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},t.decode=function(o,s){o instanceof lt||(o=lt.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new P.onnx.TypeProto.Map;o.pos<a;){var c=o.uint32();switch(c>>>3){case 1:{u.keyType=o.int32();break}case 2:{u.valueType=P.onnx.TypeProto.decode(o,o.uint32());break}default:o.skipType(c&7);break}}return u},t.decodeDelimited=function(o){return o instanceof lt||(o=new lt(o)),this.decode(o,o.uint32())},t.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.keyType!=null&&o.hasOwnProperty("keyType")&&!$.isInteger(o.keyType))return"keyType: integer expected";if(o.valueType!=null&&o.hasOwnProperty("valueType")){var s=P.onnx.TypeProto.verify(o.valueType);if(s)return"valueType."+s}return null},t.fromObject=function(o){if(o instanceof P.onnx.TypeProto.Map)return o;var s=new P.onnx.TypeProto.Map;if(o.keyType!=null&&(s.keyType=o.keyType|0),o.valueType!=null){if(typeof o.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");s.valueType=P.onnx.TypeProto.fromObject(o.valueType)}return s},t.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.keyType=0,a.valueType=null),o.keyType!=null&&o.hasOwnProperty("keyType")&&(a.keyType=o.keyType),o.valueType!=null&&o.hasOwnProperty("valueType")&&(a.valueType=P.onnx.TypeProto.toObject(o.valueType,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Map"},t}(),e.Optional=function(){function t(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return t.prototype.elemType=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=ue.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&P.onnx.TypeProto.encode(o.elemType,s.uint32(10).fork()).ldelim(),s},t.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},t.decode=function(o,s){o instanceof lt||(o=lt.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new P.onnx.TypeProto.Optional;o.pos<a;){var c=o.uint32();switch(c>>>3){case 1:{u.elemType=P.onnx.TypeProto.decode(o,o.uint32());break}default:o.skipType(c&7);break}}return u},t.decodeDelimited=function(o){return o instanceof lt||(o=new lt(o)),this.decode(o,o.uint32())},t.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")){var s=P.onnx.TypeProto.verify(o.elemType);if(s)return"elemType."+s}return null},t.fromObject=function(o){if(o instanceof P.onnx.TypeProto.Optional)return o;var s=new P.onnx.TypeProto.Optional;if(o.elemType!=null){if(typeof o.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");s.elemType=P.onnx.TypeProto.fromObject(o.elemType)}return s},t.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=P.onnx.TypeProto.toObject(o.elemType,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Optional"},t}(),e.SparseTensor=function(){function t(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(o){return new t(o)},t.encode=function(o,s){return s||(s=ue.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&s.uint32(8).int32(o.elemType),o.shape!=null&&Object.hasOwnProperty.call(o,"shape")&&P.onnx.TensorShapeProto.encode(o.shape,s.uint32(18).fork()).ldelim(),s},t.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},t.decode=function(o,s){o instanceof lt||(o=lt.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new P.onnx.TypeProto.SparseTensor;o.pos<a;){var c=o.uint32();switch(c>>>3){case 1:{u.elemType=o.int32();break}case 2:{u.shape=P.onnx.TensorShapeProto.decode(o,o.uint32());break}default:o.skipType(c&7);break}}return u},t.decodeDelimited=function(o){return o instanceof lt||(o=new lt(o)),this.decode(o,o.uint32())},t.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")&&!$.isInteger(o.elemType))return"elemType: integer expected";if(o.shape!=null&&o.hasOwnProperty("shape")){var s=P.onnx.TensorShapeProto.verify(o.shape);if(s)return"shape."+s}return null},t.fromObject=function(o){if(o instanceof P.onnx.TypeProto.SparseTensor)return o;var s=new P.onnx.TypeProto.SparseTensor;if(o.elemType!=null&&(s.elemType=o.elemType|0),o.shape!=null){if(typeof o.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");s.shape=P.onnx.TensorShapeProto.fromObject(o.shape)}return s},t.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=0,a.shape=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=o.elemType),o.shape!=null&&o.hasOwnProperty("shape")&&(a.shape=P.onnx.TensorShapeProto.toObject(o.shape,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.SparseTensor"},t}(),e}(),i.OperatorSetIdProto=function(){function e(n){if(n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.domain="",e.prototype.version=$.Long?$.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=ue.create()),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(10).string(t.domain),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&r.uint32(16).int64(t.version),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.OperatorSetIdProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.domain=t.string();break}case 2:{s.version=t.int64();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain)?"domain: string expected":t.version!=null&&t.hasOwnProperty("version")&&!$.isInteger(t.version)&&!(t.version&&$.isInteger(t.version.low)&&$.isInteger(t.version.high))?"version: integer|Long expected":null},e.fromObject=function(t){if(t instanceof P.onnx.OperatorSetIdProto)return t;var r=new P.onnx.OperatorSetIdProto;return t.domain!=null&&(r.domain=String(t.domain)),t.version!=null&&($.Long?(r.version=$.Long.fromValue(t.version)).unsigned=!1:typeof t.version=="string"?r.version=parseInt(t.version,10):typeof t.version=="number"?r.version=t.version:typeof t.version=="object"&&(r.version=new $.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber())),r},e.toObject=function(t,r){r||(r={});var o={};if(r.defaults)if(o.domain="",$.Long){var s=new $.Long(0,0,!1);o.version=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.version=r.longs===String?"0":0;return t.domain!=null&&t.hasOwnProperty("domain")&&(o.domain=t.domain),t.version!=null&&t.hasOwnProperty("version")&&(typeof t.version=="number"?o.version=r.longs===String?String(t.version):t.version:o.version=r.longs===String?$.Long.prototype.toString.call(t.version):r.longs===Number?new $.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber():t.version),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.OperatorSetIdProto"},e}(),i.OperatorStatus=function(){var e={},n=Object.create(e);return n[e[0]="EXPERIMENTAL"]=0,n[e[1]="STABLE"]=1,n}(),i.FunctionProto=function(){function e(n){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],n)for(var t=Object.keys(n),r=0;r<t.length;++r)n[t[r]]!=null&&(this[t[r]]=n[t[r]])}return e.prototype.name="",e.prototype.input=$.emptyArray,e.prototype.output=$.emptyArray,e.prototype.attribute=$.emptyArray,e.prototype.attributeProto=$.emptyArray,e.prototype.node=$.emptyArray,e.prototype.docString="",e.prototype.opsetImport=$.emptyArray,e.prototype.domain="",e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(10).string(t.name),t.input!=null&&t.input.length)for(var o=0;o<t.input.length;++o)r.uint32(34).string(t.input[o]);if(t.output!=null&&t.output.length)for(var o=0;o<t.output.length;++o)r.uint32(42).string(t.output[o]);if(t.attribute!=null&&t.attribute.length)for(var o=0;o<t.attribute.length;++o)r.uint32(50).string(t.attribute[o]);if(t.node!=null&&t.node.length)for(var o=0;o<t.node.length;++o)P.onnx.NodeProto.encode(t.node[o],r.uint32(58).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(66).string(t.docString),t.opsetImport!=null&&t.opsetImport.length)for(var o=0;o<t.opsetImport.length;++o)P.onnx.OperatorSetIdProto.encode(t.opsetImport[o],r.uint32(74).fork()).ldelim();if(t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(82).string(t.domain),t.attributeProto!=null&&t.attributeProto.length)for(var o=0;o<t.attributeProto.length;++o)P.onnx.AttributeProto.encode(t.attributeProto[o],r.uint32(90).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var o=r===void 0?t.len:t.pos+r,s=new P.onnx.FunctionProto;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:{s.name=t.string();break}case 4:{s.input&&s.input.length||(s.input=[]),s.input.push(t.string());break}case 5:{s.output&&s.output.length||(s.output=[]),s.output.push(t.string());break}case 6:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(t.string());break}case 11:{s.attributeProto&&s.attributeProto.length||(s.attributeProto=[]),s.attributeProto.push(P.onnx.AttributeProto.decode(t,t.uint32()));break}case 7:{s.node&&s.node.length||(s.node=[]),s.node.push(P.onnx.NodeProto.decode(t,t.uint32()));break}case 8:{s.docString=t.string();break}case 9:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(P.onnx.OperatorSetIdProto.decode(t,t.uint32()));break}case 10:{s.domain=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var r=0;r<t.input.length;++r)if(!$.isString(t.input[r]))return"input: string[] expected"}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(var r=0;r<t.output.length;++r)if(!$.isString(t.output[r]))return"output: string[] expected"}if(t.attribute!=null&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(var r=0;r<t.attribute.length;++r)if(!$.isString(t.attribute[r]))return"attribute: string[] expected"}if(t.attributeProto!=null&&t.hasOwnProperty("attributeProto")){if(!Array.isArray(t.attributeProto))return"attributeProto: array expected";for(var r=0;r<t.attributeProto.length;++r){var o=P.onnx.AttributeProto.verify(t.attributeProto[r]);if(o)return"attributeProto."+o}}if(t.node!=null&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var r=0;r<t.node.length;++r){var o=P.onnx.NodeProto.verify(t.node[r]);if(o)return"node."+o}}if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.opsetImport!=null&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var r=0;r<t.opsetImport.length;++r){var o=P.onnx.OperatorSetIdProto.verify(t.opsetImport[r]);if(o)return"opsetImport."+o}}return t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain)?"domain: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.FunctionProto)return t;var r=new P.onnx.FunctionProto;if(t.name!=null&&(r.name=String(t.name)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.FunctionProto.input: array expected");r.input=[];for(var o=0;o<t.input.length;++o)r.input[o]=String(t.input[o])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.FunctionProto.output: array expected");r.output=[];for(var o=0;o<t.output.length;++o)r.output[o]=String(t.output[o])}if(t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");r.attribute=[];for(var o=0;o<t.attribute.length;++o)r.attribute[o]=String(t.attribute[o])}if(t.attributeProto){if(!Array.isArray(t.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");r.attributeProto=[];for(var o=0;o<t.attributeProto.length;++o){if(typeof t.attributeProto[o]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");r.attributeProto[o]=P.onnx.AttributeProto.fromObject(t.attributeProto[o])}}if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.FunctionProto.node: array expected");r.node=[];for(var o=0;o<t.node.length;++o){if(typeof t.node[o]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");r.node[o]=P.onnx.NodeProto.fromObject(t.node[o])}}if(t.docString!=null&&(r.docString=String(t.docString)),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");r.opsetImport=[];for(var o=0;o<t.opsetImport.length;++o){if(typeof t.opsetImport[o]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");r.opsetImport[o]=P.onnx.OperatorSetIdProto.fromObject(t.opsetImport[o])}}return t.domain!=null&&(r.domain=String(t.domain)),r},e.toObject=function(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.input=[],o.output=[],o.attribute=[],o.node=[],o.opsetImport=[],o.attributeProto=[]),r.defaults&&(o.name="",o.docString="",o.domain=""),t.name!=null&&t.hasOwnProperty("name")&&(o.name=t.name),t.input&&t.input.length){o.input=[];for(var s=0;s<t.input.length;++s)o.input[s]=t.input[s]}if(t.output&&t.output.length){o.output=[];for(var s=0;s<t.output.length;++s)o.output[s]=t.output[s]}if(t.attribute&&t.attribute.length){o.attribute=[];for(var s=0;s<t.attribute.length;++s)o.attribute[s]=t.attribute[s]}if(t.node&&t.node.length){o.node=[];for(var s=0;s<t.node.length;++s)o.node[s]=P.onnx.NodeProto.toObject(t.node[s],r)}if(t.docString!=null&&t.hasOwnProperty("docString")&&(o.docString=t.docString),t.opsetImport&&t.opsetImport.length){o.opsetImport=[];for(var s=0;s<t.opsetImport.length;++s)o.opsetImport[s]=P.onnx.OperatorSetIdProto.toObject(t.opsetImport[s],r)}if(t.domain!=null&&t.hasOwnProperty("domain")&&(o.domain=t.domain),t.attributeProto&&t.attributeProto.length){o.attributeProto=[];for(var s=0;s<t.attributeProto.length;++s)o.attributeProto[s]=P.onnx.AttributeProto.toObject(t.attributeProto[s],r)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.FunctionProto"},e}(),i}();md.exports=P});function Bn(i,e){if(!i)throw new Error(typeof e=="string"?e:e())}function xo(i){return new TextDecoder().decode(i)}var Xt,nn,mf,De,Hi,xe,Me,ht,To,on,an,sn,Gt=it(()=>{"use strict";Ri();tf();Xt=kn($n());un();nn=class{static arraysEqual(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}},mf=class{static preprocessInputShapes(e,n){let t=e.length===1?[1,e[0]]:e,r=n.length===1?[n[0],1]:n;return[t,r]}static postprocessOutputShape(e,n,t){n===1&&e.splice(e.length-2,1),t===1&&e.pop()}static calcMatMulShape(e,n){return e[1]!==n[0]?void 0:[e[0],n[1]]}},De=class i{static calcShape(e,n,t=!1){let r=e.length,o=n.length;if(r===0)return n;if(o===0)return e;let s=Math.max(e.length,n.length),a=new Array(s);if(t){if(r<2||o<2)return;let u=mf.calcMatMulShape([e[r-2],e[r-1]],[n[o-2],n[o-1]]);if(u===void 0)return;[a[s-2],a[s-1]]=u}for(let u=t?3:1;u<=s;u++){let c=r-u<0?1:e[r-u],v=o-u<0?1:n[o-u];if(c!==v&&c>1&&v>1)return;a[s-u]=Math.max(c,v)}return a}static index(e,n){let t=new Array(n.length);return i.fillIndex(e,n,t),t}static fillIndex(e,n,t){let r=e.length-n.length;for(let o=0;o<n.length;o++)t[o]=e[r+o]%n[o]}static calc(e,n,t,r,o){let s=i.calcShape(e.dims,n.dims);if(s){if(r&&!ht.areEqual(s,e.dims))return;let a=ht.size(s),u=r?e:new pe(s,o||e.type);if(s.length===0)u.set([],t(e.get([]),n.get([])));else{let c=new Array(s.length),v=new Array(e.dims.length),S=new Array(n.dims.length),E=0,N=0,Z=!1,H=!1;e.dims.length===0&&(E=e.get([]),Z=!0),n.dims.length===0&&(N=n.get([]),H=!0);let rt;for(let at=0;at<a;at++){rt=at;for(let ot=s.length-1;ot>=0;ot--)c[ot]=rt%s[ot],rt=Math.floor(rt/s[ot]);Z||(i.fillIndex(c,e.dims,v),E=e.get(v)),H||(i.fillIndex(c,n.dims,S),N=n.get(S)),u.set(c,t(E,N))}}return u}}static isValidBroadcast(e,n){let t=e.length,r=n.length;if(t>r)return!1;for(let o=1;o<=t;o++)if(e[t-o]!==1&&e[t-o]!==n[r-o])return!1;return!0}static getBroadcastDims(e,n){let t=e.length,r=[];for(let o=0;o<t;o++){let s=t-1-o,a=e[s]||1;(n[n.length-1-o]||1)>1&&a===1&&r.unshift(s)}return r}},Hi=class{static getShapeOfGemmResult(e,n,t,r,o){if(e.length!==2||t.length!==2)throw new Error("shape need to be of size 2");let s,a,u;n?(s=e[1],a=e[0]):(s=e[0],a=e[1]);let c=-1;if(r?(u=t[0],c=1):(u=t[1],c=0),t[c]!==a)throw new Error("dimension mismatch");if(s<=0||u<=0||a<=0)throw new Error("invalid shape specified");if(o&&!De.isValidBroadcast(o,[s,u]))throw new Error("gemm: invalid bias shape for broadcast");return[s,u,a]}},xe=class i{static tensorDataTypeFromProto(e){switch(e){case Xt.onnx.TensorProto.DataType.INT8:return"int8";case Xt.onnx.TensorProto.DataType.UINT8:return"uint8";case Xt.onnx.TensorProto.DataType.BOOL:return"bool";case Xt.onnx.TensorProto.DataType.INT16:return"int16";case Xt.onnx.TensorProto.DataType.UINT16:return"uint16";case Xt.onnx.TensorProto.DataType.INT32:return"int32";case Xt.onnx.TensorProto.DataType.UINT32:return"uint32";case Xt.onnx.TensorProto.DataType.FLOAT:return"float32";case Xt.onnx.TensorProto.DataType.DOUBLE:return"float64";case Xt.onnx.TensorProto.DataType.STRING:return"string";case Xt.onnx.TensorProto.DataType.INT64:return"int32";case Xt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${Xt.onnx.TensorProto.DataType[e]}`)}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return Xt.onnx.TensorProto.DataType.INT8;case"uint8":return Xt.onnx.TensorProto.DataType.UINT8;case"bool":return Xt.onnx.TensorProto.DataType.BOOL;case"int16":return Xt.onnx.TensorProto.DataType.INT16;case"uint16":return Xt.onnx.TensorProto.DataType.UINT16;case"int32":return Xt.onnx.TensorProto.DataType.INT32;case"uint32":return Xt.onnx.TensorProto.DataType.UINT32;case"float32":return Xt.onnx.TensorProto.DataType.FLOAT;case"float64":return Xt.onnx.TensorProto.DataType.DOUBLE;case"string":return Xt.onnx.TensorProto.DataType.STRING;case"int64":return Xt.onnx.TensorProto.DataType.INT64;case"uint64":return Xt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${e}`)}}static tensorDimsFromProto(e){return e.map(n=>Ar.isLong(n)?n.toNumber():n)}static tensorValueTypeFromProto(e){return{tensorType:i.tensorDataTypeFromProto(e.elemType),shape:{dims:i.tensorDimsFromProto(e.shape.dim.map(n=>n.dimValue))}}}static tensorDimsFromORTFormat(e){let n=[];for(let t=0;t<e.dimsLength();t++)n.push(Me.longToNumber(e.dims(t)));return n}static tensorAttributesFromORTFormat(e){let n=[];for(let t=0;t<e.attributesLength();t++)n.push(e.attributes(t));return n}},Me=class{static longToNumber(e,n){return Ar.isLong(e)?e.toNumber():e instanceof q.Long?Ar.fromValue({low:e.low,high:e.high,unsigned:n??!1}).toNumber():e}static isLong(e){return Ar.isLong(e)||e instanceof q.Long}},ht=class i{static size(e){return i.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,n){if(n<0||n>e.length)throw new Error(`invalid dimension of ${n} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,n,e.length)}static sizeToDimension(e,n){if(n<0||n>e.length)throw new Error(`invalid dimension of ${n} for sizeToDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,0,n)}static getSizeFromDimensionRange(e,n,t){let r=1;for(let o=n;o<t;o++){if(e[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[o]}return r}static computeStrides(e){let n=e.length;if(n===0)return[];if(n===1)return[1];let t=new Array(n);t[n-1]=1,t[n-2]=e[n-1];for(let r=n-3;r>=0;--r)t[r]=t[r+1]*e[r+1];return t}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,n,t){t===void 0&&(t=e.length);let r=0;for(let o=0;o<t;++o)r+=n[o]*e[o];return r}static offsetToIndices(e,n){let t=n.length;if(t===0)return[];if(t===1)return[e*n[0]];let r=new Array(n.length);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}static normalizeAxis(e,n){if(e<-n&&e>=n)throw new Error("unsupported axis for this operation.");return e<0?e+n:e}static normalizeAxes(e,n){return e.map(t=>this.normalizeAxis(t,n))}static incrementIndex(e,n,t){if(n.length===0||e.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(t===void 0)t=n.length;else if(t<=0||t>n.length)throw new Error("Incorrect axis to increment on");for(let r=t-1;r>=0&&(e[r]++,!(e[r]<n[r]));--r)e[r]=0}static calculateReshapedDims(e,n){if(n.length===0){if(e.length===0||i.size(e)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}let t=n.length,r=new Array(t),o=-1,s=1;for(let u=0;u<t;u++){if(n[u]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(n[u]===-1){if(o!==-1)throw new Error("at most one dimension in shape hints can be -1");o=u}else{if(n[u]===0){if(u>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[u]=e[u]}else r[u]=n[u];s*=r[u]}}let a=i.size(e);if(o!==-1){if(a%s!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${e}] Output shape: [${n}]`);r[o]=a/s}else if(s!==a)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(e,n){return n?n.map(t=>e[t]):e.slice().reverse()}static padShape(e,n){let t=e.length;return e.map((r,o)=>r+n[o]+n[o+t])}static areEqual(e,n){return e.length!==n.length?!1:e.every((t,r)=>t===n[r])}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let n=1;for(let t of e){if(!Number.isInteger(t))throw new TypeError(`Invalid shape: ${t} is not an integer`);if(t<0||t>2147483647)throw new TypeError(`Invalid shape: length ${t} is not allowed`);n*=t}return n}static flattenShape(e,n){n<0&&(n+=e.length);let t=e.reduce((s,a)=>s*a,1),r=e.slice(n).reduce((s,a)=>s*a,1);return[t/r,r]}static squeezeShape(e,n){let t=new Array;n=i.normalizeAxes(n,e.length);for(let r=0;r<e.length;r++){let o=n.indexOf(r)>=0;if(o&&e[r]!==1)throw new Error("squeeze an axis of size different than 1");(n.length===0&&e[r]>1||n.length>0&&!o)&&t.push(e[r])}return t}static unsqueezeShape(e,n){let t=new Array(e.length+n.length);t.fill(0);for(let o=0;o<n.length;o++){let s=i.normalizeAxis(n[o],t.length);if(s>=t.length)throw new Error("'axes' has an out of range axis");if(t[s]!==0)throw new Error("'axes' has a duplicate axis");t[s]=1}let r=0;for(let o=0;o<t.length;o++)t[o]===0&&(t[o]=e[r++]);if(r!==e.length)throw new Error("the unsqueezed dimension could not be established");return t}},To=class i{static splitShape(e,n,t,r){if(t.length===0){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");i.determineSplit(e[n],r,t)}let o=[],s=[0];for(let a=0;a<t.length;++a){a!==0&&s.push(s[a-1]+t[a-1]);let u=e.slice();u[n]=t[a],o.push(u)}return[o,s]}static determineSplit(e,n,t){if(e%n!==0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<n;++r)t.push(e/n)}},on=class i{static adjustPoolAttributes(e,n,t,r,o,s){if(!e&&t.length!==n.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let a=0;a<n.length-2;a++)a>=t.length?t.push(n[a+2]):t[a]=n[a+2];for(let a=0;a<t.length;a++)if(a<r.length){if(r[a]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let a=0;a<t.length;a++)if(a<o.length){if(o[a]<0)throw new Error("dilations should be greater than or equal to 1")}else o.push(1);for(let a=0;a<t.length*2;a++)if(a<s.length){if(s[a]<0)throw new Error("pad should be greater than or equal to 1")}else s.push(0);for(let a=0;a<t.length;a++){if(t[a]<=0)throw new Error("kernel shapes need to be greater than 0");if(s[a]>=t[a]||s[a+t.length]>=t[a])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,n,t,r,o,s){if(s){if(o.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let a=0;a<e.length-2;a++)i.adjustPadAndReturnShape(e[a+2],n[a],t[a],r[a],o,a,a+e.length-2,s)}}static computePoolOutputShape(e,n,t,r,o,s,a){if(n.length<=0)throw new Error("input shape must be of size greater than 0");let u=[n[0],n[1]];return i.computeShapeHelper(e,n,u,t,r,o,s,a),u}static computeConvOutputShape(e,n,t,r,o,s,a){if(e.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let u=[e[0],n[0]];return i.computeShapeHelper(!1,e,u,t,r,o,s,a),u}static computeShapeHelper(e,n,t,r,o,s,a,u){if(e)for(let c=0;c<n.length-2;c++)t.push(1);else for(let c=0;c<n.length-2;c++)t.push(i.adjustPadAndReturnShape(n[c+2],r[c],o[c],s[c],a,c,c+n.length-2,u))}static adjustPadAndReturnShape(e,n,t,r,o,s,a,u){let c=t*(r-1)+1;if(u&&u!=="NOTSET")switch(u){case"VALID":return o[s]=0,o[a]=0,Math.floor((e-c)/n+1);case"SAME_LOWER":case"SAME_UPPER":if(t!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let S=((e+n-1)/n-1)*n+r-e;return o[s]=Math.floor(u==="SAME_LOWER"?(S+1)/2:S/2),o[a]=S-o[s],Math.floor((e+S-r)/n+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((e+o[s]+o[a]-c)/n+1)}},an=-34028234663852886e22,sn=34028234663852886e22});function ug(i){switch(i){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${i}`)}}function yd(i){switch(i){case kt.onnx.TensorProto.DataType.UINT8:case kt.onnx.TensorProto.DataType.INT8:case kt.onnx.TensorProto.DataType.BOOL:return 1;case kt.onnx.TensorProto.DataType.UINT16:case kt.onnx.TensorProto.DataType.INT16:return 2;case kt.onnx.TensorProto.DataType.FLOAT:case kt.onnx.TensorProto.DataType.INT32:case kt.onnx.TensorProto.DataType.UINT32:return 4;case kt.onnx.TensorProto.DataType.INT64:case kt.onnx.TensorProto.DataType.DOUBLE:case kt.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${kt.onnx.TensorProto.DataType[i]}`)}}function fg(i,e){return new(vd(e))(i)}function vd(i){switch(i){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function bf(i,e){if(e===kt.onnx.TensorProto.DataType.INT64||e===yf.TensorDataType.INT64){if(i.greaterThanOrEqual(2147483648)||i.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(e===kt.onnx.TensorProto.DataType.UINT32||e===yf.TensorDataType.UINT32||e===kt.onnx.TensorProto.DataType.UINT64||e===yf.TensorDataType.UINT64){if(i.greaterThanOrEqual(4294967296)||i.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${kt.onnx.TensorProto.DataType[e]}`);return i.toNumber()}function bd(i,e,n){switch(e){case kt.onnx.TensorProto.DataType.BOOL:case kt.onnx.TensorProto.DataType.UINT8:return i.getUint8(n);case kt.onnx.TensorProto.DataType.INT8:return i.getInt8(n);case kt.onnx.TensorProto.DataType.UINT16:return i.getUint16(n,!0);case kt.onnx.TensorProto.DataType.INT16:return i.getInt16(n,!0);case kt.onnx.TensorProto.DataType.FLOAT:return i.getFloat32(n,!0);case kt.onnx.TensorProto.DataType.INT32:return i.getInt32(n,!0);case kt.onnx.TensorProto.DataType.UINT32:return i.getUint32(n,!0);case kt.onnx.TensorProto.DataType.INT64:return bf(Ar.fromBits(i.getUint32(n,!0),i.getUint32(n+4,!0),!1),e);case kt.onnx.TensorProto.DataType.DOUBLE:return i.getFloat64(n,!0);case kt.onnx.TensorProto.DataType.UINT64:return bf(Ar.fromBits(i.getUint32(n,!0),i.getUint32(n+4,!0),!0),e);default:throw new Error(`cannot read from DataView for type ${kt.onnx.TensorProto.DataType[e]}`)}}var gd,kt,yf,pe,un=it(()=>{"use strict";gd=kn(sl());tf();bo();kt=kn($n());Gt();yf=gt.experimental.fbs,pe=class i{constructor(e,n,t,r,o,s=gd.Guid.create()){this.dims=e;this.type=n;this.dataProvider=t;this.asyncDataProvider=r;this.cache=o;this.dataId=s;this.size=ht.validateDimsAndCalcSize(e);let a=this.size,u=t===void 0&&r===void 0&&o===void 0;if(o!==void 0&&o.length!==a)throw new RangeError("Input dims doesn't match data length.");if(n==="string"){if(o!==void 0&&(!Array.isArray(o)||!o.every(c=>typeof c=="string")))throw new TypeError("cache should be a string array");u&&(this.cache=new Array(a))}else{if(o!==void 0){let c=vd(n);if(!(o instanceof c))throw new TypeError(`cache should be type ${c.name}`)}if(u){let c=new ArrayBuffer(a*ug(n));this.cache=fg(c,n)}}}get data(){if(this.cache===void 0){let e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[ht.indicesToOffset(e,this.strides)]}set(e,n){this.data[ht.indicesToOffset(e,this.strides)]=n}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ht.computeStrides(this.dims)),this._strides}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");let n=xe.tensorDataTypeFromProto(e.dataType),t=xe.tensorDimsFromProto(e.dims),r=new i(t,n);if(n==="string")e.stringData.forEach((o,s)=>{r.data[s]=xo(o)});else if(e.rawData&&typeof e.rawData.byteLength=="number"&&e.rawData.byteLength>0){let o=r.data,s=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),a=yd(e.dataType),u=e.rawData.byteLength/a;if(e.rawData.byteLength%a!==0)throw new Error("invalid buffer length");if(o.length!==u)throw new Error("buffer length mismatch");for(let c=0;c<u;c++){let v=bd(s,e.dataType,c*a);o[c]=v}}else{let o;switch(e.dataType){case kt.onnx.TensorProto.DataType.FLOAT:o=e.floatData;break;case kt.onnx.TensorProto.DataType.INT32:case kt.onnx.TensorProto.DataType.INT16:case kt.onnx.TensorProto.DataType.UINT16:case kt.onnx.TensorProto.DataType.INT8:case kt.onnx.TensorProto.DataType.UINT8:case kt.onnx.TensorProto.DataType.BOOL:o=e.int32Data;break;case kt.onnx.TensorProto.DataType.INT64:o=e.int64Data;break;case kt.onnx.TensorProto.DataType.DOUBLE:o=e.doubleData;break;case kt.onnx.TensorProto.DataType.UINT32:case kt.onnx.TensorProto.DataType.UINT64:o=e.uint64Data;break;default:throw new Error("unspecific error")}if(o==null)throw new Error("failed to populate data from a tensorproto value");let s=r.data;if(s.length!==o.length)throw new Error("array length mismatch");for(let a=0;a<o.length;a++){let u=o[a];Ar.isLong(u)?s[a]=bf(u,e.dataType):s[a]=u}}return r}static fromData(e,n,t){return new i(n,t,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");let n=xe.tensorDimsFromORTFormat(e),t=xe.tensorDataTypeFromProto(e.dataType()),r=new i(n,t);if(t==="string")for(let o=0;o<e.stringDataLength();o++)r.data[o]=e.stringData(o);else if(e.rawDataArray()&&typeof e.rawDataLength()=="number"&&e.rawDataLength()>0){let o=r.data,s=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),a=yd(e.dataType()),u=e.rawDataLength()/a;if(e.rawDataLength()%a!==0)throw new Error("invalid buffer length");if(o.length!==u)throw new Error("buffer length mismatch");for(let c=0;c<u;c++){let v=bd(s,e.dataType(),c*a);o[c]=v}}return r}}});function Tt(i){return i===1?cg:lg}function wd(i){let e=Tt(i);return`${e.version}
      precision highp float;
      ${e.attribute} vec3 position;
      ${e.attribute} vec2 textureCoord;

      ${e.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`}function Td(i){let e=Tt(i);return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFrag} vec2 TexCoords;
    ${e.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `}function xd(i,e){let n=Tt(i);return`
  void main() {
    int indices[${e}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${n.output} = result;
  }
  `}var cg,lg,Jt=it(()=>{"use strict";cg={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},lg={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}});var $t=it(()=>{"use strict"});async function gf(i,e=t=>0,n){return new Promise((t,r)=>{let o=0,s=()=>{if(i()){t();return}o++;let a=e(o);if(n!=null&&o>=n){r();return}setTimeout(s,a)};s()})}function Vi(i){return Bn(typeof i<"u"&&i.length!==0,()=>"empty string found for sampler name"),"get"+i.charAt(0).toUpperCase()+i.slice(1)}function _d(i){return Bn(typeof i<"u"&&i.length!==0,()=>"empty string found for sampler name"),"get"+i.charAt(0).toUpperCase()+i.slice(1)+"AtOutCoords"}function Nn(i,e){let n=JSON.parse(JSON.stringify(i));return n=e,n}function Mn(i,e){return e.map(n=>i[n]).join(", ")}function ke(i){if(i<=1)return"int";if(i===2)return"ivec2";if(i===3)return"ivec3";if(i===4)return"ivec4";if(i===5)return"ivec5";if(i===6)return"ivec6";throw Error(`GPU for rank ${i} is not yet supported`)}function ur(i=6){return["x","y","z","w","u","v"].slice(0,i)}var mr=it(()=>{"use strict";Gt()});function dg(i,e){return ur(e).map(n=>`${i}.${n}`)}function Rn(i,e){return e===1?[i]:dg(i,e)}function yr(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}var fn=it(()=>{"use strict";mr()});function hg(i,e,n){if(i===0)return"false";if(i===1)return`rc > ${e[0]}`;let t="";for(let r=i-2;r<i;r++)t+=`${n[r]} >= ${e[r-i+2]}`,r<i-1&&(t+="||");return t}function mg(i,e){let n=i.length;if(n===0)return"getA(), 0, 0, 0";if(n===1)return`getA(rc),
            rc + 1 >= ${i[0]} ? 0. : getA(rc + 1),
            0, 0`;let t="r, c",r="r, cp1",o="rp1, c",s="rp1, cp1",a="";if(n>2)for(let u=0;u<n-2;++u)a=a+`${e[u]},`;return`getA(${a}${t}),
          rEdge ? 0. : getA(${a}${o}),
          cEdge ? 0. : getA(${a}${r}),
          rEdge || cEdge ? 0. : getA(${a}${s})`}function yg(i,e,n,t){return i===0||i===1?"":`
    int r = ${e[i-2]};
    int c = ${e[i-1]};
    int rp1 = ${e[i-2]} + 1;
    int cp1 = ${e[i-1]} + 1;
    bool rEdge = rp1 >= ${t};
    bool cEdge = cp1 >= ${n};
    `}var Od,pg,Id,Ad=it(()=>{"use strict";Jt();$t();mr();fn();Od={name:"pack",inputNames:["A"],inputTypes:[1]},pg=(i,e)=>{let n=Tt(i.session.backend.glContext.version),t=e.dims,r=t.length,o=e.dims.length,s=ke(o),a=Rn("rc",o),u=yg(o,a,t[t.length-2],t[t.length-1]),c;r===0?c=[1,1]:r===1?c=[t[0],1]:c=[t[o-1],t[o-2]];let v=hg(o,c,a),S=mg(t,a),E=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${v}) {
            ${n.output} = vec4(0);
          } else {
            ${u}

            ${n.output} = vec4(${S});
          }
        }
      `;return{...Od,hasMain:!0,output:{dims:e.dims,type:e.type,textureType:2},shaderSource:E}},Id=(i,e)=>({...Od,get:()=>pg(i,e)})});function vf(i){if(i.length===0)return[1,1,1];let e=1;for(let n=0;n<i.length-2;++n)e*=i[n];return[e,i.length>1?i[i.length-2]:1,i[i.length-1]]}function Pd(i,e){let n=!1;return i.length===0||e.length===0?n=!0:i.length<2||e.length<2?n=i[i.length-1]===e[e.length-1]:n=i[i.length-1]===e[e.length-1]&&i[i.length-2]===e[e.length-2],n}function vg(i){let e=ht.computeStrides(i),n=["b","r","c"],t="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e.map((o,s)=>{let a=`int ${n[s]} = ${t} / ${o}`,u=s===e.length-1?`int ${n[s+1]} = ${t} - ${n[s]} * ${o}`:`index -= ${n[s]} * ${o}`;return`${a}; ${u};`}).join("")}
      return ivec3(b, r, c);
    }
  `}function wg(i){let e=ht.computeStrides(i);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${e[0]} + coords.z * ${e[1]} + coords.y;
  }
`}var bg,gg,Sd,Ed=it(()=>{"use strict";Gt();Jt();$t();fn();bg=i=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${i}`}),gg=(i,e,n,t)=>{let r=e.dims,o=t,s="";for(let c=0;c<4;c++){let v="";switch(c){case 0:v="outputCoords = rc;";break;case 1:v="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:v="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:v="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}s+=`
        ${v}
        ${c>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${c}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${c>0?"}":""}
      `}let a=Tt(i.session.backend.glContext.version),u=`
      ${vg(r)}
      ${wg(o)}
      ${yr()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${o[2]};
        int cols = ${o[1]};

        ${s}
        ${a.output} = result;
      }
    `;return{...n,output:{dims:o,type:e.type,textureType:2},shaderSource:u,hasMain:!0}},Sd=(i,e,n)=>{let t=bg(n);return{...t,get:()=>gg(i,e,t,n)}}});var wf,Dd=it(()=>{"use strict";Jt();$t();wf=(i,e)=>{let n=e.shape,t=Tt(i.session.backend.glContext.version),r=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${t.texture2D}(X,TexCoords).r;
      ${t.output} = encodeAsUint8(value);
    }`,o={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:n,type:e.tensor.type,textureType:3},shaderSource:r,hasMain:!0};return i.executeProgram(o,[e.tensor])}});function xg(i,e){if(i===1)return"rc";let n="";for(let t=0;t<i;t++)n+=e[t],t<i-1&&(n+=",");return n}var kd,Tg,Ld,Cd=it(()=>{"use strict";Jt();$t();mr();fn();kd={name:"unpack",inputNames:["A"],inputTypes:[2]},Tg=(i,e)=>{let n=e.dims.length,t=Rn("rc",n),r=t.slice(-2),o=ke(n),s=yr(),u=e.dims.length===0?"":xg(n,t),c=n<=1?"rc":`vec2(${r.join(",")})`,v=Tt(i.session.backend.glContext.version),S=`
    ${s}
    void main() {
      ${o} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${u});

       ${v.output} = vec4(getChannel(packedInput, ${c}), 0, 0, 0);
     }
   `;return{...kd,hasMain:!0,output:{dims:e.dims,type:e.type,textureType:0},shaderSource:S}},Ld=(i,e)=>({...kd,get:()=>Tg(i,e)})});var ji,_o,qi,Oo=it(()=>{"use strict";ze();ji=class{constructor(e,n=1){if(n===1)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=n;else if(n===4)this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=n;else throw new Error(`Invalid number of channels: ${n}`)}encode(e,n){let t,r;return e.constructor!==Float32Array&&(Ut.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(e)),n*this.channelSize>e.length?(Ut.warning("Encoder","Source data too small. Allocating larger array"),r=e,t=this.allocate(n*this.channelSize),r.forEach((o,s)=>t[s]=o)):(r=e,t=r),t}allocate(e){return new Float32Array(e*4)}decode(e,n){return this.channelSize===1?e.filter((r,o)=>o%4===0).subarray(0,n):e.subarray(0,n)}},_o=class{constructor(e,n=1,t){if(n!==1&&n!==4)throw new Error(`Invalid number of channels: ${n}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=n,this.textureType=t||e.FLOAT}encode(e,n){let t=e;return this.channelSize===1&&(Ut.verbose("Encoder","Exploding into a larger array"),t=this.allocate(n),e.forEach((r,o)=>t[o*4]=r)),t}allocate(e){return new Float32Array(e*4)}decode(e,n){return this.channelSize===1?e.filter((r,o)=>o%4===0).subarray(0,n):e.subarray(0,n)}},qi=class{constructor(e,n=1){this.channelSize=4;if(n===1)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=n;else if(n===4)this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=n;else throw new Error(`Invalid number of channels: ${n}`)}encode(e,n){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,n){if(e instanceof Uint8Array)return e.subarray(0,n);throw new Error(`Invalid array type: ${e.constructor}`)}}});var Io,Fd,Tf,$d=it(()=>{"use strict";Gt();$t();Io=(i,e,n)=>{let t=n===0||n===1?1:4,r=n===2,o=n===1||n===2,s=n===4?e.length-1:void 0,a=n===4?e.map((u,c)=>c===e.length-1?u*4:u):void 0;return Tf(i,e,t,a,{isPacked:r,reverseWH:o,breakAxis:s})},Fd=(i,e,n)=>{let t=Io(i,e,n);return[t.width,t.height]},Tf=(i,e,n=1,t,r)=>{let o=!!(r&&r.isPacked),[s,a]=i.computeTextureWH(o&&t||e,r),u=e.length,c=e.slice(0);if(u===0&&(c=[1]),n===1)t=e;else if(o){if(n!==4)throw new Error("a packed texture must be 4-channel");t=e,u>0&&(c[u-1]=Math.ceil(c[u-1]/2)),u>1&&(c[u-2]=Math.ceil(c[u-2]/2))}else if(!t)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:a,channels:n,isPacked:o,shape:c,strides:ht.computeStrides(c),unpackedShape:t,reversedWH:r&&r.reverseWH}}});var Og,Yi,Nd=it(()=>{"use strict";ze();un();Gt();Ad();Ed();Dd();Cd();Oo();$d();$t();Og=(i,e)=>{let n=e.map(r=>`${r.unpackedShape.join(",")};${r.width}x${r.height}`).join("_"),t=i.name;return i.cacheHint&&(t+="["+i.cacheHint+"]"),t+=":"+n,t},Yi=class{constructor(e){this.session=e;this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,n){return Fd(this.session.layoutStrategy,e,n)}executeProgram(e,n){if(n.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");let t=[];for(let c=0;c<e.inputNames.length;++c)t[c]=this.getOrCreateTextureData(n[c],e.inputTypes[c]);let r=Og(e,t),o=this.session.programManager.getArtifact(r),s=o?o.programInfo:typeof e.get=="function"?e.get():e,a=Io(this.session.layoutStrategy,s.output.dims,s.output.textureType),u=this.createTextureData(a,s.output.type);return o||(o=this.session.programManager.build(s,t,u),this.session.programManager.setArtifact(r,o)),this.runProgram(o,t,u),u}run(e,n){return this.executeProgram(e,n).tensor}runProgram(e,n,t){for(let r=0;r<n.length;++r)if(!!n[r].isPacked!=(e.programInfo.inputTypes[r]===2))throw new Error(`input[${r}] property packed inconsistent`);if(!!t.isPacked!=(e.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(e,n,t)}getOrCreateTextureData(e,n){let t=this.getTextureData(e.dataId,n===2);if(!t&&(t=this.getTextureData(e.dataId,n!==2),t))return n===2?this.pack(t):this.unpack(t);if(!t){let r=Io(this.session.layoutStrategy,e.dims,n);if(n===4){let a=e.dims;if(a.length===4){let u=[a[0],Math.ceil(a[1]*a[2]*a[3]/4)],c=Io(this.session.layoutStrategy,u,n),v=e.numberData;if(a[1]*a[2]*a[3]%4!==0){let S=a[0],E=a[1]*a[2]*a[3],N=Math.ceil(E*1/4)*4,Z=S*N;v=new Float32Array(Z);for(let H=0;H<S;++H){let rt=H*E,at=H*N+H%1*E;v.set(e.numberData.subarray(rt,rt+E),at)}}return this.createTextureData(c,e.type,v,e,1)}}if(n===2){let o=Tf(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),s=this.createTextureData(o,e.type,e.numberData,e,1);t=this.pack(s)}else t=this.createTextureData(r,e.type,e.numberData,e,1)}return t}createTextureDataFromLayoutBindTensor(e,n,t,r){return this.createTextureData(e,n,t,r,1)}createTextureData(e,n,t,r,o){Ut.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);let s=this.session.textureManager.createTextureFromLayout(n,e,t,o);return this.createTextureDataFromTexture(e,n,s,r)}reshapeUnpacked(e,n){let t=this.getOrCreateTextureData(e,0),r={channels:t.channels,height:t.height,width:t.width,shape:n.length!==0?n:[1],strides:ht.computeStrides(n),unpackedShape:n};return this.createTextureDataFromTexture(r,e.type,t.texture).tensor}reshapePacked(e,n){let t=this.getOrCreateTextureData(e,2);if(Pd(e.dims,n)){let c={channels:t.channels,height:t.height,width:t.width,shape:n.length!==0?n:[1],strides:ht.computeStrides(n),unpackedShape:n,isPacked:!0};return this.createTextureDataFromTexture(c,e.type,t.texture).tensor}let r=vf(e.dims),o=vf(n),s=this.reshapePacked(e,r),a=this.run(Sd(this,s,o),[s]);return this.reshapePacked(a,n)}cast(e,n){let t=this.getOrCreateTextureData(e,0);return this.createTextureDataFromTexture(t,n,t.texture).tensor}createTextureDataFromTexture(e,n,t,r,o){let s={...e,tensor:r||new pe(e.unpackedShape,n,a=>this.readTexture(s),async a=>this.readTextureAsync(s),void 0,o),texture:t};return this.setTextureData(s.tensor.dataId,s,e.isPacked),s}getTextureData(e,n=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,n):n?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,n,t=!1){this.session.isInitializer(e)?this.session.setTextureData(e,n,t):(t?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,n)}isTextureLayoutCached(e,n=!1){return!!this.getTextureData(e.dataId,n)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(wf(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(wf(this,e))}pack(e){return this.executeProgram(Id(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram(Ld(this,e.tensor),[e.tensor])}}});var xf,Dt,ge=it(()=>{"use strict";xf=class{constructor(e){Object.assign(this,e)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(e=>`${this[e]}`).join(";")),this.key}},Dt=i=>new xf(i)});var Md,Rd,Gd,Ig,Ag,Ud=it(()=>{"use strict";ge();Jt();$t();Md={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},Rd=(i,e,n)=>(Ag(e),[i.run({...Md,cacheHint:n.cacheKey,get:()=>Ig(i,e,n)},e)]),Gd=i=>{let e=i.attributes.getFloat("epsilon",1e-5),n=i.attributes.getFloat("momentum",.9),t=i.attributes.getInt("spatial",1);return Dt({epsilon:e,momentum:n,spatial:t})},Ig=(i,e,n)=>{let t=Tt(i.session.backend.glContext.version),r=e[0].dims.length,[o,s]=i.calculateTextureWidthAndHeight(e[1].dims,0),a=`
  float process(int[${r}] indices) {
    vec2 position = offsetToCoords(indices[1], ${o}, ${s});
    float scale = getColorAsFloat(${t.texture2D}(Scale, position));
    float mean = getColorAsFloat(${t.texture2D}(Mean, position));
    float variance = getColorAsFloat(${t.texture2D}(Variance, position));
    float b = getColorAsFloat(${t.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;
  }`;return{...Md,output:{dims:e[0].dims,type:e[0].type,textureType:0},shaderSource:a}},Ag=i=>{if(!i||i.length!==5)throw new Error("BatchNormalization requires 5 inputs.");let e=i[0],n=i[1],t=i[2],r=i[3],o=i[4];if(e.dims.length<3||n.dims.length!==1||t.dims.length!==1||r.dims.length!==1||o.dims.length!==1)throw new Error("invalid input shape.");if(n.dims[0]!==e.dims[1]||t.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1]||o.dims[0]!==e.dims[1])throw new Error("invalid input shape.");if(e.type!=="float32"&&e.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||o.type!=="float32"&&o.type!=="float64")throw new Error("invalid input tensor types.")}});var Ki,qe,dt,Ao,Xi,Sr=it(()=>{"use strict";Ki=class{constructor(e,n,t,r){this.glContext=e;this.programInfo=n;this.inputTextureLayouts=t;this.outputTextureLayout=r}},qe=class{constructor(e){this.context=e}},dt=class{constructor(e,n){this.routineBody=e;this.dependencies=n}},Ao=class{constructor(e,n,t){this.name=e;t?this.dependencies=t:this.dependencies=[],n&&(this.routineBody=n)}addDependency(e){e&&this.dependencies.push(e)}},Xi=class{static returnOrderedNodes(e){if(!e||e.length===0)return[];if(e.length===1)return e;let n=new Set,t=new Set,r=new Array;return this.createOrderedNodes(e,n,t,r),r}static createOrderedNodes(e,n,t,r){for(let o=0;o<e.length;++o)this.dfsTraverse(e[o],n,t,r)}static dfsTraverse(e,n,t,r){if(!e||t.has(e.name))return;if(n.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");n.add(e.name);let o=e.dependencies;if(o&&o.length>0)for(let s=0;s<o.length;++s)this.dfsTraverse(o[s],n,t,r);r.push(e),t.add(e.name),n.delete(e.name)}}});function Pg(){let i="add_";return{body:`
  float ${i}(float a, float b) {
    return a + b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:i,type:0}}function Eg(){let i="div_";return{body:`
  float ${i}(float a, float b) {
    return a / b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:i,type:0}}function Dg(){let i="mul_";return{body:`
  float ${i}(float a, float b) {
    return a * b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:i,type:0}}function kg(){let i="sub_";return{body:`
  float ${i}(float a, float b) {
    return a - b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:i,type:0}}function Lg(){let i="equal_";return{body:`
  float ${i}(float a, float b) {
    return float(a == b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:i,type:0}}function Cg(){let i="greater_";return{body:`
  float ${i}(float a, float b) {
    return float(a > b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:i,type:0}}function Fg(){let i="less_";return{body:`
  float ${i}(float a, float b) {
    return float(a < b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:i,type:0}}function $g(){let i="and_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:i,type:0}}function Bg(){let i="or_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:i,type:0}}function Ng(){let i="xor_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:i,type:0}}function Mg(){return Gg("pow")}function Rg(){let i="prelu_";return{body:`
  float ${i}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:i,type:0}}function Gg(i){let e=`${i}_`;return{body:`
  float ${e}(float a, float b) {
    return ${i}(a, b);
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return ${i}(v1, v2);
  }
  `,name:e,type:0}}var Ye,Ug,Wd,zd,Hd,Vd,jd,qd,Yd,Kd,Xd,Jd,Zd,Qd,tp=it(()=>{"use strict";Gt();Sr();Jt();$t();Ye=(i,e,n,t=e[0].type,r)=>{let o=i.session.pack?2:0;return{name:n.name,inputNames:["A","B"],inputTypes:[o,o],cacheHint:r,get:()=>Ug(i,e,n,t)}},Ug=(i,e,n,t=e[0].type)=>{let r=i.session.pack?2:0,o=!ht.areEqual(e[0].dims,e[1].dims),s=e[0].dims,a=i.session.pack;if(o){let v=De.calcShape(e[0].dims,e[1].dims,!1);if(!v)throw new Error("Can't perform binary op on the given tensors");s=v;let S=s.length,E=e[0].dims.length!==0?e[0].dims.length:1,N=e[1].dims.length!==0?e[1].dims.length:1,Z=e[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",H=e[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",rt=Tt(i.session.backend.glContext.version),at=a?`
      ${n.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${n.name}(a, b);
        ${rt.output} = result;
      }`:`
      ${n.body}
      float process(int indices[${S}]) {
        int aindices[${E}];
        int bindices[${N}];
        ${Z}
        ${H}
        return ${n.name}(_A(aindices), _B(bindices));
      }`;return{name:n.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:s,type:t,textureType:r},shaderSource:at,hasMain:a}}let u=Tt(i.session.backend.glContext.version),c=`
    ${n.body}
    void main() {
      vec4 v1 = ${u.texture2D}(A, TexCoords);
      vec4 v2 = ${u.texture2D}(B, TexCoords);
      vec4 result = ${n.name}(v1, v2);
      ${u.output} = result;
    }
    `;return{name:n.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:e[0].dims,type:t,textureType:r},shaderSource:c,hasMain:!0}},Wd=(i,e)=>[i.run(Ye(i,e,Pg()),e)],zd=(i,e)=>[i.run(Ye(i,e,$g(),"bool"),e)],Hd=(i,e)=>[i.run(Ye(i,e,Eg()),e)],Vd=(i,e)=>[i.run(Ye(i,e,Lg(),"bool"),e)],jd=(i,e)=>[i.run(Ye(i,e,Cg(),"bool"),e)],qd=(i,e)=>[i.run(Ye(i,e,Fg(),"bool"),e)],Yd=(i,e)=>[i.run(Ye(i,e,Dg()),e)],Kd=(i,e)=>[i.run(Ye(i,e,Bg(),"bool"),e)],Xd=(i,e)=>[i.run(Ye(i,e,Mg()),e)],Jd=(i,e)=>[i.run(Ye(i,e,Rg()),e)],Zd=(i,e)=>[i.run(Ye(i,e,kg()),e)],Qd=(i,e)=>[i.run(Ye(i,e,Ng(),"bool"),e)]});var ep,rp,zg,np=it(()=>{"use strict";Gt();ep=(i,e,n)=>(zg(e),[i.cast(e[0],n)]),rp=i=>xe.tensorDataTypeFromProto(i.attributes.getInt("to")),zg=i=>{if(!i||i.length!==1)throw new Error("Cast requires 1 input.");if(i[0].type==="string")throw new Error("Invalid input type.")}});var Hg,Vg,op,Ji,ip=it(()=>{"use strict";Jt();$t();mr();fn();Hg=(i,e)=>({name:"Concat (packed)",inputNames:Array.from({length:i},(n,t)=>`X${t}`),inputTypes:Array(i).fill(2),cacheHint:e}),Vg=(i,e,n,t)=>{let r=n[0].dims.slice();if(t>=r.length||t<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");t<0&&(t=r.length+t);let o=r.slice(0);for(let yt=1;yt<n.length;yt++){let Wt=n[yt].dims.slice();for(let Zt=0;Zt<r.length;Zt++)if(Zt===t)o[t]+=Wt[Zt];else if(r[Zt]!==Wt[Zt])throw new Error("non concat dimensions must match")}let s=o.length,a=Rn("coords",s),u=ke(s),c=yr(),v=n.map(yt=>yt.dims),S=ur(s),E=new Array(v.length-1);E[0]=v[0][t];for(let yt=1;yt<E.length;yt++)E[yt]=E[yt-1]+v[yt][t];let N=S[t],Z=S.slice(-2),H=S.join(),rt=`if (${N} < ${E[0]}) {
        return getChannel(
            getX0(${H}), vec2(${Z.join()}));
        }`;for(let yt=1;yt<E.length;yt++){let Wt=E[yt-1];rt+=`
            if (${N} < ${E[yt]}  && ${N} >= ${E[yt-1]}) {
              return getChannel(
                getX${yt}(${Ji(S,N,Wt)}),
                vec2(${Ji(Z,N,Wt)}));
            }`}let at=E.length,ot=E[E.length-1];rt+=`
            return getChannel(
              getX${at}(${Ji(S,N,ot)}),
              vec2(${Ji(Z,N,ot)}));`;let ut=Tt(i.session.backend.glContext.version),xt=`
          ${c}
          float getValue(${S.map(yt=>"int "+yt)}) {
            ${rt}
          }

          void main() {
            ${u} coords = getOutputCoords();
            int lastDim = coords.${S[s-1]};
            coords.${S[s-1]} = coords.${S[s-2]};
            coords.${S[s-2]} = lastDim;

            vec4 result = vec4(getValue(${a}), 0., 0., 0.);

            ${a[s-1]} = ${a[s-1]} + 1;
            if (${a[s-1]} < ${o[s-1]}) {
              result.g = getValue(${a});
            }

            ${a[s-2]} = ${a[s-2]} + 1;
            if (${a[s-2]} < ${o[s-2]}) {
              result.a = getValue(${a});
            }

            ${a[s-1]} = ${a[s-1]} - 1;
            if (${a[s-2]} < ${o[s-2]} &&
                ${a[s-1]} < ${o[s-1]}) {
              result.b = getValue(${a});
            }
            ${ut.output} = result;
          }
        `;return{...e,output:{dims:o,type:n[0].type,textureType:2},shaderSource:xt,hasMain:!0}},op=(i,e,n)=>{let t=Hg(e.length,n.cacheKey);return{...t,get:()=>Vg(i,t,e,n.axis)}},Ji=(i,e,n)=>{let t=i.indexOf(e);return i.map((o,s)=>s===t?`${o} - ${n}`:o).join()}});var ap,jg,qg,Yg,sp,Kg,Xg,Jg,up,Zg,fp=it(()=>{"use strict";ge();$t();ip();ap=(i,e,n)=>(Zg(e),i.session.pack&&e[0].dims.length>1?[i.run(op(i,e,n),e)]:[i.run(Yg(i,e,n),e)]),jg=(i,e)=>({name:"Concat",inputNames:Array.from({length:i},(n,t)=>`X${t}`),inputTypes:Array(i).fill(0),cacheHint:e}),qg=(i,e,n,t)=>{let r=n[0].dims.slice();if(t>=r.length||t<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");t<0&&(t=r.length+t);let o=r.slice(0);for(let N=1;N<n.length;N++){let Z=n[N].dims.slice();for(let H=0;H<r.length;H++)if(H===t)o[t]+=Z[H];else if(r[H]!==Z[H])throw new Error("non concat dimensions must match")}let s=o.length,a=new Array(n.length),u=0;for(let N=0;N<a.length;++N)u+=n[N].dims[t],a[N]=u;let c="";n.length<5?c=sp(a):c=Kg(a);let v=Xg(n.length,s),S=Jg(a),E=`
        ${v}
        ${S}
        ${c}
        float process(int indices[${s}]) {
          int textureIndex = getTextureWhereDataResides (indices[${t}]);

          if(textureIndex != 0) {
            indices[${t}] = indices[${t}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return{...e,output:{dims:o,type:n[0].type,textureType:0},shaderSource:E}},Yg=(i,e,n)=>{let t=jg(e.length,n.cacheKey);return{...t,get:()=>qg(i,t,e,n.axis)}},sp=i=>`int getTextureWhereDataResides(int index) {
      ${i.map((n,t)=>`if(index<${n}) {return ${t};}
`).join("")}
    }`,Kg=i=>sp(i),Xg=(i,e)=>{let n=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${e}]) {`];for(let t=0;t<i;++t)t===0?n.push(`	if (textureIndex == ${t}) { return _X${t}(indices); }`):t===i-1?n.push(`	else { return _X${t}(indices); }`):n.push(`	else if (textureIndex == ${t}) { return _X${t}(indices); }`);return n.push("	}"),n.join(`
`)},Jg=i=>{let e=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<i.length;++n)n===0?e.push(`	if (index == ${n}) { return ${i[n]}; }`):n===i.length-1?e.push(`	else { return ${i[n]}; }`):e.push(`	else if (index == ${n}) { return ${i[n]}; }`);return e.push("	}"),e.join(`
`)},up=i=>Dt({axis:i.attributes.getInt("axis")}),Zg=i=>{if(!i||i.length<1)throw new Error("too few inputs");let e=i[0].type,n=i[0].dims.length;if(e==="string")throw new Error("string tensor is not supported yet");for(let t of i){if(t.type!==e)throw new Error("input tensors should be one type");if(t.dims.length!==n)throw new Error("input tensors should have the same shape")}}});function Qg(){return Ke("abs")}function t0(){return Ke("acos")}function e0(){return Ke("asin")}function r0(){return Ke("atan")}function n0(){return Ke("ceil")}function o0(){return Ke("cos")}function i0(i){let e="elu";return{body:`
  const float alpha = float(${i});

  float ${e}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${e}_(vec4 v) {
    return vec4(${e}_(v.x), ${e}_(v.y), ${e}_(v.z), ${e}_(v.w));
  }
  `,name:e,type:0}}function a0(){return Ke("exp")}function s0(){return Ke("floor")}function _f(i,e){let n="clip";return{body:`
  const float min = float(${i});
  const float max = float(${e});

  float ${n}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${n}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:n,type:0}}function u0(){let i="indentity";return{body:`
  float ${i}_(float a) {
    return a;
  }
  vec4 ${i}_(vec4 v) {
    return v;
  }
  `,name:i,type:0}}function f0(i){let e="leakyRelu";return{body:`
  const float alpha = float(${i});

  float ${e}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${e}_(vec4 v) {
    return vec4(${e}_(v.x), ${e}_(v.y), ${e}_(v.z), ${e}_(v.w));
  }
  `,name:e,type:0}}function c0(){return Ke("log")}function l0(){let i="neg";return{body:`
  float ${i}_(float a) {
    return -a;
  }
  vec4 ${i}_(vec4 v) {
    return -v;
  }
  `,name:i,type:0}}function d0(){let i="not";return{body:`
  float ${i}_(float a) {
    return float( ! bool(a) );
  }
  bool ${i}_(bool a) {
    return !a;
  }
  vec4 ${i}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${i}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:i,type:0}}function p0(){return Ke("sin")}function Of(){let i="relu";return{body:`
  float ${i}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${i}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:i,type:0}}function If(){let i="sigmoid";return{body:`
  float ${i}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${i}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:i,type:0}}function h0(){return Ke("sqrt")}function m0(){return Ke("tan")}function y0(){let i="tanh";return{body:`
  float ${i}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${i}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:i,type:0}}function Ke(i){return{body:`
  float ${i}_(float a) {
    return ${i}(a);
  }
  vec4 ${i}_(vec4 v) {
    return ${i}(v);
  }
  `,name:i,type:0}}var b0,fe,cp,lp,dp,pp,Af,hp,mp,g0,yp,bp,gp,vp,wp,Tp,Sf,xp,_p,Op,Ip,Ap,Sp,Pp,Ep,Dp,kp,Lp,Pf=it(()=>{"use strict";ge();Gt();Sr();Jt();$t();b0=(i,e,n,t)=>{let r=i.session.pack?2:0,o=Tt(i.session.backend.glContext.version);return{...e,output:{dims:n.dims,type:n.type,textureType:r},shaderSource:`
     ${t.body}
     void main() {
       vec4 v = ${o.texture2D}(A, TexCoords);
       v = ${t.name}_(v);
       ${o.output} = v;
     }
     `,hasMain:!0}},fe=(i,e,n,t)=>{let r=i.session.pack?2:0,o={name:n.name,inputTypes:[r],inputNames:["A"],cacheHint:t};return{...o,get:()=>b0(i,o,e,n)}},cp=(i,e)=>[i.run(fe(i,e[0],Qg()),e)],lp=(i,e)=>[i.run(fe(i,e[0],t0()),e)],dp=(i,e)=>[i.run(fe(i,e[0],e0()),e)],pp=(i,e)=>[i.run(fe(i,e[0],r0()),e)],Af=(i,e,n)=>[i.run(fe(i,e[0],_f(n.min,n.max),n.cacheKey),e)],hp=i=>Dt({min:i.attributes.getFloat("min",an),max:i.attributes.getFloat("max",sn)}),mp=(i,e)=>{let n=g0(i,e);return Af(i,[e[0]],n)},g0=(i,e)=>{if(e.length>=3&&(!i.session.isInitializer(e[1].dataId)||!i.session.isInitializer(e[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let n=e.length>=3?e[1].numberData[0]:an,t=e.length>=3?e[2].numberData[0]:sn;return Dt({min:n,max:t})},yp=(i,e)=>[i.run(fe(i,e[0],n0()),e)],bp=(i,e)=>[i.run(fe(i,e[0],o0()),e)],gp=(i,e,n)=>[i.run(fe(i,e[0],i0(n.alpha),n.cacheKey),e)],vp=i=>Dt({alpha:i.attributes.getFloat("alpha",1)}),wp=(i,e)=>[i.run(fe(i,e[0],a0()),e)],Tp=(i,e)=>[i.run(fe(i,e[0],s0()),e)],Sf=(i,e)=>[i.run(fe(i,e[0],u0()),e)],xp=(i,e,n)=>[i.run(fe(i,e[0],f0(n.alpha),n.cacheKey),e)],_p=i=>Dt({alpha:i.attributes.getFloat("alpha",.01)}),Op=(i,e)=>[i.run(fe(i,e[0],c0()),e)],Ip=(i,e)=>[i.run(fe(i,e[0],l0()),e)],Ap=(i,e)=>[i.run(fe(i,e[0],d0()),e)],Sp=(i,e)=>[i.run(fe(i,e[0],Of()),e)],Pp=(i,e)=>[i.run(fe(i,e[0],If()),e)],Ep=(i,e)=>[i.run(fe(i,e[0],p0()),e)],Dp=(i,e)=>[i.run(fe(i,e[0],h0()),e)],kp=(i,e)=>[i.run(fe(i,e[0],m0()),e)],Lp=(i,e)=>[i.run(fe(i,e[0],y0()),e)]});function br(i){let e;switch(i.activation){case"Relu":e=Of();break;case"Sigmoid":e=If();break;case"Clip":e=_f(i.clipMin,i.clipMax);break;default:return{activationFunction:"",applyActivation:""}}let n=e.name,t=e.body,r=`value = ${n}_(value);`;return{activationFunction:t,applyActivation:r}}var Gn,cn=it(()=>{"use strict";Gt();Pf();Gn=i=>{let e=i.getString("activation","");if(e==="Clip"){let[n,t]=i.getFloats("activation_params",[an,sn]);return{activation:e,clipMax:t,clipMin:n,activationCacheKey:`${e}:${n},${t}`}}return{activation:e,activationCacheKey:e}}});var w0,T0,Cp,Fp=it(()=>{"use strict";ze();Jt();$t();Zi();cn();w0=(i,e)=>({name:"GroupedConv",inputNames:i?["X","W","Bias"]:["X","W"],inputTypes:i?[0,0,0]:[0,0],cacheHint:e}),T0=(i,e,n,t)=>{let o=e.length>2?"value += getBias(output_channel);":"",s=e[0].dims.slice(),a=e[1].dims.slice(),u=a[0]/t.group;Ut.verbose("GroupedConv",`autpPad:${t.autoPad}, dilations:${t.dilations}, group:${t.group}, kernelShape:${t.kernelShape}, pads:${t.pads}, strides:${t.strides}`);let c=Un(s,a,t.dilations,t.pads,t.strides),v=Tt(i.session.backend.glContext.version),{activationFunction:S,applyActivation:E}=br(t),N=`
  const ivec2 strides = ivec2(${t.strides[0]}, ${t.strides[1]});
  const ivec2 pads = ivec2(${t.pads[0]}, ${t.pads[1]});
  ${S}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${u};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${a[1]}; wInChannel++) {
      int input_channel = group_id * ${a[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${a[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${t.dilations[0]};

        if (xHeight < 0 || xHeight >= ${s[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${a[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${t.dilations[1]};
          if (xWidth < 0 || xWidth >= ${s[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${o}
    ${E}
    ${v.output} = vec4(value, .0, .0, .0);
  }
`;return{...n,output:{dims:c,type:e[0].type,textureType:0},shaderSource:N,hasMain:!0}},Cp=(i,e,n)=>{let t=w0(e.length>2,n.cacheKey);return{...t,get:()=>T0(i,e,t,n)}}});var x0,_0,$p,Bp=it(()=>{"use strict";Jt();$t();fn();x0=i=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:i}),_0=(i,e,n,t,r,o)=>{let s=n.dims,a=t.dims,u=2,c=3,v=r.length,S=[a[1]*a[2]*a[3],r[2]*r[3]],E=a[2]*a[3],N=yr(),Z=Tt(i.session.backend.glContext.version),H="";for(let at=0;at<=1;at++)for(let ot=0;ot<=1;ot++)H+=`
            blockIndex = rc.x + ${ot};
            pos = rc.y + ${at};

            if(blockIndex < ${S[1]} && pos < ${S[0]}) {
              offsetY = int(blockIndex / (${r[v-1]})) * ${o.strides[0]} -
                ${o.pads[0]};
              d0 = offsetY + ${o.dilations[0]} * (imod(pos, ${E}) / ${a[2]});

              if(d0 < ${s[u]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${r[v-1]}) * ${o.strides[1]} -
                  ${o.pads[1]};
                d1 = offsetX + ${o.dilations[1]} * imod(imod(pos, ${E}), ${a[2]});

                if(d1 < ${s[c]} && d1 >= 0) {

                  ch = int(float(pos)/ ${E}.);
                    innerDims = vec2(d0, d1);
                    result[${at*2+ot}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;let rt=`
      ${N}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${H}
          ${Z.output} = result;
      }
            `;return{...e,output:{dims:S,type:n.type,textureType:2},shaderSource:rt,hasMain:!0}},$p=(i,e,n,t,r)=>{let o=x0(r.cacheKey);return{...o,get:()=>_0(i,o,e,n,t,r)}}});function I0(i,e,n){let t=e[0].dims,r=e[1].dims,o=De.calcShape(t,r,!0);if(!o)throw new Error("Can't use matmul on the given tensors");let s=ke(o.length),a=ur(),{activationFunction:u,applyActivation:c}=br(n),v=e.length>2,S=v?"value += getBiasForMatmul();":"",E=v?`${Df(s,a,e[2].dims,o,!1)}`:"",N=o.length,Z=t.length,H=r.length,rt=t[t.length-1],at=`
    ${u}
    ${E}
    float process(int indices[${N}]) {
        int a[${Z}];
        int b[${H}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${rt}; ++k) {
            a[${Z-1}] = k;
            b[${H-2}] = k;
            value += _A(a) * _B(b);
        }
        ${S}
        ${c}
        return value;
    }`;return{...i,output:{dims:o,type:e[0].type,textureType:0},shaderSource:at}}function Ef(i,e){let n=O0(i.length>2,e.activationCacheKey);return{...n,get:()=>I0(n,i,e)}}function Df(i,e,n,t,r){let o="",s=n.length,a=t.length,u=a-s;a<2&&s>0?o="coords":o=n.map((H,rt)=>`coords.${e[rt+u]}`).join(", ");let v=De.getBroadcastDims(n,t).map(H=>`coords.${e[H+u]} = 0;`).join(`
`),E=ht.size(n)===1,N="vec4(outputValue.xx, outputValue.yy)";return E&&(N="vec4(outputValue.x)"),r?`
vec4 getBiasForMatmul() {
  ${i} coords = getOutputCoords();
  ${v}
  vec4 outputValue = getBias(${o});
  return ${N};
}`:`
float getBiasForMatmul() {
  ${i} coords = getOutputCoords();
  ${v}
  return getBias(coords.x);
}`}var Np,Mp,O0,A0,Qi=it(()=>{"use strict";Gt();$t();mr();cn();kf();Np=(i,e,n)=>(A0(e),i.session.pack?[i.run(ta(i,e,n),e)]:[i.run(Ef(e,n),e)]),Mp=i=>Gn(i.attributes),O0=(i,e)=>({name:"MatMul",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[0,0,0]:[0,0],cacheHint:e});A0=i=>{if(!i||i.length!==2)throw new Error("MatMul requires 2 inputs.");if(i[0].dims[i[0].dims.length-1]!==i[1].dims[i[1].dims.length-2])throw new Error("shared dimension does not match.");if(i[0].type!=="float32"&&i[0].type!=="float64"||i[1].type!=="float32"&&i[1].type!=="float64")throw new Error("inputs should be float type");if(i[0].type!==i[1].type)throw new Error("inputs types should match")}});function E0(i,e,n,t){let r=[],o=[],s=n[0].dims,a=n[1].dims,u=s.length,c=a.length,v=t.length,S=v-u,E=v-c;r=s.map((ut,xt)=>`coords.${e[xt+S]}`),r[u-1]="i*2",r.join(", "),o=a.map((ut,xt)=>`coords.${e[xt+E]}`),o[c-2]="i*2",o.join(", ");let N=De.getBroadcastDims(s,t),Z=De.getBroadcastDims(a,t),H=N.map(ut=>`coords.${e[ut+S]} = 0;`).join(`
`),rt=Z.map(ut=>`coords.${e[ut+E]} = 0;`).join(`
`),at=`int lastDim = coords.${e[v-1]};
  coords.${e[v-1]} = coords.${e[v-2]};
  coords.${e[v-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${i} coords = getOutputCoords();
  ${at}
  ${H}
  vec4 outputValue = getA(${r});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${i} coords = getOutputCoords();
  ${at}
  ${rt}
  vec4 outputValue = getB(${o});
  return outputValue;
}`}function D0(i,e){let n="";for(let t=0;t<e-2;t++)n+=`rc.${i[t]}, `;return n+=`rc.${i[e-2]}, i*2`,n}function k0(i,e){let n="";for(let t=0;t<e-2;t++)n+=`rc.${i[t]}, `;return n+=`i*2, rc.${i[e-1]}`,n}var S0,P0,ta,kf=it(()=>{"use strict";Gt();Jt();$t();mr();cn();Qi();S0=(i,e)=>({name:"MatMul (packed)",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[2,2,2]:[2,2],cacheHint:e}),P0=(i,e,n,t)=>{let r=n.length>2,o=r?"value += getBiasForMatmul();":"",s=n[0].dims,a=n[1].dims,u=De.calcShape(s,a,!0),c=!ht.areEqual(n[0].dims,n[1].dims);if(!u)throw new Error("Can't use matmul on the given tensors");let v=s[s.length-1],S=Math.ceil(v/2),E=s.length,N=a.length,Z=Tt(i.session.backend.glContext.version),H=ke(u.length),rt=u.length,at=ur(),{activationFunction:ot,applyActivation:ut}=br(t),xt=r?`${Df(H,at,n[2].dims,u,!0)}`:"",yt=c?`${E0(H,at,n,u)}`:"",Wt=c?"getAAtOutCoordsMatmul(i)":`getA(${D0(at,E)})`,Zt=c?"getBAtOutCoordsMatmul(i)":`getB(${k0(at,N)})`,pt=c?"":`${H} rc =
          getOutputCoords(); int lastDim = rc.${at[rt-1]}; rc.${at[rt-1]} =
          rc.${at[rt-2]}; rc.${at[rt-2]} = lastDim;
      `,It=`
            ${yt}
            ${xt}
            ${ot}
            void main() {
              ${pt}

              vec4 value = vec4(0);
              for (int i = 0; i < ${S}; i++) {
                vec4 a = ${Wt};
                vec4 b = ${Zt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${o}
              ${ut}
              ${Z.output} = value;
            }`;return{...e,output:{dims:u,type:n[0].type,textureType:2},shaderSource:It,hasMain:!0}},ta=(i,e,n)=>{let t=S0(e.length>2,n.activationCacheKey);return{...t,get:()=>P0(i,t,e,n)}}});var Rp,Gp=it(()=>{"use strict";Zi();Bp();kf();Rp=(i,e,n)=>{let t=e[0].dims,r=e[1].dims,o=Un(t,r,n.dilations,n.pads,n.strides),s=i.run($p(i,e[0],e[1],o,n),[e[0]]),a=i.reshapePacked(e[1],[r[0],r[1]*r[2]*r[3]]),u=e.length===3?[a,s,e[2]]:[a,s],c=i.run(ta(i,u,n),u);return i.reshapePacked(c,o)}});var L0,C0,Up,Lf,Cf=it(()=>{"use strict";$t();L0=i=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:i}),C0=(i,e,n,t,r,o)=>{let s=n.dims,a=t.dims,u=r.length,c=Lf(s,a,r,4),v=`
        const int XC = ${s[1]};
        const int XH = ${s[2]};
        const int XW = ${s[3]};
        const int KH = ${o.kernelShape[0]};
        const int KW = ${o.kernelShape[1]};
        const int dilationH = ${o.dilations[0]};
        const int dilationW = ${o.dilations[1]};
        const int strideH = ${o.strides[0]};
        const int strideW = ${o.strides[1]};
        const int padH = ${o.pads[0]};
        const int padW = ${o.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${u}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${s.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return{...e,output:{dims:c,type:n.type,textureType:4},shaderSource:v}},Up=(i,e,n,t,r)=>{let o=L0(r.cacheKey);return{...o,get:()=>C0(i,o,e,n,t,r)}},Lf=(i,e,n,t=4)=>[n[0],n[2],n[3],Math.ceil(i[1]*e[2]*e[3]/t)]});var F0,$0,Wp,zp=it(()=>{"use strict";Gt();Jt();$t();cn();Cf();F0=(i,e)=>({name:"ConvDotProduct",inputNames:i?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:i?[0,4,0]:[0,4],cacheKey:e.activationCacheKey}),$0=(i,e,n,t,r)=>{let o=n[0].dims,s=n[1].dims,a=[s[0],Math.ceil(o[1]*s[2]*s[3]/4)],u=Lf(o,s,t),[c,v]=i.calculateTextureWidthAndHeight(a,4),S=ht.computeStrides(u),[E,N]=i.calculateTextureWidthAndHeight(u,4),Z=t.length,H=n.length<3?"0.0":"_B(b)",rt=Math.ceil(o[1]*s[2]*s[3]/4),{activationFunction:at,applyActivation:ot}=br(r),ut=Tt(i.session.backend.glContext.version),xt=`
${at}
float process(int indices[${Z}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${S[0]} + im2col[1] * ${S[1]} + im2col[2] * ${S[2]};
  int kernelOffset = indices[1] * ${a[1]};
  float value = ${H};
  for (int i = 0; i < ${rt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${E}, ${N});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${c}, ${v});
    value += dot(${ut.texture2D}(Im2Col, im2colCoords), ${ut.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${ot}
  return value;
}`;return{...e,output:{dims:t,type:n[0].type,textureType:0},shaderSource:xt}},Wp=(i,e,n,t)=>{let r=F0(e.length>2,t);return{...r,get:()=>$0(i,r,e,n,t)}}});var Un,Ff,B0,N0,M0,R0,$f,G0,Zi=it(()=>{"use strict";ge();Gt();Fp();Gp();zp();cn();Cf();Qi();Un=(i,e,n,t,r)=>{let o=i[0],s=i.slice(2),a=s.length,u=e[0],v=e.slice(2).map((Z,H)=>Z+(Z-1)*(n[H]-1)),E=s.map((Z,H)=>Z+t[H]+t[H+a]).map((Z,H)=>Math.floor((Z-v[H]+r[H])/r[H]));return[o,u].concat(...E)},Ff=(i,e,n)=>(G0(e,n),B0(i,e,n)),B0=(i,e,n)=>{let t=R0(n,e),r=i.session.pack,o=t.kernelShape[0]===1&&t.kernelShape[1]===1;return t.group>1?[i.run(Cp(i,e,t),e)]:o&&r?[N0(i,e,t)]:r&&e[0].dims.length===4&&e[0].dims[0]===1&&!o?[Rp(i,e,t)]:[M0(i,e,t)]},N0=(i,e,n)=>{let t=e[0].dims,r=e[1].dims,o=Un(t,r,n.dilations,n.pads,n.strides),s=i.reshapeUnpacked(e[0],[t[1],t[2]*t[3]]),a=i.reshapeUnpacked(e[1],[r[0],r[1]]),u=e.length>2?[a,s,e[2]]:[a,s],c=i.run(Ef(u,n),u);return i.reshapeUnpacked(c,o)},M0=(i,e,n)=>{let t=e[0].dims,r=e[1].dims,o=Un(t,r,n.dilations,n.pads,n.strides),s=i.run(Up(i,e[0],e[1],o,n),[e[0]]),a=e.length===3?[s,e[1],e[2]]:[s,e[1]];return i.run(Wp(i,e,o,n),a)},R0=(i,e)=>{let n=i.kernelShape.slice();if(i.kernelShape.length===0)for(let o=2;o<e[1].dims.length;++o)n.push(e[1].dims[o]);let t=i.pads.slice();on.adjustPadsBasedOnAutoPad(e[0].dims,i.strides,i.dilations,n,t,i.autoPad);let r=Object.assign({},i);return Object.assign(r,{kernelShape:n,pads:t,cacheKey:i.cacheKey}),r},$f=i=>{let e=i.attributes,n=Gn(e),t=e.getString("auto_pad","NOTSET"),r=e.getInts("dilations",[1,1]),o=e.getInt("group",1),s=e.getInts("kernel_shape",[]),a=e.getInts("pads",[0,0,0,0]),u=e.getInts("strides",[1,1]);return Dt({autoPad:t,dilations:r,group:o,kernelShape:s,pads:a,strides:u,...n})},G0=(i,e)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let n=i[0].dims[1],t=i[1].dims[1]*e.group;if(n!==t)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(i.length===3&&(i[2].dims.length!==1||i[1].dims[0]!==i[2].dims[0]))throw new Error("invalid bias");let r=i[0].dims.length-2;if(e.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(e.strides.length!==r)throw new Error(`strides should be ${r}D`);if(e.pads.length!==r*2)throw new Error(`pads should be ${r*2}D`);if(e.kernelShape.length!==0&&e.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}});var U0,W0,z0,Hp,H0,V0,j0,q0,Y0,K0,Vp,X0,jp=it(()=>{"use strict";ge();Jt();$t();cn();U0=(i,e,n,t,r,o)=>(i-1)*e+n+(t-1)*r+1-o,W0=(i,e,n,t,r)=>{let o=Math.floor(i/2);e==="SAME_UPPER"?(n[t]=o,n[r]=i-o):e==="SAME_LOWER"&&(n[t]=i-o,n[r]=o)},z0=(i,e,n,t,r,o,s,a)=>{let u=i.length-2,c=a.length===0;for(let v=0;v<u;++v){let S=c?i[v+2]*o[v]:a[v],E=U0(i[v+2],o[v],r[v],e[v],n[v],S);W0(E,t,r,v,v+u),c&&a.push(o[v]*(i[v+2]-1)+s[v]+(e[v]-1)*n[v]+1-r[v]-r[v+u])}},Hp=(i,e,n)=>(X0(e,n),H0(i,e,n)),H0=(i,e,n)=>{let t=K0(n,e);return[Y0(i,e,t)]},V0=(i,e)=>({name:"ConvTranspose",inputNames:i?["X","W","B"]:["X","W"],inputTypes:i?[0,0,0]:[0,0],cacheHint:e}),j0=(i,e,n,t)=>{let o=e.length>2?"getB(output_channel)":"0.0",s=e[0].dims,a=e[1].dims,u=a[1],c=a[0]/t.group,v=[e[0].dims[0],e[1].dims[1]*t.group,...t.outputShape],S=Tt(i.session.backend.glContext.version),{activationFunction:E,applyActivation:N}=br(t),Z=`
  const ivec2 strides = ivec2(${t.strides[0]}, ${t.strides[1]});
  const ivec2 pads = ivec2(${t.pads[0]}, ${t.pads[1]});
  ${E}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${u};
    int wOutChannel = output_channel - group_id * ${u};

    float value = ${o};
    for (int inChannelOffset = 0; inChannelOffset < ${c}; inChannelOffset++) {
      int input_channel = group_id * ${c} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${a[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${a[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${t.dilations[0]}, wHOff * ${t.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${s[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${s[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${N}
    ${S.output} = vec4(value, .0, .0, .0);
  }
`;return{...n,output:{dims:v,type:e[0].type,textureType:0},shaderSource:Z,hasMain:!0}},q0=(i,e,n)=>{let t=V0(e.length>2,n.cacheKey);return{...t,get:()=>j0(i,e,t,n)}},Y0=(i,e,n)=>i.run(q0(i,e,n),e),K0=(i,e)=>{let n=i.kernelShape.slice();if(i.kernelShape.length===0)for(let a=2;a<e[1].dims.length;++a)n.push(e[1].dims[a]);let t=i.pads.slice(),r=i.outputShape.slice(),o=e[0].dims;z0(o,n,i.dilations,i.autoPad,t,i.strides,i.outputPadding,r);let s=Object.assign({},i);return Object.assign(s,{kernelShape:n,pads:t,outputShape:r,cacheKey:i.cacheKey}),s},Vp=i=>{let e=i.attributes,n=Gn(e),t=e.getString("auto_pad","NOTSET"),r=e.getInts("dilations",[1,1]),o=e.getInt("group",1),s=e.getInts("kernel_shape",[]),a=e.getInts("output_padding",[0,0]),u=e.getInts("output_shape",[]),c=e.getInts("pads",[0,0,0,0]),v=e.getInts("strides",[1,1]);return Dt({autoPad:t,dilations:r,group:o,kernelShape:s,outputPadding:a,outputShape:u,pads:c,strides:v,...n})},X0=(i,e)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let n=i[0].dims[1],t=i[1].dims[0];if(n!==t)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let r=i[1].dims[1]*e.group;if(i.length===3&&(i[2].dims.length!==1||i[2].dims[0]!==r))throw new Error("invalid bias");let o=i[0].dims.length-2;if(e.dilations.length!==o)throw new Error(`dilations should be ${o}D`);if(e.strides.length!==o)throw new Error(`strides should be ${o}D`);if(e.pads.length!==o*2)throw new Error(`pads should be ${o*2}D`);if(e.outputPadding.length!==o)throw new Error(`output_padding should be ${o}D`);if(e.kernelShape.length!==0&&e.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(e.outputShape.length!==0&&e.outputShape.length!==i[0].dims.length-2)throw new Error("invalid output shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}});var qp,ln,Yp,J0,Kp,Z0,Q0,tv,ea=it(()=>{"use strict";ge();Gt();$t();qp={name:"Transpose",inputNames:["A"],inputTypes:[0]},ln=(i,e,n)=>(tv(e),[i.run({...qp,cacheHint:n.cacheKey,get:()=>J0(i,e[0],n.perm)},e)]),Yp=i=>Dt({perm:i.attributes.getInts("perm",[])}),J0=(i,e,n)=>{let t=e.dims;n=Kp(t,n);let r=Z0(t,n),o=t.length,s=`
      ${Q0("perm",n,o)}
      float process(int indices[${o}]) {
        int a[${o}];
        perm(a, indices);
        return _A(a);
      }`;return{...qp,output:{dims:r,type:e.type,textureType:0},shaderSource:s}},Kp=(i,e)=>(e&&e.length!==i.length&&(e=[...i.keys()].reverse()),e),Z0=(i,e)=>(e=Kp(i,e),ht.sortBasedOnPerm(i,e)),Q0=(i,e,n)=>{let t=[];t.push(`void ${i}(out int a[${n}], int src[${n}]) {`);for(let r=0;r<n;++r)t.push(`	a[${e[r]}]=src[${r}];`);return t.push("	}"),t.join(`
`)},tv=i=>{if(!i||i.length!==1)throw new Error("Transpose requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("input should be float tensor")}});var Xp,Jp,ev,Zp=it(()=>{"use strict";ea();Xp=(i,e,n)=>{ev(e);let t=n.blocksize,r=t*t,o=n.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],s=n.mode==="DCR"?[e[0].dims[0],t,t,e[0].dims[1]/r,e[0].dims[2],e[0].dims[3]]:[e[0].dims[0],e[0].dims[1]/r,t,t,e[0].dims[2],e[0].dims[3]],a=i.reshapeUnpacked(e[0],s),u={perm:o,cacheKey:`${o}`},[c]=ln(i,[a],u),v=[e[0].dims[0],e[0].dims[1]/r,e[0].dims[2]*t,e[0].dims[3]*t];return[i.reshapeUnpacked(c,v)]},Jp=i=>{let e=i.attributes.getInt("blocksize");if(e<1)throw new Error(`blocksize must be >= 1, but got : ${e} for DepthToSpace`);let n=i.attributes.getString("mode","DCR");if(n!=="DCR"&&n!=="CRD")throw new Error(`unrecognized mode: ${n} for DepthToSpace`);return{mode:n,blocksize:e}},ev=i=>{if(i.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${i.length}`);if(i[0].type==="string"||i[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}});var Qp,th,rv,eh=it(()=>{"use strict";Gt();Qp=(i,e,n)=>{rv(e,n);let t=ht.flattenShape(e[0].dims,n);return[i.reshapeUnpacked(e[0],t)]},th=i=>i.attributes.getInt("axis",1),rv=(i,e)=>{if(!i||i.length!==1)throw new Error("Flatten requires 1 input.");let n=i[0].dims.length;if(n===0)throw new Error("scalar tensor is not supported.");if(e<-n||e>n)throw new Error("Invalid axis");if(i[0].type==="string")throw new Error("string tensor is not supported.")}});var Ur,So=it(()=>{"use strict";Ur=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]});var rh,nh,nv,ov,iv,av,oh=it(()=>{"use strict";ge();So();Gt();$t();rh=(i,e,n)=>(av(e,n.axis),[i.run(iv(i,e,n),e)]),nh=i=>Dt({axis:i.attributes.getInt("axis",0)}),nv={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},ov=(i,e,n,t)=>{let r=n[0].dims.slice(),o=n[1].dims.slice(),s=new Array(r.length+o.length-1);t=ht.normalizeAxis(t,r.length);let a=[];for(let E=0;E<s.length;E++)E<t?(s[E]=r[E],a.push(`inputIdx[${E}] = outputIdx[${E}];`)):E<t+o.length?(s[E]=o[E-t],a.push(`indexDataIdx[${E-t}] = outputIdx[${E}];`)):(s[E]=r[E-o.length+1],a.push(`inputIdx[${E-o.length+1}] = outputIdx[${E}];`));let u=s.length||1,c=r.length,v=o.length||1,S=`
      float process(int outputIdx[${u}]) {
        int inputIdx[${c}];
        int indexDataIdx[${v}];
        indexDataIdx[0] = 0;
        ${a.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${t}] = idx < 0 ? idx + ${r[t]} : idx;
        return _A(inputIdx);
      }`;return{...e,output:{dims:s,type:n[0].type,textureType:0},shaderSource:S}},iv=(i,e,n)=>{let t={...nv,cacheHint:n.cacheKey};return{...t,get:()=>ov(i,t,e,n.axis)}},av=(i,e)=>{if(!i||i.length!==2)throw new Error("Gather requires 2 inputs.");let n=i[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(e<-n||e>n-1)throw new Error("Invalid axis.");if(Ur.indexOf(i[0].type)===-1)throw new Error("Invaid input type.");if(i[1].type!=="int32"&&i[1].type!=="int16")throw new Error("Invaid input type.")}});var Bf,ih,ah,sh,sv,uv,fv,uh=it(()=>{"use strict";ge();Gt();$t();Bf=(i,e,n)=>(fv(e,n),[i.run(sv(e,n),e)]),ih=(i,e)=>{let n=i.attributes.getInt("transA",0)!==0,t=i.attributes.getInt("transB",0)!==0,r=i.attributes.getFloat("alpha",1),o=i.attributes.getFloat("beta",1);return Dt({transA:n,transB:t,alpha:r,beta:o,isOptionalC:e})},ah=i=>ih(i,!1),sh=i=>ih(i,!0),sv=(i,e)=>{let n={name:"Gemm",inputNames:i.length===3?["A","B","C"]:["A","B"],inputTypes:i.length===3?[0,0,0]:[0,0],key:e.cacheKey};return{...n,get:()=>uv(n,i,e)}},uv=(i,e,n)=>{let t=e[0].dims.slice(),r=e[1].dims.slice(),[o,s]=Hi.getShapeOfGemmResult(t,n.transA,r,n.transB,e.length===3?e[2].dims:void 0),a=[o,s];if(!a)throw new Error("Can't use gemm on the given tensors");let u=t[t.length-1],c="";n.transA&&(u=t[0]),n.transA&&n.transB?c="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?c="value += _A_T(a) * _B(b);":!n.transA&&n.transB?c="value += _A(a) * _B_T(b);":!n.transA&&!n.transB&&(c="value += _A(a) * _B(b);");let v=a.length,S=e.length===3?`int c[${e[2].dims.length}];`:"",E=e.length===3?"bcastIndices_C(indices, c);":"",N=e.length===3?"value += beta * _C(c);":"",Z=`
      float process(int indices[${v}]) {
          int a[${v}];
          int b[${v}];
          ${S}

          copyVec(indices, a);
          copyVec(indices, b);
          ${E}

          float value = 0.0;
          for (int k=0; k<${u}; ++k) {
              a[${v-1}] = k;
              b[${v-2}] = k;
              ${c}
          }

          value = value * alpha;
          ${N}
          return value;
      }`;return{...i,output:{dims:a,type:e[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:Z}},fv=(i,e)=>{if(!i)throw new Error("Input is missing");if(e.isOptionalC&&(i.length<2||i.length>3))throw new Error("Invaid input shape.");if(!e.isOptionalC&&i.length!==3)throw new Error("Gemm requires 3 inputs");if(i.length===3&&i[2].dims.length!==1&&i[2].dims.length!==2)throw new Error("Invalid input shape of C");if(i[0].type!=="float32"&&i[0].type!=="float64"||i[1].type!=="float32"&&i[1].type!=="float64"||i.length===3&&i[2].type!=="float32"&&i[2].type!=="float64")throw new Error("Invalid input type.");if(i[0].type!==i[1].type||i.length===3&&i[0].type!==i[2].type)throw new Error("Input types are mismatched")}});var fh,ch,cv,lv,dv,pv,hv,lh=it(()=>{"use strict";ge();$t();fh=(i,e,n)=>(hv(e),[i.run(dv(i,e,n),e)]),ch=i=>{let e=i.attributes.getFloat("scale"),n=i.attributes.getFloats("bias");return Dt({scale:e,bias:n})},cv={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},lv=(i,e,n,t)=>{let r=n[0].dims.slice(),o=r.length,a=`
      ${pv(t.bias.length)}
      float process(int indices[${o}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{...e,output:{dims:r,type:n[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:t.bias.length,data:t.bias},{name:"scale",type:"float",data:t.scale}],shaderSource:a}},dv=(i,e,n)=>{let t={...cv,cacheHint:n.cacheKey};return{...t,get:()=>lv(i,t,e,n)}},pv=i=>{let e=[`float getBias(float bias[${i}], int channel) {`];for(let n=0;n<i;++n)n===0?e.push(`	if (channel == ${n}) { return bias[${n}]; }`):n===i-1?e.push(`	else { return bias[${n}]; }`):e.push(`	else if (channel == ${n}) { return bias[${n}]; }`);return e.push("	}"),e.join(`
`)},hv=i=>{if(!i||i.length!==1)throw new Error("ImageScaler requires 1 input.");if(i[0].dims.length!==4)throw new Error("Invalid input shape.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")}});var ph,hh,dh,mv,yv,bv,gv,vv,wv,mh=it(()=>{"use strict";Jt();$t();ph=(i,e,n)=>{wv(e);let t=i.run(yv(e[0]),e);return[i.run(vv(i,e[0],n,t.dims),[e[0],t,e[1],e[2]])]},hh=i=>i.attributes.getFloat("epsilon",1e-5),dh={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},mv=(i,e)=>{let n=e.dims.slice(),t=n[1],r=n[2]*n[3],o=[n[0],t],s=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${r});
        temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${r});

        return v;
      }`;return{...i,output:{dims:o,type:e.type,textureType:4},shaderSource:s}},yv=i=>({...dh,get:()=>mv(dh,i)}),bv={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},gv=(i,e,n,t,r)=>{let o=Tt(i.session.backend.glContext.version),[s,a]=i.calculateTextureWidthAndHeight(r,4),[u,c]=[s/4,a],v=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${u}, ${c});
        return ${o.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return{...e,output:{dims:n.dims,type:n.type,textureType:0},variables:[{name:"epsilon",type:"float",data:t}],shaderSource:v}},vv=(i,e,n,t)=>{let r={...bv,cacheHint:`${n}`};return{...r,get:()=>gv(i,r,e,n,t)}},wv=i=>{if(!i||i.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");let e=i[0],n=i[1],t=i[2];if(e.dims.length<3||n.dims.length!==1||t.dims.length!==1)throw new Error("Invalid input shape.");if(n.dims[0]!==e.dims[1]||t.dims[0]!==e.dims[1])throw new Error("Input shapes are mismatched.");if(e.type!=="float32"&&e.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||t.type!=="float32"&&t.type!=="float64")throw new Error("Invalid input type.");if(i[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}});function Tv(i,e){let n=i[0].dims[1],t=i[0].dims.length,r=-Math.floor((e.size-1)/2),o=Math.ceil((e.size-1)/2),s=`float(${e.alpha}) / float(${e.size})`,a=`float(${e.bias})`,u=`float(${e.beta})`,c=`
    float process(int indices[${t}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${r}; i <= ${o}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${n}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(${a} + ${s} * square_sum, ${u});
    }`;return{...gh,cacheHint:e.cacheKey,output:{dims:i[0].dims,type:i[0].type,textureType:0},shaderSource:c}}function xv(i,e){return{...gh,cacheHint:e.cacheKey,get:()=>Tv(i,e)}}var yh,bh,gh,_v,vh=it(()=>{"use strict";ge();$t();yh=(i,e,n)=>(_v(e),[i.run(xv(e,n),e)]),bh=i=>{let e=i.attributes.getFloat("alpha",1e-4),n=i.attributes.getFloat("beta",.75),t=i.attributes.getFloat("bias",1),r=i.attributes.getInt("size");return Dt({alpha:e,beta:n,bias:t,size:r})},gh={name:"LRN",inputNames:["X"],inputTypes:[0]};_v=i=>{if(!i||i.length!==1)throw new Error("LRN requires 1 input.");if(i[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(i[0].type!=="float32")throw new Error("input should be float type")}});var Ov,Nf,wh,Th,xh,Iv,Av,Sv,Pv,Ev,Dv,kv,Lv,_h=it(()=>{"use strict";ge();Gt();Jt();$t();Ov={name:"Pad",inputNames:["A"],inputTypes:[0]},Nf=(i,e,n)=>(Sv(e),[i.run({...Ov,cacheHint:n.cacheKey,get:()=>Av(i,e[0],n)},e)]),wh=i=>{let e=i.attributes.getString("mode","constant"),n=i.attributes.getFloat("value",0),t=i.attributes.getInts("pads");return Dt({mode:e,value:n,pads:t})},Th=(i,e,n)=>{Pv(e);let t=Iv(i,e,n);return Nf(i,[e[0]],t)},xh=i=>i.attributes.getString("mode","constant"),Iv=(i,e,n)=>{if(!i.session.isInitializer(e[1].dataId)||e.length>=3&&!i.session.isInitializer(e[2].dataId))throw new Error("dynamic pad attributes are not allowed");let t=Array.from(e[1].integerData),r=e.length>=3?e[2].floatData[0]:0;return Dt({mode:n,pads:t,value:r})},Av=(i,e,n)=>{let t=ht.padShape(e.dims.slice(),n.pads),r=t.length,s=`
      ${Ev(i,e,n)}
      float process(int[${r}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:t,type:e.type,textureType:0},shaderSource:s}},Sv=i=>{if(!i||i.length!==1)throw new Error("Pad requires 1 input");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},Pv=i=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(i[1].type!=="int32")throw new Error("Invalid input type.");if(i.length>=3&&i[2].type==="string")throw new Error("Invalid input type.")},Ev=(i,e,n)=>{let t=Tt(i.session.backend.glContext.version),[r,o]=i.calculateTextureWidthAndHeight(e.dims,0),s=ht.computeStrides(e.dims);switch(n.mode){case"constant":return Dv(t,e.dims,s,r,o,n.pads,n.value);case"reflect":return kv(t,e.dims,s,r,o,n.pads);case"edge":return Lv(t,e.dims,s,r,o,n.pads);default:throw new Error("Invalid mode")}},Dv=(i,e,n,t,r,o,s)=>{let a=e.length,u="";for(let c=a-1;c>=0;--c)u+=`
        k = m[${c}] - ${o[c]};
        if (k < 0)  return constant;
        if (k >= ${e[c]}) return constant;
        offset += k * ${n[c]};
        `;return`
      float padA(int m[${a}]) {
        const float constant = float(${s});
        int offset = 0;
        int k = 0;
        ${u}
        vec2 coords = offsetToCoords(offset, ${t}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `},kv=(i,e,n,t,r,o)=>{let s=e.length,a="";for(let u=s-1;u>=0;--u)a+=`
        k = m[${u}] - ${o[u]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(e[u]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${e[u]}) { k = _2n_1 - k; }
        }
        offset += k * ${n[u]};
        `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${a}
        vec2 coords = offsetToCoords(offset, ${t}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `},Lv=(i,e,n,t,r,o)=>{let s=e.length,a="";for(let u=s-1;u>=0;--u)a+=`
        k = m[${u}] - ${o[u]};
        if (k < 0)  k = 0;
        if (k >= ${e[u]}) k = ${e[u]-1};
        offset += k * ${n[u]};
      `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${a}
        vec2 coords = offsetToCoords(offset, ${t}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `}});var Ih,Ah,Sh,Ph,Eh,Dh,kh,Lh,Ch,Cv,Oh,Fh,na,$h,ra,Fv,Bh=it(()=>{"use strict";ge();Gt();$t();Ih=(i,e,n)=>{na(e);let t={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:n.cacheKey};return[i.run({...t,get:()=>Sh(e,t,!1,n)},e)]},Ah=i=>{let e=i.attributes.getString("auto_pad","NOTSET"),n=i.attributes.getInt("ceil_mode",0),t=i.attributes.getInt("count_include_pad",0)!==0,r=i.attributes.getInts("kernel_shape"),o=i.attributes.getInts("strides",[]),s=i.attributes.getInts("pads",[]);if(n!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return Dt({autoPad:e,ceilMode:n,countIncludePad:t,kernelShape:r,strides:o,pads:s})},Sh=(i,e,n,t)=>{let[r,o]=Ch(i,t,n),s=ht.size(r.kernelShape),a="value += _X(x);",u="";r.countIncludePad?u+=`value /= float(${s});`:u+=`value /= float(${s} - pad);`;let v=`
        ${$h(i[0].dims,r,a,u,"0.0")}
      `;return{...e,output:{dims:o,type:i[0].type,textureType:0},shaderSource:v}},Ph=(i,e,n)=>{na(e);let t={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${n.countIncludePad}`};return[i.run({...t,get:()=>Sh(e,t,!0,n)},e)]},Eh=i=>{let e=i.attributes.getInt("count_include_pad",0)!==0;return Dt({autoPad:"",ceilMode:0,countIncludePad:e,kernelShape:[],strides:[],pads:[]})},Dh=(i,e,n)=>{na(e);let t={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:n.cacheKey};return[i.run({...t,get:()=>Lh(e,t,!1,n)},e)]},kh=i=>{let e=i.attributes.getString("auto_pad","NOTSET"),n=i.attributes.getInt("ceil_mode",0),t=i.attributes.getInts("kernel_shape"),r=i.attributes.getInts("strides",[]),o=i.attributes.getInts("pads",[]),s=i.attributes.getInt("storage_order",0),a=i.attributes.getInts("dilations",[]);if(s!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(n!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return Dt({autoPad:e,ceilMode:n,countIncludePad:!1,kernelShape:t,strides:r,pads:o,storageOrder:s,dilations:a})},Lh=(i,e,n,t)=>{let[r,o]=Ch(i,t,n),s=`
      value = max(_X(x), value);
    `,a="",c=`
      ${$h(i[0].dims,r,s,a,"-1e5")}
    `;return{...e,output:{dims:o,type:i[0].type,textureType:0},shaderSource:c}},Ch=(i,e,n)=>{let t=i[0].dims.slice(),r=Object.hasOwnProperty.call(e,"dilations"),o=e.kernelShape.slice(),s=e.strides.slice(),a=r?e.dilations.slice():[],u=e.pads.slice();on.adjustPoolAttributes(n,t,o,s,a,u);let c=on.computePoolOutputShape(n,t,s,a,o,u,e.autoPad),v=Object.assign({},e);return r?Object.assign(v,{kernelShape:o,strides:s,pads:u,dilations:a,cacheKey:e.cacheKey}):Object.assign(v,{kernelShape:o,strides:s,pads:u,cacheKey:e.cacheKey}),[v,c]},Cv={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Oh={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},Fh=(i,e)=>(na(e),[i.run({...Oh,get:()=>Lh(e,Oh,!0,Cv)},e)]),na=i=>{if(!i||i.length!==1)throw new Error("Pool ops requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},$h=(i,e,n,t,r)=>{let o=i.length;if(e.kernelShape.length<=2){let s=e.kernelShape[e.kernelShape.length-1],a=e.strides[e.strides.length-1],u=e.pads[e.pads.length/2-1],c=e.pads[e.pads.length-1],v=i[o-1],S="",E="",N="";if(u+c!==0?S=`
          for (int i = 0; i < ${s}; i++) {
            x[${o} - 1] = indices[${o} - 1] * ${a} - ${u} + i;
            if (x[${o} - 1] < 0 || x[${o} - 1] >= ${v}) {
              pad++;
              continue;
            }
            ${n}
          }`:S=`
          for (int i = 0; i < ${s}; i++) {
            x[${o} - 1] = indices[${o} - 1] * ${a} - ${u} + i;
            ${n}
          }`,e.kernelShape.length===2){let H=e.kernelShape[e.kernelShape.length-2],rt=e.strides[e.strides.length-2],at=e.pads[e.pads.length/2-2],ot=e.pads[e.pads.length-2],ut=i[o-2];at+ot!==0?E=`
            for (int j = 0; j < ${H}; j++) {
              x[${o} - 2] = indices[${o} - 2] * ${rt} - ${at} + j;
              if (x[${o} - 2] < 0 || x[${o} - 2] >= ${ut}) {
                pad+= ${s};
                continue;
              }
          `:E=`
            for (int j = 0; j < ${H}; j++) {
              x[${o} - 2] = indices[${o} - 2] * ${rt} - ${at} + j;
            `,N=`
          }
        `}return`
        float process(int indices[${o}]) {
          int x[${o}];
          copyVec(indices, x);

          float value = ${r};
          int pad = 0;
          ${E}
          ${S}
          ${N}
          ${t}
          return value;
        }
      `}else{let s=ht.size(e.kernelShape),a=ht.computeStrides(e.kernelShape),u=a.length,c=e.pads.length,v=Fv(u),S=ra(i,"inputDims"),E=ra(e.pads,"pads"),N=ra(a,"kernelStrides"),Z=ra(e.strides,"strides"),H=e.pads.reduce((ot,ut)=>ot+ut),rt="";return H?rt=`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${n}
          }`:rt=`
          }
          ${n}
        `,`
        ${v}
        float process(int indices[${o}]) {
          int x[${o}];
          copyVec(indices, x);
          int offset[${u}];
          int pads[${c}];
          int inputDims[${o}];
          int kernelStrides[${u}];
          int strides[${u}];
          ${E}
          ${S}
          ${Z}
          ${N}

          float value = ${r};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${s}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${o} - ${u}; j < ${o}; j++) {
              x[j] = indices[j] * strides[j - ${o} + ${u}]
                + offset[j - ${o} + ${u}] - pads[j - 2];
              ${rt}
          }
          ${t}

          return value;
        }
      `}},ra=(i,e)=>{let n="";for(let t=0;t<i.length;t++)n+=`
      ${e}[${t}] = ${i[t]};
    `;return n},Fv=i=>`
  void offsetToIndices(int offset, int[${i}] strides, out int[${i}] indices) {
    if (${i} == 0) {
      return;
    }
    for (int i = 0; i < ${i} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${i} - 1] = offset;
  }`});var dn,Wr,$v,Bv,Nh,Mh,Rh,Gh,Uh,Wh,zh,Hh=it(()=>{"use strict";ge();So();Gt();$t();dn=(i,e,n,t,r)=>{Bv(e);let o={name:t,inputNames:["A"],inputTypes:[0]};return[i.run({...o,cacheHint:n.cacheKey,get:()=>$v(i,e,n,t,r,o)},e)]},Wr=i=>{let e=i.attributes.getInts("axes",[]),n=i.attributes.getInt("keepdims",1)===1;return Dt({axes:e,keepDims:n})},$v=(i,e,n,t,r,o)=>{let s=[],a=e[0].dims.length||1,u=[],c=ht.normalizeAxes(n.axes,e[0].dims.length),v=r(e,c),S=v[1];for(let Z=0;Z<e[0].dims.length;Z++)c.indexOf(Z)>=0||c.length===0?(n.keepDims&&s.push(1),S=`
          for(int j${Z} = 0; j${Z} < ${e[0].dims[Z]}; j${Z}++) {
            inputIdx[${Z}] = j${Z};
            ${S}
          }`):(u.push(`inputIdx[${Z}] = outputIdx[${s.length}];`),s.push(e[0].dims[Z]));let N=`
      float process(int outputIdx[${s.length||1}]) {
        float value;                 // final result
        int inputIdx[${a}];      // addressing input data
        ${u.join(`
`)}
        ${v[0]}       // init ops for reduce max/min
        ${S}
        ${v[2]}       // final computation for reduce mean
        return value;
      }`;return{...o,output:{dims:s,type:e[0].type,textureType:0},shaderSource:N}},Bv=i=>{if(!i||i.length!==1)throw new Error("Reduce op requires 1 input.");if(Ur.indexOf(i[0].type)===-1)throw new Error("Invalid input type.")},Nh=(i,e,n)=>dn(i,e,n,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),Mh=(i,e,n)=>dn(i,e,n,"ReduceMean",(r,o)=>{let s=1;for(let a=0;a<r[0].dims.length;a++)(o.indexOf(a)>=0||o.length===0)&&(s*=r[0].dims[a]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${s}.;`]}),Rh=(i,e,n)=>dn(i,e,n,"ReduceMax",(r,o)=>{let s=[];for(let a=0;a<r[0].dims.length;a++)(o.indexOf(a)>=0||o.length===0)&&s.push(`inputIdx[${a}] = 0;`);return[`${s.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),Gh=(i,e,n)=>dn(i,e,n,"ReduceMin",(r,o)=>{let s=[];for(let a=0;a<r[0].dims.length;a++)(o.indexOf(a)>=0||o.length===0)&&s.push(`inputIdx[${a}] = 0;`);return[`${s.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),Uh=(i,e,n)=>dn(i,e,n,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),Wh=(i,e,n)=>dn(i,e,n,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),zh=(i,e,n)=>dn(i,e,n,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])});var Vh,jh=it(()=>{"use strict";Gt();Vh=(i,e)=>{let n=ht.calculateReshapedDims(e[0].dims,e[1].integerData);return i.session.pack?[i.reshapePacked(e[0],n)]:[i.reshapeUnpacked(e[0],n)]}});var qh,Mf,Yh,Kh,Po,Nv,Rf,oa,Gf=it(()=>{"use strict";ge();Jt();$t();qh={name:"Upsample",inputNames:["X"],inputTypes:[0]},Mf=(i,e,n)=>(Rf(e,n),[i.run({...qh,cacheHint:n.cacheKey,get:()=>Nv(i,e,n)},e)]),Yh=i=>Po(i,7),Kh=i=>Po(i,9),Po=(i,e)=>{let n=e>=10,t=i.attributes.getString("mode","nearest");if(t!=="nearest"&&t!=="linear"&&(e<11||t!=="cubic"))throw new Error(`unrecognized mode: ${t}`);let r=[];e<9&&(r=i.attributes.getFloats("scales"),oa(r,t,n));let o=i.attributes.getFloat("extrapolation_value",0),s=e>10?i.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(s)===-1)throw new Error(`coordinate_transform_mode '${s}' is not supported`);let a=s==="tf_crop_and_resize",u=a,c=t==="nearest"&&e>=11?i.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(c)===-1)throw new Error(`nearest_mode '${c}' is not supported`);let v=i.attributes.getFloat("cubic_coeff_a",-.75),S=i.attributes.getInt("exclude_outside",0)!==0;if(S&&t!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let E=e<11?!0:t==="nearest"&&s==="asymmetric"&&c==="floor",N=0,Z=0,H=0;return e>10?i.inputs.length>2?(N=1,Z=2,H=3):(Z=1,H=2):e===9&&(Z=1),Dt({opset:e,isResize:n,mode:t,scales:r,extrapolationValue:o,coordinateTransformMode:s,useExtrapolation:u,needRoiInput:a,nearestMode:c,cubicCoefficientA:v,excludeOutside:S,useNearest2xOptimization:E,roiInputIdx:N,scalesInputIdx:Z,sizesInputIdx:H})},Nv=(i,e,n)=>{let t=Tt(i.session.backend.glContext.version),[r,o]=i.calculateTextureWidthAndHeight(e[0].dims,0),s=e[0].dims.map((H,rt)=>Math.floor(H*n.scales[rt])),[a,u]=i.calculateTextureWidthAndHeight(s,0),c=s.length,v=new Array(c),S=new Array(c),E=`
      int output_pitches[${c}];
      int input_pitches[${c}];
      `;for(let H=c-1;H>=0;H--)v[H]=H===c-1?1:v[H+1]*s[H+1],S[H]=H===c-1?1:S[H+1]*e[0].dims[H+1],E+=`
        output_pitches[${H}] = ${v[H]};
        input_pitches[${H}] = ${S[H]};
        `;let N=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${r}, ${o});
        float value = getColorAsFloat(${t.texture2D}(X, coords));
        return value;
      }
      `,Z=n.mode==="nearest"?`
    ${N}
    float process(int indices[${c}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${E}

      int d, m;
      for (int dim = 0; dim < ${c}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:c===4?`
    ${N}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${E}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${e[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${N}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${E}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${e[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return{...qh,output:{dims:s,type:e[0].type,textureType:0},shaderSource:Z,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map(H=>Math.ceil(H))}]}},Rf=(i,e)=>{if(!i||e.opset<9&&i.length!==1||e.opset>=9&&e.opset<11&&i.length!==2||e.opset>=11&&i.length<2)throw new Error("invalid inputs.");if(e.scales.length>0&&i[0].dims.length!==e.scales.length)throw new Error("Invalid input shape.");if(i[0].type==="string")throw new Error("Invalid input tensor types.")},oa=(i,e,n)=>{if(n){for(let t of i)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(let t of i)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if((e==="linear"||e==="cubic")&&i.length!==2&&(i.length!==4||i[0]!==1||i[1]!==1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${n?"Resize":"Upsample"} opeartor.`)}});var Uf,Wf,Xh,Jh,Mv,Rv,Gv,Uv,Zh=it(()=>{"use strict";Jt();$t();mr();fn();Gf();Uf={name:"Resize",inputNames:["A"],inputTypes:[2]},Wf=(i,e,n)=>(Rf(e,n),[i.run({...Uf,cacheHint:n.cacheKey,get:()=>Mv(i,e,n)},e)]),Xh=i=>Po(i,10),Jh=i=>Po(i,11),Mv=(i,e,n)=>{let t=Tt(i.session.backend.glContext.version),[r,o]=Rv(e,n);if(r.every(ut=>ut===1)&&n.coordinateTransformMode!=="tf_crop_and_resize")return{...Uf,output:{dims:o,type:e[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${t.texture2D}(X, TexCoords);
                    ${t.output} = v;
                }`};let a=o.length;if(a<2)throw new Error(`output dimension should be at least 2, but got ${a}`);let u=o[a-2],c=o[a-1],v=e[0].dims;if(a!==v.length)throw new Error(`output dimension should match input ${v.length}, but got ${a}`);let S=v[a-2],E=v[a-1],N=r[a-2],Z=r[a-1],H="";if(n.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${n.mode}'`);switch(n.coordinateTransformMode){case"asymmetric":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${c}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${u}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${c}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${u}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${c}.0 - 1.0, ${u}.0 - 1.0, ${c}.0 - 1.0,
                            ${u}.0 - 1.0);
                        vec4 original = vec4(${E}.0 - 1.0, ${S}.0 - 1.0, ${E}.0 - 1.0,
                            ${S}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${n.coordinateTransformMode}'`)}let rt=ke(a),at=yr(),ot=`
            const vec2 inputWH = vec2(${S}.0, ${E}.0);
            const vec4 scaleWHWH = vec4(float(${N}), float(${Z}), float(${N}), float(${Z}));
            ${at}
            ${H}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${rt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${u-1};
                bool hasNextCol = rc.z < ${c-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${t.output} = vec4(newValue);
            }
        `;return{...Uf,output:{dims:o,type:e[0].type,textureType:2},hasMain:!0,shaderSource:ot}},Rv=(i,e)=>{let t=i[0].dims,r=e.scales,o;if(r.length===0){let a=i[e.scalesInputIdx];if(a&&a.size!==0){if(i[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");r=Gv(a,e.mode,e.isResize)}else{let u=i[e.sizesInputIdx];if(!u||u.size===0)throw new Error("Either scales or sizes MUST be provided as input.");o=Array.from(u.integerData),r=Uv(o,t,e.mode,e.isResize)}}else if(i[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let s=o||t.map((a,u)=>Math.floor(a*r[u]));return[r,s]},Gv=(i,e,n)=>{let t=Array.from(i.floatData);return oa(t,e,n),t},Uv=(i,e,n,t)=>{let r=e.length,o=new Array(r);for(let s=0,a=r;s<a;s++)if(e[s]===0){if(i[s]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");o[s]=1}else o[s]=i[s]/e[s];return oa(o,n,t),o}});var Qh,Wv,tm=it(()=>{"use strict";un();Qh=(i,e)=>(Wv(e),[new pe([e[0].dims.length],"int32",void 0,void 0,new Int32Array(e[0].dims))]),Wv=i=>{if(!i||i.length!==1)throw new Error("Shape requires 1 input.")}});var zf,em,rm,nm,zv,om,Hv,Vv,im=it(()=>{"use strict";ge();So();Gt();$t();zf={name:"Slice",inputNames:["A"],inputTypes:[0]},em=(i,e,n)=>(zv(e),[i.run({...zf,cacheHint:n.cacheKey,get:()=>nm(i,e[0],n)},e)]),rm=i=>{let e=i.attributes.getInts("starts"),n=i.attributes.getInts("ends"),t=i.attributes.getInts("axes",[]);return Dt({starts:e,ends:n,axes:t})},nm=(i,e,n)=>{let t=n.axes.length===0?e.dims.slice(0).map((S,E)=>E):n.axes,r=ht.normalizeAxes(t,e.dims.length),o=n.starts.map((S,E)=>S>e.dims[r[E]]-1?e.dims[r[E]]:ht.normalizeAxis(S,e.dims[r[E]])),s=n.ends.map((S,E)=>S>e.dims[r[E]]-1?e.dims[r[E]]:ht.normalizeAxis(S,e.dims[r[E]])),a=e.dims.slice(),u=[];for(let S=0;S<r.length;S++)a[r[S]]=s[S]-o[S],o[S]>0&&u.push(`outputIdx[${r[S]}] += ${o[S]};`);let v=`
      float process(int outputIdx[${a.length}]) {
        ${u.join(`
      `)}
        return _A(outputIdx);
      }`;return{...zf,output:{dims:a,type:e.type,textureType:0},shaderSource:v}},zv=i=>{if(!i||i.length!==1)throw new Error("Slice requires 1 input.");if(Ur.indexOf(i[0].type)===-1)throw new Error("Invalid input type.")},om=(i,e)=>{Vv(e);let n=Hv(i,e);return[i.run({...zf,cacheHint:n.cacheKey,get:()=>nm(i,e[0],n)},[e[0]])]},Hv=(i,e)=>{if(!i.session.isInitializer(e[1].dataId)||!i.session.isInitializer(e[2].dataId)||e.length>=4&&!i.session.isInitializer(e[3].dataId)||e.length>=5&&!i.session.isInitializer(e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(e.length>=5&&e[4].integerData.some(s=>s!==1))throw new Error("currently non-1 steps is not supported for Slice");let n=Array.from(e[1].integerData),t=Array.from(e[2].integerData),r=e.length>=4?Array.from(e[3].integerData):[],o=`${r};${n};${t}`;return{starts:n,ends:t,axes:r,cacheKey:o}},Vv=i=>{if(!i||i.length<3||i.length>5)throw new Error("Invalid input number.");if(i[1].type!=="int32"||i[1].dims.length!==1)throw new Error("Invalid input type.");if(i[2].type!=="int32"||i[2].dims.length!==1)throw new Error("Invalid input type.");if(i.length>=4&&(i[3].type!=="int32"||i[3].dims.length!==1))throw new Error("Invalid input type.");if(i.length>=5&&(i[4].type!=="int32"||i[4].dims.length!==1))throw new Error("Invalid input type.")}});var am,sm,um,fm,cm,lm,dm,pm,jv,qv,Yv,hm,mm=it(()=>{"use strict";ge();Gt();Jt();$t();ea();am={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},sm={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},um={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},fm=(i,e,n)=>{hm(e);let t=e[0].dims.slice(),r=ht.normalizeAxis(n.axis,t.length),o=ht.sizeToDimension(t,r),s=ht.sizeFromDimension(t,r);return pm(i,e,n,o,s)},cm=i=>Dt({axis:i.attributes.getInt("axis",1)}),lm=i=>Dt({axis:i.attributes.getInt("axis",-1)}),dm=(i,e,n)=>{hm(e);let t=e[0].dims.slice(),r=ht.normalizeAxis(n.axis,t.length),o=t.length,s=r!==o-1,a=[],u=[],c=[],v;s&&(u=Array.from({length:o}).map((Z,H)=>H),u[r]=o-1,u[o-1]=r,u.map(Z=>a.push(t[Z])),v=Dt({perm:u}),c=ln(i,e,v));let S=s?ht.sizeToDimension(a,o-1):ht.sizeToDimension(t,o-1),E=s?ht.sizeFromDimension(a,o-1):ht.sizeFromDimension(t,o-1),N=pm(i,s?c:e,n,S,E);return s?ln(i,N,v):N},pm=(i,e,n,t,r)=>{let o=jv(i,e[0],t,r,[t]),s=i.run({...am,cacheHint:n.cacheKey,get:()=>o},e),a=qv(i,e[0],t,r,o.output.dims,[t]),u=i.run({...sm,cacheHint:n.cacheKey,get:()=>a},[e[0],s]),c=Yv(i,e[0],t,r,o.output.dims,a.output.dims);return[i.run({...um,cacheHint:n.cacheKey,get:()=>c},[e[0],s,u])]},jv=(i,e,n,t,r)=>{let[o,s]=i.calculateTextureWidthAndHeight(e.dims,0),a=r.length;if(n<1||t<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1)throw new Error("Dimensionality of the output should be 1");if(r[0]!==n)throw new Error("Shape of the output should be equal to logical row count");let u=Tt(i.session.backend.glContext.version),c=`
      float process(int[${a}] indices) {
        int logical_row_start_offset = indices[0] * ${t};

        float max = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset, ${o},
        ${s} )));
        for(int i=1; i<${t}; ++i)
        {
          float current = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${o}, ${s})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return{...am,output:{dims:r,type:e.type,textureType:0},shaderSource:c}},qv=(i,e,n,t,r,o)=>{let[s,a]=i.calculateTextureWidthAndHeight(e.dims,0),u=o.length;if(n<1||t<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(o.length!==1)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(r.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");let c=Tt(i.session.backend.glContext.version),v=`
      float process(int[${u}] indices) {
        int logical_row_start_offset = indices[0] * ${t};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${t}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${c.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${s}, ${a}))) - max);
        }

        return norm_factor;
      }`;return{...sm,output:{dims:o,type:e.type,textureType:0},shaderSource:v}},Yv=(i,e,n,t,r,o)=>{let[s,a]=i.calculateTextureWidthAndHeight(e.dims,0),u=e.dims.length;if(n<1||t<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1||o.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==n||o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");let c=`
      float process(int[${u}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${s}, ${a});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${t};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{...um,output:{dims:e.dims,type:e.type,textureType:0},shaderSource:c}},hm=i=>{if(!i||i.length!==1)throw new Error("Softmax requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type")}});var ym,bm,gm,Kv,Xv,Jv,vm=it(()=>{"use strict";ge();Gt();$t();ym={name:"Split",inputNames:["A"],inputTypes:[0]},bm=(i,e,n)=>{Jv(e);let t=ht.normalizeAxis(n.axis,e[0].dims.length),r=Kv(i,e,t,n),o=[];for(let s=0;s<r;++s)o.push(i.run({...ym,cacheHint:`${n.cacheKey};${s}`,get:()=>Xv(i,e[0],n,t,s)},e));return o},gm=i=>{let e=i.attributes.getInt("axis",0),n=i.attributes.getInts("split",[]),t=i.outputs.length;return Dt({axis:e,split:n,numOutputs:t})},Kv=(i,e,n,t)=>{let[,r]=To.splitShape(e[0].dims,n,t.split,t.numOutputs);return r.length},Xv=(i,e,n,t,r)=>{let[o,s]=To.splitShape(e.dims,t,n.split,n.numOutputs),a=s[r],u=o[r],v=`
      float process(int indices[${u.length}]) {
        indices[${t}] += ${a};
        return _A(indices);
      }
    `;return{...ym,cacheHint:`${n.cacheKey}:${r}`,output:{dims:u,type:e.type,textureType:0},shaderSource:v}},Jv=i=>{if(!i||i.length!==1)throw new Error("Split requires one input.");if(i[0].type!=="int8"&&i[0].type!=="uint8"&&i[0].type!=="int16"&&i[0].type!=="uint16"&&i[0].type!=="int32"&&i[0].type!=="uint32"&&i[0].type!=="float32"&&i[0].type!=="float64"&&i[0].type!=="bool")throw new Error("Invalid input type.")}});var Hf,wm,Tm,Zv,Qv,xm=it(()=>{"use strict";Gt();Hf=(i,e,n)=>{Zv(e);let t=ht.squeezeShape(e[0].dims,n);return[i.reshapeUnpacked(e[0],t)]},wm=(i,e)=>(Qv(e),Hf(i,[e[0]],Array.from(e[1].integerData))),Tm=i=>i.attributes.getInts("axes"),Zv=i=>{if(!i||i.length!==1)throw new Error("Squeeze requires 1 input.");if(i[0].type==="string")throw new Error("invalid input tensor types.")},Qv=i=>{if(!i||i.length!==2)throw new Error("Squeeze requires 2 inputs.");if(i[1].type!=="int32")throw new Error("Invalid input type.")}});var _m,tw,ew,Om=it(()=>{"use strict";Jt();$t();_m=(i,e)=>{ew(e);let n={name:"Sum",inputNames:e.map((r,o)=>`X${o}`),inputTypes:new Array(e.length).fill(0)};return[i.run({...n,get:()=>tw(i,e,n)},e)]},tw=(i,e,n)=>{let t=Tt(i.session.backend.glContext.version),r=e[0].dims.slice(),s=`
      void main() {
        vec4 result = ${e.map((a,u)=>`${t.texture2D}(X${u},TexCoords)`).join(" + ")};
        ${t.output} = result;
      }
    `;return{...n,output:{dims:r,type:e[0].type,textureType:0},hasMain:!0,shaderSource:s}},ew=i=>{if(!i||i.length===0)throw new Error("Sum requires inputs.");let e=i[0].dims.length;for(let n=1;n<i.length;n++){if(e!==i[n].dims.length)throw new Error("Input shapes are mismatched.");for(let t=0;t<e;t++)if(i[0].dims[t]!==i[n].dims[t])throw new Error("Input shapes are not matched.")}if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.");for(let n=1;n<i.length;n++)if(i[0].type!==i[n].type)throw new Error("Input types are not matched.")}});var Im,rw,nw,Am=it(()=>{"use strict";So();$t();Im=(i,e)=>{nw(e);let n={name:"Tile",inputNames:["A"],inputTypes:[0]};return[i.run({...n,get:()=>rw(i,e,n)},e)]},rw=(i,e,n)=>{let t=e[0].dims.slice(),r=new Array(t.length),o=[];for(let u=0;u<t.length;u++)r[u]=t[u]*e[1].numberData[u],o.push(`inputIdx[${u}] = int(mod(float(outputIdx[${u}]), ${t[u]}.));`);let s=r.length,a=`
      float process(int outputIdx[${s}]) {
        int inputIdx[${s}];
        ${o.join(`
`)}
        return _A(inputIdx);
      }
    `;return{...n,output:{dims:r,type:e[0].type,textureType:0},shaderSource:a}},nw=i=>{if(!i||i.length!==2)throw new Error("Tile requires 2 input.");if(i[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(i[1].dims[0]!==i[0].dims.length)throw new Error("Invalid input shape.");if(Ur.indexOf(i[0].type)===-1)throw new Error("Invalid input type.");if(i[1].type!=="int32"&&i[1].type!=="int16")throw new Error("Invalid repeat type.")}});var Vf,Sm,Pm,ow,iw,Em=it(()=>{"use strict";Gt();Vf=(i,e,n)=>{ow(e);let t=ht.unsqueezeShape(e[0].dims,n);return[i.reshapeUnpacked(e[0],t)]},Sm=(i,e)=>(iw(e),Vf(i,[e[0]],Array.from(e[1].integerData))),Pm=i=>i.attributes.getInts("axes"),ow=i=>{if(!i||i.length!==1)throw new Error("Unsqueeze requires 1 input.");if(i[0].type==="string")throw new Error("invalid input tensor types.")},iw=i=>{if(!i||i.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(i[1].type!=="int32")throw new Error("Invalid input type.")}});var Dm,km=it(()=>{"use strict";Ud();tp();np();fp();Zi();jp();Zp();eh();oh();uh();lh();mh();vh();Qi();_h();Bh();Hh();jh();Zh();tm();im();mm();vm();xm();Om();Am();ea();Pf();Em();Gf();Dm=[["Abs","","6+",cp],["Acos","","7+",lp],["Add","","7+",Wd],["And","","7+",zd],["Asin","","7+",dp],["Atan","","7+",pp],["AveragePool","","7+",Ih,Ah],["BatchNormalization","","7+",Rd,Gd],["Cast","","6+",ep,rp],["Ceil","","6+",yp],["Clip","","6-10",Af,hp],["Clip","","11+",mp],["Concat","","4+",ap,up],["Conv","","1+",Ff,$f],["ConvTranspose","","1+",Hp,Vp],["Cos","","7+",bp],["Div","","7+",Hd],["Dropout","","7+",Sf],["DepthToSpace","","1+",Xp,Jp],["Equal","","7+",Vd],["Elu","","6+",gp,vp],["Exp","","6+",wp],["Flatten","","1+",Qp,th],["Floor","","6+",Tp],["FusedConv","com.microsoft","1+",Ff,$f],["Gather","","1+",rh,nh],["Gemm","","7-10",Bf,ah],["Gemm","","11+",Bf,sh],["GlobalAveragePool","","1+",Ph,Eh],["GlobalMaxPool","","1+",Fh],["Greater","","7+",jd],["Identity","","1+",Sf],["ImageScaler","","1+",fh,ch],["InstanceNormalization","","6+",ph,hh],["LeakyRelu","","6+",xp,_p],["Less","","7+",qd],["LRN","","1+",yh,bh],["Log","","6+",Op],["MatMul","","1+",Np,Mp],["MaxPool","","1+",Dh,kh],["Mul","","7+",Yd],["Neg","","6+",Ip],["Not","","1+",Ap],["Or","","7+",Kd],["Pad","","2-10",Nf,wh],["Pad","","11+",Th,xh],["Pow","","7+",Xd],["PRelu","","7+",Jd],["ReduceLogSum","","1+",Wh,Wr],["ReduceMax","","1+",Rh,Wr],["ReduceMean","","1+",Mh,Wr],["ReduceMin","","1+",Gh,Wr],["ReduceProd","","1+",Uh,Wr],["ReduceSum","","1-12",Nh,Wr],["ReduceSumSquare","","1+",zh,Wr],["Relu","","6+",Sp],["Reshape","","5+",Vh],["Resize","","10",Wf,Xh],["Resize","","11+",Wf,Jh],["Shape","","1+",Qh],["Sigmoid","","6+",Pp],["Sin","","7+",Ep],["Slice","","10+",om],["Slice","","1-9",em,rm],["Softmax","","1-12",fm,cm],["Softmax","","13+",dm,lm],["Split","","2-12",bm,gm],["Sqrt","","6+",Dp],["Squeeze","","1-12",Hf,Tm],["Squeeze","","13+",wm],["Sub","","7+",Zd],["Sum","","6+",_m],["Tan","","7+",kp],["Tanh","","6+",Lp],["Tile","","6+",Im],["Transpose","","1+",ln,Yp],["Upsample","","7-8",Mf,Yh],["Upsample","","9",Mf,Kh],["Unsqueeze","","1-12",Vf,Pm],["Unsqueeze","","13+",Sm],["Xor","","7+",Qd]]});function Cm(i){let e={},n;for(;(n=Lm.exec(i))!==null;){let t=n[3].split(",").map(r=>{let o=r.trim().split(" ");return o&&o.length===2?{type:o[0],name:o[1]}:null}).filter(r=>r!==null);e[n[2]]={params:t,body:n[4]}}for(let t in e){let r=aw.replace("__FUNC__",t),o=new RegExp(r,"gm");for(;(n=o.exec(i))!==null;){let s=n[1],a=n[2],u=n[3].split(","),c=s?`${s} ${a};`:"",v=e[t].body,S="";e[t].params.forEach((N,Z)=>{N&&(S+=`${N.type} ${N.name} = ${u[Z]};
`)}),v=`${S}
 ${v}`,v=v.replace("return",`${a} = `);let E=`
      ${c}
      {
        ${v}
      }
      `;i=i.replace(n[0],E)}}return i=i.replace(Lm,""),i}var Lm,aw,Fm=it(()=>{"use strict";Lm=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,aw="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;"});function Wn(i,e){let n=[],t=[],r=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||r?null:sw(e,i).sort(),s=0;for(let a=0;a<i.length;++a){if(o!=null){if(o[s]===a&&i[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${i[a]}' is not 1`);(o[s]==null||o[s]>a)&&i[a]===1&&(n.push(i[a]),t.push(a)),o[s]<=a&&s++}i[a]!==1&&(n.push(i[a]),t.push(a))}return{newShape:n,keptDims:t}}function sw(i,e){let n=e.length;return i=i==null?e.map((t,r)=>r):[].concat(i),Bn(i.every(t=>t>=-n&&t<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${i}`),Bn(i.every(uw),()=>`All values in axis param must be integers but got axis ${i}`),i.map(t=>t<0?n+t:t)}function uw(i){return i%1===0}function fw(i){if(i.length===0)return 1;let e=i[0];for(let n=1;n<i.length;n++)e*=i[n];return e}function $m(i){let e=Math.ceil(Math.sqrt(i));return[e,Math.ceil(i/e)]}var ia,jf=it(()=>{"use strict";ze();Gt();ia=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,n){let t=this.computeTexture(e,n);return n&&n.isPacked&&(t[0]/=2,t[1]/=2),n&&n.reverseWH?[t[1],t[0]]:t}computeTexture(e,n){let t=n&&n.isPacked;if(e.length===0)return t?[2,2]:[1,1];let r=this.maxTextureSize;if(n&&n.breakAxis!==void 0){let a=n.breakAxis>=e.length?1:e.slice(n.breakAxis).reduce((c,v)=>c*v),u=n.breakAxis<=0?1:e.slice(0,n.breakAxis).reduce((c,v)=>c*v);if(a>r||u>r)Ut.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${n.breakAxis}`);else return[a,u]}let o=e.slice(0);t&&(r=r*2,o=o.map((a,u)=>u>=o.length-2?o[u]%2===0?o[u]:o[u]+1:o[u]),o.length===1&&(o=[2,o[0]])),o.length!==2&&(o=Wn(o).newShape);let s=fw(o);return o.length<=1&&s<=r?[1,s]:o.length===2&&o[0]<=r&&o[1]<=r?o:o.length===3&&o[0]*o[1]<=r&&o[2]<=r?[o[0]*o[1],o[2]]:o.length===3&&o[0]<=r&&o[1]*o[2]<=r?[o[0],o[1]*o[2]]:o.length===4&&o[0]*o[1]*o[2]<=r&&o[3]<=r?[o[0]*o[1]*o[2],o[3]]:o.length===4&&o[0]<=r&&o[1]*o[2]*o[3]<=r?[o[0],o[1]*o[2]*o[3]]:t?$m(s/4).map(a=>a*2):$m(s)}}});var aa,Bm=it(()=>{"use strict";Gt();Sr();Jt();jf();mr();aa=class extends qe{constructor(n){super(n)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){let n="offsetToCoords";return{offsetToCoords:new dt(`
      vec2 ${n}(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){let n="coordsToOffset";return{coordsToOffset:new dt(`
      int ${n}(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){let n=this.context.outputTextureLayout;return n.isPacked?this.getPackedOutputSamplingSnippet(n):this.getUnpackedOutputSamplingSnippet(n)}getPackedOutputSamplingSnippet(n){let t=n.unpackedShape,r=[n.width,n.height],o={},s="getOutputCoords";switch(t.length){case 0:o[s]=this.getOutputScalarCoords();break;case 1:o[s]=this.getOutputPacked1DCoords(t,r);break;case 2:o[s]=this.getOutputPacked2DCoords(t,r);break;case 3:o[s]=this.getOutputPacked3DCoords(t,r);break;default:o[s]=this.getOutputPackedNDCoords(t,r)}let u=`
      void setOutput(vec4 val) {
        ${Tt(this.context.glContext.version).output} = val;
      }
    `,c="floatTextureSetRGBA";return o[c]=new dt(u),o}getUnpackedOutputSamplingSnippet(n){let t=n.unpackedShape,r=[n.width,n.height],o={},s="getOutputCoords";switch(t.length){case 0:o[s]=this.getOutputScalarCoords();break;case 1:o[s]=this.getOutputUnpacked1DCoords(t,r);break;case 2:o[s]=this.getOutputUnpacked2DCoords(t,r);break;case 3:o[s]=this.getOutputUnpacked3DCoords(t,r);break;case 4:o[s]=this.getOutputUnpacked4DCoords(t,r);break;case 5:o[s]=this.getOutputUnpacked5DCoords(t,r);break;case 6:o[s]=this.getOutputUnpacked6DCoords(t,r);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}let u=`
        void setOutput(float val) {
          ${Tt(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `,c="floatTextureSetR";return o[c]=new dt(u),o}getOutputScalarCoords(){return new dt(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(n,t){let r=t,o="";return r[0]===1?(o=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${r[1]}.0);
          }
        `,new dt(o)):r[1]===1?(o=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${r[0]}.0);
          }
        `,new dt(o)):(o=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${r[0]}, ${r[1]}));
          return 2 * (resTexRC.y * ${r[0]} + resTexRC.x);
        }
      `,new dt(o))}getOutputPacked2DCoords(n,t){let r="";if(nn.arraysEqual(n,t))return r=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));
        }
      `,new dt(r);let o=t,s=Math.ceil(n[1]/2);return r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${o[0]}, ${o[1]}));

          int index = resTexRC.y * ${o[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${s}) * 2;
          int c = 2 * (index / ${s});

          return ivec2(r, c);
        }
      `,new dt(r)}getOutputPacked3DCoords(n,t){let r=[t[0],t[1]],o=Math.ceil(n[2]/2),s=o*Math.ceil(n[1]/2),a=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;

          int b = index / ${s};
          index -= b * ${s};

          // reverse r and c order for packed texture
          int r = imod(index, ${o}) * 2;
          int c = 2 * (index / ${o});

          return ivec3(b, r, c);
        }
      `;return new dt(a)}getOutputPackedNDCoords(n,t){let r=[t[0],t[1]],o=Math.ceil(n[n.length-1]/2),s=o*Math.ceil(n[n.length-2]/2),a=s,u="",c="b, r, c";for(let S=2;S<n.length-1;S++)a*=n[n.length-S-1],u=`
      int b${S} = index / ${a};
      index -= b${S} * ${a};
    `+u,c=`b${S}, `+c;let v=`
      ivec${n.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${r[0]}, ${r[1]}));
        int index = resTexRC.y * ${r[0]} + resTexRC.x;

        ${u}

        int b = index / ${s};
        index -= b * ${s};

        // reverse r and c order for packed texture
        int r = imod(index, ${o}) * 2;
        int c = 2 * (index / ${o});

        return ivec${n.length}(${c});
      }
    `;return new dt(v)}getOutputUnpacked1DCoords(n,t){let r=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          return resTexRC.y * ${t[0]} + resTexRC.x;
        }
      `;return new dt(r)}getOutputUnpacked2DCoords(n,t){let r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          int r = index / ${n[1]};
          int c = index - r * ${n[1]};
          return ivec2(r, c);
        }
      `;return new dt(r)}getOutputUnpacked3DCoords(n,t){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let c=o-3;c>=0;--c)s[c]=s[c+1]*n[c+1];let a=["r","c","d"],u=s.map((c,v)=>{let S=`int ${a[v]} = index / ${c}`,E=v===s.length-1?`int ${a[v+1]} = index - ${a[v]} * ${c}`:`index -= ${a[v]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${u}
          return ivec3(r, c, d);
        }
      `,new dt(r)}getOutputUnpacked4DCoords(n,t){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let c=o-3;c>=0;--c)s[c]=s[c+1]*n[c+1];let a=["r","c","d","d2"],u=s.map((c,v)=>{let S=`int ${a[v]} = index / ${c}`,E=v===s.length-1?`int ${a[v+1]} = index - ${a[v]} * ${c}`:`index -= ${a[v]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${u}
          return ivec4(r, c, d, d2);
        }
      `,new dt(r)}getOutputUnpacked5DCoords(n,t){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let c=o-3;c>=0;--c)s[c]=s[c+1]*n[c+1];let a=["r","c","d","d2","d3"],u=s.map((c,v)=>{let S=`int ${a[v]} = index / ${c}`,E=v===s.length-1?`int ${a[v+1]} = index - ${a[v]} * ${c}`:`index -= ${a[v]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${u}
          return ivec5(r, c, d, d2, d3);
        }
      `,new dt(r)}getOutputUnpacked6DCoords(n,t){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let c=o-3;c>=0;--c)s[c]=s[c+1]*n[c+1];let a=["r","c","d","d2","d3","d4"],u=s.map((c,v)=>{let S=`int ${a[v]} = index / ${c}`,E=v===s.length-1?`int ${a[v+1]} = index - ${a[v]} * ${c}`:`index -= ${a[v]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${t[0]}, ${t[1]}));
         int index = resTexRC.y * ${t[0]} + resTexRC.x;
         ${u}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new dt(r)}getCommonUtilFuncs(){let n={},t="uvFromFlat";n[t]=new dt(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),t="packedUVfrom1D",n[t]=new dt(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom2D",n[t]=new dt(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom3D",n[t]=new dt(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="sampleTexture";let r=Tt(this.context.glContext.version);return n[t]=new dt(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${r.texture2D}(textureSampler, uv).r;
        }`),n}getInputsSamplingSnippets(){let n={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((r,o)=>{let s=this.context.inputTextureLayouts[o],a=Vi(r);s.isPacked?n[a]=this.getPackedSamplerFromInput(a,r,s):n[a]=this.getUnpackedSamplerFromInput(a,r,s);let u=_d(r);s.unpackedShape.length<=t.unpackedShape.length&&(s.isPacked?n[u]=this.getPackedSamplerAtOutputCoords(u,s,t,r):n[u]=this.getUnpackedSamplerAtOutputCoords(u,s,t,r))}),n}getPackedSamplerAtOutputCoords(n,t,r,o){let s=t.unpackedShape,a=r.unpackedShape,c=Vi(o),v=s.length,S=a.length,E=De.getBroadcastDims(s,a),N=ke(S),Z=S-v,H,rt=ur();v===0?H="":S<2&&E.length>=1?H="coords = 0;":H=E.map(It=>`coords.${rt[It+Z]} = 0;`).join(`
`);let at="";S<2&&v>0?at="coords":at=s.map((It,We)=>`coords.${rt[We+Z]}`).join(", ");let ot="return outputValue;",xt=ht.size(s)===1,Wt=ht.size(a)===1;if(v===1&&!xt&&!Wt)ot=`
        return vec4(outputValue.xy, outputValue.xy);
      `;else if(xt&&!Wt)S===1?ot=`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:ot=`
          return vec4(outputValue.x);
        `;else if(E.length){let It=v-2,We=v-1;E.indexOf(It)>-1&&E.indexOf(We)>-1?ot="return vec4(outputValue.x);":E.indexOf(It)>-1?ot="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":E.indexOf(We)>-1&&(ot="return vec4(outputValue.xx, outputValue.zz);")}let Zt=`
        int lastDim = coords.${rt[S-1]};
        coords.${rt[S-1]} = coords.${rt[S-2]};
        coords.${rt[S-2]} = lastDim;
      `,pt=`
      vec4 ${n}() {
        ${N} coords = getOutputCoords();
        ${Zt}
        ${H}
        vec4 outputValue = ${c}(${at});
        ${ot}
      }
    `;return new dt(pt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(n,t,r,o){let s=[r.width,r.height],a=[t.width,t.height],u=t.unpackedShape.length,c=r.unpackedShape.length,v=t.unpackedShape,S=r.unpackedShape,E=Vi(o);if(u===c&&nn.arraysEqual(a,s)){let xt=`
          float ${n}() {
            return sampleTexture(${o}, TexCoords);
          }
        `;return new dt(xt,["coordinates.sampleTexture"])}let N=ke(c),Z=De.getBroadcastDims(v,S),H=c-u,rt,at=ur();u===0?rt="":c<2&&Z.length>=1?rt="coords = 0;":rt=Z.map(xt=>`coords.${at[xt+H]} = 0;`).join(`
`);let ot="";c<2&&u>0?ot="coords":ot=t.unpackedShape.map((xt,yt)=>`coords.${at[yt+H]}`).join(", ");let ut=`
        float ${n}() {
          ${N} coords = getOutputCoords();
          ${rt}
          return ${E}(${ot});
        }
      `;return new dt(ut,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(n,t,r){switch(r.unpackedShape.length){case 0:return this.getPackedSamplerScalar(n,t);case 1:return this.getPackedSampler1D(n,t,r);case 2:return this.getPackedSampler2D(n,t,r);case 3:return this.getPackedSampler3D(n,t,r);default:return this.getPackedSamplerND(n,t,r)}}getUnpackedSamplerFromInput(n,t,r){let o=r.unpackedShape;switch(o.length){case 0:return this.getUnpackedSamplerScalar(n,t,r);case 1:return this.getUnpackedSampler1D(n,t,r);case 2:return this.getUnpackedSampler2D(n,t,r);case 3:return this.getUnpackedSampler3D(n,t,r);case 4:return this.getUnpackedSampler4D(n,t,r);case 5:return this.getUnpackedSampler5D(n,t,r);case 6:return this.getUnpackedSampler6D(n,t,r);default:throw new Error(`Unsupported dimension ${o.length}-D`)}}getPackedSamplerScalar(n,t){let r=Tt(this.context.glContext.version),o=`
          vec4 ${n}() {
            return ${r.texture2D}(${t}, halfCR);
          }
        `;return new dt(o)}getPackedSampler1D(n,t,r){let o=[r.width,r.height],s=[o[1],o[0]],a=Tt(this.context.glContext.version),c=`vec4 ${n}(int index) {
      vec2 uv = packedUVfrom1D(
      ${s[0]}, ${s[1]}, index);
      return ${a.texture2D}(${t}, uv);
    }`;return new dt(c,["coordinates.packedUVfrom1D"])}getPackedSampler2D(n,t,r){let o=r.unpackedShape,s=[r.width,r.height],a=Tt(this.context.glContext.version),u=s[0],c=s[1];if(s!=null&&nn.arraysEqual(o,s)){let Z=`vec4 ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${c}.0, ${u}.0);
        return ${a.texture2D}(${t}, uv);
      }`;return new dt(Z)}let v=s,S=Math.ceil(o[1]/2),N=`vec4 ${n}(int row, int col) {
      vec2 uv = packedUVfrom2D(${v[1]}, ${v[0]}, ${S}, row, col);
      return ${a.texture2D}(${t}, uv);
    }`;return new dt(N,["coordinates.packedUVfrom2D"])}getPackedSampler3D(n,t,r){let o=r.unpackedShape,s=[r.width,r.height],a=[s[0],s[1]],u=Tt(this.context.glContext.version);if(o[0]===1){let H=o.slice(1),rt=[1,2],at=Nn(o,H),ot=["b","row","col"],ut=JSON.parse(JSON.stringify(r));ut.unpackedShape=at;let xt=this.getPackedSamplerFromInput(n,t,ut),Wt=`${xt.routineBody}
      vec4 ${n}(int b, int row, int col) {
        return ${n}(${Mn(ot,rt)});
      } `;return new dt(Wt,xt.dependencies)}let c=a[0],v=a[1],S=Math.ceil(o[2]/2),E=S*Math.ceil(o[1]/2),Z=`vec4 ${n}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${v}, ${c}, ${E}, ${S}, b, row, col);
      return ${u.texture2D}(${t}, uv);}`;return new dt(Z,["coordinates.packedUVfrom3D"])}getPackedSamplerND(n,t,r){let o=r.unpackedShape,s=o.length,a=[r.width,r.height],u=Tt(this.context.glContext.version),c=[a[0],a[1]],v=c[1],S=c[0],E=Math.ceil(o[s-1]/2),N=E*Math.ceil(o[s-2]/2),Z="int b, int row, int col",H=`b * ${N} + (row / 2) * ${E} + (col / 2)`;for(let ot=2;ot<s-1;ot++)Z=`int b${ot}, `+Z,N*=o[s-ot-1],H=`b${ot} * ${N} + `+H;let at=`vec4 ${n}(${Z}) {
      int index = ${H};
      int texR = index / ${S};
      int texC = index - texR * ${S};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${S}, ${v});
      return ${u.texture2D}(${t}, uv);
    }`;return new dt(at)}getUnpackedSamplerScalar(n,t,r){let[o,s]=[r.width,r.height];if(o===1&&s===1){let u=`
          float ${n}() {
            return sampleTexture(${t}, halfCR);
          }
        `;return new dt(u,["coordinates.sampleTexture"])}let a=`
        float ${n}() {
          int offset_${t} = coordsToOffset(TexCoords, ${o}, ${s});
          vec2 uv = uvFromFlat(${o}, ${s}, offset_${t});
          return sampleTexture(${t}, uv);
        }
      `;return new dt(a,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(n,t,r){let o=r.width,s=r.height;if(s===1&&o===1){let u=`
        float ${n}(int index) {
          return sampleTexture(${t}, halfCR);
        }
      `;return new dt(u,["coordinates.sampleTexture"])}if(s===1){let u=`
          float ${n}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${o}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(u,["coordinates.sampleTexture"])}if(o===1){let u=`
          float ${n}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${s}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(u,["coordinates.sampleTexture"])}let a=`
        float ${n}(int index) {
          vec2 uv = uvFromFlat(${o}, ${s}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(a,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(n,t,r){let o=r.unpackedShape,s=[r.height,r.width];if(s!=null&&nn.arraysEqual(o,s)){let N=s[1],Z=s[0],H=`
          float ${n}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${N}.0, ${Z}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(H,["coordinates.sampleTexture"])}let{newShape:a,keptDims:u}=Wn(o),c=a;if(c.length<o.length){let N=Nn(o,c),Z=JSON.parse(JSON.stringify(r));Z.unpackedShape=N;let H=["col","row"],rt=`
          ${this.getUnpackedSamplerFromInput(n,t,Z).routineBody}
          float ${n}(int row, int col) {
            return ${n}(${Mn(H,u)});
          }
        `;return new dt(rt,["coordinates.sampleTexture"])}let v=s[1],S=s[0];if(S===1){let N=`
          float ${n}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${v}, ${S});
            float index = dot(vec3(row, col, offset_${t}), vec3(${o[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${v}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(N,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(v===1){let N=`
          float ${n}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${v}, ${S});
            float index = dot(vec3(row, col, offset_${t}), vec3(${o[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${S}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(N,["coordinates.sampleTexture","coordinates.coordsToOffset"])}let E=`
        float ${n}(int row, int col) {
          int index = col * ${o[1]} + row;
          vec2 uv = uvFromFlat(${v}, ${S}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(E,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(n,t,r){let o=r.unpackedShape,s=o[1]*o[2],a=o[2],{newShape:u,keptDims:c}=Wn(o),v=u;if(v.length<o.length){let Z=Nn(o,v),H=["batch","col","row"],rt=JSON.parse(JSON.stringify(r));rt.unpackedShape=Z;let at=this.getUnpackedSamplerFromInput(n,t,rt),ot=c.reverse(),ut=`
          ${at.routineBody}
          float ${n}(int batch, int row, int col) {
            return ${n}(${Mn(H,ot)});
          }
        `;return new dt(ut,at.dependencies)}let S=r.width,E=r.height,N=`
          float ${n}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${s} + col * ${a} + row;
            vec2 uv = uvFromFlat(${S}, ${E}, index);
            return sampleTexture(${t}, uv);
          }
      `;return new dt(N,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(n,t,r){let o=r.unpackedShape,s=o[3],a=o[2]*s,u=o[1]*a,c=r.width,v=r.height,S=`
        float ${n}(int row, int col, int depth, int depth2) {
          int index = row * ${u} + col * ${a} +
              depth2 * ${s} + depth;
          vec2 uv = uvFromFlat(${c}, ${v}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(S,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(n,t,r){let o=r.unpackedShape,s=o[4],a=o[3]*s,u=o[2]*a,c=o[1]*u,{newShape:v,keptDims:S}=Wn(o);if(v.length<o.length){let H=Nn(o,v),rt=["row","col","depth","depth2","depth3"],at=JSON.parse(JSON.stringify(r));at.unpackedShape=H;let ot=`
          ${this.getUnpackedSamplerFromInput(n,t,at).routineBody}
          float ${n}(int row, int col, int depth, int depth2, int depth3) {
            return ${n}(${Mn(rt,S)});
          }
        `;return new dt(ot,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let E=r.width,N=r.height,Z=`
        float ${n}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${c} + col * ${u} + depth * ${a} +
          depth3 * ${s} + depth2;
          vec2 uv = uvFromFlat(${E}, ${N}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(Z,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(n,t,r){let o=r.unpackedShape,s=o[5],a=o[4]*s,u=o[3]*a,c=o[2]*u,v=o[1]*c,{newShape:S,keptDims:E}=Wn(o);if(S.length<o.length){let rt=Nn(o,S),at=["row","col","depth","depth2","depth3","depth4"],ot=JSON.parse(JSON.stringify(r));ot.unpackedShape=rt;let ut=`
            ${this.getUnpackedSamplerFromInput(n,t,ot).routineBody}
            float ${n}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${n}(${Mn(at,E)});
            }
          `;return new dt(ut,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let N=r.width,Z=r.height,H=`
          float ${n}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${v} + col * ${c} + depth * ${u} +
            depth2 * ${a} + depth3 * ${s} + depth4;
            vec2 uv = uvFromFlat(${N}, ${Z}, index);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(H,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){let n=this.context.outputTextureLayout,t=n.shape.length,r=n.strides,o=n.width,s=n.height,a=[];for(let c=0;c<t-1;++c)a.push(`
        c[${c}] = offset / ${r[c]};`),a.push(`
        offset -= c[${c}] * ${r[c]};`);a.push(`
        c[${t-1}] = offset;`);let u=`
      void toVec(vec2 texCoords, out int c[${t}]) {
        int offset = coordsToOffset(texCoords, ${o}, ${s});
        ${a.join("")}
      }
      void toVec(int offset, out int c[${t}]) {
        ${a.join("")}
      }
    `;return{toVec:new dt(u,["coordinates.coordsToOffset"])}}valueFrom(){let n={};return this.context.programInfo.inputNames.forEach((t,r)=>{let o=this.context.inputTextureLayouts[r],a=(o.unpackedShape.length>0?o.unpackedShape:o.shape).length,u=`_${t}`;n[u]=new dt(this.getValueFromSingle(t,a,o.width,o.height,!1),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),u=u+"_T",n[u]=new dt(this.getValueFromSingle(t,a,o.width,o.height,!0),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),n}getValueFromSingle(n,t,r,o,s){let a=`_${n}`;s&&(a=a+"_T");let u=Tt(this.context.glContext.version);return`
        float ${a}(int m[${t}]) {
          int offset = indicesToOffset${a}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${o});
          float value = getColorAsFloat(${u.texture2D}(${n}, coords));
          return value;
        }
        `}getPackedValueFrom(n,t,r,o,s){let a=`_${n}_Pack`;s&&(a=a+"_T");let u=Tt(this.context.glContext.version);return`
        vec4 ${a}(int m[${t}]) {
          int offset = indicesToOffset_${n}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${o});
          return ${u.texture2D}(${n}, coords);
        }
        `}}});var sa,Nm=it(()=>{"use strict";Sr();sa=class i extends qe{constructor(e){super(e)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new dt(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new dt(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){let e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new dt(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${e}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){let e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new dt(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${e}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){let e=new ArrayBuffer(4),n=new Uint32Array(e),t=new Uint8Array(e);if(n[0]=3735928559,t[0]===239)return!0;if(t[0]===222)return!1;throw new Error("unknown endianness")}}});var ua,Mm=it(()=>{"use strict";Sr();Jt();ua=class extends qe{constructor(e){super(e)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){let e=Tt(this.context.glContext.version);return{setFragColor:new dt(`
        void setFragColor(float value) {
            ${e.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new dt(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}});var fa,Rm=it(()=>{"use strict";Sr();fa=class i extends qe{constructor(e){super(e)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){let e=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((t,r)=>{let o=this.context.inputTextureLayouts[r].unpackedShape;if(o.length<=e){let s=o.length,a=e-s,u=`bcastIndices_${t}`,c="";for(let S=0;S<s;++S)c+=`
          realIndices[${S}] = int( mod(float(bcastedIndices[${a+S}]), ${o[S]}.0) );
          `;let v=`
        void ${u} (int bcastedIndices[${e}], out int realIndices[${s}]) {
          ${c}
        }
        `;n[u]=new dt(v)}}),n}bcastMatmulIndex(){let e=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((t,r)=>{let o=this.context.inputTextureLayouts[r].shape;if(!(o.length<2||o.length>e)){let s=o.length,a=e-s,u=`bcastMatmulIndices_${t}`,c="";for(let S=0;S<s-2;++S)c+=`
          realIndices[${S}] = int( mod(float(bcastedIndices[${a+S}]), ${o[S]}.0) );
          `;let v=`
        void ${u}(int bcastedIndices[${e}], out int realIndices[${s}]) {
          ${c}
          realIndices[${s-1}] = bcastedIndices[${e-1}];
          realIndices[${s-2}] = bcastedIndices[${e-2}];
        }
        `;n[u]=new dt(v)}}),n}indicesToOffset(){let e={};return this.context.programInfo.inputNames.forEach((n,t)=>{let r=this.context.inputTextureLayouts[t].shape,o=this.context.inputTextureLayouts[t].strides,s=r.length,a=`indicesToOffset_${n}`;e[a]=new dt(i.indexToOffsetSingle(a,s,o)),a=`indicesToOffset_${n}_T`,e[a]=new dt(i.indexToOffsetSingle(a,s,o.slice().reverse()))}),e}static indexToOffsetSingle(e,n,t){let r="";for(let o=n-1;o>=0;--o)r+=`
        offset += indices[${o}] * ${t[o]};
        `;return`
      int ${e}(int indices[${n}]) {
        int offset = 0;
        ${r}
        return offset;
      }
      `}offsetToIndices(){let e={};return this.context.programInfo.inputNames.forEach((n,t)=>{let r=this.context.inputTextureLayouts[t].shape,o=this.context.inputTextureLayouts[t].strides,s=r.length,a=`offsetToIndices_${n}`;e[a]=new dt(i.offsetToIndicesSingle(a,s,o)),a=`offsetToIndices_${n}_T`,e[a]=new dt(i.offsetToIndicesSingle(a,s,o.slice().reverse()))}),e}static offsetToIndicesSingle(e,n,t){let r=[];for(let o=0;o<n-1;++o)r.push(`
      indices[${o}] = offset / ${t[o]};`),r.push(`
        offset -= indices[${o}] * ${t[o]};`);return r.push(`
      indices[${n-1}] = offset;`),`
      void ${e}(int offset, out int indices[${n}]) {
        ${r.join("")}
      }
      `}incrementIndices(){let e={};return this.context.programInfo.inputNames.forEach((n,t)=>{let r=this.context.inputTextureLayouts[t].shape,o=r.length,s=`incrementIndices_${n}`,a="";for(let c=0;c<o;++c)a+=`
        shape[${c}] = ${r[c]};`;let u=`
        void ${s}(int axis, out int indices[${o}]) {
          int shape[${o}];
          ${a};
          for(int i = ${o} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;e[s]=new dt(u)}),e}}});var ca,Gm=it(()=>{"use strict";Sr();ca=class extends qe{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){let n=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},r={};for(let o in t){let s=`${o}Vec`,a="";for(let c=0;c<n;++c)a+=`
          dest[${c}] ${t[o]} src[${c}];
          `;let u=`
        void ${s}(int src[${n}], out int dest[${n}]) {
          ${a}
        }
        `;r[s]=new dt(u)}return r}copyVec(){let n=this.context.outputTextureLayout.shape.length,t="";for(let o=0;o<n;++o)t+=`
        dest[${o}] = src[${o}];
        `;let r=`
      void copyVec(int src[${n}], out int dest[${n}]) {
        ${t}
      }
      `;return{copyVec:new dt(r)}}setVecItem(){let n=this.context.outputTextureLayout.shape.length,t=`
        if(index < 0)
            index =${n} + index;
        if (index == 0)
            m[0] = value;
        `;for(let o=1;o<n-1;++o)t+=`
        else if (index == ${o})
            m[${o}] = value;
            `;t+=`
        else
            m[${n-1}] = value;
        `;let r=`
      void setVecItem(out int m[${n}], int index, int value) {
        ${t}
      }
        `;return{setVecItem:new dt(r)}}getVecItem(){let n=this.context.outputTextureLayout.shape.length,t=`
        if(index < 0)
            index = ${n} + index;
        if (index == 0)
            return m[0];
      `;for(let o=1;o<n-1;++o)t+=`
        else if (index == ${o})
            return m[${o}];
      `;t+=`
        else
            return m[${n-1}];
        `;let r=`
      int getVecItem(int m[${n}], int index) {
        ${t}
      }
    `;return{getVecItem:new dt(r)}}}});var qf,Um=it(()=>{"use strict";Bm();Nm();Mm();Rm();Gm();qf={encoding:sa,fragcolor:ua,vec:ca,shapeUtils:fa,coordinates:aa}});var la,Wm=it(()=>{"use strict";Sr();Fm();Um();Jt();la=class{constructor(e,n,t,r){this.libs={};this.glslLibRoutineDependencyGraph={};this.context=new Ki(e,n,t,r),Object.keys(qf).forEach(s=>{let a=new qf[s](this.context);this.libs[s]=a});let o=this.glslLibRoutineDependencyGraph;for(let s in this.libs){let u=this.libs[s].getFunctions();for(let c in u){let v=s+"."+c,S;o[v]?(S=o[v],S.routineBody=u[c].routineBody):(S=new Ao(v,u[c].routineBody),o[v]=S);let E=u[c].dependencies;if(E)for(let N=0;N<E.length;++N)if(o[E[N]])S.addDependency(o[E[N]]);else{let Z=new Ao(E[N]);o[E[N]]=Z,S.addDependency(Z)}}}}preprocess(){let e=this.context.programInfo,n=e.shaderSource;return this.context.programInfo.hasMain||(n=`${n}
      ${xd(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),n=Cm(n),`${Td(this.context.glContext.version)}
    ${this.getUniforms(e.inputNames,e.variables)}
    ${this.getImports(n)}
    ${n}`}getImports(e){let n=this.selectGlslLibRoutinesToBeIncluded(e);if(n.length===0)return"";let t="";for(let r=0;r<n.length;++r)if(n[r].routineBody)t+=n[r].routineBody+`
`;else throw new Error(`Missing body for the Glsl Library routine: ${n[r].name}`);return t}selectGlslLibRoutinesToBeIncluded(e){let n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(t=>{let r=t.split(".")[1];e.indexOf(r)!==-1&&n.push(this.glslLibRoutineDependencyGraph[t])}),Xi.returnOrderedNodes(n)}getUniforms(e,n){let t=[];if(e)for(let r of e)t.push(`uniform sampler2D ${r};`);if(n)for(let r of n)t.push(`uniform ${r.type} ${r.name}${r.arrayLength?`[${r.arrayLength}]`:""};`);return t.join(`
`)}}});var da,zm=it(()=>{"use strict";nr();ze();Wm();Jt();da=class{constructor(e,n,t){this.profiler=e;this.glContext=n;this.textureLayoutStrategy=t;this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,n){this.repo.set(e,n)}run(e,n,t){this.profiler.event("op",`ProgramManager.run ${e.programInfo.name??"unknown kernel"}`,()=>{let r=this.glContext.gl,o=e.program;r.useProgram(o);try{this.bindOutput(t),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,e.programInfo.variables??[],n)}catch(s){throw Ut.error("ProgramManager",e.programInfo.shaderSource),s}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program))}build(e,n,t){return this.profiler.event("backend","ProgramManager.build",()=>{let r=new la(this.glContext,e,n,t),o=r.preprocess(),s=this.compile(o);return{programInfo:e,program:s,uniformLocations:this.getUniformLocations(s,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(s)}})}compile(e){if(!this.vertexShader){Ut.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let r=wd(this.glContext.version);this.vertexShader=this.glContext.compileShader(r,this.glContext.gl.VERTEX_SHADER)}Et.debug&&Ut.verbose("ProrgramManager",`FragShader:
${e}
`);let n=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),t=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),t}bindOutput(e){let n=e.width,t=e.height;Ut.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${n}/${t}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,n,t)}bindAttributes(e){let n=e.position,t=e.textureCoord;this.glContext.setVertexAttributes(n,t),this.attributesBound=!0}bindUniforms(e,n,t){let r=this.glContext.gl,o=0;for(let{name:s,type:a,location:u,arrayLength:c}of e){let v=n.find(S=>S.name===s)?.data;if(a!=="sampler2D"&&!v)throw new Error(`variable '${s}' does not have data defined in program info`);switch(a){case"sampler2D":this.bindTexture(t[o],u,o),o++;break;case"float":c?r.uniform1fv(u,v):r.uniform1f(u,v);break;case"int":c?r.uniform1iv(u,v):r.uniform1i(u,v);break;default:throw new Error(`Uniform not implemented: ${a}`)}}}bindTexture(e,n,t){this.glContext.bindTextureToUniform(e.texture,t,n)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,n,t){let r=[];if(n)for(let o of n)r.push({name:o,type:"sampler2D",location:this.getUniformLocation(e,o)});if(t)for(let o of t)r.push({...o,location:this.getUniformLocation(e,o.name)});return r}getUniformLocation(e,n){let r=this.glContext.gl.getUniformLocation(e,n);if(r===null)throw new Error(`Uniform ${n} not found.`);return r}getAttribLocation(e,n){return this.glContext.gl.getAttribLocation(e,n)}}});var pa,Hm=it(()=>{"use strict";ze();Oo();pa=class{constructor(e,n,t,r){this.glContext=e;this.layoutStrategy=n;this.profiler=t;this.config=r;this.pendingRead=new Map;r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,n,t,r){let o=this.toEncoderType(e),s=this.glContext.getEncoder(o,n.channels||1,r);if(n.isPacked&&r===1)throw new Error("not implemented");let a=n.width,u=n.height,c,v;if(this.config.reuseTextures){c=`${a}x${u}_${s.format}_${s.internalFormat}_${s.textureType}`,v=this.inUseTextures.get(c),v||(v=[],this.inUseTextures.set(c,v));let E=this.idleTextures.get(c);if(E&&E.length>0){let N=E.pop();return v.push(N),r===1&&this.glContext.updateTexture(N,a,u,s,this.toTextureData(e,t)),N}}Ut.verbose("TextureManager",`Creating new texture of size ${n.width}x${n.height}`);let S=this.glContext.allocateTexture(a,u,s,this.toTextureData(e,t));return this.config.reuseTextures&&(v.push(S),this.textureLookup.set(S,c)),S}readTexture(e,n,t){return t||(t=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let r=e.shape.reduce((s,a)=>s*a)*t,o=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(n),t);return this.toTensorData(n,o)})}async readTextureAsync(e,n,t){let r=e.tensor.dataId;if(t||(t=1),this.pendingRead.has(r)){let o=this.pendingRead.get(r);return new Promise(s=>o?.push(s))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);let o=e.shape.reduce((c,v)=>c*v)*t;await this.glContext.createAndWaitForFence();let s=this.glContext.readTexture(e.texture,e.width,e.height,o,this.toEncoderType(n),t),a=this.toTensorData(n,s),u=this.pendingRead.get(r);return this.pendingRead.delete(r),u?.forEach(c=>c(a)),a})}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let n=e.shape.reduce((r,o)=>r*o),t=this.glContext.readTexture(e.texture,e.width,e.height,n*4,"byte",4);return new Float32Array(t.buffer,t.byteOffset,n)})}releaseTexture(e,n){let t;if(this.config.reuseTextures&&(t=this.textureLookup.get(e.texture),t)){n&&this.textureLookup.delete(t);let r=this.inUseTextures.get(t);if(r){let o=r.indexOf(e.texture);if(o!==-1){r.splice(o,1);let s=this.idleTextures.get(t);s||(s=[],this.idleTextures.set(t,s)),s.push(e.texture)}}}(!t||n)&&(Ut.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture))}toTensorData(e,n){switch(e){case"int16":return n instanceof Int16Array?n:Int16Array.from(n);case"int32":return n instanceof Int32Array?n:Int32Array.from(n);case"int8":return n instanceof Int8Array?n:Int8Array.from(n);case"uint16":return n instanceof Uint16Array?n:Uint16Array.from(n);case"uint32":return n instanceof Uint32Array?n:Uint32Array.from(n);case"uint8":case"bool":return n instanceof Uint8Array?n:Uint8Array.from(n);case"float32":return n instanceof Float32Array?n:Float32Array.from(n);case"float64":return n instanceof Float64Array?n:Float64Array.from(n);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,n){if(n)return n instanceof Float32Array?n:new Float32Array(n)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}});var ha,Vm=it(()=>{"use strict";ze();al();Nd();km();zm();jf();Hm();ha=class{constructor(e,n){this.backend=e;this.context=n;this.layoutStrategy=new ia(e.glContext.maxTextureSize),this.programManager=new da(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new pa(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:e.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new Yi(this)}onGraphInitialized(e){let n=e.getValues().filter(t=>t.from===-1&&t.tensor).map(t=>t.tensor.dataId);this.initializers=new Set(n)}isInitializer(e){return this.initializers?this.initializers.has(e):!1}addInitializer(e){this.initializers.add(e)}getTextureData(e,n){return n?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,n,t=!1){Ut.verbose("WebGLSessionHandler","Storing Texture data in cache"),t?this.packedTextureDataCache.set(e,n):this.unpackedTextureDataCache.set(e,n)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map}resolve(e,n,t){let r=il(e,n,Dm);return{impl:r.opImpl,context:r.opInit?r.opInit(e,t):e}}}});function cw(i){let e=0;for(;e<i.length&&i[e]();++e);return e-1}var Eo,jm=it(()=>{"use strict";nr();Oo();Oo();mr();Eo=class{constructor(e,n){this.frameBufferBound=!1;this.itemsToPoll=[];this.gl=e,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,n,t,r){let o=this.gl,s=o.createTexture();o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);let a=r?t.encode(r,e*n):null;return o.texImage2D(o.TEXTURE_2D,0,t.internalFormat,e,n,0,t.format,t.textureType,a),this.checkError(),s}updateTexture(e,n,t,r,o){let s=this.gl;s.bindTexture(s.TEXTURE_2D,e);let a=r.encode(o,n*t);s.texSubImage2D(s.TEXTURE_2D,0,0,0,n,t,r.format,r.textureType,a),this.checkError()}attachFramebuffer(e,n,t){let r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,n,t),r.scissor(0,0,n,t)}readTexture(e,n,t,r,o,s){let a=this.gl;s||(s=1),this.frameBufferBound||this.attachFramebuffer(e,n,t);let u=this.getEncoder(o,s),c=u.allocate(n*t);return a.bindTexture(a.TEXTURE_2D,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.readPixels(0,0,n,t,a.RGBA,u.textureType,c),this.checkError(),u.decode(c,r)}isFramebufferReady(){return!0}getActiveTexture(){let e=this.gl;return`TEXTURE${e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,n){let t=this.gl;t.vertexAttribPointer(e,3,t.FLOAT,!1,20,0),t.enableVertexAttribArray(e),n!==-1&&(t.vertexAttribPointer(n,2,t.FLOAT,!1,20,12),t.enableVertexAttribArray(n)),this.checkError()}createProgram(e,n){let t=this.gl,r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),r}compileShader(e,n){let t=this.gl,r=t.createShader(n);if(!r)throw new Error(`createShader() returned null with type ${n}`);if(t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${t.getShaderInfoLog(r)}
Shader source:
${e}`);return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,n,t){let r=this.gl;r.activeTexture(r.TEXTURE0+n),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(t,n),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(Et.debug){let e=this.gl,n=e.getError(),t="";switch(n){case e.NO_ERROR:return;case e.INVALID_ENUM:t="INVALID_ENUM";break;case e.INVALID_VALUE:t="INVALID_VALUE";break;case e.INVALID_OPERATION:t="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:t="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:t="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:t="CONTEXT_LOST_WEBGL";break;default:t=`Unknown WebGL Error: ${n.toString(16)}`}throw new Error(t)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,n,t=0){if(this.version===2)return new ji(this.gl,n);switch(e){case"float":return t===1||this.isRenderFloat32Supported?new _o(this.gl,n):new _o(this.gl,n,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new qi(this.gl,n);default:throw new Error(`Invalid dataType: ${e}`)}}clearActiveTextures(){let e=this.gl;for(let n=0;n<this.maxTextureImageUnits;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;let e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){let e=this.gl,n=e.createBuffer();if(!n)throw new Error("createBuffer() returned null");let t=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this.checkError(),n}createFramebuffer(){let e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){let e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){let e=this.gl,n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);let t=this.version===2?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,t,1,1,0,e.RGBA,e.FLOAT,null);let r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);let o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){let e=this.gl,n,t,r,o,s;try{n=e.createTexture(),t=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,n);let a=this.version===2?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,a,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.enable(e.BLEND),r=e.createShader(e.VERTEX_SHADER),!r||(e.shaderSource(r,"void main(){}"),e.compileShader(r),o=e.createShader(e.FRAGMENT_SHADER),!o)||(e.shaderSource(o,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(o),s=e.createProgram(),!s)?!1:(e.attachShader(s,r),e.attachShader(s,o),e.linkProgram(s),e.useProgram(s),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)}finally{e.disable(e.BLEND),s&&e.deleteProgram(s),r&&e.deleteShader(r),o&&e.deleteShader(o),t&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(t)),n&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(n))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,n=this.disjointTimerQueryWebgl2Extension,t=e.createQuery();return e.beginQuery(n.TIME_ELAPSED_EXT,t),t}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,n=this.disjointTimerQueryWebgl2Extension;e.endQuery(n.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(e){let n=!1,t=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let r=this.gl,o=this.disjointTimerQueryWebgl2Extension;n=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),t=r.getParameter(o.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return n&&!t}getTimerResult(e){let n=0;if(this.version===2){let t=this.gl;n=t.getQueryParameter(e,t.QUERY_RESULT),t.deleteQuery(e)}else throw new Error("WebGL1 profiling currently not supported");return n/1e6}async waitForQueryAndGetTime(e){return await gf(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e)}async createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,t=e,r=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),r===null?n=()=>!0:n=()=>{let o=t.clientWaitSync(r,0,0);return o===t.ALREADY_SIGNALED||o===t.CONDITION_SATISFIED},{query:r,isFencePassed:n}}async pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){let e=cw(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){let{resolveFn:t}=this.itemsToPoll[n];t()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,n){this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),!(this.itemsToPoll.length>1)&&await gf(()=>(this.pollItems(),this.itemsToPoll.length===0))}}});function Yf(i){let e;if((!i||i==="webgl2")&&"webgl2"in zn?e=zn.webgl2:(!i||i==="webgl")&&"webgl"in zn&&(e=zn.webgl),!e)try{let t=dw();e=qm(t,i)}catch{let r=lw();e=qm(r,i)}i=i||e.version===1?"webgl":"webgl2";let n=e.gl;return zn[i]=e,n.isContextLost()?(delete zn[i],Yf(i)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),e)}function qm(i,e){let n={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1},t,r=n;if((!e||e==="webgl2")&&(t=i.getContext("webgl2",r),t))try{return new Eo(t,2)}catch(o){Ut.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${o}`)}if((!e||e==="webgl")&&(t=i.getContext("webgl",r)||i.getContext("experimental-webgl",r),t))try{return new Eo(t,1)}catch(o){Ut.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${o}`)}throw new Error("WebGL is not supported")}function lw(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let i=document.createElement("canvas");return i.width=1,i.height=1,i}function dw(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var zn,Ym=it(()=>{"use strict";ze();jm();zn={}});var ma,Km=it(()=>{"use strict";nr();ze();Vm();Ym();ma=class{get contextId(){return Et.webgl.contextId}set contextId(e){Et.webgl.contextId=e}get matmulMaxBatchSize(){return Et.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){Et.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return Et.webgl.textureCacheMode}set textureCacheMode(e){Et.webgl.textureCacheMode=e}get pack(){return Et.webgl.pack}set pack(e){Et.webgl.pack=e}get async(){return Et.webgl.async}set async(e){Et.webgl.async=e}initialize(){try{return this.glContext=Yf(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),Ut.setWithEnv(Et),Et.webgl.context||Object.defineProperty(Et.webgl,"context",{value:this.glContext.gl}),Ut.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return Ut.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1}}createSessionHandler(e){return new ha(this,e)}dispose(){this.glContext.dispose()}}});async function Kf(i){if(i){let e=typeof i=="string"?[i]:i;for(let n of e){let t=Xm.get(n);if(t)return t;let r=await hw(n);if(r)return r}}else return Kf(["webgl"]);throw new Error("no available backend to use")}async function hw(i){let e=pw;if(typeof e[i]<"u"&&mw(e[i])){let n=e[i],t=n.initialize();if(typeof t=="object"&&"then"in t&&(t=await t),t)return Xm.set(i,n),n}}function mw(i){let e=i;return"initialize"in e&&typeof e.initialize=="function"&&"createSessionHandler"in e&&typeof e.createSessionHandler=="function"&&"dispose"in e&&typeof e.dispose=="function"}var Xm,pw,Jm=it(()=>{"use strict";Km();Xm=new Map,pw={webgl:new ma}});var Xf,ya,Zm=it(()=>{"use strict";ze();Xf=class{constructor(e,n){this.op=e;this.node=n}},ya=class{constructor(e,n,t){this.graph=e;this.profiler=t;this.initialize(n)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{let n=this.graph.getNodes();if(n.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((t,r)=>new Xf(t,n[r])),this.reset(),this._starter=[],this._ops.forEach((t,r)=>{let o=!0;for(let s of t.node.inputs)if(!this._values[s]&&this.graph.getInputIndices().indexOf(s)===-1){o=!1;break}o&&this._starter.push(r)})})}reset(){this._values=this.graph.getValues().map(e=>e.tensor)}async execute(e,n){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let t=e.createInferenceHandler(),r=this.graph.getInputIndices();if(n.length!==r.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${n.length} expected: ${r.length}`);n.forEach((v,S)=>{let E=r[S];this._values[E]=v});let o=this._starter.slice(0),s=this.graph.getValues(),a=this.graph.getNodes(),u=0;for(;u<o.length;){let v=o[u++],S=this._ops[v],E=S.node.inputs.map(rt=>this._values[rt]);if(E.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${S.node}`);let N=E;Ut.verbose("ExecPlan",`Runing op:${S.node.name} (${N.map((rt,at)=>`'${S.node.inputs[at]}': ${rt.type}[${rt.dims.join(",")}]`).join(", ")})`);let Z=await this.profiler.event("node",S.node.name,async()=>S.op.impl(t,N,S.op.context));if(Z.length!==S.node.outputs.length)throw new Error("the size of output does not match model definition.");Z.forEach((rt,at)=>{let ot=S.node.outputs[at];if(this._values[ot])throw new Error(`output [${ot}] already has value: op:${S.node.name}`);this._values[ot]=rt});let H=new Set;Z.forEach((rt,at)=>{let ot=S.node.outputs[at];for(let ut of s[ot].to){let xt=a[ut],yt=!0;for(let Wt of xt.inputs)if(!this._values[Wt]){yt=!1;break}yt&&H.add(ut)}}),o.push(...H)}let c=[];for(let v=0;v<this.graph.getOutputIndices().length;v++){let S=this.graph.getOutputIndices()[v],E=this._values[S];if(E===void 0)throw new Error(`required output [${S}] does not have value`);S===0?await E.getData():E.data,c.push(E)}return Ut.verbose("ExecPlan","disposing of inferenceHandler"),t.dispose(),c})}}});var Ft,Xe,Do,Qm=it(()=>{"use strict";bo();Ft=kn($n());un();Gt();Xe=gt.experimental.fbs,Do=class i{constructor(e){if(this._attributes=new Map,e!=null){for(let n of e)n instanceof Ft.onnx.AttributeProto?this._attributes.set(n.name,[i.getValue(n),i.getType(n)]):n instanceof Xe.Attribute&&this._attributes.set(n.name(),[i.getValue(n),i.getType(n)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,n,t){this._attributes.set(e,[t,n])}delete(e){this._attributes.delete(e)}getFloat(e,n){return this.get(e,"float",n)}getInt(e,n){return this.get(e,"int",n)}getString(e,n){return this.get(e,"string",n)}getTensor(e,n){return this.get(e,"tensor",n)}getFloats(e,n){return this.get(e,"floats",n)}getInts(e,n){return this.get(e,"ints",n)}getStrings(e,n){return this.get(e,"strings",n)}getTensors(e,n){return this.get(e,"tensors",n)}get(e,n,t){let r=this._attributes.get(e);if(r===void 0){if(t!==void 0)return t;throw new Error(`required attribute not found: ${e}`)}if(r[1]!==n)throw new Error(`type mismatch: expected ${n} but got ${r[1]}`);return r[0]}static getType(e){let n=e instanceof Ft.onnx.AttributeProto?e.type:e.type();switch(n){case Ft.onnx.AttributeProto.AttributeType.FLOAT:return"float";case Ft.onnx.AttributeProto.AttributeType.INT:return"int";case Ft.onnx.AttributeProto.AttributeType.STRING:return"string";case Ft.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case Ft.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case Ft.onnx.AttributeProto.AttributeType.INTS:return"ints";case Ft.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case Ft.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${Ft.onnx.AttributeProto.AttributeType[n]}`)}}static getValue(e){let n=e instanceof Ft.onnx.AttributeProto?e.type:e.type();if(n===Ft.onnx.AttributeProto.AttributeType.GRAPH||n===Ft.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let t=this.getValueNoCheck(e);if(n===Ft.onnx.AttributeProto.AttributeType.INT&&Me.isLong(t))return Me.longToNumber(t);if(n===Ft.onnx.AttributeProto.AttributeType.INTS){let r=t,o=new Array(r.length);for(let s=0;s<r.length;s++){let a=r[s];o[s]=Me.longToNumber(a)}return o}if(n===Ft.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof Ft.onnx.AttributeProto?pe.fromProto(t):pe.fromOrtTensor(t);if(n===Ft.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof Ft.onnx.AttributeProto)return t.map(o=>pe.fromProto(o));if(e instanceof Xe.Attribute)return t.map(o=>pe.fromOrtTensor(o))}return n===Ft.onnx.AttributeProto.AttributeType.STRING&&e instanceof Ft.onnx.AttributeProto?xo(t):n===Ft.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof Ft.onnx.AttributeProto?t.map(xo):t}static getValueNoCheck(e){return e instanceof Ft.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case Ft.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case Ft.onnx.AttributeProto.AttributeType.INT:return e.i;case Ft.onnx.AttributeProto.AttributeType.STRING:return e.s;case Ft.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case Ft.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case Ft.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case Ft.onnx.AttributeProto.AttributeType.INTS:return e.ints;case Ft.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case Ft.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case Ft.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error(`unsupported attribute type: ${Ft.onnx.AttributeProto.AttributeType[e.type]}`)}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case Xe.AttributeType.FLOAT:return e.f();case Xe.AttributeType.INT:return e.i();case Xe.AttributeType.STRING:return e.s();case Xe.AttributeType.TENSOR:return e.t();case Xe.AttributeType.GRAPH:return e.g();case Xe.AttributeType.FLOATS:return e.floatsArray();case Xe.AttributeType.INTS:{let n=[];for(let t=0;t<e.intsLength();t++)n.push(e.ints(t));return n}case Xe.AttributeType.STRINGS:{let n=[];for(let t=0;t<e.stringsLength();t++)n.push(e.strings(t));return n}case Xe.AttributeType.TENSORS:{let n=[];for(let t=0;t<e.tensorsLength();t++)n.push(e.tensors(t));return n}default:throw new Error(`unsupported attribute type: ${Xe.AttributeType[e.type()]}`)}}}});var Zf,ba,Qf,gr,ga,Jf,ty=it(()=>{"use strict";Qm();bo();Zf=kn($n());un();Gt();ba=gt.experimental.fbs,Qf={from:(i,e)=>new Jf(i,e)},gr=class{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=xe.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}},ga=class{constructor(e,n){e instanceof Zf.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new Do(e.attribute)):e instanceof ba.Node&&(this.name=n??e.name(),this.opType=e.opType(),this.attributes=new Do(xe.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}},Jf=class{constructor(e,n){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(n),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof Zf.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else if(e instanceof ba.Graph)this.buildGraphFromOrtFormat(e);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(e){let n=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let t=new Map;if(!e.input)throw new Error("missing information in graph: input");let r=[];for(let o of e.input){if(n.has(o.name))throw new Error(`duplicated input name: ${o.name}`);let s=this._allData.push(new gr(o))-1;n.set(o.name,s),r.push(o.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(let o of e.initializer){let s=n.get(o.name);if(s===void 0){let a=new gr;a.type={shape:{dims:xe.tensorDimsFromProto(o.dims)},tensorType:xe.tensorDataTypeFromProto(o.dataType)},s=this._allData.push(a)-1,n.set(o.name,s)}this._allData[s]._from=-1,this._allData[s].tensor=pe.fromProto(o)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(r[o]));if(!e.output)throw new Error("missing information in graph: output");for(let o of e.output){if(n.has(o.name))throw new Error(`duplicated output name: ${o.name}`);let s=this._allData.push(new gr(o))-1;n.set(o.name,s),this._allOutputIndices.push(s),this._allOutputNames.push(o.name)}if(!e.node)throw new Error("missing information in graph: node");for(let o of e.node){if(!o.name)for(let a=0;;a++){let u=`unnamed_${o.opType}_${a}`;if(!t.has(u)){o.name=u;break}}if(t.has(o.name))throw new Error(`duplicated node name: ${o.name}`);let s=this._nodes.push(new ga(o))-1;t.set(o.name,s)}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=e.node[o];if(!a.output)throw new Error(`missing output for node: ${a.name}`);for(let u of a.output){let c=n.get(u);if(typeof c>"u"&&(c=this._allData.push(new gr)-1,n.set(u,c)),s.outputs.push(c),this._allData[c]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${c}`);if(this._allData[c]._from=o,a.opType==="Constant"){if(!a.attribute||a.attribute.length!==1||!a.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!a.output||a.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[c]._from=-1,this._allData[c].tensor=pe.fromProto(a.attribute[0].t)}}}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=e.node[o];if(!a.input)throw new Error(`missing input for node: ${a.name}`);for(let u of a.input){let c=n.get(u);if(typeof c>"u"){if(u===""&&(a.input.length===3||a.input.length===4)&&a.opType==="Resize")continue;throw new Error(`unrecognized input '${u}' for node: ${a.name}`)}s.inputs.push(c),this._allData[c]._to.push(o)}}return!0}buildGraphFromOrtFormat(e){let n=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let t=new Map,r=[];for(let o=0;o<e.inputsLength();o++){let s=e.inputs(o);if(n.has(s))throw new Error(`duplicated input name: ${s}`);for(let a=0;a<e.nodeArgsLength();a++)if(e.nodeArgs(a)?.name()===s){let u=new gr;if(e.nodeArgs(a)?.type()?.valueType()!==ba.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let v=e.nodeArgs(a).type().value(new ba.TensorTypeAndShape),S=xe.tensorDataTypeFromProto(v.elemType()),E=v.shape(),N=[];for(let H=0;H<E.dimLength();H++)N.push(Me.longToNumber(E.dim(H).value().dimValue()));u.type={shape:{dims:N},tensorType:S};let Z=this._allData.push(u)-1;n.set(s,Z),r.push(s)}}for(let o=0;o<e.initializersLength();o++){let s=e.initializers(o),a=n.get(s.name());if(a===void 0){let u=new gr,c=xe.tensorDimsFromORTFormat(s),v=xe.tensorDataTypeFromProto(s.dataType());u.type={shape:{dims:c},tensorType:v},a=this._allData.push(u)-1,n.set(s.name(),a)}this._allData[a]._from=-1,this._allData[a].tensor=pe.fromOrtTensor(s)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(r[o]));for(let o=0;o<e.outputsLength();o++){let s=e.outputs(o);if(n.has(s))throw new Error(`duplicated output name: ${s}`);let a=this._allData.push(new gr)-1;n.set(s,a),this._allOutputIndices.push(a),this._allOutputNames.push(s)}if(!e.nodes)throw new Error("missing information in graph: node");for(let o=0;o<e.nodesLength();o++){let s=e.nodes(o),a=s.name();if(!a)for(let c=0;a=`unnamed_${s.opType()}_${c}`,!!t.has(a);c++);if(t.has(a))throw new Error(`duplicated node name: ${a}`);let u=this._nodes.push(new ga(s,a))-1;t.set(a,u)}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=e.nodes(o);if(a==null)throw new Error(`No node exists at index ${o}`);if(a?.outputsLength()===0)throw new Error(`missing output for node: ${a.name}`);for(let u=0;u<a?.outputsLength();u++){let c=a?.outputs(u),v=n.get(c);if(typeof v>"u"&&(v=this._allData.push(new gr)-1,n.set(c,v)),s.outputs.push(v),this._allData[v]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${v}`);if(this._allData[v]._from=o,a.opType()==="Constant"){if(a.attributesLength()!==1||!a.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(a.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[v]._from=-1,this._allData[v].tensor=pe.fromOrtTensor(a.attributes(0).t())}}}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=e.nodes(o);if(a.inputsLength()===0)throw new Error(`missing input for node: ${a.name}`);for(let u=0;u<a.inputsLength();u++){let c=a.inputs(u),v=n.get(c);if(typeof v>"u")throw new Error(`unrecognized input '${c}' for node: ${a.name()}`);s.inputs.push(v),this._allData[v]._to.push(o)}}}checkIsAcyclic(){let e=new Set;this._allInputIndices.forEach(r=>{this._allData[r]._to.forEach(s=>{e.add(s)})});let n=Array.from(e),t=new Array(this._nodes.length).fill("white");for(;n.length>0;){let r=n.pop();t[r]==="gray"?t[r]="black":(n.push(r),t[r]="gray",this._nodes[r].outputs.forEach(o=>{let s=this._allData[o];if(typeof s.tensor<"u")throw new Error("node outputs should not be initialized");if(s._from!==r)throw new Error("from property of the Value object doesn't match index of Node being processed");s._to.forEach(a=>{if(t[a]==="gray")throw new Error("model graph is cyclic");t[a]==="white"&&n.push(a)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0,n=new Array(this._nodes.length,0),t=0;for(let r=0;r<this._nodes.length;r++)n[r]=t,this._nodes[r].executeNode?(t!==r&&(this._nodes[t]=this._nodes[r]),t++):this._nodes[r].outputs.forEach(o=>{this._allData[o]._from=-2});this._nodes.splice(t,this._nodes.length-t);for(let r=0;r<this._allData.length;r++){let o=this._allData[r];o._from!==void 0&&o._from!==-1&&o._from!==-2&&(o._from=n[o._from]);for(let s=0;s<o._to.length;s++)if(o._to[s]>=0)o._to[s]=n[o._to[s]];else throw new Error("Trying to update a removed node")}e=0;for(let r=0;r<this._allData.length;r++){if(this._allData[r].from===-2&&this._allOutputIndices.indexOf(r+e)===-1){e++,this._allData.splice(r,1),r--;continue}if(e>0){let o=-1;this._allData[r].from!==void 0&&this._allData[r].from!==-1?(o=this._nodes[this._allData[r].from].outputs.indexOf(r+e),o!==-1&&(this._nodes[this._allData[r].from].outputs[o]=r)):(o=this._allInputIndices.indexOf(r+e),o!==-1&&(this._allInputIndices[o]=r)),this._allData[r].to.forEach(s=>{o=this._nodes[s].inputs.indexOf(r+e),o!==-1&&(this._nodes[s].inputs[o]=r)}),this._allData[r].to.length===0&&(o=this._allOutputIndices.indexOf(r+e),o!==-1&&(this._allOutputIndices[o]=r))}}}deleteNode(e){let n=this._nodes[e];if(n.outputs.length>1){for(let a=1;a<n.outputs.length;a++)if(this._allData[n.outputs[a]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}n.executeNode=!1;let t=n.inputs[0],r=n.outputs[0],o=this._allData[r].to;for(let a=0;a<n.inputs.length;a++){let u=this._allData[n.inputs[a]].to.indexOf(e);if(u===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n.inputs[a]].to.splice(u,1)}this._allData[r]._to=[];let s=this._allOutputIndices.indexOf(r);if(s!==-1&&(this._allOutputIndices[s]=t),o&&o.length>0)for(let a of o){let u=this._nodes[a].inputs.indexOf(r);if(u===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[a].inputs[u]=t,this._allData[t].to.push(a)}}removeAllDropoutNodes(){let e=0;for(let n of this._nodes){if(n.opType==="Dropout"){if(n.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(n.outputs.length!==1&&n.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(n.outputs.length===2&&this._allData[n.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(let n of this._nodes)n.opType==="Identity"&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(let e of this._nodes)if(e.opType==="Conv"){let n=this._allData[e.outputs[0]]._to;if(n.length===1&&this.isActivation(this._nodes[n[0]])){let t=this._nodes[n[0]];if(t.opType==="Clip")if(t.inputs.length===1)try{e.attributes.set("activation_params","floats",[t.attributes.getFloat("min"),t.attributes.getFloat("max")])}catch{e.attributes.set("activation_params","floats",[an,sn])}else if(t.inputs.length>=3&&this._allData[t.inputs[1]].tensor!==void 0&&this._allData[t.inputs[2]].tensor!==void 0)e.attributes.set("activation_params","floats",[this._allData[t.inputs[1]].tensor.floatData[0],this._allData[t.inputs[2]].tensor.floatData[0]]);else continue;e.attributes.set("activation","string",t.opType),this.deleteNode(n[0])}}}}});var ey,yw,va,ry=it(()=>{"use strict";Ri();ty();bo();ey=kn($n());Gt();yw=gt.experimental.fbs,va=class{constructor(){}load(e,n,t){if(!t)try{this.loadFromOnnxFormat(e,n);return}catch(r){if(t!==void 0)throw r}this.loadFromOrtFormat(e,n)}loadFromOnnxFormat(e,n){let t=ey.onnx.ModelProto.decode(e);if(Me.longToNumber(t.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=t.opsetImport.map(o=>({domain:o.domain,version:Me.longToNumber(o.version)})),this._graph=Qf.from(t.graph,n)}loadFromOrtFormat(e,n){let t=new q.ByteBuffer(e),r=yw.InferenceSession.getRootAsInferenceSession(t).model();if(Me.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let s=0;s<r.opsetImportLength();s++){let a=r.opsetImport(s);this._opsets.push({domain:a?.domain(),version:Me.longToNumber(a.version())})}this._graph=Qf.from(r.graph(),n)}get graph(){return this._graph}get opsets(){return this._opsets}}});var wa,ny=it(()=>{"use strict";Jm();Zm();ze();ry();wa=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=Ni.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,n,t){await this.profiler.event("session","Session.loadModel",async()=>{let r=await Kf(this.backendHint);if(this.sessionHandler=r.createSessionHandler(this.context),this._model=new va,typeof e=="string"){let o=e.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let s=await(void 0)(e);this.initialize(s,o)}else{let a=await(await fetch(e)).arrayBuffer();this.initialize(new Uint8Array(a),o)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{let o=new Uint8Array(e,n||0,t||e.byteLength);this.initialize(o)}})}initialize(e,n){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let t=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,t,n),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new ya(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let n=this.normalizeAndValidateInputs(e),t=await this._executionPlan.execute(this.sessionHandler,n);return this.createOutput(t)})}normalizeAndValidateInputs(e){let n=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==n.length)throw new Error(`incorrect input array length: expected ${n.length} but got ${e.length}`)}else{if(e.size!==n.length)throw new Error(`incorrect input map size: expected ${n.length} but got ${e.size}`);let t=new Array(e.size),r=0;for(let o=0;o<n.length;++o){let s=e.get(n[o]);if(!s)throw new Error(`missing input tensor for: '${name}'`);t[r++]=s}e=t}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){let t=this._model.graph.getInputIndices(),r=this._model.graph.getValues(),o=new Array(t.length);for(let s=0;s<t.length;++s){let a=r[t[s]];o[s]=a.type.shape.dims,this.context.graphInputTypes.push(a.type.tensorType),this.context.graphInputDims.push(e[s].dims)}this.validateInputTensorDims(o,e,!0)}else this.validateInputTensorDims(this.context.graphInputDims,e,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,n){for(let t=0;t<n.length;t++){let r=e[t],o=n[t].type;if(r!==o)throw new Error(`input tensor[${t}] check failed: expected type '${r}' but got ${o}`)}}validateInputTensorDims(e,n,t){for(let r=0;r<n.length;r++){let o=e[r],s=n[r].dims;if(!this.compareTensorDims(o,s,t))throw new Error(`input tensor[${r}] check failed: expected shape '[${o.join(",")}]' but got [${s.join(",")}]`)}}compareTensorDims(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==n[r]&&(!t||e[r]!==0)&&e[r]!==null)return!1;return!0}createOutput(e){let n=this._model.graph.getOutputNames();if(e.length!==n.length)throw new Error("expected number of outputs do not match number of generated outputs");let t=new Map;for(let r=0;r<n.length;++r)t.set(n[r],e[r]);return t}initializeOps(e){let n=e.getNodes();this._ops=new Array(n.length);for(let t=0;t<n.length;t++)this._ops[t]=this.sessionHandler.resolve(n[t],this._model.opsets,e)}}});var Ta,oy=it(()=>{"use strict";nr();un();Ta=class{constructor(e){this.session=e;this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,n,t){let r=new Map;for(let a in e)if(Object.hasOwnProperty.call(e,a)){let u=e[a];r.set(a,new pe(u.dims,u.type,void 0,void 0,u.data))}let o=await this.session.run(r),s={};return o.forEach((a,u)=>{s[u]=new me(a.type,a.data,a.dims)}),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}});var iy={};Zr(iy,{onnxjsBackend:()=>gw});var tc,gw,ay=it(()=>{"use strict";ny();oy();tc=class{async init(){}async createInferenceSessionHandler(e,n){let t=new wa(n);return typeof e=="string"?await t.loadModel(e):await t.loadModel(e),new Ta(t)}},gw=new tc});var ec={};Zr(ec,{readFile:()=>vw});var vw,rc=it(()=>{vw=void 0});var nc={};Zr(nc,{join:()=>ww});var ww,oc=it(()=>{ww=void 0});var fy=qt((uy,ic)=>{"use strict";var sy=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(e={}){var n=e,t,r;n.ready=new Promise((l,p)=>{t=l,r=p});var o=Object.assign({},n),s="./this.program",a=typeof window=="object",u=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",S,E,N;if(c){var Z=(rc(),Br(ec)),H=(oc(),Br(nc));v=u?H.dirname(v)+"/":__dirname+"/",S=(l,p)=>(l=l.startsWith("file://")?new URL(l):H.normalize(l),Z.readFileSync(l,p?void 0:"utf8")),N=l=>(l=S(l,!0),l.buffer||(l=new Uint8Array(l)),l),E=(l,p,m,b=!0)=>{l=l.startsWith("file://")?new URL(l):H.normalize(l),Z.readFile(l,b?void 0:"utf8",(w,x)=>{w?m(w):p(b?x.buffer:x)})},!n.thisProgram&&1<process.argv.length&&(s=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(a||u)&&(u?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),i&&(v=i),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",S=l=>{var p=new XMLHttpRequest;return p.open("GET",l,!1),p.send(null),p.responseText},u&&(N=l=>{var p=new XMLHttpRequest;return p.open("GET",l,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),E=(l,p,m)=>{var b=new XMLHttpRequest;b.open("GET",l,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?p(b.response):m()},b.onerror=m,b.send(null)});var rt=console.log.bind(console),at=console.error.bind(console);Object.assign(n,o),o=null,typeof WebAssembly!="object"&&Er("no native wasm support detected");var ot,ut=!1,xt,yt,Wt,Zt,pt,It,We,_t,Hr,de;function Bt(){var l=ot.buffer;n.HEAP8=xt=new Int8Array(l),n.HEAP16=Wt=new Int16Array(l),n.HEAPU8=yt=new Uint8Array(l),n.HEAPU16=Zt=new Uint16Array(l),n.HEAP32=pt=new Int32Array(l),n.HEAPU32=It=new Uint32Array(l),n.HEAPF32=We=new Float32Array(l),n.HEAPF64=de=new Float64Array(l),n.HEAP64=_t=new BigInt64Array(l),n.HEAPU64=Hr=new BigUint64Array(l)}var Ht=[],vr=[],Ie=[],ve=0,Vt=null,ye=null;function Er(l){throw l="Aborted("+l+")",at(l),ut=!0,l=new WebAssembly.RuntimeError(l+". Build with -sASSERTIONS for more info."),r(l),l}function fr(l){return l.startsWith("data:application/octet-stream;base64,")}var Je;if(Je="ort-wasm.wasm",!fr(Je)){var Dr=Je;Je=n.locateFile?n.locateFile(Dr,v):v+Dr}function Vr(l){if(N)return N(l);throw"both async and sync fetching of the wasm failed"}function Ae(l){if(a||u){if(typeof fetch=="function"&&!l.startsWith("file://"))return fetch(l,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at '"+l+"'";return p.arrayBuffer()}).catch(()=>Vr(l));if(E)return new Promise((p,m)=>{E(l,b=>p(new Uint8Array(b)),m)})}return Promise.resolve().then(()=>Vr(l))}function Ze(l,p,m){return Ae(l).then(b=>WebAssembly.instantiate(b,p)).then(b=>b).then(m,b=>{at(`failed to asynchronously prepare wasm: ${b}`),Er(b)})}function jr(l,p){var m=Je;return typeof WebAssembly.instantiateStreaming!="function"||fr(m)||m.startsWith("file://")||c||typeof fetch!="function"?Ze(m,l,p):fetch(m,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,l).then(p,function(w){return at(`wasm streaming compile failed: ${w}`),at("falling back to ArrayBuffer instantiation"),Ze(m,l,p)}))}var zt=[],Qt=0,_e=0;function cr(l){this.qe=l,this.ke=l-24,this.Ie=function(p){It[this.ke+4>>>2>>>0]=p},this.re=function(){return It[this.ke+4>>>2>>>0]},this.He=function(p){It[this.ke+8>>>2>>>0]=p},this.ye=function(p){xt[this.ke+12>>>0>>>0]=p?1:0},this.Ee=function(){return xt[this.ke+12>>>0>>>0]!=0},this.ze=function(p){xt[this.ke+13>>>0>>>0]=p?1:0},this.Ae=function(){return xt[this.ke+13>>>0>>>0]!=0},this.Ge=function(p,m){this.se(0),this.Ie(p),this.He(m)},this.se=function(p){It[this.ke+16>>>2>>>0]=p},this.De=function(){return It[this.ke+16>>>2>>>0]},this.Fe=function(){if(jo(this.re()))return It[this.qe>>>2>>>0];var p=this.De();return p!==0?p:this.qe}}var kr=l=>{var p=_e;if(!p)return Fr(0),0;var m=new cr(p);m.se(p);var b=m.re();if(!b)return Fr(0),p;for(var w in l){var x=l[w];if(x===0||x===b)break;if(Vo(x,b,m.ke+16))return Fr(x),p}return Fr(b),p},Vn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qr=(l,p,m)=>{p>>>=0;var b=p+m;for(m=p;l[m]&&!(m>=b);)++m;if(16<m-p&&l.buffer&&Vn)return Vn.decode(l.subarray(p,m));for(b="";p<m;){var w=l[p++];if(w&128){var x=l[p++]&63;if((w&224)==192)b+=String.fromCharCode((w&31)<<6|x);else{var O=l[p++]&63;w=(w&240)==224?(w&15)<<12|x<<6|O:(w&7)<<18|x<<12|O<<6|l[p++]&63,65536>w?b+=String.fromCharCode(w):(w-=65536,b+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else b+=String.fromCharCode(w)}return b},Qe=(l,p)=>(l>>>=0)?qr(yt,l,p):"",Lr=l=>{for(var p=0,m=0;m<l.length;++m){var b=l.charCodeAt(m);127>=b?p++:2047>=b?p+=2:55296<=b&&57343>=b?(p+=4,++m):p+=3}return p},lr=(l,p,m,b)=>{if(m>>>=0,!(0<b))return 0;var w=m;b=m+b-1;for(var x=0;x<l.length;++x){var O=l.charCodeAt(x);if(55296<=O&&57343>=O){var A=l.charCodeAt(++x);O=65536+((O&1023)<<10)|A&1023}if(127>=O){if(m>=b)break;p[m++>>>0]=O}else{if(2047>=O){if(m+1>=b)break;p[m++>>>0]=192|O>>6}else{if(65535>=O){if(m+2>=b)break;p[m++>>>0]=224|O>>12}else{if(m+3>=b)break;p[m++>>>0]=240|O>>18,p[m++>>>0]=128|O>>12&63}p[m++>>>0]=128|O>>6&63}p[m++>>>0]=128|O&63}}return p[m>>>0]=0,m-w},jn=l=>{if(l===null)return"null";var p=typeof l;return p==="object"||p==="array"||p==="function"?l.toString():""+l},dr,Le=l=>{for(var p="";yt[l>>>0];)p+=dr[yt[l++>>>0]];return p},wr={},pn={},Da={},tr;function ka(l,p,m={}){var b=p.name;if(!l)throw new tr(`type "${b}" must have a positive integer typeid pointer`);if(pn.hasOwnProperty(l)){if(m.Be)return;throw new tr(`Cannot register type '${b}' twice`)}pn[l]=p,delete Da[l],wr.hasOwnProperty(l)&&(p=wr[l],delete wr[l],p.forEach(w=>w()))}function Ce(l,p,m={}){if(!("argPackAdvance"in p))throw new TypeError("registerType registeredInstance requires argPackAdvance");ka(l,p,m)}var hn=(l,p,m)=>{switch(p){case 1:return m?b=>xt[b>>>0>>>0]:b=>yt[b>>>0>>>0];case 2:return m?b=>Wt[b>>>1>>>0]:b=>Zt[b>>>1>>>0];case 4:return m?b=>pt[b>>>2>>>0]:b=>It[b>>>2>>>0];case 8:return m?b=>_t[b>>>3]:b=>Hr[b>>>3];default:throw new TypeError(`invalid integer width (${p}): ${l}`)}};function qn(){this.me=[void 0],this.we=[]}var Se=new qn;function mn(l){l>>>=0,l>=Se.ke&&--Se.get(l).xe===0&&Se.se(l)}var he=l=>{if(!l)throw new tr("Cannot use deleted val. handle = "+l);return Se.get(l).value},Pe=l=>{switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Se.re({xe:1,value:l})}};function yn(l){return this.fromWireType(pt[l>>>2>>>0])}var La=(l,p)=>{switch(p){case 4:return function(m){return this.fromWireType(We[m>>>2>>>0])};case 8:return function(m){return this.fromWireType(de[m>>>3>>>0])};default:throw new TypeError(`invalid float width (${p}): ${l}`)}};function At(l){return this.fromWireType(It[l>>>2>>>0])}var Yr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Co=(l,p)=>{for(var m=l>>1,b=m+p/2;!(m>=b)&&Zt[m>>>0];)++m;if(m<<=1,32<m-l&&Yr)return Yr.decode(yt.subarray(l>>>0,m>>>0));for(m="",b=0;!(b>=p/2);++b){var w=Wt[l+2*b>>>1>>>0];if(w==0)break;m+=String.fromCharCode(w)}return m},bn=(l,p,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var b=p;m=m<2*l.length?m/2:l.length;for(var w=0;w<m;++w)Wt[p>>>1>>>0]=l.charCodeAt(w),p+=2;return Wt[p>>>1>>>0]=0,p-b},Fo=l=>2*l.length,j=(l,p)=>{for(var m=0,b="";!(m>=p/4);){var w=pt[l+4*m>>>2>>>0];if(w==0)break;++m,65536<=w?(w-=65536,b+=String.fromCharCode(55296|w>>10,56320|w&1023)):b+=String.fromCharCode(w)}return b},gn=(l,p,m)=>{if(p>>>=0,m===void 0&&(m=2147483647),4>m)return 0;var b=p;m=b+m-4;for(var w=0;w<l.length;++w){var x=l.charCodeAt(w);if(55296<=x&&57343>=x){var O=l.charCodeAt(++w);x=65536+((x&1023)<<10)|O&1023}if(pt[p>>>2>>>0]=x,p+=4,p+4>m)break}return pt[p>>>2>>>0]=0,p-b},vn=l=>{for(var p=0,m=0;m<l.length;++m){var b=l.charCodeAt(m);55296<=b&&57343>=b&&++m,p+=4}return p},Fe=(l,p)=>{var m=pn[l];if(m===void 0)throw l=Te(l),m=Le(l),Ue(l),new tr(p+" has unknown type "+m);return m},Yn={},Tr=l=>{var p=Yn[l];return p===void 0?Le(l):p},Kr=[],Kn=()=>typeof globalThis=="object"?globalThis:Function("return this")(),$o=l=>{var p=Kr.length;return Kr.push(l),p},Bo=(l,p)=>{for(var m=Array(l),b=0;b<l;++b)m[b]=Fe(It[p+4*b>>>2>>>0],"parameter "+b);return m},Xr=l=>{if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var p=l.charCodeAt(0);return 48<=p&&57>=p?`_${l}`:l},Xn={};function Jn(l,p){return l=Xr(l),{[l]:function(){return p.apply(this,arguments)}}[l]}function No(l){var p=Function;if(!(p instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof p} which is not a function`);var m=Jn(p.name||"unknownFunctionName",function(){});return m.prototype=p.prototype,m=new m,l=p.apply(m,l),l instanceof Object?l:m}var Mo=l=>{for(var p="",m=0;m<l;++m)p+=(m!==0?", ":"")+"arg"+m;var b="return function emval_allocator_"+l+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(m=0;m<l;++m)b+="var argType"+m+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+m+`');
var arg`+m+" = argType"+m+`.readValueFromPointer(args);
args += argType`+m+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",b+("var obj = new constructor("+p+`);
return valueToHandle(obj);
}
`))(Fe,n,Pe,()=>It)},Zn={},xr=l=>l%4===0&&(l%100!==0||l%400===0),Qn=[0,31,60,91,121,152,182,213,244,274,305,335],to=[0,31,59,90,120,151,181,212,243,273,304,334],eo=l=>{var p=Lr(l)+1,m=we(p);return m&&lr(l,yt,m,p),m},wn={},ro=()=>{if(!Tn){var l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},p;for(p in wn)wn[p]===void 0?delete l[p]:l[p]=wn[p];var m=[];for(p in l)m.push(`${p}=${l[p]}`);Tn=m}return Tn},Tn,Ro=[null,[],[]],no=[31,29,31,30,31,30,31,31,30,31,30,31],oo=[31,28,31,30,31,30,31,31,30,31,30,31];function Ge(l){var p=Array(Lr(l)+1);return lr(l,p,0,p.length),p}function xn(l,p,m,b){function w(F,nt,ct){for(F=typeof F=="number"?F.toString():F||"";F.length<nt;)F=ct[0]+F;return F}function x(F,nt){return w(F,nt,"0")}function O(F,nt){function ct(St){return 0>St?-1:0<St?1:0}var bt;return(bt=ct(F.getFullYear()-nt.getFullYear()))===0&&(bt=ct(F.getMonth()-nt.getMonth()))===0&&(bt=ct(F.getDate()-nt.getDate())),bt}function A(F){switch(F.getDay()){case 0:return new Date(F.getFullYear()-1,11,29);case 1:return F;case 2:return new Date(F.getFullYear(),0,3);case 3:return new Date(F.getFullYear(),0,2);case 4:return new Date(F.getFullYear(),0,1);case 5:return new Date(F.getFullYear()-1,11,31);case 6:return new Date(F.getFullYear()-1,11,30)}}function k(F){var nt=F.ne;for(F=new Date(new Date(F.oe+1900,0,1).getTime());0<nt;){var ct=F.getMonth(),bt=(xr(F.getFullYear())?no:oo)[ct];if(nt>bt-F.getDate())nt-=bt-F.getDate()+1,F.setDate(1),11>ct?F.setMonth(ct+1):(F.setMonth(0),F.setFullYear(F.getFullYear()+1));else{F.setDate(F.getDate()+nt);break}}return ct=new Date(F.getFullYear()+1,0,4),nt=A(new Date(F.getFullYear(),0,4)),ct=A(ct),0>=O(nt,F)?0>=O(ct,F)?F.getFullYear()+1:F.getFullYear():F.getFullYear()-1}l>>>=0,p>>>=0,m>>>=0,b>>>=0;var B=It[b+40>>>2>>>0];b={Le:pt[b>>>2>>>0],Ke:pt[b+4>>>2>>>0],te:pt[b+8>>>2>>>0],ve:pt[b+12>>>2>>>0],ue:pt[b+16>>>2>>>0],oe:pt[b+20>>>2>>>0],le:pt[b+24>>>2>>>0],ne:pt[b+28>>>2>>>0],Ne:pt[b+32>>>2>>>0],Je:pt[b+36>>>2>>>0],Me:B?Qe(B):""},m=Qe(m),B={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var R in B)m=m.replace(new RegExp(R,"g"),B[R]);var J="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),tt="January February March April May June July August September October November December".split(" ");B={"%a":F=>J[F.le].substring(0,3),"%A":F=>J[F.le],"%b":F=>tt[F.ue].substring(0,3),"%B":F=>tt[F.ue],"%C":F=>x((F.oe+1900)/100|0,2),"%d":F=>x(F.ve,2),"%e":F=>w(F.ve,2," "),"%g":F=>k(F).toString().substring(2),"%G":F=>k(F),"%H":F=>x(F.te,2),"%I":F=>(F=F.te,F==0?F=12:12<F&&(F-=12),x(F,2)),"%j":F=>{for(var nt=0,ct=0;ct<=F.ue-1;nt+=(xr(F.oe+1900)?no:oo)[ct++]);return x(F.ve+nt,3)},"%m":F=>x(F.ue+1,2),"%M":F=>x(F.Ke,2),"%n":()=>`
`,"%p":F=>0<=F.te&&12>F.te?"AM":"PM","%S":F=>x(F.Le,2),"%t":()=>"	","%u":F=>F.le||7,"%U":F=>x(Math.floor((F.ne+7-F.le)/7),2),"%V":F=>{var nt=Math.floor((F.ne+7-(F.le+6)%7)/7);if(2>=(F.le+371-F.ne-2)%7&&nt++,nt)nt==53&&(ct=(F.le+371-F.ne)%7,ct==4||ct==3&&xr(F.oe)||(nt=1));else{nt=52;var ct=(F.le+7-F.ne-1)%7;(ct==4||ct==5&&xr(F.oe%400-1))&&nt++}return x(nt,2)},"%w":F=>F.le,"%W":F=>x(Math.floor((F.ne+7-(F.le+6)%7)/7),2),"%y":F=>(F.oe+1900).toString().substring(2),"%Y":F=>F.oe+1900,"%z":F=>{F=F.Je;var nt=0<=F;return F=Math.abs(F)/60,(nt?"+":"-")+("0000"+(F/60*100+F%60)).slice(-4)},"%Z":F=>F.Me,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(R in B)m.includes(R)&&(m=m.replace(new RegExp(R,"g"),B[R](b)));return m=m.replace(/\0\0/g,"%"),R=Ge(m),R.length>p?0:(xt.set(R,l>>>0),R.length-1)}for(var Cr=[],Go,U=l=>{var p=Cr[l];return p||(l>=Cr.length&&(Cr.length=l+1),Cr[l]=p=Go.get(l)),p},Uo=Array(256),$e=0;256>$e;++$e)Uo[$e]=String.fromCharCode($e);dr=Uo,tr=n.BindingError=class extends Error{constructor(l){super(l),this.name="BindingError"}},n.InternalError=class extends Error{constructor(l){super(l),this.name="InternalError"}},Object.assign(qn.prototype,{get(l){return this.me[l]},has(l){return this.me[l]!==void 0},re(l){var p=this.we.pop()||this.me.length;return this.me[p]=l,p},se(l){this.me[l]=void 0,this.we.push(l)}}),Se.me.push({value:void 0},{value:null},{value:!0},{value:!1}),Se.ke=Se.me.length,n.count_emval_handles=()=>{for(var l=0,p=Se.ke;p<Se.me.length;++p)Se.me[p]!==void 0&&++l;return l};var Wo={u:function(l){return l=new cr(l>>>0),l.Ee()||(l.ye(!0),Qt--),l.ze(!1),zt.push(l),Ho(l.qe),l.Fe()},M:()=>{G(0,0);var l=zt.pop();zo(l.qe),_e=0},a:function(){return kr([])},l:function(l){return kr([l>>>0])},x:function(l,p){return kr([l>>>0,p>>>0])},q:function(l,p,m){return kr([l>>>0,p>>>0,m>>>0])},xb:()=>{var l=zt.pop();l||Er("no exception to throw");var p=l.qe;throw l.Ae()||(zt.push(l),l.ze(!0),l.ye(!1),Qt++),_e=p,_e},t:function(l,p,m){throw l>>>=0,new cr(l).Ge(p>>>0,m>>>0),_e=l,Qt++,_e},Ra:()=>Qt,g:function(l){throw _e||(_e=l>>>0),_e},yb:function(){return 0},Uc:function(){},Dc:function(){},Fc:function(){},xc:function(){return 0},Sc:function(){},Mc:function(){},Rc:function(){},Rb:function(){},Ec:function(){},Bc:function(){},Tc:function(){},Cc:function(){},Ub:function(l,p,m,b,w){p>>>=0,p=Le(p);var x=p.indexOf("u")!=-1;x&&(w=(1n<<64n)-1n),Ce(l>>>0,{name:p,fromWireType:O=>O,toWireType:function(O,A){if(typeof A!="bigint"&&typeof A!="number")throw new TypeError(`Cannot convert "${jn(A)}" to ${this.name}`);if(A<b||A>w)throw new TypeError(`Passing a number "${jn(A)}" from JS side to C/C++ side to an argument of type "${p}", which is outside the valid range [${b}, ${w}]!`);return A},argPackAdvance:8,readValueFromPointer:hn(p,m>>>0,!x),pe:null})},Xc:function(l,p,m,b){p=Le(p>>>0),Ce(l>>>0,{name:p,fromWireType:function(w){return!!w},toWireType:function(w,x){return x?m:b},argPackAdvance:8,readValueFromPointer:function(w){return this.fromWireType(yt[w>>>0])},pe:null})},Wc:function(l,p){p=Le(p>>>0),Ce(l>>>0,{name:p,fromWireType:m=>{var b=he(m);return mn(m),b},toWireType:(m,b)=>Pe(b),argPackAdvance:8,readValueFromPointer:yn,pe:null})},Tb:function(l,p,m){p=Le(p>>>0),Ce(l>>>0,{name:p,fromWireType:b=>b,toWireType:(b,w)=>w,argPackAdvance:8,readValueFromPointer:La(p,m>>>0),pe:null})},ua:function(l,p,m,b,w){if(l>>>=0,m>>>=0,p=Le(p>>>0),w===-1&&(w=4294967295),w=A=>A,b===0){var x=32-8*m;w=A=>A<<x>>>x}var O=p.includes("unsigned")?function(A,k){return k>>>0}:function(A,k){return k};Ce(l,{name:p,fromWireType:w,toWireType:O,argPackAdvance:8,readValueFromPointer:hn(p,m,b!==0),pe:null})},_:function(l,p,m){function b(x){return new w(xt.buffer,It[x+4>>>2>>>0],It[x>>>2>>>0])}var w=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][p];m=Le(m>>>0),Ce(l>>>0,{name:m,fromWireType:b,argPackAdvance:8,readValueFromPointer:b},{Be:!0})},Vb:function(l,p){p=Le(p>>>0);var m=p==="std::string";Ce(l>>>0,{name:p,fromWireType:function(b){var w=It[b>>>2>>>0],x=b+4;if(m)for(var O=x,A=0;A<=w;++A){var k=x+A;if(A==w||yt[k>>>0]==0){if(O=Qe(O,k-O),B===void 0)var B=O;else B+=String.fromCharCode(0),B+=O;O=k+1}}else{for(B=Array(w),A=0;A<w;++A)B[A]=String.fromCharCode(yt[x+A>>>0]);B=B.join("")}return Ue(b),B},toWireType:function(b,w){w instanceof ArrayBuffer&&(w=new Uint8Array(w));var x=typeof w=="string";if(!(x||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int8Array))throw new tr("Cannot pass non-string to std::string");var O=m&&x?Lr(w):w.length,A=we(4+O+1),k=A+4;if(It[A>>>2>>>0]=O,m&&x)lr(w,yt,k,O+1);else if(x)for(x=0;x<O;++x){var B=w.charCodeAt(x);if(255<B)throw Ue(k),new tr("String has UTF-16 code units that do not fit in 8 bits");yt[k+x>>>0]=B}else for(x=0;x<O;++x)yt[k+x>>>0]=w[x];return b!==null&&b.push(Ue,A),A},argPackAdvance:8,readValueFromPointer:At,pe(b){Ue(b)}})},Ab:function(l,p,m){if(p>>>=0,m>>>=0,m=Le(m),p===2)var b=Co,w=bn,x=Fo,O=()=>Zt,A=1;else p===4&&(b=j,w=gn,x=vn,O=()=>It,A=2);Ce(l>>>0,{name:m,fromWireType:k=>{for(var B=It[k>>>2>>>0],R=O(),J,tt=k+4,F=0;F<=B;++F){var nt=k+4+F*p;(F==B||R[nt>>>A]==0)&&(tt=b(tt,nt-tt),J===void 0?J=tt:(J+=String.fromCharCode(0),J+=tt),tt=nt+p)}return Ue(k),J},toWireType:(k,B)=>{if(typeof B!="string")throw new tr(`Cannot pass non-string to C++ string type ${m}`);var R=x(B),J=we(4+R+p);return It[J>>>2]=R>>A,w(B,J+4,R+p),k!==null&&k.push(Ue,J),J},argPackAdvance:8,readValueFromPointer:yn,pe(k){Ue(k)}})},$c:function(l,p){p=Le(p>>>0),Ce(l>>>0,{Ce:!0,name:p,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},Vc:()=>!0,od:function(l,p,m){p>>>=0,m>>>=0,l=he(l>>>0),p=Fe(p,"emval::as");var b=[],w=Pe(b);return It[m>>>2>>>0]=w,p.toWireType(b,l)},la:function(l,p,m,b,w){m>>>=0,b>>>=0,w>>>=0,l=Kr[l>>>0],p=he(p>>>0),m=Tr(m);var x=[];return It[b>>>2>>>0]=Pe(x),l(p,m,x,w)},dd:function(l,p,m,b){m>>>=0,b>>>=0,l=Kr[l>>>0],p=he(p>>>0),m=Tr(m),l(p,m,null,b)},wc:mn,pd:function(l,p){return p>>>=0,l=he(l>>>0),p=he(p),l==p},vc:function(l){return l>>>=0,l===0?Pe(Kn()):(l=Tr(l),Pe(Kn()[l]))},ja:function(l,p){var m=Bo(l,p>>>0),b=m[0];p=b.name+"_$"+m.slice(1).map(function(R){return R.name}).join("_")+"$";var w=Xn[p];if(w!==void 0)return w;w=["retType"];for(var x=[b],O="",A=0;A<l-1;++A)O+=(A!==0?", ":"")+"arg"+A,w.push("argType"+A),x.push(m[1+A]);var k="return function "+Xr("methodCaller_"+p)+`(handle, name, destructors, args) {
`,B=0;for(A=0;A<l-1;++A)k+="    var arg"+A+" = argType"+A+".readValueFromPointer(args"+(B?"+"+B:"")+`);
`,B+=m[A+1].argPackAdvance;for(k+="    var rv = handle[name]("+O+`);
`,A=0;A<l-1;++A)m[A+1].deleteObject&&(k+="    argType"+A+".deleteObject(arg"+A+`);
`);return b.Ce||(k+=`    return retType.toWireType(destructors, rv);
`),w.push(k+`};
`),l=No(w).apply(null,x),w=$o(l),Xn[p]=w},id:function(l,p){return p>>>=0,l=he(l>>>0),p=he(p),Pe(l[p])},O:function(l){l>>>=0,4<l&&(Se.get(l).xe+=1)},qd:function(l,p,m,b){m>>>=0,b>>>=0,l=he(l>>>0);var w=Zn[p];return w||(w=Mo(p),Zn[p]=w),w(l,m,b)},hd:function(){return Pe([])},ld:function(l){l=he(l>>>0);for(var p=Array(l.length),m=0;m<l.length;m++)p[m]=l[m];return Pe(p)},X:function(l){return Pe(Tr(l>>>0))},Qa:function(){return Pe({})},rd:function(l){l>>>=0;for(var p=he(l);p.length;){var m=p.pop();p.pop()(m)}mn(l)},td:function(l,p,m){p>>>=0,m>>>=0,l=he(l>>>0),p=he(p),m=he(m),l[p]=m},vb:function(l,p){return p>>>=0,l=Fe(l>>>0,"_emval_take_value"),l=l.readValueFromPointer(p),Pe(l)},Jc:function(l,p){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l),p>>>=0,l=new Date(1e3*l),pt[p>>>2>>>0]=l.getUTCSeconds(),pt[p+4>>>2>>>0]=l.getUTCMinutes(),pt[p+8>>>2>>>0]=l.getUTCHours(),pt[p+12>>>2>>>0]=l.getUTCDate(),pt[p+16>>>2>>>0]=l.getUTCMonth(),pt[p+20>>>2>>>0]=l.getUTCFullYear()-1900,pt[p+24>>>2>>>0]=l.getUTCDay(),pt[p+28>>>2>>>0]=(l.getTime()-Date.UTC(l.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Kc:function(l,p){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l),p>>>=0,l=new Date(1e3*l),pt[p>>>2>>>0]=l.getSeconds(),pt[p+4>>>2>>>0]=l.getMinutes(),pt[p+8>>>2>>>0]=l.getHours(),pt[p+12>>>2>>>0]=l.getDate(),pt[p+16>>>2>>>0]=l.getMonth(),pt[p+20>>>2>>>0]=l.getFullYear()-1900,pt[p+24>>>2>>>0]=l.getDay(),pt[p+28>>>2>>>0]=(xr(l.getFullYear())?Qn:to)[l.getMonth()]+l.getDate()-1|0,pt[p+36>>>2>>>0]=-(60*l.getTimezoneOffset());var m=new Date(l.getFullYear(),6,1).getTimezoneOffset(),b=new Date(l.getFullYear(),0,1).getTimezoneOffset();pt[p+32>>>2>>>0]=(m!=b&&l.getTimezoneOffset()==Math.min(b,m))|0},Lc:function(l){l>>>=0;var p=new Date(pt[l+20>>>2>>>0]+1900,pt[l+16>>>2>>>0],pt[l+12>>>2>>>0],pt[l+8>>>2>>>0],pt[l+4>>>2>>>0],pt[l>>>2>>>0],0),m=pt[l+32>>>2>>>0],b=p.getTimezoneOffset(),w=new Date(p.getFullYear(),6,1).getTimezoneOffset(),x=new Date(p.getFullYear(),0,1).getTimezoneOffset(),O=Math.min(x,w);return 0>m?pt[l+32>>>2>>>0]=+(w!=x&&O==b):0<m!=(O==b)&&(w=Math.max(x,w),p.setTime(p.getTime()+6e4*((0<m?O:w)-b))),pt[l+24>>>2>>>0]=p.getDay(),pt[l+28>>>2>>>0]=(xr(p.getFullYear())?Qn:to)[p.getMonth()]+p.getDate()-1|0,pt[l>>>2>>>0]=p.getSeconds(),pt[l+4>>>2>>>0]=p.getMinutes(),pt[l+8>>>2>>>0]=p.getHours(),pt[l+12>>>2>>>0]=p.getDate(),pt[l+16>>>2>>>0]=p.getMonth(),pt[l+20>>>2>>>0]=p.getYear(),BigInt(p.getTime()/1e3)},Gc:function(){return-52},Ic:function(){},zc:function(l,p,m){function b(k){return(k=k.toTimeString().match(/\(([A-Za-z ]+)\)$/))?k[1]:"GMT"}m>>>=0;var w=new Date().getFullYear(),x=new Date(w,0,1),O=new Date(w,6,1);w=x.getTimezoneOffset();var A=O.getTimezoneOffset();It[l>>>0>>>2>>>0]=60*Math.max(w,A),pt[p>>>0>>>2>>>0]=+(w!=A),l=b(x),p=b(O),l=eo(l),p=eo(p),A<w?(It[m>>>2>>>0]=l,It[m+4>>>2>>>0]=p):(It[m>>>2>>>0]=p,It[m+4>>>2>>>0]=l)},hb:()=>{Er("")},Sb:()=>Date.now(),Ac:function(){return 4294901760},da:()=>performance.now(),Qc:function(l,p,m){return p>>>=0,yt.copyWithin(l>>>0>>>0,p>>>0,p+(m>>>0)>>>0)},yc:function(l){l>>>=0;var p=yt.length;if(4294901760<l)return!1;for(var m=1;4>=m;m*=2){var b=p*(1+.2/m);b=Math.min(b,l+100663296);var w=Math;b=Math.max(l,b);t:{w=(w.min.call(w,4294901760,b+(65536-b%65536)%65536)-ot.buffer.byteLength+65535)/65536;try{ot.grow(w),Bt();var x=1;break t}catch{}x=void 0}if(x)return!0}return!1},Oc:function(l,p){l>>>=0,p>>>=0;var m=0;return ro().forEach((b,w)=>{var x=p+m;for(w=It[l+4*w>>>2>>>0]=x,x=0;x<b.length;++x)xt[w++>>>0>>>0]=b.charCodeAt(x);xt[w>>>0>>>0]=0,m+=b.length+1}),0},Pc:function(l,p){l>>>=0,p>>>=0;var m=ro();It[l>>>2>>>0]=m.length;var b=0;return m.forEach(w=>b+=w.length+1),It[p>>>2>>>0]=b,0},zb:()=>52,Qb:function(){return 52},Nc:function(){return 70},Pb:function(l,p,m,b){p>>>=0,m>>>=0,b>>>=0;for(var w=0,x=0;x<m;x++){var O=It[p>>>2>>>0],A=It[p+4>>>2>>>0];p+=8;for(var k=0;k<A;k++){var B=yt[O+k>>>0],R=Ro[l];B===0||B===10?((l===1?rt:at)(qr(R,0)),R.length=0):R.push(B)}w+=A}return It[b>>>2>>>0]=w,0},gb:Wa,Yc:Ru,ra:Lu,E:Eu,pa:hs,ea:Ga,Zc:Mu,bd:Su,N:Jr,z:qo,b:ao,_b:Ou,sa:Hs,e:Fa,Cb:Iu,h:Ca,W:du,i:Na,_c:Bu,j:On,r:so,s:Ko,o:Xo,za:uo,Ua:Zs,ga:fi,Nb:wi,Ya:Ka,Gb:Qs,kb:Gs,dc:hu,qc:ui,ac:gu,bc:yu,Wb:$u,ia:bs,fb:fo,wa:cu,Bb:Cu,ba:Ts,cc:mu,Oa:Ja,D:Ba,K:mi,Eb:pu,gd:bu,oa:Ls,L:V,$:co,T:Qa,y:Ma,Db:Tu,$b:vu,B:ru,Fb:iu,fd:wu,Pa:Ya,ab:Is,ec:su,Xb:Fu,Kb:ys,V:Ua,F:si,C:Pn,$a:nu,P:yi,d:jt,Wa:z,k:_n,va:Au,Va:Bs,sb:di,f:$a,rc:za,aa:fu,bb:po,xa:ms,jb:Ws,db:ja,c:In,oc:En,jd:tu,m:An,mc:W,n:Yo,pc:qa,lc:gi,md:Vs,p:Jo,Ma:ns,qb:rs,La:os,Ib:Ns,A:ti,H:ri,U:ai,Ta:eu,ic:ks,cb:bi,ta:Za,ma:Us,Q:Ti,Za:ci,Ga:Cs,ib:Nu,Ca:Ys,gc:Xs,Ba:Ks,Da:zs,sd:vi,na:$s,kd:Js,Ha:Es,Fa:Fs,sc:ii,kc:xs,Ea:Ms,Ia:Ps,mb:ws,fa:As,ya:ts,fc:ou,jc:_s,Hb:qs,Aa:au,ka:pi,wb:Qo,ed:xu,R:vs,tb:Va,Sa:uu,eb:Sn,I:$r,S:li,ub:oi,cd:_u,Z:ei,lb:Rs,ha:Os,Yb:ku,ud:Ha,w:Ra,_a:lu,nd:Ds,Lb:cs,hc:js,uc:Zo,Mb:fs,Jb:gs,Xa,tc:ni,Ob:hi,Ja:Ss,Zb:Du,Y:ls,nc:er,J:lo,ad:Pu,rb:vt,qa:ps,G:ds,ob:ss,Ka:as,Na:es,nb:us,pb:is,v:function(l){return l>>>0},Hc:xn,ca:function(l,p,m,b){return xn(l>>>0,p>>>0,m>>>0,b>>>0)}},Ot=function(){var l={a:Wo};return ve++,jr(l,function(p){Ot=p.instance.exports,Ot=Gu(),ot=Ot.vd,Bt(),Go=Ot.ae,vr.unshift(Ot.wd),ve--,ve==0&&(Vt!==null&&(clearInterval(Vt),Vt=null),ye&&(p=ye,ye=null,p()))}).catch(r),{}}();n._OrtInit=(l,p)=>(n._OrtInit=Ot.xd)(l,p),n._OrtGetLastError=(l,p)=>(n._OrtGetLastError=Ot.yd)(l,p),n._OrtCreateSessionOptions=(l,p,m,b,w,x,O,A,k,B)=>(n._OrtCreateSessionOptions=Ot.zd)(l,p,m,b,w,x,O,A,k,B),n._OrtAppendExecutionProvider=(l,p)=>(n._OrtAppendExecutionProvider=Ot.Ad)(l,p),n._OrtAddFreeDimensionOverride=(l,p,m)=>(n._OrtAddFreeDimensionOverride=Ot.Bd)(l,p,m),n._OrtAddSessionConfigEntry=(l,p,m)=>(n._OrtAddSessionConfigEntry=Ot.Cd)(l,p,m),n._OrtReleaseSessionOptions=l=>(n._OrtReleaseSessionOptions=Ot.Dd)(l),n._OrtCreateSession=(l,p,m)=>(n._OrtCreateSession=Ot.Ed)(l,p,m),n._OrtReleaseSession=l=>(n._OrtReleaseSession=Ot.Fd)(l),n._OrtGetInputOutputCount=(l,p,m)=>(n._OrtGetInputOutputCount=Ot.Gd)(l,p,m),n._OrtGetInputName=(l,p)=>(n._OrtGetInputName=Ot.Hd)(l,p),n._OrtGetOutputName=(l,p)=>(n._OrtGetOutputName=Ot.Id)(l,p),n._OrtFree=l=>(n._OrtFree=Ot.Jd)(l),n._OrtCreateTensor=(l,p,m,b,w,x)=>(n._OrtCreateTensor=Ot.Kd)(l,p,m,b,w,x),n._OrtGetTensorData=(l,p,m,b,w)=>(n._OrtGetTensorData=Ot.Ld)(l,p,m,b,w),n._OrtReleaseTensor=l=>(n._OrtReleaseTensor=Ot.Md)(l),n._OrtCreateRunOptions=(l,p,m,b)=>(n._OrtCreateRunOptions=Ot.Nd)(l,p,m,b),n._OrtAddRunConfigEntry=(l,p,m)=>(n._OrtAddRunConfigEntry=Ot.Od)(l,p,m),n._OrtReleaseRunOptions=l=>(n._OrtReleaseRunOptions=Ot.Pd)(l),n._OrtCreateBinding=l=>(n._OrtCreateBinding=Ot.Qd)(l),n._OrtBindInput=(l,p,m)=>(n._OrtBindInput=Ot.Rd)(l,p,m),n._OrtBindOutput=(l,p,m,b)=>(n._OrtBindOutput=Ot.Sd)(l,p,m,b),n._OrtClearBoundOutputs=l=>(n._OrtClearBoundOutputs=Ot.Td)(l),n._OrtReleaseBinding=l=>(n._OrtReleaseBinding=Ot.Ud)(l),n._OrtRunWithBinding=(l,p,m,b,w)=>(n._OrtRunWithBinding=Ot.Vd)(l,p,m,b,w),n._OrtRun=(l,p,m,b,w,x,O,A)=>(n._OrtRun=Ot.Wd)(l,p,m,b,w,x,O,A),n._OrtEndProfiling=l=>(n._OrtEndProfiling=Ot.Xd)(l);var we=n._malloc=l=>(we=n._malloc=Ot.Yd)(l),Ue=n._free=l=>(Ue=n._free=Ot.Zd)(l),Te=l=>(Te=Ot._d)(l);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=Ot.$d)();var G=(l,p)=>(G=Ot.be)(l,p),Fr=l=>(Fr=Ot.ce)(l),Y=()=>(Y=Ot.de)(),K=l=>(K=Ot.ee)(l),io=l=>(io=Ot.fe)(l),zo=l=>(zo=Ot.ge)(l),Ho=l=>(Ho=Ot.he)(l),Vo=(l,p,m)=>(Vo=Ot.ie)(l,p,m),jo=l=>(jo=Ot.je)(l);function Ca(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Fa(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function $a(l,p,m){var b=Y();try{U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function ao(l,p){var m=Y();try{return U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;G(1,0)}}function _n(l,p){var m=Y();try{U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;G(1,0)}}function Ba(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function jt(l){var p=Y();try{U(l)()}catch(m){if(K(p),m!==m+0)throw m;G(1,0)}}function so(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function On(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Na(l,p,m,b,w){var x=Y();try{return U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function In(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function An(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function qo(l){var p=Y();try{return U(l)()}catch(m){if(K(p),m!==m+0)throw m;G(1,0)}}function Ma(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Ra(l,p,m){var b=Y();try{U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Yo(l,p,m,b,w,x){var O=Y();try{U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Ko(l,p,m,b,w,x,O,A){var k=Y();try{return U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Ga(l,p){var m=Y();try{return U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;G(1,0)}}function Ua(l,p){var m=Y();try{return U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;return G(1,0),0n}}function Wa(l,p){var m=Y();try{return U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;G(1,0)}}function Xo(l,p,m,b,w,x,O,A,k){var B=Y();try{return U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function $r(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Jo(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function Zo(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Qo(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ti(l,p,m,b,w,x,O,A){var k=Y();try{U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function ei(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function uo(l,p,m,b,w,x,O,A,k,B){var R=Y();try{return U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function ri(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function fo(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function ni(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function oi(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ii(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ai(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function si(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;return G(1,0),0n}}function za(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function ui(l,p,m,b,w,x,O,A,k){var B=Y();try{return U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function fi(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function ci(l,p,m,b,w,x,O,A,k,B,R,J,tt,F){var nt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(nt),ct!==ct+0)throw ct;G(1,0)}}function Ha(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Va(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function li(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function di(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function Sn(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function ja(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function qa(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function vt(l,p,m,b,w,x,O,A){var k=Y();try{U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Pn(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;return G(1,0),0n}}function En(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function er(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct){var bt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct)}catch(St){if(K(bt),St!==St+0)throw St;G(1,0)}}function pi(l,p,m,b,w,x){var O=Y();try{U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function hi(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function mi(l,p,m,b,w){var x=Y();try{return U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function co(l,p,m,b,w,x,O,A,k,B,R,J,tt,F){var nt=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(nt),ct!==ct+0)throw ct;G(1,0)}}function lo(l,p){var m=Y();try{U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;G(1,0)}}function yi(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;return G(1,0),0n}}function V(l,p,m,b,w,x,O,A,k,B){var R=Y();try{return U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Jr(l,p,m,b,w){var x=Y();try{return U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function bi(l,p,m,b,w,x,O,A,k,B,R,J,tt,F){var nt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(nt),ct!==ct+0)throw ct;G(1,0)}}function z(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function W(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function po(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function gi(l,p,m,b,w,x,O,A){var k=Y();try{U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function vi(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function wi(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt){var St=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function Ti(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function Ya(l,p){var m=Y();try{return U(l)(p)}catch(b){if(K(m),b!==b+0)throw b;G(1,0)}}function Ka(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te){var ee=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function Xa(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Ja(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function Za(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Qa(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function ts(l,p,m,b,w,x){var O=Y();try{U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function es(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St){var Ct=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St)}catch(te){if(K(Ct),te!==te+0)throw te;G(1,0)}}function rs(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt){var St=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function ns(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct){var bt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct)}catch(St){if(K(bt),St!==St+0)throw St;G(1,0)}}function os(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt){var ct=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt)}catch(bt){if(K(ct),bt!==bt+0)throw bt;G(1,0)}}function is(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te,ee){var re=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te,ee)}catch(rr){if(K(re),rr!==rr+0)throw rr;G(1,0)}}function as(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct){var te=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct)}catch(ee){if(K(te),ee!==ee+0)throw ee;G(1,0)}}function ss(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt){var St=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function us(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te){var ee=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function fs(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function cs(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function ls(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt){var ct=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt)}catch(bt){if(K(ct),bt!==bt+0)throw bt;G(1,0)}}function ds(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function ps(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function hs(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ms(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function ys(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;return G(1,0),0n}}function bs(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function gs(l,p,m,b,w,x){var O=Y();try{U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function vs(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function ws(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function Ts(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function xs(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function _s(l,p,m,b,w,x,O,A){var k=Y();try{U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Os(l,p,m,b,w,x,O,A){var k=Y();try{U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Is(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function As(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Ss(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function Ps(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function Es(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Ds(l,p,m,b,w,x){var O=Y();try{U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function ks(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Ls(l,p,m,b,w,x,O,A){var k=Y();try{return U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Cs(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt){var ct=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt)}catch(bt){if(K(ct),bt!==bt+0)throw bt;G(1,0)}}function Fs(l,p,m,b,w,x,O,A,k,B,R,J,tt,F){var nt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(nt),ct!==ct+0)throw ct;G(1,0)}}function $s(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt){var ct=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt)}catch(bt){if(K(ct),bt!==bt+0)throw bt;G(1,0)}}function Bs(l,p,m){var b=Y();try{U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Ns(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Ms(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te,ee,re,rr,Uu,Wu,zu){var Hu=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te,ee,re,rr,Uu,Wu,zu)}catch(ho){if(K(Hu),ho!==ho+0)throw ho;G(1,0)}}function Rs(l,p,m,b,w,x){var O=Y();try{U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Gs(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function Us(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Ws(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function zs(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te,ee){var re=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te,ee)}catch(rr){if(K(re),rr!==rr+0)throw rr;G(1,0)}}function Hs(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Vs(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function js(l,p,m,b,w,x,O,A,k,B,R,J,tt,F){var nt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(nt),ct!==ct+0)throw ct;G(1,0)}}function qs(l,p,m,b,w,x,O,A){var k=Y();try{U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Ys(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt){var St=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function Ks(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te){var ee=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function Xs(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct){var te=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct)}catch(ee){if(K(te),ee!==ee+0)throw ee;G(1,0)}}function Js(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Zs(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Qs(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te){var ee=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct,bt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function tu(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function eu(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function ru(l,p,m,b,w){var x=Y();try{return U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function nu(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;return G(1,0),0n}}function ou(l,p,m,b,w,x,O){var A=Y();try{U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function iu(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function au(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function su(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function uu(l,p,m,b,w,x,O,A,k){var B=Y();try{U(l)(p,m,b,w,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function fu(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function cu(l,p,m,b,w,x,O,A){var k=Y();try{return U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function lu(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function du(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function pu(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function hu(l,p,m,b,w,x,O,A,k,B,R,J){var tt=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function mu(l,p,m,b,w,x,O,A){var k=Y();try{return U(l)(p,m,b,w,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function yu(l,p,m,b,w,x,O,A,k,B,R){var J=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function bu(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function gu(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{return U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function vu(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function wu(l,p,m,b,w,x,O){var A=Y();try{return U(l)(p,m,b,w,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function Tu(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function xu(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function _u(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function Ou(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Iu(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Au(l,p,m,b){var w=Y();try{U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Su(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Pu(l,p,m,b,w){var x=Y();try{U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function Eu(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Du(l,p,m,b,w,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt)}catch(nt){if(K(F),nt!==nt+0)throw nt;G(1,0)}}function ku(l,p,m,b,w,x,O,A,k,B){var R=Y();try{U(l)(p,m,b,w,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Lu(l,p,m,b){var w=Y();try{return U(l)(p,m,b)}catch(x){if(K(w),x!==x+0)throw x;G(1,0)}}function Cu(l,p,m,b,w){var x=Y();try{return U(l)(p,m,b,w)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function Fu(l){var p=Y();try{return U(l)()}catch(m){if(K(p),m!==m+0)throw m;return G(1,0),0n}}function $u(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Bu(l,p,m,b,w,x){var O=Y();try{return U(l)(p,m,b,w,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Nu(l,p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct){var bt=Y();try{U(l)(p,m,b,w,x,O,A,k,B,R,J,tt,F,nt,ct)}catch(St){if(K(bt),St!==St+0)throw St;G(1,0)}}function Mu(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Ru(l,p,m){var b=Y();try{return U(l)(p,m)}catch(w){if(K(b),w!==w+0)throw w;G(1,0)}}function Gu(){var l=Ot;l=Object.assign({},l);var p=b=>()=>b()>>>0,m=b=>w=>b(w)>>>0;return l.__errno_location=p(l.__errno_location),l.Yd=m(l.Yd),l._d=m(l._d),l.de=p(l.de),l.fe=m(l.fe),l}n.stackAlloc=io,n.stackSave=Y,n.stackRestore=K,n.UTF8ToString=Qe,n.stringToUTF8=(l,p,m)=>lr(l,yt,p,m),n.lengthBytesUTF8=Lr;var Dn;ye=function l(){Dn||xi(),Dn||(ye=l)};function xi(){if(!(0<ve)){for(;0<Ht.length;)Ht.shift()(n);if(!(0<ve||Dn||(Dn=!0,n.calledRun=!0,ut))){for(;0<vr.length;)vr.shift()(n);for(t(n);0<Ie.length;)Ie.shift()(n)}}}return xi(),e.ready}})();typeof uy=="object"&&typeof ic=="object"?ic.exports=sy:typeof define=="function"&&define.amd&&define([],()=>sy)});var cy=qt(()=>{});var ly=qt(()=>{});var dy={};Zr(dy,{cpus:()=>Tw});var Tw,py=it(()=>{Tw=void 0});var yy=qt((my,ac)=>{"use strict";var hy=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(e={}){function n(){return Ht.buffer!=Vt.buffer&&zt(),Vt}function t(){return Ht.buffer!=Vt.buffer&&zt(),ye}function r(){return Ht.buffer!=Vt.buffer&&zt(),Er}function o(){return Ht.buffer!=Vt.buffer&&zt(),fr}function s(){return Ht.buffer!=Vt.buffer&&zt(),Je}function a(){return Ht.buffer!=Vt.buffer&&zt(),Dr}function u(){return Ht.buffer!=Vt.buffer&&zt(),jr}var c=e,v,S;c.ready=new Promise((f,d)=>{v=f,S=d});var E=Object.assign({},c),N="./this.program",Z=(f,d)=>{throw d},H=typeof window=="object",rt=typeof importScripts=="function",at=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ot=c.ENVIRONMENT_IS_PTHREAD||!1,ut="";function xt(f){return c.locateFile?c.locateFile(f,ut):ut+f}var yt,Wt,Zt;if(at){var pt=(rc(),Br(ec)),It=(oc(),Br(nc));ut=rt?It.dirname(ut)+"/":__dirname+"/",yt=(d,h)=>(d=d.startsWith("file://")?new URL(d):It.normalize(d),pt.readFileSync(d,h?void 0:"utf8")),Zt=d=>(d=yt(d,!0),d.buffer||(d=new Uint8Array(d)),d),Wt=(d,h,y,g=!0)=>{d=d.startsWith("file://")?new URL(d):It.normalize(d),pt.readFile(d,g?void 0:"utf8",(T,_)=>{T?y(T):h(g?_.buffer:_)})},!c.thisProgram&&1<process.argv.length&&(N=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Z=(d,h)=>{throw process.exitCode=d,h},c.inspect=()=>"[Emscripten Module object]";let f;try{f=cy()}catch(d){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),d}global.Worker=f.Worker}else(H||rt)&&(rt?ut=self.location.href:typeof document<"u"&&document.currentScript&&(ut=document.currentScript.src),typeof i<"u"&&i&&(ut=i),ut.indexOf("blob:")!==0?ut=ut.substr(0,ut.replace(/[?#].*/,"").lastIndexOf("/")+1):ut="",at||(yt=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.send(null),d.responseText},rt&&(Zt=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),Wt=(f,d,h)=>{var y=new XMLHttpRequest;y.open("GET",f,!0),y.responseType="arraybuffer",y.onload=()=>{y.status==200||y.status==0&&y.response?d(y.response):h()},y.onerror=h,y.send(null)}));at&&typeof performance>"u"&&(global.performance=ly().performance);var We=console.log.bind(console),_t=console.error.bind(console);at&&(We=(...f)=>pt.writeSync(1,f.join(" ")+`
`),_t=(...f)=>pt.writeSync(2,f.join(" ")+`
`));var Hr=We,de=_t;Object.assign(c,E),E=null;var Bt=!0;typeof WebAssembly!="object"&&dr("no native wasm support detected");var Ht,vr,Ie=!1,ve,Vt,ye,Er,fr,Je,Dr,Vr,Ae,Ze,jr;function zt(){var f=Ht.buffer;c.HEAP8=Vt=new Int8Array(f),c.HEAP16=Er=new Int16Array(f),c.HEAPU8=ye=new Uint8Array(f),c.HEAPU16=fr=new Uint16Array(f),c.HEAP32=Je=new Int32Array(f),c.HEAPU32=Dr=new Uint32Array(f),c.HEAPF32=Vr=new Float32Array(f),c.HEAPF64=jr=new Float64Array(f),c.HEAP64=Ae=new BigInt64Array(f),c.HEAPU64=Ze=new BigUint64Array(f)}var Qt=16777216;if(5242880<=Qt||dr("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Qt+"! (STACK_SIZE=5242880)"),ot)Ht=c.wasmMemory;else if(Ht=new WebAssembly.Memory({initial:Qt/65536,maximum:65536,shared:!0}),!(Ht.buffer instanceof SharedArrayBuffer))throw de("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),at&&de("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");zt(),Qt=Ht.buffer.byteLength;var _e=[],cr=[],kr=[],Vn=0;function qr(){return Bt||0<Vn}var Qe=0,Lr=null,lr=null;function jn(){if(Qe--,Qe==0&&(Lr!==null&&(clearInterval(Lr),Lr=null),lr)){var f=lr;lr=null,f()}}function dr(f){throw f="Aborted("+f+")",de(f),Ie=!0,ve=1,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),S(f),f}function Le(f){return f.startsWith("data:application/octet-stream;base64,")}var wr;wr="ort-wasm-threaded.wasm",Le(wr)||(wr=xt(wr));function pn(f){if(Zt)return Zt(f);throw"both async and sync fetching of the wasm failed"}function Da(f){if(H||rt){if(typeof fetch=="function"&&!f.startsWith("file://"))return fetch(f,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+f+"'";return d.arrayBuffer()}).catch(()=>pn(f));if(Wt)return new Promise((d,h)=>{Wt(f,y=>d(new Uint8Array(y)),h)})}return Promise.resolve().then(()=>pn(f))}function tr(f,d,h){return Da(f).then(y=>WebAssembly.instantiate(y,d)).then(y=>y).then(h,y=>{de(`failed to asynchronously prepare wasm: ${y}`),dr(y)})}function ka(f,d){var h=wr;return typeof WebAssembly.instantiateStreaming!="function"||Le(h)||h.startsWith("file://")||at||typeof fetch!="function"?tr(h,f,d):fetch(h,{credentials:"same-origin"}).then(y=>WebAssembly.instantiateStreaming(y,f).then(d,function(g){return de(`wasm streaming compile failed: ${g}`),de("falling back to ArrayBuffer instantiation"),tr(h,f,d)}))}function Ce(f){this.name="ExitStatus",this.message=`Program terminated with exit(${f})`,this.status=f}var hn=f=>{f.terminate(),f.onmessage=()=>{}},qn=f=>{if(At.Oe.length==0){var d=xt("ort-wasm-threaded.worker.js");d=new Worker(d),At.Oe.push(d),At.qf(At.Oe[0])}if(d=At.Oe.pop(),!d)return 6;At.Le.push(d),At.He[f.Ke]=d,d.Ke=f.Ke;var h={cmd:"run",start_routine:f.sf,arg:f.kf,pthread_ptr:f.Ke};return at&&d.unref(),d.postMessage(h,f.yf),0},Se=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mn=(f,d,h)=>{d>>>=0;var y=d+h;for(h=d;f[h]&&!(h>=y);)++h;if(16<h-d&&f.buffer&&Se)return Se.decode(f.buffer instanceof SharedArrayBuffer?f.slice(d,h):f.subarray(d,h));for(y="";d<h;){var g=f[d++];if(g&128){var T=f[d++]&63;if((g&224)==192)y+=String.fromCharCode((g&31)<<6|T);else{var _=f[d++]&63;g=(g&240)==224?(g&15)<<12|T<<6|_:(g&7)<<18|T<<12|_<<6|f[d++]&63,65536>g?y+=String.fromCharCode(g):(g-=65536,y+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else y+=String.fromCharCode(g)}return y},he=(f,d)=>(f>>>=0)?mn(t(),f,d):"";function Pe(f){if(ot)return jt(0,1,f);ve=f,qr()||(At.tf(),Ie=!0),Z(f,new Ce(f))}var yn=f=>{if(ve=f,ot)throw Co(f),"unwind";Pe(f)};function La(){_e.unshift(()=>{Qe++,jn()})}var At={Oe:[],Le:[],df:[],He:{},Ve(){ot?(At.receiveObjectTransfer=At.rf,At.threadInitTLS=At.cf,At.setExitStatus=At.$e,Bt=!1):La()},$e:f=>{ve=f},Bf:["$terminateWorker"],tf:()=>{for(var f of At.Le)hn(f);for(f of At.Oe)hn(f);At.Oe=[],At.Le=[],At.He=[]},Ze:f=>{var d=f.Ke;delete At.He[d],At.Oe.push(f),At.Le.splice(At.Le.indexOf(f),1),f.Ke=0,co(d)},rf(){},cf(){At.df.forEach(f=>f())},qf:f=>new Promise(d=>{f.onmessage=T=>{T=T.data;var _=T.cmd;if(T.targetThread&&T.targetThread!=Pn()){var I=At.He[T.targetThread];I?I.postMessage(T,T.transferList):de(`Internal error! Worker sent a message "${_}" to target pthread ${T.targetThread}, but that thread no longer exists!`)}else _==="checkMailbox"?_n():_==="spawnThread"?qn(T):_==="cleanupThread"?((T=At.He[T.thread])||dr(),At.Ze(T)):_==="killThread"?(T=T.thread,_=At.He[T],delete At.He[T],hn(_),co(T),At.Le.splice(At.Le.indexOf(_),1),_.Ke=0):_==="cancelThread"?At.He[T.thread].postMessage({cmd:"cancel"}):_==="loaded"?(f.loaded=!0,d(f)):_==="alert"?alert(`Thread ${T.threadId}: ${T.text}`):T.target==="setimmediate"?f.postMessage(T):_==="callHandler"?c[T.handler](...T.args):_&&de(`worker sent an unknown command ${_}`)},f.onerror=T=>{throw de(`worker sent an error! ${T.filename}:${T.lineno}: ${T.message}`),T},at&&(f.on("message",T=>f.onmessage({data:T})),f.on("error",T=>f.onerror(T)));var h=[],y=[],g;for(g of y)c.hasOwnProperty(g)&&h.push(g);f.postMessage({cmd:"load",handlers:h,urlOrBlob:c.mainScriptUrlOrBlob||i,wasmMemory:Ht,wasmModule:vr})})};c.PThread=At;var Yr=f=>{for(;0<f.length;)f.shift()(c)};c.establishStackSpace=()=>{var f=Pn(),d=a()[f+52>>>2>>>0];f=a()[f+56>>>2>>>0],bi(d,d-f),W(d)};function Co(f){if(ot)return jt(1,0,f);yn(f)}var bn=[],Fo,j=f=>{var d=bn[f];return d||(f>=bn.length&&(bn.length=f+1),bn[f]=d=Fo.get(f)),d};c.invokeEntryPoint=(f,d)=>{f=j(f)(d),qr()?At.$e(f):lo(f)};var gn=[],vn=0,Fe=0;function Yn(f){this.Qe=f,this.Ge=f-24,this.jf=function(d){a()[this.Ge+4>>>2>>>0]=d},this.Re=function(){return a()[this.Ge+4>>>2>>>0]},this.hf=function(d){a()[this.Ge+8>>>2>>>0]=d},this.af=function(d){d=d?1:0,n()[this.Ge+12>>>0>>>0]=d},this.ff=function(){return n()[this.Ge+12>>>0>>>0]!=0},this.bf=function(d){d=d?1:0,n()[this.Ge+13>>>0>>>0]=d},this.mf=function(){return n()[this.Ge+13>>>0>>>0]!=0},this.Ve=function(d,h){this.Se(0),this.jf(d),this.hf(h)},this.Se=function(d){a()[this.Ge+16>>>2>>>0]=d},this.ef=function(){return a()[this.Ge+16>>>2>>>0]},this.gf=function(){if(Ti(this.Re()))return a()[this.Qe>>>2>>>0];var d=this.ef();return d!==0?d:this.Qe}}var Tr=f=>{var d=Fe;if(!d)return Jr(0),0;var h=new Yn(d);h.Se(d);var y=h.Re();if(!y)return Jr(0),d;for(var g in f){var T=f[g];if(T===0||T===y)break;if(wi(T,y,h.Ge+16))return Jr(T),d}return Jr(y),d};function Kr(f,d,h,y){return ot?jt(2,1,f,d,h,y):Kn(f,d,h,y)}function Kn(f,d,h,y){if(f>>>=0,d>>>=0,h>>>=0,y>>>=0,typeof SharedArrayBuffer>"u")return de("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var g=[];return ot&&g.length===0?Kr(f,d,h,y):(f={sf:h,Ke:f,kf:y,yf:g},ot?(f.Af="spawnThread",postMessage(f,g),0):qn(f))}function $o(f,d,h){return ot?jt(3,1,f,d,h):0}function Bo(f,d){if(ot)return jt(4,1,f,d)}var Xr=f=>{for(var d=0,h=0;h<f.length;++h){var y=f.charCodeAt(h);127>=y?d++:2047>=y?d+=2:55296<=y&&57343>=y?(d+=4,++h):d+=3}return d},Xn=(f,d,h,y)=>{if(h>>>=0,!(0<y))return 0;var g=h;y=h+y-1;for(var T=0;T<f.length;++T){var _=f.charCodeAt(T);if(55296<=_&&57343>=_){var I=f.charCodeAt(++T);_=65536+((_&1023)<<10)|I&1023}if(127>=_){if(h>=y)break;d[h++>>>0]=_}else{if(2047>=_){if(h+1>=y)break;d[h++>>>0]=192|_>>6}else{if(65535>=_){if(h+2>=y)break;d[h++>>>0]=224|_>>12}else{if(h+3>=y)break;d[h++>>>0]=240|_>>18,d[h++>>>0]=128|_>>12&63}d[h++>>>0]=128|_>>6&63}d[h++>>>0]=128|_&63}}return d[h>>>0]=0,h-g},Jn=(f,d,h)=>Xn(f,t(),d,h);function No(f,d){if(ot)return jt(5,1,f,d)}function Mo(f,d,h){if(ot)return jt(6,1,f,d,h)}function Zn(f,d,h){return ot?jt(7,1,f,d,h):0}function xr(f,d){if(ot)return jt(8,1,f,d)}function Qn(f,d,h){if(ot)return jt(9,1,f,d,h)}function to(f,d,h,y){if(ot)return jt(10,1,f,d,h,y)}function eo(f,d,h,y){if(ot)return jt(11,1,f,d,h,y)}function wn(f,d,h,y){if(ot)return jt(12,1,f,d,h,y)}function ro(f){if(ot)return jt(13,1,f)}function Tn(f,d){if(ot)return jt(14,1,f,d)}function Ro(f,d,h){if(ot)return jt(15,1,f,d,h)}var no=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},oo,Ge=f=>{for(var d="";t()[f>>>0];)d+=oo[t()[f++>>>0]];return d},xn={},Cr={},Go={},U;function Uo(f,d,h={}){var y=d.name;if(!f)throw new U(`type "${y}" must have a positive integer typeid pointer`);if(Cr.hasOwnProperty(f)){if(h.nf)return;throw new U(`Cannot register type '${y}' twice`)}Cr[f]=d,delete Go[f],xn.hasOwnProperty(f)&&(d=xn[f],delete xn[f],d.forEach(g=>g()))}function $e(f,d,h={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");Uo(f,d,h)}var Wo=(f,d,h)=>{switch(d){case 1:return h?y=>n()[y>>>0>>>0]:y=>t()[y>>>0>>>0];case 2:return h?y=>r()[y>>>1>>>0]:y=>o()[y>>>1>>>0];case 4:return h?y=>s()[y>>>2>>>0]:y=>a()[y>>>2>>>0];case 8:return h?y=>Ae[y>>>3]:y=>Ze[y>>>3];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}};function Ot(){this.Je=[void 0],this.Xe=[]}var we=new Ot;function Ue(f){f>>>=0,f>=we.Ge&&--we.get(f).Ye===0&&we.Se(f)}var Te=f=>{if(!f)throw new U("Cannot use deleted val. handle = "+f);return we.get(f).value},G=f=>{switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return we.Re({Ye:1,value:f})}};function Fr(f){return this.fromWireType(s()[f>>>2>>>0])}var Y=(f,d)=>{switch(d){case 4:return function(h){var y=this.fromWireType;return Ht.buffer!=Vt.buffer&&zt(),y.call(this,Vr[h>>>2>>>0])};case 8:return function(h){return this.fromWireType(u()[h>>>3>>>0])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}};function K(f){return this.fromWireType(a()[f>>>2>>>0])}var io=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,zo=(f,d)=>{for(var h=f>>1,y=h+d/2;!(h>=y)&&o()[h>>>0];)++h;if(h<<=1,32<h-f&&io)return io.decode(t().slice(f,h));for(h="",y=0;!(y>=d/2);++y){var g=r()[f+2*y>>>1>>>0];if(g==0)break;h+=String.fromCharCode(g)}return h},Ho=(f,d,h)=>{if(h===void 0&&(h=2147483647),2>h)return 0;h-=2;var y=d;h=h<2*f.length?h/2:f.length;for(var g=0;g<h;++g){var T=f.charCodeAt(g);r()[d>>>1>>>0]=T,d+=2}return r()[d>>>1>>>0]=0,d-y},Vo=f=>2*f.length,jo=(f,d)=>{for(var h=0,y="";!(h>=d/4);){var g=s()[f+4*h>>>2>>>0];if(g==0)break;++h,65536<=g?(g-=65536,y+=String.fromCharCode(55296|g>>10,56320|g&1023)):y+=String.fromCharCode(g)}return y},Ca=(f,d,h)=>{if(d>>>=0,h===void 0&&(h=2147483647),4>h)return 0;var y=d;h=y+h-4;for(var g=0;g<f.length;++g){var T=f.charCodeAt(g);if(55296<=T&&57343>=T){var _=f.charCodeAt(++g);T=65536+((T&1023)<<10)|_&1023}if(s()[d>>>2>>>0]=T,d+=4,d+4>h)break}return s()[d>>>2>>>0]=0,d-y},Fa=f=>{for(var d=0,h=0;h<f.length;++h){var y=f.charCodeAt(h);55296<=y&&57343>=y&&++h,d+=4}return d},$a=f=>{if(!Ie)try{if(f(),!qr())try{ot?lo(ve):yn(ve)}catch(d){d instanceof Ce||d=="unwind"||Z(1,d)}}catch(d){d instanceof Ce||d=="unwind"||Z(1,d)}};function ao(f){f>>>=0,typeof Atomics.zf=="function"&&(Atomics.zf(s(),f>>>2,f).value.then(_n),f+=128,Atomics.store(s(),f>>>2,1))}c.__emscripten_thread_mailbox_await=ao;var _n=()=>{var f=Pn();f&&(ao(f),$a(()=>yi()))};c.checkMailbox=_n;var Ba=f=>{var d=z();return f=f(),W(d),f};function jt(f,d){var h=arguments.length-2,y=arguments;return Ba(()=>{for(var g=2*h,T=po(8*g),_=T>>>3,I=0;I<h;I++){var D=y[2+I];typeof D=="bigint"?(Ae[_+2*I]=1n,Ae[_+2*I+1]=D):(Ae[_+2*I]=0n,u()[_+2*I+1>>>0]=D)}return mi(f,g,T,d)})}var so=[],On=(f,d)=>{var h=Cr[f];if(h===void 0)throw f=pi(f),h=Ge(f),er(f),new U(d+" has unknown type "+h);return h},Na={},In=f=>{var d=Na[f];return d===void 0?Ge(f):d},An=[],qo=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Ma=f=>{var d=An.length;return An.push(f),d},Ra=(f,d)=>{for(var h=Array(f),y=0;y<f;++y)h[y]=On(a()[d+4*y>>>2>>>0],"parameter "+y);return h},Yo=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f},Ko={};function Ga(f,d){return f=Yo(f),{[f]:function(){return d.apply(this,arguments)}}[f]}function Ua(f){var d=Function;if(!(d instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof d} which is not a function`);var h=Ga(d.name||"unknownFunctionName",function(){});return h.prototype=d.prototype,h=new h,f=d.apply(h,f),f instanceof Object?f:h}var Wa=f=>{for(var d="",h=0;h<f;++h)d+=(h!==0?", ":"")+"arg"+h;var y="return function emval_allocator_"+f+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(h=0;h<f;++h)y+="var argType"+h+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+h+`');
var arg`+h+" = argType"+h+`.readValueFromPointer(args);
args += argType`+h+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",y+("var obj = new constructor("+d+`);
return valueToHandle(obj);
}
`))(On,c,G,()=>a())},Xo={},$r=f=>f%4===0&&(f%100!==0||f%400===0),Jo=[0,31,60,91,121,152,182,213,244,274,305,335],Zo=[0,31,59,90,120,151,181,212,243,273,304,334];function Qo(f,d,h,y,g,T,_){return ot?jt(16,1,f,d,h,y,g,T,_):-52}function ti(f,d,h,y,g,T){if(ot)return jt(17,1,f,d,h,y,g,T)}var ei=f=>{var d=Xr(f)+1,h=En(d);return h&&Jn(f,h,d),h},uo={},ri=()=>{if(!fo){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"},d;for(d in uo)uo[d]===void 0?delete f[d]:f[d]=uo[d];var h=[];for(d in f)h.push(`${d}=${f[d]}`);fo=h}return fo},fo;function ni(f,d){if(ot)return jt(18,1,f,d);f>>>=0,d>>>=0;var h=0;return ri().forEach((y,g)=>{var T=d+h;for(g=a()[f+4*g>>>2>>>0]=T,T=0;T<y.length;++T)n()[g++>>>0>>>0]=y.charCodeAt(T);n()[g>>>0>>>0]=0,h+=y.length+1}),0}function oi(f,d){if(ot)return jt(19,1,f,d);f>>>=0,d>>>=0;var h=ri();a()[f>>>2>>>0]=h.length;var y=0;return h.forEach(g=>y+=g.length+1),a()[d>>>2>>>0]=y,0}function ii(f){return ot?jt(20,1,f):52}function ai(f,d,h,y){return ot?jt(21,1,f,d,h,y):52}function si(f,d,h,y){return ot?jt(22,1,f,d,h,y):70}var za=[null,[],[]];function ui(f,d,h,y){if(ot)return jt(23,1,f,d,h,y);d>>>=0,h>>>=0,y>>>=0;for(var g=0,T=0;T<h;T++){var _=a()[d>>>2>>>0],I=a()[d+4>>>2>>>0];d+=8;for(var D=0;D<I;D++){var L=t()[_+D>>>0],M=za[f];L===0||L===10?((f===1?Hr:de)(mn(M,0)),M.length=0):M.push(L)}g+=I}return a()[y>>>2>>>0]=g,0}var fi=[31,29,31,30,31,30,31,31,30,31,30,31],ci=[31,28,31,30,31,30,31,31,30,31,30,31];function Ha(f){var d=Array(Xr(f)+1);return Xn(f,d,0,d.length),d}var Va=(f,d)=>{n().set(f,d>>>0)};function li(f,d,h,y){function g(C,et,ft){for(C=typeof C=="number"?C.toString():C||"";C.length<et;)C=ft[0]+C;return C}function T(C,et){return g(C,et,"0")}function _(C,et){function ft(Pt){return 0>Pt?-1:0<Pt?1:0}var mt;return(mt=ft(C.getFullYear()-et.getFullYear()))===0&&(mt=ft(C.getMonth()-et.getMonth()))===0&&(mt=ft(C.getDate()-et.getDate())),mt}function I(C){switch(C.getDay()){case 0:return new Date(C.getFullYear()-1,11,29);case 1:return C;case 2:return new Date(C.getFullYear(),0,3);case 3:return new Date(C.getFullYear(),0,2);case 4:return new Date(C.getFullYear(),0,1);case 5:return new Date(C.getFullYear()-1,11,31);case 6:return new Date(C.getFullYear()-1,11,30)}}function D(C){var et=C.Me;for(C=new Date(new Date(C.Ne+1900,0,1).getTime());0<et;){var ft=C.getMonth(),mt=($r(C.getFullYear())?fi:ci)[ft];if(et>mt-C.getDate())et-=mt-C.getDate()+1,C.setDate(1),11>ft?C.setMonth(ft+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1));else{C.setDate(C.getDate()+et);break}}return ft=new Date(C.getFullYear()+1,0,4),et=I(new Date(C.getFullYear(),0,4)),ft=I(ft),0>=_(et,C)?0>=_(ft,C)?C.getFullYear()+1:C.getFullYear():C.getFullYear()-1}f>>>=0,d>>>=0,h>>>=0,y>>>=0;var L=a()[y+40>>>2>>>0];y={wf:s()[y>>>2>>>0],vf:s()[y+4>>>2>>>0],Te:s()[y+8>>>2>>>0],We:s()[y+12>>>2>>>0],Ue:s()[y+16>>>2>>>0],Ne:s()[y+20>>>2>>>0],Ie:s()[y+24>>>2>>>0],Me:s()[y+28>>>2>>>0],Cf:s()[y+32>>>2>>>0],uf:s()[y+36>>>2>>>0],xf:L?he(L):""},h=he(h),L={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in L)h=h.replace(new RegExp(M,"g"),L[M]);var X="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Q="January February March April May June July August September October November December".split(" ");L={"%a":C=>X[C.Ie].substring(0,3),"%A":C=>X[C.Ie],"%b":C=>Q[C.Ue].substring(0,3),"%B":C=>Q[C.Ue],"%C":C=>T((C.Ne+1900)/100|0,2),"%d":C=>T(C.We,2),"%e":C=>g(C.We,2," "),"%g":C=>D(C).toString().substring(2),"%G":C=>D(C),"%H":C=>T(C.Te,2),"%I":C=>(C=C.Te,C==0?C=12:12<C&&(C-=12),T(C,2)),"%j":C=>{for(var et=0,ft=0;ft<=C.Ue-1;et+=($r(C.Ne+1900)?fi:ci)[ft++]);return T(C.We+et,3)},"%m":C=>T(C.Ue+1,2),"%M":C=>T(C.vf,2),"%n":()=>`
`,"%p":C=>0<=C.Te&&12>C.Te?"AM":"PM","%S":C=>T(C.wf,2),"%t":()=>"	","%u":C=>C.Ie||7,"%U":C=>T(Math.floor((C.Me+7-C.Ie)/7),2),"%V":C=>{var et=Math.floor((C.Me+7-(C.Ie+6)%7)/7);if(2>=(C.Ie+371-C.Me-2)%7&&et++,et)et==53&&(ft=(C.Ie+371-C.Me)%7,ft==4||ft==3&&$r(C.Ne)||(et=1));else{et=52;var ft=(C.Ie+7-C.Me-1)%7;(ft==4||ft==5&&$r(C.Ne%400-1))&&et++}return T(et,2)},"%w":C=>C.Ie,"%W":C=>T(Math.floor((C.Me+7-(C.Ie+6)%7)/7),2),"%y":C=>(C.Ne+1900).toString().substring(2),"%Y":C=>C.Ne+1900,"%z":C=>{C=C.uf;var et=0<=C;return C=Math.abs(C)/60,(et?"+":"-")+("0000"+(C/60*100+C%60)).slice(-4)},"%Z":C=>C.xf,"%%":()=>"%"},h=h.replace(/%%/g,"\0\0");for(M in L)h.includes(M)&&(h=h.replace(new RegExp(M,"g"),L[M](y)));return h=h.replace(/\0\0/g,"%"),M=Ha(h),M.length>d?0:(Va(M,f),M.length-1)}At.Ve();for(var di=Array(256),Sn=0;256>Sn;++Sn)di[Sn]=String.fromCharCode(Sn);oo=di,U=c.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},c.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ot.prototype,{get(f){return this.Je[f]},has(f){return this.Je[f]!==void 0},Re(f){var d=this.Xe.pop()||this.Je.length;return this.Je[d]=f,d},Se(f){this.Je[f]=void 0,this.Xe.push(f)}}),we.Je.push({value:void 0},{value:null},{value:!0},{value:!1}),we.Ge=we.Je.length,c.count_emval_handles=()=>{for(var f=0,d=we.Ge;d<we.Je.length;++d)we.Je[d]!==void 0&&++f;return f};var ja=[Pe,Co,Kr,$o,Bo,No,Mo,Zn,xr,Qn,to,eo,wn,ro,Tn,Ro,Qo,ti,ni,oi,ii,ai,si,ui],qa={u:function(f){return f=new Yn(f>>>0),f.ff()||(f.af(!0),vn--),f.bf(!1),gn.push(f),vi(f.Qe),f.gf()},N:()=>{V(0,0);var f=gn.pop();gi(f.Qe),Fe=0},b:function(){return Tr([])},n:function(f){return Tr([f>>>0])},y:function(f,d){return Tr([f>>>0,d>>>0])},q:function(f,d,h){return Tr([f>>>0,d>>>0,h>>>0])},yb:()=>{var f=gn.pop();f||dr("no exception to throw");var d=f.Qe;throw f.mf()||(gn.push(f),f.bf(!0),f.af(!1),vn++),Fe=d,Fe},t:function(f,d,h){throw f>>>=0,new Yn(f).Ve(d>>>0,h>>>0),Fe=f,vn++,Fe},Ta:()=>vn,Vc:function(f){hi(f>>>0,!rt,1,!H,131072,!1),At.cf()},Tb:function(f){f>>>=0,ot?postMessage({cmd:"cleanupThread",thread:f}):((f=At.He[f])||dr(),At.Ze(f))},Lc:Kn,h:function(f){throw Fe||(Fe=f>>>0),Fe},zb:$o,$c:Bo,Gc:No,Ic:Mo,zc:Zn,Zc:xr,Sc:Qn,Yc:to,Vb:eo,Hc:wn,Ec:ro,_c:Tn,Fc:Ro,Yb:function(f,d,h,y,g){f>>>=0,d>>>=0,h>>>=0,d=Ge(d);var T=d.indexOf("u")!=-1;T&&(g=(1n<<64n)-1n),$e(f,{name:d,fromWireType:_=>_,toWireType:function(_,I){if(typeof I!="bigint"&&typeof I!="number")throw new TypeError(`Cannot convert "${no(I)}" to ${this.name}`);if(I<y||I>g)throw new TypeError(`Passing a number "${no(I)}" from JS side to C/C++ side to an argument of type "${d}", which is outside the valid range [${y}, ${g}]!`);return I},argPackAdvance:8,readValueFromPointer:Wo(d,h,!T),Pe:null})},ed:function(f,d,h,y){f>>>=0,d=Ge(d>>>0),$e(f,{name:d,fromWireType:function(g){return!!g},toWireType:function(g,T){return T?h:y},argPackAdvance:8,readValueFromPointer:function(g){return this.fromWireType(t()[g>>>0])},Pe:null})},dd:function(f,d){f>>>=0,d=Ge(d>>>0),$e(f,{name:d,fromWireType:h=>{var y=Te(h);return Ue(h),y},toWireType:(h,y)=>G(y),argPackAdvance:8,readValueFromPointer:Fr,Pe:null})},Xb:function(f,d,h){f>>>=0,h>>>=0,d=Ge(d>>>0),$e(f,{name:d,fromWireType:y=>y,toWireType:(y,g)=>g,argPackAdvance:8,readValueFromPointer:Y(d,h),Pe:null})},wa:function(f,d,h,y,g){if(f>>>=0,h>>>=0,d=Ge(d>>>0),g===-1&&(g=4294967295),g=I=>I,y===0){var T=32-8*h;g=I=>I<<T>>>T}var _=d.includes("unsigned")?function(I,D){return D>>>0}:function(I,D){return D};$e(f,{name:d,fromWireType:g,toWireType:_,argPackAdvance:8,readValueFromPointer:Wo(d,h,y!==0),Pe:null})},_:function(f,d,h){function y(T){var _=a()[T>>>2>>>0];return T=a()[T+4>>>2>>>0],new g(n().buffer,T,_)}f>>>=0;var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][d];h=Ge(h>>>0),$e(f,{name:h,fromWireType:y,argPackAdvance:8,readValueFromPointer:y},{nf:!0})},Zb:function(f,d){f>>>=0,d=Ge(d>>>0);var h=d==="std::string";$e(f,{name:d,fromWireType:function(y){var g=a()[y>>>2>>>0],T=y+4;if(h)for(var _=T,I=0;I<=g;++I){var D=T+I;if(I==g||t()[D>>>0]==0){if(_=he(_,D-_),L===void 0)var L=_;else L+=String.fromCharCode(0),L+=_;_=D+1}}else{for(L=Array(g),I=0;I<g;++I)L[I]=String.fromCharCode(t()[T+I>>>0]);L=L.join("")}return er(y),L},toWireType:function(y,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var T=typeof g=="string";if(!(T||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array))throw new U("Cannot pass non-string to std::string");var _=h&&T?Xr(g):g.length,I=En(4+_+1),D=I+4;if(a()[I>>>2>>>0]=_,h&&T)Jn(g,D,_+1);else if(T)for(T=0;T<_;++T){var L=g.charCodeAt(T);if(255<L)throw er(D),new U("String has UTF-16 code units that do not fit in 8 bits");t()[D+T>>>0]=L}else for(T=0;T<_;++T)t()[D+T>>>0]=g[T];return y!==null&&y.push(er,I),I},argPackAdvance:8,readValueFromPointer:K,Pe(y){er(y)}})},Bb:function(f,d,h){if(f>>>=0,d>>>=0,h>>>=0,h=Ge(h),d===2)var y=zo,g=Ho,T=Vo,_=()=>o(),I=1;else d===4&&(y=jo,g=Ca,T=Fa,_=()=>a(),I=2);$e(f,{name:h,fromWireType:D=>{for(var L=a()[D>>>2>>>0],M=_(),X,Q=D+4,C=0;C<=L;++C){var et=D+4+C*d;(C==L||M[et>>>I]==0)&&(Q=y(Q,et-Q),X===void 0?X=Q:(X+=String.fromCharCode(0),X+=Q),Q=et+d)}return er(D),X},toWireType:(D,L)=>{if(typeof L!="string")throw new U(`Cannot pass non-string to C++ string type ${h}`);var M=T(L),X=En(4+M+d);return a()[X>>>2]=M>>I,g(L,X+4,M+d),D!==null&&D.push(er,X),X},argPackAdvance:8,readValueFromPointer:Fr,Pe(D){er(D)}})},jd:function(f,d){f>>>=0,d=Ge(d>>>0),$e(f,{pf:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},cd:()=>!0,Cc:function(f,d){f>>>=0,f==d>>>0?setTimeout(()=>_n()):ot?postMessage({targetThread:f,cmd:"checkMailbox"}):(f=At.He[f])&&f.postMessage({cmd:"checkMailbox"})},Mc:function(f,d,h,y){d>>>=0,h/=2,so.length=h,y=y>>>0>>>3;for(var g=0;g<h;g++)so[g]=Ae[y+2*g]?Ae[y+2*g+1]:u()[y+2*g+1>>>0];return f=ja[f],At.lf=d,d=f.apply(null,so),At.lf=0,d},Uc:ao,bd:function(f){at&&At.He[f>>>0].ref()},ud:function(f,d,h){d>>>=0,h>>>=0,f=Te(f>>>0),d=On(d,"emval::as");var y=[],g=G(y);return a()[h>>>2>>>0]=g,d.toWireType(y,f)},ka:function(f,d,h,y,g){h>>>=0,y>>>=0,g>>>=0,f=An[f>>>0],d=Te(d>>>0),h=In(h);var T=[];return a()[y>>>2>>>0]=G(T),f(d,h,T,g)},Dd:function(f,d,h,y){h>>>=0,y>>>=0,f=An[f>>>0],d=Te(d>>>0),h=In(h),f(d,h,null,y)},yc:Ue,wd:function(f,d){return d>>>=0,f=Te(f>>>0),d=Te(d),f==d},Hd:function(f){return f>>>=0,f===0?G(qo()):(f=In(f),G(qo()[f]))},la:function(f,d){var h=Ra(f,d>>>0),y=h[0];d=y.name+"_$"+h.slice(1).map(function(M){return M.name}).join("_")+"$";var g=Ko[d];if(g!==void 0)return g;g=["retType"];for(var T=[y],_="",I=0;I<f-1;++I)_+=(I!==0?", ":"")+"arg"+I,g.push("argType"+I),T.push(h[1+I]);var D="return function "+Yo("methodCaller_"+d)+`(handle, name, destructors, args) {
`,L=0;for(I=0;I<f-1;++I)D+="    var arg"+I+" = argType"+I+".readValueFromPointer(args"+(L?"+"+L:"")+`);
`,L+=h[I+1].argPackAdvance;for(D+="    var rv = handle[name]("+_+`);
`,I=0;I<f-1;++I)h[I+1].deleteObject&&(D+="    argType"+I+".deleteObject(arg"+I+`);
`);return y.pf||(D+=`    return retType.toWireType(destructors, rv);
`),g.push(D+`};
`),f=Ua(g).apply(null,T),g=Ma(f),Ko[d]=g},Fd:function(f,d){return d>>>=0,f=Te(f>>>0),d=Te(d),G(f[d])},P:function(f){f>>>=0,4<f&&(we.get(f).Ye+=1)},zd:function(f,d,h,y){h>>>=0,y>>>=0,f=Te(f>>>0);var g=Xo[d];return g||(g=Wa(d),Xo[d]=g),g(f,h,y)},od:function(){return G([])},rd:function(f){f=Te(f>>>0);for(var d=Array(f.length),h=0;h<f.length;h++)d[h]=f[h];return G(d)},Y:function(f){return G(In(f>>>0))},Sa:function(){return G({})},Ad:function(f){f>>>=0;for(var d=Te(f);d.length;){var h=d.pop();d.pop()(h)}Ue(f)},yd:function(f,d,h){d>>>=0,h>>>=0,f=Te(f>>>0),d=Te(d),h=Te(h),f[d]=h},gb:function(f,d){return d>>>=0,f=On(f>>>0,"_emval_take_value"),f=f.readValueFromPointer(d),G(f)},Pc:function(f,d){f=-9007199254740992>f||9007199254740992<f?NaN:Number(f),d>>>=0,f=new Date(1e3*f),s()[d>>>2>>>0]=f.getUTCSeconds(),s()[d+4>>>2>>>0]=f.getUTCMinutes(),s()[d+8>>>2>>>0]=f.getUTCHours(),s()[d+12>>>2>>>0]=f.getUTCDate(),s()[d+16>>>2>>>0]=f.getUTCMonth(),s()[d+20>>>2>>>0]=f.getUTCFullYear()-1900,s()[d+24>>>2>>>0]=f.getUTCDay(),f=(f.getTime()-Date.UTC(f.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[d+28>>>2>>>0]=f},Qc:function(f,d){f=-9007199254740992>f||9007199254740992<f?NaN:Number(f),d>>>=0,f=new Date(1e3*f),s()[d>>>2>>>0]=f.getSeconds(),s()[d+4>>>2>>>0]=f.getMinutes(),s()[d+8>>>2>>>0]=f.getHours(),s()[d+12>>>2>>>0]=f.getDate(),s()[d+16>>>2>>>0]=f.getMonth(),s()[d+20>>>2>>>0]=f.getFullYear()-1900,s()[d+24>>>2>>>0]=f.getDay();var h=($r(f.getFullYear())?Jo:Zo)[f.getMonth()]+f.getDate()-1|0;s()[d+28>>>2>>>0]=h,s()[d+36>>>2>>>0]=-(60*f.getTimezoneOffset()),h=new Date(f.getFullYear(),6,1).getTimezoneOffset();var y=new Date(f.getFullYear(),0,1).getTimezoneOffset();f=(h!=y&&f.getTimezoneOffset()==Math.min(y,h))|0,s()[d+32>>>2>>>0]=f},Rc:function(f){f>>>=0;var d=new Date(s()[f+20>>>2>>>0]+1900,s()[f+16>>>2>>>0],s()[f+12>>>2>>>0],s()[f+8>>>2>>>0],s()[f+4>>>2>>>0],s()[f>>>2>>>0],0),h=s()[f+32>>>2>>>0],y=d.getTimezoneOffset(),g=new Date(d.getFullYear(),6,1).getTimezoneOffset(),T=new Date(d.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(T,g);return 0>h?s()[f+32>>>2>>>0]=+(g!=T&&_==y):0<h!=(_==y)&&(g=Math.max(T,g),d.setTime(d.getTime()+6e4*((0<h?_:g)-y))),s()[f+24>>>2>>>0]=d.getDay(),h=($r(d.getFullYear())?Jo:Zo)[d.getMonth()]+d.getDate()-1|0,s()[f+28>>>2>>>0]=h,s()[f>>>2>>>0]=d.getSeconds(),s()[f+4>>>2>>>0]=d.getMinutes(),s()[f+8>>>2>>>0]=d.getHours(),s()[f+12>>>2>>>0]=d.getDate(),s()[f+16>>>2>>>0]=d.getMonth(),s()[f+20>>>2>>>0]=d.getYear(),BigInt(d.getTime()/1e3)},Nc:Qo,Oc:ti,Bc:function(f,d,h){function y(L){return(L=L.toTimeString().match(/\(([A-Za-z ]+)\)$/))?L[1]:"GMT"}f>>>=0,d>>>=0,h>>>=0;var g=new Date().getFullYear(),T=new Date(g,0,1),_=new Date(g,6,1);g=T.getTimezoneOffset();var I=_.getTimezoneOffset(),D=Math.max(g,I);a()[f>>>2>>>0]=60*D,s()[d>>>2>>>0]=+(g!=I),f=y(T),d=y(_),f=ei(f),d=ei(d),I<g?(a()[h>>>2>>>0]=f,a()[h+4>>>2>>>0]=d):(a()[h>>>2>>>0]=d,a()[h+4>>>2>>>0]=f)},ba:()=>{dr("")},Ub:()=>{},Wb:()=>Date.now(),ad:()=>{throw Vn+=1,"unwind"},Dc:function(){return 4294901760},va:()=>performance.timeOrigin+performance.now(),ib:()=>at?(py(),Br(dy)).cpus().length:navigator.hardwareConcurrency,Ac:function(f){f>>>=0;var d=t().length;if(f<=d||4294901760<f)return!1;for(var h=1;4>=h;h*=2){var y=d*(1+.2/h);y=Math.min(y,f+100663296);var g=Math;y=Math.max(f,y);t:{g=(g.min.call(g,4294901760,y+(65536-y%65536)%65536)-Ht.buffer.byteLength+65535)/65536;try{Ht.grow(g),zt();var T=1;break t}catch{}T=void 0}if(T)return!0}return!1},Wc:ni,Xc:oi,Kc:yn,Ab:ii,Sb:ai,Tc:si,Rb:ui,hb:ps,fd:Bb,sa:Pb,G:Ib,pa:Su,fa:ls,gd:$b,ld:_b,O:Js,A:as,c:Ja,cc:wb,ta:ct,f:Ka,Db:Tb,i:Ya,X:ub,j:ns,hd:Cb,k:rs,r:es,s:cs,p:hs,Ra:Ts,Wa:Uu,ha:Ds,Ob:ou,_a:su,Hb:Wu,lb:J,hc:cb,vc:Es,ec:hb,fc:db,_b:Lb,ja:Du,xb:_s,ya:ab,Cb:Db,da:Fu,gc:lb,Pa:fu,F:Qa,L:js,Fb:fb,qd:pb,oa:m,M:Xs,$:qs,U:lu,z:ss,Eb:bb,dc:mb,C:ho,Gb:eb,pd:yb,Qa:au,cb:Mu,ic:nb,$b:kb,Lb:Eu,W:ds,H:Ss,D:Gs,bb:Qy,Q:Ks,e:ts,Ya:Qs,l:Za,xa:xb,Xa:O,ub:$s,g:Xa,wc:Ps,ca:ib,db:eu,za:Pu,kb:F,eb:Ns,d:os,tc:Us,sd:zu,o:is,rc:tu,m:fs,uc:Ms,qc:ru,vd:bt,w:ys,Na:yu,rb:mu,Ma:bu,Jb:k,B:vs,E:xs,V:As,Va:Hu,nc:p,Bd:pu,sb:Zs,ua:cu,ia:tt,R:iu,$a:ks,Ha:b,Ed:Ws,jb:Fb,Da:te,kc:re,Ca:ee,Ea:nt,id:Eb,Cd:nu,na:x,td:rr,Ia:xi,Ga:w,pc:$u,Fa:B,Ja:Dn,nb:Cu,ga:Ru,Aa:du,jc:tb,oc:Bu,Ib:Ct,Ba:rb,ma:Hs,Qb:gs,nd:gb,S:Lu,vb:Cs,Ua:ob,fb:Bs,J:ms,T:Fs,wb:Is,md:vb,aa:ws,mb:R,ra:Nu,mc:A,ac:Sb,Gd:Ls,x:us,ab:sb,xd:l,Mb:_u,lc:St,Id:bs,Nb:xu,Kb:ku,Za:uu,xc:Os,Pb:Vs,Ka:Gu,bc:Ab,Z:Ou,sc:zs,K:Ys,kd:Ob,tb:Rs,qa:Au,I:Iu,pb:wu,La:vu,Oa:hu,ob:Tu,qb:gu,v:function(f){return f>>>0},a:Ht||c.wasmMemory,Jc:li,ea:function(f,d,h,y){return li(f>>>0,d>>>0,h>>>0,y>>>0)}},vt=function(){var f={a:qa};return Qe++,ka(f,function(d){var h=d.module;vt=d.instance.exports,vt=Nb(),At.df.push(vt.me),Fo=vt.pe,cr.unshift(vt.Jd),vr=h,jn()}).catch(S),{}}();c._OrtInit=(f,d)=>(c._OrtInit=vt.Kd)(f,d),c._OrtGetLastError=(f,d)=>(c._OrtGetLastError=vt.Ld)(f,d),c._OrtCreateSessionOptions=(f,d,h,y,g,T,_,I,D,L)=>(c._OrtCreateSessionOptions=vt.Md)(f,d,h,y,g,T,_,I,D,L),c._OrtAppendExecutionProvider=(f,d)=>(c._OrtAppendExecutionProvider=vt.Nd)(f,d),c._OrtAddFreeDimensionOverride=(f,d,h)=>(c._OrtAddFreeDimensionOverride=vt.Od)(f,d,h),c._OrtAddSessionConfigEntry=(f,d,h)=>(c._OrtAddSessionConfigEntry=vt.Pd)(f,d,h),c._OrtReleaseSessionOptions=f=>(c._OrtReleaseSessionOptions=vt.Qd)(f),c._OrtCreateSession=(f,d,h)=>(c._OrtCreateSession=vt.Rd)(f,d,h),c._OrtReleaseSession=f=>(c._OrtReleaseSession=vt.Sd)(f),c._OrtGetInputOutputCount=(f,d,h)=>(c._OrtGetInputOutputCount=vt.Td)(f,d,h),c._OrtGetInputName=(f,d)=>(c._OrtGetInputName=vt.Ud)(f,d),c._OrtGetOutputName=(f,d)=>(c._OrtGetOutputName=vt.Vd)(f,d),c._OrtFree=f=>(c._OrtFree=vt.Wd)(f),c._OrtCreateTensor=(f,d,h,y,g,T)=>(c._OrtCreateTensor=vt.Xd)(f,d,h,y,g,T),c._OrtGetTensorData=(f,d,h,y,g)=>(c._OrtGetTensorData=vt.Yd)(f,d,h,y,g),c._OrtReleaseTensor=f=>(c._OrtReleaseTensor=vt.Zd)(f),c._OrtCreateRunOptions=(f,d,h,y)=>(c._OrtCreateRunOptions=vt._d)(f,d,h,y),c._OrtAddRunConfigEntry=(f,d,h)=>(c._OrtAddRunConfigEntry=vt.$d)(f,d,h),c._OrtReleaseRunOptions=f=>(c._OrtReleaseRunOptions=vt.ae)(f),c._OrtCreateBinding=f=>(c._OrtCreateBinding=vt.be)(f),c._OrtBindInput=(f,d,h)=>(c._OrtBindInput=vt.ce)(f,d,h),c._OrtBindOutput=(f,d,h,y)=>(c._OrtBindOutput=vt.de)(f,d,h,y),c._OrtClearBoundOutputs=f=>(c._OrtClearBoundOutputs=vt.ee)(f),c._OrtReleaseBinding=f=>(c._OrtReleaseBinding=vt.fe)(f),c._OrtRunWithBinding=(f,d,h,y,g)=>(c._OrtRunWithBinding=vt.ge)(f,d,h,y,g),c._OrtRun=(f,d,h,y,g,T,_,I)=>(c._OrtRun=vt.he)(f,d,h,y,g,T,_,I),c._OrtEndProfiling=f=>(c._OrtEndProfiling=vt.ie)(f);var Pn=c._pthread_self=()=>(Pn=c._pthread_self=vt.je)(),En=c._malloc=f=>(En=c._malloc=vt.ke)(f),er=c._free=f=>(er=c._free=vt.le)(f);c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=vt.me)();var pi=f=>(pi=vt.ne)(f);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=vt.oe)();var hi=c.__emscripten_thread_init=(f,d,h,y,g,T)=>(hi=c.__emscripten_thread_init=vt.qe)(f,d,h,y,g,T);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=vt.re)();var mi=(f,d,h,y)=>(mi=vt.se)(f,d,h,y),co=f=>(co=vt.te)(f),lo=c.__emscripten_thread_exit=f=>(lo=c.__emscripten_thread_exit=vt.ue)(f),yi=c.__emscripten_check_mailbox=()=>(yi=c.__emscripten_check_mailbox=vt.ve)(),V=(f,d)=>(V=vt.we)(f,d),Jr=f=>(Jr=vt.xe)(f),bi=(f,d)=>(bi=vt.ye)(f,d),z=()=>(z=vt.ze)(),W=f=>(W=vt.Ae)(f),po=f=>(po=vt.Be)(f),gi=f=>(gi=vt.Ce)(f),vi=f=>(vi=vt.De)(f),wi=(f,d,h)=>(wi=vt.Ee)(f,d,h),Ti=f=>(Ti=vt.Fe)(f);function Ya(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function Ka(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function Xa(f,d,h){var y=z();try{j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function Ja(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function Za(f,d){var h=z();try{j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function Qa(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function ts(f){var d=z();try{j(f)()}catch(h){if(W(d),h!==h+0)throw h;V(1,0)}}function es(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function rs(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function ns(f,d,h,y,g){var T=z();try{return j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function os(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function is(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function as(f){var d=z();try{return j(f)()}catch(h){if(W(d),h!==h+0)throw h;V(1,0)}}function ss(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function us(f,d,h){var y=z();try{j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function fs(f,d,h,y,g,T){var _=z();try{j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function cs(f,d,h,y,g,T,_,I){var D=z();try{return j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function ls(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function ds(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;return V(1,0),0n}}function ps(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function hs(f,d,h,y,g,T,_,I,D){var L=z();try{return j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function ms(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function ys(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function bs(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function gs(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function vs(f,d,h,y,g,T,_,I){var D=z();try{j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function ws(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Ts(f,d,h,y,g,T,_,I,D,L){var M=z();try{return j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function xs(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function _s(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Os(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function Is(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function As(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function Ss(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;return V(1,0),0n}}function Ps(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function Es(f,d,h,y,g,T,_,I,D){var L=z();try{return j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function Ds(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function ks(f,d,h,y,g,T,_,I,D,L,M,X,Q,C){var et=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C)}catch(ft){if(W(et),ft!==ft+0)throw ft;V(1,0)}}function Ls(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function Cs(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function Fs(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function $s(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Bs(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function Ns(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Ms(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Rs(f,d,h,y,g,T,_,I){var D=z();try{j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function Gs(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;return V(1,0),0n}}function Us(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Ws(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt){var Pt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function zs(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft){var mt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft)}catch(Pt){if(W(mt),Pt!==Pt+0)throw Pt;V(1,0)}}function Hs(f,d,h,y,g,T){var _=z();try{j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Vs(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function js(f,d,h,y,g){var T=z();try{return j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function qs(f,d,h,y,g,T,_,I,D,L,M,X,Q,C){var et=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C)}catch(ft){if(W(et),ft!==ft+0)throw ft;V(1,0)}}function Ys(f,d){var h=z();try{j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function Ks(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;return V(1,0),0n}}function Xs(f,d,h,y,g,T,_,I,D,L){var M=z();try{return j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function Js(f,d,h,y,g){var T=z();try{return j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Zs(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et){var ft=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et)}catch(mt){if(W(ft),mt!==mt+0)throw mt;V(1,0)}}function Qs(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function tu(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function eu(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function ru(f,d,h,y,g,T,_,I){var D=z();try{j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function nu(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function ou(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt){var Pt=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function iu(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function au(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function su(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe){var ie=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function uu(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function fu(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function cu(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function lu(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function du(f,d,h,y,g,T){var _=z();try{j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function pu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C){var et=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C)}catch(ft){if(W(et),ft!==ft+0)throw ft;V(1,0)}}function hu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt){var Lt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt)}catch(oe){if(W(Lt),oe!==oe+0)throw oe;V(1,0)}}function mu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt){var Pt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function yu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft){var mt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft)}catch(Pt){if(W(mt),Pt!==Pt+0)throw Pt;V(1,0)}}function bu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et){var ft=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et)}catch(mt){if(W(ft),mt!==mt+0)throw mt;V(1,0)}}function gu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe,ie){var ae=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe,ie)}catch(_r){if(W(ae),_r!==_r+0)throw _r;V(1,0)}}function vu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt){var oe=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt)}catch(ie){if(W(oe),ie!==ie+0)throw ie;V(1,0)}}function wu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt){var Pt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function Tu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe){var ie=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function xu(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function _u(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Ou(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et){var ft=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et)}catch(mt){if(W(ft),mt!==mt+0)throw mt;V(1,0)}}function Iu(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function Au(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function Su(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Pu(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Eu(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;return V(1,0),0n}}function Du(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function ku(f,d,h,y,g,T){var _=z();try{j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Lu(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Cu(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function Fu(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function $u(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function Bu(f,d,h,y,g,T,_,I){var D=z();try{j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function Nu(f,d,h,y,g,T,_,I){var D=z();try{j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function Mu(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function Ru(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function Gu(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function Dn(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function xi(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function l(f,d,h,y,g,T){var _=z();try{j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function p(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function m(f,d,h,y,g,T,_,I){var D=z();try{return j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function b(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et){var ft=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et)}catch(mt){if(W(ft),mt!==mt+0)throw mt;V(1,0)}}function w(f,d,h,y,g,T,_,I,D,L,M,X,Q,C){var et=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C)}catch(ft){if(W(et),ft!==ft+0)throw ft;V(1,0)}}function x(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et){var ft=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et)}catch(mt){if(W(ft),mt!==mt+0)throw mt;V(1,0)}}function O(f,d,h){var y=z();try{j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function A(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function k(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function B(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe,ie,ae,_r,Mb,Rb,Gb){var Ub=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe,ie,ae,_r,Mb,Rb,Gb)}catch(Vu){if(W(Ub),Vu!==Vu+0)throw Vu;V(1,0)}}function R(f,d,h,y,g,T){var _=z();try{j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function J(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function tt(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function F(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function nt(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe,ie){var ae=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe,ie)}catch(_r){if(W(ae),_r!==_r+0)throw _r;V(1,0)}}function ct(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function bt(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function St(f,d,h,y,g,T,_,I,D,L,M,X,Q,C){var et=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C)}catch(ft){if(W(et),ft!==ft+0)throw ft;V(1,0)}}function Ct(f,d,h,y,g,T,_,I){var D=z();try{j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function te(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt){var Pt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function ee(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe){var ie=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function re(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt){var oe=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt)}catch(ie){if(W(oe),ie!==ie+0)throw ie;V(1,0)}}function rr(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Uu(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Wu(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe){var ie=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function zu(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Hu(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function ho(f,d,h,y,g){var T=z();try{return j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Qy(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;return V(1,0),0n}}function tb(f,d,h,y,g,T,_){var I=z();try{j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function eb(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function rb(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function nb(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function ob(f,d,h,y,g,T,_,I,D){var L=z();try{j(f)(d,h,y,g,T,_,I,D)}catch(M){if(W(L),M!==M+0)throw M;V(1,0)}}function ib(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function ab(f,d,h,y,g,T,_,I){var D=z();try{return j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function sb(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function ub(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function fb(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function cb(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function lb(f,d,h,y,g,T,_,I){var D=z();try{return j(f)(d,h,y,g,T,_,I)}catch(L){if(W(D),L!==L+0)throw L;V(1,0)}}function db(f,d,h,y,g,T,_,I,D,L,M){var X=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function pb(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function hb(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{return j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function mb(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function yb(f,d,h,y,g,T,_){var I=z();try{return j(f)(d,h,y,g,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function bb(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function gb(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function vb(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function wb(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function Tb(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function xb(f,d,h,y){var g=z();try{j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function _b(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function Ob(f,d,h,y,g){var T=z();try{j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Ib(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Ab(f,d,h,y,g,T,_,I,D,L,M,X,Q){var C=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q)}catch(et){if(W(C),et!==et+0)throw et;V(1,0)}}function Sb(f,d,h,y,g,T,_,I,D,L){var M=z();try{j(f)(d,h,y,g,T,_,I,D,L)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function Pb(f,d,h,y){var g=z();try{return j(f)(d,h,y)}catch(T){if(W(g),T!==T+0)throw T;V(1,0)}}function Eb(f,d,h,y,g,T,_,I,D,L,M,X){var Q=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X)}catch(C){if(W(Q),C!==C+0)throw C;V(1,0)}}function Db(f,d,h,y,g){var T=z();try{return j(f)(d,h,y,g)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function kb(f){var d=z();try{return j(f)()}catch(h){if(W(d),h!==h+0)throw h;return V(1,0),0n}}function Lb(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Cb(f,d,h,y,g,T){var _=z();try{return j(f)(d,h,y,g,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Fb(f,d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft){var mt=z();try{j(f)(d,h,y,g,T,_,I,D,L,M,X,Q,C,et,ft)}catch(Pt){if(W(mt),Pt!==Pt+0)throw Pt;V(1,0)}}function $b(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function Bb(f,d,h){var y=z();try{return j(f)(d,h)}catch(g){if(W(y),g!==g+0)throw g;V(1,0)}}function Nb(){var f=vt;f=Object.assign({},f);var d=y=>()=>y()>>>0,h=y=>g=>y(g)>>>0;return f.__errno_location=d(f.__errno_location),f.je=d(f.je),f.ke=h(f.ke),f.ne=h(f.ne),f.ze=d(f.ze),f.Be=h(f.Be),f}c.keepRuntimeAlive=qr,c.wasmMemory=Ht,c.stackAlloc=po,c.stackSave=z,c.stackRestore=W,c.UTF8ToString=he,c.stringToUTF8=Jn,c.lengthBytesUTF8=Xr,c.ExitStatus=Ce,c.PThread=At;var _i;lr=function f(){_i||Sc(),_i||(lr=f)};function Sc(){0<Qe||(ot?(v(c),ot||Yr(cr),startWorker(c)):(Yr(_e),0<Qe||_i||(_i=!0,c.calledRun=!0,Ie||(ot||Yr(cr),v(c),ot||Yr(kr)))))}return Sc(),e.ready}})();typeof my=="object"&&typeof ac=="object"?ac.exports=hy:typeof define=="function"&&define.amd&&define([],()=>hy)});var by=qt((TP,xw)=>{xw.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var vy,_w,sc,uc,xa,gy,Ow,Iw,Aw,wy,ce,Hn=it(()=>{"use strict";vy=fy();_w=yy(),uc=!1,xa=!1,gy=!1,Ow=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Iw=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Aw=(i,e)=>i?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":e?"ort-wasm-threaded.wasm":"ort-wasm.wasm",wy=async i=>{if(uc)return Promise.resolve();if(xa)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(gy)throw new Error("previous call to 'initializeWebAssembly()' failed.");xa=!0;let e=i.initTimeout,n=i.numThreads,t=i.simd,r=n>1&&Ow(),o=t&&Iw(),s=i.wasmPaths,a=typeof s=="string"?s:void 0,u=Aw(o,r),c=typeof s=="object"?s[u]:void 0,v=!1,S=[];if(e>0&&S.push(new Promise(E=>{setTimeout(()=>{v=!0,E()},e)})),S.push(new Promise((E,N)=>{let Z=r?_w:vy,H={locateFile:(rt,at)=>r&&rt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([by()],{type:"text/javascript"})):rt.endsWith(".wasm")?c||(a??at)+u:at+rt};if(r)if(typeof Blob>"u")H.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let rt=`var ortWasmThreaded=${Z.toString()};`;H.mainScriptUrlOrBlob=new Blob([rt],{type:"text/javascript"})}Z(H).then(rt=>{xa=!1,uc=!0,sc=rt,E()},rt=>{xa=!1,gy=!0,N(rt)})})),await Promise.race(S),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},ce=()=>{if(uc&&sc)return sc;throw new Error("WebAssembly is not initialized yet.")}});var le,ko,ne,_a=it(()=>{"use strict";Hn();le=(i,e)=>{let n=ce(),t=n.lengthBytesUTF8(i)+1,r=n._malloc(t);return n.stringToUTF8(i,r,t),e.push(r),r},ko=(i,e,n,t)=>{if(typeof i=="object"&&i!==null){if(n.has(i))throw new Error("Circular reference in options");n.add(i)}Object.entries(i).forEach(([r,o])=>{let s=e?e+r:r;if(typeof o=="object")ko(o,s+".",n,t);else if(typeof o=="string"||typeof o=="number")t(s,o.toString());else if(typeof o=="boolean")t(s,o?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof o}`)})},ne=i=>{let e=ce(),n=e.stackSave();try{let t=e.stackAlloc(8);e._OrtGetLastError(t,t+4);let r=e.HEAP32[t/4],o=e.HEAPU32[t/4+1],s=o?e.UTF8ToString(o):"";throw new Error(`${i} ERROR_CODE: ${r}, ERROR_MESSAGE: ${s}`)}finally{e.stackRestore(n)}}});var Ty,xy=it(()=>{"use strict";Hn();_a();Ty=i=>{let e=ce(),n=0,t=[],r=i||{};try{if(i?.logSeverityLevel===void 0)r.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)r.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(r.terminate=!1);let o=0;return i?.tag!==void 0&&(o=le(i.tag,t)),n=e._OrtCreateRunOptions(r.logSeverityLevel,r.logVerbosityLevel,!!r.terminate,o),n===0&&ne("Can't create run options."),i?.extra!==void 0&&ko(i.extra,"",new WeakSet,(s,a)=>{let u=le(s,t),c=le(a,t);e._OrtAddRunConfigEntry(n,u,c)!==0&&ne(`Can't set a run config entry: ${s} - ${a}.`)}),[n,t]}catch(o){throw n!==0&&e._OrtReleaseRunOptions(n),t.forEach(s=>e._free(s)),o}}});var Sw,Pw,Ew,Dw,_y,Oy=it(()=>{"use strict";Hn();_a();Sw=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},Pw=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},Ew=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let e=i.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(i.enableMemPattern=!1)},Dw=(i,e,n)=>{for(let t of e){let r=typeof t=="string"?t:t.name;switch(r){case"xnnpack":r="XNNPACK";break;case"webnn":if(r="WEBNN",typeof t!="string"){let s=t;if(s?.deviceType){let a=le("deviceType",n),u=le(s.deviceType,n);ce()._OrtAddSessionConfigEntry(i,a,u)!==0&&ne(`Can't set a session config entry: 'deviceType' - ${s.deviceType}.`)}if(s?.numThreads){let a=s.numThreads;(typeof a!="number"||!Number.isInteger(a)||a<0)&&(a=0);let u=le("numThreads",n),c=le(a.toString(),n);ce()._OrtAddSessionConfigEntry(i,u,c)!==0&&ne(`Can't set a session config entry: 'numThreads' - ${s.numThreads}.`)}if(s?.powerPreference){let a=le("powerPreference",n),u=le(s.powerPreference,n);ce()._OrtAddSessionConfigEntry(i,a,u)!==0&&ne(`Can't set a session config entry: 'powerPreference' - ${s.powerPreference}.`)}}break;case"webgpu":if(r="JS",typeof t!="string"){let s=t;if(s?.preferredLayout){if(s.preferredLayout!=="NCHW"&&s.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${s.preferredLayout}`);let a=le("preferredLayout",n),u=le(s.preferredLayout,n);ce()._OrtAddSessionConfigEntry(i,a,u)!==0&&ne(`Can't set a session config entry: 'preferredLayout' - ${s.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${r}`)}let o=le(r,n);ce()._OrtAppendExecutionProvider(i,o)!==0&&ne(`Can't append execution provider: ${r}.`)}},_y=i=>{let e=ce(),n=0,t=[],r=i||{};Ew(r);try{let o=Sw(r.graphOptimizationLevel??"all"),s=Pw(r.executionMode??"sequential"),a=typeof r.logId=="string"?le(r.logId,t):0,u=r.logSeverityLevel??2;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log serverity level is not valid: ${u}`);let c=r.logVerbosityLevel??0;if(!Number.isInteger(c)||c<0||c>4)throw new Error(`log verbosity level is not valid: ${c}`);let v=typeof r.optimizedModelFilePath=="string"?le(r.optimizedModelFilePath,t):0;if(n=e._OrtCreateSessionOptions(o,!!r.enableCpuMemArena,!!r.enableMemPattern,s,!!r.enableProfiling,0,a,u,c,v),n===0&&ne("Can't create session options."),r.executionProviders&&Dw(n,r.executionProviders,t),r.freeDimensionOverrides)for(let[S,E]of Object.entries(r.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let N=le(S,t);e._OrtAddFreeDimensionOverride(n,N,E)!==0&&ne(`Can't set a free dimension override: ${S} - ${E}.`)}return r.extra!==void 0&&ko(r.extra,"",new WeakSet,(S,E)=>{let N=le(S,t),Z=le(E,t);e._OrtAddSessionConfigEntry(n,N,Z)!==0&&ne(`Can't set a session config entry: ${S} - ${E}.`)}),[n,t]}catch(o){throw n!==0&&e._OrtReleaseSessionOptions(n),t.forEach(s=>e._free(s)),o}}});var fc,Iy,cc,Ay,Sy,Oa,Py,lc=it(()=>{"use strict";fc=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Iy=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},cc=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Ay=i=>{switch(i){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Sy=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Oa=i=>i==="float32"||i==="int32"||i==="int64"||i==="bool"||i==="float16"||i==="uint32",Py=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}}});var Dy,kw,Lw,ky,Lo,Ly,dc,pc,Cy,Fy,Ey,$y,By,Ny,My=it(()=>{"use strict";xy();Oy();lc();Hn();_a();Dy=!1,kw=i=>{let e=ce(),n=e.stackSave();try{let t=e.stackAlloc(8);return e._OrtGetInputOutputCount(i,t,t+4)!==0&&ne("Can't get session input/output count."),[e.HEAP32[t/4],e.HEAP32[t/4+1]]}finally{e.stackRestore(n)}},Lw=(i,e)=>{ce()._OrtInit(i,e)!==0&&ne("Can't initialize onnxruntime.")},ky=async i=>{Lw(i.wasm.numThreads,Sy(i.logLevel)),Dy=!0},Lo=new Map,Ly=()=>Dy,dc=i=>{let e=ce(),n=e._malloc(i.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${i.byteLength}.`);return e.HEAPU8.set(i,n),[n,i.byteLength]},pc=(i,e)=>{let n=ce(),t=0,r=0,o=0,s=[],a=[],u=[];try{[r,s]=_y(e),t=n._OrtCreateSession(i[0],i[1],r),t===0&&ne("Can't create a session.");let[c,v]=kw(t),S=[],E=[],N=[];for(let H=0;H<c;H++){let rt=n._OrtGetInputName(t,H);rt===0&&ne("Can't get an input name."),a.push(rt),S.push(n.UTF8ToString(rt))}for(let H=0;H<v;H++){let rt=n._OrtGetOutputName(t,H);rt===0&&ne("Can't get an output name."),u.push(rt);let at=n.UTF8ToString(rt);E.push(at)}let Z=null;return Lo.set(t,[t,a,u,Z]),[t,S,E]}catch(c){throw a.forEach(v=>n._OrtFree(v)),u.forEach(v=>n._OrtFree(v)),o!==0&&n._OrtReleaseBinding(o),t!==0&&n._OrtReleaseSession(t),c}finally{n._free(i[0]),r!==0&&n._OrtReleaseSessionOptions(r),s.forEach(c=>n._free(c))}},Cy=(i,e)=>{let n=dc(i);return pc(n,e)},Fy=i=>{let e=ce(),n=Lo.get(i);if(!n)throw new Error(`cannot release session. invalid session id: ${i}`);let[t,r,o,s]=n;s&&e._OrtReleaseBinding(s.handle),e.jsepUnregisterBuffers?.(i),r.forEach(a=>e._OrtFree(a)),o.forEach(a=>e._OrtFree(a)),e._OrtReleaseSession(t),Lo.delete(i)},Ey=(i,e,n,t,r)=>{if(!i){e.push(0);return}let o=ce(),s=i[0],a=i[1],u=i[3],c,v;if(s==="string"&&u==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(u==="gpu-buffer"){let N=i[2].gpuBuffer,Z=cc(fc(s));v=a.reduce((H,rt)=>H*rt,1)*Z,c=o.jsepRegisterBuffer(t,r,N,v)}else{let N=i[2];if(Array.isArray(N)){v=4*N.length,c=o._malloc(v),n.push(c);let Z=c/4;for(let H=0;H<N.length;H++){if(typeof N[H]!="string")throw new TypeError(`tensor data at index ${H} is not a string`);o.HEAPU32[Z++]=le(N[H],n)}}else v=N.byteLength,c=o._malloc(v),n.push(c),o.HEAPU8.set(new Uint8Array(N.buffer,N.byteOffset,v),c)}let S=o.stackSave(),E=o.stackAlloc(4*a.length);try{let N=E/4;a.forEach(H=>o.HEAP32[N++]=H);let Z=o._OrtCreateTensor(fc(s),c,v,E,a.length,Py(u));Z===0&&ne(`Can't create tensor for input/output. session=${t}, index=${r}.`),e.push(Z)}finally{o.stackRestore(S)}},$y=async(i,e,n,t,r,o)=>{let s=ce(),a=Lo.get(i);if(!a)throw new Error(`cannot run inference. invalid session id: ${i}`);let[u,c,v,S]=a,E=e.length,N=t.length,Z=0,H=[],rt=[],at=[],ot=[],ut=s.stackSave(),xt=s.stackAlloc(E*4),yt=s.stackAlloc(E*4),Wt=s.stackAlloc(N*4),Zt=s.stackAlloc(N*4);try{[Z,H]=Ty(o);for(let Bt=0;Bt<E;Bt++)Ey(n[Bt],rt,ot,i,e[Bt]);for(let Bt=0;Bt<N;Bt++)Ey(r[Bt],at,ot,i,E+t[Bt]);let pt=xt/4,It=yt/4,We=Wt/4,_t=Zt/4;for(let Bt=0;Bt<E;Bt++)s.HEAPU32[pt++]=rt[Bt],s.HEAPU32[It++]=c[e[Bt]];for(let Bt=0;Bt<N;Bt++)s.HEAPU32[We++]=at[Bt],s.HEAPU32[_t++]=v[t[Bt]];let Hr;Hr=await s._OrtRun(u,yt,xt,E,Zt,N,Wt,Z),Hr!==0&&ne("failed to call OrtRun().");let de=[];for(let Bt=0;Bt<N;Bt++){let Ht=s.HEAPU32[Wt/4+Bt];if(Ht===at[Bt]){de.push(r[Bt]);continue}let vr=s.stackSave(),Ie=s.stackAlloc(4*4),ve=!1,Vt,ye=0;try{s._OrtGetTensorData(Ht,Ie,Ie+4,Ie+8,Ie+12)!==0&&ne(`Can't access output tensor data on index ${Bt}.`);let fr=Ie/4,Je=s.HEAPU32[fr++];ye=s.HEAPU32[fr++];let Dr=s.HEAPU32[fr++],Vr=s.HEAPU32[fr++],Ae=[];for(let zt=0;zt<Vr;zt++)Ae.push(s.HEAPU32[Dr/4+zt]);s._OrtFree(Dr);let Ze=Ae.reduce((zt,Qt)=>zt*Qt,1);Vt=Iy(Je);let jr=S?.outputPreferredLocations[t[Bt]];if(Vt==="string"){if(jr==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let zt=[],Qt=ye/4;for(let _e=0;_e<Ze;_e++){let cr=s.HEAPU32[Qt++],kr=_e===Ze-1?void 0:s.HEAPU32[Qt]-cr;zt.push(s.UTF8ToString(cr,kr))}de.push([Vt,Ae,zt,"cpu"])}else if(jr==="gpu-buffer"&&Ze>0){let zt=s.jsepGetBuffer(ye),Qt=cc(Je);if(Qt===void 0||!Oa(Vt))throw new Error(`Unsupported data type: ${Vt}`);ve=!0,de.push([Vt,Ae,{gpuBuffer:zt,download:s.jsepCreateDownloader(zt,Ze*Qt,Vt),dispose:()=>{s._OrtReleaseTensor(Ht)}},"gpu-buffer"])}else{let zt=Ay(Vt),Qt=new zt(Ze);new Uint8Array(Qt.buffer,Qt.byteOffset,Qt.byteLength).set(s.HEAPU8.subarray(ye,ye+Qt.byteLength)),de.push([Vt,Ae,Qt,"cpu"])}}finally{s.stackRestore(vr),Vt==="string"&&ye&&s._free(ye),ve||s._OrtReleaseTensor(Ht)}}return S&&s._OrtClearBoundOutputs(S.handle),de}finally{s.stackRestore(ut),rt.forEach(pt=>s._OrtReleaseTensor(pt)),at.forEach(pt=>s._OrtReleaseTensor(pt)),ot.forEach(pt=>s._free(pt)),Z!==0&&s._OrtReleaseRunOptions(Z),H.forEach(pt=>s._free(pt))}},By=i=>{let e=ce(),n=Lo.get(i);if(!n)throw new Error("invalid session id");let t=n[0],r=e._OrtEndProfiling(t);r===0&&ne("Can't get an profile file name."),e._OrtFree(r)},Ny=i=>{let e=[];for(let n of i){let t=n[2];!Array.isArray(t)&&"buffer"in t&&e.push(t.buffer)}return e}});var Ry=qt((MP,Fw)=>{Fw.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Da=Object.defineProperty;var lc=Object.getOwnPropertyDescriptor;var vc=Object.getOwnPropertyNames;var yc=Object.prototype.hasOwnProperty;var Ia=(x,H)=>()=>(x&&(H=x(x=0)),H);var wr=(x,H)=>()=>(H||x((H={exports:{}}).exports,H),H.exports),Wa=(x,H)=>{for(var T in H)Da(x,T,{get:H[T],enumerable:!0})},pc=(x,H,T,z)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Y of vc(H))!yc.call(x,Y)&&Y!==T&&Da(x,Y,{get:()=>H[Y],enumerable:!(z=lc(H,Y))||z.enumerable});return x};var mr=x=>pc(Da({},"__esModule",{value:!0}),x);var xa={};Wa(xa,{readFile:()=>gc});var gc,Ua=Ia(()=>{gc=void 0});var Ba={};Wa(Ba,{join:()=>wc});var wc,Ra=Ia(()=>{wc=void 0});var Xa=wr((Ka,La)=>{"use strict";var Ja=(()=>{var x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(x=x||__filename),function(H={}){var T=H,z,Y;T.ready=new Promise((e,n)=>{z=e,Y=n});var Q=Object.assign({},T),B="./this.program",q=typeof window=="object",at=typeof importScripts=="function",U=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",it="",yt,st,ft;if(U){var wt=(Ua(),mr(xa)),ht=(Ra(),mr(Ba));it=at?ht.dirname(it)+"/":__dirname+"/",yt=(e,n)=>(e=e.startsWith("file://")?new URL(e):ht.normalize(e),wt.readFileSync(e,n?void 0:"utf8")),ft=e=>(e=yt(e,!0),e.buffer||(e=new Uint8Array(e)),e),st=(e,n,a,c=!0)=>{e=e.startsWith("file://")?new URL(e):ht.normalize(e),wt.readFile(e,c?void 0:"utf8",(s,h)=>{s?a(s):n(c?h.buffer:h)})},!T.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),T.inspect=()=>"[Emscripten Module object]"}else(q||at)&&(at?it=self.location.href:typeof document<"u"&&document.currentScript&&(it=document.currentScript.src),x&&(it=x),it.indexOf("blob:")!==0?it=it.substr(0,it.replace(/[?#].*/,"").lastIndexOf("/")+1):it="",yt=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},at&&(ft=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),st=(e,n,a)=>{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?n(c.response):a()},c.onerror=a,c.send(null)});var lt=console.log.bind(console),mt=console.error.bind(console);Object.assign(T,Q),Q=null,typeof WebAssembly!="object"&&ve("no native wasm support detected");var tt,xt=!1,Lt,bt,Gt,Qt,J,ct,be,_e,Te,Dt;function dt(){var e=tt.buffer;T.HEAP8=Lt=new Int8Array(e),T.HEAP16=Gt=new Int16Array(e),T.HEAPU8=bt=new Uint8Array(e),T.HEAPU16=Qt=new Uint16Array(e),T.HEAP32=J=new Int32Array(e),T.HEAPU32=ct=new Uint32Array(e),T.HEAPF32=be=new Float32Array(e),T.HEAPF64=Dt=new Float64Array(e),T.HEAP64=_e=new BigInt64Array(e),T.HEAPU64=Te=new BigUint64Array(e)}var pt=[],se=[],$t=[],Ut=0,gt=null,Wt=null;function ve(e){throw e="Aborted("+e+")",mt(e),xt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Y(e),e}function ae(e){return e.startsWith("data:application/octet-stream;base64,")}var Vt;if(Vt="ort-wasm.wasm",!ae(Vt)){var ye=Vt;Vt=T.locateFile?T.locateFile(ye,it):it+ye}function Ae(e){if(ft)return ft(e);throw"both async and sync fetching of the wasm failed"}function Nt(e){if(q||at){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+e+"\'";return n.arrayBuffer()}).catch(()=>Ae(e));if(st)return new Promise((n,a)=>{st(e,c=>n(new Uint8Array(c)),a)})}return Promise.resolve().then(()=>Ae(e))}function te(e,n,a){return Nt(e).then(c=>WebAssembly.instantiate(c,n)).then(c=>c).then(a,c=>{mt(`failed to asynchronously prepare wasm: ${c}`),ve(c)})}function Ee(e,n){var a=Vt;return typeof WebAssembly.instantiateStreaming!="function"||ae(a)||a.startsWith("file://")||U||typeof fetch!="function"?te(a,e,n):fetch(a,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,e).then(n,function(s){return mt(`wasm streaming compile failed: ${s}`),mt("falling back to ArrayBuffer instantiation"),te(a,e,n)}))}var vt=[],_t=0,Ht=0;function ie(e){this.qe=e,this.ke=e-24,this.Ie=function(n){ct[this.ke+4>>>2>>>0]=n},this.re=function(){return ct[this.ke+4>>>2>>>0]},this.He=function(n){ct[this.ke+8>>>2>>>0]=n},this.ye=function(n){Lt[this.ke+12>>>0>>>0]=n?1:0},this.Ee=function(){return Lt[this.ke+12>>>0>>>0]!=0},this.ze=function(n){Lt[this.ke+13>>>0>>>0]=n?1:0},this.Ae=function(){return Lt[this.ke+13>>>0>>>0]!=0},this.Ge=function(n,a){this.se(0),this.Ie(n),this.He(a)},this.se=function(n){ct[this.ke+16>>>2>>>0]=n},this.De=function(){return ct[this.ke+16>>>2>>>0]},this.Fe=function(){if(xr(this.re()))return ct[this.qe>>>2>>>0];var n=this.De();return n!==0?n:this.qe}}var pe=e=>{var n=Ht;if(!n)return me(0),0;var a=new ie(n);a.se(n);var c=a.re();if(!c)return me(0),n;for(var s in e){var h=e[s];if(h===0||h===c)break;if(Wr(h,c,a.ke+16))return me(h),n}return me(c),n},Ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Se=(e,n,a)=>{n>>>=0;var c=n+a;for(a=n;e[a]&&!(a>=c);)++a;if(16<a-n&&e.buffer&&Ke)return Ke.decode(e.subarray(n,a));for(c="";n<a;){var s=e[n++];if(s&128){var h=e[n++]&63;if((s&224)==192)c+=String.fromCharCode((s&31)<<6|h);else{var l=e[n++]&63;s=(s&240)==224?(s&15)<<12|h<<6|l:(s&7)<<18|h<<12|l<<6|e[n++]&63,65536>s?c+=String.fromCharCode(s):(s-=65536,c+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else c+=String.fromCharCode(s)}return c},ee=(e,n)=>(e>>>=0)?Se(bt,e,n):"",ge=e=>{for(var n=0,a=0;a<e.length;++a){var c=e.charCodeAt(a);127>=c?n++:2047>=c?n+=2:55296<=c&&57343>=c?(n+=4,++a):n+=3}return n},ce=(e,n,a,c)=>{if(a>>>=0,!(0<c))return 0;var s=a;c=a+c-1;for(var h=0;h<e.length;++h){var l=e.charCodeAt(h);if(55296<=l&&57343>=l){var y=e.charCodeAt(++h);l=65536+((l&1023)<<10)|y&1023}if(127>=l){if(a>=c)break;n[a++>>>0]=l}else{if(2047>=l){if(a+1>=c)break;n[a++>>>0]=192|l>>6}else{if(65535>=l){if(a+2>=c)break;n[a++>>>0]=224|l>>12}else{if(a+3>=c)break;n[a++>>>0]=240|l>>18,n[a++>>>0]=128|l>>12&63}n[a++>>>0]=128|l>>6&63}n[a++>>>0]=128|l&63}}return n[a>>>0]=0,a-s},Xe=e=>{if(e===null)return"null";var n=typeof e;return n==="object"||n==="array"||n==="function"?e.toString():""+e},ue,Yt=e=>{for(var n="";bt[e>>>0];)n+=ue[bt[e++>>>0]];return n},fe={},Fe={},yn={},re;function pn(e,n,a={}){var c=n.name;if(!e)throw new re(`type "${c}" must have a positive integer typeid pointer`);if(Fe.hasOwnProperty(e)){if(a.Be)return;throw new re(`Cannot register type \'${c}\' twice`)}Fe[e]=n,delete yn[e],fe.hasOwnProperty(e)&&(n=fe[e],delete fe[e],n.forEach(s=>s()))}function qt(e,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");pn(e,n,a)}var De=(e,n,a)=>{switch(n){case 1:return a?c=>Lt[c>>>0>>>0]:c=>bt[c>>>0>>>0];case 2:return a?c=>Gt[c>>>1>>>0]:c=>Qt[c>>>1>>>0];case 4:return a?c=>J[c>>>2>>>0]:c=>ct[c>>>2>>>0];case 8:return a?c=>_e[c>>>3]:c=>Te[c>>>3];default:throw new TypeError(`invalid integer width (${n}): ${e}`)}};function Ze(){this.me=[void 0],this.we=[]}var zt=new Ze;function Ie(e){e>>>=0,e>=zt.ke&&--zt.get(e).xe===0&&zt.se(e)}var It=e=>{if(!e)throw new re("Cannot use deleted val. handle = "+e);return zt.get(e).value},jt=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return zt.re({xe:1,value:e})}};function We(e){return this.fromWireType(J[e>>>2>>>0])}var gn=(e,n)=>{switch(n){case 4:return function(a){return this.fromWireType(be[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(Dt[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${e}`)}};function et(e){return this.fromWireType(ct[e>>>2>>>0])}var Me=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,_r=(e,n)=>{for(var a=e>>1,c=a+n/2;!(a>=c)&&Qt[a>>>0];)++a;if(a<<=1,32<a-e&&Me)return Me.decode(bt.subarray(e>>>0,a>>>0));for(a="",c=0;!(c>=n/2);++c){var s=Gt[e+2*c>>>1>>>0];if(s==0)break;a+=String.fromCharCode(s)}return a},xe=(e,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var c=n;a=a<2*e.length?a/2:e.length;for(var s=0;s<a;++s)Gt[n>>>1>>>0]=e.charCodeAt(s),n+=2;return Gt[n>>>1>>>0]=0,n-c},Tr=e=>2*e.length,P=(e,n)=>{for(var a=0,c="";!(a>=n/4);){var s=J[e+4*a>>>2>>>0];if(s==0)break;++a,65536<=s?(s-=65536,c+=String.fromCharCode(55296|s>>10,56320|s&1023)):c+=String.fromCharCode(s)}return c},Ue=(e,n,a)=>{if(n>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var c=n;a=c+a-4;for(var s=0;s<e.length;++s){var h=e.charCodeAt(s);if(55296<=h&&57343>=h){var l=e.charCodeAt(++s);h=65536+((h&1023)<<10)|l&1023}if(J[n>>>2>>>0]=h,n+=4,n+4>a)break}return J[n>>>2>>>0]=0,n-c},Be=e=>{for(var n=0,a=0;a<e.length;++a){var c=e.charCodeAt(a);55296<=c&&57343>=c&&++a,n+=4}return n},Jt=(e,n)=>{var a=Fe[e];if(a===void 0)throw e=Rt(e),a=Yt(e),Zt(e),new re(n+" has unknown type "+a);return a},Qe={},he=e=>{var n=Qe[e];return n===void 0?Yt(e):n},Ce=[],Ve=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Ar=e=>{var n=Ce.length;return Ce.push(e),n},Er=(e,n)=>{for(var a=Array(e),c=0;c<e;++c)a[c]=Jt(ct[n+4*c>>>2>>>0],"parameter "+c);return a},ke=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var n=e.charCodeAt(0);return 48<=n&&57>=n?`_${e}`:e},tr={};function er(e,n){return e=ke(e),{[e]:function(){return n.apply(this,arguments)}}[e]}function Sr(e){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=er(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,e=n.apply(a,e),e instanceof Object?e:a}var Mr=e=>{for(var n="",a=0;a<e;++a)n+=(a!==0?", ":"")+"arg"+a;var c="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<e;++a)c+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",c+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(Jt,T,jt,()=>ct)},rr={},de=e=>e%4===0&&(e%100!==0||e%400===0),nr=[0,31,60,91,121,152,182,213,244,274,305,335],or=[0,31,59,90,120,151,181,212,243,273,304,334],ar=e=>{var n=ge(e)+1,a=Bt(n);return a&&ce(e,bt,a,n),a},Re={},ir=()=>{if(!Le){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},n;for(n in Re)Re[n]===void 0?delete e[n]:e[n]=Re[n];var a=[];for(n in e)a.push(`${n}=${e[n]}`);Le=a}return Le},Le,Cr=[null,[],[]],cr=[31,29,31,30,31,30,31,31,30,31,30,31],ur=[31,28,31,30,31,30,31,31,30,31,30,31];function Xt(e){var n=Array(ge(e)+1);return ce(e,n,0,n.length),n}function He(e,n,a,c){function s(O,N,G){for(O=typeof O=="number"?O.toString():O||"";O.length<N;)O=G[0]+O;return O}function h(O,N){return s(O,N,"0")}function l(O,N){function G(rt){return 0>rt?-1:0<rt?1:0}var X;return(X=G(O.getFullYear()-N.getFullYear()))===0&&(X=G(O.getMonth()-N.getMonth()))===0&&(X=G(O.getDate()-N.getDate())),X}function y(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function g(O){var N=O.ne;for(O=new Date(new Date(O.oe+1900,0,1).getTime());0<N;){var G=O.getMonth(),X=(de(O.getFullYear())?cr:ur)[G];if(N>X-O.getDate())N-=X-O.getDate()+1,O.setDate(1),11>G?O.setMonth(G+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+N);break}}return G=new Date(O.getFullYear()+1,0,4),N=y(new Date(O.getFullYear(),0,4)),G=y(G),0>=l(N,O)?0>=l(G,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}e>>>=0,n>>>=0,a>>>=0,c>>>=0;var b=ct[c+40>>>2>>>0];c={Le:J[c>>>2>>>0],Ke:J[c+4>>>2>>>0],te:J[c+8>>>2>>>0],ve:J[c+12>>>2>>>0],ue:J[c+16>>>2>>>0],oe:J[c+20>>>2>>>0],le:J[c+24>>>2>>>0],ne:J[c+28>>>2>>>0],Ne:J[c+32>>>2>>>0],Je:J[c+36>>>2>>>0],Me:b?ee(b):""},a=ee(a),b={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var A in b)a=a.replace(new RegExp(A,"g"),b[A]);var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),L="January February March April May June July August September October November December".split(" ");b={"%a":O=>W[O.le].substring(0,3),"%A":O=>W[O.le],"%b":O=>L[O.ue].substring(0,3),"%B":O=>L[O.ue],"%C":O=>h((O.oe+1900)/100|0,2),"%d":O=>h(O.ve,2),"%e":O=>s(O.ve,2," "),"%g":O=>g(O).toString().substring(2),"%G":O=>g(O),"%H":O=>h(O.te,2),"%I":O=>(O=O.te,O==0?O=12:12<O&&(O-=12),h(O,2)),"%j":O=>{for(var N=0,G=0;G<=O.ue-1;N+=(de(O.oe+1900)?cr:ur)[G++]);return h(O.ve+N,3)},"%m":O=>h(O.ue+1,2),"%M":O=>h(O.Ke,2),"%n":()=>`\n`,"%p":O=>0<=O.te&&12>O.te?"AM":"PM","%S":O=>h(O.Le,2),"%t":()=>"	","%u":O=>O.le||7,"%U":O=>h(Math.floor((O.ne+7-O.le)/7),2),"%V":O=>{var N=Math.floor((O.ne+7-(O.le+6)%7)/7);if(2>=(O.le+371-O.ne-2)%7&&N++,N)N==53&&(G=(O.le+371-O.ne)%7,G==4||G==3&&de(O.oe)||(N=1));else{N=52;var G=(O.le+7-O.ne-1)%7;(G==4||G==5&&de(O.oe%400-1))&&N++}return h(N,2)},"%w":O=>O.le,"%W":O=>h(Math.floor((O.ne+7-(O.le+6)%7)/7),2),"%y":O=>(O.oe+1900).toString().substring(2),"%Y":O=>O.oe+1900,"%z":O=>{O=O.Je;var N=0<=O;return O=Math.abs(O)/60,(N?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.Me,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(A in b)a.includes(A)&&(a=a.replace(new RegExp(A,"g"),b[A](c)));return a=a.replace(/\\0\\0/g,"%"),A=Xt(a),A.length>n?0:(Lt.set(A,e>>>0),A.length-1)}for(var we=[],kr,S=e=>{var n=we[e];return n||(e>=we.length&&(we.length=e+1),we[e]=n=kr.get(e)),n},Pr=Array(256),Kt=0;256>Kt;++Kt)Pr[Kt]=String.fromCharCode(Kt);ue=Pr,re=T.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},T.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Ze.prototype,{get(e){return this.me[e]},has(e){return this.me[e]!==void 0},re(e){var n=this.we.pop()||this.me.length;return this.me[n]=e,n},se(e){this.me[e]=void 0,this.we.push(e)}}),zt.me.push({value:void 0},{value:null},{value:!0},{value:!1}),zt.ke=zt.me.length,T.count_emval_handles=()=>{for(var e=0,n=zt.ke;n<zt.me.length;++n)zt.me[n]!==void 0&&++e;return e};var Fr={u:function(e){return e=new ie(e>>>0),e.Ee()||(e.ye(!0),_t--),e.ze(!1),vt.push(e),Ir(e.qe),e.Fe()},M:()=>{E(0,0);var e=vt.pop();Dr(e.qe),Ht=0},a:function(){return pe([])},l:function(e){return pe([e>>>0])},x:function(e,n){return pe([e>>>0,n>>>0])},q:function(e,n,a){return pe([e>>>0,n>>>0,a>>>0])},xb:()=>{var e=vt.pop();e||ve("no exception to throw");var n=e.qe;throw e.Ae()||(vt.push(e),e.ze(!0),e.ye(!1),_t++),Ht=n,Ht},t:function(e,n,a){throw e>>>=0,new ie(e).Ge(n>>>0,a>>>0),Ht=e,_t++,Ht},Ra:()=>_t,g:function(e){throw Ht||(Ht=e>>>0),Ht},yb:function(){return 0},Uc:function(){},Dc:function(){},Fc:function(){},xc:function(){return 0},Sc:function(){},Mc:function(){},Rc:function(){},Rb:function(){},Ec:function(){},Bc:function(){},Tc:function(){},Cc:function(){},Ub:function(e,n,a,c,s){n>>>=0,n=Yt(n);var h=n.indexOf("u")!=-1;h&&(s=(1n<<64n)-1n),qt(e>>>0,{name:n,fromWireType:l=>l,toWireType:function(l,y){if(typeof y!="bigint"&&typeof y!="number")throw new TypeError(`Cannot convert "${Xe(y)}" to ${this.name}`);if(y<c||y>s)throw new TypeError(`Passing a number "${Xe(y)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${c}, ${s}]!`);return y},argPackAdvance:8,readValueFromPointer:De(n,a>>>0,!h),pe:null})},Xc:function(e,n,a,c){n=Yt(n>>>0),qt(e>>>0,{name:n,fromWireType:function(s){return!!s},toWireType:function(s,h){return h?a:c},argPackAdvance:8,readValueFromPointer:function(s){return this.fromWireType(bt[s>>>0])},pe:null})},Wc:function(e,n){n=Yt(n>>>0),qt(e>>>0,{name:n,fromWireType:a=>{var c=It(a);return Ie(a),c},toWireType:(a,c)=>jt(c),argPackAdvance:8,readValueFromPointer:We,pe:null})},Tb:function(e,n,a){n=Yt(n>>>0),qt(e>>>0,{name:n,fromWireType:c=>c,toWireType:(c,s)=>s,argPackAdvance:8,readValueFromPointer:gn(n,a>>>0),pe:null})},ua:function(e,n,a,c,s){if(e>>>=0,a>>>=0,n=Yt(n>>>0),s===-1&&(s=4294967295),s=y=>y,c===0){var h=32-8*a;s=y=>y<<h>>>h}var l=n.includes("unsigned")?function(y,g){return g>>>0}:function(y,g){return g};qt(e,{name:n,fromWireType:s,toWireType:l,argPackAdvance:8,readValueFromPointer:De(n,a,c!==0),pe:null})},_:function(e,n,a){function c(h){return new s(Lt.buffer,ct[h+4>>>2>>>0],ct[h>>>2>>>0])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Yt(a>>>0),qt(e>>>0,{name:a,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{Be:!0})},Vb:function(e,n){n=Yt(n>>>0);var a=n==="std::string";qt(e>>>0,{name:n,fromWireType:function(c){var s=ct[c>>>2>>>0],h=c+4;if(a)for(var l=h,y=0;y<=s;++y){var g=h+y;if(y==s||bt[g>>>0]==0){if(l=ee(l,g-l),b===void 0)var b=l;else b+=String.fromCharCode(0),b+=l;l=g+1}}else{for(b=Array(s),y=0;y<s;++y)b[y]=String.fromCharCode(bt[h+y>>>0]);b=b.join("")}return Zt(c),b},toWireType:function(c,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var h=typeof s=="string";if(!(h||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array))throw new re("Cannot pass non-string to std::string");var l=a&&h?ge(s):s.length,y=Bt(4+l+1),g=y+4;if(ct[y>>>2>>>0]=l,a&&h)ce(s,bt,g,l+1);else if(h)for(h=0;h<l;++h){var b=s.charCodeAt(h);if(255<b)throw Zt(g),new re("String has UTF-16 code units that do not fit in 8 bits");bt[g+h>>>0]=b}else for(h=0;h<l;++h)bt[g+h>>>0]=s[h];return c!==null&&c.push(Zt,y),y},argPackAdvance:8,readValueFromPointer:et,pe(c){Zt(c)}})},Ab:function(e,n,a){if(n>>>=0,a>>>=0,a=Yt(a),n===2)var c=_r,s=xe,h=Tr,l=()=>Qt,y=1;else n===4&&(c=P,s=Ue,h=Be,l=()=>ct,y=2);qt(e>>>0,{name:a,fromWireType:g=>{for(var b=ct[g>>>2>>>0],A=l(),W,L=g+4,O=0;O<=b;++O){var N=g+4+O*n;(O==b||A[N>>>y]==0)&&(L=c(L,N-L),W===void 0?W=L:(W+=String.fromCharCode(0),W+=L),L=N+n)}return Zt(g),W},toWireType:(g,b)=>{if(typeof b!="string")throw new re(`Cannot pass non-string to C++ string type ${a}`);var A=h(b),W=Bt(4+A+n);return ct[W>>>2]=A>>y,s(b,W+4,A+n),g!==null&&g.push(Zt,W),W},argPackAdvance:8,readValueFromPointer:We,pe(g){Zt(g)}})},$c:function(e,n){n=Yt(n>>>0),qt(e>>>0,{Ce:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},Vc:()=>!0,od:function(e,n,a){n>>>=0,a>>>=0,e=It(e>>>0),n=Jt(n,"emval::as");var c=[],s=jt(c);return ct[a>>>2>>>0]=s,n.toWireType(c,e)},la:function(e,n,a,c,s){a>>>=0,c>>>=0,s>>>=0,e=Ce[e>>>0],n=It(n>>>0),a=he(a);var h=[];return ct[c>>>2>>>0]=jt(h),e(n,a,h,s)},dd:function(e,n,a,c){a>>>=0,c>>>=0,e=Ce[e>>>0],n=It(n>>>0),a=he(a),e(n,a,null,c)},wc:Ie,pd:function(e,n){return n>>>=0,e=It(e>>>0),n=It(n),e==n},vc:function(e){return e>>>=0,e===0?jt(Ve()):(e=he(e),jt(Ve()[e]))},ja:function(e,n){var a=Er(e,n>>>0),c=a[0];n=c.name+"_$"+a.slice(1).map(function(A){return A.name}).join("_")+"$";var s=tr[n];if(s!==void 0)return s;s=["retType"];for(var h=[c],l="",y=0;y<e-1;++y)l+=(y!==0?", ":"")+"arg"+y,s.push("argType"+y),h.push(a[1+y]);var g="return function "+ke("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,b=0;for(y=0;y<e-1;++y)g+="    var arg"+y+" = argType"+y+".readValueFromPointer(args"+(b?"+"+b:"")+`);\n`,b+=a[y+1].argPackAdvance;for(g+="    var rv = handle[name]("+l+`);\n`,y=0;y<e-1;++y)a[y+1].deleteObject&&(g+="    argType"+y+".deleteObject(arg"+y+`);\n`);return c.Ce||(g+=`    return retType.toWireType(destructors, rv);\n`),s.push(g+`};\n`),e=Sr(s).apply(null,h),s=Ar(e),tr[n]=s},id:function(e,n){return n>>>=0,e=It(e>>>0),n=It(n),jt(e[n])},O:function(e){e>>>=0,4<e&&(zt.get(e).xe+=1)},qd:function(e,n,a,c){a>>>=0,c>>>=0,e=It(e>>>0);var s=rr[n];return s||(s=Mr(n),rr[n]=s),s(e,a,c)},hd:function(){return jt([])},ld:function(e){e=It(e>>>0);for(var n=Array(e.length),a=0;a<e.length;a++)n[a]=e[a];return jt(n)},X:function(e){return jt(he(e>>>0))},Qa:function(){return jt({})},rd:function(e){e>>>=0;for(var n=It(e);n.length;){var a=n.pop();n.pop()(a)}Ie(e)},td:function(e,n,a){n>>>=0,a>>>=0,e=It(e>>>0),n=It(n),a=It(a),e[n]=a},vb:function(e,n){return n>>>=0,e=Jt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(n),jt(e)},Jc:function(e,n){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),n>>>=0,e=new Date(1e3*e),J[n>>>2>>>0]=e.getUTCSeconds(),J[n+4>>>2>>>0]=e.getUTCMinutes(),J[n+8>>>2>>>0]=e.getUTCHours(),J[n+12>>>2>>>0]=e.getUTCDate(),J[n+16>>>2>>>0]=e.getUTCMonth(),J[n+20>>>2>>>0]=e.getUTCFullYear()-1900,J[n+24>>>2>>>0]=e.getUTCDay(),J[n+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Kc:function(e,n){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),n>>>=0,e=new Date(1e3*e),J[n>>>2>>>0]=e.getSeconds(),J[n+4>>>2>>>0]=e.getMinutes(),J[n+8>>>2>>>0]=e.getHours(),J[n+12>>>2>>>0]=e.getDate(),J[n+16>>>2>>>0]=e.getMonth(),J[n+20>>>2>>>0]=e.getFullYear()-1900,J[n+24>>>2>>>0]=e.getDay(),J[n+28>>>2>>>0]=(de(e.getFullYear())?nr:or)[e.getMonth()]+e.getDate()-1|0,J[n+36>>>2>>>0]=-(60*e.getTimezoneOffset());var a=new Date(e.getFullYear(),6,1).getTimezoneOffset(),c=new Date(e.getFullYear(),0,1).getTimezoneOffset();J[n+32>>>2>>>0]=(a!=c&&e.getTimezoneOffset()==Math.min(c,a))|0},Lc:function(e){e>>>=0;var n=new Date(J[e+20>>>2>>>0]+1900,J[e+16>>>2>>>0],J[e+12>>>2>>>0],J[e+8>>>2>>>0],J[e+4>>>2>>>0],J[e>>>2>>>0],0),a=J[e+32>>>2>>>0],c=n.getTimezoneOffset(),s=new Date(n.getFullYear(),6,1).getTimezoneOffset(),h=new Date(n.getFullYear(),0,1).getTimezoneOffset(),l=Math.min(h,s);return 0>a?J[e+32>>>2>>>0]=+(s!=h&&l==c):0<a!=(l==c)&&(s=Math.max(h,s),n.setTime(n.getTime()+6e4*((0<a?l:s)-c))),J[e+24>>>2>>>0]=n.getDay(),J[e+28>>>2>>>0]=(de(n.getFullYear())?nr:or)[n.getMonth()]+n.getDate()-1|0,J[e>>>2>>>0]=n.getSeconds(),J[e+4>>>2>>>0]=n.getMinutes(),J[e+8>>>2>>>0]=n.getHours(),J[e+12>>>2>>>0]=n.getDate(),J[e+16>>>2>>>0]=n.getMonth(),J[e+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Gc:function(){return-52},Ic:function(){},zc:function(e,n,a){function c(g){return(g=g.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?g[1]:"GMT"}a>>>=0;var s=new Date().getFullYear(),h=new Date(s,0,1),l=new Date(s,6,1);s=h.getTimezoneOffset();var y=l.getTimezoneOffset();ct[e>>>0>>>2>>>0]=60*Math.max(s,y),J[n>>>0>>>2>>>0]=+(s!=y),e=c(h),n=c(l),e=ar(e),n=ar(n),y<s?(ct[a>>>2>>>0]=e,ct[a+4>>>2>>>0]=n):(ct[a>>>2>>>0]=n,ct[a+4>>>2>>>0]=e)},hb:()=>{ve("")},Sb:()=>Date.now(),Ac:function(){return 4294901760},da:()=>performance.now(),Qc:function(e,n,a){return n>>>=0,bt.copyWithin(e>>>0>>>0,n>>>0,n+(a>>>0)>>>0)},yc:function(e){e>>>=0;var n=bt.length;if(4294901760<e)return!1;for(var a=1;4>=a;a*=2){var c=n*(1+.2/a);c=Math.min(c,e+100663296);var s=Math;c=Math.max(e,c);t:{s=(s.min.call(s,4294901760,c+(65536-c%65536)%65536)-tt.buffer.byteLength+65535)/65536;try{tt.grow(s),dt();var h=1;break t}catch{}h=void 0}if(h)return!0}return!1},Oc:function(e,n){e>>>=0,n>>>=0;var a=0;return ir().forEach((c,s)=>{var h=n+a;for(s=ct[e+4*s>>>2>>>0]=h,h=0;h<c.length;++h)Lt[s++>>>0>>>0]=c.charCodeAt(h);Lt[s>>>0>>>0]=0,a+=c.length+1}),0},Pc:function(e,n){e>>>=0,n>>>=0;var a=ir();ct[e>>>2>>>0]=a.length;var c=0;return a.forEach(s=>c+=s.length+1),ct[n>>>2>>>0]=c,0},zb:()=>52,Qb:function(){return 52},Nc:function(){return 70},Pb:function(e,n,a,c){n>>>=0,a>>>=0,c>>>=0;for(var s=0,h=0;h<a;h++){var l=ct[n>>>2>>>0],y=ct[n+4>>>2>>>0];n+=8;for(var g=0;g<y;g++){var b=bt[l+g>>>0],A=Cr[e];b===0||b===10?((e===1?lt:mt)(Se(A,0)),A.length=0):A.push(b)}s+=y}return ct[c>>>2>>>0]=s,0},gb:Mn,Yc:Ea,ra:wa,E:ya,pa:Vn,ea:En,Zc:Aa,bd:la,N:Pe,z:Ur,b:fr,_b:fa,sa:Po,e:mn,Cb:ha,h:wn,W:Qo,i:_n,_c:_a,j:Ne,r:hr,s:Rr,o:Lr,za:dr,Ua:Ro,ga:Qr,Nb:fn,Ya:Wn,Gb:Lo,kb:So,dc:ta,qc:Zr,ac:oa,bc:ra,Wb:ba,ia:ro,fb:lr,wa:Xo,Bb:ma,ba:io,cc:ea,Oa:Un,D:bn,K:on,Eb:Vo,gd:na,oa:wo,L:k,$:vr,T:Rn,y:Tn,Db:ca,$b:aa,B:No,Fb:Go,fd:ia,Pa:In,ab:fo,ec:qo,Xb:Oa,Kb:eo,V:Sn,F:Xr,C:Ye,$a:zo,P:an,d:Ot,Wa:C,k:$e,va:da,Va:_o,sb:en,f:On,rc:Cn,aa:Ko,bb:pr,xa:to,jb:Co,db:Fn,c:ze,oc:qe,jd:Ho,m:je,mc:M,n:Br,pc:Dn,lc:un,md:Fo,p:Hr,Ma:Nn,qb:$n,La:zn,Ib:To,A:zr,H:Gr,U:Kr,Ta:$o,ic:go,cb:cn,ta:Bn,ma:Mo,Q:hn,Za:Vr,Ga:mo,ib:Ta,Ca:Wo,gc:Uo,Ba:xo,Da:ko,sd:sn,na:bo,kd:Bo,Ha:yo,Fa:Oo,sc:Jr,kc:co,Ea:Ao,Ia:vo,mb:ao,fa:ho,ya:Ln,fc:jo,jc:uo,Hb:Io,Aa:Yo,ka:rn,wb:Nr,ed:ua,R:oo,tb:Pn,Sa:Jo,eb:Ge,I:Oe,S:tn,ub:qr,cd:sa,Z:jr,lb:Eo,ha:so,Yb:ga,ud:kn,w:An,_a:Zo,nd:po,Lb:Kn,hc:Do,uc:$r,Mb:Jn,Jb:no,Xa:xn,tc:Yr,Ob:nn,Ja:lo,Zb:pa,Y:Xn,nc:ne,J:yr,ad:va,rb:Z,qa:Qn,G:Zn,ob:Yn,Ka:Gn,Na:Hn,nb:qn,pb:jn,v:function(e){return e>>>0},Hc:He,ca:function(e,n,a,c){return He(e>>>0,n>>>0,a>>>0,c>>>0)}},V=function(){var e={a:Fr};return Ut++,Ee(e,function(n){V=n.instance.exports,V=Sa(),tt=V.vd,dt(),kr=V.ae,se.unshift(V.wd),Ut--,Ut==0&&(gt!==null&&(clearInterval(gt),gt=null),Wt&&(n=Wt,Wt=null,n()))}).catch(Y),{}}();T._OrtInit=(e,n)=>(T._OrtInit=V.xd)(e,n),T._OrtGetLastError=(e,n)=>(T._OrtGetLastError=V.yd)(e,n),T._OrtCreateSessionOptions=(e,n,a,c,s,h,l,y,g,b)=>(T._OrtCreateSessionOptions=V.zd)(e,n,a,c,s,h,l,y,g,b),T._OrtAppendExecutionProvider=(e,n)=>(T._OrtAppendExecutionProvider=V.Ad)(e,n),T._OrtAddFreeDimensionOverride=(e,n,a)=>(T._OrtAddFreeDimensionOverride=V.Bd)(e,n,a),T._OrtAddSessionConfigEntry=(e,n,a)=>(T._OrtAddSessionConfigEntry=V.Cd)(e,n,a),T._OrtReleaseSessionOptions=e=>(T._OrtReleaseSessionOptions=V.Dd)(e),T._OrtCreateSession=(e,n,a)=>(T._OrtCreateSession=V.Ed)(e,n,a),T._OrtReleaseSession=e=>(T._OrtReleaseSession=V.Fd)(e),T._OrtGetInputOutputCount=(e,n,a)=>(T._OrtGetInputOutputCount=V.Gd)(e,n,a),T._OrtGetInputName=(e,n)=>(T._OrtGetInputName=V.Hd)(e,n),T._OrtGetOutputName=(e,n)=>(T._OrtGetOutputName=V.Id)(e,n),T._OrtFree=e=>(T._OrtFree=V.Jd)(e),T._OrtCreateTensor=(e,n,a,c,s,h)=>(T._OrtCreateTensor=V.Kd)(e,n,a,c,s,h),T._OrtGetTensorData=(e,n,a,c,s)=>(T._OrtGetTensorData=V.Ld)(e,n,a,c,s),T._OrtReleaseTensor=e=>(T._OrtReleaseTensor=V.Md)(e),T._OrtCreateRunOptions=(e,n,a,c)=>(T._OrtCreateRunOptions=V.Nd)(e,n,a,c),T._OrtAddRunConfigEntry=(e,n,a)=>(T._OrtAddRunConfigEntry=V.Od)(e,n,a),T._OrtReleaseRunOptions=e=>(T._OrtReleaseRunOptions=V.Pd)(e),T._OrtCreateBinding=e=>(T._OrtCreateBinding=V.Qd)(e),T._OrtBindInput=(e,n,a)=>(T._OrtBindInput=V.Rd)(e,n,a),T._OrtBindOutput=(e,n,a,c)=>(T._OrtBindOutput=V.Sd)(e,n,a,c),T._OrtClearBoundOutputs=e=>(T._OrtClearBoundOutputs=V.Td)(e),T._OrtReleaseBinding=e=>(T._OrtReleaseBinding=V.Ud)(e),T._OrtRunWithBinding=(e,n,a,c,s)=>(T._OrtRunWithBinding=V.Vd)(e,n,a,c,s),T._OrtRun=(e,n,a,c,s,h,l,y)=>(T._OrtRun=V.Wd)(e,n,a,c,s,h,l,y),T._OrtEndProfiling=e=>(T._OrtEndProfiling=V.Xd)(e);var Bt=T._malloc=e=>(Bt=T._malloc=V.Yd)(e),Zt=T._free=e=>(Zt=T._free=V.Zd)(e),Rt=e=>(Rt=V._d)(e);T.__embind_initialize_bindings=()=>(T.__embind_initialize_bindings=V.$d)();var E=(e,n)=>(E=V.be)(e,n),me=e=>(me=V.ce)(e),F=()=>(F=V.de)(),D=e=>(D=V.ee)(e),sr=e=>(sr=V.fe)(e),Dr=e=>(Dr=V.ge)(e),Ir=e=>(Ir=V.he)(e),Wr=(e,n,a)=>(Wr=V.ie)(e,n,a),xr=e=>(xr=V.je)(e);function wn(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function mn(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function On(e,n,a){var c=F();try{S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function fr(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function $e(e,n){var a=F();try{S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function bn(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function Ot(e){var n=F();try{S(e)()}catch(a){if(D(n),a!==a+0)throw a;E(1,0)}}function hr(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Ne(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function _n(e,n,a,c,s){var h=F();try{return S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function ze(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function je(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function Ur(e){var n=F();try{return S(e)()}catch(a){if(D(n),a!==a+0)throw a;E(1,0)}}function Tn(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function An(e,n,a){var c=F();try{S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function Br(e,n,a,c,s,h){var l=F();try{S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Rr(e,n,a,c,s,h,l,y){var g=F();try{return S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function En(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function Sn(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;return E(1,0),0n}}function Mn(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function Lr(e,n,a,c,s,h,l,y,g){var b=F();try{return S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Oe(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function Hr(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function $r(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function Nr(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function zr(e,n,a,c,s,h,l,y){var g=F();try{S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function jr(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function dr(e,n,a,c,s,h,l,y,g,b){var A=F();try{return S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Gr(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function lr(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function Yr(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function qr(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Jr(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Kr(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Xr(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;return E(1,0),0n}}function Cn(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function Zr(e,n,a,c,s,h,l,y,g){var b=F();try{return S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Qr(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function Vr(e,n,a,c,s,h,l,y,g,b,A,W,L,O){var N=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function kn(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function Pn(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function tn(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function en(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Ge(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Fn(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Dn(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function Z(e,n,a,c,s,h,l,y){var g=F();try{S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function Ye(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;return E(1,0),0n}}function qe(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function ne(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G){var X=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G)}catch(rt){if(D(X),rt!==rt+0)throw rt;E(1,0)}}function rn(e,n,a,c,s,h){var l=F();try{S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function nn(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function on(e,n,a,c,s){var h=F();try{return S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function vr(e,n,a,c,s,h,l,y,g,b,A,W,L,O){var N=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function yr(e,n){var a=F();try{S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function an(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;return E(1,0),0n}}function k(e,n,a,c,s,h,l,y,g,b){var A=F();try{return S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Pe(e,n,a,c,s){var h=F();try{return S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function cn(e,n,a,c,s,h,l,y,g,b,A,W,L,O){var N=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function C(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function M(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function pr(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function un(e,n,a,c,s,h,l,y){var g=F();try{S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function sn(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function fn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X){var rt=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function hn(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function In(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function Wn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt){var At=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function xn(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Un(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Bn(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function Rn(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Ln(e,n,a,c,s,h){var l=F();try{S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Hn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt){var ut=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt)}catch(Tt){if(D(ut),Tt!==Tt+0)throw Tt;E(1,0)}}function $n(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X){var rt=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function Nn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G){var X=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G)}catch(rt){if(D(X),rt!==rt+0)throw rt;E(1,0)}}function zn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N){var G=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function jn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt,At){var Et=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt,At)}catch(oe){if(D(Et),oe!==oe+0)throw oe;E(1,0)}}function Gn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut){var Tt=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut)}catch(At){if(D(Tt),At!==At+0)throw At;E(1,0)}}function Yn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X){var rt=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function qn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt){var At=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function Jn(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Kn(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function Xn(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N){var G=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function Zn(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Qn(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Vn(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function to(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function eo(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;return E(1,0),0n}}function ro(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function no(e,n,a,c,s,h){var l=F();try{S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function oo(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function ao(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function io(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function co(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function uo(e,n,a,c,s,h,l,y){var g=F();try{S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function so(e,n,a,c,s,h,l,y){var g=F();try{S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function fo(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function ho(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function lo(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function vo(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function yo(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function po(e,n,a,c,s,h){var l=F();try{S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function go(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function wo(e,n,a,c,s,h,l,y){var g=F();try{return S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function mo(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N){var G=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function Oo(e,n,a,c,s,h,l,y,g,b,A,W,L,O){var N=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function bo(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N){var G=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function _o(e,n,a){var c=F();try{S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function To(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function Ao(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt,At,Et,oe,Ma,Ca,ka){var Pa=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt,At,Et,oe,Ma,Ca,ka)}catch(gr){if(D(Pa),gr!==gr+0)throw gr;E(1,0)}}function Eo(e,n,a,c,s,h){var l=F();try{S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function So(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function Mo(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function Co(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function ko(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt,At){var Et=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt,At)}catch(oe){if(D(Et),oe!==oe+0)throw oe;E(1,0)}}function Po(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function Fo(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function Do(e,n,a,c,s,h,l,y,g,b,A,W,L,O){var N=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function Io(e,n,a,c,s,h,l,y){var g=F();try{S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function Wo(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X){var rt=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function xo(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt){var At=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function Uo(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut){var Tt=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut)}catch(At){if(D(Tt),At!==At+0)throw At;E(1,0)}}function Bo(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function Ro(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function Lo(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt){var At=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function Ho(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function $o(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function No(e,n,a,c,s){var h=F();try{return S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function zo(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;return E(1,0),0n}}function jo(e,n,a,c,s,h,l){var y=F();try{S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Go(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Yo(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function qo(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Jo(e,n,a,c,s,h,l,y,g){var b=F();try{S(e)(n,a,c,s,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Ko(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function Xo(e,n,a,c,s,h,l,y){var g=F();try{return S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function Zo(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function Qo(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Vo(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function ta(e,n,a,c,s,h,l,y,g,b,A,W){var L=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function ea(e,n,a,c,s,h,l,y){var g=F();try{return S(e)(n,a,c,s,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function ra(e,n,a,c,s,h,l,y,g,b,A){var W=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A)}catch(L){if(D(W),L!==L+0)throw L;E(1,0)}}function na(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function oa(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{return S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function aa(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function ia(e,n,a,c,s,h,l){var y=F();try{return S(e)(n,a,c,s,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function ca(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function ua(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function sa(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function fa(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function ha(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function da(e,n,a,c){var s=F();try{S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function la(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function va(e,n,a,c,s){var h=F();try{S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function ya(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function pa(e,n,a,c,s,h,l,y,g,b,A,W,L){var O=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function ga(e,n,a,c,s,h,l,y,g,b){var A=F();try{S(e)(n,a,c,s,h,l,y,g,b)}catch(W){if(D(A),W!==W+0)throw W;E(1,0)}}function wa(e,n,a,c){var s=F();try{return S(e)(n,a,c)}catch(h){if(D(s),h!==h+0)throw h;E(1,0)}}function ma(e,n,a,c,s){var h=F();try{return S(e)(n,a,c,s)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function Oa(e){var n=F();try{return S(e)()}catch(a){if(D(n),a!==a+0)throw a;return E(1,0),0n}}function ba(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function _a(e,n,a,c,s,h){var l=F();try{return S(e)(n,a,c,s,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Ta(e,n,a,c,s,h,l,y,g,b,A,W,L,O,N,G){var X=F();try{S(e)(n,a,c,s,h,l,y,g,b,A,W,L,O,N,G)}catch(rt){if(D(X),rt!==rt+0)throw rt;E(1,0)}}function Aa(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function Ea(e,n,a){var c=F();try{return S(e)(n,a)}catch(s){if(D(c),s!==s+0)throw s;E(1,0)}}function Sa(){var e=V;e=Object.assign({},e);var n=c=>()=>c()>>>0,a=c=>s=>c(s)>>>0;return e.__errno_location=n(e.__errno_location),e.Yd=a(e.Yd),e._d=a(e._d),e.de=n(e.de),e.fe=a(e.fe),e}T.stackAlloc=sr,T.stackSave=F,T.stackRestore=D,T.UTF8ToString=ee,T.stringToUTF8=(e,n,a)=>ce(e,bt,n,a),T.lengthBytesUTF8=ge;var Je;Wt=function e(){Je||dn(),Je||(Wt=e)};function dn(){if(!(0<Ut)){for(;0<pt.length;)pt.shift()(T);if(!(0<Ut||Je||(Je=!0,T.calledRun=!0,xt))){for(;0<se.length;)se.shift()(T);for(z(T);0<$t.length;)$t.shift()(T)}}}return dn(),H.ready}})();typeof Ka=="object"&&typeof La=="object"?La.exports=Ja:typeof define=="function"&&define.amd&&define([],()=>Ja)});var Za=wr(()=>{});var Qa=wr(()=>{});var Va={};Wa(Va,{cpus:()=>mc});var mc,ti=Ia(()=>{mc=void 0});var ni=wr((ri,Ha)=>{"use strict";var ei=(()=>{var x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(x=x||__filename),function(H={}){function T(){return pt.buffer!=gt.buffer&&vt(),gt}function z(){return pt.buffer!=gt.buffer&&vt(),Wt}function Y(){return pt.buffer!=gt.buffer&&vt(),ve}function Q(){return pt.buffer!=gt.buffer&&vt(),ae}function B(){return pt.buffer!=gt.buffer&&vt(),Vt}function q(){return pt.buffer!=gt.buffer&&vt(),ye}function at(){return pt.buffer!=gt.buffer&&vt(),Ee}var U=H,it,yt;U.ready=new Promise((t,r)=>{it=t,yt=r});var st=Object.assign({},U),ft="./this.program",wt=(t,r)=>{throw r},ht=typeof window=="object",lt=typeof importScripts=="function",mt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",tt=U.ENVIRONMENT_IS_PTHREAD||!1,xt="";function Lt(t){return U.locateFile?U.locateFile(t,xt):xt+t}var bt,Gt,Qt;if(mt){var J=(Ua(),mr(xa)),ct=(Ra(),mr(Ba));xt=lt?ct.dirname(xt)+"/":__dirname+"/",bt=(r,o)=>(r=r.startsWith("file://")?new URL(r):ct.normalize(r),J.readFileSync(r,o?void 0:"utf8")),Qt=r=>(r=bt(r,!0),r.buffer||(r=new Uint8Array(r)),r),Gt=(r,o,i,u=!0)=>{r=r.startsWith("file://")?new URL(r):ct.normalize(r),J.readFile(r,u?void 0:"utf8",(f,d)=>{f?i(f):o(u?d.buffer:d)})},!U.thisProgram&&1<process.argv.length&&(ft=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),wt=(r,o)=>{throw process.exitCode=r,o},U.inspect=()=>"[Emscripten Module object]";let t;try{t=Za()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=t.Worker}else(ht||lt)&&(lt?xt=self.location.href:typeof document<"u"&&document.currentScript&&(xt=document.currentScript.src),typeof x<"u"&&x&&(xt=x),xt.indexOf("blob:")!==0?xt=xt.substr(0,xt.replace(/[?#].*/,"").lastIndexOf("/")+1):xt="",mt||(bt=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(null),r.responseText},lt&&(Qt=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Gt=(t,r,o)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):o()},i.onerror=o,i.send(null)}));mt&&typeof performance>"u"&&(global.performance=Qa().performance);var be=console.log.bind(console),_e=console.error.bind(console);mt&&(be=(...t)=>J.writeSync(1,t.join(" ")+`\n`),_e=(...t)=>J.writeSync(2,t.join(" ")+`\n`));var Te=be,Dt=_e;Object.assign(U,st),st=null;var dt=!0;typeof WebAssembly!="object"&&ue("no native wasm support detected");var pt,se,$t=!1,Ut,gt,Wt,ve,ae,Vt,ye,Ae,Nt,te,Ee;function vt(){var t=pt.buffer;U.HEAP8=gt=new Int8Array(t),U.HEAP16=ve=new Int16Array(t),U.HEAPU8=Wt=new Uint8Array(t),U.HEAPU16=ae=new Uint16Array(t),U.HEAP32=Vt=new Int32Array(t),U.HEAPU32=ye=new Uint32Array(t),U.HEAPF32=Ae=new Float32Array(t),U.HEAPF64=Ee=new Float64Array(t),U.HEAP64=Nt=new BigInt64Array(t),U.HEAPU64=te=new BigUint64Array(t)}var _t=16777216;if(5242880<=_t||ue("INITIAL_MEMORY should be larger than STACK_SIZE, was "+_t+"! (STACK_SIZE=5242880)"),tt)pt=U.wasmMemory;else if(pt=new WebAssembly.Memory({initial:_t/65536,maximum:65536,shared:!0}),!(pt.buffer instanceof SharedArrayBuffer))throw Dt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),mt&&Dt("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");vt(),_t=pt.buffer.byteLength;var Ht=[],ie=[],pe=[],Ke=0;function Se(){return dt||0<Ke}var ee=0,ge=null,ce=null;function Xe(){if(ee--,ee==0&&(ge!==null&&(clearInterval(ge),ge=null),ce)){var t=ce;ce=null,t()}}function ue(t){throw t="Aborted("+t+")",Dt(t),$t=!0,Ut=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),yt(t),t}function Yt(t){return t.startsWith("data:application/octet-stream;base64,")}var fe;fe="ort-wasm-threaded.wasm",Yt(fe)||(fe=Lt(fe));function Fe(t){if(Qt)return Qt(t);throw"both async and sync fetching of the wasm failed"}function yn(t){if(ht||lt){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+t+"\'";return r.arrayBuffer()}).catch(()=>Fe(t));if(Gt)return new Promise((r,o)=>{Gt(t,i=>r(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Fe(t))}function re(t,r,o){return yn(t).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(o,i=>{Dt(`failed to asynchronously prepare wasm: ${i}`),ue(i)})}function pn(t,r){var o=fe;return typeof WebAssembly.instantiateStreaming!="function"||Yt(o)||o.startsWith("file://")||mt||typeof fetch!="function"?re(o,t,r):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,t).then(r,function(u){return Dt(`wasm streaming compile failed: ${u}`),Dt("falling back to ArrayBuffer instantiation"),re(o,t,r)}))}function qt(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var De=t=>{t.terminate(),t.onmessage=()=>{}},Ze=t=>{if(et.Oe.length==0){var r=Lt("ort-wasm-threaded.worker.js");r=new Worker(r),et.Oe.push(r),et.qf(et.Oe[0])}if(r=et.Oe.pop(),!r)return 6;et.Le.push(r),et.He[t.Ke]=r,r.Ke=t.Ke;var o={cmd:"run",start_routine:t.sf,arg:t.kf,pthread_ptr:t.Ke};return mt&&r.unref(),r.postMessage(o,t.yf),0},zt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ie=(t,r,o)=>{r>>>=0;var i=r+o;for(o=r;t[o]&&!(o>=i);)++o;if(16<o-r&&t.buffer&&zt)return zt.decode(t.buffer instanceof SharedArrayBuffer?t.slice(r,o):t.subarray(r,o));for(i="";r<o;){var u=t[r++];if(u&128){var f=t[r++]&63;if((u&224)==192)i+=String.fromCharCode((u&31)<<6|f);else{var d=t[r++]&63;u=(u&240)==224?(u&15)<<12|f<<6|d:(u&7)<<18|f<<12|d<<6|t[r++]&63,65536>u?i+=String.fromCharCode(u):(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else i+=String.fromCharCode(u)}return i},It=(t,r)=>(t>>>=0)?Ie(z(),t,r):"";function jt(t){if(tt)return Ot(0,1,t);Ut=t,Se()||(et.tf(),$t=!0),wt(t,new qt(t))}var We=t=>{if(Ut=t,tt)throw _r(t),"unwind";jt(t)};function gn(){Ht.unshift(()=>{ee++,Xe()})}var et={Oe:[],Le:[],df:[],He:{},Ve(){tt?(et.receiveObjectTransfer=et.rf,et.threadInitTLS=et.cf,et.setExitStatus=et.$e,dt=!1):gn()},$e:t=>{Ut=t},Bf:["$terminateWorker"],tf:()=>{for(var t of et.Le)De(t);for(t of et.Oe)De(t);et.Oe=[],et.Le=[],et.He=[]},Ze:t=>{var r=t.Ke;delete et.He[r],et.Oe.push(t),et.Le.splice(et.Le.indexOf(t),1),t.Ke=0,vr(r)},rf(){},cf(){et.df.forEach(t=>t())},qf:t=>new Promise(r=>{t.onmessage=f=>{f=f.data;var d=f.cmd;if(f.targetThread&&f.targetThread!=Ye()){var v=et.He[f.targetThread];v?v.postMessage(f,f.transferList):Dt(`Internal error! Worker sent a message "${d}" to target pthread ${f.targetThread}, but that thread no longer exists!`)}else d==="checkMailbox"?$e():d==="spawnThread"?Ze(f):d==="cleanupThread"?((f=et.He[f.thread])||ue(),et.Ze(f)):d==="killThread"?(f=f.thread,d=et.He[f],delete et.He[f],De(d),vr(f),et.Le.splice(et.Le.indexOf(d),1),d.Ke=0):d==="cancelThread"?et.He[f.thread].postMessage({cmd:"cancel"}):d==="loaded"?(t.loaded=!0,r(t)):d==="alert"?alert(`Thread ${f.threadId}: ${f.text}`):f.target==="setimmediate"?t.postMessage(f):d==="callHandler"?U[f.handler](...f.args):d&&Dt(`worker sent an unknown command ${d}`)},t.onerror=f=>{throw Dt(`worker sent an error! ${f.filename}:${f.lineno}: ${f.message}`),f},mt&&(t.on("message",f=>t.onmessage({data:f})),t.on("error",f=>t.onerror(f)));var o=[],i=[],u;for(u of i)U.hasOwnProperty(u)&&o.push(u);t.postMessage({cmd:"load",handlers:o,urlOrBlob:U.mainScriptUrlOrBlob||x,wasmMemory:pt,wasmModule:se})})};U.PThread=et;var Me=t=>{for(;0<t.length;)t.shift()(U)};U.establishStackSpace=()=>{var t=Ye(),r=q()[t+52>>>2>>>0];t=q()[t+56>>>2>>>0],cn(r,r-t),M(r)};function _r(t){if(tt)return Ot(1,0,t);We(t)}var xe=[],Tr,P=t=>{var r=xe[t];return r||(t>=xe.length&&(xe.length=t+1),xe[t]=r=Tr.get(t)),r};U.invokeEntryPoint=(t,r)=>{t=P(t)(r),Se()?et.$e(t):yr(t)};var Ue=[],Be=0,Jt=0;function Qe(t){this.Qe=t,this.Ge=t-24,this.jf=function(r){q()[this.Ge+4>>>2>>>0]=r},this.Re=function(){return q()[this.Ge+4>>>2>>>0]},this.hf=function(r){q()[this.Ge+8>>>2>>>0]=r},this.af=function(r){r=r?1:0,T()[this.Ge+12>>>0>>>0]=r},this.ff=function(){return T()[this.Ge+12>>>0>>>0]!=0},this.bf=function(r){r=r?1:0,T()[this.Ge+13>>>0>>>0]=r},this.mf=function(){return T()[this.Ge+13>>>0>>>0]!=0},this.Ve=function(r,o){this.Se(0),this.jf(r),this.hf(o)},this.Se=function(r){q()[this.Ge+16>>>2>>>0]=r},this.ef=function(){return q()[this.Ge+16>>>2>>>0]},this.gf=function(){if(hn(this.Re()))return q()[this.Qe>>>2>>>0];var r=this.ef();return r!==0?r:this.Qe}}var he=t=>{var r=Jt;if(!r)return Pe(0),0;var o=new Qe(r);o.Se(r);var i=o.Re();if(!i)return Pe(0),r;for(var u in t){var f=t[u];if(f===0||f===i)break;if(fn(f,i,o.Ge+16))return Pe(f),r}return Pe(i),r};function Ce(t,r,o,i){return tt?Ot(2,1,t,r,o,i):Ve(t,r,o,i)}function Ve(t,r,o,i){if(t>>>=0,r>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return Dt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var u=[];return tt&&u.length===0?Ce(t,r,o,i):(t={sf:o,Ke:t,kf:i,yf:u},tt?(t.Af="spawnThread",postMessage(t,u),0):Ze(t))}function Ar(t,r,o){return tt?Ot(3,1,t,r,o):0}function Er(t,r){if(tt)return Ot(4,1,t,r)}var ke=t=>{for(var r=0,o=0;o<t.length;++o){var i=t.charCodeAt(o);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++o):r+=3}return r},tr=(t,r,o,i)=>{if(o>>>=0,!(0<i))return 0;var u=o;i=o+i-1;for(var f=0;f<t.length;++f){var d=t.charCodeAt(f);if(55296<=d&&57343>=d){var v=t.charCodeAt(++f);d=65536+((d&1023)<<10)|v&1023}if(127>=d){if(o>=i)break;r[o++>>>0]=d}else{if(2047>=d){if(o+1>=i)break;r[o++>>>0]=192|d>>6}else{if(65535>=d){if(o+2>=i)break;r[o++>>>0]=224|d>>12}else{if(o+3>=i)break;r[o++>>>0]=240|d>>18,r[o++>>>0]=128|d>>12&63}r[o++>>>0]=128|d>>6&63}r[o++>>>0]=128|d&63}}return r[o>>>0]=0,o-u},er=(t,r,o)=>tr(t,z(),r,o);function Sr(t,r){if(tt)return Ot(5,1,t,r)}function Mr(t,r,o){if(tt)return Ot(6,1,t,r,o)}function rr(t,r,o){return tt?Ot(7,1,t,r,o):0}function de(t,r){if(tt)return Ot(8,1,t,r)}function nr(t,r,o){if(tt)return Ot(9,1,t,r,o)}function or(t,r,o,i){if(tt)return Ot(10,1,t,r,o,i)}function ar(t,r,o,i){if(tt)return Ot(11,1,t,r,o,i)}function Re(t,r,o,i){if(tt)return Ot(12,1,t,r,o,i)}function ir(t){if(tt)return Ot(13,1,t)}function Le(t,r){if(tt)return Ot(14,1,t,r)}function Cr(t,r,o){if(tt)return Ot(15,1,t,r,o)}var cr=t=>{if(t===null)return"null";var r=typeof t;return r==="object"||r==="array"||r==="function"?t.toString():""+t},ur,Xt=t=>{for(var r="";z()[t>>>0];)r+=ur[z()[t++>>>0]];return r},He={},we={},kr={},S;function Pr(t,r,o={}){var i=r.name;if(!t)throw new S(`type "${i}" must have a positive integer typeid pointer`);if(we.hasOwnProperty(t)){if(o.nf)return;throw new S(`Cannot register type \'${i}\' twice`)}we[t]=r,delete kr[t],He.hasOwnProperty(t)&&(r=He[t],delete He[t],r.forEach(u=>u()))}function Kt(t,r,o={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");Pr(t,r,o)}var Fr=(t,r,o)=>{switch(r){case 1:return o?i=>T()[i>>>0>>>0]:i=>z()[i>>>0>>>0];case 2:return o?i=>Y()[i>>>1>>>0]:i=>Q()[i>>>1>>>0];case 4:return o?i=>B()[i>>>2>>>0]:i=>q()[i>>>2>>>0];case 8:return o?i=>Nt[i>>>3]:i=>te[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${t}`)}};function V(){this.Je=[void 0],this.Xe=[]}var Bt=new V;function Zt(t){t>>>=0,t>=Bt.Ge&&--Bt.get(t).Ye===0&&Bt.Se(t)}var Rt=t=>{if(!t)throw new S("Cannot use deleted val. handle = "+t);return Bt.get(t).value},E=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Bt.Re({Ye:1,value:t})}};function me(t){return this.fromWireType(B()[t>>>2>>>0])}var F=(t,r)=>{switch(r){case 4:return function(o){var i=this.fromWireType;return pt.buffer!=gt.buffer&&vt(),i.call(this,Ae[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(at()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${t}`)}};function D(t){return this.fromWireType(q()[t>>>2>>>0])}var sr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Dr=(t,r)=>{for(var o=t>>1,i=o+r/2;!(o>=i)&&Q()[o>>>0];)++o;if(o<<=1,32<o-t&&sr)return sr.decode(z().slice(t,o));for(o="",i=0;!(i>=r/2);++i){var u=Y()[t+2*i>>>1>>>0];if(u==0)break;o+=String.fromCharCode(u)}return o},Ir=(t,r,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=r;o=o<2*t.length?o/2:t.length;for(var u=0;u<o;++u){var f=t.charCodeAt(u);Y()[r>>>1>>>0]=f,r+=2}return Y()[r>>>1>>>0]=0,r-i},Wr=t=>2*t.length,xr=(t,r)=>{for(var o=0,i="";!(o>=r/4);){var u=B()[t+4*o>>>2>>>0];if(u==0)break;++o,65536<=u?(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023)):i+=String.fromCharCode(u)}return i},wn=(t,r,o)=>{if(r>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var i=r;o=i+o-4;for(var u=0;u<t.length;++u){var f=t.charCodeAt(u);if(55296<=f&&57343>=f){var d=t.charCodeAt(++u);f=65536+((f&1023)<<10)|d&1023}if(B()[r>>>2>>>0]=f,r+=4,r+4>o)break}return B()[r>>>2>>>0]=0,r-i},mn=t=>{for(var r=0,o=0;o<t.length;++o){var i=t.charCodeAt(o);55296<=i&&57343>=i&&++o,r+=4}return r},On=t=>{if(!$t)try{if(t(),!Se())try{tt?yr(Ut):We(Ut)}catch(r){r instanceof qt||r=="unwind"||wt(1,r)}}catch(r){r instanceof qt||r=="unwind"||wt(1,r)}};function fr(t){t>>>=0,typeof Atomics.zf=="function"&&(Atomics.zf(B(),t>>>2,t).value.then($e),t+=128,Atomics.store(B(),t>>>2,1))}U.__emscripten_thread_mailbox_await=fr;var $e=()=>{var t=Ye();t&&(fr(t),On(()=>an()))};U.checkMailbox=$e;var bn=t=>{var r=C();return t=t(),M(r),t};function Ot(t,r){var o=arguments.length-2,i=arguments;return bn(()=>{for(var u=2*o,f=pr(8*u),d=f>>>3,v=0;v<o;v++){var p=i[2+v];typeof p=="bigint"?(Nt[d+2*v]=1n,Nt[d+2*v+1]=p):(Nt[d+2*v]=0n,at()[d+2*v+1>>>0]=p)}return on(t,u,f,r)})}var hr=[],Ne=(t,r)=>{var o=we[t];if(o===void 0)throw t=rn(t),o=Xt(t),ne(t),new S(r+" has unknown type "+o);return o},_n={},ze=t=>{var r=_n[t];return r===void 0?Xt(t):r},je=[],Ur=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Tn=t=>{var r=je.length;return je.push(t),r},An=(t,r)=>{for(var o=Array(t),i=0;i<t;++i)o[i]=Ne(q()[r+4*i>>>2>>>0],"parameter "+i);return o},Br=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var r=t.charCodeAt(0);return 48<=r&&57>=r?`_${t}`:t},Rr={};function En(t,r){return t=Br(t),{[t]:function(){return r.apply(this,arguments)}}[t]}function Sn(t){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var o=En(r.name||"unknownFunctionName",function(){});return o.prototype=r.prototype,o=new o,t=r.apply(o,t),t instanceof Object?t:o}var Mn=t=>{for(var r="",o=0;o<t;++o)r+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+t+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<t;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+r+`);\nreturn valueToHandle(obj);\n}\n`))(Ne,U,E,()=>q())},Lr={},Oe=t=>t%4===0&&(t%100!==0||t%400===0),Hr=[0,31,60,91,121,152,182,213,244,274,305,335],$r=[0,31,59,90,120,151,181,212,243,273,304,334];function Nr(t,r,o,i,u,f,d){return tt?Ot(16,1,t,r,o,i,u,f,d):-52}function zr(t,r,o,i,u,f){if(tt)return Ot(17,1,t,r,o,i,u,f)}var jr=t=>{var r=ke(t)+1,o=qe(r);return o&&er(t,o,r),o},dr={},Gr=()=>{if(!lr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ft||"./this.program"},r;for(r in dr)dr[r]===void 0?delete t[r]:t[r]=dr[r];var o=[];for(r in t)o.push(`${r}=${t[r]}`);lr=o}return lr},lr;function Yr(t,r){if(tt)return Ot(18,1,t,r);t>>>=0,r>>>=0;var o=0;return Gr().forEach((i,u)=>{var f=r+o;for(u=q()[t+4*u>>>2>>>0]=f,f=0;f<i.length;++f)T()[u++>>>0>>>0]=i.charCodeAt(f);T()[u>>>0>>>0]=0,o+=i.length+1}),0}function qr(t,r){if(tt)return Ot(19,1,t,r);t>>>=0,r>>>=0;var o=Gr();q()[t>>>2>>>0]=o.length;var i=0;return o.forEach(u=>i+=u.length+1),q()[r>>>2>>>0]=i,0}function Jr(t){return tt?Ot(20,1,t):52}function Kr(t,r,o,i){return tt?Ot(21,1,t,r,o,i):52}function Xr(t,r,o,i){return tt?Ot(22,1,t,r,o,i):70}var Cn=[null,[],[]];function Zr(t,r,o,i){if(tt)return Ot(23,1,t,r,o,i);r>>>=0,o>>>=0,i>>>=0;for(var u=0,f=0;f<o;f++){var d=q()[r>>>2>>>0],v=q()[r+4>>>2>>>0];r+=8;for(var p=0;p<v;p++){var w=z()[d+p>>>0],_=Cn[t];w===0||w===10?((t===1?Te:Dt)(Ie(_,0)),_.length=0):_.push(w)}u+=v}return q()[i>>>2>>>0]=u,0}var Qr=[31,29,31,30,31,30,31,31,30,31,30,31],Vr=[31,28,31,30,31,30,31,31,30,31,30,31];function kn(t){var r=Array(ke(t)+1);return tr(t,r,0,r.length),r}var Pn=(t,r)=>{T().set(t,r>>>0)};function tn(t,r,o,i){function u(m,$,j){for(m=typeof m=="number"?m.toString():m||"";m.length<$;)m=j[0]+m;return m}function f(m,$){return u(m,$,"0")}function d(m,$){function j(nt){return 0>nt?-1:0<nt?1:0}var K;return(K=j(m.getFullYear()-$.getFullYear()))===0&&(K=j(m.getMonth()-$.getMonth()))===0&&(K=j(m.getDate()-$.getDate())),K}function v(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function p(m){var $=m.Me;for(m=new Date(new Date(m.Ne+1900,0,1).getTime());0<$;){var j=m.getMonth(),K=(Oe(m.getFullYear())?Qr:Vr)[j];if($>K-m.getDate())$-=K-m.getDate()+1,m.setDate(1),11>j?m.setMonth(j+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+$);break}}return j=new Date(m.getFullYear()+1,0,4),$=v(new Date(m.getFullYear(),0,4)),j=v(j),0>=d($,m)?0>=d(j,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}t>>>=0,r>>>=0,o>>>=0,i>>>=0;var w=q()[i+40>>>2>>>0];i={wf:B()[i>>>2>>>0],vf:B()[i+4>>>2>>>0],Te:B()[i+8>>>2>>>0],We:B()[i+12>>>2>>>0],Ue:B()[i+16>>>2>>>0],Ne:B()[i+20>>>2>>>0],Ie:B()[i+24>>>2>>>0],Me:B()[i+28>>>2>>>0],Cf:B()[i+32>>>2>>>0],uf:B()[i+36>>>2>>>0],xf:w?It(w):""},o=It(o),w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in w)o=o.replace(new RegExp(_,"g"),w[_]);var I="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),R="January February March April May June July August September October November December".split(" ");w={"%a":m=>I[m.Ie].substring(0,3),"%A":m=>I[m.Ie],"%b":m=>R[m.Ue].substring(0,3),"%B":m=>R[m.Ue],"%C":m=>f((m.Ne+1900)/100|0,2),"%d":m=>f(m.We,2),"%e":m=>u(m.We,2," "),"%g":m=>p(m).toString().substring(2),"%G":m=>p(m),"%H":m=>f(m.Te,2),"%I":m=>(m=m.Te,m==0?m=12:12<m&&(m-=12),f(m,2)),"%j":m=>{for(var $=0,j=0;j<=m.Ue-1;$+=(Oe(m.Ne+1900)?Qr:Vr)[j++]);return f(m.We+$,3)},"%m":m=>f(m.Ue+1,2),"%M":m=>f(m.vf,2),"%n":()=>`\n`,"%p":m=>0<=m.Te&&12>m.Te?"AM":"PM","%S":m=>f(m.wf,2),"%t":()=>"	","%u":m=>m.Ie||7,"%U":m=>f(Math.floor((m.Me+7-m.Ie)/7),2),"%V":m=>{var $=Math.floor((m.Me+7-(m.Ie+6)%7)/7);if(2>=(m.Ie+371-m.Me-2)%7&&$++,$)$==53&&(j=(m.Ie+371-m.Me)%7,j==4||j==3&&Oe(m.Ne)||($=1));else{$=52;var j=(m.Ie+7-m.Me-1)%7;(j==4||j==5&&Oe(m.Ne%400-1))&&$++}return f($,2)},"%w":m=>m.Ie,"%W":m=>f(Math.floor((m.Me+7-(m.Ie+6)%7)/7),2),"%y":m=>(m.Ne+1900).toString().substring(2),"%Y":m=>m.Ne+1900,"%z":m=>{m=m.uf;var $=0<=m;return m=Math.abs(m)/60,($?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.xf,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(_ in w)o.includes(_)&&(o=o.replace(new RegExp(_,"g"),w[_](i)));return o=o.replace(/\\0\\0/g,"%"),_=kn(o),_.length>r?0:(Pn(_,t),_.length-1)}et.Ve();for(var en=Array(256),Ge=0;256>Ge;++Ge)en[Ge]=String.fromCharCode(Ge);ur=en,S=U.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},U.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(V.prototype,{get(t){return this.Je[t]},has(t){return this.Je[t]!==void 0},Re(t){var r=this.Xe.pop()||this.Je.length;return this.Je[r]=t,r},Se(t){this.Je[t]=void 0,this.Xe.push(t)}}),Bt.Je.push({value:void 0},{value:null},{value:!0},{value:!1}),Bt.Ge=Bt.Je.length,U.count_emval_handles=()=>{for(var t=0,r=Bt.Ge;r<Bt.Je.length;++r)Bt.Je[r]!==void 0&&++t;return t};var Fn=[jt,_r,Ce,Ar,Er,Sr,Mr,rr,de,nr,or,ar,Re,ir,Le,Cr,Nr,zr,Yr,qr,Jr,Kr,Xr,Zr],Dn={u:function(t){return t=new Qe(t>>>0),t.ff()||(t.af(!0),Be--),t.bf(!1),Ue.push(t),sn(t.Qe),t.gf()},N:()=>{k(0,0);var t=Ue.pop();un(t.Qe),Jt=0},b:function(){return he([])},n:function(t){return he([t>>>0])},y:function(t,r){return he([t>>>0,r>>>0])},q:function(t,r,o){return he([t>>>0,r>>>0,o>>>0])},yb:()=>{var t=Ue.pop();t||ue("no exception to throw");var r=t.Qe;throw t.mf()||(Ue.push(t),t.bf(!0),t.af(!1),Be++),Jt=r,Jt},t:function(t,r,o){throw t>>>=0,new Qe(t).Ve(r>>>0,o>>>0),Jt=t,Be++,Jt},Ta:()=>Be,Vc:function(t){nn(t>>>0,!lt,1,!ht,131072,!1),et.cf()},Tb:function(t){t>>>=0,tt?postMessage({cmd:"cleanupThread",thread:t}):((t=et.He[t])||ue(),et.Ze(t))},Lc:Ve,h:function(t){throw Jt||(Jt=t>>>0),Jt},zb:Ar,$c:Er,Gc:Sr,Ic:Mr,zc:rr,Zc:de,Sc:nr,Yc:or,Vb:ar,Hc:Re,Ec:ir,_c:Le,Fc:Cr,Yb:function(t,r,o,i,u){t>>>=0,r>>>=0,o>>>=0,r=Xt(r);var f=r.indexOf("u")!=-1;f&&(u=(1n<<64n)-1n),Kt(t,{name:r,fromWireType:d=>d,toWireType:function(d,v){if(typeof v!="bigint"&&typeof v!="number")throw new TypeError(`Cannot convert "${cr(v)}" to ${this.name}`);if(v<i||v>u)throw new TypeError(`Passing a number "${cr(v)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${u}]!`);return v},argPackAdvance:8,readValueFromPointer:Fr(r,o,!f),Pe:null})},ed:function(t,r,o,i){t>>>=0,r=Xt(r>>>0),Kt(t,{name:r,fromWireType:function(u){return!!u},toWireType:function(u,f){return f?o:i},argPackAdvance:8,readValueFromPointer:function(u){return this.fromWireType(z()[u>>>0])},Pe:null})},dd:function(t,r){t>>>=0,r=Xt(r>>>0),Kt(t,{name:r,fromWireType:o=>{var i=Rt(o);return Zt(o),i},toWireType:(o,i)=>E(i),argPackAdvance:8,readValueFromPointer:me,Pe:null})},Xb:function(t,r,o){t>>>=0,o>>>=0,r=Xt(r>>>0),Kt(t,{name:r,fromWireType:i=>i,toWireType:(i,u)=>u,argPackAdvance:8,readValueFromPointer:F(r,o),Pe:null})},wa:function(t,r,o,i,u){if(t>>>=0,o>>>=0,r=Xt(r>>>0),u===-1&&(u=4294967295),u=v=>v,i===0){var f=32-8*o;u=v=>v<<f>>>f}var d=r.includes("unsigned")?function(v,p){return p>>>0}:function(v,p){return p};Kt(t,{name:r,fromWireType:u,toWireType:d,argPackAdvance:8,readValueFromPointer:Fr(r,o,i!==0),Pe:null})},_:function(t,r,o){function i(f){var d=q()[f>>>2>>>0];return f=q()[f+4>>>2>>>0],new u(T().buffer,f,d)}t>>>=0;var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];o=Xt(o>>>0),Kt(t,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{nf:!0})},Zb:function(t,r){t>>>=0,r=Xt(r>>>0);var o=r==="std::string";Kt(t,{name:r,fromWireType:function(i){var u=q()[i>>>2>>>0],f=i+4;if(o)for(var d=f,v=0;v<=u;++v){var p=f+v;if(v==u||z()[p>>>0]==0){if(d=It(d,p-d),w===void 0)var w=d;else w+=String.fromCharCode(0),w+=d;d=p+1}}else{for(w=Array(u),v=0;v<u;++v)w[v]=String.fromCharCode(z()[f+v>>>0]);w=w.join("")}return ne(i),w},toWireType:function(i,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var f=typeof u=="string";if(!(f||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array))throw new S("Cannot pass non-string to std::string");var d=o&&f?ke(u):u.length,v=qe(4+d+1),p=v+4;if(q()[v>>>2>>>0]=d,o&&f)er(u,p,d+1);else if(f)for(f=0;f<d;++f){var w=u.charCodeAt(f);if(255<w)throw ne(p),new S("String has UTF-16 code units that do not fit in 8 bits");z()[p+f>>>0]=w}else for(f=0;f<d;++f)z()[p+f>>>0]=u[f];return i!==null&&i.push(ne,v),v},argPackAdvance:8,readValueFromPointer:D,Pe(i){ne(i)}})},Bb:function(t,r,o){if(t>>>=0,r>>>=0,o>>>=0,o=Xt(o),r===2)var i=Dr,u=Ir,f=Wr,d=()=>Q(),v=1;else r===4&&(i=xr,u=wn,f=mn,d=()=>q(),v=2);Kt(t,{name:o,fromWireType:p=>{for(var w=q()[p>>>2>>>0],_=d(),I,R=p+4,m=0;m<=w;++m){var $=p+4+m*r;(m==w||_[$>>>v]==0)&&(R=i(R,$-R),I===void 0?I=R:(I+=String.fromCharCode(0),I+=R),R=$+r)}return ne(p),I},toWireType:(p,w)=>{if(typeof w!="string")throw new S(`Cannot pass non-string to C++ string type ${o}`);var _=f(w),I=qe(4+_+r);return q()[I>>>2]=_>>v,u(w,I+4,_+r),p!==null&&p.push(ne,I),I},argPackAdvance:8,readValueFromPointer:me,Pe(p){ne(p)}})},jd:function(t,r){t>>>=0,r=Xt(r>>>0),Kt(t,{pf:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},cd:()=>!0,Cc:function(t,r){t>>>=0,t==r>>>0?setTimeout(()=>$e()):tt?postMessage({targetThread:t,cmd:"checkMailbox"}):(t=et.He[t])&&t.postMessage({cmd:"checkMailbox"})},Mc:function(t,r,o,i){r>>>=0,o/=2,hr.length=o,i=i>>>0>>>3;for(var u=0;u<o;u++)hr[u]=Nt[i+2*u]?Nt[i+2*u+1]:at()[i+2*u+1>>>0];return t=Fn[t],et.lf=r,r=t.apply(null,hr),et.lf=0,r},Uc:fr,bd:function(t){mt&&et.He[t>>>0].ref()},ud:function(t,r,o){r>>>=0,o>>>=0,t=Rt(t>>>0),r=Ne(r,"emval::as");var i=[],u=E(i);return q()[o>>>2>>>0]=u,r.toWireType(i,t)},ka:function(t,r,o,i,u){o>>>=0,i>>>=0,u>>>=0,t=je[t>>>0],r=Rt(r>>>0),o=ze(o);var f=[];return q()[i>>>2>>>0]=E(f),t(r,o,f,u)},Dd:function(t,r,o,i){o>>>=0,i>>>=0,t=je[t>>>0],r=Rt(r>>>0),o=ze(o),t(r,o,null,i)},yc:Zt,wd:function(t,r){return r>>>=0,t=Rt(t>>>0),r=Rt(r),t==r},Hd:function(t){return t>>>=0,t===0?E(Ur()):(t=ze(t),E(Ur()[t]))},la:function(t,r){var o=An(t,r>>>0),i=o[0];r=i.name+"_$"+o.slice(1).map(function(_){return _.name}).join("_")+"$";var u=Rr[r];if(u!==void 0)return u;u=["retType"];for(var f=[i],d="",v=0;v<t-1;++v)d+=(v!==0?", ":"")+"arg"+v,u.push("argType"+v),f.push(o[1+v]);var p="return function "+Br("methodCaller_"+r)+`(handle, name, destructors, args) {\n`,w=0;for(v=0;v<t-1;++v)p+="    var arg"+v+" = argType"+v+".readValueFromPointer(args"+(w?"+"+w:"")+`);\n`,w+=o[v+1].argPackAdvance;for(p+="    var rv = handle[name]("+d+`);\n`,v=0;v<t-1;++v)o[v+1].deleteObject&&(p+="    argType"+v+".deleteObject(arg"+v+`);\n`);return i.pf||(p+=`    return retType.toWireType(destructors, rv);\n`),u.push(p+`};\n`),t=Sn(u).apply(null,f),u=Tn(t),Rr[r]=u},Fd:function(t,r){return r>>>=0,t=Rt(t>>>0),r=Rt(r),E(t[r])},P:function(t){t>>>=0,4<t&&(Bt.get(t).Ye+=1)},zd:function(t,r,o,i){o>>>=0,i>>>=0,t=Rt(t>>>0);var u=Lr[r];return u||(u=Mn(r),Lr[r]=u),u(t,o,i)},od:function(){return E([])},rd:function(t){t=Rt(t>>>0);for(var r=Array(t.length),o=0;o<t.length;o++)r[o]=t[o];return E(r)},Y:function(t){return E(ze(t>>>0))},Sa:function(){return E({})},Ad:function(t){t>>>=0;for(var r=Rt(t);r.length;){var o=r.pop();r.pop()(o)}Zt(t)},yd:function(t,r,o){r>>>=0,o>>>=0,t=Rt(t>>>0),r=Rt(r),o=Rt(o),t[r]=o},gb:function(t,r){return r>>>=0,t=Ne(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(r),E(t)},Pc:function(t,r){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),r>>>=0,t=new Date(1e3*t),B()[r>>>2>>>0]=t.getUTCSeconds(),B()[r+4>>>2>>>0]=t.getUTCMinutes(),B()[r+8>>>2>>>0]=t.getUTCHours(),B()[r+12>>>2>>>0]=t.getUTCDate(),B()[r+16>>>2>>>0]=t.getUTCMonth(),B()[r+20>>>2>>>0]=t.getUTCFullYear()-1900,B()[r+24>>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,B()[r+28>>>2>>>0]=t},Qc:function(t,r){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),r>>>=0,t=new Date(1e3*t),B()[r>>>2>>>0]=t.getSeconds(),B()[r+4>>>2>>>0]=t.getMinutes(),B()[r+8>>>2>>>0]=t.getHours(),B()[r+12>>>2>>>0]=t.getDate(),B()[r+16>>>2>>>0]=t.getMonth(),B()[r+20>>>2>>>0]=t.getFullYear()-1900,B()[r+24>>>2>>>0]=t.getDay();var o=(Oe(t.getFullYear())?Hr:$r)[t.getMonth()]+t.getDate()-1|0;B()[r+28>>>2>>>0]=o,B()[r+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var i=new Date(t.getFullYear(),0,1).getTimezoneOffset();t=(o!=i&&t.getTimezoneOffset()==Math.min(i,o))|0,B()[r+32>>>2>>>0]=t},Rc:function(t){t>>>=0;var r=new Date(B()[t+20>>>2>>>0]+1900,B()[t+16>>>2>>>0],B()[t+12>>>2>>>0],B()[t+8>>>2>>>0],B()[t+4>>>2>>>0],B()[t>>>2>>>0],0),o=B()[t+32>>>2>>>0],i=r.getTimezoneOffset(),u=new Date(r.getFullYear(),6,1).getTimezoneOffset(),f=new Date(r.getFullYear(),0,1).getTimezoneOffset(),d=Math.min(f,u);return 0>o?B()[t+32>>>2>>>0]=+(u!=f&&d==i):0<o!=(d==i)&&(u=Math.max(f,u),r.setTime(r.getTime()+6e4*((0<o?d:u)-i))),B()[t+24>>>2>>>0]=r.getDay(),o=(Oe(r.getFullYear())?Hr:$r)[r.getMonth()]+r.getDate()-1|0,B()[t+28>>>2>>>0]=o,B()[t>>>2>>>0]=r.getSeconds(),B()[t+4>>>2>>>0]=r.getMinutes(),B()[t+8>>>2>>>0]=r.getHours(),B()[t+12>>>2>>>0]=r.getDate(),B()[t+16>>>2>>>0]=r.getMonth(),B()[t+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Nc:Nr,Oc:zr,Bc:function(t,r,o){function i(w){return(w=w.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?w[1]:"GMT"}t>>>=0,r>>>=0,o>>>=0;var u=new Date().getFullYear(),f=new Date(u,0,1),d=new Date(u,6,1);u=f.getTimezoneOffset();var v=d.getTimezoneOffset(),p=Math.max(u,v);q()[t>>>2>>>0]=60*p,B()[r>>>2>>>0]=+(u!=v),t=i(f),r=i(d),t=jr(t),r=jr(r),v<u?(q()[o>>>2>>>0]=t,q()[o+4>>>2>>>0]=r):(q()[o>>>2>>>0]=r,q()[o+4>>>2>>>0]=t)},ba:()=>{ue("")},Ub:()=>{},Wb:()=>Date.now(),ad:()=>{throw Ke+=1,"unwind"},Dc:function(){return 4294901760},va:()=>performance.timeOrigin+performance.now(),ib:()=>mt?(ti(),mr(Va)).cpus().length:navigator.hardwareConcurrency,Ac:function(t){t>>>=0;var r=z().length;if(t<=r||4294901760<t)return!1;for(var o=1;4>=o;o*=2){var i=r*(1+.2/o);i=Math.min(i,t+100663296);var u=Math;i=Math.max(t,i);t:{u=(u.min.call(u,4294901760,i+(65536-i%65536)%65536)-pt.buffer.byteLength+65535)/65536;try{pt.grow(u),vt();var f=1;break t}catch{}f=void 0}if(f)return!0}return!1},Wc:Yr,Xc:qr,Kc:We,Ab:Jr,Sb:Kr,Tc:Xr,Rb:Zr,hb:Qn,fd:cc,sa:Vi,G:Xi,pa:la,fa:Xn,gd:ic,ld:Ji,O:Bo,A:Gn,c:Un,cc:Gi,ta:G,f:Wn,Db:Yi,i:In,X:Ii,j:Nn,hd:oc,k:$n,r:Hn,s:Kn,p:Vn,Ra:io,Wa:Ma,ha:po,Ob:jo,_a:qo,Hb:Ca,lb:W,hc:xi,vc:yo,ec:Li,fc:Bi,_b:nc,ja:pa,xb:uo,ya:Fi,Cb:ec,da:Oa,gc:Ui,Pa:Ko,F:Rn,L:Do,Fb:Wi,qd:Ri,oa:a,M:Uo,$:Io,U:Zo,z:Yn,Eb:Ni,dc:Hi,C:gr,Gb:Si,pd:$i,Qa:Yo,cb:Aa,ic:Ci,$b:rc,Lb:ya,W:Zn,H:lo,D:So,bb:Ai,Q:xo,e:Ln,Ya:Lo,l:Bn,xa:qi,Xa:l,ub:bo,g:xn,wc:vo,ca:Pi,db:$o,za:va,kb:O,eb:To,d:zn,tc:Mo,sd:ka,o:jn,rc:Ho,m:Jn,uc:Ao,qc:No,vd:X,w:eo,Na:ra,rb:ea,Ma:na,Jb:g,B:oo,E:co,V:ho,Va:Pa,nc:n,Bd:Vo,sb:Ro,ua:Xo,ia:L,R:Go,$a:go,Ha:c,Ed:Co,jb:ac,Da:Tt,kc:Et,Ca:At,Ea:N,id:tc,Cd:zo,na:h,td:oe,Ia:dn,Ga:s,pc:ba,Fa:b,Ja:Je,nb:ma,ga:Ea,Aa:Qo,jc:Ei,oc:_a,Ib:ut,Ba:Mi,ma:Po,Qb:no,nd:zi,S:wa,vb:mo,Ua:ki,fb:_o,J:to,T:Oo,wb:fo,md:ji,aa:ao,mb:A,ra:Ta,mc:y,ac:Qi,Gd:wo,x:qn,ab:Di,xd:e,Mb:sa,lc:rt,Id:ro,Nb:ua,Kb:ga,Za:Jo,xc:so,Pb:Fo,Ka:Sa,bc:Zi,Z:fa,sc:ko,K:Wo,kd:Ki,tb:Eo,qa:da,I:ha,pb:ia,La:aa,Oa:ta,ob:ca,qb:oa,v:function(t){return t>>>0},a:pt||U.wasmMemory,Jc:tn,ea:function(t,r,o,i){return tn(t>>>0,r>>>0,o>>>0,i>>>0)}},Z=function(){var t={a:Dn};return ee++,pn(t,function(r){var o=r.module;Z=r.instance.exports,Z=uc(),et.df.push(Z.me),Tr=Z.pe,ie.unshift(Z.Jd),se=o,Xe()}).catch(yt),{}}();U._OrtInit=(t,r)=>(U._OrtInit=Z.Kd)(t,r),U._OrtGetLastError=(t,r)=>(U._OrtGetLastError=Z.Ld)(t,r),U._OrtCreateSessionOptions=(t,r,o,i,u,f,d,v,p,w)=>(U._OrtCreateSessionOptions=Z.Md)(t,r,o,i,u,f,d,v,p,w),U._OrtAppendExecutionProvider=(t,r)=>(U._OrtAppendExecutionProvider=Z.Nd)(t,r),U._OrtAddFreeDimensionOverride=(t,r,o)=>(U._OrtAddFreeDimensionOverride=Z.Od)(t,r,o),U._OrtAddSessionConfigEntry=(t,r,o)=>(U._OrtAddSessionConfigEntry=Z.Pd)(t,r,o),U._OrtReleaseSessionOptions=t=>(U._OrtReleaseSessionOptions=Z.Qd)(t),U._OrtCreateSession=(t,r,o)=>(U._OrtCreateSession=Z.Rd)(t,r,o),U._OrtReleaseSession=t=>(U._OrtReleaseSession=Z.Sd)(t),U._OrtGetInputOutputCount=(t,r,o)=>(U._OrtGetInputOutputCount=Z.Td)(t,r,o),U._OrtGetInputName=(t,r)=>(U._OrtGetInputName=Z.Ud)(t,r),U._OrtGetOutputName=(t,r)=>(U._OrtGetOutputName=Z.Vd)(t,r),U._OrtFree=t=>(U._OrtFree=Z.Wd)(t),U._OrtCreateTensor=(t,r,o,i,u,f)=>(U._OrtCreateTensor=Z.Xd)(t,r,o,i,u,f),U._OrtGetTensorData=(t,r,o,i,u)=>(U._OrtGetTensorData=Z.Yd)(t,r,o,i,u),U._OrtReleaseTensor=t=>(U._OrtReleaseTensor=Z.Zd)(t),U._OrtCreateRunOptions=(t,r,o,i)=>(U._OrtCreateRunOptions=Z._d)(t,r,o,i),U._OrtAddRunConfigEntry=(t,r,o)=>(U._OrtAddRunConfigEntry=Z.$d)(t,r,o),U._OrtReleaseRunOptions=t=>(U._OrtReleaseRunOptions=Z.ae)(t),U._OrtCreateBinding=t=>(U._OrtCreateBinding=Z.be)(t),U._OrtBindInput=(t,r,o)=>(U._OrtBindInput=Z.ce)(t,r,o),U._OrtBindOutput=(t,r,o,i)=>(U._OrtBindOutput=Z.de)(t,r,o,i),U._OrtClearBoundOutputs=t=>(U._OrtClearBoundOutputs=Z.ee)(t),U._OrtReleaseBinding=t=>(U._OrtReleaseBinding=Z.fe)(t),U._OrtRunWithBinding=(t,r,o,i,u)=>(U._OrtRunWithBinding=Z.ge)(t,r,o,i,u),U._OrtRun=(t,r,o,i,u,f,d,v)=>(U._OrtRun=Z.he)(t,r,o,i,u,f,d,v),U._OrtEndProfiling=t=>(U._OrtEndProfiling=Z.ie)(t);var Ye=U._pthread_self=()=>(Ye=U._pthread_self=Z.je)(),qe=U._malloc=t=>(qe=U._malloc=Z.ke)(t),ne=U._free=t=>(ne=U._free=Z.le)(t);U.__emscripten_tls_init=()=>(U.__emscripten_tls_init=Z.me)();var rn=t=>(rn=Z.ne)(t);U.__embind_initialize_bindings=()=>(U.__embind_initialize_bindings=Z.oe)();var nn=U.__emscripten_thread_init=(t,r,o,i,u,f)=>(nn=U.__emscripten_thread_init=Z.qe)(t,r,o,i,u,f);U.__emscripten_thread_crashed=()=>(U.__emscripten_thread_crashed=Z.re)();var on=(t,r,o,i)=>(on=Z.se)(t,r,o,i),vr=t=>(vr=Z.te)(t),yr=U.__emscripten_thread_exit=t=>(yr=U.__emscripten_thread_exit=Z.ue)(t),an=U.__emscripten_check_mailbox=()=>(an=U.__emscripten_check_mailbox=Z.ve)(),k=(t,r)=>(k=Z.we)(t,r),Pe=t=>(Pe=Z.xe)(t),cn=(t,r)=>(cn=Z.ye)(t,r),C=()=>(C=Z.ze)(),M=t=>(M=Z.Ae)(t),pr=t=>(pr=Z.Be)(t),un=t=>(un=Z.Ce)(t),sn=t=>(sn=Z.De)(t),fn=(t,r,o)=>(fn=Z.Ee)(t,r,o),hn=t=>(hn=Z.Fe)(t);function In(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Wn(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function xn(t,r,o){var i=C();try{P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function Un(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Bn(t,r){var o=C();try{P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Rn(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Ln(t){var r=C();try{P(t)()}catch(o){if(M(r),o!==o+0)throw o;k(1,0)}}function Hn(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function $n(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Nn(t,r,o,i,u){var f=C();try{return P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function zn(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function jn(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Gn(t){var r=C();try{return P(t)()}catch(o){if(M(r),o!==o+0)throw o;k(1,0)}}function Yn(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function qn(t,r,o){var i=C();try{P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function Jn(t,r,o,i,u,f){var d=C();try{P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Kn(t,r,o,i,u,f,d,v){var p=C();try{return P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function Xn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Zn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;return k(1,0),0n}}function Qn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Vn(t,r,o,i,u,f,d,v,p){var w=C();try{return P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function to(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function eo(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function ro(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function no(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function oo(t,r,o,i,u,f,d,v){var p=C();try{P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function ao(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function io(t,r,o,i,u,f,d,v,p,w){var _=C();try{return P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function co(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function uo(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function so(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function fo(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function ho(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function lo(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;return k(1,0),0n}}function vo(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function yo(t,r,o,i,u,f,d,v,p){var w=C();try{return P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function po(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function go(t,r,o,i,u,f,d,v,p,w,_,I,R,m){var $=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function wo(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function mo(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function Oo(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function bo(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function _o(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function To(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Ao(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function Eo(t,r,o,i,u,f,d,v){var p=C();try{P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function So(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;return k(1,0),0n}}function Mo(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Co(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K){var nt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function ko(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j){var K=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j)}catch(nt){if(M(K),nt!==nt+0)throw nt;k(1,0)}}function Po(t,r,o,i,u,f){var d=C();try{P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Fo(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function Do(t,r,o,i,u){var f=C();try{return P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Io(t,r,o,i,u,f,d,v,p,w,_,I,R,m){var $=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function Wo(t,r){var o=C();try{P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function xo(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;return k(1,0),0n}}function Uo(t,r,o,i,u,f,d,v,p,w){var _=C();try{return P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function Bo(t,r,o,i,u){var f=C();try{return P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Ro(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$){var j=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function Lo(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Ho(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function $o(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function No(t,r,o,i,u,f,d,v){var p=C();try{P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function zo(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function jo(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K){var nt=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function Go(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function Yo(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function qo(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt){var Ct=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function Jo(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function Ko(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Xo(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function Zo(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Qo(t,r,o,i,u,f){var d=C();try{P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Vo(t,r,o,i,u,f,d,v,p,w,_,I,R,m){var $=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function ta(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt){var ot=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt)}catch(Mt){if(M(ot),Mt!==Mt+0)throw Mt;k(1,0)}}function ea(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K){var nt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function ra(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j){var K=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j)}catch(nt){if(M(K),nt!==nt+0)throw nt;k(1,0)}}function na(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$){var j=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function oa(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt,Ct){var kt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt,Ct)}catch(le){if(M(kt),le!==le+0)throw le;k(1,0)}}function aa(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot){var Mt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot)}catch(Ct){if(M(Mt),Ct!==Ct+0)throw Ct;k(1,0)}}function ia(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K){var nt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function ca(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt){var Ct=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function ua(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function sa(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function fa(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$){var j=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function ha(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function da(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function la(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function va(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function ya(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;return k(1,0),0n}}function pa(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function ga(t,r,o,i,u,f){var d=C();try{P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function wa(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function ma(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function Oa(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function ba(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function _a(t,r,o,i,u,f,d,v){var p=C();try{P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function Ta(t,r,o,i,u,f,d,v){var p=C();try{P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function Aa(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Ea(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function Sa(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function Je(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function dn(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function e(t,r,o,i,u,f){var d=C();try{P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function n(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function a(t,r,o,i,u,f,d,v){var p=C();try{return P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function c(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$){var j=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function s(t,r,o,i,u,f,d,v,p,w,_,I,R,m){var $=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function h(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$){var j=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function l(t,r,o){var i=C();try{P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function y(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function g(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function b(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt,Ct,kt,le,sc,fc,hc){var dc=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt,Ct,kt,le,sc,fc,hc)}catch(Fa){if(M(dc),Fa!==Fa+0)throw Fa;k(1,0)}}function A(t,r,o,i,u,f){var d=C();try{P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function W(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function L(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function O(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function N(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt,Ct){var kt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt,Ct)}catch(le){if(M(kt),le!==le+0)throw le;k(1,0)}}function G(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function X(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function rt(t,r,o,i,u,f,d,v,p,w,_,I,R,m){var $=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function ut(t,r,o,i,u,f,d,v){var p=C();try{P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function Tt(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K){var nt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function At(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt){var Ct=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function Et(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot){var Mt=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot)}catch(Ct){if(M(Mt),Ct!==Ct+0)throw Ct;k(1,0)}}function oe(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function Ma(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function Ca(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt){var Ct=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function ka(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Pa(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function gr(t,r,o,i,u){var f=C();try{return P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Ai(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;return k(1,0),0n}}function Ei(t,r,o,i,u,f,d){var v=C();try{P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Si(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Mi(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Ci(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function ki(t,r,o,i,u,f,d,v,p){var w=C();try{P(t)(r,o,i,u,f,d,v,p)}catch(_){if(M(w),_!==_+0)throw _;k(1,0)}}function Pi(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Fi(t,r,o,i,u,f,d,v){var p=C();try{return P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function Di(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Ii(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Wi(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function xi(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function Ui(t,r,o,i,u,f,d,v){var p=C();try{return P(t)(r,o,i,u,f,d,v)}catch(w){if(M(p),w!==w+0)throw w;k(1,0)}}function Bi(t,r,o,i,u,f,d,v,p,w,_){var I=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_)}catch(R){if(M(I),R!==R+0)throw R;k(1,0)}}function Ri(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Li(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{return P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function Hi(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function $i(t,r,o,i,u,f,d){var v=C();try{return P(t)(r,o,i,u,f,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Ni(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function zi(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function ji(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function Gi(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function Yi(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function qi(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Ji(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function Ki(t,r,o,i,u){var f=C();try{P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function Xi(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Zi(t,r,o,i,u,f,d,v,p,w,_,I,R){var m=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R)}catch($){if(M(m),$!==$+0)throw $;k(1,0)}}function Qi(t,r,o,i,u,f,d,v,p,w){var _=C();try{P(t)(r,o,i,u,f,d,v,p,w)}catch(I){if(M(_),I!==I+0)throw I;k(1,0)}}function Vi(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(f){if(M(u),f!==f+0)throw f;k(1,0)}}function tc(t,r,o,i,u,f,d,v,p,w,_,I){var R=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I)}catch(m){if(M(R),m!==m+0)throw m;k(1,0)}}function ec(t,r,o,i,u){var f=C();try{return P(t)(r,o,i,u)}catch(d){if(M(f),d!==d+0)throw d;k(1,0)}}function rc(t){var r=C();try{return P(t)()}catch(o){if(M(r),o!==o+0)throw o;return k(1,0),0n}}function nc(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function oc(t,r,o,i,u,f){var d=C();try{return P(t)(r,o,i,u,f)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function ac(t,r,o,i,u,f,d,v,p,w,_,I,R,m,$,j){var K=C();try{P(t)(r,o,i,u,f,d,v,p,w,_,I,R,m,$,j)}catch(nt){if(M(K),nt!==nt+0)throw nt;k(1,0)}}function ic(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function cc(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function uc(){var t=Z;t=Object.assign({},t);var r=i=>()=>i()>>>0,o=i=>u=>i(u)>>>0;return t.__errno_location=r(t.__errno_location),t.je=r(t.je),t.ke=o(t.ke),t.ne=o(t.ne),t.ze=r(t.ze),t.Be=o(t.Be),t}U.keepRuntimeAlive=Se,U.wasmMemory=pt,U.stackAlloc=pr,U.stackSave=C,U.stackRestore=M,U.UTF8ToString=It,U.stringToUTF8=er,U.lengthBytesUTF8=ke,U.ExitStatus=qt,U.PThread=et;var ln;ce=function t(){ln||qa(),ln||(ce=t)};function qa(){0<ee||(tt?(it(U),tt||Me(ie),startWorker(U)):(Me(Ht),0<ee||ln||(ln=!0,U.calledRun=!0,$t||(tt||Me(ie),it(U),tt||Me(pe)))))}return qa(),H.ready}})();typeof ri=="object"&&typeof Ha=="object"?Ha.exports=ei:typeof define=="function"&&define.amd&&define([],()=>ei)});var oi=wr((Hc,Oc)=>{Oc.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var ii;ii=Xa();var bc=ni(),$a,Na=!1,vn=!1,ai=!1,_c=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Tc=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Ac=(x,H)=>x?H?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":H?"ort-wasm-threaded.wasm":"ort-wasm.wasm",ci=async x=>{if(Na)return Promise.resolve();if(vn)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(ai)throw new Error("previous call to \'initializeWebAssembly()\' failed.");vn=!0;let H=x.initTimeout,T=x.numThreads,z=x.simd,Y=T>1&&_c(),Q=z&&Tc(),B=x.wasmPaths,q=typeof B=="string"?B:void 0,at=Ac(Q,Y),U=typeof B=="object"?B[at]:void 0,it=!1,yt=[];if(H>0&&yt.push(new Promise(st=>{setTimeout(()=>{it=!0,st()},H)})),yt.push(new Promise((st,ft)=>{let wt=Y?bc:ii,ht={locateFile:(lt,mt)=>Y&&lt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([oi()],{type:"text/javascript"})):lt.endsWith(".wasm")?U||(q??mt)+at:mt+lt};if(Y)if(typeof Blob>"u")ht.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let lt=`var ortWasmThreaded=${wt.toString()};`;ht.mainScriptUrlOrBlob=new Blob([lt],{type:"text/javascript"})}wt(ht).then(lt=>{vn=!1,Na=!0,$a=lt,st()},lt=>{vn=!1,ai=!0,ft(lt)})})),await Promise.race(yt),it)throw new Error(`WebAssembly backend initializing failed due to timeout: ${H}ms`)},Pt=()=>{if(Na&&$a)return $a;throw new Error("WebAssembly is not initialized yet.")};var Ft=(x,H)=>{let T=Pt(),z=T.lengthBytesUTF8(x)+1,Y=T._malloc(z);return T.stringToUTF8(x,Y,z),H.push(Y),Y},Or=(x,H,T,z)=>{if(typeof x=="object"&&x!==null){if(T.has(x))throw new Error("Circular reference in options");T.add(x)}Object.entries(x).forEach(([Y,Q])=>{let B=H?H+Y:Y;if(typeof Q=="object")Or(Q,B+".",T,z);else if(typeof Q=="string"||typeof Q=="number")z(B,Q.toString());else if(typeof Q=="boolean")z(B,Q?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof Q}`)})},St=x=>{let H=Pt(),T=H.stackSave();try{let z=H.stackAlloc(8);H._OrtGetLastError(z,z+4);let Y=H.HEAP32[z/4],Q=H.HEAPU32[z/4+1],B=Q?H.UTF8ToString(Q):"";throw new Error(`${x} ERROR_CODE: ${Y}, ERROR_MESSAGE: ${B}`)}finally{H.stackRestore(T)}};var ui=x=>{let H=Pt(),T=0,z=[],Y=x||{};try{if(x?.logSeverityLevel===void 0)Y.logSeverityLevel=2;else if(typeof x.logSeverityLevel!="number"||!Number.isInteger(x.logSeverityLevel)||x.logSeverityLevel<0||x.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${x.logSeverityLevel}`);if(x?.logVerbosityLevel===void 0)Y.logVerbosityLevel=0;else if(typeof x.logVerbosityLevel!="number"||!Number.isInteger(x.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${x.logVerbosityLevel}`);x?.terminate===void 0&&(Y.terminate=!1);let Q=0;return x?.tag!==void 0&&(Q=Ft(x.tag,z)),T=H._OrtCreateRunOptions(Y.logSeverityLevel,Y.logVerbosityLevel,!!Y.terminate,Q),T===0&&St("Can\'t create run options."),x?.extra!==void 0&&Or(x.extra,"",new WeakSet,(B,q)=>{let at=Ft(B,z),U=Ft(q,z);H._OrtAddRunConfigEntry(T,at,U)!==0&&St(`Can\'t set a run config entry: ${B} - ${q}.`)}),[T,z]}catch(Q){throw T!==0&&H._OrtReleaseRunOptions(T),z.forEach(B=>H._free(B)),Q}};var Ec=x=>{switch(x){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${x}`)}},Sc=x=>{switch(x){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${x}`)}},Mc=x=>{x.extra||(x.extra={}),x.extra.session||(x.extra.session={});let H=x.extra.session;H.use_ort_model_bytes_directly||(H.use_ort_model_bytes_directly="1"),x.executionProviders&&x.executionProviders.some(T=>(typeof T=="string"?T:T.name)==="webgpu")&&(x.enableMemPattern=!1)},Cc=(x,H,T)=>{for(let z of H){let Y=typeof z=="string"?z:z.name;switch(Y){case"xnnpack":Y="XNNPACK";break;case"webnn":if(Y="WEBNN",typeof z!="string"){let B=z;if(B?.deviceType){let q=Ft("deviceType",T),at=Ft(B.deviceType,T);Pt()._OrtAddSessionConfigEntry(x,q,at)!==0&&St(`Can\'t set a session config entry: \'deviceType\' - ${B.deviceType}.`)}if(B?.numThreads){let q=B.numThreads;(typeof q!="number"||!Number.isInteger(q)||q<0)&&(q=0);let at=Ft("numThreads",T),U=Ft(q.toString(),T);Pt()._OrtAddSessionConfigEntry(x,at,U)!==0&&St(`Can\'t set a session config entry: \'numThreads\' - ${B.numThreads}.`)}if(B?.powerPreference){let q=Ft("powerPreference",T),at=Ft(B.powerPreference,T);Pt()._OrtAddSessionConfigEntry(x,q,at)!==0&&St(`Can\'t set a session config entry: \'powerPreference\' - ${B.powerPreference}.`)}}break;case"webgpu":if(Y="JS",typeof z!="string"){let B=z;if(B?.preferredLayout){if(B.preferredLayout!=="NCHW"&&B.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${B.preferredLayout}`);let q=Ft("preferredLayout",T),at=Ft(B.preferredLayout,T);Pt()._OrtAddSessionConfigEntry(x,q,at)!==0&&St(`Can\'t set a session config entry: \'preferredLayout\' - ${B.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${Y}`)}let Q=Ft(Y,T);Pt()._OrtAppendExecutionProvider(x,Q)!==0&&St(`Can\'t append execution provider: ${Y}.`)}},si=x=>{let H=Pt(),T=0,z=[],Y=x||{};Mc(Y);try{let Q=Ec(Y.graphOptimizationLevel??"all"),B=Sc(Y.executionMode??"sequential"),q=typeof Y.logId=="string"?Ft(Y.logId,z):0,at=Y.logSeverityLevel??2;if(!Number.isInteger(at)||at<0||at>4)throw new Error(`log serverity level is not valid: ${at}`);let U=Y.logVerbosityLevel??0;if(!Number.isInteger(U)||U<0||U>4)throw new Error(`log verbosity level is not valid: ${U}`);let it=typeof Y.optimizedModelFilePath=="string"?Ft(Y.optimizedModelFilePath,z):0;if(T=H._OrtCreateSessionOptions(Q,!!Y.enableCpuMemArena,!!Y.enableMemPattern,B,!!Y.enableProfiling,0,q,at,U,it),T===0&&St("Can\'t create session options."),Y.executionProviders&&Cc(T,Y.executionProviders,z),Y.freeDimensionOverrides)for(let[yt,st]of Object.entries(Y.freeDimensionOverrides)){if(typeof yt!="string")throw new Error(`free dimension override name must be a string: ${yt}`);if(typeof st!="number"||!Number.isInteger(st)||st<0)throw new Error(`free dimension override value must be a non-negative integer: ${st}`);let ft=Ft(yt,z);H._OrtAddFreeDimensionOverride(T,ft,st)!==0&&St(`Can\'t set a free dimension override: ${yt} - ${st}.`)}return Y.extra!==void 0&&Or(Y.extra,"",new WeakSet,(yt,st)=>{let ft=Ft(yt,z),wt=Ft(st,z);H._OrtAddSessionConfigEntry(T,ft,wt)!==0&&St(`Can\'t set a session config entry: ${yt} - ${st}.`)}),[T,z]}catch(Q){throw T!==0&&H._OrtReleaseSessionOptions(T),z.forEach(B=>H._free(B)),Q}};var za=x=>{switch(x){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${x}`)}},fi=x=>{switch(x){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${x}`)}},ja=x=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][x],hi=x=>{switch(x){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${x}`)}},di=x=>{switch(x){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${x}`)}},li=x=>x==="float32"||x==="int32"||x==="int64"||x==="bool"||x==="float16"||x==="uint32",vi=x=>{switch(x){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${x}`)}};var pi=!1,kc=x=>{let H=Pt(),T=H.stackSave();try{let z=H.stackAlloc(8);return H._OrtGetInputOutputCount(x,z,z+4)!==0&&St("Can\'t get session input/output count."),[H.HEAP32[z/4],H.HEAP32[z/4+1]]}finally{H.stackRestore(T)}},Pc=(x,H)=>{Pt()._OrtInit(x,H)!==0&&St("Can\'t initialize onnxruntime.")},gi=async x=>{Pc(x.wasm.numThreads,di(x.logLevel)),pi=!0},br=new Map,wi=()=>pi,Ga=x=>{let H=Pt(),T=H._malloc(x.byteLength);if(T===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${x.byteLength}.`);return H.HEAPU8.set(x,T),[T,x.byteLength]},Ya=(x,H)=>{let T=Pt(),z=0,Y=0,Q=0,B=[],q=[],at=[];try{[Y,B]=si(H),z=T._OrtCreateSession(x[0],x[1],Y),z===0&&St("Can\'t create a session.");let[U,it]=kc(z),yt=[],st=[],ft=[];for(let ht=0;ht<U;ht++){let lt=T._OrtGetInputName(z,ht);lt===0&&St("Can\'t get an input name."),q.push(lt),yt.push(T.UTF8ToString(lt))}for(let ht=0;ht<it;ht++){let lt=T._OrtGetOutputName(z,ht);lt===0&&St("Can\'t get an output name."),at.push(lt);let mt=T.UTF8ToString(lt);st.push(mt)}let wt=null;return br.set(z,[z,q,at,wt]),[z,yt,st]}catch(U){throw q.forEach(it=>T._OrtFree(it)),at.forEach(it=>T._OrtFree(it)),Q!==0&&T._OrtReleaseBinding(Q),z!==0&&T._OrtReleaseSession(z),U}finally{T._free(x[0]),Y!==0&&T._OrtReleaseSessionOptions(Y),B.forEach(U=>T._free(U))}},mi=(x,H)=>{let T=Ga(x);return Ya(T,H)},Oi=x=>{let H=Pt(),T=br.get(x);if(!T)throw new Error(`cannot release session. invalid session id: ${x}`);let[z,Y,Q,B]=T;B&&H._OrtReleaseBinding(B.handle),H.jsepUnregisterBuffers?.(x),Y.forEach(q=>H._OrtFree(q)),Q.forEach(q=>H._OrtFree(q)),H._OrtReleaseSession(z),br.delete(x)},yi=(x,H,T,z,Y)=>{if(!x){H.push(0);return}let Q=Pt(),B=x[0],q=x[1],at=x[3],U,it;if(B==="string"&&at==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(at==="gpu-buffer"){let ft=x[2].gpuBuffer,wt=ja(za(B));it=q.reduce((ht,lt)=>ht*lt,1)*wt,U=Q.jsepRegisterBuffer(z,Y,ft,it)}else{let ft=x[2];if(Array.isArray(ft)){it=4*ft.length,U=Q._malloc(it),T.push(U);let wt=U/4;for(let ht=0;ht<ft.length;ht++){if(typeof ft[ht]!="string")throw new TypeError(`tensor data at index ${ht} is not a string`);Q.HEAPU32[wt++]=Ft(ft[ht],T)}}else it=ft.byteLength,U=Q._malloc(it),T.push(U),Q.HEAPU8.set(new Uint8Array(ft.buffer,ft.byteOffset,it),U)}let yt=Q.stackSave(),st=Q.stackAlloc(4*q.length);try{let ft=st/4;q.forEach(ht=>Q.HEAP32[ft++]=ht);let wt=Q._OrtCreateTensor(za(B),U,it,st,q.length,vi(at));wt===0&&St(`Can\'t create tensor for input/output. session=${z}, index=${Y}.`),H.push(wt)}finally{Q.stackRestore(yt)}},bi=async(x,H,T,z,Y,Q)=>{let B=Pt(),q=br.get(x);if(!q)throw new Error(`cannot run inference. invalid session id: ${x}`);let[at,U,it,yt]=q,st=H.length,ft=z.length,wt=0,ht=[],lt=[],mt=[],tt=[],xt=B.stackSave(),Lt=B.stackAlloc(st*4),bt=B.stackAlloc(st*4),Gt=B.stackAlloc(ft*4),Qt=B.stackAlloc(ft*4);try{[wt,ht]=ui(Q);for(let dt=0;dt<st;dt++)yi(T[dt],lt,tt,x,H[dt]);for(let dt=0;dt<ft;dt++)yi(Y[dt],mt,tt,x,st+z[dt]);let J=Lt/4,ct=bt/4,be=Gt/4,_e=Qt/4;for(let dt=0;dt<st;dt++)B.HEAPU32[J++]=lt[dt],B.HEAPU32[ct++]=U[H[dt]];for(let dt=0;dt<ft;dt++)B.HEAPU32[be++]=mt[dt],B.HEAPU32[_e++]=it[z[dt]];let Te;Te=await B._OrtRun(at,bt,Lt,st,Qt,ft,Gt,wt),Te!==0&&St("failed to call OrtRun().");let Dt=[];for(let dt=0;dt<ft;dt++){let pt=B.HEAPU32[Gt/4+dt];if(pt===mt[dt]){Dt.push(Y[dt]);continue}let se=B.stackSave(),$t=B.stackAlloc(4*4),Ut=!1,gt,Wt=0;try{B._OrtGetTensorData(pt,$t,$t+4,$t+8,$t+12)!==0&&St(`Can\'t access output tensor data on index ${dt}.`);let ae=$t/4,Vt=B.HEAPU32[ae++];Wt=B.HEAPU32[ae++];let ye=B.HEAPU32[ae++],Ae=B.HEAPU32[ae++],Nt=[];for(let vt=0;vt<Ae;vt++)Nt.push(B.HEAPU32[ye/4+vt]);B._OrtFree(ye);let te=Nt.reduce((vt,_t)=>vt*_t,1);gt=fi(Vt);let Ee=yt?.outputPreferredLocations[z[dt]];if(gt==="string"){if(Ee==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let vt=[],_t=Wt/4;for(let Ht=0;Ht<te;Ht++){let ie=B.HEAPU32[_t++],pe=Ht===te-1?void 0:B.HEAPU32[_t]-ie;vt.push(B.UTF8ToString(ie,pe))}Dt.push([gt,Nt,vt,"cpu"])}else if(Ee==="gpu-buffer"&&te>0){let vt=B.jsepGetBuffer(Wt),_t=ja(Vt);if(_t===void 0||!li(gt))throw new Error(`Unsupported data type: ${gt}`);Ut=!0,Dt.push([gt,Nt,{gpuBuffer:vt,download:B.jsepCreateDownloader(vt,te*_t,gt),dispose:()=>{B._OrtReleaseTensor(pt)}},"gpu-buffer"])}else{let vt=hi(gt),_t=new vt(te);new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength).set(B.HEAPU8.subarray(Wt,Wt+_t.byteLength)),Dt.push([gt,Nt,_t,"cpu"])}}finally{B.stackRestore(se),gt==="string"&&Wt&&B._free(Wt),Ut||B._OrtReleaseTensor(pt)}}return yt&&B._OrtClearBoundOutputs(yt.handle),Dt}finally{B.stackRestore(xt),lt.forEach(J=>B._OrtReleaseTensor(J)),mt.forEach(J=>B._OrtReleaseTensor(J)),tt.forEach(J=>B._free(J)),wt!==0&&B._OrtReleaseRunOptions(wt),ht.forEach(J=>B._free(J))}},_i=x=>{let H=Pt(),T=br.get(x);if(!T)throw new Error("invalid session id");let z=T[0],Y=H._OrtEndProfiling(z);Y===0&&St("Can\'t get an profile file name."),H._OrtFree(Y)},Ti=x=>{let H=[];for(let T of x){let z=T[2];!Array.isArray(z)&&"buffer"in z&&H.push(z.buffer)}return H};self.onmessage=x=>{switch(x.data.type){case"init-wasm":try{ci(x.data.in).then(()=>postMessage({type:"init-wasm"}),H=>postMessage({type:"init-wasm",err:H}))}catch(H){postMessage({type:"init-wasm",err:H})}break;case"init-ort":try{gi(x.data.in).then(()=>postMessage({type:"init-ort"}),H=>postMessage({type:"init-ort",err:H}))}catch(H){postMessage({type:"init-ort",err:H})}break;case"create_allocate":try{let{model:H}=x.data.in,T=Ga(H);postMessage({type:"create_allocate",out:T})}catch(H){postMessage({type:"create_allocate",err:H})}break;case"create_finalize":try{let{modeldata:H,options:T}=x.data.in,z=Ya(H,T);postMessage({type:"create_finalize",out:z})}catch(H){postMessage({type:"create_finalize",err:H})}break;case"create":try{let{model:H,options:T}=x.data.in,z=mi(H,T);postMessage({type:"create",out:z})}catch(H){postMessage({type:"create",err:H})}break;case"release":try{Oi(x.data.in),postMessage({type:"release"})}catch(H){postMessage({type:"release",err:H})}break;case"run":try{let{sessionId:H,inputIndices:T,inputs:z,outputIndices:Y,options:Q}=x.data.in;bi(H,T,z,Y,new Array(Y.length).fill(null),Q).then(B=>{B.some(q=>q[3]!=="cpu")?postMessage({type:"run",err:"Proxy does not support non-cpu tensor location."}):postMessage({type:"run",out:B},Ti(B))},B=>{postMessage({type:"run",err:B})})}catch(H){postMessage({type:"run",err:H})}break;case"end-profiling":try{let H=x.data.in;_i(H),postMessage({type:"end-profiling"})}catch(H){postMessage({type:"end-profiling",err:H})}break;case"is-ort-env-initialized":try{let H=wi();postMessage({type:"is-ort-env-initialized",out:H})}catch(H){postMessage({type:"is-ort-env-initialized",err:H})}break;default:}};})();\n'});var Pr,Re,Aa,_c,Oc,hc,mc,yc,bc,gc,vc,wc,Tc,xc,zr,$w,Ia,Gy,Uy,Wy,zy,Ic,Hy,Vy,jy,qy,Ac=it(()=>{"use strict";nr();My();Hn();Pr=()=>!!Et.wasm.proxy&&typeof document<"u",Aa=!1,_c=!1,Oc=!1,yc=[],bc=[],gc=[],vc=[],wc=[],Tc=[],xc=[],zr=()=>{if(Aa||!_c||Oc||!Re)throw new Error("worker not ready")},$w=i=>{switch(i.data.type){case"init-wasm":Aa=!1,i.data.err?(Oc=!0,hc[1](i.data.err)):(_c=!0,hc[0]());break;case"init-ort":i.data.err?mc[1](i.data.err):mc[0]();break;case"create_allocate":i.data.err?yc.shift()[1](i.data.err):yc.shift()[0](i.data.out);break;case"create_finalize":i.data.err?bc.shift()[1](i.data.err):bc.shift()[0](i.data.out);break;case"create":i.data.err?gc.shift()[1](i.data.err):gc.shift()[0](i.data.out);break;case"release":i.data.err?vc.shift()[1](i.data.err):vc.shift()[0]();break;case"run":i.data.err?wc.shift()[1](i.data.err):wc.shift()[0](i.data.out);break;case"end-profiling":i.data.err?Tc.shift()[1](i.data.err):Tc.shift()[0]();break;case"is-ort-env-initialized":i.data.err?xc.shift()[1](i.data.err):xc.shift()[0](i.data.out);break;default:}},Ia=typeof document<"u"?document?.currentScript?.src:void 0,Gy=async()=>{if(Pr()){if(_c)return;if(Aa)throw new Error("multiple calls to 'initWasm()' detected.");if(Oc)throw new Error("previous call to 'initWasm()' failed.");return Aa=!0,Et.wasm.wasmPaths===void 0&&Ia&&Ia.indexOf("blob:")!==0&&(Et.wasm.wasmPaths=Ia.substr(0,+Ia.lastIndexOf("/")+1)),new Promise((i,e)=>{Re?.terminate();let n=URL.createObjectURL(new Blob([Ry()],{type:"text/javascript"}));Re=new Worker(n,{name:"ort-wasm-proxy-worker"}),Re.onerror=r=>e(r),Re.onmessage=$w,URL.revokeObjectURL(n),hc=[i,e];let t={type:"init-wasm",in:Et.wasm};Re.postMessage(t)})}else return wy(Et.wasm)},Uy=async i=>{if(Pr())return zr(),new Promise((e,n)=>{mc=[e,n];let t={type:"init-ort",in:i};Re.postMessage(t)});await ky(i)},Wy=async i=>Pr()?(zr(),new Promise((e,n)=>{yc.push([e,n]);let t={type:"create_allocate",in:{model:i}};Re.postMessage(t,[i.buffer])})):dc(i),zy=async(i,e)=>Pr()?(zr(),new Promise((n,t)=>{bc.push([n,t]);let r={type:"create_finalize",in:{modeldata:i,options:e}};Re.postMessage(r)})):pc(i,e),Ic=async(i,e)=>{if(Pr()){if(e?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return zr(),new Promise((n,t)=>{gc.push([n,t]);let r={type:"create",in:{model:i,options:e}};Re.postMessage(r,[i.buffer])})}else return Cy(i,e)},Hy=async i=>{if(Pr())return zr(),new Promise((e,n)=>{vc.push([e,n]);let t={type:"release",in:i};Re.postMessage(t)});Fy(i)},Vy=async(i,e,n,t,r,o)=>{if(Pr()){if(n.some(s=>s[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(r.some(s=>s))throw new Error("pre-allocated output tensor is not supported for proxy.");return zr(),new Promise((s,a)=>{wc.push([s,a]);let u=n,c={type:"run",in:{sessionId:i,inputIndices:e,inputs:u,outputIndices:t,options:o}};Re.postMessage(c,Ny(u))})}else return $y(i,e,n,t,r,o)},jy=async i=>{if(Pr())return zr(),new Promise((e,n)=>{Tc.push([e,n]);let t={type:"end-profiling",in:i};Re.postMessage(t)});By(i)},qy=async()=>Pr()?(zr(),new Promise((i,e)=>{xc.push([i,e]);let n={type:"is-ort-env-initialized"};Re.postMessage(n)})):Ly()});var Sa,Yy,Bw,Pa,Ky=it(()=>{"use strict";nr();Ac();lc();Yy=(i,e)=>{switch(i.location){case"cpu":return[i.type,i.dims,i.data,"cpu"];case"gpu-buffer":return[i.type,i.dims,{gpuBuffer:i.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${i.location} for ${e()}`)}},Bw=i=>{switch(i[3]){case"cpu":return new me(i[0],i[2],i[1]);case"gpu-buffer":{let e=i[0];if(!Oa(e))throw new Error(`not supported data type: ${e} for deserializing GPU tensor`);let{gpuBuffer:n,download:t,dispose:r}=i[2];return me.fromGpuBuffer(n,{dataType:e,dims:i[1],download:t,dispose:r})}default:throw new Error(`invalid data location: ${i[3]}`)}},Pa=class{async createSessionAllocate(e){let n=await fetch(e);if(n.status!==200)throw new Error(`failed to load model: ${e}`);let t=await n.arrayBuffer();return Wy(new Uint8Array(t))}async loadModel(e,n){if(await qy()||(Sa||(Sa=Uy(Et)),await Sa,Sa=void 0),typeof e=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let t=await(void 0)(e);[this.sessionId,this.inputNames,this.outputNames]=await Ic(t,n)}else{let t=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await zy(t,n)}else[this.sessionId,this.inputNames,this.outputNames]=await Ic(e,n)}async dispose(){return Hy(this.sessionId)}async run(e,n,t){let r=[],o=[];Object.entries(e).forEach(E=>{let N=E[0],Z=E[1],H=this.inputNames.indexOf(N);if(H===-1)throw new Error(`invalid input '${N}'`);r.push(Z),o.push(H)});let s=[],a=[];Object.entries(n).forEach(E=>{let N=E[0],Z=E[1],H=this.outputNames.indexOf(N);if(H===-1)throw new Error(`invalid output '${N}'`);s.push(Z),a.push(H)});let u=r.map((E,N)=>Yy(E,()=>`input "${this.inputNames[o[N]]}"`)),c=s.map((E,N)=>E?Yy(E,()=>`output "${this.outputNames[a[N]]}"`):null),v=await Vy(this.sessionId,o,u,a,c,t),S={};for(let E=0;E<v.length;E++)S[this.outputNames[a[E]]]=s[E]??Bw(v[E]);return S}startProfiling(){}endProfiling(){jy(this.sessionId)}}});var Nw,Ea,Xy=it(()=>{"use strict";nr();Ac();Ky();Nw=()=>{if((typeof Et.wasm.initTimeout!="number"||Et.wasm.initTimeout<0)&&(Et.wasm.initTimeout=0),typeof Et.wasm.simd!="boolean"&&(Et.wasm.simd=!0),typeof Et.wasm.proxy!="boolean"&&(Et.wasm.proxy=!1),typeof Et.wasm.numThreads!="number"||!Number.isInteger(Et.wasm.numThreads)||Et.wasm.numThreads<=0){let i=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Et.wasm.numThreads=Math.min(4,Math.ceil((i||1)/2))}},Ea=class{async init(){Nw(),await Gy()}async createInferenceSessionHandler(e,n){let t=new Pa;return await t.loadModel(e,n),Promise.resolve(t)}}});var Jy={};Zr(Jy,{wasmBackend:()=>Mw});var Mw,Zy=it(()=>{"use strict";Xy();Mw=new Ea});var Gw={};Zr(Gw,{InferenceSession:()=>Xc,Tensor:()=>me,TrainingSession:()=>tl,default:()=>Rw,env:()=>Et,registerBackend:()=>Or});module.exports=Br(Gw);nr();nr();nr();var rl="1.17.0";var Rw=Yu;{let i=(ay(),Br(iy)).onnxjsBackend;Or("webgl",i,-10)}{let i=(Zy(),Br(Jy)).wasmBackend;Or("cpu",i,10),Or("wasm",i,10),Or("xnnpack",i,9),Or("webnn",i,9)}Object.defineProperty(Et.versions,"web",{value:rl,enumerable:!0});
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=ort.all.min.js.map
